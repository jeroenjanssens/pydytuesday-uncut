{
  "metadata": {
    "id": 33015583,
    "node_id": "MDEwOlJlcG9zaXRvcnkzMzAxNTU4Mw==",
    "name": "keras",
    "full_name": "keras-team/keras",
    "private": false,
    "owner": {
      "login": "keras-team",
      "id": 34455048,
      "node_id": "MDEyOk9yZ2FuaXphdGlvbjM0NDU1MDQ4",
      "avatar_url": "https://avatars.githubusercontent.com/u/34455048?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/keras-team",
      "html_url": "https://github.com/keras-team",
      "followers_url": "https://api.github.com/users/keras-team/followers",
      "following_url": "https://api.github.com/users/keras-team/following{/other_user}",
      "gists_url": "https://api.github.com/users/keras-team/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/keras-team/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/keras-team/subscriptions",
      "organizations_url": "https://api.github.com/users/keras-team/orgs",
      "repos_url": "https://api.github.com/users/keras-team/repos",
      "events_url": "https://api.github.com/users/keras-team/events{/privacy}",
      "received_events_url": "https://api.github.com/users/keras-team/received_events",
      "type": "Organization",
      "user_view_type": "public",
      "site_admin": false
    },
    "html_url": "https://github.com/keras-team/keras",
    "description": "Deep Learning for humans",
    "fork": false,
    "url": "https://api.github.com/repos/keras-team/keras",
    "forks_url": "https://api.github.com/repos/keras-team/keras/forks",
    "keys_url": "https://api.github.com/repos/keras-team/keras/keys{/key_id}",
    "collaborators_url": "https://api.github.com/repos/keras-team/keras/collaborators{/collaborator}",
    "teams_url": "https://api.github.com/repos/keras-team/keras/teams",
    "hooks_url": "https://api.github.com/repos/keras-team/keras/hooks",
    "issue_events_url": "https://api.github.com/repos/keras-team/keras/issues/events{/number}",
    "events_url": "https://api.github.com/repos/keras-team/keras/events",
    "assignees_url": "https://api.github.com/repos/keras-team/keras/assignees{/user}",
    "branches_url": "https://api.github.com/repos/keras-team/keras/branches{/branch}",
    "tags_url": "https://api.github.com/repos/keras-team/keras/tags",
    "blobs_url": "https://api.github.com/repos/keras-team/keras/git/blobs{/sha}",
    "git_tags_url": "https://api.github.com/repos/keras-team/keras/git/tags{/sha}",
    "git_refs_url": "https://api.github.com/repos/keras-team/keras/git/refs{/sha}",
    "trees_url": "https://api.github.com/repos/keras-team/keras/git/trees{/sha}",
    "statuses_url": "https://api.github.com/repos/keras-team/keras/statuses/{sha}",
    "languages_url": "https://api.github.com/repos/keras-team/keras/languages",
    "stargazers_url": "https://api.github.com/repos/keras-team/keras/stargazers",
    "contributors_url": "https://api.github.com/repos/keras-team/keras/contributors",
    "subscribers_url": "https://api.github.com/repos/keras-team/keras/subscribers",
    "subscription_url": "https://api.github.com/repos/keras-team/keras/subscription",
    "commits_url": "https://api.github.com/repos/keras-team/keras/commits{/sha}",
    "git_commits_url": "https://api.github.com/repos/keras-team/keras/git/commits{/sha}",
    "comments_url": "https://api.github.com/repos/keras-team/keras/comments{/number}",
    "issue_comment_url": "https://api.github.com/repos/keras-team/keras/issues/comments{/number}",
    "contents_url": "https://api.github.com/repos/keras-team/keras/contents/{+path}",
    "compare_url": "https://api.github.com/repos/keras-team/keras/compare/{base}...{head}",
    "merges_url": "https://api.github.com/repos/keras-team/keras/merges",
    "archive_url": "https://api.github.com/repos/keras-team/keras/{archive_format}{/ref}",
    "downloads_url": "https://api.github.com/repos/keras-team/keras/downloads",
    "issues_url": "https://api.github.com/repos/keras-team/keras/issues{/number}",
    "pulls_url": "https://api.github.com/repos/keras-team/keras/pulls{/number}",
    "milestones_url": "https://api.github.com/repos/keras-team/keras/milestones{/number}",
    "notifications_url": "https://api.github.com/repos/keras-team/keras/notifications{?since,all,participating}",
    "labels_url": "https://api.github.com/repos/keras-team/keras/labels{/name}",
    "releases_url": "https://api.github.com/repos/keras-team/keras/releases{/id}",
    "deployments_url": "https://api.github.com/repos/keras-team/keras/deployments",
    "created_at": "2015-03-28T00:35:42Z",
    "updated_at": "2025-07-20T23:52:54Z",
    "pushed_at": "2025-07-17T00:30:00Z",
    "git_url": "git://github.com/keras-team/keras.git",
    "ssh_url": "git@github.com:keras-team/keras.git",
    "clone_url": "https://github.com/keras-team/keras.git",
    "svn_url": "https://github.com/keras-team/keras",
    "homepage": "http://keras.io/",
    "size": 47081,
    "stargazers_count": 63219,
    "watchers_count": 63219,
    "language": "Python",
    "has_issues": true,
    "has_projects": true,
    "has_downloads": true,
    "has_wiki": true,
    "has_pages": false,
    "has_discussions": true,
    "forks_count": 19589,
    "mirror_url": null,
    "archived": false,
    "disabled": false,
    "open_issues_count": 295,
    "license": {
      "key": "apache-2.0",
      "name": "Apache License 2.0",
      "spdx_id": "Apache-2.0",
      "url": "https://api.github.com/licenses/apache-2.0",
      "node_id": "MDc6TGljZW5zZTI="
    },
    "allow_forking": true,
    "is_template": false,
    "web_commit_signoff_required": false,
    "topics": [
      "data-science",
      "deep-learning",
      "jax",
      "machine-learning",
      "neural-networks",
      "python",
      "pytorch",
      "tensorflow"
    ],
    "visibility": "public",
    "forks": 19589,
    "open_issues": 295,
    "watchers": 63219,
    "default_branch": "master",
    "permissions": {
      "admin": false,
      "maintain": false,
      "push": false,
      "triage": false,
      "pull": true
    },
    "score": 1.0
  },
  "scraped_at": "2025-07-20T20:40:38.496510",
  "issues": [
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/4875",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/4875/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/4875/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/4875/events",
      "html_url": "https://github.com/keras-team/keras/issues/4875",
      "id": 198114402,
      "node_id": "MDU6SXNzdWUxOTgxMTQ0MDI=",
      "number": 4875,
      "title": "model.save and load giving different result",
      "user": {
        "login": "dipanjannag",
        "id": 1206413,
        "node_id": "MDQ6VXNlcjEyMDY0MTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1206413?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dipanjannag",
        "html_url": "https://github.com/dipanjannag",
        "followers_url": "https://api.github.com/users/dipanjannag/followers",
        "following_url": "https://api.github.com/users/dipanjannag/following{/other_user}",
        "gists_url": "https://api.github.com/users/dipanjannag/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/dipanjannag/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dipanjannag/subscriptions",
        "organizations_url": "https://api.github.com/users/dipanjannag/orgs",
        "repos_url": "https://api.github.com/users/dipanjannag/repos",
        "events_url": "https://api.github.com/users/dipanjannag/events{/privacy}",
        "received_events_url": "https://api.github.com/users/dipanjannag/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 322,
      "created_at": "2016-12-30T07:33:07Z",
      "updated_at": "2025-01-29T23:04:43Z",
      "closed_at": "2021-06-24T21:21:27Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "I am trying to save a simple LSTM model for text classification. The input of the model is padded vectorized sentences.\r\n```\r\nmodel = Sequential()\r\nmodel.add(LSTM(40, input_shape=(16, 32)))\r\nmodel.add(Dense(20))\r\nmodel.add(Dense(8, activation='softmax'))\r\nmodel.compile(loss='categorical_crossentropy', optimizer='adam', metrics=['accuracy'])\r\n```\r\n\r\nFor saving I'm using the following snippet:\r\n```\r\nfor i in range(50):\r\n    from sklearn.cross_validation import train_test_split\r\n\r\n    data_train, data_test, labels_train, labels_test = train_test_split(feature_set, dummy_y, test_size=0.1, random_state=i)\r\n    accuracy = 0.0\r\n    try:\r\n        with open('/app/accuracy', 'r') as file:\r\n            for line in file:\r\n                accuracy = float(line)\r\n    except Exception:\r\n        print(\"error\")\r\n    model.fit(data_train, labels_train, nb_epoch=50)\r\n    loss, acc = model.evaluate(feature_set, dummy_y)\r\n    if acc > accuracy:\r\n        model.save_weights(\"model.h5\", overwrite=True)\r\n        model.save('my_model.h5', overwrite=True)\r\n        print(\"Saved model to disk.\\nAccuracy:\")\r\n        print(acc)\r\n        with open('/app/accuracy', 'w') as file:\r\n            file.write('%f' % acc)\r\n```\r\nBut whenever I'm trying to load the same model\r\n```\r\nfrom keras.models import load_model\r\nmodel = load_model('my_model.h5')\r\n```\r\n\r\nI'm getting random accuracy like an untrained model. same result even when trying to load weights separately.\r\nIf I set the weights\r\n```\r\nlstmweights=model.get_weights()\r\nmodel2.set_weights(lstmweights)\r\n```\r\nlike above. It is working if `model` and `model2` are run under same session (same notebook session). If I serialize `lstmweights` and try to load it from different place, again I'm getting result like untrained model. It seems saving only the weights are not enough. So why model.save is not working. Any known point?",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/4875/reactions",
        "total_count": 131,
        "+1": 126,
        "-1": 0,
        "laugh": 5,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/4875/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/277853494",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-277853494",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 277853494,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3Nzg1MzQ5NA==",
          "user": {
            "login": "Panache1",
            "id": 9158894,
            "node_id": "MDQ6VXNlcjkxNTg4OTQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9158894?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Panache1",
            "html_url": "https://github.com/Panache1",
            "followers_url": "https://api.github.com/users/Panache1/followers",
            "following_url": "https://api.github.com/users/Panache1/following{/other_user}",
            "gists_url": "https://api.github.com/users/Panache1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Panache1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Panache1/subscriptions",
            "organizations_url": "https://api.github.com/users/Panache1/orgs",
            "repos_url": "https://api.github.com/users/Panache1/repos",
            "events_url": "https://api.github.com/users/Panache1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Panache1/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-02-06T23:54:42Z",
          "updated_at": "2017-02-06T23:54:42Z",
          "author_association": "NONE",
          "body": "I'm having a similar problem, but it has to do with setting stateful=True.  If I do that, the prediction from the original model is different from the prediction of the saved and reloaded model.\r\n\r\n`# DEPENDENCIES\r\nimport numpy as np\r\n\r\nfrom keras.models import Sequential\r\nfrom keras.layers.core import Dense, Activation\r\nfrom keras.layers.recurrent import LSTM\r\n\r\n# TRAINING AND VALIDATION FILES\r\nxTrain = np.random.rand(200,10)\r\nyTrain = np.random.rand(200,1)\r\nxVal = np.random.rand(100,10)\r\nyVal = np.random.rand(100,1)\r\n       \r\n# ADD 3RD DIMENSION TO DATA\r\nxTrain = xTrain.reshape(len(xTrain), 1, xTrain.shape[1])                \r\nxVal = xVal.reshape(len(xVal), 1, xVal.shape[1])   \r\n\r\n# CREATE MODEL\r\nmodel = Sequential()\r\nmodel.add(LSTM(200, batch_input_shape=(10, 1, xTrain.shape[2])\r\n        #, stateful=True # With this line, the reloaded model generates different predictions than the original model\r\n        ))\r\nmodel.add(Dense(yTrain.shape[1]))\r\nmodel.add(Activation(\"linear\"))\r\n    \r\nmodel.compile(loss=\"mean_squared_error\", optimizer=\"rmsprop\")\r\nmodel.fit(xTrain, yTrain,\r\n        batch_size=10, nb_epoch=2,\r\n        verbose=0,\r\n        shuffle='False', \r\n        validation_data=(xVal, yVal))\r\n        \r\n# PREDICT RESULTS ON VALIDATION DATA\r\nyFit = model.predict(xVal, batch_size=10, verbose=1)\r\nprint()\r\nprint(yFit)  \r\n\r\n# SAVE MODEL\r\nmodel.save('my_model.h5')\r\ndel model\r\n\r\n# RELOAD MODEL\r\nfrom keras.models import load_model\r\nmodel = load_model('my_model.h5')\r\nyFit = model.predict(xVal, batch_size=10, verbose=1)\r\nprint()\r\nprint(yFit)\r\n\r\n# DO IT AGAIN\r\ndel model\r\nmodel = load_model('my_model.h5')\r\nyFit = model.predict(xVal, batch_size=10, verbose=1)\r\nprint()\r\nprint(yFit)`\r\n\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/277853494/reactions",
            "total_count": 12,
            "+1": 11,
            "-1": 1,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/285881908",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-285881908",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 285881908,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTg4MTkwOA==",
          "user": {
            "login": "fighting41love",
            "id": 11475294,
            "node_id": "MDQ6VXNlcjExNDc1Mjk0",
            "avatar_url": "https://avatars.githubusercontent.com/u/11475294?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fighting41love",
            "html_url": "https://github.com/fighting41love",
            "followers_url": "https://api.github.com/users/fighting41love/followers",
            "following_url": "https://api.github.com/users/fighting41love/following{/other_user}",
            "gists_url": "https://api.github.com/users/fighting41love/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fighting41love/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fighting41love/subscriptions",
            "organizations_url": "https://api.github.com/users/fighting41love/orgs",
            "repos_url": "https://api.github.com/users/fighting41love/repos",
            "events_url": "https://api.github.com/users/fighting41love/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fighting41love/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-11T17:17:10Z",
          "updated_at": "2017-03-11T17:17:10Z",
          "author_association": "NONE",
          "body": "Same problem. Is there sth wrong with the function \"save model\"?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/285881908/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/286627215",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-286627215",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 286627215,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjYyNzIxNQ==",
          "user": {
            "login": "bibhashthakur",
            "id": 20039814,
            "node_id": "MDQ6VXNlcjIwMDM5ODE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/20039814?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bibhashthakur",
            "html_url": "https://github.com/bibhashthakur",
            "followers_url": "https://api.github.com/users/bibhashthakur/followers",
            "following_url": "https://api.github.com/users/bibhashthakur/following{/other_user}",
            "gists_url": "https://api.github.com/users/bibhashthakur/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bibhashthakur/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bibhashthakur/subscriptions",
            "organizations_url": "https://api.github.com/users/bibhashthakur/orgs",
            "repos_url": "https://api.github.com/users/bibhashthakur/repos",
            "events_url": "https://api.github.com/users/bibhashthakur/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bibhashthakur/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-15T03:01:13Z",
          "updated_at": "2017-03-15T03:01:38Z",
          "author_association": "NONE",
          "body": "I am having the exact same issue. Does anyone know exactly what the problem is?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/286627215/reactions",
            "total_count": 88,
            "+1": 88,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/291598808",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-291598808",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 291598808,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTU5ODgwOA==",
          "user": {
            "login": "FTAsr",
            "id": 20303825,
            "node_id": "MDQ6VXNlcjIwMzAzODI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/20303825?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/FTAsr",
            "html_url": "https://github.com/FTAsr",
            "followers_url": "https://api.github.com/users/FTAsr/followers",
            "following_url": "https://api.github.com/users/FTAsr/following{/other_user}",
            "gists_url": "https://api.github.com/users/FTAsr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/FTAsr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/FTAsr/subscriptions",
            "organizations_url": "https://api.github.com/users/FTAsr/orgs",
            "repos_url": "https://api.github.com/users/FTAsr/repos",
            "events_url": "https://api.github.com/users/FTAsr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/FTAsr/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-04-04T18:58:35Z",
          "updated_at": "2017-04-04T18:58:58Z",
          "author_association": "NONE",
          "body": "Same issue using json format for saving a very simple model. I get different results on my test data before and after save/loading the model.\r\n\r\nclassifier = train(model, trainSet, devSet)    \r\n## TEST BEFORE SAVING\r\ntest(model, classifier, testSet)\r\n\r\n## save model to json\r\nmodel_json = classifier.to_json()\r\nwith open('../data/local/SICK-Classifier', \"w\") as json_file:\r\n        json_file.write(model_json)  \r\n## load model fron json\r\njson_file = open('../data/local/SICK-Classifier', 'r')\r\nloaded_model_json = json_file.read()\r\njson_file.close()\r\nclassifier = model_from_json(loaded_model_json)\r\n\r\n## TEST AFTER SAVING\r\ntest(model, classifier, testSet)\r\n    ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/291598808/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/296322560",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-296322560",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 296322560,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5NjMyMjU2MA==",
          "user": {
            "login": "HarshaVardhanP",
            "id": 5204400,
            "node_id": "MDQ6VXNlcjUyMDQ0MDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5204400?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HarshaVardhanP",
            "html_url": "https://github.com/HarshaVardhanP",
            "followers_url": "https://api.github.com/users/HarshaVardhanP/followers",
            "following_url": "https://api.github.com/users/HarshaVardhanP/following{/other_user}",
            "gists_url": "https://api.github.com/users/HarshaVardhanP/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HarshaVardhanP/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HarshaVardhanP/subscriptions",
            "organizations_url": "https://api.github.com/users/HarshaVardhanP/orgs",
            "repos_url": "https://api.github.com/users/HarshaVardhanP/repos",
            "events_url": "https://api.github.com/users/HarshaVardhanP/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HarshaVardhanP/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-04-21T22:48:21Z",
          "updated_at": "2017-04-22T22:48:08Z",
          "author_association": "NONE",
          "body": "I crosschecked all these functions - they seem to be working properly. \r\nmodel.save(), load_model(), model.save_weights() and model.load_weights()",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/296322560/reactions",
            "total_count": 135,
            "+1": 0,
            "-1": 133,
            "laugh": 0,
            "hooray": 0,
            "confused": 2,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/296696536",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-296696536",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 296696536,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5NjY5NjUzNg==",
          "user": {
            "login": "kswersky",
            "id": 532290,
            "node_id": "MDQ6VXNlcjUzMjI5MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/532290?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kswersky",
            "html_url": "https://github.com/kswersky",
            "followers_url": "https://api.github.com/users/kswersky/followers",
            "following_url": "https://api.github.com/users/kswersky/following{/other_user}",
            "gists_url": "https://api.github.com/users/kswersky/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kswersky/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kswersky/subscriptions",
            "organizations_url": "https://api.github.com/users/kswersky/orgs",
            "repos_url": "https://api.github.com/users/kswersky/repos",
            "events_url": "https://api.github.com/users/kswersky/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kswersky/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-04-24T15:01:51Z",
          "updated_at": "2017-04-24T15:01:51Z",
          "author_association": "NONE",
          "body": "I ran into a similar issue. After saving my model, the weights were changed and my predictions became random.\r\n\r\nFor my own case, it came down to how I was mixing vanilla Tensorflow with Keras. It turns out that Keras implicitly runs tf.global_variables_initializer if you don't tell it that you will do so manually. This means that in trying to save my model, it was first re-initializing all of the weights.\r\n\r\nThe flag to prevent Keras from doing this is _MANUAL_VAR_INIT in the tensorflow backend. You can turn it on like this, before training your model:\r\n\r\n`from keras.backend import manual_variable_initialization\r\nmanual_variable_initialization(True)`\r\n\r\nHope this helps!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/296696536/reactions",
            "total_count": 29,
            "+1": 23,
            "-1": 6,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/296699700",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-296699700",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 296699700,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5NjY5OTcwMA==",
          "user": {
            "login": "HarshaVardhanP",
            "id": 5204400,
            "node_id": "MDQ6VXNlcjUyMDQ0MDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5204400?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HarshaVardhanP",
            "html_url": "https://github.com/HarshaVardhanP",
            "followers_url": "https://api.github.com/users/HarshaVardhanP/followers",
            "following_url": "https://api.github.com/users/HarshaVardhanP/following{/other_user}",
            "gists_url": "https://api.github.com/users/HarshaVardhanP/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HarshaVardhanP/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HarshaVardhanP/subscriptions",
            "organizations_url": "https://api.github.com/users/HarshaVardhanP/orgs",
            "repos_url": "https://api.github.com/users/HarshaVardhanP/repos",
            "events_url": "https://api.github.com/users/HarshaVardhanP/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HarshaVardhanP/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-04-24T15:10:45Z",
          "updated_at": "2017-04-24T15:13:53Z",
          "author_association": "NONE",
          "body": "Hi @kswersky,\r\n\r\nThanks for your answer. \r\n\r\nI am using Keras 2.0 with Tensorflow 1.0 setup. I am building model in Keras and using Tensorflow pipeline for training and testing. When you load the keras model, it might reinitialize the weights. I avoided  tf.global_variables_initializer() and  used load_weights('saved_model.h5'). Then model got the saved weights and I was able to reproduce correct results. I did not have to do the _manual_var_init step. (its a very good answer for just Keras)\r\n\r\nMay be I confused people who are just using Keras. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/296699700/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/299726077",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-299726077",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 299726077,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTcyNjA3Nw==",
          "user": {
            "login": "pras135",
            "id": 19614603,
            "node_id": "MDQ6VXNlcjE5NjE0NjAz",
            "avatar_url": "https://avatars.githubusercontent.com/u/19614603?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pras135",
            "html_url": "https://github.com/pras135",
            "followers_url": "https://api.github.com/users/pras135/followers",
            "following_url": "https://api.github.com/users/pras135/following{/other_user}",
            "gists_url": "https://api.github.com/users/pras135/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pras135/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pras135/subscriptions",
            "organizations_url": "https://api.github.com/users/pras135/orgs",
            "repos_url": "https://api.github.com/users/pras135/repos",
            "events_url": "https://api.github.com/users/pras135/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pras135/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-07T18:45:42Z",
          "updated_at": "2017-05-07T18:46:28Z",
          "author_association": "NONE",
          "body": "Use model.model.save() instead of model.save()",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/299726077/reactions",
            "total_count": 100,
            "+1": 0,
            "-1": 94,
            "laugh": 0,
            "hooray": 0,
            "confused": 6,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/300764534",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-300764534",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 300764534,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDc2NDUzNA==",
          "user": {
            "login": "lotempeledGong",
            "id": 25764001,
            "node_id": "MDQ6VXNlcjI1NzY0MDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25764001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lotempeledGong",
            "html_url": "https://github.com/lotempeledGong",
            "followers_url": "https://api.github.com/users/lotempeledGong/followers",
            "following_url": "https://api.github.com/users/lotempeledGong/following{/other_user}",
            "gists_url": "https://api.github.com/users/lotempeledGong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lotempeledGong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lotempeledGong/subscriptions",
            "organizations_url": "https://api.github.com/users/lotempeledGong/orgs",
            "repos_url": "https://api.github.com/users/lotempeledGong/repos",
            "events_url": "https://api.github.com/users/lotempeledGong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lotempeledGong/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-11T11:42:17Z",
          "updated_at": "2017-05-11T11:42:17Z",
          "author_association": "NONE",
          "body": "I'm stuck with the same problem. The only solution for now is move to python 2.7 ?\r\n\r\n@pras135 , if I do as you suggest I cannot perform model.predict_classes(x), AttributeError: 'Model' object has no attribute 'predict_classes'",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/300764534/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 1,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/300926296",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-300926296",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 300926296,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDkyNjI5Ng==",
          "user": {
            "login": "kefth",
            "id": 4009715,
            "node_id": "MDQ6VXNlcjQwMDk3MTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4009715?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kefth",
            "html_url": "https://github.com/kefth",
            "followers_url": "https://api.github.com/users/kefth/followers",
            "following_url": "https://api.github.com/users/kefth/following{/other_user}",
            "gists_url": "https://api.github.com/users/kefth/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kefth/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kefth/subscriptions",
            "organizations_url": "https://api.github.com/users/kefth/orgs",
            "repos_url": "https://api.github.com/users/kefth/repos",
            "events_url": "https://api.github.com/users/kefth/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kefth/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-11T21:47:39Z",
          "updated_at": "2017-05-11T21:47:39Z",
          "author_association": "NONE",
          "body": "Same issue here. When I load a saved model my predictions are random. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/300926296/reactions",
            "total_count": 42,
            "+1": 42,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/301012375",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-301012375",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 301012375,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTAxMjM3NQ==",
          "user": {
            "login": "pras135",
            "id": 19614603,
            "node_id": "MDQ6VXNlcjE5NjE0NjAz",
            "avatar_url": "https://avatars.githubusercontent.com/u/19614603?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pras135",
            "html_url": "https://github.com/pras135",
            "followers_url": "https://api.github.com/users/pras135/followers",
            "following_url": "https://api.github.com/users/pras135/following{/other_user}",
            "gists_url": "https://api.github.com/users/pras135/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pras135/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pras135/subscriptions",
            "organizations_url": "https://api.github.com/users/pras135/orgs",
            "repos_url": "https://api.github.com/users/pras135/repos",
            "events_url": "https://api.github.com/users/pras135/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pras135/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-12T08:08:44Z",
          "updated_at": "2017-05-12T08:08:44Z",
          "author_association": "NONE",
          "body": "@lotempeledGong \r\n\r\nmodel_1 = model.model.save('abcd.h5') # save the model as abcd.h5\r\nfrom keras.models import load_model\r\nmodel_1 = load_model('abcd.h5') # load the saved model\r\ny_score = model_1.predict_classes(data_to_predict) # supply data_to_predict\r\n\r\nHope it helps.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/301012375/reactions",
            "total_count": 35,
            "+1": 0,
            "-1": 35,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/301049175",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-301049175",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 301049175,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTA0OTE3NQ==",
          "user": {
            "login": "lotempeledGong",
            "id": 25764001,
            "node_id": "MDQ6VXNlcjI1NzY0MDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25764001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lotempeledGong",
            "html_url": "https://github.com/lotempeledGong",
            "followers_url": "https://api.github.com/users/lotempeledGong/followers",
            "following_url": "https://api.github.com/users/lotempeledGong/following{/other_user}",
            "gists_url": "https://api.github.com/users/lotempeledGong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lotempeledGong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lotempeledGong/subscriptions",
            "organizations_url": "https://api.github.com/users/lotempeledGong/orgs",
            "repos_url": "https://api.github.com/users/lotempeledGong/repos",
            "events_url": "https://api.github.com/users/lotempeledGong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lotempeledGong/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-12T11:07:42Z",
          "updated_at": "2017-05-12T11:07:42Z",
          "author_association": "NONE",
          "body": "@pras135 What you suggested is in the same session, and it does work. Unfortunately I need this to work in separate sessions, and if you do the following:\r\n\r\n(in first python session)\r\nmodel_1 = model.model.save('abcd.h5') # save the model as abcd.h5\r\n(close python session)\r\n(open second python session)\r\nmodel_1 = load_model('abcd.h5') # load the saved model\r\ny_score = model_1.predict_classes(data_to_predict) # supply data_to_predict\r\n\r\nI receive the following error: AttributeError: 'Model' object has no attribute 'predict_classes'",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/301049175/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/301062428",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-301062428",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 301062428,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTA2MjQyOA==",
          "user": {
            "login": "dipanjannag",
            "id": 1206413,
            "node_id": "MDQ6VXNlcjEyMDY0MTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1206413?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dipanjannag",
            "html_url": "https://github.com/dipanjannag",
            "followers_url": "https://api.github.com/users/dipanjannag/followers",
            "following_url": "https://api.github.com/users/dipanjannag/following{/other_user}",
            "gists_url": "https://api.github.com/users/dipanjannag/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dipanjannag/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dipanjannag/subscriptions",
            "organizations_url": "https://api.github.com/users/dipanjannag/orgs",
            "repos_url": "https://api.github.com/users/dipanjannag/repos",
            "events_url": "https://api.github.com/users/dipanjannag/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dipanjannag/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-12T12:23:45Z",
          "updated_at": "2017-05-12T12:23:45Z",
          "author_association": "NONE",
          "body": "@lotempeledGong That should not happen. Check if `load_model` means same as `keras.models.load_model` in your context. This should work just fine.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/301062428/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/301416594",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-301416594",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 301416594,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTQxNjU5NA==",
          "user": {
            "login": "lotempeledGong",
            "id": 25764001,
            "node_id": "MDQ6VXNlcjI1NzY0MDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25764001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lotempeledGong",
            "html_url": "https://github.com/lotempeledGong",
            "followers_url": "https://api.github.com/users/lotempeledGong/followers",
            "following_url": "https://api.github.com/users/lotempeledGong/following{/other_user}",
            "gists_url": "https://api.github.com/users/lotempeledGong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lotempeledGong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lotempeledGong/subscriptions",
            "organizations_url": "https://api.github.com/users/lotempeledGong/orgs",
            "repos_url": "https://api.github.com/users/lotempeledGong/repos",
            "events_url": "https://api.github.com/users/lotempeledGong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lotempeledGong/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-15T08:57:34Z",
          "updated_at": "2017-05-15T08:57:34Z",
          "author_association": "NONE",
          "body": "@deeiip  thanks, but this still doesn't work for me. However this is not my main problem here. What I want eventually is to train a model, save it, close the python session and in a new python session load the trained model and obtain the same accuracy. Currently when I try to do this, the loaded model gives random predictions and it is as though it wasn't trained. \r\nBy the way, in case this is a versions issue- I'm running with Keras 2.0.4 with Tensorflow 1.1.0 backend on Python 3.5.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/301416594/reactions",
            "total_count": 62,
            "+1": 57,
            "-1": 0,
            "laugh": 5,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/301759589",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-301759589",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 301759589,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTc1OTU4OQ==",
          "user": {
            "login": "BBarbosa",
            "id": 7063937,
            "node_id": "MDQ6VXNlcjcwNjM5Mzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7063937?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/BBarbosa",
            "html_url": "https://github.com/BBarbosa",
            "followers_url": "https://api.github.com/users/BBarbosa/followers",
            "following_url": "https://api.github.com/users/BBarbosa/following{/other_user}",
            "gists_url": "https://api.github.com/users/BBarbosa/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/BBarbosa/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/BBarbosa/subscriptions",
            "organizations_url": "https://api.github.com/users/BBarbosa/orgs",
            "repos_url": "https://api.github.com/users/BBarbosa/repos",
            "events_url": "https://api.github.com/users/BBarbosa/events{/privacy}",
            "received_events_url": "https://api.github.com/users/BBarbosa/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-16T11:57:56Z",
          "updated_at": "2017-05-16T11:57:56Z",
          "author_association": "NONE",
          "body": "@lotempeledGong I'm facing exactly the same issue you refer here. However, I'm using Tensorflow 1.1 and TFlearn 0.3 on Windows10 with Python 3.5.2. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/301759589/reactions",
            "total_count": 8,
            "+1": 8,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304198453",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-304198453",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 304198453,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDE5ODQ1Mw==",
          "user": {
            "login": "chenlihuang",
            "id": 17996946,
            "node_id": "MDQ6VXNlcjE3OTk2OTQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/17996946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chenlihuang",
            "html_url": "https://github.com/chenlihuang",
            "followers_url": "https://api.github.com/users/chenlihuang/followers",
            "following_url": "https://api.github.com/users/chenlihuang/following{/other_user}",
            "gists_url": "https://api.github.com/users/chenlihuang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chenlihuang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chenlihuang/subscriptions",
            "organizations_url": "https://api.github.com/users/chenlihuang/orgs",
            "repos_url": "https://api.github.com/users/chenlihuang/repos",
            "events_url": "https://api.github.com/users/chenlihuang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chenlihuang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-26T05:54:20Z",
          "updated_at": "2017-05-26T05:54:20Z",
          "author_association": "NONE",
          "body": "@deeiip  have you solved this problem? how to?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304198453/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304198721",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-304198721",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 304198721,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDE5ODcyMQ==",
          "user": {
            "login": "chenlihuang",
            "id": 17996946,
            "node_id": "MDQ6VXNlcjE3OTk2OTQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/17996946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chenlihuang",
            "html_url": "https://github.com/chenlihuang",
            "followers_url": "https://api.github.com/users/chenlihuang/followers",
            "following_url": "https://api.github.com/users/chenlihuang/following{/other_user}",
            "gists_url": "https://api.github.com/users/chenlihuang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chenlihuang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chenlihuang/subscriptions",
            "organizations_url": "https://api.github.com/users/chenlihuang/orgs",
            "repos_url": "https://api.github.com/users/chenlihuang/repos",
            "events_url": "https://api.github.com/users/chenlihuang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chenlihuang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-26T05:56:38Z",
          "updated_at": "2017-05-26T05:56:38Z",
          "author_association": "NONE",
          "body": "@kswersky  l add the from keras.backend import manual_variable_initialization\r\nmanual_variable_initialization(True) but the error came:\r\ntensorflow.python.framework.errors_impl.FailedPreconditionError: Attempting to use uninitialized value Variable\r\n\t [[Node: Variable/_24 = _Send[T=DT_FLOAT, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_8_Variable\", _device=\"/job:localhost/replica:0/task:0/gpu:0\"](Variable)]]\r\n\t [[Node: Variable_1/_27 = _Recv[_start_time=0, client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/cpu:0\", send_device=\"/job:localhost/replica:0/task:0/gpu:0\", send_device_incarnation=1, tensor_name=\"edge_10_Variable_1\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]()]]\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304198721/reactions",
            "total_count": 20,
            "+1": 20,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304198889",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-304198889",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 304198889,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDE5ODg4OQ==",
          "user": {
            "login": "chenlihuang",
            "id": 17996946,
            "node_id": "MDQ6VXNlcjE3OTk2OTQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/17996946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chenlihuang",
            "html_url": "https://github.com/chenlihuang",
            "followers_url": "https://api.github.com/users/chenlihuang/followers",
            "following_url": "https://api.github.com/users/chenlihuang/following{/other_user}",
            "gists_url": "https://api.github.com/users/chenlihuang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chenlihuang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chenlihuang/subscriptions",
            "organizations_url": "https://api.github.com/users/chenlihuang/orgs",
            "repos_url": "https://api.github.com/users/chenlihuang/repos",
            "events_url": "https://api.github.com/users/chenlihuang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chenlihuang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-26T05:57:54Z",
          "updated_at": "2017-05-26T05:57:54Z",
          "author_association": "NONE",
          "body": "@HarshaVardhanP  how to avoided tf.global_variables_initializer() before load model?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304198889/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304345849",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-304345849",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 304345849,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDM0NTg0OQ==",
          "user": {
            "login": "HarshaVardhanP",
            "id": 5204400,
            "node_id": "MDQ6VXNlcjUyMDQ0MDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5204400?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HarshaVardhanP",
            "html_url": "https://github.com/HarshaVardhanP",
            "followers_url": "https://api.github.com/users/HarshaVardhanP/followers",
            "following_url": "https://api.github.com/users/HarshaVardhanP/following{/other_user}",
            "gists_url": "https://api.github.com/users/HarshaVardhanP/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HarshaVardhanP/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HarshaVardhanP/subscriptions",
            "organizations_url": "https://api.github.com/users/HarshaVardhanP/orgs",
            "repos_url": "https://api.github.com/users/HarshaVardhanP/repos",
            "events_url": "https://api.github.com/users/HarshaVardhanP/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HarshaVardhanP/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-26T17:43:32Z",
          "updated_at": "2017-05-26T17:43:46Z",
          "author_association": "NONE",
          "body": "@chenlihuang Now, I am using tf.global_variables_initializer(). It will init net variables. And use load_weights() to load the saved weights. This seems easier for me than using load_model().   ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304345849/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304420491",
          "html_url": "https://github.com/keras-team/keras/issues/4875#issuecomment-304420491",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4875",
          "id": 304420491,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDQyMDQ5MQ==",
          "user": {
            "login": "chenlihuang",
            "id": 17996946,
            "node_id": "MDQ6VXNlcjE3OTk2OTQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/17996946?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chenlihuang",
            "html_url": "https://github.com/chenlihuang",
            "followers_url": "https://api.github.com/users/chenlihuang/followers",
            "following_url": "https://api.github.com/users/chenlihuang/following{/other_user}",
            "gists_url": "https://api.github.com/users/chenlihuang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chenlihuang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chenlihuang/subscriptions",
            "organizations_url": "https://api.github.com/users/chenlihuang/orgs",
            "repos_url": "https://api.github.com/users/chenlihuang/repos",
            "events_url": "https://api.github.com/users/chenlihuang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chenlihuang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-27T02:20:22Z",
          "updated_at": "2017-05-27T02:20:22Z",
          "author_association": "NONE",
          "body": "@HarshaVardhanP  can you give some ideas for me on the keras level . l don't care the backend on TF.\r\nonly easy uase keras layers. that's mean how can l solve the problem in this beacuse I didn't touch the TF\r\n.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304420491/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/395",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/395/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/395/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/395/events",
      "html_url": "https://github.com/keras-team/keras/issues/395",
      "id": 95211755,
      "node_id": "MDU6SXNzdWU5NTIxMTc1NQ==",
      "number": 395,
      "title": "is the Sequence to Sequence learning right?",
      "user": {
        "login": "EderSantana",
        "id": 3902480,
        "node_id": "MDQ6VXNlcjM5MDI0ODA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3902480?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/EderSantana",
        "html_url": "https://github.com/EderSantana",
        "followers_url": "https://api.github.com/users/EderSantana/followers",
        "following_url": "https://api.github.com/users/EderSantana/following{/other_user}",
        "gists_url": "https://api.github.com/users/EderSantana/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/EderSantana/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/EderSantana/subscriptions",
        "organizations_url": "https://api.github.com/users/EderSantana/orgs",
        "repos_url": "https://api.github.com/users/EderSantana/repos",
        "events_url": "https://api.github.com/users/EderSantana/events{/privacy}",
        "received_events_url": "https://api.github.com/users/EderSantana/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 219,
      "created_at": "2015-07-15T14:38:31Z",
      "updated_at": "2024-09-20T17:42:34Z",
      "closed_at": "2015-08-13T14:33:52Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "Assume we are trying to learn a sequence to sequence map. For this we can use Recurrent and TimeDistributedDense layers. Now assume that the sequences have different lengths. We should pad both input and desired sequences with zeros, right? But how will the objective function handle the  padded values? There is no choice to pass a mask to the objective function. Won't this bias the cost function?\n",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/395/reactions",
        "total_count": 6,
        "+1": 6,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/395/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/121758474",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-121758474",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 121758474,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyMTc1ODQ3NA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-07-15T21:40:38Z",
          "updated_at": "2015-07-15T21:40:53Z",
          "author_association": "COLLABORATOR",
          "body": "> We should pad both input and desired sequences with zeros, right? But how will the objective function handle the padded values?\n\nYou could use a mask the hide your padded values from the network. Then you can discard the masked values in your sequence output. Currently masking is only supported via an initial Embedding layer, though. See: http://keras.io/layers/recurrent/\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/121758474/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/121777103",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-121777103",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 121777103,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyMTc3NzEwMw==",
          "user": {
            "login": "cc13ny",
            "id": 1727284,
            "node_id": "MDQ6VXNlcjE3MjcyODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1727284?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cc13ny",
            "html_url": "https://github.com/cc13ny",
            "followers_url": "https://api.github.com/users/cc13ny/followers",
            "following_url": "https://api.github.com/users/cc13ny/following{/other_user}",
            "gists_url": "https://api.github.com/users/cc13ny/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cc13ny/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cc13ny/subscriptions",
            "organizations_url": "https://api.github.com/users/cc13ny/orgs",
            "repos_url": "https://api.github.com/users/cc13ny/repos",
            "events_url": "https://api.github.com/users/cc13ny/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cc13ny/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-07-15T23:43:31Z",
          "updated_at": "2015-07-15T23:43:31Z",
          "author_association": "CONTRIBUTOR",
          "body": "I'm a little new to recurrent network. When Eder talked about the sequence to sequence map, it only reminds me of the char-level LSTM (http://karpathy.github.io/2015/05/21/rnn-effectiveness/). In this case, even we can discard the masked values in your sequence output, the padding values still have effects on the hyper-parameters of the model itself. So is it enough to just discard the masked values? Again, as Eder has asked, won't this bias the cost function?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/121777103/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/121941259",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-121941259",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 121941259,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyMTk0MTI1OQ==",
          "user": {
            "login": "ghost",
            "id": 10137,
            "node_id": "MDQ6VXNlcjEwMTM3",
            "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ghost",
            "html_url": "https://github.com/ghost",
            "followers_url": "https://api.github.com/users/ghost/followers",
            "following_url": "https://api.github.com/users/ghost/following{/other_user}",
            "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
            "organizations_url": "https://api.github.com/users/ghost/orgs",
            "repos_url": "https://api.github.com/users/ghost/repos",
            "events_url": "https://api.github.com/users/ghost/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ghost/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-07-16T12:14:49Z",
          "updated_at": "2015-07-16T12:14:49Z",
          "author_association": "NONE",
          "body": "Maybe this issue is of your interest #382\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/121941259/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/122707232",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-122707232",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 122707232,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyMjcwNzIzMg==",
          "user": {
            "login": "simonhughes22",
            "id": 2167017,
            "node_id": "MDQ6VXNlcjIxNjcwMTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2167017?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/simonhughes22",
            "html_url": "https://github.com/simonhughes22",
            "followers_url": "https://api.github.com/users/simonhughes22/followers",
            "following_url": "https://api.github.com/users/simonhughes22/following{/other_user}",
            "gists_url": "https://api.github.com/users/simonhughes22/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/simonhughes22/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/simonhughes22/subscriptions",
            "organizations_url": "https://api.github.com/users/simonhughes22/orgs",
            "repos_url": "https://api.github.com/users/simonhughes22/repos",
            "events_url": "https://api.github.com/users/simonhughes22/events{/privacy}",
            "received_events_url": "https://api.github.com/users/simonhughes22/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-07-19T21:08:20Z",
          "updated_at": "2015-07-19T21:08:20Z",
          "author_association": "NONE",
          "body": "This worked for me. Padding the inputs and then the outputs, and adding special sequence start and sequence stop symbols to book-end each sequence, then the following model structure:\n\n``` python\nembedding_size = 64\nhidden_size = 512\n\nprint('Build model...')\nmodel = Sequential()\nmodel.add(Embedding(max_features, embedding_size))\nmodel.add(JZS1(embedding_size, hidden_size)) # try using a GRU instead, for fun\nmodel.add(Dense(hidden_size, hidden_size))\nmodel.add(Activation('relu'))\nmodel.add(RepeatVector(MAX_LEN))\nmodel.add(JZS1(hidden_size, hidden_size, return_sequences=True))\nmodel.add(TimeDistributedDense(hidden_size, max_features, activation=\"softmax\"))\n\nmodel.compile(loss='mse', optimizer='adam')\n```\n\nIf you have a sequence stop symbol, it should learn when to stop outputing non-zero values, and will output zero's thereafter. May not be ideal, but works within the current framework. I also tried replicating the output to the maxlen width (including the stop symbol) during training, and then just took the first valid sequence at test time.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/122707232/reactions",
            "total_count": 7,
            "+1": 7,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/122707285",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-122707285",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 122707285,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyMjcwNzI4NQ==",
          "user": {
            "login": "simonhughes22",
            "id": 2167017,
            "node_id": "MDQ6VXNlcjIxNjcwMTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2167017?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/simonhughes22",
            "html_url": "https://github.com/simonhughes22",
            "followers_url": "https://api.github.com/users/simonhughes22/followers",
            "following_url": "https://api.github.com/users/simonhughes22/following{/other_user}",
            "gists_url": "https://api.github.com/users/simonhughes22/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/simonhughes22/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/simonhughes22/subscriptions",
            "organizations_url": "https://api.github.com/users/simonhughes22/orgs",
            "repos_url": "https://api.github.com/users/simonhughes22/repos",
            "events_url": "https://api.github.com/users/simonhughes22/events{/privacy}",
            "received_events_url": "https://api.github.com/users/simonhughes22/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-07-19T21:09:34Z",
          "updated_at": "2015-07-19T21:09:34Z",
          "author_association": "NONE",
          "body": "btw, JZS1 is an RNN like a GRU or an LSTM, each of which could be used here instead in both the encoder and decoder.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/122707285/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/124675152",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-124675152",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 124675152,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyNDY3NTE1Mg==",
          "user": {
            "login": "EderSantana",
            "id": 3902480,
            "node_id": "MDQ6VXNlcjM5MDI0ODA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3902480?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EderSantana",
            "html_url": "https://github.com/EderSantana",
            "followers_url": "https://api.github.com/users/EderSantana/followers",
            "following_url": "https://api.github.com/users/EderSantana/following{/other_user}",
            "gists_url": "https://api.github.com/users/EderSantana/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EderSantana/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EderSantana/subscriptions",
            "organizations_url": "https://api.github.com/users/EderSantana/orgs",
            "repos_url": "https://api.github.com/users/EderSantana/repos",
            "events_url": "https://api.github.com/users/EderSantana/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EderSantana/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-07-24T19:44:33Z",
          "updated_at": "2015-07-24T19:44:33Z",
          "author_association": "CONTRIBUTOR",
          "body": "Sounds like a good idea, but see that you are forcing your model to learn something else instead of your original problem.\nI think I know how to solve this problem with a masking layer after each regular layer and if we allow loss to be a custom function from. This way, instead of averaging the cost with .mean(), we divide it by the number of non zero elements on each time series. This non discriminant averaging is where a lot of bias come from as well.\n\n@fchollet is there any chance that we can get \"loss\" to check if its input is callable? I really didn't want to have to add new stuff to my code repo every time I needed something custom made. I can write a PR for that if there is a general interest. Let me know.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/124675152/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/125248223",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-125248223",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 125248223,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyNTI0ODIyMw==",
          "user": {
            "login": "EderSantana",
            "id": 3902480,
            "node_id": "MDQ6VXNlcjM5MDI0ODA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3902480?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EderSantana",
            "html_url": "https://github.com/EderSantana",
            "followers_url": "https://api.github.com/users/EderSantana/followers",
            "following_url": "https://api.github.com/users/EderSantana/following{/other_user}",
            "gists_url": "https://api.github.com/users/EderSantana/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EderSantana/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EderSantana/subscriptions",
            "organizations_url": "https://api.github.com/users/EderSantana/orgs",
            "repos_url": "https://api.github.com/users/EderSantana/repos",
            "events_url": "https://api.github.com/users/EderSantana/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EderSantana/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-07-27T15:37:21Z",
          "updated_at": "2015-07-27T15:37:21Z",
          "author_association": "CONTRIBUTOR",
          "body": "PR #446 is relevant here. Now all that we need is that the cost functions ask for that mask in their calculations.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/125248223/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/126440874",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-126440874",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 126440874,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyNjQ0MDg3NA==",
          "user": {
            "login": "gautamb85",
            "id": 1865082,
            "node_id": "MDQ6VXNlcjE4NjUwODI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1865082?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gautamb85",
            "html_url": "https://github.com/gautamb85",
            "followers_url": "https://api.github.com/users/gautamb85/followers",
            "following_url": "https://api.github.com/users/gautamb85/following{/other_user}",
            "gists_url": "https://api.github.com/users/gautamb85/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gautamb85/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gautamb85/subscriptions",
            "organizations_url": "https://api.github.com/users/gautamb85/orgs",
            "repos_url": "https://api.github.com/users/gautamb85/repos",
            "events_url": "https://api.github.com/users/gautamb85/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gautamb85/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-07-30T19:03:51Z",
          "updated_at": "2015-07-30T19:03:51Z",
          "author_association": "NONE",
          "body": "@simonhughes22 Hello, I have been working with your code snippet (from a previous discussion, with example/toy data). While the code works, I am confused if it is doing what it is supposed to. I am new to Keras and deep learning, so please do bear with me.\n\nAs far as I understand, the idea is to have an 'encoder' process sequence X, and after the last time step of the sequence is processed, a 'decoder' starts to predict the new sequence Y.\nIn the code you provided, how does the model know that sequence X is complete and now it should start predicting Y?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/126440874/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/126442241",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-126442241",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 126442241,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyNjQ0MjI0MQ==",
          "user": {
            "login": "simonhughes22",
            "id": 2167017,
            "node_id": "MDQ6VXNlcjIxNjcwMTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2167017?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/simonhughes22",
            "html_url": "https://github.com/simonhughes22",
            "followers_url": "https://api.github.com/users/simonhughes22/followers",
            "following_url": "https://api.github.com/users/simonhughes22/following{/other_user}",
            "gists_url": "https://api.github.com/users/simonhughes22/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/simonhughes22/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/simonhughes22/subscriptions",
            "organizations_url": "https://api.github.com/users/simonhughes22/orgs",
            "repos_url": "https://api.github.com/users/simonhughes22/repos",
            "events_url": "https://api.github.com/users/simonhughes22/events{/privacy}",
            "received_events_url": "https://api.github.com/users/simonhughes22/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-07-30T19:10:05Z",
          "updated_at": "2015-07-30T19:10:05Z",
          "author_association": "NONE",
          "body": "@gautamb85 the inputs are padded, the encoder RNN simply goes along the entire input, updating it's hidden state accordingly until it hits the end of the array, and then outputs a vector. That is then fed into the decoder. Btw, they just added masking to the loss function (see the recent commit history), so I'd make sure you are masking the loss function (you'll have to dig through the code or documentation to figure that out).\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/126442241/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/126782815",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-126782815",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 126782815,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyNjc4MjgxNQ==",
          "user": {
            "login": "gautamb85",
            "id": 1865082,
            "node_id": "MDQ6VXNlcjE4NjUwODI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1865082?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gautamb85",
            "html_url": "https://github.com/gautamb85",
            "followers_url": "https://api.github.com/users/gautamb85/followers",
            "following_url": "https://api.github.com/users/gautamb85/following{/other_user}",
            "gists_url": "https://api.github.com/users/gautamb85/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gautamb85/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gautamb85/subscriptions",
            "organizations_url": "https://api.github.com/users/gautamb85/orgs",
            "repos_url": "https://api.github.com/users/gautamb85/repos",
            "events_url": "https://api.github.com/users/gautamb85/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gautamb85/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-07-31T18:51:49Z",
          "updated_at": "2015-07-31T18:51:49Z",
          "author_association": "NONE",
          "body": "@simonhughes22 Thanks for the reply. I had a couple more questions.\n1. In your code there is a dense relu layer between the hidden layers of the encoder and decoder. Is this needed? (don't they just connect encoder hidden layer to decoder)\n1. What exactly is the RepeatVector part of the code doing? \n2. In the Sequence to Sequence paper, they make explicit use of an 'end of sequence' symbol. The way I understand it (as you mentioned), if one is included, the rnn should learn to stop predicting non-zero values. \n   Does there need to be an explicit provision in the code that (during training) - looks for this end of sequence symbol, and tells the system that this is the hidden state to feed to the decoder, or is the model just naturally setup to do this? \n   I am confused because I don't understand why the model will not make a prediction for sequence Y for EACH input of sequence X, rather than wait till the whole of X has been processed?\n\nI would greatly appreciate clarification regarding these points.  \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/126782815/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/127256259",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-127256259",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 127256259,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzI1NjI1OQ==",
          "user": {
            "login": "simonhughes22",
            "id": 2167017,
            "node_id": "MDQ6VXNlcjIxNjcwMTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2167017?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/simonhughes22",
            "html_url": "https://github.com/simonhughes22",
            "followers_url": "https://api.github.com/users/simonhughes22/followers",
            "following_url": "https://api.github.com/users/simonhughes22/following{/other_user}",
            "gists_url": "https://api.github.com/users/simonhughes22/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/simonhughes22/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/simonhughes22/subscriptions",
            "organizations_url": "https://api.github.com/users/simonhughes22/orgs",
            "repos_url": "https://api.github.com/users/simonhughes22/repos",
            "events_url": "https://api.github.com/users/simonhughes22/events{/privacy}",
            "received_events_url": "https://api.github.com/users/simonhughes22/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-08-03T14:11:58Z",
          "updated_at": "2015-08-03T14:11:58Z",
          "author_association": "NONE",
          "body": "1. The RepeatVector is repeating the final output vector from the encoding layer as a constant input to each timestep of the decoder. This is how the example works for the image captioning, so I copied the code for this. \n2. Just make sure your training data has the end of sentence symbol as an additional work stuck on the end of sentences. You should also use the mask_zero=True in the embedding layer and cost function. The idea is that it processes the whole of x to produce a single vector representation of the sentence, and then uses that to generate an output sequence. That's the sort of the model you want when the sequences (x and y) are of different lengths, such as a translation model. If you want to instead build a word tagger, such as a POS tagger where there is a one to one mapping of input to output, you can use a simpler model of and embedding layer + a RNN of some kind (return_sequences=True) + a TimeDistributedDense layer. That's all you would need for that. Your ys would be 3D, row, colums, timestep. The columns would be a probability distribution over the classes, or a binary encoding if you can have more than one output label per word.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/127256259/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/127730736",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-127730736",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 127730736,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzczMDczNg==",
          "user": {
            "login": "EderSantana",
            "id": 3902480,
            "node_id": "MDQ6VXNlcjM5MDI0ODA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3902480?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EderSantana",
            "html_url": "https://github.com/EderSantana",
            "followers_url": "https://api.github.com/users/EderSantana/followers",
            "following_url": "https://api.github.com/users/EderSantana/following{/other_user}",
            "gists_url": "https://api.github.com/users/EderSantana/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EderSantana/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EderSantana/subscriptions",
            "organizations_url": "https://api.github.com/users/EderSantana/orgs",
            "repos_url": "https://api.github.com/users/EderSantana/repos",
            "events_url": "https://api.github.com/users/EderSantana/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EderSantana/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-08-04T19:37:22Z",
          "updated_at": "2015-08-04T19:37:22Z",
          "author_association": "CONTRIBUTOR",
          "body": "@simonhughes22 @gautamb85 Did you guys tried out the cost function masking proposed by #451?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/127730736/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/127770598",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-127770598",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 127770598,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyNzc3MDU5OA==",
          "user": {
            "login": "wxs",
            "id": 326559,
            "node_id": "MDQ6VXNlcjMyNjU1OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/326559?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wxs",
            "html_url": "https://github.com/wxs",
            "followers_url": "https://api.github.com/users/wxs/followers",
            "following_url": "https://api.github.com/users/wxs/following{/other_user}",
            "gists_url": "https://api.github.com/users/wxs/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wxs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wxs/subscriptions",
            "organizations_url": "https://api.github.com/users/wxs/orgs",
            "repos_url": "https://api.github.com/users/wxs/repos",
            "events_url": "https://api.github.com/users/wxs/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wxs/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-08-04T21:40:58Z",
          "updated_at": "2015-08-04T21:40:58Z",
          "author_association": "CONTRIBUTOR",
          "body": "I just mentioned this over in #451, but can't you use the `sample_weight` parameter to `fit()` and pass in 0 weight to the meaningless outputs?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/127770598/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/128369695",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-128369695",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 128369695,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyODM2OTY5NQ==",
          "user": {
            "login": "benjaminklein",
            "id": 2214311,
            "node_id": "MDQ6VXNlcjIyMTQzMTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2214311?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/benjaminklein",
            "html_url": "https://github.com/benjaminklein",
            "followers_url": "https://api.github.com/users/benjaminklein/followers",
            "following_url": "https://api.github.com/users/benjaminklein/following{/other_user}",
            "gists_url": "https://api.github.com/users/benjaminklein/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/benjaminklein/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/benjaminklein/subscriptions",
            "organizations_url": "https://api.github.com/users/benjaminklein/orgs",
            "repos_url": "https://api.github.com/users/benjaminklein/repos",
            "events_url": "https://api.github.com/users/benjaminklein/events{/privacy}",
            "received_events_url": "https://api.github.com/users/benjaminklein/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-08-06T13:46:09Z",
          "updated_at": "2015-08-06T13:46:09Z",
          "author_association": "NONE",
          "body": "Hey,\n\nI'm new to keras and I have a simple question:\n\nWhy you use the mse objective in model.compile(loss='mse', optimizer='adam')?\nWouldn't it be more appropriate to use categorical_crossentropy, since you are using softmax in model.add(TimeDistributedDense(hidden_size, max_features, activation=\"softmax\"))?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/128369695/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/128380588",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-128380588",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 128380588,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyODM4MDU4OA==",
          "user": {
            "login": "simonhughes22",
            "id": 2167017,
            "node_id": "MDQ6VXNlcjIxNjcwMTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2167017?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/simonhughes22",
            "html_url": "https://github.com/simonhughes22",
            "followers_url": "https://api.github.com/users/simonhughes22/followers",
            "following_url": "https://api.github.com/users/simonhughes22/following{/other_user}",
            "gists_url": "https://api.github.com/users/simonhughes22/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/simonhughes22/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/simonhughes22/subscriptions",
            "organizations_url": "https://api.github.com/users/simonhughes22/orgs",
            "repos_url": "https://api.github.com/users/simonhughes22/repos",
            "events_url": "https://api.github.com/users/simonhughes22/events{/privacy}",
            "received_events_url": "https://api.github.com/users/simonhughes22/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-08-06T14:11:24Z",
          "updated_at": "2015-08-06T14:11:24Z",
          "author_association": "NONE",
          "body": "@benjaminklein for a while there was an issue in theano + keras with the binary cross entropy and this kind of model, so I used MSE instead. Now I use binary cross entropy as I have a multi-class multi-label classification problem (each word can have 0 to many classes). If you have a more vanilla multi-class problem then yes, categorical_crossentropy should work better. However, I haven't tested that on TimeDistributed dense output, so you'd need to verify it is expecting a single category per output token, not across all tokens, as the output is 3D not 2D, so you have len(tokens) categorical cross entropy calculations. binary cross entropy just works per label, it doesn't compute a distribution over labels, so for that the output shape doesn't matter.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/128380588/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/128404921",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-128404921",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 128404921,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyODQwNDkyMQ==",
          "user": {
            "login": "benjaminklein",
            "id": 2214311,
            "node_id": "MDQ6VXNlcjIyMTQzMTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2214311?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/benjaminklein",
            "html_url": "https://github.com/benjaminklein",
            "followers_url": "https://api.github.com/users/benjaminklein/followers",
            "following_url": "https://api.github.com/users/benjaminklein/following{/other_user}",
            "gists_url": "https://api.github.com/users/benjaminklein/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/benjaminklein/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/benjaminklein/subscriptions",
            "organizations_url": "https://api.github.com/users/benjaminklein/orgs",
            "repos_url": "https://api.github.com/users/benjaminklein/repos",
            "events_url": "https://api.github.com/users/benjaminklein/events{/privacy}",
            "received_events_url": "https://api.github.com/users/benjaminklein/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-08-06T15:03:15Z",
          "updated_at": "2015-08-06T15:03:15Z",
          "author_association": "NONE",
          "body": "@simonhughes22 Thank you! Also could we change your code to use Graph instead of Sequential such that we'll have two inputs. One for the first sequence and another one for the second sequence?\n\nThe motivations is that in many papers about encoder-decoder, the decoding phase is using both the last hidden layer from the first sequence and the previous word of the second sequence. In your code we are only using the last hidden layer from the previous sequence.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/128404921/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/128444223",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-128444223",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 128444223,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyODQ0NDIyMw==",
          "user": {
            "login": "gautamb85",
            "id": 1865082,
            "node_id": "MDQ6VXNlcjE4NjUwODI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1865082?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gautamb85",
            "html_url": "https://github.com/gautamb85",
            "followers_url": "https://api.github.com/users/gautamb85/followers",
            "following_url": "https://api.github.com/users/gautamb85/following{/other_user}",
            "gists_url": "https://api.github.com/users/gautamb85/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gautamb85/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gautamb85/subscriptions",
            "organizations_url": "https://api.github.com/users/gautamb85/orgs",
            "repos_url": "https://api.github.com/users/gautamb85/repos",
            "events_url": "https://api.github.com/users/gautamb85/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gautamb85/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-08-06T17:02:11Z",
          "updated_at": "2015-08-06T17:02:11Z",
          "author_association": "NONE",
          "body": "@EderSantana @simonhughes22  Have not yet had a chance to try it. Will let you know as soon as I do.\n@fchollet I have been reading some keras posts about 'stateful' RNNs. If I understand correctly, the hidden state of the recurrent layer is reset for every time_step of a sequence. (this appears to be the case based on outputs_info for various classes in recurrent.py)\n1. Would this be an issue in the sequence-to-sequence paradigm? How does the resetting of the state affect the summary (final hidden state) of sequence 1 ?\n2. In my case data is being provided in chronological order i.e. a grapheme sequence, so I would guess that the previous state would matter?\n3. If I were writing my own LSTM class, what would be the easiest way to make it 'stateful'?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/128444223/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/128467547",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-128467547",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 128467547,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyODQ2NzU0Nw==",
          "user": {
            "login": "simonhughes22",
            "id": 2167017,
            "node_id": "MDQ6VXNlcjIxNjcwMTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2167017?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/simonhughes22",
            "html_url": "https://github.com/simonhughes22",
            "followers_url": "https://api.github.com/users/simonhughes22/followers",
            "following_url": "https://api.github.com/users/simonhughes22/following{/other_user}",
            "gists_url": "https://api.github.com/users/simonhughes22/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/simonhughes22/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/simonhughes22/subscriptions",
            "organizations_url": "https://api.github.com/users/simonhughes22/orgs",
            "repos_url": "https://api.github.com/users/simonhughes22/repos",
            "events_url": "https://api.github.com/users/simonhughes22/events{/privacy}",
            "received_events_url": "https://api.github.com/users/simonhughes22/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-08-06T18:31:16Z",
          "updated_at": "2015-08-06T18:31:16Z",
          "author_association": "NONE",
          "body": "@gautamb85 I thought the issue is that it is reset for every row of input, meaning you can't test it easily by feeding its ouput predictions as inputs (you can, but you are re-feeding the entire input sequence plus the latest predicted for every subsequent time step, which is a little slower than if stateful). If the RNN reset itself between timesteps it wouldn't work...., AFAIK it maintains state across a row (sequence of timesteps) but resets itself once the row is processed. You can make it take it's output as input as I described, it's just slower than models that allow you to remember the state following a prediction.\n\nNote for the example above, I am reading in one sequence, converting to a hidden state, and then predicting a whole second sequence, so you don't have the issue I mention here. However, you may get better results by training a model to predict the next word instead of the next sentence, and feeding each predicted word in as input to predict the next word to generate a sentence.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/128467547/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/128468757",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-128468757",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 128468757,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyODQ2ODc1Nw==",
          "user": {
            "login": "simonhughes22",
            "id": 2167017,
            "node_id": "MDQ6VXNlcjIxNjcwMTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2167017?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/simonhughes22",
            "html_url": "https://github.com/simonhughes22",
            "followers_url": "https://api.github.com/users/simonhughes22/followers",
            "following_url": "https://api.github.com/users/simonhughes22/following{/other_user}",
            "gists_url": "https://api.github.com/users/simonhughes22/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/simonhughes22/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/simonhughes22/subscriptions",
            "organizations_url": "https://api.github.com/users/simonhughes22/orgs",
            "repos_url": "https://api.github.com/users/simonhughes22/repos",
            "events_url": "https://api.github.com/users/simonhughes22/events{/privacy}",
            "received_events_url": "https://api.github.com/users/simonhughes22/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-08-06T18:35:46Z",
          "updated_at": "2015-08-06T18:35:46Z",
          "author_association": "NONE",
          "body": "@benjaminklein as it's predicting a full sequence as output, it is remembering the previous word as it predicts the output sequence via retaining it's hidden state across the input sequence. What is repeated is the encoded representation of the entire previous sentence, but for each word it is predicting, it is also feeding in the hidden state from the previous word as that's how RNN's work. What you are describing is a slightly different type of model where you are predicting the next word and not the next sentence, and then adding that to the existing input and making a new prediction. You can do this with keras too very easily, just remove the last 3 layers from the model above and train it to predict the next word (or character). You'll have to write a bit of code to feed the output back in as input though.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/128468757/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/128607040",
          "html_url": "https://github.com/keras-team/keras/issues/395#issuecomment-128607040",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/395",
          "id": 128607040,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEyODYwNzA0MA==",
          "user": {
            "login": "gautamb85",
            "id": 1865082,
            "node_id": "MDQ6VXNlcjE4NjUwODI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1865082?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gautamb85",
            "html_url": "https://github.com/gautamb85",
            "followers_url": "https://api.github.com/users/gautamb85/followers",
            "following_url": "https://api.github.com/users/gautamb85/following{/other_user}",
            "gists_url": "https://api.github.com/users/gautamb85/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gautamb85/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gautamb85/subscriptions",
            "organizations_url": "https://api.github.com/users/gautamb85/orgs",
            "repos_url": "https://api.github.com/users/gautamb85/repos",
            "events_url": "https://api.github.com/users/gautamb85/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gautamb85/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-08-07T05:58:26Z",
          "updated_at": "2015-08-07T05:58:26Z",
          "author_association": "NONE",
          "body": "@simonhughes22 Thank you for the clarification. That was my impression. (How could it even work if it was being reset btw time steps). I am still a little confused about testing it in generative mode. \n\nYou touched on exactly what I am trying to do, and I am hoping you could help me on some of my concepts.\n\nTaking the machine translation problem in Sutskever's paper as an example, first an english sentence (sequence 1) is converted to a hidden state, then the 'decoder' starts to predict each word of the french sentence (sequence 2). Thus the translated sentence is generated word by word. Is this correct?\nIn this case, the 'decoder' is essentially a conditional language model (word level), conditioned on the english sentence, i.e. sequence 1. Thus the target for a given tilmestep is the input for the next one. \nFor training such a model, after reading in sequence-1, the decoder is provided with the 'true' french word at each tilmestep (not the prediction). At test time (as you mentioned) in order to feed the prediction back in to predict the next french word, the entire sequence (eng+french?) would need to be read, in order to predict the next word.\n\nIf all that is correct, would I need a graph structure? A pseudo code / flowchart description of the network architecture would be much appreciated. \n\nThanks in advance!\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/128607040/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/6891",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/6891/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/6891/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/6891/events",
      "html_url": "https://github.com/keras-team/keras/pull/6891",
      "id": 234275268,
      "node_id": "MDExOlB1bGxSZXF1ZXN0MTI0NDY4OTIw",
      "number": 6891,
      "title": "Fix the ordering bugs when using pickle_safe=True",
      "user": {
        "login": "Dref360",
        "id": 8976546,
        "node_id": "MDQ6VXNlcjg5NzY1NDY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8976546?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Dref360",
        "html_url": "https://github.com/Dref360",
        "followers_url": "https://api.github.com/users/Dref360/followers",
        "following_url": "https://api.github.com/users/Dref360/following{/other_user}",
        "gists_url": "https://api.github.com/users/Dref360/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Dref360/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Dref360/subscriptions",
        "organizations_url": "https://api.github.com/users/Dref360/orgs",
        "repos_url": "https://api.github.com/users/Dref360/repos",
        "events_url": "https://api.github.com/users/Dref360/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Dref360/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 47,
      "created_at": "2017-06-07T16:53:00Z",
      "updated_at": "2017-07-02T18:16:19Z",
      "closed_at": "2017-06-20T17:55:46Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/6891",
        "html_url": "https://github.com/keras-team/keras/pull/6891",
        "diff_url": "https://github.com/keras-team/keras/pull/6891.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/6891.patch",
        "merged_at": "2017-06-20T17:55:46Z"
      },
      "body": "This PR is to fix the multiples problems with GeneratorEnqueuer. When `pickle_safe=True`, the order is not preserved which can be annoying for `predict_generator`. The structure is like Pytorch's Dataset http://pytorch.org/docs/data.html. \r\n\r\nThis PR guarantee that the order will be preserved at no cost.\r\n\r\nWhile GeneratorEnqueuer is still supported, it should be deprecated in favour of this new feature.\r\n\r\nI would really appreciate your thoughts on this.\r\n\r\nWork to do :\r\n[ ] -  Default Dataset for folder, hdf5\r\n[ ] - Validate Windows behaviour",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/6891/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/6891/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306896575",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-306896575",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 306896575,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjg5NjU3NQ==",
          "user": {
            "login": "Dref360",
            "id": 8976546,
            "node_id": "MDQ6VXNlcjg5NzY1NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8976546?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Dref360",
            "html_url": "https://github.com/Dref360",
            "followers_url": "https://api.github.com/users/Dref360/followers",
            "following_url": "https://api.github.com/users/Dref360/following{/other_user}",
            "gists_url": "https://api.github.com/users/Dref360/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Dref360/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Dref360/subscriptions",
            "organizations_url": "https://api.github.com/users/Dref360/orgs",
            "repos_url": "https://api.github.com/users/Dref360/repos",
            "events_url": "https://api.github.com/users/Dref360/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Dref360/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-07T19:14:51Z",
          "updated_at": "2017-06-07T19:21:05Z",
          "author_association": "CONTRIBUTOR",
          "body": "Nevermind, this only works for python 3. Otherwise we need to add a new dependency.\r\n\r\nShould I just forget this idea? Otherwise, we need the futures package for the python 2 version.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306896575/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306899500",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-306899500",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 306899500,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjg5OTUwMA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-07T19:26:23Z",
          "updated_at": "2017-06-07T19:26:33Z",
          "author_association": "COLLABORATOR",
          "body": "It would be good to:\r\n\r\n- Preserve order when using `predict_generator` with multiple processes, at no performance cost\r\n- Offer a way to easily add enqueuing capabilities to any source of data. Currently we kind of have that by requiring people to write generators. But the experience of writing these could be improved.\r\n\r\nThis should be achieved in a fully backwards compatible way. Do you see a solution?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306899500/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306903620",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-306903620",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 306903620,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjkwMzYyMA==",
          "user": {
            "login": "Dref360",
            "id": 8976546,
            "node_id": "MDQ6VXNlcjg5NzY1NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8976546?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Dref360",
            "html_url": "https://github.com/Dref360",
            "followers_url": "https://api.github.com/users/Dref360/followers",
            "following_url": "https://api.github.com/users/Dref360/following{/other_user}",
            "gists_url": "https://api.github.com/users/Dref360/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Dref360/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Dref360/subscriptions",
            "organizations_url": "https://api.github.com/users/Dref360/orgs",
            "repos_url": "https://api.github.com/users/Dref360/repos",
            "events_url": "https://api.github.com/users/Dref360/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Dref360/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-07T19:43:33Z",
          "updated_at": "2017-06-07T19:43:58Z",
          "author_association": "CONTRIBUTOR",
          "body": "Using a [manager](https://docs.python.org/2/library/multiprocessing.html#sharing-state-between-processes) or [pipes](https://docs.python.org/2/library/multiprocessing.html#exchanging-objects-between-processes), processes could communicate which input (or index) they have processed. This is rather ugly, but this would work.\r\n\r\nThis could cause memory issues, but if you're using predict_generator, I guess you're not outputting images. ( In this case, switching predict_generator to output a generator would help people in the segmentation domain like myself. Quick suggestion) This is why I recommend to add [futures](http://pythonhosted.org/futures/) to the dependencies for Py2 since it's only a \r\nbackport from the real module in Py3.\r\n\r\nAdding helper functions to handle many types of data would have to be done. Most of them would be easy to do (Numpy, Directory, HDF5), but handling generators would be really difficult. Of course, the community would have to adapt.\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306903620/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307192583",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-307192583",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 307192583,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzE5MjU4Mw==",
          "user": {
            "login": "Dref360",
            "id": 8976546,
            "node_id": "MDQ6VXNlcjg5NzY1NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8976546?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Dref360",
            "html_url": "https://github.com/Dref360",
            "followers_url": "https://api.github.com/users/Dref360/followers",
            "following_url": "https://api.github.com/users/Dref360/following{/other_user}",
            "gists_url": "https://api.github.com/users/Dref360/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Dref360/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Dref360/subscriptions",
            "organizations_url": "https://api.github.com/users/Dref360/orgs",
            "repos_url": "https://api.github.com/users/Dref360/repos",
            "events_url": "https://api.github.com/users/Dref360/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Dref360/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-08T18:44:55Z",
          "updated_at": "2017-06-08T18:44:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "So Theano test are timing out so my thing works, it just adds a dependency.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307192583/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307208902",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-307208902",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 307208902,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzIwODkwMg==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-08T19:51:12Z",
          "updated_at": "2017-06-08T19:51:12Z",
          "author_association": "COLLABORATOR",
          "body": "Can you list the user-facing changes? Provide some examples of the user experience? (e.g. what code would the user be writing, what problems would the user potentially be facing).",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307208902/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307220500",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-307220500",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 307220500,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzIyMDUwMA==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-08T20:38:20Z",
          "updated_at": "2017-06-08T20:38:20Z",
          "author_association": "CONTRIBUTOR",
          "body": "@PavlosMelissinos may want to comment on this since he is working on a dataset API as well & trying to consider segmentation https://github.com/PavlosMelissinos/enet-keras/blob/master/src/data/datasets.py#L14",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307220500/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307259278",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-307259278",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 307259278,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzI1OTI3OA==",
          "user": {
            "login": "Dref360",
            "id": 8976546,
            "node_id": "MDQ6VXNlcjg5NzY1NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8976546?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Dref360",
            "html_url": "https://github.com/Dref360",
            "followers_url": "https://api.github.com/users/Dref360/followers",
            "following_url": "https://api.github.com/users/Dref360/following{/other_user}",
            "gists_url": "https://api.github.com/users/Dref360/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Dref360/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Dref360/subscriptions",
            "organizations_url": "https://api.github.com/users/Dref360/orgs",
            "repos_url": "https://api.github.com/users/Dref360/repos",
            "events_url": "https://api.github.com/users/Dref360/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Dref360/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-09T00:00:10Z",
          "updated_at": "2017-06-09T00:00:10Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet I'll be working on a blog post about the changes and how to update generators to Dataset. Should be really easy to do the transition. Previously, people were doing\r\n\r\n```python\r\nfor x,y in X_train,Y_train:\r\n    yield resize(imread(x),(200,200)),y\r\n```\r\n\r\nnow it would be\r\n\r\n```python\r\nclass CIFAR10Dataset(Dataset):\r\n    def __init__(self,x_set,y_set):\r\n        self.X,self.y = x_set,y_set\r\n    def __len__(self):\r\n        return len(self.X)\r\n    def __getitem__(self,idx):\r\n        return resize(imread(self.X[idx]),(200,200)),self.y[idx]\r\n```\r\n\r\nWhere X_train would be a list of filename containing images for example and Y_train their classes.\r\nSo a little more of boilerplate code, but most people were already using objects to encapsulate their generator.\r\n\r\nProblems that I can think of: \r\n* ImageDataGenerator will need to be remade in a future PR\r\n* People who were doing funky stuff with generators like making then process-safe won't need that anymore. May be disturbing.\r\n* Non-OO people will not like this change.\r\n\r\nFor real, there should not be any major problem with Dataset, and generators will still be around for a while.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307259278/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307260776",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-307260776",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 307260776,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzI2MDc3Ng==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-09T00:11:13Z",
          "updated_at": "2017-06-09T00:11:13Z",
          "author_association": "COLLABORATOR",
          "body": "As long as passing generators as usual keeps working, and as long as all changes to the built-in generators (`ImageDataGenerator` and the like) are backwards compatible, then the addition of `Dataset` seems fine to me.\r\n\r\nThe dependence on `futures` is problematic though. This `Dataset` API would have to move to the Keras version in TF, and TF does not have that dependency. Can you make it work without it?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307260776/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307264138",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-307264138",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 307264138,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzI2NDEzOA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-09T00:37:46Z",
          "updated_at": "2017-06-09T00:37:46Z",
          "author_association": "COLLABORATOR",
          "body": "Orthogonally, we seriously need a way to make Theano tests less slow. They take 5x longer than other backends (we now have several other backends!), even though there is generally less tests being run than on TF. Maybe changing compilation mode would do it?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307264138/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307266089",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-307266089",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 307266089,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzI2NjA4OQ==",
          "user": {
            "login": "Dref360",
            "id": 8976546,
            "node_id": "MDQ6VXNlcjg5NzY1NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8976546?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Dref360",
            "html_url": "https://github.com/Dref360",
            "followers_url": "https://api.github.com/users/Dref360/followers",
            "following_url": "https://api.github.com/users/Dref360/following{/other_user}",
            "gists_url": "https://api.github.com/users/Dref360/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Dref360/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Dref360/subscriptions",
            "organizations_url": "https://api.github.com/users/Dref360/orgs",
            "repos_url": "https://api.github.com/users/Dref360/repos",
            "events_url": "https://api.github.com/users/Dref360/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Dref360/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-09T00:53:57Z",
          "updated_at": "2017-06-09T00:53:57Z",
          "author_association": "CONTRIBUTOR",
          "body": "I'm really not experienced with Theano sorry. Is there a Theano master in the community?\r\n\r\nFor the deps on futures, it could be an optional dependency. So the default behaviour would still be GeneratorEnqueuer, but if you give a Dataset and you're using Python 2, you need to install future. The docs would need to reflect this thing as well. Just like h5py, pydot-ng is not a required deps.\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307266089/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307266924",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-307266924",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 307266924,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzI2NjkyNA==",
          "user": {
            "login": "Dref360",
            "id": 8976546,
            "node_id": "MDQ6VXNlcjg5NzY1NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8976546?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Dref360",
            "html_url": "https://github.com/Dref360",
            "followers_url": "https://api.github.com/users/Dref360/followers",
            "following_url": "https://api.github.com/users/Dref360/following{/other_user}",
            "gists_url": "https://api.github.com/users/Dref360/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Dref360/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Dref360/subscriptions",
            "organizations_url": "https://api.github.com/users/Dref360/orgs",
            "repos_url": "https://api.github.com/users/Dref360/repos",
            "events_url": "https://api.github.com/users/Dref360/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Dref360/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-09T01:00:36Z",
          "updated_at": "2017-06-09T01:00:36Z",
          "author_association": "CONTRIBUTOR",
          "body": "We could disable a lot of tests for Theano, Since models, topology,engine are already tested in TF, we can fairly assume that if the backend is well tested, there should not be any problem with Theano. This way, we only need to test the backend in Theano. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307266924/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307350454",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-307350454",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 307350454,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzM1MDQ1NA==",
          "user": {
            "login": "jonilaserson",
            "id": 5720840,
            "node_id": "MDQ6VXNlcjU3MjA4NDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5720840?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonilaserson",
            "html_url": "https://github.com/jonilaserson",
            "followers_url": "https://api.github.com/users/jonilaserson/followers",
            "following_url": "https://api.github.com/users/jonilaserson/following{/other_user}",
            "gists_url": "https://api.github.com/users/jonilaserson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jonilaserson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jonilaserson/subscriptions",
            "organizations_url": "https://api.github.com/users/jonilaserson/orgs",
            "repos_url": "https://api.github.com/users/jonilaserson/repos",
            "events_url": "https://api.github.com/users/jonilaserson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jonilaserson/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-09T10:06:45Z",
          "updated_at": "2017-06-09T10:07:51Z",
          "author_association": "NONE",
          "body": "@Dref360 I'm excited about the Datasets addition!\r\n\r\nI think generators should not be deprecated, because Datasets introduce additional constraints that generators don't have:\r\n1.  It seems that they have to have a finite number of samples (__len__ must be implemented).\r\n2. The index ordering is determined from the start (must be either sequential or random).\r\n\r\nFor example, you can imagine having a predictor listening to HTTP requests and applying the model on whatever indexes or queries are being sent to it. This logic could be implemented by generators but not a Dataset. What do you think?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307350454/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307375227",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-307375227",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 307375227,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzM3NTIyNw==",
          "user": {
            "login": "Dref360",
            "id": 8976546,
            "node_id": "MDQ6VXNlcjg5NzY1NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8976546?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Dref360",
            "html_url": "https://github.com/Dref360",
            "followers_url": "https://api.github.com/users/Dref360/followers",
            "following_url": "https://api.github.com/users/Dref360/following{/other_user}",
            "gists_url": "https://api.github.com/users/Dref360/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Dref360/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Dref360/subscriptions",
            "organizations_url": "https://api.github.com/users/Dref360/orgs",
            "repos_url": "https://api.github.com/users/Dref360/repos",
            "events_url": "https://api.github.com/users/Dref360/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Dref360/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-09T12:27:23Z",
          "updated_at": "2017-06-09T13:12:40Z",
          "author_association": "CONTRIBUTOR",
          "body": "@jonilaserson You're right, Generators won't go away anytime soon. (Will remove the warnings and change the docs). Mostly because of the added dep. If @fchollet approve the optional dependency, I'll remove the warning and make `GeneratorEnqueuer` the default.\r\n\r\n(I'll try to make it work with a `Pool` from `multiprocessing` this would remove the dep)\r\nEDIT: Dep on `future` has been removed! ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307375227/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307450394",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-307450394",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 307450394,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzQ1MDM5NA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-09T17:28:21Z",
          "updated_at": "2017-06-09T17:28:21Z",
          "author_association": "COLLABORATOR",
          "body": "> Just like h5py, pydot-ng is not a required deps.\r\n\r\nI'm not a fan of this pattern in general, it has caused a bunch of problems and a lot of user frustration. Can we avoid it? Can Python 2.7 really not support something like this?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307450394/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307450896",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-307450896",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 307450896,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzQ1MDg5Ng==",
          "user": {
            "login": "Dref360",
            "id": 8976546,
            "node_id": "MDQ6VXNlcjg5NzY1NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8976546?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Dref360",
            "html_url": "https://github.com/Dref360",
            "followers_url": "https://api.github.com/users/Dref360/followers",
            "following_url": "https://api.github.com/users/Dref360/following{/other_user}",
            "gists_url": "https://api.github.com/users/Dref360/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Dref360/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Dref360/subscriptions",
            "organizations_url": "https://api.github.com/users/Dref360/orgs",
            "repos_url": "https://api.github.com/users/Dref360/repos",
            "events_url": "https://api.github.com/users/Dref360/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Dref360/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-09T17:30:33Z",
          "updated_at": "2017-06-09T17:35:02Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet I fixed it. We do not need the `future` package anymore.\r\nIt's now using `multiprocessing.Pool` which return `AsyncResult` instead of future.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307450896/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307530354",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-307530354",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 307530354,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzUzMDM1NA==",
          "user": {
            "login": "Dref360",
            "id": 8976546,
            "node_id": "MDQ6VXNlcjg5NzY1NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8976546?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Dref360",
            "html_url": "https://github.com/Dref360",
            "followers_url": "https://api.github.com/users/Dref360/followers",
            "following_url": "https://api.github.com/users/Dref360/following{/other_user}",
            "gists_url": "https://api.github.com/users/Dref360/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Dref360/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Dref360/subscriptions",
            "organizations_url": "https://api.github.com/users/Dref360/orgs",
            "repos_url": "https://api.github.com/users/Dref360/repos",
            "events_url": "https://api.github.com/users/Dref360/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Dref360/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-10T00:40:14Z",
          "updated_at": "2017-06-10T00:40:14Z",
          "author_association": "CONTRIBUTOR",
          "body": "Just a copy of Slack for diligent book keeping.\r\nThe most challenging point of your comment is the first one. You could chain Dataset I guess.\r\nlike\r\n```\r\nds = FileLoaderDataset(filenames) #generic file loading\r\nds = RandomTranslationDataset(ds)\r\nds = RandomShearDataset(ds)\r\n```\r\nIn their `__getitem__` they would have to do something like\r\n```\r\ndef RandomTranslationDataset(Dataset):\r\n    def __init__(ds):\r\n        self.ds = ds\r\n    def __getitem__(self,idx):\r\n        return self.random_translation(self.ds[idx])\r\n```\r\n\r\nIn my blog post (dref360.github.io), I found that the thing that sucks about tf.FIFOQueue is that is cannot run on different processes. This can.\r\n\r\nIn think this design is flexible enough to do pretty much whatever you want. We only want the input for frame `idx`, what you do to give the inputs is pretty much what you want.\r\n\r\nThis PR is pretty much WIP, I wanted some feedbacks, So the design is still pretty flexible",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307530354/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307585692",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-307585692",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 307585692,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzU4NTY5Mg==",
          "user": {
            "login": "Dref360",
            "id": 8976546,
            "node_id": "MDQ6VXNlcjg5NzY1NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8976546?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Dref360",
            "html_url": "https://github.com/Dref360",
            "followers_url": "https://api.github.com/users/Dref360/followers",
            "following_url": "https://api.github.com/users/Dref360/following{/other_user}",
            "gists_url": "https://api.github.com/users/Dref360/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Dref360/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Dref360/subscriptions",
            "organizations_url": "https://api.github.com/users/Dref360/orgs",
            "repos_url": "https://api.github.com/users/Dref360/repos",
            "events_url": "https://api.github.com/users/Dref360/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Dref360/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-10T19:33:13Z",
          "updated_at": "2017-06-10T19:33:13Z",
          "author_association": "CONTRIBUTOR",
          "body": "I fixed most of the comments. I think the doc is now much cleaner so users should be able to easily adapt.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307585692/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307585967",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-307585967",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 307585967,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzU4NTk2Nw==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-10T19:38:46Z",
          "updated_at": "2017-06-10T19:38:46Z",
          "author_association": "COLLABORATOR",
          "body": "Who wants to review this in detail? @ahundt, you seem already pretty involved? Anyone else? The more reviewers the merrier.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307585967/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307637038",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-307637038",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 307637038,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzYzNzAzOA==",
          "user": {
            "login": "jonilaserson",
            "id": 5720840,
            "node_id": "MDQ6VXNlcjU3MjA4NDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5720840?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonilaserson",
            "html_url": "https://github.com/jonilaserson",
            "followers_url": "https://api.github.com/users/jonilaserson/followers",
            "following_url": "https://api.github.com/users/jonilaserson/following{/other_user}",
            "gists_url": "https://api.github.com/users/jonilaserson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jonilaserson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jonilaserson/subscriptions",
            "organizations_url": "https://api.github.com/users/jonilaserson/orgs",
            "repos_url": "https://api.github.com/users/jonilaserson/repos",
            "events_url": "https://api.github.com/users/jonilaserson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jonilaserson/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-11T15:34:07Z",
          "updated_at": "2017-06-11T15:34:07Z",
          "author_association": "NONE",
          "body": "@Dref360 \r\nSo how will `generator_predict` and `generator_evaluate` know when to stop getting batches?  Ideally we would want them to cover exactly one epoch of the (test) dataset. Right now the user needs to calculate the number of batches to process in advance before calling those generator functions. \r\n\r\nThis seems cumbersome, since the Dataset object knows when an epoch is over, so why bother the user?\r\n\r\nAlso, this is inherently problematic in the (common) case where the length of the dataset is not divisible by the batch size, because the Dataset will just cycle on to the next epoch, and that means you will either double-count the first test samples or miss the last test samples.\r\n\r\nPerhaps we should have an option to just go through a single epoch and yield a StopIteration when over?\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307637038/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307641137",
          "html_url": "https://github.com/keras-team/keras/pull/6891#issuecomment-307641137",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6891",
          "id": 307641137,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzY0MTEzNw==",
          "user": {
            "login": "Dref360",
            "id": 8976546,
            "node_id": "MDQ6VXNlcjg5NzY1NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8976546?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Dref360",
            "html_url": "https://github.com/Dref360",
            "followers_url": "https://api.github.com/users/Dref360/followers",
            "following_url": "https://api.github.com/users/Dref360/following{/other_user}",
            "gists_url": "https://api.github.com/users/Dref360/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Dref360/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Dref360/subscriptions",
            "organizations_url": "https://api.github.com/users/Dref360/orgs",
            "repos_url": "https://api.github.com/users/Dref360/repos",
            "events_url": "https://api.github.com/users/Dref360/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Dref360/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-11T16:42:54Z",
          "updated_at": "2017-06-11T16:42:54Z",
          "author_association": "CONTRIBUTOR",
          "body": "When Keras went from version 1.0 to 2.0, `fit_generator` started to asked for the number of batches instead of the number of samples. \r\n\r\nThis behaviour needs to stay there for GeneratorEnqueuer which does not know the number of batches. I guess the `n_steps` in `fit_generator` could be ignored when using a DatasetEnqueuer and just get the length of the Dataset. Is that what you're saying? ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307641137/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/2436",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/2436/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/2436/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/2436/events",
      "html_url": "https://github.com/keras-team/keras/issues/2436",
      "id": 149949934,
      "node_id": "MDU6SXNzdWUxNDk5NDk5MzQ=",
      "number": 2436,
      "title": "Does Keras support using multiple GPUs?",
      "user": {
        "login": "henry0312",
        "id": 433434,
        "node_id": "MDQ6VXNlcjQzMzQzNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/433434?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/henry0312",
        "html_url": "https://github.com/henry0312",
        "followers_url": "https://api.github.com/users/henry0312/followers",
        "following_url": "https://api.github.com/users/henry0312/following{/other_user}",
        "gists_url": "https://api.github.com/users/henry0312/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/henry0312/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/henry0312/subscriptions",
        "organizations_url": "https://api.github.com/users/henry0312/orgs",
        "repos_url": "https://api.github.com/users/henry0312/repos",
        "events_url": "https://api.github.com/users/henry0312/events{/privacy}",
        "received_events_url": "https://api.github.com/users/henry0312/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 162,
      "created_at": "2016-04-21T03:14:01Z",
      "updated_at": "2019-11-21T01:36:50Z",
      "closed_at": "2017-11-09T02:11:22Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "Theano has supported multiple GPUs since v0.8.0.\n(cf. [Using multiple GPUs \u2014 Theano 0.8.0 documentation](http://deeplearning.net/software/theano/tutorial/using_multi_gpu.html) )\nDoes Keras also support using multiple GPUs?\n\nFor example, can I run the below task?\n1. Learn a sequential model A on gpu0\n2. Learn a sequential model B on gpu1\n3. Merge A and B on gpu0\n",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/2436/reactions",
        "total_count": 11,
        "+1": 11,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/2436/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212714896",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-212714896",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 212714896,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjcxNDg5Ng==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-21T03:22:17Z",
          "updated_at": "2016-04-21T03:22:17Z",
          "author_association": "COLLABORATOR",
          "body": "Yes, can run Keras models on multiple GPUs. This is only possible with the TensorFlow backend for the time being, because the Theano feature is still rather new. We are looking at adding support for multi-gpu in Theano in the near future (it should be fairly straightforward).\n\nWith the TensorFlow backend, you can achieve this the same way as you would in pure TensorFlow: by using the `with tf.device(d)` scope when defining Keras layers.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212714896/reactions",
            "total_count": 70,
            "+1": 33,
            "-1": 4,
            "laugh": 4,
            "hooray": 7,
            "confused": 15,
            "heart": 7,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212749522",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-212749522",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 212749522,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjc0OTUyMg==",
          "user": {
            "login": "henry0312",
            "id": 433434,
            "node_id": "MDQ6VXNlcjQzMzQzNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/433434?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/henry0312",
            "html_url": "https://github.com/henry0312",
            "followers_url": "https://api.github.com/users/henry0312/followers",
            "following_url": "https://api.github.com/users/henry0312/following{/other_user}",
            "gists_url": "https://api.github.com/users/henry0312/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/henry0312/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/henry0312/subscriptions",
            "organizations_url": "https://api.github.com/users/henry0312/orgs",
            "repos_url": "https://api.github.com/users/henry0312/repos",
            "events_url": "https://api.github.com/users/henry0312/events{/privacy}",
            "received_events_url": "https://api.github.com/users/henry0312/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-21T05:20:47Z",
          "updated_at": "2016-04-21T05:20:47Z",
          "author_association": "CONTRIBUTOR",
          "body": "> We are looking at adding support for multi-gpu in Theano in the near future (it should be fairly straightforward).\n\nI'm looking forward to it \ud83d\ude03\nThank you.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212749522/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212851586",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-212851586",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 212851586,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjg1MTU4Ng==",
          "user": {
            "login": "lemuriandezapada",
            "id": 11992601,
            "node_id": "MDQ6VXNlcjExOTkyNjAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/11992601?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lemuriandezapada",
            "html_url": "https://github.com/lemuriandezapada",
            "followers_url": "https://api.github.com/users/lemuriandezapada/followers",
            "following_url": "https://api.github.com/users/lemuriandezapada/following{/other_user}",
            "gists_url": "https://api.github.com/users/lemuriandezapada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lemuriandezapada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lemuriandezapada/subscriptions",
            "organizations_url": "https://api.github.com/users/lemuriandezapada/orgs",
            "repos_url": "https://api.github.com/users/lemuriandezapada/repos",
            "events_url": "https://api.github.com/users/lemuriandezapada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lemuriandezapada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-21T10:42:56Z",
          "updated_at": "2016-04-21T10:42:56Z",
          "author_association": "NONE",
          "body": "tf.device() scope?\nCan you expand on this?\nI haven't seen it in the api\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212851586/reactions",
            "total_count": 13,
            "+1": 13,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/213828045",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-213828045",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 213828045,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMzgyODA0NQ==",
          "user": {
            "login": "jeffzhengye",
            "id": 4641009,
            "node_id": "MDQ6VXNlcjQ2NDEwMDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4641009?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jeffzhengye",
            "html_url": "https://github.com/jeffzhengye",
            "followers_url": "https://api.github.com/users/jeffzhengye/followers",
            "following_url": "https://api.github.com/users/jeffzhengye/following{/other_user}",
            "gists_url": "https://api.github.com/users/jeffzhengye/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jeffzhengye/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jeffzhengye/subscriptions",
            "organizations_url": "https://api.github.com/users/jeffzhengye/orgs",
            "repos_url": "https://api.github.com/users/jeffzhengye/repos",
            "events_url": "https://api.github.com/users/jeffzhengye/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jeffzhengye/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-23T20:43:07Z",
          "updated_at": "2016-04-23T20:43:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "Any example to use multiple gpus with TF?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/213828045/reactions",
            "total_count": 23,
            "+1": 23,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/213834678",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-213834678",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 213834678,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMzgzNDY3OA==",
          "user": {
            "login": "phalexo",
            "id": 4603365,
            "node_id": "MDQ6VXNlcjQ2MDMzNjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4603365?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/phalexo",
            "html_url": "https://github.com/phalexo",
            "followers_url": "https://api.github.com/users/phalexo/followers",
            "following_url": "https://api.github.com/users/phalexo/following{/other_user}",
            "gists_url": "https://api.github.com/users/phalexo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/phalexo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/phalexo/subscriptions",
            "organizations_url": "https://api.github.com/users/phalexo/orgs",
            "repos_url": "https://api.github.com/users/phalexo/repos",
            "events_url": "https://api.github.com/users/phalexo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/phalexo/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-23T21:24:53Z",
          "updated_at": "2016-04-23T21:24:53Z",
          "author_association": "NONE",
          "body": "Hm. Theano has libgpuarray, which allows one to push shared variables to different devices. This will not do all the work for you of recombining weight matrices but with a little effort you could use multiple GPUs.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/213834678/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/214299393",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-214299393",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 214299393,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDI5OTM5Mw==",
          "user": {
            "login": "nouiz",
            "id": 180987,
            "node_id": "MDQ6VXNlcjE4MDk4Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nouiz",
            "html_url": "https://github.com/nouiz",
            "followers_url": "https://api.github.com/users/nouiz/followers",
            "following_url": "https://api.github.com/users/nouiz/following{/other_user}",
            "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions",
            "organizations_url": "https://api.github.com/users/nouiz/orgs",
            "repos_url": "https://api.github.com/users/nouiz/repos",
            "events_url": "https://api.github.com/users/nouiz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nouiz/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-25T12:45:56Z",
          "updated_at": "2016-04-25T12:45:56Z",
          "author_association": "CONTRIBUTOR",
          "body": "There is platoon, a project on top of Theano for data parallelism. Should\nbe easy to use. We currently focus more on days parallelism then model\nparallelism in Theano. But both are possible.\n\nFred\nLe 23 avr. 2016 17:24, \"phalexo\" notifications@github.com a \u00e9crit :\n\n> Hm. Theano has libgpuarray, which allows one to push shared variables to\n> different devices. This will not do all the work for you of recombining\n> weight matrices but with a little effort you could use multiple GPUs.\n> \n> \u2014\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly or view it on GitHub\n> https://github.com/fchollet/keras/issues/2436#issuecomment-213834678\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/214299393/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/214450940",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-214450940",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 214450940,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDQ1MDk0MA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-25T17:29:46Z",
          "updated_at": "2016-04-25T17:29:46Z",
          "author_association": "COLLABORATOR",
          "body": "I have looked into Platoon and it seemed like it was pretty much compatible\nwith Keras out of the box except for a couple lines of code. Easy to adapt,\nin any case...\n\nOn 25 April 2016 at 05:46, Fr\u00e9d\u00e9ric Bastien notifications@github.com\nwrote:\n\n> There is platoon, a project on top of Theano for data parallelism. Should\n> be easy to use. We currently focus more on days parallelism then model\n> parallelism in Theano. But both are possible.\n> \n> Fred\n> Le 23 avr. 2016 17:24, \"phalexo\" notifications@github.com a \u00e9crit :\n> \n> > Hm. Theano has libgpuarray, which allows one to push shared variables to\n> > different devices. This will not do all the work for you of recombining\n> > weight matrices but with a little effort you could use multiple GPUs.\n> > \n> > \u2014\n> > You are receiving this because you are subscribed to this thread.\n> > Reply to this email directly or view it on GitHub\n> > https://github.com/fchollet/keras/issues/2436#issuecomment-213834678\n> \n> \u2014\n> You are receiving this because you commented.\n> Reply to this email directly or view it on GitHub\n> https://github.com/fchollet/keras/issues/2436#issuecomment-214299393\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/214450940/reactions",
            "total_count": 5,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 5,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/214511394",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-214511394",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 214511394,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDUxMTM5NA==",
          "user": {
            "login": "phalexo",
            "id": 4603365,
            "node_id": "MDQ6VXNlcjQ2MDMzNjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4603365?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/phalexo",
            "html_url": "https://github.com/phalexo",
            "followers_url": "https://api.github.com/users/phalexo/followers",
            "following_url": "https://api.github.com/users/phalexo/following{/other_user}",
            "gists_url": "https://api.github.com/users/phalexo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/phalexo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/phalexo/subscriptions",
            "organizations_url": "https://api.github.com/users/phalexo/orgs",
            "repos_url": "https://api.github.com/users/phalexo/repos",
            "events_url": "https://api.github.com/users/phalexo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/phalexo/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-25T20:31:16Z",
          "updated_at": "2016-04-25T20:31:16Z",
          "author_association": "NONE",
          "body": "The way libgpuarray work is by mapping variables to different GPUs, and\nthen function automatically generates code to transfer data between GPUs as\nneeded.\nOn Apr 25, 2016 16:13, \"Fran\u00e7ois Chollet\" notifications@github.com wrote:\n\n> I have looked into Platoon and it seemed like it was pretty much compatible\n> with Keras out of the box except for a couple lines of code. Easy to adapt,\n> in any case...\n> \n> On 25 April 2016 at 05:46, Fr\u00e9d\u00e9ric Bastien notifications@github.com\n> wrote:\n> \n> > There is platoon, a project on top of Theano for data parallelism. Should\n> > be easy to use. We currently focus more on days parallelism then model\n> > parallelism in Theano. But both are possible.\n> > \n> > Fred\n> > Le 23 avr. 2016 17:24, \"phalexo\" notifications@github.com a \u00e9crit :\n> > \n> > > Hm. Theano has libgpuarray, which allows one to push shared variables\n> > > to\n> > > different devices. This will not do all the work for you of recombining\n> > > weight matrices but with a little effort you could use multiple GPUs.\n> > > \n> > > \u2014\n> > > You are receiving this because you are subscribed to this thread.\n> > > Reply to this email directly or view it on GitHub\n> > > https://github.com/fchollet/keras/issues/2436#issuecomment-213834678\n> > \n> > \u2014\n> > You are receiving this because you commented.\n> > Reply to this email directly or view it on GitHub\n> > https://github.com/fchollet/keras/issues/2436#issuecomment-214299393\n> \n> \u2014\n> You are receiving this because you commented.\n> Reply to this email directly or view it on GitHub\n> https://github.com/fchollet/keras/issues/2436#issuecomment-214450940\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/214511394/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/227911398",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-227911398",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 227911398,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIyNzkxMTM5OA==",
          "user": {
            "login": "jtanios",
            "id": 4391146,
            "node_id": "MDQ6VXNlcjQzOTExNDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4391146?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jtanios",
            "html_url": "https://github.com/jtanios",
            "followers_url": "https://api.github.com/users/jtanios/followers",
            "following_url": "https://api.github.com/users/jtanios/following{/other_user}",
            "gists_url": "https://api.github.com/users/jtanios/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jtanios/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jtanios/subscriptions",
            "organizations_url": "https://api.github.com/users/jtanios/orgs",
            "repos_url": "https://api.github.com/users/jtanios/repos",
            "events_url": "https://api.github.com/users/jtanios/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jtanios/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-06-22T23:53:38Z",
          "updated_at": "2016-06-22T23:53:38Z",
          "author_association": "NONE",
          "body": "> I have looked into Platoon and it seemed like it was pretty much compatible\n> with Keras out of the box except for a couple lines of code. Easy to adapt,\n> in any case...\n\nWhat's the priority of adding multi GPU support for the theano backend?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/227911398/reactions",
            "total_count": 7,
            "+1": 5,
            "-1": 0,
            "laugh": 0,
            "hooray": 2,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/228022650",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-228022650",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 228022650,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIyODAyMjY1MA==",
          "user": {
            "login": "phalexo",
            "id": 4603365,
            "node_id": "MDQ6VXNlcjQ2MDMzNjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4603365?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/phalexo",
            "html_url": "https://github.com/phalexo",
            "followers_url": "https://api.github.com/users/phalexo/followers",
            "following_url": "https://api.github.com/users/phalexo/following{/other_user}",
            "gists_url": "https://api.github.com/users/phalexo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/phalexo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/phalexo/subscriptions",
            "organizations_url": "https://api.github.com/users/phalexo/orgs",
            "repos_url": "https://api.github.com/users/phalexo/repos",
            "events_url": "https://api.github.com/users/phalexo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/phalexo/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-06-23T11:32:44Z",
          "updated_at": "2016-06-23T11:32:44Z",
          "author_association": "NONE",
          "body": "I think it would expand user base for Keras. I have several Titan X in the\nsame box. Please, take a look at libgpuarray as well.\nOn Jun 22, 2016 19:54, \"themummy\" notifications@github.com wrote:\n\n> I have looked into Platoon and it seemed like it was pretty much compatible\n> with Keras out of the box except for a couple lines of code. Easy to adapt,\n> in any case...\n> \n> What's the priority of adding multi GPU support for the theano backend?\n> \n> \u2014\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> https://github.com/fchollet/keras/issues/2436#issuecomment-227911398,\n> or mute the thread\n> https://github.com/notifications/unsubscribe/AEY95aBPElrTcVv0ZzPFyDgcDKMaw-0iks5qOcsXgaJpZM4IMTcS\n> .\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/228022650/reactions",
            "total_count": 6,
            "+1": 5,
            "-1": 0,
            "laugh": 1,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/235326660",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-235326660",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 235326660,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzNTMyNjY2MA==",
          "user": {
            "login": "tetmin",
            "id": 5561566,
            "node_id": "MDQ6VXNlcjU1NjE1NjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5561566?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tetmin",
            "html_url": "https://github.com/tetmin",
            "followers_url": "https://api.github.com/users/tetmin/followers",
            "following_url": "https://api.github.com/users/tetmin/following{/other_user}",
            "gists_url": "https://api.github.com/users/tetmin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tetmin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tetmin/subscriptions",
            "organizations_url": "https://api.github.com/users/tetmin/orgs",
            "repos_url": "https://api.github.com/users/tetmin/repos",
            "events_url": "https://api.github.com/users/tetmin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tetmin/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-07-26T16:35:48Z",
          "updated_at": "2016-07-26T16:35:48Z",
          "author_association": "NONE",
          "body": "How does this actually work in tensorflow? There is a brief tutorial here: http://blog.keras.io/keras-as-a-simplified-interface-to-tensorflow-tutorial.html, I understand the concept of running the model replicas on seperate GPU devices & then merging the weights, but how do we actually run this? instead of model.fit do we call merged.fit on the result of the merged models?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/235326660/reactions",
            "total_count": 8,
            "+1": 8,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/241237224",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-241237224",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 241237224,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTIzNzIyNA==",
          "user": {
            "login": "pengpaiSH",
            "id": 3724085,
            "node_id": "MDQ6VXNlcjM3MjQwODU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3724085?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pengpaiSH",
            "html_url": "https://github.com/pengpaiSH",
            "followers_url": "https://api.github.com/users/pengpaiSH/followers",
            "following_url": "https://api.github.com/users/pengpaiSH/following{/other_user}",
            "gists_url": "https://api.github.com/users/pengpaiSH/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pengpaiSH/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pengpaiSH/subscriptions",
            "organizations_url": "https://api.github.com/users/pengpaiSH/orgs",
            "repos_url": "https://api.github.com/users/pengpaiSH/repos",
            "events_url": "https://api.github.com/users/pengpaiSH/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pengpaiSH/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-21T03:43:29Z",
          "updated_at": "2016-08-21T03:43:29Z",
          "author_association": "NONE",
          "body": "@tetmin I have the same confusion as yours. Although the blog shows how to predict model in different GPUs, it is still unclear how to train the same model across different GPUs in a single machine, i.e. I need data parallelism and don't know how to implement it in Keras with TensorFlow as backend.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/241237224/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/241606892",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-241606892",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 241606892,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTYwNjg5Mg==",
          "user": {
            "login": "rudaoshi",
            "id": 866525,
            "node_id": "MDQ6VXNlcjg2NjUyNQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/866525?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rudaoshi",
            "html_url": "https://github.com/rudaoshi",
            "followers_url": "https://api.github.com/users/rudaoshi/followers",
            "following_url": "https://api.github.com/users/rudaoshi/following{/other_user}",
            "gists_url": "https://api.github.com/users/rudaoshi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rudaoshi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rudaoshi/subscriptions",
            "organizations_url": "https://api.github.com/users/rudaoshi/orgs",
            "repos_url": "https://api.github.com/users/rudaoshi/repos",
            "events_url": "https://api.github.com/users/rudaoshi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rudaoshi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-23T02:10:19Z",
          "updated_at": "2016-08-23T02:10:19Z",
          "author_association": "NONE",
          "body": "Agreed with @pengpaiSH and @tetmin . Hope there would be more details.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/241606892/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/241615277",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-241615277",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 241615277,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTYxNTI3Nw==",
          "user": {
            "login": "pengpaiSH",
            "id": 3724085,
            "node_id": "MDQ6VXNlcjM3MjQwODU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3724085?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pengpaiSH",
            "html_url": "https://github.com/pengpaiSH",
            "followers_url": "https://api.github.com/users/pengpaiSH/followers",
            "following_url": "https://api.github.com/users/pengpaiSH/following{/other_user}",
            "gists_url": "https://api.github.com/users/pengpaiSH/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pengpaiSH/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pengpaiSH/subscriptions",
            "organizations_url": "https://api.github.com/users/pengpaiSH/orgs",
            "repos_url": "https://api.github.com/users/pengpaiSH/repos",
            "events_url": "https://api.github.com/users/pengpaiSH/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pengpaiSH/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-23T03:14:38Z",
          "updated_at": "2016-08-23T03:15:05Z",
          "author_association": "NONE",
          "body": "@rudaoshi Well, I know this would not be proper to suggest since we are in the Keras community, and personally I am a Big Big Big fan of Keras! We know TensorFlow could utilize Multi-GPUs by computing averaging gradients across different devices, however, I am expecting Keras could provide a simple and unified API (Keras's Style) to help me focus my big picture end hide those IO/Parallel Computing details. For the time being, in order to make good use of multiple GPUs, I am doing my deep learning programs with MXNET, which I only specify the GPU IDs and the lib will do everything it needs under the hood.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/241615277/reactions",
            "total_count": 4,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/242279466",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-242279466",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 242279466,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjI3OTQ2Ng==",
          "user": {
            "login": "WenchenLi",
            "id": 5865755,
            "node_id": "MDQ6VXNlcjU4NjU3NTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5865755?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/WenchenLi",
            "html_url": "https://github.com/WenchenLi",
            "followers_url": "https://api.github.com/users/WenchenLi/followers",
            "following_url": "https://api.github.com/users/WenchenLi/following{/other_user}",
            "gists_url": "https://api.github.com/users/WenchenLi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/WenchenLi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/WenchenLi/subscriptions",
            "organizations_url": "https://api.github.com/users/WenchenLi/orgs",
            "repos_url": "https://api.github.com/users/WenchenLi/repos",
            "events_url": "https://api.github.com/users/WenchenLi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/WenchenLi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-25T04:40:30Z",
          "updated_at": "2016-08-25T04:40:30Z",
          "author_association": "NONE",
          "body": "@fchollet I saw your [blog](https://blog.keras.io/keras-as-a-simplified-interface-to-tensorflow-tutorial.html) with multi gpu training, thanks for pointing out the way doing multi gpu training, but I would really appreciate it if say model.fit() has a gpu=n option, I'll willing to implement my own version on that, may I ask for suggestions? or I'm willing to contribute on the multi gpu training within keras with more abstraction from end users. Thanks in advance! \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/242279466/reactions",
            "total_count": 25,
            "+1": 25,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/242601720",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-242601720",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 242601720,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjYwMTcyMA==",
          "user": {
            "login": "pengpaiSH",
            "id": 3724085,
            "node_id": "MDQ6VXNlcjM3MjQwODU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3724085?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pengpaiSH",
            "html_url": "https://github.com/pengpaiSH",
            "followers_url": "https://api.github.com/users/pengpaiSH/followers",
            "following_url": "https://api.github.com/users/pengpaiSH/following{/other_user}",
            "gists_url": "https://api.github.com/users/pengpaiSH/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pengpaiSH/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pengpaiSH/subscriptions",
            "organizations_url": "https://api.github.com/users/pengpaiSH/orgs",
            "repos_url": "https://api.github.com/users/pengpaiSH/repos",
            "events_url": "https://api.github.com/users/pengpaiSH/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pengpaiSH/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-26T01:55:44Z",
          "updated_at": "2016-08-26T01:55:44Z",
          "author_association": "NONE",
          "body": "@WenchenLi +1, `gpus=0,1,2...` is exactly what I need! \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/242601720/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/246128420",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-246128420",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 246128420,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjEyODQyMA==",
          "user": {
            "login": "acrosson",
            "id": 4795661,
            "node_id": "MDQ6VXNlcjQ3OTU2NjE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4795661?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/acrosson",
            "html_url": "https://github.com/acrosson",
            "followers_url": "https://api.github.com/users/acrosson/followers",
            "following_url": "https://api.github.com/users/acrosson/following{/other_user}",
            "gists_url": "https://api.github.com/users/acrosson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/acrosson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/acrosson/subscriptions",
            "organizations_url": "https://api.github.com/users/acrosson/orgs",
            "repos_url": "https://api.github.com/users/acrosson/repos",
            "events_url": "https://api.github.com/users/acrosson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/acrosson/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-09-10T18:41:44Z",
          "updated_at": "2016-09-10T18:41:44Z",
          "author_association": "NONE",
          "body": "@WenchenLi did you create a PR for multigpu abstraction? \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/246128420/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/255395753",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-255395753",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 255395753,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTM5NTc1Mw==",
          "user": {
            "login": "anewlearner",
            "id": 10386613,
            "node_id": "MDQ6VXNlcjEwMzg2NjEz",
            "avatar_url": "https://avatars.githubusercontent.com/u/10386613?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/anewlearner",
            "html_url": "https://github.com/anewlearner",
            "followers_url": "https://api.github.com/users/anewlearner/followers",
            "following_url": "https://api.github.com/users/anewlearner/following{/other_user}",
            "gists_url": "https://api.github.com/users/anewlearner/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/anewlearner/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/anewlearner/subscriptions",
            "organizations_url": "https://api.github.com/users/anewlearner/orgs",
            "repos_url": "https://api.github.com/users/anewlearner/repos",
            "events_url": "https://api.github.com/users/anewlearner/events{/privacy}",
            "received_events_url": "https://api.github.com/users/anewlearner/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-21T14:42:08Z",
          "updated_at": "2016-10-21T14:42:08Z",
          "author_association": "NONE",
          "body": "Hope someone can contribute on the multi gpu training within keras. Thanks in advance.\n\nI have two gpus. I did not do anything to set which gpu would be used for training. But when I used the `nvidia-smi` to check memory. I found almost all of the memory in two gpus were in use. I thought only one gpu would be used.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/255395753/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/255404169",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-255404169",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 255404169,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTQwNDE2OQ==",
          "user": {
            "login": "acrosson",
            "id": 4795661,
            "node_id": "MDQ6VXNlcjQ3OTU2NjE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4795661?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/acrosson",
            "html_url": "https://github.com/acrosson",
            "followers_url": "https://api.github.com/users/acrosson/followers",
            "following_url": "https://api.github.com/users/acrosson/following{/other_user}",
            "gists_url": "https://api.github.com/users/acrosson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/acrosson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/acrosson/subscriptions",
            "organizations_url": "https://api.github.com/users/acrosson/orgs",
            "repos_url": "https://api.github.com/users/acrosson/repos",
            "events_url": "https://api.github.com/users/acrosson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/acrosson/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-21T15:13:15Z",
          "updated_at": "2016-10-21T15:13:15Z",
          "author_association": "NONE",
          "body": "@anewlearner apparently this is the intended functionality of TF. \nUse `export CUDA_VISIBLE_DEVICES=\"0\"`.\n\nSee https://github.com/tensorflow/tensorflow/issues/5066 for details\n\nLooking forward to a simplified version of mult-gpu  :) \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/255404169/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/256679606",
          "html_url": "https://github.com/keras-team/keras/issues/2436#issuecomment-256679606",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2436",
          "id": 256679606,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1NjY3OTYwNg==",
          "user": {
            "login": "jonilaserson",
            "id": 5720840,
            "node_id": "MDQ6VXNlcjU3MjA4NDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5720840?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonilaserson",
            "html_url": "https://github.com/jonilaserson",
            "followers_url": "https://api.github.com/users/jonilaserson/followers",
            "following_url": "https://api.github.com/users/jonilaserson/following{/other_user}",
            "gists_url": "https://api.github.com/users/jonilaserson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jonilaserson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jonilaserson/subscriptions",
            "organizations_url": "https://api.github.com/users/jonilaserson/orgs",
            "repos_url": "https://api.github.com/users/jonilaserson/repos",
            "events_url": "https://api.github.com/users/jonilaserson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jonilaserson/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-27T15:38:44Z",
          "updated_at": "2016-10-27T15:38:44Z",
          "author_association": "NONE",
          "body": "For data parallelization in keras, you can use this approach:\n\nimport tensorflow as tf\n\nfrom keras import backend as K\n\nfrom keras.models import Model\n\nfrom keras.layers import Input, merge\n\nfrom keras.layers.core import Lambda\n\ndef slice_batch(x, n_gpus, part):\n\n```\nsh = K.shape(x)\n\nL = sh[0] / n_gpus\n\nif part == n_gpus - 1:\n\n    return x[part*L:]\n\nreturn x[part*L:(part+1)*L]\n```\n\ndef to_multi_gpu(model, n_gpus=2):\n\n```\nwith tf.device('/cpu:0'):\n\n    x = Input(model.input_shape[1:], name=model.input_names[0])\n\n\ntowers = []\n\nfor g in range(n_gpus):\n\n    with tf.device('/gpu:' + str(g)):\n\n        slice_g = Lambda(slice_batch, lambda shape: shape,\n```\n\narguments={'n_gpus':n_gpus, 'part':g})(x)\n\n```\n        towers.append(model(slice_g))\n\n\n    with tf.device('/cpu:0'):\n\n        merged = merge(towers, mode='concat', concat_axis=0)\n\n\nreturn Model(input=[x], output=merged)\n```\n\n# To use just take any model and set model = to_multi_gpu(model).\n\n# model.fit() and model.predict() should work without any change.\n\nOn Fri, Oct 21, 2016 at 6:13 PM, Alexander notifications@github.com wrote:\n\n> @anewlearner https://github.com/anewlearner apparently this is the\n> intended functionality of TF.\n> Use export CUDA_VISIBLE_DEVICES=\"0\".\n> \n> See tensorflow/tensorflow#5066\n> https://github.com/tensorflow/tensorflow/issues/5066 for details\n> \n> Looking forward to a simplified version of mult-gpu :)\n> \n> \u2014\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> https://github.com/fchollet/keras/issues/2436#issuecomment-255404169,\n> or mute the thread\n> https://github.com/notifications/unsubscribe-auth/AFdLCAoGsCYxA9CVIN7IIJqX7ddkxEurks5q2NaagaJpZM4IMTcS\n> .\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/256679606/reactions",
            "total_count": 10,
            "+1": 10,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/98",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/98/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/98/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/98/events",
      "html_url": "https://github.com/keras-team/keras/issues/98",
      "id": 73243556,
      "node_id": "MDU6SXNzdWU3MzI0MzU1Ng==",
      "number": 98,
      "title": "\"real time\" recurrent nets",
      "user": {
        "login": "lemuriandezapada",
        "id": 11992601,
        "node_id": "MDQ6VXNlcjExOTkyNjAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/11992601?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lemuriandezapada",
        "html_url": "https://github.com/lemuriandezapada",
        "followers_url": "https://api.github.com/users/lemuriandezapada/followers",
        "following_url": "https://api.github.com/users/lemuriandezapada/following{/other_user}",
        "gists_url": "https://api.github.com/users/lemuriandezapada/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/lemuriandezapada/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lemuriandezapada/subscriptions",
        "organizations_url": "https://api.github.com/users/lemuriandezapada/orgs",
        "repos_url": "https://api.github.com/users/lemuriandezapada/repos",
        "events_url": "https://api.github.com/users/lemuriandezapada/events{/privacy}",
        "received_events_url": "https://api.github.com/users/lemuriandezapada/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 131,
      "created_at": "2015-05-05T08:14:05Z",
      "updated_at": "2016-06-18T00:30:30Z",
      "closed_at": "2015-12-11T16:32:46Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "Hey guys,\n\nI was wondering how are the initial internal states in a recurrent layer dealt with? So far it appears they are reset are every run. Is there any way to preserve them?\n\nI'd like to be able to feed a .predict_proba() function data one time step at a time for a time series task, as the points come in, without also feeding the entire history all over again. Is this somehow possible? Thanks\n",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/98/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/98/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107226703",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-107226703",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 107226703,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzIyNjcwMw==",
          "user": {
            "login": "ssamot",
            "id": 2523050,
            "node_id": "MDQ6VXNlcjI1MjMwNTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2523050?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ssamot",
            "html_url": "https://github.com/ssamot",
            "followers_url": "https://api.github.com/users/ssamot/followers",
            "following_url": "https://api.github.com/users/ssamot/following{/other_user}",
            "gists_url": "https://api.github.com/users/ssamot/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ssamot/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ssamot/subscriptions",
            "organizations_url": "https://api.github.com/users/ssamot/orgs",
            "repos_url": "https://api.github.com/users/ssamot/repos",
            "events_url": "https://api.github.com/users/ssamot/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ssamot/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-05-31T17:41:36Z",
          "updated_at": "2015-05-31T17:41:36Z",
          "author_association": "NONE",
          "body": "Adding on top of the comment above - it should be possible to train incrementally as well, if you can keep state.  Otherwise one would possibly need to remember really large sequences and replay them if training online. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107226703/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107226877",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-107226877",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 107226877,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzIyNjg3Nw==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-05-31T17:44:40Z",
          "updated_at": "2015-05-31T17:44:40Z",
          "author_association": "COLLABORATOR",
          "body": "I agree that we need some form of stateful RNNs, that would be particularly useful for sequence generation. It's unclear yet if that should be setup as a mode of existing RNNs, or as different layers altogether.\n\nAnybody interested in looking at it?  \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107226877/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107232091",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-107232091",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 107232091,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzIzMjA5MQ==",
          "user": {
            "login": "ssamot",
            "id": 2523050,
            "node_id": "MDQ6VXNlcjI1MjMwNTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2523050?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ssamot",
            "html_url": "https://github.com/ssamot",
            "followers_url": "https://api.github.com/users/ssamot/followers",
            "following_url": "https://api.github.com/users/ssamot/following{/other_user}",
            "gists_url": "https://api.github.com/users/ssamot/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ssamot/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ssamot/subscriptions",
            "organizations_url": "https://api.github.com/users/ssamot/orgs",
            "repos_url": "https://api.github.com/users/ssamot/repos",
            "events_url": "https://api.github.com/users/ssamot/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ssamot/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-05-31T18:22:52Z",
          "updated_at": "2015-05-31T18:22:52Z",
          "author_association": "NONE",
          "body": "Well - my personal preference would be to use the same layer - something along the lines of `stateless = true` by default. You would only need to somehow preserve `h_tm1, c_tm1`  from calls between train - right?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107232091/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107233025",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-107233025",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 107233025,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzIzMzAyNQ==",
          "user": {
            "login": "ssamot",
            "id": 2523050,
            "node_id": "MDQ6VXNlcjI1MjMwNTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2523050?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ssamot",
            "html_url": "https://github.com/ssamot",
            "followers_url": "https://api.github.com/users/ssamot/followers",
            "following_url": "https://api.github.com/users/ssamot/following{/other_user}",
            "gists_url": "https://api.github.com/users/ssamot/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ssamot/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ssamot/subscriptions",
            "organizations_url": "https://api.github.com/users/ssamot/orgs",
            "repos_url": "https://api.github.com/users/ssamot/repos",
            "events_url": "https://api.github.com/users/ssamot/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ssamot/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-05-31T18:44:49Z",
          "updated_at": "2015-05-31T18:44:49Z",
          "author_association": "NONE",
          "body": "OK - I'll try doing an implementation/test with simple character generation and use the old state to init ``theano.scan'. Let's see...\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107233025/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107390820",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-107390820",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 107390820,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzM5MDgyMA==",
          "user": {
            "login": "ssamot",
            "id": 2523050,
            "node_id": "MDQ6VXNlcjI1MjMwNTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2523050?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ssamot",
            "html_url": "https://github.com/ssamot",
            "followers_url": "https://api.github.com/users/ssamot/followers",
            "following_url": "https://api.github.com/users/ssamot/following{/other_user}",
            "gists_url": "https://api.github.com/users/ssamot/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ssamot/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ssamot/subscriptions",
            "organizations_url": "https://api.github.com/users/ssamot/orgs",
            "repos_url": "https://api.github.com/users/ssamot/repos",
            "events_url": "https://api.github.com/users/ssamot/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ssamot/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-01T10:26:11Z",
          "updated_at": "2015-06-01T10:26:11Z",
          "author_association": "NONE",
          "body": "This seems to require possibly a much deeper re-write than I anticipated initially - whatever `theano.scan` uses as initial input seems to be compiled once and stays there - one might need to save state in shared variables somehow? Any ideas?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107390820/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107396986",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-107396986",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 107396986,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzM5Njk4Ng==",
          "user": {
            "login": "lemuriandezapada",
            "id": 11992601,
            "node_id": "MDQ6VXNlcjExOTkyNjAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/11992601?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lemuriandezapada",
            "html_url": "https://github.com/lemuriandezapada",
            "followers_url": "https://api.github.com/users/lemuriandezapada/followers",
            "following_url": "https://api.github.com/users/lemuriandezapada/following{/other_user}",
            "gists_url": "https://api.github.com/users/lemuriandezapada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lemuriandezapada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lemuriandezapada/subscriptions",
            "organizations_url": "https://api.github.com/users/lemuriandezapada/orgs",
            "repos_url": "https://api.github.com/users/lemuriandezapada/repos",
            "events_url": "https://api.github.com/users/lemuriandezapada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lemuriandezapada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-01T10:47:50Z",
          "updated_at": "2015-06-01T10:47:50Z",
          "author_association": "NONE",
          "body": "Is there no way to read or set the internal states by hand?\nI wouldn't really touch the training procedure, but the running/prediction procedure needs to have some sort of persistent mode.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107396986/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107405157",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-107405157",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 107405157,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzQwNTE1Nw==",
          "user": {
            "login": "ssamot",
            "id": 2523050,
            "node_id": "MDQ6VXNlcjI1MjMwNTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2523050?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ssamot",
            "html_url": "https://github.com/ssamot",
            "followers_url": "https://api.github.com/users/ssamot/followers",
            "following_url": "https://api.github.com/users/ssamot/following{/other_user}",
            "gists_url": "https://api.github.com/users/ssamot/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ssamot/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ssamot/subscriptions",
            "organizations_url": "https://api.github.com/users/ssamot/orgs",
            "repos_url": "https://api.github.com/users/ssamot/repos",
            "events_url": "https://api.github.com/users/ssamot/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ssamot/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-01T11:21:44Z",
          "updated_at": "2015-06-01T11:21:44Z",
          "author_association": "NONE",
          "body": "The reading you can do, but not the setting - AFAIK  - the scan operation is symbolic and the internal state is re-initialised after every pass. I cannot see how the state can be set manually in an easy manner. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107405157/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107421569",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-107421569",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 107421569,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzQyMTU2OQ==",
          "user": {
            "login": "lemuriandezapada",
            "id": 11992601,
            "node_id": "MDQ6VXNlcjExOTkyNjAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/11992601?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lemuriandezapada",
            "html_url": "https://github.com/lemuriandezapada",
            "followers_url": "https://api.github.com/users/lemuriandezapada/followers",
            "following_url": "https://api.github.com/users/lemuriandezapada/following{/other_user}",
            "gists_url": "https://api.github.com/users/lemuriandezapada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lemuriandezapada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lemuriandezapada/subscriptions",
            "organizations_url": "https://api.github.com/users/lemuriandezapada/orgs",
            "repos_url": "https://api.github.com/users/lemuriandezapada/repos",
            "events_url": "https://api.github.com/users/lemuriandezapada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lemuriandezapada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-01T12:22:55Z",
          "updated_at": "2015-06-01T12:22:55Z",
          "author_association": "NONE",
          "body": "That's a bummer. This implies a reading of the weights and reimplementing the whole nets in a \"home\", slower, numpy manner. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107421569/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107799046",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-107799046",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 107799046,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzc5OTA0Ng==",
          "user": {
            "login": "vzhong",
            "id": 1855260,
            "node_id": "MDQ6VXNlcjE4NTUyNjA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1855260?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vzhong",
            "html_url": "https://github.com/vzhong",
            "followers_url": "https://api.github.com/users/vzhong/followers",
            "following_url": "https://api.github.com/users/vzhong/following{/other_user}",
            "gists_url": "https://api.github.com/users/vzhong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vzhong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vzhong/subscriptions",
            "organizations_url": "https://api.github.com/users/vzhong/orgs",
            "repos_url": "https://api.github.com/users/vzhong/repos",
            "events_url": "https://api.github.com/users/vzhong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vzhong/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-02T04:28:14Z",
          "updated_at": "2015-06-02T04:28:14Z",
          "author_association": "CONTRIBUTOR",
          "body": "Can't you set the initial internal states through a shared variable? For example here's the Theano example of the recurrence for a vanilla RNN:\n\n``` python\n        def recurrence(x_t, h_tm1):\n            h_t = T.nnet.sigmoid(T.dot(x_t, self.wx)\n                                 + T.dot(h_tm1, self.wh) + self.bh)\n            s_t = T.nnet.softmax(T.dot(h_t, self.w) + self.b)\n            return [h_t, s_t]\n\n        [h, s], _ = theano.scan(fn=recurrence,\n                                sequences=x,\n                                outputs_info=[self.h0, None],\n                                n_steps=x.shape[0])\n\n        p_y_given_x_sentence = s[:, 0, :]\n        y_pred = T.argmax(p_y_given_x_sentence, axis=1)\n```\n\nIn this case can't you change the initial hidden state by setting `self.h0`?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107799046/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107859127",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-107859127",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 107859127,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEwNzg1OTEyNw==",
          "user": {
            "login": "ssamot",
            "id": 2523050,
            "node_id": "MDQ6VXNlcjI1MjMwNTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2523050?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ssamot",
            "html_url": "https://github.com/ssamot",
            "followers_url": "https://api.github.com/users/ssamot/followers",
            "following_url": "https://api.github.com/users/ssamot/following{/other_user}",
            "gists_url": "https://api.github.com/users/ssamot/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ssamot/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ssamot/subscriptions",
            "organizations_url": "https://api.github.com/users/ssamot/orgs",
            "repos_url": "https://api.github.com/users/ssamot/repos",
            "events_url": "https://api.github.com/users/ssamot/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ssamot/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-02T08:27:13Z",
          "updated_at": "2015-06-02T09:48:43Z",
          "author_association": "NONE",
          "body": "Yes of course - but `h` is symbolic right? You can do something like ``self.h0=shared_zeros(shape = (1, self.output_dim))` to create the shared variable - how do you set `h0 = h`?\n\nso you can't do: \n`\n\n```\n    f = theano.function(inputs=[self.h0], outputs=outputs})\n    self.h0.set_value(f()[-1])\n```\n\n`\n(updated for clarity)\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/107859127/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/109817320",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-109817320",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 109817320,
          "node_id": "MDEyOklzc3VlQ29tbWVudDEwOTgxNzMyMA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-08T00:26:54Z",
          "updated_at": "2015-06-08T00:27:02Z",
          "author_association": "COLLABORATOR",
          "body": "Anything new on this front? I will try to repro Karpathy's RNN experiments in Keras, and add everything that's needed in the process.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/109817320/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/111096565",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-111096565",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 111096565,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMTA5NjU2NQ==",
          "user": {
            "login": "ssamot",
            "id": 2523050,
            "node_id": "MDQ6VXNlcjI1MjMwNTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2523050?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ssamot",
            "html_url": "https://github.com/ssamot",
            "followers_url": "https://api.github.com/users/ssamot/followers",
            "following_url": "https://api.github.com/users/ssamot/following{/other_user}",
            "gists_url": "https://api.github.com/users/ssamot/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ssamot/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ssamot/subscriptions",
            "organizations_url": "https://api.github.com/users/ssamot/orgs",
            "repos_url": "https://api.github.com/users/ssamot/repos",
            "events_url": "https://api.github.com/users/ssamot/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ssamot/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-11T11:41:49Z",
          "updated_at": "2015-06-11T11:41:49Z",
          "author_association": "NONE",
          "body": "Just an addition - I am currently struggling to come up with a good API for this. If you are to do state properly, apart from keeping state, you will need a mask of some sort that will tell you when to keep the current activation unchanged and possibley ignore padded elements.\n\nThus you would need to change `get_output(self, train)` to something like `get_output(self, train, mask_train, mask_run)` where each mask would be a 3d tensor with possible values for each element 0-1, first for train, 0-1 for keep hidden activations or not.  This would change the overall interal API - does it make sense?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/111096565/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/111226939",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-111226939",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 111226939,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMTIyNjkzOQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-11T18:09:19Z",
          "updated_at": "2015-06-11T18:09:19Z",
          "author_association": "COLLABORATOR",
          "body": "> Thus you would need to change get_output(self, train) to something like get_output(self, train, mask_train, mask_run) where each mask would be a 3d tensor with possible values for each element 0-1, first for train, 0-1 for keep hidden activations or not. This would change the overall interal API - does it make sense?\n\nIf you need a mask, why not make it an attribute of the layer? Then there would be no need to change the overarching API. But to be honest I am not sure I see what you are describing --could you provide more details?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/111226939/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/111230677",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-111230677",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 111230677,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMTIzMDY3Nw==",
          "user": {
            "login": "ssamot",
            "id": 2523050,
            "node_id": "MDQ6VXNlcjI1MjMwNTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2523050?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ssamot",
            "html_url": "https://github.com/ssamot",
            "followers_url": "https://api.github.com/users/ssamot/followers",
            "following_url": "https://api.github.com/users/ssamot/following{/other_user}",
            "gists_url": "https://api.github.com/users/ssamot/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ssamot/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ssamot/subscriptions",
            "organizations_url": "https://api.github.com/users/ssamot/orgs",
            "repos_url": "https://api.github.com/users/ssamot/repos",
            "events_url": "https://api.github.com/users/ssamot/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ssamot/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-11T18:19:32Z",
          "updated_at": "2015-06-11T18:19:32Z",
          "author_association": "NONE",
          "body": "You cannot make it an attribute of the layers unless there is another way to get the batch you are sending. Imagine a scenario where you have to: read 10 characters then output a single character, keep the state and output another character after receiving three more characters. \n\nIf you don't have a mask you would have to have a padded 3d tensor - not that efficient. Does this make more sense now? \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/111230677/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/111277294",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-111277294",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 111277294,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMTI3NzI5NA==",
          "user": {
            "login": "jonilaserson",
            "id": 5720840,
            "node_id": "MDQ6VXNlcjU3MjA4NDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5720840?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonilaserson",
            "html_url": "https://github.com/jonilaserson",
            "followers_url": "https://api.github.com/users/jonilaserson/followers",
            "following_url": "https://api.github.com/users/jonilaserson/following{/other_user}",
            "gists_url": "https://api.github.com/users/jonilaserson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jonilaserson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jonilaserson/subscriptions",
            "organizations_url": "https://api.github.com/users/jonilaserson/orgs",
            "repos_url": "https://api.github.com/users/jonilaserson/repos",
            "events_url": "https://api.github.com/users/jonilaserson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jonilaserson/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-11T21:04:59Z",
          "updated_at": "2015-06-11T21:04:59Z",
          "author_association": "NONE",
          "body": "A. I think it would help if you write what use-cases of stateful RNNs you\nwould like to be able to model.\n\nB. I'm not sure I see the problem in the example you've given. Why can't\nyou output a 'null' character every time you don't have a character to\noutput, and treat it as a character-to-character RNN?\n\nC. Again, I'm not sure if that was the issue you were facing, but if it was\nabout making predictions on a batch, then here is a thought: maybe it is ok\nto allow only one input sequence, instead of a batch, when doing prediction\n(feedforward) on stateful RNNs? The training can still be in batch because\nyou can provide the mask in advance.\n\nOn Thu, Jun 11, 2015 at 9:19 PM, ssamot notifications@github.com wrote:\n\n> You cannot make it an attribute of the layers unless there is another way\n> to get the batch you are sending. Imagine a scenario where you have to:\n> read 10 characters then output a single character, keep the state and\n> output another character after receiving three more characters.\n> \n> If you don't have a mask you would have to have a padded 3d tensor - not\n> that efficient. Does this make more sense now?\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/fchollet/keras/issues/98#issuecomment-111230677.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/111277294/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/111282058",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-111282058",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 111282058,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMTI4MjA1OA==",
          "user": {
            "login": "ssamot",
            "id": 2523050,
            "node_id": "MDQ6VXNlcjI1MjMwNTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2523050?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ssamot",
            "html_url": "https://github.com/ssamot",
            "followers_url": "https://api.github.com/users/ssamot/followers",
            "following_url": "https://api.github.com/users/ssamot/following{/other_user}",
            "gists_url": "https://api.github.com/users/ssamot/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ssamot/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ssamot/subscriptions",
            "organizations_url": "https://api.github.com/users/ssamot/orgs",
            "repos_url": "https://api.github.com/users/ssamot/repos",
            "events_url": "https://api.github.com/users/ssamot/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ssamot/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-11T21:26:29Z",
          "updated_at": "2015-06-11T21:26:29Z",
          "author_association": "NONE",
          "body": "> B. I'm not sure I see the problem in the example you've given. Why can't\n> you output a 'null' character every time you don't have a character to\n> output, and treat it as a character-to-character RNN?\n\nWhat's the null character for audio? (well yes it's probably some kind of silence, but you can see the point). In fact your network might go through a phase of trying to predict this \"silence\".  Padding of any kind is horrible - it leaves artifacts all over the place, makes the training harder and produces unexpected behaviour. \n\nMy point is that you need to be able to control the state of the RNN - when it should be updated, when not, when there are things to learn  -  in a generic fashion. Otherwise you will be changing the API from usecase to usecase. \n\nLasagne tries to do something along this lines, but does not go far enough in my view - see `get_output_for`: \n\nhttps://github.com/craffel/nntools/blob/recurrent/lasagne/layers/recurrent.py \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/111282058/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/111284624",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-111284624",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 111284624,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMTI4NDYyNA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-11T21:41:20Z",
          "updated_at": "2015-06-11T21:41:20Z",
          "author_association": "COLLABORATOR",
          "body": "Can you give a code example of what you are trying to do, along with an example? Just a generic outline would be enough, not working code. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/111284624/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/111291284",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-111291284",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 111291284,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMTI5MTI4NA==",
          "user": {
            "login": "ssamot",
            "id": 2523050,
            "node_id": "MDQ6VXNlcjI1MjMwNTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2523050?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ssamot",
            "html_url": "https://github.com/ssamot",
            "followers_url": "https://api.github.com/users/ssamot/followers",
            "following_url": "https://api.github.com/users/ssamot/following{/other_user}",
            "gists_url": "https://api.github.com/users/ssamot/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ssamot/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ssamot/subscriptions",
            "organizations_url": "https://api.github.com/users/ssamot/orgs",
            "repos_url": "https://api.github.com/users/ssamot/repos",
            "events_url": "https://api.github.com/users/ssamot/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ssamot/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-11T22:13:58Z",
          "updated_at": "2015-06-11T22:13:58Z",
          "author_association": "NONE",
          "body": "Let's assume you are given this simple string: \n\n\"Bob moved to the bedroom. Where is bob? Bedroom. Bob moved to the Garden. Where is Bob? Garden\"\n\nSuppose now you want to learn to answer the questions pose above. As it currently stands in keras you would need to create training examples like this:\n\nTraining examples:\nX, y\n[\"Bob moved to the bedroom. Where is bob? \"],[ \"B\"]\n[\"Bob moved to the bedroom. Where is bob? B\"], [\"e\"]\n[\"Bob moved to the bedroom. Where is bob? Be\"],[ \"d\"]\n[\"Bob moved to the bedroom. Where is bob? Bed]\",[ \"r\"]\n\n...\n\n[\"Bob moved to the bedroom. Where is bob? Bedroom. Bob moved to the Garden. Where is Bob? Garde\" ],[ \"n\"]\n\nIn the current keras implementation you would need to pad almost everything to the maximum length with some \"null\" characters. Notice that you don't care about predicting the next character - only the ones that come after a question mark. You will also be outputting a sequence of unknown length incrementally by outputting  characters one - by - one.\n\nMaybe there is an obvious way of solving this and I cannot see it - dunno. How would you handle this?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/111291284/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/111409953",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-111409953",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 111409953,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMTQwOTk1Mw==",
          "user": {
            "login": "jonilaserson",
            "id": 5720840,
            "node_id": "MDQ6VXNlcjU3MjA4NDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5720840?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonilaserson",
            "html_url": "https://github.com/jonilaserson",
            "followers_url": "https://api.github.com/users/jonilaserson/followers",
            "following_url": "https://api.github.com/users/jonilaserson/following{/other_user}",
            "gists_url": "https://api.github.com/users/jonilaserson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jonilaserson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jonilaserson/subscriptions",
            "organizations_url": "https://api.github.com/users/jonilaserson/orgs",
            "repos_url": "https://api.github.com/users/jonilaserson/repos",
            "events_url": "https://api.github.com/users/jonilaserson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jonilaserson/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-12T08:20:37Z",
          "updated_at": "2015-06-12T08:20:37Z",
          "author_association": "NONE",
          "body": "Can't you use keras to train the network on the samples above by providing\nthis training set?\n\nx = \"Bob moved to the bedroom. Where is Bob?bedroom\"\ny = \"**************************************bedroom.\"\n\nx = \"Bob moved to the garden. Where is Bob?garden\"\ny = \"*************************************garden.\"\n\nOn Fri, Jun 12, 2015 at 1:14 AM, ssamot notifications@github.com wrote:\n\n> Let's assume you are given this simple string:\n> \n> \"Bob moved to the bedroom. Where is bob? Bedroom. Bob moved to the Garden.\n> Where is Bob? Garden\"\n> \n> Suppose now you want to learn to answer the questions pose above. As it\n> currently stands in keras you would need to create training examples like\n> this:\n> \n> Training examples:\n> X, y\n> [\"Bob moved to the bedroom. Where is bob? \"],[ \"B\"]\n> [\"Bob moved to the bedroom. Where is bob? B\"], [\"e\"]\n> [\"Bob moved to the bedroom. Where is bob? Be\"],[ \"d\"]\n> [\"Bob moved to the bedroom. Where is bob? Bed]\",[ \"r\"]\n> \n> ...\n> \n> [\"Bob moved to the bedroom. Where is bob? Bedroom. Bob moved to the\n> Garden. Where is Bob? Garde\" ],[ \"n\"]\n> \n> In the current keras implementation you would need to pad almost\n> everything to the maximum length with some \"null\" characters. Notice that\n> you don't care about predicting the next character - only the ones that\n> come after a question mark. You will also be outputting a sequence of\n> unknown length incrementally by outputting characters one - by - one.\n> \n> Maybe there is an obvious way of solving this and I cannot see it - dunno.\n> How would you handle this?\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/fchollet/keras/issues/98#issuecomment-111291284.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/111409953/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/111415594",
          "html_url": "https://github.com/keras-team/keras/issues/98#issuecomment-111415594",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/98",
          "id": 111415594,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMTQxNTU5NA==",
          "user": {
            "login": "ssamot",
            "id": 2523050,
            "node_id": "MDQ6VXNlcjI1MjMwNTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2523050?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ssamot",
            "html_url": "https://github.com/ssamot",
            "followers_url": "https://api.github.com/users/ssamot/followers",
            "following_url": "https://api.github.com/users/ssamot/following{/other_user}",
            "gists_url": "https://api.github.com/users/ssamot/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ssamot/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ssamot/subscriptions",
            "organizations_url": "https://api.github.com/users/ssamot/orgs",
            "repos_url": "https://api.github.com/users/ssamot/repos",
            "events_url": "https://api.github.com/users/ssamot/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ssamot/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-12T08:41:49Z",
          "updated_at": "2015-06-12T08:41:49Z",
          "author_association": "NONE",
          "body": "For a start it would have to be something like this: \n\nin your second training sample. \n\nx = \"Bob moved to the bedroom. Where is Bob?bedroom. Bob moved to the garden. Where is Bob?garden\"\ny = \"**********************************************************************garden.\"\n\nSuppose now Bob had done 50K irrelevant things before going to the garden and after going to the bedroom. Where does the padding stop?  How many different copies would you need for something that can be essentially treated as maximum two training examples? (actually the same thing applies when trying to predict the next character - of course you can do it without controlling state, but it would very inefficient.) \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/111415594/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/3906",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/3906/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/3906/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/3906/events",
      "html_url": "https://github.com/keras-team/keras/pull/3906",
      "id": 179984480,
      "node_id": "MDExOlB1bGxSZXF1ZXN0ODcyNjc5NTg=",
      "number": 3906,
      "title": "Added recurrent convolutionnal layer",
      "user": {
        "login": "jeammimi",
        "id": 6568042,
        "node_id": "MDQ6VXNlcjY1NjgwNDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6568042?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jeammimi",
        "html_url": "https://github.com/jeammimi",
        "followers_url": "https://api.github.com/users/jeammimi/followers",
        "following_url": "https://api.github.com/users/jeammimi/following{/other_user}",
        "gists_url": "https://api.github.com/users/jeammimi/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jeammimi/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jeammimi/subscriptions",
        "organizations_url": "https://api.github.com/users/jeammimi/orgs",
        "repos_url": "https://api.github.com/users/jeammimi/repos",
        "events_url": "https://api.github.com/users/jeammimi/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jeammimi/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 34,
      "created_at": "2016-09-29T08:34:21Z",
      "updated_at": "2017-02-21T05:46:25Z",
      "closed_at": "2016-11-05T20:46:28Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/3906",
        "html_url": "https://github.com/keras-team/keras/pull/3906",
        "diff_url": "https://github.com/keras-team/keras/pull/3906.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/3906.patch",
        "merged_at": "2016-11-05T20:46:28Z"
      },
      "body": "Hello, I develop a recurent convolutionnal neural network for Keras v1\nAccording to  [Convolutional LSTM Network: A Machine Learning Approach for Precipitation Nowcasting](http://arxiv.org/pdf/1506.04214v1.pdf)\n\nIt is very close to the code for the regular recurrent network\n\nHere are two animation that show what it can do:\n\n![animatespheres8](https://cloud.githubusercontent.com/assets/6568042/13322767/52ea7efa-dbd6-11e5-850f-1f19ecebd71b.gif)\n\n![animatespheres10](https://cloud.githubusercontent.com/assets/6568042/13348611/c4a181f8-dc74-11e5-91fc-8f30dd7903c3.gif)\n\nfor the example I did an ipython notebook \n\nhttps://github.com/imodpasteur/keras/blob/rebasedconvV1/examples/TestConv2DLSTM.ipynb\n\nBut I didn't attached the weight of the trained network\n",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/3906/reactions",
        "total_count": 3,
        "+1": 3,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/3906/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/250509801",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-250509801",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 250509801,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1MDUwOTgwMQ==",
          "user": {
            "login": "EderSantana",
            "id": 3902480,
            "node_id": "MDQ6VXNlcjM5MDI0ODA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3902480?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EderSantana",
            "html_url": "https://github.com/EderSantana",
            "followers_url": "https://api.github.com/users/EderSantana/followers",
            "following_url": "https://api.github.com/users/EderSantana/following{/other_user}",
            "gists_url": "https://api.github.com/users/EderSantana/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EderSantana/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EderSantana/subscriptions",
            "organizations_url": "https://api.github.com/users/EderSantana/orgs",
            "repos_url": "https://api.github.com/users/EderSantana/repos",
            "events_url": "https://api.github.com/users/EderSantana/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EderSantana/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-09-29T15:59:36Z",
          "updated_at": "2016-09-29T18:32:58Z",
          "author_association": "CONTRIBUTOR",
          "body": "it seems that you have style errors. Would you please check out your code with a PEP8 linter? Also, the tests crashes under python 3. I marked a few points that might be causing the ci to complain.\n\nOther than that, thanks for updating your PR. The community will appreciate it for sure!\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/250509801/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/250530060",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-250530060",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 250530060,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1MDUzMDA2MA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-09-29T17:09:08Z",
          "updated_at": "2016-09-29T17:09:08Z",
          "author_association": "COLLABORATOR",
          "body": "Please convert TestConv2DLSTM to a script rather than a notebook (so we can review it, and for consistency). Also have the name match the naming conventions of the other examples.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/250530060/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/251080982",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-251080982",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 251080982,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1MTA4MDk4Mg==",
          "user": {
            "login": "jeammimi",
            "id": 6568042,
            "node_id": "MDQ6VXNlcjY1NjgwNDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6568042?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jeammimi",
            "html_url": "https://github.com/jeammimi",
            "followers_url": "https://api.github.com/users/jeammimi/followers",
            "following_url": "https://api.github.com/users/jeammimi/following{/other_user}",
            "gists_url": "https://api.github.com/users/jeammimi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jeammimi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jeammimi/subscriptions",
            "organizations_url": "https://api.github.com/users/jeammimi/orgs",
            "repos_url": "https://api.github.com/users/jeammimi/repos",
            "events_url": "https://api.github.com/users/jeammimi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jeammimi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-03T11:08:34Z",
          "updated_at": "2016-10-03T11:08:34Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for all these comments.\nAfter some fixes, the only remaining problems are with Tensorflow backend.\nThe problem is with the rnn step, I think it is not generic enough to handle\n5D input. \nI will try to see if I can work it out, but I don't have much experience with tensorflow.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/251080982/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/251158966",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-251158966",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 251158966,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1MTE1ODk2Ng==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-03T16:46:44Z",
          "updated_at": "2016-10-03T16:46:44Z",
          "author_association": "COLLABORATOR",
          "body": "> The problem is with the rnn step, I think it is not generic enough to handle 5D input. \n\nIt would work with an unrolled RNN (which would require a fixed number of timesteps). Otherwise dynamic RNNs in TF are 3D-only for now. But I expect we will make it general in the future (when we change the implementation of not to rely on `_dynamic_rnn` anymore). \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/251158966/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/253197235",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-253197235",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 253197235,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1MzE5NzIzNQ==",
          "user": {
            "login": "carlthome",
            "id": 1595907,
            "node_id": "MDQ6VXNlcjE1OTU5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1595907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/carlthome",
            "html_url": "https://github.com/carlthome",
            "followers_url": "https://api.github.com/users/carlthome/followers",
            "following_url": "https://api.github.com/users/carlthome/following{/other_user}",
            "gists_url": "https://api.github.com/users/carlthome/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/carlthome/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/carlthome/subscriptions",
            "organizations_url": "https://api.github.com/users/carlthome/orgs",
            "repos_url": "https://api.github.com/users/carlthome/repos",
            "events_url": "https://api.github.com/users/carlthome/events{/privacy}",
            "received_events_url": "https://api.github.com/users/carlthome/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-12T12:15:39Z",
          "updated_at": "2016-10-12T12:15:39Z",
          "author_association": "CONTRIBUTOR",
          "body": "I think a test with `stateful=True` is needed too. It doesn't seem to work (models don't compile).\n\n``` python\nbatch_size = 32\ntimesteps = 16\nwidth = 32\nheight = 32\nchannels = 3\n\nmodel = Sequential()\nmodel.add(LSTMConv2D(batch_input_shape=(batch_size, timesteps, width, height, channels), \n                     nb_filter=pitches, \n                     nb_row=3, \n                     nb_col=3,\n                     border_mode='same', \n                     return_sequences=True,\n                     stateful=True))\nmodel.add(Convolution3D(nb_filter=1, \n                        kernel_dim1=1, \n                        kernel_dim2=3, \n                        kernel_dim3=3, \n                        activation='sigmoid',\n                        border_mode='same', \n                        dim_ordering='tf'))\nmodel.compile(loss='binary_crossentropy', optimizer='adadelta')\n```\n\n> /home/carl/anaconda3/lib/python3.5/site-packages/keras/engine/topology.py in output_shape(self)\n>     842         if not self.inbound_nodes:\n>     843             raise Exception('The layer has never been called ' +\n> --> 844                             'and thus has no defined output shape.')\n>     845         all_output_shapes = set([str(node.output_shapes) for node in self.inbound_nodes])\n>     846         if len(all_output_shapes) == 1:\n> Exception: The layer has never been called and thus has no defined output shape.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/253197235/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/253323249",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-253323249",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 253323249,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1MzMyMzI0OQ==",
          "user": {
            "login": "jeammimi",
            "id": 6568042,
            "node_id": "MDQ6VXNlcjY1NjgwNDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6568042?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jeammimi",
            "html_url": "https://github.com/jeammimi",
            "followers_url": "https://api.github.com/users/jeammimi/followers",
            "following_url": "https://api.github.com/users/jeammimi/following{/other_user}",
            "gists_url": "https://api.github.com/users/jeammimi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jeammimi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jeammimi/subscriptions",
            "organizations_url": "https://api.github.com/users/jeammimi/orgs",
            "repos_url": "https://api.github.com/users/jeammimi/repos",
            "events_url": "https://api.github.com/users/jeammimi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jeammimi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-12T20:06:35Z",
          "updated_at": "2016-10-12T20:06:35Z",
          "author_association": "CONTRIBUTOR",
          "body": "I fixed the error with stateful that you mentionned.\nI never tested it with stateful so If you have the time to do it, it is great.\nI will also add some test for this option in the test module\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/253323249/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/253606541",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-253606541",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 253606541,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1MzYwNjU0MQ==",
          "user": {
            "login": "jeammimi",
            "id": 6568042,
            "node_id": "MDQ6VXNlcjY1NjgwNDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6568042?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jeammimi",
            "html_url": "https://github.com/jeammimi",
            "followers_url": "https://api.github.com/users/jeammimi/followers",
            "following_url": "https://api.github.com/users/jeammimi/following{/other_user}",
            "gists_url": "https://api.github.com/users/jeammimi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jeammimi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jeammimi/subscriptions",
            "organizations_url": "https://api.github.com/users/jeammimi/orgs",
            "repos_url": "https://api.github.com/users/jeammimi/repos",
            "events_url": "https://api.github.com/users/jeammimi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jeammimi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-13T18:59:32Z",
          "updated_at": "2016-10-13T18:59:32Z",
          "author_association": "CONTRIBUTOR",
          "body": "I added several test.\nI copied the stateful tests for the recurrent network\nand added test for dropout and regularizers.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/253606541/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/254009166",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-254009166",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 254009166,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDAwOTE2Ng==",
          "user": {
            "login": "carlthome",
            "id": 1595907,
            "node_id": "MDQ6VXNlcjE1OTU5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1595907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/carlthome",
            "html_url": "https://github.com/carlthome",
            "followers_url": "https://api.github.com/users/carlthome/followers",
            "following_url": "https://api.github.com/users/carlthome/following{/other_user}",
            "gists_url": "https://api.github.com/users/carlthome/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/carlthome/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/carlthome/subscriptions",
            "organizations_url": "https://api.github.com/users/carlthome/orgs",
            "repos_url": "https://api.github.com/users/carlthome/repos",
            "events_url": "https://api.github.com/users/carlthome/events{/privacy}",
            "received_events_url": "https://api.github.com/users/carlthome/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-15T20:29:27Z",
          "updated_at": "2016-10-15T20:29:27Z",
          "author_association": "CONTRIBUTOR",
          "body": "Minor nitpick: is there a point to calling the Keras implementation LSTMConv when the reference paper calls it ConvLSTM?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/254009166/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/254419899",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-254419899",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 254419899,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDQxOTg5OQ==",
          "user": {
            "login": "nixingyang",
            "id": 15064790,
            "node_id": "MDQ6VXNlcjE1MDY0Nzkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/15064790?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nixingyang",
            "html_url": "https://github.com/nixingyang",
            "followers_url": "https://api.github.com/users/nixingyang/followers",
            "following_url": "https://api.github.com/users/nixingyang/following{/other_user}",
            "gists_url": "https://api.github.com/users/nixingyang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nixingyang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nixingyang/subscriptions",
            "organizations_url": "https://api.github.com/users/nixingyang/orgs",
            "repos_url": "https://api.github.com/users/nixingyang/repos",
            "events_url": "https://api.github.com/users/nixingyang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nixingyang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-18T06:38:24Z",
          "updated_at": "2016-10-18T06:38:24Z",
          "author_association": "NONE",
          "body": "Hi,\nHas anyone encountered computational speed issue? The ConvLSTM structure is approximately 10 times slower than the FC-LSTM structure. This is strange as the number of parameters of the ConvLSTM structure is much smaller than that of the FC-LSTM structure. I am using the theano backend.\nBR.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/254419899/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/254427995",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-254427995",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 254427995,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDQyNzk5NQ==",
          "user": {
            "login": "jeammimi",
            "id": 6568042,
            "node_id": "MDQ6VXNlcjY1NjgwNDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6568042?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jeammimi",
            "html_url": "https://github.com/jeammimi",
            "followers_url": "https://api.github.com/users/jeammimi/followers",
            "following_url": "https://api.github.com/users/jeammimi/following{/other_user}",
            "gists_url": "https://api.github.com/users/jeammimi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jeammimi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jeammimi/subscriptions",
            "organizations_url": "https://api.github.com/users/jeammimi/orgs",
            "repos_url": "https://api.github.com/users/jeammimi/repos",
            "events_url": "https://api.github.com/users/jeammimi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jeammimi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-18T07:25:43Z",
          "updated_at": "2016-10-18T07:25:43Z",
          "author_association": "CONTRIBUTOR",
          "body": "In this convolutional LSTM all the steps are convolution instead of matrix multiplication.\nAlso the step of the FC-LSTM has been optimized, and here it is just the implementation\nof the equations. There is probably some space for optimisation. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/254427995/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/254429048",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-254429048",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 254429048,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDQyOTA0OA==",
          "user": {
            "login": "jeammimi",
            "id": 6568042,
            "node_id": "MDQ6VXNlcjY1NjgwNDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6568042?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jeammimi",
            "html_url": "https://github.com/jeammimi",
            "followers_url": "https://api.github.com/users/jeammimi/followers",
            "following_url": "https://api.github.com/users/jeammimi/following{/other_user}",
            "gists_url": "https://api.github.com/users/jeammimi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jeammimi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jeammimi/subscriptions",
            "organizations_url": "https://api.github.com/users/jeammimi/orgs",
            "repos_url": "https://api.github.com/users/jeammimi/repos",
            "events_url": "https://api.github.com/users/jeammimi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jeammimi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-18T07:31:17Z",
          "updated_at": "2016-10-18T07:31:17Z",
          "author_association": "CONTRIBUTOR",
          "body": "And for the name, You are right, I prefer the one I choose, but I guess it was a personnal choice\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/254429048/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/255480332",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-255480332",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 255480332,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTQ4MDMzMg==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-21T22:28:51Z",
          "updated_at": "2016-10-21T22:28:51Z",
          "author_association": "COLLABORATOR",
          "body": "What is the current status of statefulness support with this layer?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/255480332/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/255482043",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-255482043",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 255482043,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTQ4MjA0Mw==",
          "user": {
            "login": "carlthome",
            "id": 1595907,
            "node_id": "MDQ6VXNlcjE1OTU5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1595907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/carlthome",
            "html_url": "https://github.com/carlthome",
            "followers_url": "https://api.github.com/users/carlthome/followers",
            "following_url": "https://api.github.com/users/carlthome/following{/other_user}",
            "gists_url": "https://api.github.com/users/carlthome/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/carlthome/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/carlthome/subscriptions",
            "organizations_url": "https://api.github.com/users/carlthome/orgs",
            "repos_url": "https://api.github.com/users/carlthome/repos",
            "events_url": "https://api.github.com/users/carlthome/events{/privacy}",
            "received_events_url": "https://api.github.com/users/carlthome/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-21T22:40:17Z",
          "updated_at": "2016-10-21T22:40:17Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet, I'm running a stateful ConvLSTM now and it seems to be working fine after @jeammimi's fix. To be fair though, I'm still getting junk output in my particular model so it's hard to tell if it's actually learning, but at least the model compiled and training loss goes down during `model.fit`.\n\n@jeammimi, regarding the name I also think it makes more sense to say LSTMConv (it's a RNN with convolution operations internally, after all, and not the other way around), but it's better to follow the reference paper IMO.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/255482043/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/255777961",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-255777961",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 255777961,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTc3Nzk2MQ==",
          "user": {
            "login": "carlthome",
            "id": 1595907,
            "node_id": "MDQ6VXNlcjE1OTU5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1595907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/carlthome",
            "html_url": "https://github.com/carlthome",
            "followers_url": "https://api.github.com/users/carlthome/followers",
            "following_url": "https://api.github.com/users/carlthome/following{/other_user}",
            "gists_url": "https://api.github.com/users/carlthome/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/carlthome/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/carlthome/subscriptions",
            "organizations_url": "https://api.github.com/users/carlthome/orgs",
            "repos_url": "https://api.github.com/users/carlthome/repos",
            "events_url": "https://api.github.com/users/carlthome/events{/privacy}",
            "received_events_url": "https://api.github.com/users/carlthome/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-24T15:41:01Z",
          "updated_at": "2016-10-24T15:41:01Z",
          "author_association": "CONTRIBUTOR",
          "body": "@jeammimi status?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/255777961/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/255782075",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-255782075",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 255782075,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTc4MjA3NQ==",
          "user": {
            "login": "carlthome",
            "id": 1595907,
            "node_id": "MDQ6VXNlcjE1OTU5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1595907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/carlthome",
            "html_url": "https://github.com/carlthome",
            "followers_url": "https://api.github.com/users/carlthome/followers",
            "following_url": "https://api.github.com/users/carlthome/following{/other_user}",
            "gists_url": "https://api.github.com/users/carlthome/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/carlthome/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/carlthome/subscriptions",
            "organizations_url": "https://api.github.com/users/carlthome/orgs",
            "repos_url": "https://api.github.com/users/carlthome/repos",
            "events_url": "https://api.github.com/users/carlthome/events{/privacy}",
            "received_events_url": "https://api.github.com/users/carlthome/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-24T15:55:10Z",
          "updated_at": "2016-10-24T15:55:25Z",
          "author_association": "CONTRIBUTOR",
          "body": "I'm also curious about your example. Are batch norms essential? And why are you using 3x3 when the reference paper use 5x5 kernels \"for capturing spatio-temporal dependencies\"?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/255782075/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/255818283",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-255818283",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 255818283,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1NTgxODI4Mw==",
          "user": {
            "login": "jeammimi",
            "id": 6568042,
            "node_id": "MDQ6VXNlcjY1NjgwNDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6568042?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jeammimi",
            "html_url": "https://github.com/jeammimi",
            "followers_url": "https://api.github.com/users/jeammimi/followers",
            "following_url": "https://api.github.com/users/jeammimi/following{/other_user}",
            "gists_url": "https://api.github.com/users/jeammimi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jeammimi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jeammimi/subscriptions",
            "organizations_url": "https://api.github.com/users/jeammimi/orgs",
            "repos_url": "https://api.github.com/users/jeammimi/repos",
            "events_url": "https://api.github.com/users/jeammimi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jeammimi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-24T18:04:54Z",
          "updated_at": "2016-10-24T18:04:54Z",
          "author_association": "CONTRIBUTOR",
          "body": "For the statefulness, I added the same tests than for the classical RNN, so\nI think it works fine.\nMaybe I could try to use it in the example to confirm that it works.\nFor the example, the batchnorm is not necessary but it helps. For the 3x3 size, it was just \nto limit the border effects. \n\nFor the name I guess it is better to use the name which is widely used.\nI will change it tomorrow.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/255818283/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/256562269",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-256562269",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 256562269,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1NjU2MjI2OQ==",
          "user": {
            "login": "dream0429",
            "id": 7651749,
            "node_id": "MDQ6VXNlcjc2NTE3NDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7651749?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dream0429",
            "html_url": "https://github.com/dream0429",
            "followers_url": "https://api.github.com/users/dream0429/followers",
            "following_url": "https://api.github.com/users/dream0429/following{/other_user}",
            "gists_url": "https://api.github.com/users/dream0429/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dream0429/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dream0429/subscriptions",
            "organizations_url": "https://api.github.com/users/dream0429/orgs",
            "repos_url": "https://api.github.com/users/dream0429/repos",
            "events_url": "https://api.github.com/users/dream0429/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dream0429/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-27T06:58:47Z",
          "updated_at": "2016-10-27T06:58:47Z",
          "author_association": "NONE",
          "body": "Hello, I tried this code:\n\n`from keras.models import Sequential`\n`from keras.layers.convolutional import Convolution3D`\n`from keras.layers.recurrent_convolutional import ConvLSTM2D`\n`from keras.layers.normalization import BatchNormalization`\n`import numpy as np`\n`from pylab import *`\n\n`seq = Sequential()`\n`seq.add(ConvLSTM2D(nb_filter=40, nb_row=3, nb_col=3,`\n`input_shape=(None, 40, 40, 1),`\n`border_mode=\"same\", return_sequences=True))`\n`seq.add(BatchNormalization())`\n\n`seq.add(ConvLSTM2D(nb_filter=40, nb_row=3, nb_col=3,`\n`border_mode=\"same\", return_sequences=True))`\n`seq.add(BatchNormalization())`\n\n`seq.add(ConvLSTM2D(nb_filter=40, nb_row=3, nb_col=3,`\n`border_mode=\"same\", return_sequences=True))`\n`seq.add(BatchNormalization())`\n\n`seq.add(ConvLSTM2D(nb_filter=40, nb_row=3, nb_col=3,`\n`border_mode=\"same\", return_sequences=True))`\n`seq.add(BatchNormalization())`\n\n`seq.add(Convolution3D(nb_filter=1, kernel_dim1=1, kernel_dim2=3,`\n`kernel_dim3=3, activation='sigmoid',`\n`border_mode=\"same\", dim_ordering=\"tf\"))`\n\n`seq.compile(loss=\"binary_crossentropy\", optimizer=\"adadelta\")`\n\nThen I type:\n`seq.summary()`\nit returns:\n\n---\n\n# Layer (type)                     Output Shape          Param #     Connected to                     \n\nconvlstm2d_69 (ConvLSTM2D)       (None, None, 40, 40, 1115360      convlstm2d_input_20[0][0]        \n\n---\n\nbatchnormalization_66 (BatchNorma(None, None, 40, 40, 12           convlstm2d_69[0][0]              \n\n---\n\nconvlstm2d_70 (ConvLSTM2D)       (None, None, 40, 40, 1115360      batchnormalization_66[0][0]      \n\n---\n\nbatchnormalization_67 (BatchNorma(None, None, 40, 40, 12           convlstm2d_70[0][0]              \n\n---\n\nconvlstm2d_71 (ConvLSTM2D)       (None, None, 40, 40, 1115360      batchnormalization_67[0][0]      \n\n---\n\nbatchnormalization_68 (BatchNorma(None, None, 40, 40, 12           convlstm2d_71[0][0]              \n\n---\n\nconvlstm2d_72 (ConvLSTM2D)       (None, None, 40, 40, 1115360      batchnormalization_68[0][0]      \n\n---\n\nbatchnormalization_69 (BatchNorma(None, None, 40, 40, 12           convlstm2d_72[0][0]              \n\n---\n\n# convolution3d_16 (Convolution3D) (None, None, 40, 40, 110          batchnormalization_69[0][0]      \n\nTotal params: 461458\n\n---\n\nI don't get it, why the final level returns shape of (None, None, 40, 40, 110 ? \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/256562269/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/256568907",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-256568907",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 256568907,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1NjU2ODkwNw==",
          "user": {
            "login": "carlthome",
            "id": 1595907,
            "node_id": "MDQ6VXNlcjE1OTU5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1595907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/carlthome",
            "html_url": "https://github.com/carlthome",
            "followers_url": "https://api.github.com/users/carlthome/followers",
            "following_url": "https://api.github.com/users/carlthome/following{/other_user}",
            "gists_url": "https://api.github.com/users/carlthome/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/carlthome/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/carlthome/subscriptions",
            "organizations_url": "https://api.github.com/users/carlthome/orgs",
            "repos_url": "https://api.github.com/users/carlthome/repos",
            "events_url": "https://api.github.com/users/carlthome/events{/privacy}",
            "received_events_url": "https://api.github.com/users/carlthome/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-27T07:35:47Z",
          "updated_at": "2016-10-27T07:35:47Z",
          "author_association": "CONTRIBUTOR",
          "body": "Please fix your Markdown formatting (and maybe make a separate issue instead?). Anyway, (batch_size, timesteps, width, height, channels). White space issues with your post?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/256568907/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/256574933",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-256574933",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 256574933,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1NjU3NDkzMw==",
          "user": {
            "login": "dream0429",
            "id": 7651749,
            "node_id": "MDQ6VXNlcjc2NTE3NDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7651749?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dream0429",
            "html_url": "https://github.com/dream0429",
            "followers_url": "https://api.github.com/users/dream0429/followers",
            "following_url": "https://api.github.com/users/dream0429/following{/other_user}",
            "gists_url": "https://api.github.com/users/dream0429/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dream0429/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dream0429/subscriptions",
            "organizations_url": "https://api.github.com/users/dream0429/orgs",
            "repos_url": "https://api.github.com/users/dream0429/repos",
            "events_url": "https://api.github.com/users/dream0429/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dream0429/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-27T08:05:52Z",
          "updated_at": "2016-10-27T08:05:52Z",
          "author_association": "NONE",
          "body": "@carlthome   Hello, do you have any examples of this neural network with theano backend, or could you help me find out which part is wrong of my code above? I'm a beginner with DL, I would very much appreciate your help!\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/256574933/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/256584127",
          "html_url": "https://github.com/keras-team/keras/pull/3906#issuecomment-256584127",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3906",
          "id": 256584127,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1NjU4NDEyNw==",
          "user": {
            "login": "jeammimi",
            "id": 6568042,
            "node_id": "MDQ6VXNlcjY1NjgwNDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6568042?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jeammimi",
            "html_url": "https://github.com/jeammimi",
            "followers_url": "https://api.github.com/users/jeammimi/followers",
            "following_url": "https://api.github.com/users/jeammimi/following{/other_user}",
            "gists_url": "https://api.github.com/users/jeammimi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jeammimi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jeammimi/subscriptions",
            "organizations_url": "https://api.github.com/users/jeammimi/orgs",
            "repos_url": "https://api.github.com/users/jeammimi/repos",
            "events_url": "https://api.github.com/users/jeammimi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jeammimi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-27T08:49:51Z",
          "updated_at": "2016-10-27T08:53:50Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hello, \nThis example works, but for some reasons, the summary is not correct for the last dimension.\nI think that in the output of the summary, the shape is too long, and it is mixed with the\nnumber of parameters.\nIn reality the last dimension is 1, and the number of parameters for the convolution is 10.\nAnd so it give you a total number of 110 !\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/256584127/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/9965",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/9965/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/9965/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/9965/events",
      "html_url": "https://github.com/keras-team/keras/pull/9965",
      "id": 315281373,
      "node_id": "MDExOlB1bGxSZXF1ZXN0MTgyMzM0MTg1",
      "number": 9965,
      "title": "Change BN layer to use moving mean/var if frozen",
      "user": {
        "login": "datumbox",
        "id": 5347466,
        "node_id": "MDQ6VXNlcjUzNDc0NjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5347466?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/datumbox",
        "html_url": "https://github.com/datumbox",
        "followers_url": "https://api.github.com/users/datumbox/followers",
        "following_url": "https://api.github.com/users/datumbox/following{/other_user}",
        "gists_url": "https://api.github.com/users/datumbox/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/datumbox/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/datumbox/subscriptions",
        "organizations_url": "https://api.github.com/users/datumbox/orgs",
        "repos_url": "https://api.github.com/users/datumbox/repos",
        "events_url": "https://api.github.com/users/datumbox/events{/privacy}",
        "received_events_url": "https://api.github.com/users/datumbox/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 116,
      "created_at": "2018-04-17T23:54:19Z",
      "updated_at": "2021-06-24T07:59:23Z",
      "closed_at": "2018-04-19T16:38:13Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/9965",
        "html_url": "https://github.com/keras-team/keras/pull/9965",
        "diff_url": "https://github.com/keras-team/keras/pull/9965.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/9965.patch",
        "merged_at": null
      },
      "body": "During fine-tuning, if a Batch Normalization layer is **frozen** it uses the mini-batch statistics. I believe this is incorrect and it can lead to reduced accuracy especially when we use Transfer learning. A better approach in this case would be to use the values of the moving mean and variance.\r\n\r\n**Changes on this PR:**\r\nIn this PR I update the Batch Normalization layer to use the learned statistics if frozen during training. This is achieved by making the trainable flag part of the computational graph and by depending the behavior of the BN  not only on the learning_phase but also on the value of the trainable property. \r\n\r\n**Brief explanation:**\r\nAssume we use one of the pre-trained CNNs of Keras and we want to fine-tune it. Unfortunately, we get no guarantees that the mean and variance of our new dataset inside the BN layers will be similar to the ones of the original dataset. As a result, if we fine-tune the top layers, their weights will be adjusted to the mean/variance of the new dataset. Nevertheless, during inference the top layers will receive data which are scaled using the mean/variance of the original dataset. This discrepancy can lead to reduced accuracy. \r\n\r\nI understand that this is a significant change that requires thorough review. To faciliate the situation I've documented why making such a change is important and provided detailed comparisons before and after applying the patch [on my blog](http://blog.datumbox.com/the-batch-normalization-layer-of-keras-is-broken/).\r\n\r\n**EDIT:** Since the fix was not merged on master, I maintain unofficial patches available for [Keras 2.1.6](https://github.com/datumbox/keras/tree/fork/keras2.1.6), [Keras 2.2.2](https://github.com/datumbox/keras/tree/fork/keras2.2.2) and  [Keras 2.2.4](https://github.com/datumbox/keras/tree/fork/keras2.2.4).",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/9965/reactions",
        "total_count": 111,
        "+1": 90,
        "-1": 0,
        "laugh": 0,
        "hooray": 9,
        "confused": 0,
        "heart": 10,
        "rocket": 0,
        "eyes": 2
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/9965/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/382801648",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-382801648",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 382801648,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjgwMTY0OA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-19T16:38:13Z",
          "updated_at": "2018-04-19T16:38:35Z",
          "author_association": "COLLABORATOR",
          "body": "Thanks for the effort.\r\n\r\nYou are misunderstanding the meaning of the \"trainable\" property of layers. Historically, it has initially meant \"this layer should not be trainable, i.e. the weights of this layer should not be updated during backprop (specifically `layer.trainable_weights` should be empty)\". Then it has been extend to mean \"the state of the layer should be frozen during training\" (which means that, in addition to the previous definition, layer updates are not run).\r\n\r\nWhat you want is a BN layer in inference mode. There is an argument to control training/inference mode in BN (and other layers): it's the `training` argument in `call` (boolean).\r\n\r\nWhat you want is:\r\n\r\n```python\r\nx = BatchNormalization()(y, training=False)\r\n```\r\n\r\nFor fine-tuning, you could do something like:\r\n\r\n```python\r\n# Set up inference-mode base\r\nK.set_learning_phase(0)\r\ninputs = Input(...)\r\nx = layer1(...)(inputs)\r\nx = layer2(...)(x)\r\n...\r\nx = layerN(...)(x)\r\n\r\n# Add training-mode layers\r\nK.set_learning_phase(1)\r\nx = layerNp1(...)(x)\r\nx = layerNp2(...)(x)\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/382801648/reactions",
            "total_count": 65,
            "+1": 13,
            "-1": 51,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/382831549",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-382831549",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 382831549,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjgzMTU0OQ==",
          "user": {
            "login": "datumbox",
            "id": 5347466,
            "node_id": "MDQ6VXNlcjUzNDc0NjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5347466?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/datumbox",
            "html_url": "https://github.com/datumbox",
            "followers_url": "https://api.github.com/users/datumbox/followers",
            "following_url": "https://api.github.com/users/datumbox/following{/other_user}",
            "gists_url": "https://api.github.com/users/datumbox/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/datumbox/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/datumbox/subscriptions",
            "organizations_url": "https://api.github.com/users/datumbox/orgs",
            "repos_url": "https://api.github.com/users/datumbox/repos",
            "events_url": "https://api.github.com/users/datumbox/events{/privacy}",
            "received_events_url": "https://api.github.com/users/datumbox/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-19T18:14:34Z",
          "updated_at": "2018-04-19T18:19:57Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @fchollet,\r\n\r\nFirst of all thanks for taking the time to review and respond. I was aware that this is a significant change in the default behaviour and that there would be debate. :)\r\n\r\nI understand that your main concern is around the semantic meaning of the trainable property and how it is being used in this PR. I agree that semantically the training parameter that you proposed is closer to what I do, nevertheless this parameter can't change after the network definition. For instance when you use one of the pre-trained models of keras or when you load a persisted model you have no control over this variable. Would you be open to discuss a solution that would make the training variable changeable after the network definition (or perhaps another property)? If you are open to this, I could update my PR to reflect the agreed behaviour.\r\n\r\nConcerning your second recommendation of updating the learning_phase as the network is defined, I see two limitations:\r\n1) Again this will work only if the network is defined based on code. It will not work for the pretrained models of Keras or when a model is loaded from disk. The latter is quite important; models are trained in multiple rounds usually after restoring them from checkpoints.\r\n2) After setting the learning_phase(1) in your example, the learning_phase will be static for the remaining of the session. This will overwrite all the nice mechanisms that keras has for switching between phases depending on whether it trains or predicts. Thus if we call fit() with validation data, the model will predict while being in training mode.\r\n\r\nI'm not sure if you had a look on the blog post (it is understandably a bit long), but you can see how significant perfomance boost you get by making it possible to set the BN in inference mode. Without this the trainable layers after the BNs adjust their weights based on input that has different scale (comparing to inference). I hope, we can re-open this PR; I'm happy to update it until it satisfies the semantic definitions.\r\n\r\nCheers!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/382831549/reactions",
            "total_count": 11,
            "+1": 10,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/382857348",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-382857348",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 382857348,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4Mjg1NzM0OA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-19T19:42:20Z",
          "updated_at": "2018-04-19T19:42:20Z",
          "author_association": "COLLABORATOR",
          "body": "Again, there is an existing API that does exactly what you want: the `training` argument in `call`. There is no point in having two differently name APIs that do the exact same thing. `layer.trainable = False` is not what you need, therefore don't use it.\r\n\r\nAdditionally, your proposed PR adds a computational overhead (which might amount to a ~5% slowdown for a BN-heavy model like InceptionV3) to every single convnet that uses BN, fine-tuning or not. This is a heavy price to pay for supporting an incrementally simpler UX (disputable) for a very specific use case.\r\n\r\n> For instance when you use one of the pre-trained models of keras or when you load a persisted model you have no control over this variable.\r\n\r\nTypically if you want to heavily modify an existing model, rather than merely use it in inference mode, you should have access to the code for the model.\r\n\r\nBut even if you don't, you can still do your style of fine-tuning in this case:\r\n- set learning phase to 0\r\n- load model\r\n- retrieve features you want to train on\r\n- set learning phase to 1\r\n- add new layers on top\r\n- optionally load weights from initial model layers to corresponding new layers\r\n- train",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/382857348/reactions",
            "total_count": 25,
            "+1": 4,
            "-1": 21,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/382865655",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-382865655",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 382865655,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4Mjg2NTY1NQ==",
          "user": {
            "login": "datumbox",
            "id": 5347466,
            "node_id": "MDQ6VXNlcjUzNDc0NjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5347466?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/datumbox",
            "html_url": "https://github.com/datumbox",
            "followers_url": "https://api.github.com/users/datumbox/followers",
            "following_url": "https://api.github.com/users/datumbox/following{/other_user}",
            "gists_url": "https://api.github.com/users/datumbox/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/datumbox/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/datumbox/subscriptions",
            "organizations_url": "https://api.github.com/users/datumbox/orgs",
            "repos_url": "https://api.github.com/users/datumbox/repos",
            "events_url": "https://api.github.com/users/datumbox/events{/privacy}",
            "received_events_url": "https://api.github.com/users/datumbox/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-19T20:11:32Z",
          "updated_at": "2018-04-19T20:11:32Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet My main point is that the training argument can't be changed after model definition, so the existing API does not cover this valid case. I don't argue that there are workarounds, but they are hacky/non-elegant and the default behaviour leads to much confusion to users. Interesting what you mention about the 5% slow down, I would love to see the benchmarks; perhaps it can be resolved. Finally something you don't address here is whether this discrepancy in the scaling makes sense (theoretically or otherwise) and whether the accuracy decrease is worth it.\r\n\r\nAt any case, let's agree we disagree. I do hope though that you will revise your decision on the future, as it happened with the [update of the mini-batch statistics on the BN](https://github.com/keras-team/keras/issues/4762#issuecomment-299606870). ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/382865655/reactions",
            "total_count": 17,
            "+1": 17,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/382912584",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-382912584",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 382912584,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjkxMjU4NA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-19T23:32:16Z",
          "updated_at": "2018-04-19T23:32:34Z",
          "author_association": "COLLABORATOR",
          "body": ">  I would love to see the benchmarks\r\n\r\nThis is based on something I've observed in the past for InceptionV3 with static learning phase vs. with dynamic learning phase. Only difference between the two settings is `cond` ops. Control flow seems pretty expensive, especially on GPU. Your PR adds the exact same number `cond` ops, so I would expect the same overhead.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/382912584/reactions",
            "total_count": 5,
            "+1": 2,
            "-1": 3,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/383035223",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-383035223",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 383035223,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzAzNTIyMw==",
          "user": {
            "login": "datumbox",
            "id": 5347466,
            "node_id": "MDQ6VXNlcjUzNDc0NjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5347466?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/datumbox",
            "html_url": "https://github.com/datumbox",
            "followers_url": "https://api.github.com/users/datumbox/followers",
            "following_url": "https://api.github.com/users/datumbox/following{/other_user}",
            "gists_url": "https://api.github.com/users/datumbox/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/datumbox/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/datumbox/subscriptions",
            "organizations_url": "https://api.github.com/users/datumbox/orgs",
            "repos_url": "https://api.github.com/users/datumbox/repos",
            "events_url": "https://api.github.com/users/datumbox/events{/privacy}",
            "received_events_url": "https://api.github.com/users/datumbox/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-20T09:07:44Z",
          "updated_at": "2018-04-20T10:33:27Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for the clarifying that you are referring to a different benchmark and not to something you ran on this PR. I can't comment on the results without seeing them but when I ran comparisons on CIFAR10 the time difference was negligible (current branch: 4216 secs vs patched: 4251 secs); both ran on GPUs on the same server. Note that the snippet that I used (and listed on my article) comes from Keras' documentation on how to fine-tune a network.\r\n\r\nAdmittedly the above measurements are **single point estimates** but especially the 5 point accuracy increase I report is consistent with what I've been observing for almost a year while applying workarounds (first time I reported this is on #7177). I don't know if the speed is currently your main concern for reopening this but I would say that this is unlikely to affect the majority of the users of Keras. This is because by default the Learning Phase is dynamic and the `training` argument of `call` is None. This will force the `in_train_phase` method on backend to use a switch statement that depends on learning phase, so in a sense the \"if\" statement is [already there](https://github.com/keras-team/keras/blob/master/keras/backend/tensorflow_backend.py#L2883).\r\n\r\nAt any case I don't insist that it should me who changes this or that my current solution is the one we should use. I'm just raising a valid use case that is taken directly from [Keras' documentation](https://keras.io/applications/) on how fine-tuning is performed. Currently there is no straightforward way to do what I describe (the current API doesn't cover it), nevertheless if you provide specific guidelines on what tickboxes the update should check it would be useful. Or perhaps some other longtime contributor of the BatchNormalization layer has an opinion or can offer a more elegant solution on this? @ozabluda @taehoonlee @farizrahman4u @Dref360 ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/383035223/reactions",
            "total_count": 13,
            "+1": 13,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/383633813",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-383633813",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 383633813,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzYzMzgxMw==",
          "user": {
            "login": "ozabluda",
            "id": 14060629,
            "node_id": "MDQ6VXNlcjE0MDYwNjI5",
            "avatar_url": "https://avatars.githubusercontent.com/u/14060629?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ozabluda",
            "html_url": "https://github.com/ozabluda",
            "followers_url": "https://api.github.com/users/ozabluda/followers",
            "following_url": "https://api.github.com/users/ozabluda/following{/other_user}",
            "gists_url": "https://api.github.com/users/ozabluda/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ozabluda/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ozabluda/subscriptions",
            "organizations_url": "https://api.github.com/users/ozabluda/orgs",
            "repos_url": "https://api.github.com/users/ozabluda/repos",
            "events_url": "https://api.github.com/users/ozabluda/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ozabluda/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-23T16:16:04Z",
          "updated_at": "2018-04-23T16:16:04Z",
          "author_association": "CONTRIBUTOR",
          "body": "Sorry for late reply, still trying to understand the issues. For example, I am trying to understand if this is related at all to https://github.com/keras-team/keras/issues/9214",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/383633813/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/383662485",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-383662485",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 383662485,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzY2MjQ4NQ==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-23T17:46:26Z",
          "updated_at": "2018-04-23T17:46:26Z",
          "author_association": "CONTRIBUTOR",
          "body": "What sort of batch sizes were you using in your linked experiments?\r\n\r\nSome datasets are only viable with very small batch sizes of 1-4, like with image segmentation on a GPU with 8GB of memory. After briefly skimming this diff, I think the documentation would need to be updated to clearly delineate the different modes and when/why each should typically be chosen. In my case the current frozen behavior improved performance quite a lot over the previous behavior in which mean/var could shift when trainable=False, so I'm a bit hesitant about this though I'll reiterate I haven't reviewed what's happening in full detail. \r\n\r\nHere is a PR with some past discussion on BN https://github.com/keras-team/keras/pull/8616",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/383662485/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/383717474",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-383717474",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 383717474,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzcxNzQ3NA==",
          "user": {
            "login": "datumbox",
            "id": 5347466,
            "node_id": "MDQ6VXNlcjUzNDc0NjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5347466?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/datumbox",
            "html_url": "https://github.com/datumbox",
            "followers_url": "https://api.github.com/users/datumbox/followers",
            "following_url": "https://api.github.com/users/datumbox/following{/other_user}",
            "gists_url": "https://api.github.com/users/datumbox/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/datumbox/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/datumbox/subscriptions",
            "organizations_url": "https://api.github.com/users/datumbox/orgs",
            "repos_url": "https://api.github.com/users/datumbox/repos",
            "events_url": "https://api.github.com/users/datumbox/events{/privacy}",
            "received_events_url": "https://api.github.com/users/datumbox/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-23T20:47:36Z",
          "updated_at": "2018-04-23T21:26:35Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ozabluda First of all thank you for spending time on this. I wish I had provided on my PR the example that you posted on the issue #9214; perhaps this would have built a stronger case for this patch. What you showed on your post is exactly what I've been observing on real-world non-opensource datasets for the last year (close to 100% accuracy on training mode and 50% during inference on the same dataset and on similar validation sets). As @fchollet  said the are lots of hacks that can help you avoid it but none of them should have been necessary.\r\n\r\nBased on the code you provided, I'm 100% certain you are being bitten by the behaviour of the BN layer that I'm trying to fix in this PR. In a nutshell, during training mode the frozen BN layers are scaled with different statistics than in inference mode. There is absolutely no theoretical foundation to support this behaviour. As a result, this can have devastating effects when you try to deploy the model or when you try to validate its accuracy. I am certain that the majority of people who face this believe they have overfitted the model while in reality this is just a side-effect of how Keras implements the Batch Normalization layer.\r\n\r\nSo let's test your example on my branch of Keras where the BN layer is patched:\r\n```\r\npip install -U --force-reinstall --no-dependencies git+https://github.com/datumbox/keras@bugfix/trainable_bn\r\n```\r\n\r\nBelow I run your code for ResNet50. As you can see the problem that you report is fixed once the BN behaviour is changed:\r\n```\r\nEpoch 1/100\r\n50/50 [==============================] - 19s 387ms/step - loss: 0.8738 - acc: 0.5000 - val_loss: 1.3021 - val_acc: 0.5000\r\nEpoch 2/100\r\n50/50 [==============================] - 18s 367ms/step - loss: 1.3021 - acc: 0.5000 - val_loss: 0.9412 - val_acc: 0.5000\r\nEpoch 3/100\r\n50/50 [==============================] - 18s 363ms/step - loss: 0.9412 - acc: 0.5000 - val_loss: 0.6904 - val_acc: 0.5000\r\nEpoch 4/100\r\n50/50 [==============================] - 18s 364ms/step - loss: 0.6904 - acc: 0.5000 - val_loss: 0.9428 - val_acc: 0.5000\r\nEpoch 5/100\r\n50/50 [==============================] - 18s 361ms/step - loss: 0.9428 - acc: 0.5000 - val_loss: 0.9180 - val_acc: 0.5000\r\nEpoch 6/100\r\n50/50 [==============================] - 20s 401ms/step - loss: 0.9180 - acc: 0.5000 - val_loss: 0.7111 - val_acc: 0.5000\r\nEpoch 7/100\r\n50/50 [==============================] - 21s 415ms/step - loss: 0.7111 - acc: 0.5000 - val_loss: 0.6802 - val_acc: 0.5200\r\nEpoch 8/100\r\n50/50 [==============================] - 20s 406ms/step - loss: 0.6802 - acc: 0.5200 - val_loss: 0.8039 - val_acc: 0.5000\r\nEpoch 9/100\r\n50/50 [==============================] - 20s 391ms/step - loss: 0.8039 - acc: 0.5000 - val_loss: 0.8075 - val_acc: 0.5000\r\nEpoch 10/100\r\n50/50 [==============================] - 21s 425ms/step - loss: 0.8075 - acc: 0.5000 - val_loss: 0.6963 - val_acc: 0.5000\r\nEpoch 11/100\r\n50/50 [==============================] - 21s 417ms/step - loss: 0.6963 - acc: 0.5000 - val_loss: 0.6406 - val_acc: 0.7000\r\nEpoch 12/100\r\n50/50 [==============================] - 21s 419ms/step - loss: 0.6406 - acc: 0.7000 - val_loss: 0.7017 - val_acc: 0.5000\r\nEpoch 13/100\r\n50/50 [==============================] - 21s 425ms/step - loss: 0.7017 - acc: 0.5000 - val_loss: 0.7408 - val_acc: 0.5000\r\nEpoch 14/100\r\n50/50 [==============================] - 22s 441ms/step - loss: 0.7408 - acc: 0.5000 - val_loss: 0.6895 - val_acc: 0.5000\r\nEpoch 15/100\r\n50/50 [==============================] - 22s 432ms/step - loss: 0.6895 - acc: 0.5000 - val_loss: 0.6267 - val_acc: 0.7200\r\nEpoch 16/100\r\n50/50 [==============================] - 23s 460ms/step - loss: 0.6267 - acc: 0.7200 - val_loss: 0.6376 - val_acc: 0.5600\r\nEpoch 17/100\r\n50/50 [==============================] - 22s 439ms/step - loss: 0.6376 - acc: 0.5600 - val_loss: 0.6775 - val_acc: 0.5400\r\nEpoch 18/100\r\n50/50 [==============================] - 23s 456ms/step - loss: 0.6775 - acc: 0.5400 - val_loss: 0.6675 - val_acc: 0.5400\r\nEpoch 19/100\r\n50/50 [==============================] - 21s 414ms/step - loss: 0.6675 - acc: 0.5400 - val_loss: 0.6209 - val_acc: 0.6000\r\nEpoch 20/100\r\n50/50 [==============================] - 19s 375ms/step - loss: 0.6209 - acc: 0.6000 - val_loss: 0.6055 - val_acc: 0.7400\r\nEpoch 21/100\r\n50/50 [==============================] - 18s 367ms/step - loss: 0.6055 - acc: 0.7400 - val_loss: 0.6309 - val_acc: 0.5800\r\nEpoch 22/100\r\n50/50 [==============================] - 18s 370ms/step - loss: 0.6309 - acc: 0.5800 - val_loss: 0.6392 - val_acc: 0.5600\r\nEpoch 23/100\r\n50/50 [==============================] - 18s 369ms/step - loss: 0.6392 - acc: 0.5600 - val_loss: 0.6111 - val_acc: 0.6400\r\nEpoch 24/100\r\n50/50 [==============================] - 19s 390ms/step - loss: 0.6111 - acc: 0.6400 - val_loss: 0.5890 - val_acc: 0.7800\r\nEpoch 25/100\r\n50/50 [==============================] - 20s 394ms/step - loss: 0.5890 - acc: 0.7800 - val_loss: 0.5990 - val_acc: 0.6200\r\nEpoch 26/100\r\n50/50 [==============================] - 22s 445ms/step - loss: 0.5990 - acc: 0.6200 - val_loss: 0.6105 - val_acc: 0.5800\r\nEpoch 27/100\r\n50/50 [==============================] - 21s 413ms/step - loss: 0.6105 - acc: 0.5800 - val_loss: 0.5961 - val_acc: 0.6000\r\nEpoch 28/100\r\n50/50 [==============================] - 19s 388ms/step - loss: 0.5961 - acc: 0.6000 - val_loss: 0.5759 - val_acc: 0.8000\r\nEpoch 29/100\r\n50/50 [==============================] - 20s 391ms/step - loss: 0.5759 - acc: 0.8000 - val_loss: 0.5767 - val_acc: 0.7400\r\nEpoch 30/100\r\n50/50 [==============================] - 19s 372ms/step - loss: 0.5767 - acc: 0.7400 - val_loss: 0.5857 - val_acc: 0.7400\r\nEpoch 31/100\r\n50/50 [==============================] - 22s 433ms/step - loss: 0.5857 - acc: 0.7400 - val_loss: 0.5785 - val_acc: 0.7600\r\nEpoch 32/100\r\n50/50 [==============================] - 19s 373ms/step - loss: 0.5785 - acc: 0.7600 - val_loss: 0.5627 - val_acc: 0.7800\r\nEpoch 33/100\r\n50/50 [==============================] - 21s 417ms/step - loss: 0.5627 - acc: 0.7800 - val_loss: 0.5597 - val_acc: 0.7800\r\nEpoch 34/100\r\n50/50 [==============================] - 21s 422ms/step - loss: 0.5597 - acc: 0.7800 - val_loss: 0.5651 - val_acc: 0.7000\r\nEpoch 35/100\r\n50/50 [==============================] - 18s 365ms/step - loss: 0.5651 - acc: 0.7000 - val_loss: 0.5606 - val_acc: 0.7200\r\nEpoch 36/100\r\n50/50 [==============================] - 18s 362ms/step - loss: 0.5606 - acc: 0.7200 - val_loss: 0.5488 - val_acc: 0.8000\r\nEpoch 37/100\r\n50/50 [==============================] - 18s 361ms/step - loss: 0.5488 - acc: 0.8000 - val_loss: 0.5449 - val_acc: 0.7800\r\nEpoch 38/100\r\n50/50 [==============================] - 18s 361ms/step - loss: 0.5449 - acc: 0.7800 - val_loss: 0.5473 - val_acc: 0.8000\r\nEpoch 39/100\r\n50/50 [==============================] - 18s 361ms/step - loss: 0.5473 - acc: 0.8000 - val_loss: 0.5433 - val_acc: 0.8000\r\nEpoch 40/100\r\n50/50 [==============================] - 18s 368ms/step - loss: 0.5433 - acc: 0.8000 - val_loss: 0.5344 - val_acc: 0.8000\r\nEpoch 41/100\r\n50/50 [==============================] - 19s 372ms/step - loss: 0.5344 - acc: 0.8000 - val_loss: 0.5311 - val_acc: 0.8600\r\nEpoch 42/100\r\n50/50 [==============================] - 18s 367ms/step - loss: 0.5311 - acc: 0.8600 - val_loss: 0.5318 - val_acc: 0.7800\r\nEpoch 43/100\r\n50/50 [==============================] - 18s 366ms/step - loss: 0.5318 - acc: 0.7800 - val_loss: 0.5278 - val_acc: 0.7800\r\nEpoch 44/100\r\n50/50 [==============================] - 18s 367ms/step - loss: 0.5278 - acc: 0.7800 - val_loss: 0.5208 - val_acc: 0.8800\r\nEpoch 45/100\r\n50/50 [==============================] - 18s 363ms/step - loss: 0.5208 - acc: 0.8800 - val_loss: 0.5181 - val_acc: 0.8200\r\nEpoch 46/100\r\n50/50 [==============================] - 18s 367ms/step - loss: 0.5181 - acc: 0.8200 - val_loss: 0.5175 - val_acc: 0.8200\r\nEpoch 47/100\r\n50/50 [==============================] - 19s 372ms/step - loss: 0.5175 - acc: 0.8200 - val_loss: 0.5131 - val_acc: 0.8400\r\nEpoch 48/100\r\n50/50 [==============================] - 19s 372ms/step - loss: 0.5131 - acc: 0.8400 - val_loss: 0.5075 - val_acc: 0.8600\r\nEpoch 49/100\r\n50/50 [==============================] - 19s 384ms/step - loss: 0.5075 - acc: 0.8600 - val_loss: 0.5053 - val_acc: 0.9000\r\nEpoch 50/100\r\n50/50 [==============================] - 19s 382ms/step - loss: 0.5053 - acc: 0.9000 - val_loss: 0.5035 - val_acc: 0.8400\r\nEpoch 51/100\r\n50/50 [==============================] - 18s 369ms/step - loss: 0.5035 - acc: 0.8400 - val_loss: 0.4989 - val_acc: 0.9000\r\nEpoch 52/100\r\n50/50 [==============================] - 20s 394ms/step - loss: 0.4989 - acc: 0.9000 - val_loss: 0.4944 - val_acc: 0.8800\r\nEpoch 53/100\r\n50/50 [==============================] - 19s 372ms/step - loss: 0.4944 - acc: 0.8800 - val_loss: 0.4920 - val_acc: 0.8800\r\nEpoch 54/100\r\n50/50 [==============================] - 18s 367ms/step - loss: 0.4920 - acc: 0.8800 - val_loss: 0.4890 - val_acc: 0.8800\r\nEpoch 55/100\r\n50/50 [==============================] - 19s 371ms/step - loss: 0.4890 - acc: 0.8800 - val_loss: 0.4845 - val_acc: 0.9000\r\nEpoch 56/100\r\n50/50 [==============================] - 18s 369ms/step - loss: 0.4845 - acc: 0.9000 - val_loss: 0.4811 - val_acc: 0.8800\r\nEpoch 57/100\r\n50/50 [==============================] - 18s 362ms/step - loss: 0.4811 - acc: 0.8800 - val_loss: 0.4792 - val_acc: 0.9000\r\nEpoch 58/100\r\n50/50 [==============================] - 18s 367ms/step - loss: 0.4792 - acc: 0.9000 - val_loss: 0.4759 - val_acc: 0.9000\r\nEpoch 59/100\r\n50/50 [==============================] - 18s 368ms/step - loss: 0.4759 - acc: 0.9000 - val_loss: 0.4721 - val_acc: 0.8800\r\nEpoch 60/100\r\n50/50 [==============================] - 18s 366ms/step - loss: 0.4721 - acc: 0.8800 - val_loss: 0.4695 - val_acc: 0.9200\r\nEpoch 61/100\r\n50/50 [==============================] - 18s 370ms/step - loss: 0.4695 - acc: 0.9200 - val_loss: 0.4670 - val_acc: 0.9000\r\nEpoch 62/100\r\n50/50 [==============================] - 18s 368ms/step - loss: 0.4670 - acc: 0.9000 - val_loss: 0.4634 - val_acc: 0.9200\r\nEpoch 63/100\r\n50/50 [==============================] - 22s 433ms/step - loss: 0.4634 - acc: 0.9200 - val_loss: 0.4602 - val_acc: 0.9200\r\nEpoch 64/100\r\n50/50 [==============================] - 19s 370ms/step - loss: 0.4602 - acc: 0.9200 - val_loss: 0.4578 - val_acc: 0.9200\r\nEpoch 65/100\r\n50/50 [==============================] - 19s 374ms/step - loss: 0.4578 - acc: 0.9200 - val_loss: 0.4548 - val_acc: 0.9200\r\nEpoch 66/100\r\n50/50 [==============================] - 19s 383ms/step - loss: 0.4548 - acc: 0.9200 - val_loss: 0.4515 - val_acc: 0.9400\r\nEpoch 67/100\r\n50/50 [==============================] - 20s 393ms/step - loss: 0.4515 - acc: 0.9400 - val_loss: 0.4488 - val_acc: 0.9200\r\nEpoch 68/100\r\n50/50 [==============================] - 19s 373ms/step - loss: 0.4488 - acc: 0.9200 - val_loss: 0.4462 - val_acc: 0.9200\r\nEpoch 69/100\r\n50/50 [==============================] - 19s 373ms/step - loss: 0.4462 - acc: 0.9200 - val_loss: 0.4431 - val_acc: 0.9400\r\nEpoch 70/100\r\n50/50 [==============================] - 18s 364ms/step - loss: 0.4431 - acc: 0.9400 - val_loss: 0.4402 - val_acc: 0.9400\r\nEpoch 71/100\r\n50/50 [==============================] - 18s 366ms/step - loss: 0.4402 - acc: 0.9400 - val_loss: 0.4376 - val_acc: 0.9800\r\nEpoch 72/100\r\n50/50 [==============================] - 19s 370ms/step - loss: 0.4376 - acc: 0.9800 - val_loss: 0.4347 - val_acc: 0.9800\r\nEpoch 73/100\r\n50/50 [==============================] - 18s 369ms/step - loss: 0.4347 - acc: 0.9800 - val_loss: 0.4317 - val_acc: 0.9400\r\nEpoch 74/100\r\n50/50 [==============================] - 18s 369ms/step - loss: 0.4317 - acc: 0.9400 - val_loss: 0.4291 - val_acc: 0.9400\r\nEpoch 75/100\r\n50/50 [==============================] - 19s 372ms/step - loss: 0.4291 - acc: 0.9400 - val_loss: 0.4264 - val_acc: 0.9400\r\nEpoch 76/100\r\n50/50 [==============================] - 18s 369ms/step - loss: 0.4264 - acc: 0.9400 - val_loss: 0.4235 - val_acc: 0.9400\r\nEpoch 77/100\r\n50/50 [==============================] - 19s 376ms/step - loss: 0.4235 - acc: 0.9400 - val_loss: 0.4208 - val_acc: 0.9600\r\nEpoch 78/100\r\n50/50 [==============================] - 19s 377ms/step - loss: 0.4208 - acc: 0.9600 - val_loss: 0.4182 - val_acc: 0.9800\r\nEpoch 79/100\r\n50/50 [==============================] - 19s 381ms/step - loss: 0.4182 - acc: 0.9800 - val_loss: 0.4154 - val_acc: 0.9600\r\nEpoch 80/100\r\n50/50 [==============================] - 19s 370ms/step - loss: 0.4154 - acc: 0.9600 - val_loss: 0.4127 - val_acc: 0.9400\r\nEpoch 81/100\r\n50/50 [==============================] - 18s 369ms/step - loss: 0.4127 - acc: 0.9400 - val_loss: 0.4101 - val_acc: 0.9400\r\nEpoch 82/100\r\n50/50 [==============================] - 19s 371ms/step - loss: 0.4101 - acc: 0.9400 - val_loss: 0.4075 - val_acc: 0.9400\r\nEpoch 83/100\r\n50/50 [==============================] - 18s 364ms/step - loss: 0.4075 - acc: 0.9400 - val_loss: 0.4048 - val_acc: 0.9600\r\nEpoch 84/100\r\n50/50 [==============================] - 18s 365ms/step - loss: 0.4048 - acc: 0.9600 - val_loss: 0.4022 - val_acc: 0.9800\r\nEpoch 85/100\r\n50/50 [==============================] - 18s 367ms/step - loss: 0.4022 - acc: 0.9800 - val_loss: 0.3996 - val_acc: 0.9800\r\nEpoch 86/100\r\n50/50 [==============================] - 18s 368ms/step - loss: 0.3996 - acc: 0.9800 - val_loss: 0.3970 - val_acc: 0.9600\r\nEpoch 87/100\r\n50/50 [==============================] - 18s 370ms/step - loss: 0.3970 - acc: 0.9600 - val_loss: 0.3945 - val_acc: 0.9600\r\nEpoch 88/100\r\n50/50 [==============================] - 18s 367ms/step - loss: 0.3945 - acc: 0.9600 - val_loss: 0.3919 - val_acc: 0.9600\r\nEpoch 89/100\r\n50/50 [==============================] - 18s 366ms/step - loss: 0.3919 - acc: 0.9600 - val_loss: 0.3894 - val_acc: 0.9600\r\nEpoch 90/100\r\n50/50 [==============================] - 18s 366ms/step - loss: 0.3894 - acc: 0.9600 - val_loss: 0.3869 - val_acc: 0.9800\r\nEpoch 91/100\r\n50/50 [==============================] - 19s 371ms/step - loss: 0.3869 - acc: 0.9800 - val_loss: 0.3844 - val_acc: 0.9800\r\nEpoch 92/100\r\n50/50 [==============================] - 18s 368ms/step - loss: 0.3844 - acc: 0.9800 - val_loss: 0.3819 - val_acc: 0.9800\r\nEpoch 93/100\r\n50/50 [==============================] - 18s 368ms/step - loss: 0.3819 - acc: 0.9800 - val_loss: 0.3795 - val_acc: 0.9800\r\nEpoch 94/100\r\n50/50 [==============================] - 18s 366ms/step - loss: 0.3795 - acc: 1.0000 - val_loss: 0.3770 - val_acc: 1.0000\r\nEpoch 95/100\r\n50/50 [==============================] - 18s 369ms/step - loss: 0.3770 - acc: 1.0000 - val_loss: 0.3746 - val_acc: 1.0000\r\nEpoch 96/100\r\n50/50 [==============================] - 18s 366ms/step - loss: 0.3746 - acc: 1.0000 - val_loss: 0.3722 - val_acc: 1.0000\r\nEpoch 97/100\r\n50/50 [==============================] - 18s 368ms/step - loss: 0.3722 - acc: 1.0000 - val_loss: 0.3698 - val_acc: 1.0000\r\nEpoch 98/100\r\n50/50 [==============================] - 18s 366ms/step - loss: 0.3698 - acc: 1.0000 - val_loss: 0.3674 - val_acc: 1.0000\r\nEpoch 99/100\r\n50/50 [==============================] - 18s 367ms/step - loss: 0.3674 - acc: 1.0000 - val_loss: 0.3651 - val_acc: 1.0000\r\nEpoch 100/100\r\n50/50 [==============================] - 18s 368ms/step - loss: 0.3651 - acc: 1.0000 - val_loss: 0.3627 - val_acc: 1.0000\r\n```\r\nI would love to know if you can reproduce my results and whether you can observe any speed degradation that @fchollet suspects.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/383717474/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/383726004",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-383726004",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 383726004,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzcyNjAwNA==",
          "user": {
            "login": "datumbox",
            "id": 5347466,
            "node_id": "MDQ6VXNlcjUzNDc0NjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5347466?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/datumbox",
            "html_url": "https://github.com/datumbox",
            "followers_url": "https://api.github.com/users/datumbox/followers",
            "following_url": "https://api.github.com/users/datumbox/following{/other_user}",
            "gists_url": "https://api.github.com/users/datumbox/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/datumbox/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/datumbox/subscriptions",
            "organizations_url": "https://api.github.com/users/datumbox/orgs",
            "repos_url": "https://api.github.com/users/datumbox/repos",
            "events_url": "https://api.github.com/users/datumbox/events{/privacy}",
            "received_events_url": "https://api.github.com/users/datumbox/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-23T21:16:41Z",
          "updated_at": "2018-04-23T21:16:41Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ahundt Thanks for your comment!\r\n\r\nIn this very specific experiment I used a fixed batch size of 32. Nevertheless in this dummy example I try to reproduce a behaviour we've been facing for over a year now on real-world datasets and problems. In those cases a large number of different batch sizes were tested and the results were comparable.\r\n\r\nPlease note that his PR **DOES NOT** undo the recent change where the mean/var no longer shifts when trainable=False. I 100% agree with you that this change is very beneficial. This PR actually takes it a step further and makes sure that the moving mean/var are used instead of the mini-batch statistics when trainable=False. This ensures that the non-frozen layers will be trained on data scaled the same way as in inference mode.\r\n\r\nBTW thanks for sending me the discussion on #8616. Give me sometime to read all the details to see how this is related.\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/383726004/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/383737673",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-383737673",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 383737673,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzczNzY3Mw==",
          "user": {
            "login": "datumbox",
            "id": 5347466,
            "node_id": "MDQ6VXNlcjUzNDc0NjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5347466?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/datumbox",
            "html_url": "https://github.com/datumbox",
            "followers_url": "https://api.github.com/users/datumbox/followers",
            "following_url": "https://api.github.com/users/datumbox/following{/other_user}",
            "gists_url": "https://api.github.com/users/datumbox/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/datumbox/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/datumbox/subscriptions",
            "organizations_url": "https://api.github.com/users/datumbox/orgs",
            "repos_url": "https://api.github.com/users/datumbox/repos",
            "events_url": "https://api.github.com/users/datumbox/events{/privacy}",
            "received_events_url": "https://api.github.com/users/datumbox/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-23T22:03:50Z",
          "updated_at": "2018-04-23T22:03:50Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ahundt I've read the discussion on #8616. I understand it focuses on the previous change on BN that correctly stopped the update of the moving mean/var when trainable=False. I totally agree with this change. As I said on my previous comment, this PR takes this a step further to ensure that the data after a frozen BN are scaled in the same way during training as during inference.\r\n\r\nWhat I find interesting is that during the original discussion on #8616, @fchollet raises similar concerns about the semantic meaning of trainable as in this PR. Nevertheless in that discussion, he proposed the introduction of another property to extend the API. I also see he tried to implement another property called \"updatable\" which was reverted due to the increased complexity (and at the end we settled with extending the semantics of trainable). I wonder if in this case it makes sense to extend the API to cover this valid case OR update the semantics of trainable (preferred solution) OR update the documentation/examples.\r\n\r\nI would love to have an opinion from @lukedeo on this since he reviewed the code on the other PR.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/383737673/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385679614",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-385679614",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 385679614,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTY3OTYxNA==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-01T14:09:47Z",
          "updated_at": "2018-05-01T16:29:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "@datumbox Ok think I see what you are saying, I might try this out on my dataset. Do I need to change any settings like trainable in my training code or can I just pull this in? In my example I use frozen vgg16 imagenet pretrained weights as a feature extractor with additional trainable layers afterwards.\r\n\r\nOne thing that might help with getting this through is a few improvements to the PR, variable names, and description. If you better separate the concepts and clarify the conditions under which different data is fixed vs changing the reasons this improves performance may be more obvious.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385679614/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385719948",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-385719948",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 385719948,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTcxOTk0OA==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-01T16:44:28Z",
          "updated_at": "2018-05-01T16:44:28Z",
          "author_association": "CONTRIBUTOR",
          "body": "Ok so based on the [test_batchnorm_trainable() changes](https://github.com/keras-team/keras/pull/9965/files#diff-267c0562b910ae677cf3ae65ea3b00a7R250) this should be active by default in all cases except when both `learning phase=1 and trainable=True`. \r\n\r\n```\r\n# In all other cases we should use the moving mean and variance from BN.\r\n```\r\nCorrect?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385719948/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385725893",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-385725893",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 385725893,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTcyNTg5Mw==",
          "user": {
            "login": "datumbox",
            "id": 5347466,
            "node_id": "MDQ6VXNlcjUzNDc0NjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5347466?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/datumbox",
            "html_url": "https://github.com/datumbox",
            "followers_url": "https://api.github.com/users/datumbox/followers",
            "following_url": "https://api.github.com/users/datumbox/following{/other_user}",
            "gists_url": "https://api.github.com/users/datumbox/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/datumbox/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/datumbox/subscriptions",
            "organizations_url": "https://api.github.com/users/datumbox/orgs",
            "repos_url": "https://api.github.com/users/datumbox/repos",
            "events_url": "https://api.github.com/users/datumbox/events{/privacy}",
            "received_events_url": "https://api.github.com/users/datumbox/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-01T17:06:09Z",
          "updated_at": "2018-10-13T09:04:26Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ahundt Thanks for looking into this. My PR affects only networks that use Batch Normalization layers, so VGG will not be affected. No additional configuration is required other than setting trainable=False on the BN layers. Pulling this in should work fine ~~just note that my fork is not synced with the latest stable version of Keras; I plan to do this soon as other people are interested~~. I synced the [patch on Keras 2.1.6](https://github.com/datumbox/keras/tree/fork/keras2.1.6), [Keras 2.2.2](https://github.com/datumbox/keras/tree/fork/keras2.2.2) and  [Keras 2.2.4](https://github.com/datumbox/keras/tree/fork/keras2.2.4).\r\n\r\n> One thing that might help with getting this through is a few improvements to the PR, variable names, and description. \r\n\r\nSure thing, send me your comments and I'll make the changes. :-)\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385725893/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/386324195",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-386324195",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 386324195,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NjMyNDE5NQ==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-03T14:55:27Z",
          "updated_at": "2018-05-11T07:06:50Z",
          "author_association": "CONTRIBUTOR",
          "body": "Oh, yeah sorry I did a first run definitely wasn't configured correctly since vgg makes no sense for this case, and the BN layers I had were trained from scratch. I did have other models including resnet and densenet that didn't perform as well as vgg that use pretrained weights, and the fix in this PR might be why. I will try them out but can you confirm the following steps will make use of your changes?\r\n\r\n1. load pretrained weights for densenet (trainable = false)\r\n2. add some additional layers on the end\r\n3. set all layers from (1) including bn to trainable = **False**, layers from (2) to trainable = **True**\r\n4. run training script\r\n\r\nShould I expect the above sequence to change the performance when running with this PR applied?\r\n\r\nedit: fixed typo mentioned in the next post",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/386324195/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/386445775",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-386445775",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 386445775,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NjQ0NTc3NQ==",
          "user": {
            "login": "datumbox",
            "id": 5347466,
            "node_id": "MDQ6VXNlcjUzNDc0NjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5347466?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/datumbox",
            "html_url": "https://github.com/datumbox",
            "followers_url": "https://api.github.com/users/datumbox/followers",
            "following_url": "https://api.github.com/users/datumbox/following{/other_user}",
            "gists_url": "https://api.github.com/users/datumbox/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/datumbox/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/datumbox/subscriptions",
            "organizations_url": "https://api.github.com/users/datumbox/orgs",
            "repos_url": "https://api.github.com/users/datumbox/repos",
            "events_url": "https://api.github.com/users/datumbox/events{/privacy}",
            "received_events_url": "https://api.github.com/users/datumbox/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-03T21:39:36Z",
          "updated_at": "2018-05-03T21:39:36Z",
          "author_association": "CONTRIBUTOR",
          "body": "I think on the step 3, you meant to say \"all layers from (1) to trainable=**false** and from (2) to trainable=**True**\".\r\n\r\nThat can work but for a more profound effect you can also try fine-tuning a few layers from (1). In other words setting trainable=True to a few convolutions and Bns of (1) will do the trick. There is a great example on Keras documentation for fine-tuning [here](https://keras.io/applications/). This example fails immediately for any layer that uses BN.\r\n\r\nLooking forward to hearing your results.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/386445775/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/386804780",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-386804780",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 386804780,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NjgwNDc4MA==",
          "user": {
            "login": "jksmither",
            "id": 38544598,
            "node_id": "MDQ6VXNlcjM4NTQ0NTk4",
            "avatar_url": "https://avatars.githubusercontent.com/u/38544598?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jksmither",
            "html_url": "https://github.com/jksmither",
            "followers_url": "https://api.github.com/users/jksmither/followers",
            "following_url": "https://api.github.com/users/jksmither/following{/other_user}",
            "gists_url": "https://api.github.com/users/jksmither/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jksmither/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jksmither/subscriptions",
            "organizations_url": "https://api.github.com/users/jksmither/orgs",
            "repos_url": "https://api.github.com/users/jksmither/repos",
            "events_url": "https://api.github.com/users/jksmither/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jksmither/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-05T13:12:09Z",
          "updated_at": "2018-05-05T13:12:09Z",
          "author_association": "NONE",
          "body": "I've tested this update ([Keras 2.1.6 fork](https://github.com/datumbox/keras/tree/fork/keras2.1.6) + TF 1.7 + CUDA 9 on a p3.2xlarge AWS instance) using the following architectures: `ResNet50`, `InceptionV3`, `InceptionResNetV2`, `Xception`, `DenseNet` and `NASNetLarge`. \r\n\r\nMy setup is similar to the \"[Fine-tune InceptionV3 on a new set of classes](https://keras.io/applications/#usage-examples-for-image-classification-models)\" example of the documentation. In all tests, I've used the pre-trained ImageNet weights of the framework and fine-tuned the networks on CIFAR10. The point to which I've frozen the pre-trained layers varies from network to network but in all cases, I've set `trainable=True` to at least 1 BatchNormalization and Convolution layer from the top of the base model. All other configurations (optimizer, batch-size, epochs etc) were kept the same across all executions. Using the fork, my accuracy improved by 3 to 6 points (depending on the architecture) comparing to the standard Keras. I've also noticed that on the fork the models converged faster and that between epochs the loss/accuracy deltas were \"smoother\". This is especially true for `ResNet50` and `InceptionV3` where the metrics of standard Keras jumped all over the place from one epoch to the next.\r\n\r\n@ahundt Did you have the chance to run the test on your data? Please let me know if you observed a similar effect.\r\n\r\n@fchollet I think it would be beneficial to extend Keras and allow BatchNormalization layers to run on Inference Mode after being initialized. One approach could be to have an `inference` property that the users can change after initialization. If you like that, let me know and I'd be happy to write it and send a pull request.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/386804780/reactions",
            "total_count": 5,
            "+1": 5,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/387962392",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-387962392",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 387962392,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4Nzk2MjM5Mg==",
          "user": {
            "login": "jcao-ai",
            "id": 8946363,
            "node_id": "MDQ6VXNlcjg5NDYzNjM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8946363?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jcao-ai",
            "html_url": "https://github.com/jcao-ai",
            "followers_url": "https://api.github.com/users/jcao-ai/followers",
            "following_url": "https://api.github.com/users/jcao-ai/following{/other_user}",
            "gists_url": "https://api.github.com/users/jcao-ai/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jcao-ai/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jcao-ai/subscriptions",
            "organizations_url": "https://api.github.com/users/jcao-ai/orgs",
            "repos_url": "https://api.github.com/users/jcao-ai/repos",
            "events_url": "https://api.github.com/users/jcao-ai/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jcao-ai/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-10T06:13:07Z",
          "updated_at": "2018-05-10T06:13:28Z",
          "author_association": "NONE",
          "body": "@datumbox  After reading the related issues I am on your side.  \r\n\r\n@fchollet \r\n> Again, there is an existing API that does exactly what you want: the training argument in call. There is no point in having two differently name APIs that do the exact same thing. layer.trainable = False is not what you need, therefore don't use it.\r\n\r\nI partly agree with author but in the fine-tune document you should point this issue out. For any beginner of Keras, it will lead to some misunderstanding. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/387962392/reactions",
            "total_count": 9,
            "+1": 7,
            "-1": 0,
            "laugh": 0,
            "hooray": 2,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/388281911",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-388281911",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 388281911,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODI4MTkxMQ==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-11T07:16:36Z",
          "updated_at": "2018-05-11T07:16:36Z",
          "author_association": "CONTRIBUTOR",
          "body": "I haven't abandoned this. \r\n\r\n> I think on the step 3, you meant to say \"all layers from (1) to trainable=false and from (2) to trainable=True\".\r\n\r\n@datumbox thanks for your correction, yes that was a typo.\r\n\r\nI've had hyperopt (~2k model variations for 1 epoch) running on a dataset to see if there is any movement. I have the numbers from the fork, but I'm waiting on the keras master run to finish for comparison. I might also do a third pair of runs where a random fraction of each network is trainable.\r\n\r\nAh so the two features we are discussing here are:\r\n\r\n- `Layer.__call__(training=True)`\r\n- `Layer.trainable = True` aka `Model.layers[i].trainable = True`\r\n\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/388281911/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/391487794",
          "html_url": "https://github.com/keras-team/keras/pull/9965#issuecomment-391487794",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9965",
          "id": 391487794,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTQ4Nzc5NA==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-23T20:36:24Z",
          "updated_at": "2018-05-23T20:46:58Z",
          "author_association": "CONTRIBUTOR",
          "body": "Ok I ran a hyperopt search on both master and this PR to compare. It is really set up for my research and not analyzing this PR so please forgive the glaring omissions of detail and the numerous ways this evaluation isn't perfect. :-)\r\n\r\nThere were 1143 models in two runs of a hyperparameter search with a fixed initial numpy seed, where all but ~30 configurations were random in two cases: master and pr 9965. The ~30 non random ones were chosen with Bayesian optimization on the hyperparameters via gpyopt. Examples of Hyperparams that changed included the model with pretrained imagenet weights: densenet, inception resnet v2, vgg, resnet, nasnet mobile, additional layers appended to the end as a resnet, densenet or vgg blocks, and a few other things. Training was for 1 epoch on each model with SGD and a learning rate of 0.02. It is a binary classification problem: success or failure of a robot to grasp an object. \r\n\r\nBe aware:\r\n- 1 epoch per model (sorry, I had 1 GPU to spare for this)\r\n- some of these models don't have batch norm at all\r\n- 50% of them will be completely trainable\r\n- 50% of them the imagenet weights will be completely locked\r\n\r\nHere are the averages and medians of the hyperparameter configurations with each keras version:\r\n\r\n **master:**\r\n\r\n\r\nalg | binary_accuracy | loss | lr | mean_pred | mean_true | test_binary_accuracy | test_loss | test_mean_pred | test_mean_true | val_binary_accuracy | val_loss\r\n-- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | --\r\nmean | 0.7047966469 | 1.2768393246 | 0.02 | 0.6532160745 | 0.6456679511 | 0.6923316583 | 1.5249089349 | 0.6347057594 | 0.6149205068 | 0.6680574575 | 1.6015010751\r\nmedian | 0.7218137255 | 0.6378628281 | 0.02 | 0.6444845796 | 0.6458333333 | 0.6767411301 | 0.642174027 | 0.6356934232 | 0.6149802891 | 0.660326087 | 0.6659815013\r\n\r\n**PR 9965:**\r\n\r\nalg | binary_accuracy | loss | lr | mean_pred | mean_true | test_binary_accuracy | test_loss | test_mean_pred | test_mean_true | val_binary_accuracy | val_loss | val_mean_pred\r\n-- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | -- | --\r\nmean | 0.7032608824 | 1.3332693654 | 0.02 | 0.6535641914 | 0.6457873238 | 0.6922808729 | 1.5722599631 | 0.6542453542 | 0.6153116809 | 0.6663950069 | 1.6660901248 | 0.6577351063\r\nmedian | 0.7172947304 | 0.6426681823 | 0.02 | 0.6440287049 | 0.6459865196 | 0.673455979 | 0.6477609455 | 0.648474915 | 0.6149802891 | 0.6576086957 | 0.671154305 | 0.6532216195\r\n\r\nIn this case, it looks like the typical model performed the same or a fraction of a percentage worse. I looked at a few specific examples such as inception resnet v2 weights with training locked and either a densenet or resnet block on the end, and they might have done ~1-2% better, but they didn't suddenly become the best models found in the search because of this change.\r\n\r\nSo in other words what I ran was mostly inconclusive (and possibly misconfigured), because I forgot to try locking random fractions of the imagenet weights and so `trainable=True/False` was either on all imagenet weights or none. If you think it'd be worthwhile to re-run with random proportions I might be able to give it a try. Sorry for the delay and the imperfections, I figured it'd at least be best to provide an update.\r\n\r\nDespite this, multiple other people seem to be able to reproduce the benefits of this PR at least on cifar...",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/391487794/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/6928",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/6928/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/6928/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/6928/events",
      "html_url": "https://github.com/keras-team/keras/pull/6928",
      "id": 234993205,
      "node_id": "MDExOlB1bGxSZXF1ZXN0MTI0OTg1Njg0",
      "number": 6928,
      "title": "Input Tensors: High Performance Large Datasets via TFRecords",
      "user": {
        "login": "ahundt",
        "id": 55744,
        "node_id": "MDQ6VXNlcjU1NzQ0",
        "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ahundt",
        "html_url": "https://github.com/ahundt",
        "followers_url": "https://api.github.com/users/ahundt/followers",
        "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
        "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
        "organizations_url": "https://api.github.com/users/ahundt/orgs",
        "repos_url": "https://api.github.com/users/ahundt/repos",
        "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ahundt/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 92,
      "created_at": "2017-06-10T10:02:35Z",
      "updated_at": "2017-11-23T03:06:38Z",
      "closed_at": "2017-11-23T03:06:38Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/6928",
        "html_url": "https://github.com/keras-team/keras/pull/6928",
        "diff_url": "https://github.com/keras-team/keras/pull/6928.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/6928.patch",
        "merged_at": null
      },
      "body": "Implements the Input Tensor API detailed in https://github.com/fchollet/keras/issues/7102#issuecomment-310809267\r\n\r\n**Update (2017-08-08):** Two supported use cases based on reviews:\r\n\r\n```python\r\n\r\n# API 2\r\n\r\nmodel = # on top of a tensor input\r\nmodel.add_loss()  # involving y_tensor\r\nmodel.fit(epochs=10, steps_per_epoch=1000)\r\n\r\n# API 3\r\n\r\nmodel = # on top of a tensor input\r\nmodel.compile()\r\nmodel.fit(y=y_tensor, epochs=10, steps_per_epoch=1000)\r\n```\r\n\r\nAPI usage, with [working mnist_tfrecord.py implementation](https://github.com/ahundt/keras/blob/tfrecord/examples/mnist_tfrecord.py#L176).\r\n\r\n\r\n### Summary \r\n\r\nThis PR adds support for yield ops to Keras plus an example utilizing TFRecords. Correct support for yield ops in `Model` adds valuable functionality not currently supported by Keras for the reasons detailed below. \r\n\r\nIt re-compiles on demand when tensors are passed to `y` in `model.fit()`.\r\n\r\n#### Yield ops\r\n\r\nYield ops aka data tensors, such as [RecordInput](https://github.com/tensorflow/tensorflow/blob/833252af72af56661aefb0541163109132f9d4a6/tensorflow/python/ops/data_flow_ops.py#L2137) ([test code](https://github.com/tensorflow/tensorflow/blob/833252af72af56661aefb0541163109132f9d4a6/tensorflow/python/kernel_tests/record_input_test.py#L70)), are different from `tf.Variable` because they provide data entirely on the C++ side when run without `fetches` or `feed_dict`, and are thus extremely efficient for large data like images. \r\n\r\n#### Changes\r\n\r\nHere are the changes, marked with ==bugfix== and ==new param== in the comments below:\r\n\r\n```python\r\n# tf yield ops that supply dataset images and labels\r\nx_train_batch, y_train_batch = read_and_decode_recordinput(...)\r\n\r\n# create a basic cnn\r\nx_train_input = Input(tensor=x_train_batch)\r\nx_train_out = cnn_layers(x_train_input)\r\n\r\n# y label batch is input & output\r\n# Perhaps this aspect of API usage can be improved?\r\ny_train_in = Input(tensor=y_train_batch)\r\n\r\n# ==bugfix==\r\n# This call causes a crash without this patch because\r\n# an invalid call is made that is equivalent to:\r\n# K.placeholder(dtype=x_train_input)\r\ntrain_model = Model(inputs=[x_train_in], outputs=[x_train_out])\r\n\r\n# ==bugfix==\r\n# This call will crash without this patch because\r\n# it is assumed the parameters `x` and `y` are\r\n# provided here and not via the ops\r\n# x_train_batch and y_train_batch \r\ntrain_model.compile(optimizer='rmsprop',\r\n                    loss='categorical_crossentropy',\r\n                    metrics=['accuracy'])\r\n\r\n# ==bugfix== + ==new param==\r\n# This call will crash without this patch because\r\n# the changes in tensor order caused by the\r\n# constructor update, which accepts yield ops,\r\n# were not previously accounted for.\r\n#\r\n# A new param steps_per_epoch is added\r\n# which works just like in fit_generator()\r\ntrain_model.fit(None, y_train_in, \r\n                batch_size=batch_size,\r\n                epochs=epochs,\r\n                steps_per_epoch=10000)\r\n```\r\n\r\nThere are extended unit tests and support for Input Tensors with each of the following APIs given an Input Tensor (aka yield op) `x` and `y`:\r\n\r\n```python\r\n\r\n    # train_on_batch\r\n    out = model.train_on_batch(x, y)\r\n\r\n    # test_on_batch\r\n    out = model.test_on_batch(x, y)\r\n\r\n    # predict_on_batch\r\n    out = model.predict_on_batch(x)\r\n\r\n    # fit\r\n    out = model.fit(x, y, epochs=1, batch_size=batch_size,\r\n                    steps_per_epoch=steps_per_epoch)\r\n\r\n    # evaluate\r\n    out = model.evaluate(x, y, batch_size=batch_size,\r\n                         steps=steps_per_epoch)\r\n\r\n    # predict\r\n    out = model.predict(x, batch_size=batch_size,\r\n                        steps=steps_per_epoch)\r\n```\r\n\r\n#### TFRecord\r\n\r\nTFRecord support is a side effect and key motivator of yield op support, and [examples/mnist_tfrecord.py](https://github.com/ahundt/keras/blob/b7d44a54ffee3391135abd3a3566a9c0d20a2fa8/examples/mnist_tfrecord.py) demonstrates usage.\r\n\r\n\r\n**Update:** I've moved the `fetches` and `feed_dict` public API design into #6974. This PR now focuses more narrowly on supporting an input tensor `yield_op` as a parameter.\r\n\r\n### Performance Update\r\n\r\nThis latest version runs mnist_tfrecord.py twice as fast as it did previously!",
      "closed_by": {
        "login": "ahundt",
        "id": 55744,
        "node_id": "MDQ6VXNlcjU1NzQ0",
        "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ahundt",
        "html_url": "https://github.com/ahundt",
        "followers_url": "https://api.github.com/users/ahundt/followers",
        "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
        "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
        "organizations_url": "https://api.github.com/users/ahundt/orgs",
        "repos_url": "https://api.github.com/users/ahundt/repos",
        "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ahundt/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/6928/reactions",
        "total_count": 7,
        "+1": 7,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/6928/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307578190",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-307578190",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 307578190,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzU3ODE5MA==",
          "user": {
            "login": "drewrice2",
            "id": 17051355,
            "node_id": "MDQ6VXNlcjE3MDUxMzU1",
            "avatar_url": "https://avatars.githubusercontent.com/u/17051355?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/drewrice2",
            "html_url": "https://github.com/drewrice2",
            "followers_url": "https://api.github.com/users/drewrice2/followers",
            "following_url": "https://api.github.com/users/drewrice2/following{/other_user}",
            "gists_url": "https://api.github.com/users/drewrice2/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/drewrice2/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/drewrice2/subscriptions",
            "organizations_url": "https://api.github.com/users/drewrice2/orgs",
            "repos_url": "https://api.github.com/users/drewrice2/repos",
            "events_url": "https://api.github.com/users/drewrice2/events{/privacy}",
            "received_events_url": "https://api.github.com/users/drewrice2/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-10T17:11:44Z",
          "updated_at": "2017-06-10T17:11:54Z",
          "author_association": "NONE",
          "body": "watching this PR closely, thanks for your efforts @ahundt ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307578190/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307584524",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-307584524",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 307584524,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzU4NDUyNA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-10T19:09:12Z",
          "updated_at": "2017-06-10T19:09:12Z",
          "author_association": "COLLABORATOR",
          "body": "We already support fitting from tensors / TFRecords. Please make a case for this PR.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307584524/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307593457",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-307593457",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 307593457,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzU5MzQ1Nw==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-10T22:18:42Z",
          "updated_at": "2017-06-10T22:18:42Z",
          "author_association": "CONTRIBUTOR",
          "body": "> We already support fitting from tensors / TFRecords. Please make a case for this PR.\r\n\r\n@fchollet Is there a TFRecords example with the `model.fit()` API somewhere that I missed? Perhaps I also misunderstood the API usage, my notes below assume changes are needed to support TFRecords.\r\n\r\n### Features\r\n- TFRecords example\r\n- Several small changes needed so the example does not crash\r\n- Users can pass additional ops and a feed dict to `session.run()` via `model.fit()` \r\n\r\n### Why modify model.fit() to accept TFRecords instead of writing my own training loop? \r\n- The Keras API design is excellent so I'd prefer to reuse it\r\n- Avoid maintaining a fork and compatibility as keras evolves\r\n- Use other libraries built on keras\r\n- Minimize the effort to switch backends in user code subsets that don't depend on TFRecords. \r\n- I know of ~6 others that have searched or asked about this functionality. I hope this will help them too. :-)\r\n\r\nI can implement things in a different manner as needed. I can also split this into several smaller pull requests according to the headline changes below.\r\n\r\n### model.fit(x=None, y=None) \r\n\r\nIn several places `model.fit()` [assumed that either x or y is not None](https://github.com/fchollet/keras/pull/6928/files#diff-299cfd5886683a4b012f286403769fc1L1322), which isn't the case if the data is supplied by a Tensor op.\r\n\r\n### Disabling sample weights\r\n\r\nSample_weights in `model.fit()` assumes `x is not None and y is not None` in many places. Additionally, when a tensor supplies the samples, I don't think the information necessary to initialize the right number, dimension, and values of sample weight placeholders is available to this part of the code.\r\n\r\nI chose the `disabled` parameter for backwards compatibility, but I know that naming scheme doesn't fit with the rest of the API.\r\n\r\n### [is_placeholder()](https://github.com/fchollet/keras/pull/6928/files#diff-c66ff60af92d5eee116b055bbb711174R111)\r\n\r\nI use is_placeholder() to [differentiate numpy inputs from tensorflow op inputs](https://github.com/fchollet/keras/pull/6928/files#diff-fe3ca734e8421a17729d0b0ea4c800baR1624), which allows [`y_true` and `y_pred` to be correctly assigned to the appropriate tf op](https://github.com/fchollet/keras/pull/6928/files#diff-299cfd5886683a4b012f286403769fc1R915), without this change the program crashes by trying to [incorrectly pass an op to K.placeholder](https://github.com/fchollet/keras/pull/6928/files#diff-299cfd5886683a4b012f286403769fc1R896).\r\n\r\n`is_placeholder` can also be useful when enumerating the layers, inputs, outputs, and transforming an arbitrary model. For example anything that walks the graph may or may not want to modify placeholders, such as an automated labeling model to segmentation model converter.\r\n\r\nThe implementation of `is_placeholder` was based on [_uses_learning_phase and _keras_shape](https://github.com/fchollet/keras/pull/6928/files#diff-ff634bb5c5441d7052449f20018872b8R223).\r\n\r\n### TFRecords Example\r\n\r\nThere is quite a bit of interest in training models from TFRecords, with a bunch of comments + thumbs in the [keras-contrib PR](https://github.com/farizrahman4u/keras-contrib/pull/27) and [tensorflow issue](https://github.com/tensorflow/tensorflow/issues/8787). Loading from TFRecords will certainly be faster than from disk, and is suggested in the [high performance models docs](https://www.tensorflow.org/performance/performance_models). The dataset I'm using was released as a TFRecord, so it is quite convenient.\r\n\r\nI didn't really like this workaround:\r\n```python\r\nModel(inputs=[x_train_input, y_train_in_out], outputs=[x_train_out, y_train_in_out])\r\n```\r\nIs there a better way to supply label values from a TFRecord?\r\n\r\n### class Function(fetches, feed_dict)\r\n\r\nBefore this change, auxiliary tf tensor data & operations could *almost* be provided to the `session.run()` call, but not quite since the [feed_dict and fetches params end up duplicated](https://github.com/fchollet/keras/pull/6928/files#diff-a18b8c6a1191d6f49303e0d599ca8c37L2268). The return path of the [`updated`](https://github.com/fchollet/keras/pull/6928/files#diff-a18b8c6a1191d6f49303e0d599ca8c37R2280) variable might still need some tweaking. Why might this be useful? API & algorithm extensions that need to be fast can be added without modifying Keras models or training functions.\r\n\r\nMy motivating API extension example is training on a realtime data source like a robot. I want to supply live images via an op while actively fitting, and log the image via another op. There is no need for the logging op to affect my model/training but the source/sink should run in the same session, and the overhead of moving the images to numpy arrays and serializing would cause frames to drop. \r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307593457/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307596993",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-307596993",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 307596993,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzU5Njk5Mw==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-10T23:53:29Z",
          "updated_at": "2017-06-10T23:53:29Z",
          "author_association": "COLLABORATOR",
          "body": "So currently you are supposed to be able to:\r\n- build models on top of tensors\r\n- train with `fit` with partial Numpy data (i.e. any tensor input will no expect Numpy data), e.g. `fit(x=None, y)`\r\n\r\nWhat changes?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307596993/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307601534",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-307601534",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 307601534,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzYwMTUzNA==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-11T02:14:55Z",
          "updated_at": "2017-06-11T18:46:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "> What changes?\r\n\r\nHere are the changes, marked with `==bugfix==` or `==new param==` in the comments below:\r\n\r\n```python\r\n# tf ops that supply dataset images and labels\r\nx_train_batch, y_train_batch = read_and_decode_recordinput(...)\r\n\r\n# create a basic mlp\r\nx_train_input = Input(tensor=x_train_batch)\r\nx_train_out = cnn_layers(x_train_input)\r\n\r\n# y label batch is input & output\r\ny_train_in_out = Input(tensor=y_train_batch)\r\n\r\n# ==bugfix== \r\n# these lines cause a crash without the patch\r\n# because an invalid call equivalent to this is made:\r\n# K.placeholder(dtype=x_train_input)\r\ntrain_model = Model(inputs=[x_train_input, y_train_in_out],\r\n                    outputs=[x_train_out, y_train_in_out])\r\n\r\n# ==new param option==\r\n# model.compile(sample_weight_mode='disabled')\r\n\r\n# ==bugfix==\r\n# This call will crash without the patch,\r\n# even if sample_weight_mode=None.\r\ntrain_model.compile(optimizer='rmsprop',\r\n                    loss='categorical_crossentropy',\r\n                    metrics=['accuracy'],\r\n                    sample_weight_mode='disabled')\r\n\r\n# ==new param==\r\n# sess.run(fetches, feed_dict) parameters handled correctly in backend\r\nhello = tf.constant('Hello, TensorFlow!')\r\ntrain_model.fit(batch_size=batch_size, epochs=300, fetches=hello)\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307601534/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307606437",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-307606437",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 307606437,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzYwNjQzNw==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-11T04:54:02Z",
          "updated_at": "2017-06-11T04:54:02Z",
          "author_association": "CONTRIBUTOR",
          "body": "It seems right now I've broken more cases than I fixed in the tests... I knew this code section would get pretty complicated. Might be a few days before I can address further code fixes.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307606437/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307608232",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-307608232",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 307608232,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzYwODIzMg==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-11T05:42:50Z",
          "updated_at": "2017-06-11T05:43:09Z",
          "author_association": "COLLABORATOR",
          "body": "If sample weighting cannot be supported, then it should be disabled automatically and a `ValueError` should be raised if the user attempt to pass some sample weights. This should *not* be handled by the user via `sample_weight_mode='disabled'`\r\n\r\n> read_and_decode_recordinput\r\n\r\nWhat does it do exactly and why is it necessary?\r\n\r\n> fetches\r\n\r\nCan you explain the `fetches` API in further detail?\r\n\r\nThanks!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307608232/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307648503",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-307648503",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 307648503,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzY0ODUwMw==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-11T18:46:05Z",
          "updated_at": "2017-06-11T18:46:05Z",
          "author_association": "CONTRIBUTOR",
          "body": " > If sample weighting cannot be supported, then it should be disabled automatically and a ValueError should be raised if the user attempt to pass some sample weights. This should not be handled by the user via sample_weight_mode='disabled'\r\n\r\nGreat idea, why didn't I think of that? Thanks!\r\n\r\n>> read_and_decode_recordinput\r\n>\r\n> What does it do exactly and why is it necessary?\r\n\r\nIt is not part of the API, it is user code creating the tf ops that feed data in mnist_tensorflow.py, [read_and_decode_recordinput()](https://github.com/fchollet/keras/pull/6928/files#diff-5d4b217f28eee8c68337324ed48f12adR97). I'll explain in more detail in the datasets pull request, because it is most relevant there.\r\n\r\n>> fetches\r\n>\r\n> Can you explain the fetches API in further detail?\r\n\r\nYou may slap your head when you read this one, but no worries I'm happy to clarify! :-)\r\n\r\n`fetches` is the first parameter of [tf.session.run()](https://www.tensorflow.org/api_docs/python/tf/Session#run)\r\n\r\n```\r\nrun(\r\n    fetches,\r\n    feed_dict=None,\r\n    options=None,\r\n    run_metadata=None\r\n)\r\n```\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307648503/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307932823",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-307932823",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 307932823,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNzkzMjgyMw==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-12T21:21:04Z",
          "updated_at": "2017-06-12T21:21:04Z",
          "author_association": "COLLABORATOR",
          "body": "In `sess.run`, `fetches` is a list (or otherwise nested datastructure) of tensors to return (nodes to fetch from the computational graph). But `fit` does not return tensors. Hence my confusion. What does `fetches` achieve in `fit`: how are users supposed to understand its usage? How would you write docs about it?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/307932823/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308003914",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-308003914",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 308003914,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwODAwMzkxNA==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-13T04:31:27Z",
          "updated_at": "2017-06-13T17:08:57Z",
          "author_association": "CONTRIBUTOR",
          "body": "> how are users supposed to understand its usage? How would you write docs about it?\r\n\r\nWhat is does is forwards `fetches` and `feed_dict` to `session.run()`.\r\n\r\nHere are some first pass doc lines:\r\n```python\r\nhistory = model.fit(fetches,feed_dict)\r\n\"\"\"\r\n# Arguments\r\n\r\n    fetches: TensorFlow backend only. A single TensorFlow graph element, \r\n        a list of graph elements, or a dictionary whose values are graph elements \r\n        or lists of graph elements. Passes tensor ops to `tf.session.run()` and \r\n        returns an additional tensor tuple upon completion. This is for advanced \r\n        users that require auxiliary processing as fit runs. When provided,\r\n        additional tensor values are returned:\r\n            `history, tensors = model.fit(fetches,feed_dict)`\r\n        See https://www.tensorflow.org/api_docs/python/tf/Session for more details\r\n        on this parameter.\r\n    feed_dict: TensorFlow backend only. A dictionary that maps TensorFlow graph\r\n        elements to values.  This is for advanced users that require auxiliary \r\n        processing as `model.fit()` runs. \r\n        See https://www.tensorflow.org/api_docs/python/tf/Session for more details on this parameter.\r\n\"\"\"\r\n```\r\nMotivation: I want to supply live images via an op while actively fitting, and log the image via another op. Details are in my previous post https://github.com/fchollet/keras/pull/6928#issuecomment-307593457.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308003914/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308185325",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-308185325",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 308185325,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwODE4NTMyNQ==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-13T17:12:26Z",
          "updated_at": "2017-06-13T17:21:19Z",
          "author_association": "CONTRIBUTOR",
          "body": "Distributed training customization is another good use case! That's something which shouldn't be specified directly in the model. I expect that for advanced users there are quite a few use cases where specifying auxiliary TF ops would prove valuable.\r\n\r\n> Should we provide helper functions like _int64_feature ?\r\n\r\nCan you elaborate? I haven't come across this myself so I'm not sure what you're proposing.\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308185325/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308188731",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-308188731",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 308188731,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwODE4ODczMQ==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-13T17:24:15Z",
          "updated_at": "2017-06-13T17:24:15Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hmm, `mnist_tfrecord.py` doesn't actually train, the output is no better than chance. Does anyone see the source of the disconnect? Perhaps the labels aren't actually being used in the loss function?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308188731/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308218905",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-308218905",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 308218905,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwODIxODkwNQ==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-13T19:13:16Z",
          "updated_at": "2017-06-13T19:29:22Z",
          "author_association": "CONTRIBUTOR",
          "body": "I've moved the `fetches` and `feed_dict` public API design into #6974. This PR now focuses more narrowly on fixing bugs that occur when a tf `yield_op` is supplied as a parameter.\r\n\r\nI just updated the very top to correctly reflect the changes in this PR.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308218905/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308881710",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-308881710",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 308881710,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwODg4MTcxMA==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-15T22:21:56Z",
          "updated_at": "2017-06-15T22:21:56Z",
          "author_association": "CONTRIBUTOR",
          "body": "It turns out this now meets many of the [goals I described for yield ops](https://github.com/fchollet/keras/pull/6891#issuecomment-307659460). Wrapping with `Input()` plus the new optional `Model(labels)` param seems to be enough.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308881710/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308883398",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-308883398",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 308883398,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwODg4MzM5OA==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-15T22:31:07Z",
          "updated_at": "2017-06-15T22:31:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "@Dref360 could I get another review of this? The scope has narrowed and the code has improved substantially. \r\n\r\nHere is what this PR now changes, marked with ==bugfix== and ==new param== in the comments below:\r\n\r\n```python\r\n# tf yield ops that supply dataset images and labels\r\nx_train_batch, y_train_batch = read_and_decode_recordinput(...)\r\n\r\n# create a basic cnn\r\nx_train_input = Input(tensor=x_train_batch)\r\nx_train_out = cnn_layers(x_train_input)\r\n\r\n# y label batch is input & output\r\ny_train_in_out = Input(tensor=y_train_batch)\r\n\r\n# ==new param== + ==bugfix==\r\n# A new param `labels` has been added\r\n# so a tensor that generates labels can be\r\n# handled correctly.\r\n#\r\n# This call causes a crash without this patch because\r\n# an invalid call is made that is equivalent to:\r\n# K.placeholder(dtype=x_train_input)\r\ntrain_model = Model(inputs=[x_train_input],\r\n                    outputs=[x_train_out],\r\n                    labels=[y_train_in_out])\r\n\r\n# ==bugfix==\r\n# This call will crash without this patch because\r\n# it is assumed the parameters `x` and `y` are\r\n# provided here and not via the ops\r\n# x_train_batch and y_train_batch \r\ntrain_model.compile(optimizer='rmsprop',\r\n                    loss='categorical_crossentropy',\r\n                    metrics=['accuracy'])\r\n```\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308883398/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309302694",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-309302694",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 309302694,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTMwMjY5NA==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-18T21:01:36Z",
          "updated_at": "2017-06-18T22:38:15Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet @Dref360 In addition to the existing tf.Variable support, generating tensors are now supported, tests are added, and a NotImplementedError is thrown in the generating tensors + sample_weights case for which there isn't yet support. If it is feasible, I'd appreciate an expedited review because keeping this synced with master could be quite some work due to the large number of fixes throughout `training.py`.\r\n\r\n~~While the tests passed locally, there are conflicts that need to be resolved and I'm working to fix the conflicts and get the tests passing again post merge now.~~ **Edit: all fixed**",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309302694/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309306164",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-309306164",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 309306164,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTMwNjE2NA==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-18T22:07:58Z",
          "updated_at": "2017-06-19T04:54:04Z",
          "author_association": "CONTRIBUTOR",
          "body": "Changes since approval are just more tests. I also removed a workaround that isn't required!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309306164/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309334638",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-309334638",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 309334638,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTMzNDYzOA==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-19T04:14:47Z",
          "updated_at": "2017-06-19T04:17:45Z",
          "author_association": "CONTRIBUTOR",
          "body": "Is `test_TimeDistributed_learning_phase` a flaky test? \r\n\r\nThis error looks like it might be due to flaking, but I'm not super familiar with `TimeDistributed`.\r\n\r\n```\r\n\r\n_____________________ test_TimeDistributed_learning_phase ______________________\r\n[gw0] linux2 -- Python 2.7.13 /home/travis/miniconda/envs/test-environment/bin/python\r\n@keras_test\r\n    @pytest.mark.skipif((K.backend() == 'cntk'),\r\n                        reason='cntk does not support dropout yet')\r\n    def test_TimeDistributed_learning_phase():\r\n        # test layers that need learning_phase to be set\r\n        x = Input(shape=(3, 2))\r\n        y = wrappers.TimeDistributed(core.Dropout(.999))(x, training=True)\r\n        model = Model(x, y)\r\n        y = model.predict(np.random.random((10, 3, 2)))\r\n>       assert_allclose(0., y, atol=1e-2)\r\nE       AssertionError: \r\nE       Not equal to tolerance rtol=1e-07, atol=0.01\r\nE       \r\nE       (mismatch 1.66666666667%)\r\nE        x: array(0.0)\r\nE        y: array([[[   0.      ,    0.      ],\r\nE               [   0.      ,    0.      ],\r\nE               [   0.      ,    0.      ]],...\r\n```\r\n\r\nIt looks like all the values are 0, and it is failing on tf with python 3.5, theano with python 2.7, but passing on my platform TensorFlow with python 2.7. :-/",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309334638/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309335645",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-309335645",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 309335645,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTMzNTY0NQ==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-19T04:25:51Z",
          "updated_at": "2017-06-19T04:25:51Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet I noticed `test_TimeDistributed_learning_phase` was just added 4 days ago in 73f374e. Is it possible this failure is not due to my changes?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309335645/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309340844",
          "html_url": "https://github.com/keras-team/keras/pull/6928#issuecomment-309340844",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6928",
          "id": 309340844,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTM0MDg0NA==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-19T05:17:04Z",
          "updated_at": "2017-06-19T05:32:08Z",
          "author_association": "CONTRIBUTOR",
          "body": "Woohoo, It all works! :-)\r\n\r\n### summary \r\n\r\nFor the reasons detailed below, correct support for yield ops in `Model` adds valuable functionality not currently supported by keras. \r\n\r\n#### Yield Ops\r\n\r\nYield ops, such as  [RecordInput](https://github.com/tensorflow/tensorflow/blob/833252af72af56661aefb0541163109132f9d4a6/tensorflow/python/ops/data_flow_ops.py#L2137) ([test code](https://github.com/tensorflow/tensorflow/blob/833252af72af56661aefb0541163109132f9d4a6/tensorflow/python/kernel_tests/record_input_test.py#L70)), are different from `tf.Variable` because they provide data entirely on the C++ side when run without `fetches` or `feed_dict`, and are thus extremely efficient for large data like images. \r\n\r\n#### changes\r\n\r\nHere are the changes, marked with ==bugfix== and ==new param== in the comments below:\r\n\r\n```python\r\n# tf yield ops that supply dataset images and labels\r\nx_train_batch, y_train_batch = read_and_decode_recordinput(...)\r\n\r\n# create a basic cnn\r\nx_train_input = Input(tensor=x_train_batch)\r\nx_train_out = cnn_layers(x_train_input)\r\n\r\n# y label batch is input & output\r\n# Perhaps this aspect of API usage can be improved?\r\ny_train_in_out = Input(tensor=y_train_batch)\r\n\r\n# ==new param== + ==bugfix==\r\n# A new param `labels` has been added\r\n# so a tensor that generates labels can be\r\n# handled correctly.\r\n#\r\n# This call causes a crash without this patch because\r\n# an invalid call is made that is equivalent to:\r\n# K.placeholder(dtype=x_train_input)\r\ntrain_model = Model(inputs=[x_train_input],\r\n                    outputs=[x_train_out],\r\n                    labels=[y_train_in_out])\r\n\r\n# ==bugfix==\r\n# This call will crash without this patch because\r\n# it is assumed the parameters `x` and `y` are\r\n# provided here and not via the ops\r\n# x_train_batch and y_train_batch \r\ntrain_model.compile(optimizer='rmsprop',\r\n                    loss='categorical_crossentropy',\r\n                    metrics=['accuracy'])\r\n\r\n# ==bugfix==\r\n# This call will crash without this patch because\r\n# the changes in tensor order caused by the\r\n# constructor, which accepts yield ops,\r\n# were not previously accounted for.\r\ntrain_model.fit(None,None)\r\n```\r\n\r\n#### TFRecord\r\n\r\nTFRecord support is a side effect of yield op support, and [examples/mnist_tfrecord.py](https://github.com/ahundt/keras/blob/b7d44a54ffee3391135abd3a3566a9c0d20a2fa8/examples/mnist_tfrecord.py) demonstrates usage.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309340844/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/4962",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/4962/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/4962/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/4962/events",
      "html_url": "https://github.com/keras-team/keras/issues/4962",
      "id": 199379930,
      "node_id": "MDU6SXNzdWUxOTkzNzk5MzA=",
      "number": 4962,
      "title": "How to add Attention on top of a Recurrent Layer (Text Classification)",
      "user": {
        "login": "cbaziotis",
        "id": 5629093,
        "node_id": "MDQ6VXNlcjU2MjkwOTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5629093?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbaziotis",
        "html_url": "https://github.com/cbaziotis",
        "followers_url": "https://api.github.com/users/cbaziotis/followers",
        "following_url": "https://api.github.com/users/cbaziotis/following{/other_user}",
        "gists_url": "https://api.github.com/users/cbaziotis/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cbaziotis/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cbaziotis/subscriptions",
        "organizations_url": "https://api.github.com/users/cbaziotis/orgs",
        "repos_url": "https://api.github.com/users/cbaziotis/repos",
        "events_url": "https://api.github.com/users/cbaziotis/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cbaziotis/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 116,
      "created_at": "2017-01-07T19:24:46Z",
      "updated_at": "2021-06-15T19:43:54Z",
      "closed_at": "2017-01-24T10:06:06Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "I am doing text classification. Also I am using my pre-trained word embeddings and i have a `LSTM` layer on top with a `softmax` at the end.\r\n```\r\nvocab_size = embeddings.shape[0]\r\nembedding_size = embeddings.shape[1]\r\n\r\nmodel = Sequential()\r\n\r\nmodel.add(Embedding(\r\n        input_dim=vocab_size,\r\n        output_dim=embedding_size,\r\n        input_length=max_length,\r\n        trainable=False,\r\n        mask_zero=True,\r\n        weights=[embeddings]\r\n    ))\r\n\r\nmodel.add(LSTM(200, return_sequences=False))\r\nmodel.add(Dropout(0.5))\r\n\r\nmodel.add(Dense(3, activation='softmax', activity_regularizer=activity_l2(0.0001)))\r\n```\r\nPretty simple. Now I want to add attention to the model,  but i don't know how to do it.\r\n \r\nMy understanding is that i have to set `return_sequences=True` so as the attention layer will weigh each timestep accordingly. This way the LSTM will return a 3D Tensor, right?\r\nAfter that what do i have to do?\r\nIs there a way to easily implement a model with attention using Keras Layers or do i have to write my own custom layer?\r\n\r\nIf this can be done with the available Keras Layers, I would really appreciate an example.\r\n",
      "closed_by": {
        "login": "cbaziotis",
        "id": 5629093,
        "node_id": "MDQ6VXNlcjU2MjkwOTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5629093?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cbaziotis",
        "html_url": "https://github.com/cbaziotis",
        "followers_url": "https://api.github.com/users/cbaziotis/followers",
        "following_url": "https://api.github.com/users/cbaziotis/following{/other_user}",
        "gists_url": "https://api.github.com/users/cbaziotis/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cbaziotis/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cbaziotis/subscriptions",
        "organizations_url": "https://api.github.com/users/cbaziotis/orgs",
        "repos_url": "https://api.github.com/users/cbaziotis/repos",
        "events_url": "https://api.github.com/users/cbaziotis/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cbaziotis/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/4962/reactions",
        "total_count": 43,
        "+1": 43,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/4962/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271105360",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271105360",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271105360,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTEwNTM2MA==",
          "user": {
            "login": "patyork",
            "id": 1304633,
            "node_id": "MDQ6VXNlcjEzMDQ2MzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1304633?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patyork",
            "html_url": "https://github.com/patyork",
            "followers_url": "https://api.github.com/users/patyork/followers",
            "following_url": "https://api.github.com/users/patyork/following{/other_user}",
            "gists_url": "https://api.github.com/users/patyork/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patyork/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patyork/subscriptions",
            "organizations_url": "https://api.github.com/users/patyork/orgs",
            "repos_url": "https://api.github.com/users/patyork/repos",
            "events_url": "https://api.github.com/users/patyork/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patyork/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-07T19:44:14Z",
          "updated_at": "2017-01-07T19:48:40Z",
          "author_association": "CONTRIBUTOR",
          "body": "It's been a while since I've used attention, so take this with a grain of salt.\r\n\r\n`return_sequences` does not necessarily need to be `True` for attention to work; the underlying computation is the same, and this flag should be used only based on whether you need 1 output or an output for each timestep.\r\n\r\nAs for implementing attention in Keras.. There are two possible methods: a) add a hidden `Activation` layer for the softmax or b) change the recurrent unit to have a softmax.\r\n\r\nOn option a): this would apply attention to the output of the recurrent unit but *not* to the output/input passed to the next time step. I don't this is what is desired. In this case, the LSTM should have a squashing function applied, as LSTMs don't do too well with linear/relu style activation.\r\n\r\nOn option b): this would apply attention to the output of the recurrentcy, and also to the output/input passed to the next timestep. I *think* that this is what is desired, but I could be wrong. In this case, the linear output of the neurons would be squashed directly by the softmax; if you wish to apply a pre-squashing such as `sigmoid` or `tanh` before the softmax calculation, you would need a custom activation that does both in one step.\r\n\r\nI could draw a diagram if necessary, and I should probably read the activation papers again..",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271105360/reactions",
            "total_count": 70,
            "+1": 3,
            "-1": 67,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271106258",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271106258",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271106258,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTEwNjI1OA==",
          "user": {
            "login": "cbaziotis",
            "id": 5629093,
            "node_id": "MDQ6VXNlcjU2MjkwOTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5629093?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cbaziotis",
            "html_url": "https://github.com/cbaziotis",
            "followers_url": "https://api.github.com/users/cbaziotis/followers",
            "following_url": "https://api.github.com/users/cbaziotis/following{/other_user}",
            "gists_url": "https://api.github.com/users/cbaziotis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cbaziotis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cbaziotis/subscriptions",
            "organizations_url": "https://api.github.com/users/cbaziotis/orgs",
            "repos_url": "https://api.github.com/users/cbaziotis/repos",
            "events_url": "https://api.github.com/users/cbaziotis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cbaziotis/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-07T19:59:06Z",
          "updated_at": "2017-01-07T20:01:36Z",
          "author_association": "NONE",
          "body": "@patyork Thanks for the reply. \r\nDo you have a good paper (or papers) in mind (for attention)? I am reading a lot about attention, and i want to try it out, because i really like the idea. But even though i think i understand the concept i don't have a clear understanding of how it works and how to implement it.\r\n\r\nIf it is possible i would like for someone to offer an example in Keras.\r\n\r\nPS. is this the correct place to ask such question or i should do it at https://groups.google.com/d/forum/keras-users?\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271106258/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271107045",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271107045",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271107045,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTEwNzA0NQ==",
          "user": {
            "login": "patyork",
            "id": 1304633,
            "node_id": "MDQ6VXNlcjEzMDQ2MzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1304633?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patyork",
            "html_url": "https://github.com/patyork",
            "followers_url": "https://api.github.com/users/patyork/followers",
            "following_url": "https://api.github.com/users/patyork/following{/other_user}",
            "gists_url": "https://api.github.com/users/patyork/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patyork/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patyork/subscriptions",
            "organizations_url": "https://api.github.com/users/patyork/orgs",
            "repos_url": "https://api.github.com/users/patyork/repos",
            "events_url": "https://api.github.com/users/patyork/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patyork/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-07T20:11:45Z",
          "updated_at": "2017-01-07T20:11:45Z",
          "author_association": "CONTRIBUTOR",
          "body": "@baziotis This area is supposed to be more for bugs as opposed to \"how to implement\" questions. I admit I don't often look at the google group, but that is a valid place to ask these questions, as well as on the Slack channel.\r\n\r\n[Bengio et. al](https://arxiv.org/pdf/1502.03044v3.pdf) has a pretty good paper on attention (soft attention is the softmax attention).\r\n\r\nAn example of method a) I described:\r\n```python\r\nvocab_size = embeddings.shape[0]\r\nembedding_size = embeddings.shape[1]\r\n\r\nmodel = Sequential()\r\n\r\nmodel.add(Embedding(\r\n        input_dim=vocab_size,\r\n        output_dim=embedding_size,\r\n        input_length=max_length,\r\n        trainable=False,\r\n        mask_zero=True,\r\n        weights=[embeddings]\r\n    ))\r\n\r\nmodel.add(LSTM(200, return_sequences=False))\r\nmodel.add(Activation('softmax')) #this guy here\r\nmodel.add(Dropout(0.5))\r\n\r\nmodel.add(Dense(3, activation='softmax', activity_regularizer=activity_l2(0.0001)))\r\n```\r\n\r\nexample b), with simple activation:\r\n```python\r\nvocab_size = embeddings.shape[0]\r\nembedding_size = embeddings.shape[1]\r\n\r\nmodel = Sequential()\r\n\r\nmodel.add(Embedding(\r\n        input_dim=vocab_size,\r\n        output_dim=embedding_size,\r\n        input_length=max_length,\r\n        trainable=False,\r\n        mask_zero=True,\r\n        weights=[embeddings]\r\n    ))\r\n\r\nmodel.add(LSTM(200, return_sequences=False, activation='softmax'))\r\nmodel.add(Dropout(0.5))\r\n\r\nmodel.add(Dense(3, activation='softmax', activity_regularizer=activity_l2(0.0001)))\r\n```\r\n\r\nexample b) with sigmoid and then softmax (non-working, but the idea):\r\n```python\r\nvocab_size = embeddings.shape[0]\r\nembedding_size = embeddings.shape[1]\r\n\r\ndef myAct(out):\r\n    return K.softmax(K.tanh(out))\r\n\r\nmodel = Sequential()\r\n\r\nmodel.add(Embedding(\r\n        input_dim=vocab_size,\r\n        output_dim=embedding_size,\r\n        input_length=max_length,\r\n        trainable=False,\r\n        mask_zero=True,\r\n        weights=[embeddings]\r\n    ))\r\n\r\nmodel.add(LSTM(200, return_sequences=False, activation=myAct))\r\nmodel.add(Dropout(0.5))\r\n\r\nmodel.add(Dense(3, activation='softmax', activity_regularizer=activity_l2(0.0001)))\r\n```\r\n\r\nIn addition, I should say that my notes about whether a) or b) above is what you probably need are based on your example, where you want one output (making option b probably the correct way). Attention is often used in spaces like caption generation where there is more than 1 output such as setting `return_sequences=True`. For those cases, I think that option a) is the described usage, such that the recurrency keeps all the information passing forward, and it's just the higher layers that utilize the attention.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271107045/reactions",
            "total_count": 100,
            "+1": 2,
            "-1": 90,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 8,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271108772",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271108772",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271108772,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTEwODc3Mg==",
          "user": {
            "login": "cbaziotis",
            "id": 5629093,
            "node_id": "MDQ6VXNlcjU2MjkwOTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5629093?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cbaziotis",
            "html_url": "https://github.com/cbaziotis",
            "followers_url": "https://api.github.com/users/cbaziotis/followers",
            "following_url": "https://api.github.com/users/cbaziotis/following{/other_user}",
            "gists_url": "https://api.github.com/users/cbaziotis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cbaziotis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cbaziotis/subscriptions",
            "organizations_url": "https://api.github.com/users/cbaziotis/orgs",
            "repos_url": "https://api.github.com/users/cbaziotis/repos",
            "events_url": "https://api.github.com/users/cbaziotis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cbaziotis/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-07T20:41:06Z",
          "updated_at": "2017-01-07T20:41:06Z",
          "author_association": "NONE",
          "body": "@patyork Thanks for the examples and for the paper. I new that posting here would get more attention :P \r\n\r\nI will try them and post back.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271108772/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271588779",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271588779",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271588779,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTU4ODc3OQ==",
          "user": {
            "login": "mbollmann",
            "id": 11348502,
            "node_id": "MDQ6VXNlcjExMzQ4NTAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/11348502?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mbollmann",
            "html_url": "https://github.com/mbollmann",
            "followers_url": "https://api.github.com/users/mbollmann/followers",
            "following_url": "https://api.github.com/users/mbollmann/following{/other_user}",
            "gists_url": "https://api.github.com/users/mbollmann/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mbollmann/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mbollmann/subscriptions",
            "organizations_url": "https://api.github.com/users/mbollmann/orgs",
            "repos_url": "https://api.github.com/users/mbollmann/repos",
            "events_url": "https://api.github.com/users/mbollmann/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mbollmann/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-10T14:27:44Z",
          "updated_at": "2017-01-10T14:27:44Z",
          "author_association": "NONE",
          "body": "@patyork, I'm sorry, but I don't see how this implements attention at all?\r\n\r\nFrom my understanding, the softmax in the Bengio et al. paper is not applied over the LSTM output, but over the output of an attention model, which is calculated from the LSTM's hidden state at a given timestep. The output of the softmax is then used to modify the LSTM's internal state. Essentially, attention is something that happens *within an LSTM* since it is both based on and modifies its internal states.\r\n\r\nI actually made my own attempt to create an attentional LSTM in Keras, based on the very same paper you cited, which I've shared here:\r\n\r\nhttps://gist.github.com/mbollmann/ccc735366221e4dba9f89d2aab86da1e\r\n\r\nThere are several different ways to incorporate attention into an LSTM, and I won't claim 100% correctness of my implementation (though I'd appreciate any hints if something seems terribly wrong!), but I'd be surprised if it was as simple as adding a softmax activation.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271588779/reactions",
            "total_count": 75,
            "+1": 71,
            "-1": 0,
            "laugh": 3,
            "hooray": 0,
            "confused": 1,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271590714",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271590714",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271590714,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTU5MDcxNA==",
          "user": {
            "login": "cbaziotis",
            "id": 5629093,
            "node_id": "MDQ6VXNlcjU2MjkwOTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5629093?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cbaziotis",
            "html_url": "https://github.com/cbaziotis",
            "followers_url": "https://api.github.com/users/cbaziotis/followers",
            "following_url": "https://api.github.com/users/cbaziotis/following{/other_user}",
            "gists_url": "https://api.github.com/users/cbaziotis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cbaziotis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cbaziotis/subscriptions",
            "organizations_url": "https://api.github.com/users/cbaziotis/orgs",
            "repos_url": "https://api.github.com/users/cbaziotis/repos",
            "events_url": "https://api.github.com/users/cbaziotis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cbaziotis/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-10T14:35:15Z",
          "updated_at": "2017-01-10T14:38:03Z",
          "author_association": "NONE",
          "body": "@mbollmann You are correct that none of the solutions @patyork is what i want. i want to get a weight distribution (importance) for the outputs from each timestep of the RNN. Like in the paper: \"[Hierarchical Attention Networks for Document Classification](https://www.cs.cmu.edu/~diyiy/docs/naacl16.pdf)\" but in my case i want just the representation of a sentence. I am trying to implement this using the available keras layers. \r\n\r\nSimilar idea in this [paper](http://anthology.aclweb.org/P16-2034).",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271590714/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271596503",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271596503",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271596503,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTU5NjUwMw==",
          "user": {
            "login": "mbollmann",
            "id": 11348502,
            "node_id": "MDQ6VXNlcjExMzQ4NTAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/11348502?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mbollmann",
            "html_url": "https://github.com/mbollmann",
            "followers_url": "https://api.github.com/users/mbollmann/followers",
            "following_url": "https://api.github.com/users/mbollmann/following{/other_user}",
            "gists_url": "https://api.github.com/users/mbollmann/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mbollmann/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mbollmann/subscriptions",
            "organizations_url": "https://api.github.com/users/mbollmann/orgs",
            "repos_url": "https://api.github.com/users/mbollmann/repos",
            "events_url": "https://api.github.com/users/mbollmann/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mbollmann/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-10T14:57:00Z",
          "updated_at": "2017-01-10T14:57:00Z",
          "author_association": "NONE",
          "body": "@baziotis That indeed looks conceptually much simpler. I could just take a very short glance right now, but is there a specific point where you got stuck? ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271596503/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271597827",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271597827",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271597827,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTU5NzgyNw==",
          "user": {
            "login": "cbaziotis",
            "id": 5629093,
            "node_id": "MDQ6VXNlcjU2MjkwOTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5629093?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cbaziotis",
            "html_url": "https://github.com/cbaziotis",
            "followers_url": "https://api.github.com/users/cbaziotis/followers",
            "following_url": "https://api.github.com/users/cbaziotis/following{/other_user}",
            "gists_url": "https://api.github.com/users/cbaziotis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cbaziotis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cbaziotis/subscriptions",
            "organizations_url": "https://api.github.com/users/cbaziotis/orgs",
            "repos_url": "https://api.github.com/users/cbaziotis/repos",
            "events_url": "https://api.github.com/users/cbaziotis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cbaziotis/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-10T15:02:01Z",
          "updated_at": "2017-01-10T15:23:13Z",
          "author_association": "NONE",
          "body": "@mbollmann Please do if you can. \r\nI am trying to implement it right now and trying to understand the Keras API.\r\n\r\nI don't have a working solution but i think i should set  `return_sequences=True` in the RNN in order to get the intermediate outputs and `masking=False`.\r\nOn top of that i am thinking  i should put a `TimeDistributed(Dense(1))`  with a softmax activation. But i haven't figured out how to put everything together.\r\n\r\nAlso i think that putting `masking=False` won't affect the performance as the attention layer will assign the correct weights on the padded words. Am i right?\r\n\r\n\r\nEdit: to clarify i want to implement an attention mechanism like the one in [1].\r\n![attention mechanism](https://cloud.githubusercontent.com/assets/5629093/21811660/277a0ee6-d759-11e6-8d02-29ee327e9ff8.png)\r\n1.   Zhou, Peng, et al. \"Attention-based bidirectional long short-term memory networks for relation classification.\" The 54th Annual Meeting of the Association for Computational Linguistics. 2016.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271597827/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271606940",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271606940",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271606940,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTYwNjk0MA==",
          "user": {
            "login": "cbaziotis",
            "id": 5629093,
            "node_id": "MDQ6VXNlcjU2MjkwOTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5629093?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cbaziotis",
            "html_url": "https://github.com/cbaziotis",
            "followers_url": "https://api.github.com/users/cbaziotis/followers",
            "following_url": "https://api.github.com/users/cbaziotis/following{/other_user}",
            "gists_url": "https://api.github.com/users/cbaziotis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cbaziotis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cbaziotis/subscriptions",
            "organizations_url": "https://api.github.com/users/cbaziotis/orgs",
            "repos_url": "https://api.github.com/users/cbaziotis/repos",
            "events_url": "https://api.github.com/users/cbaziotis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cbaziotis/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-10T15:34:04Z",
          "updated_at": "2017-01-10T15:37:49Z",
          "author_association": "NONE",
          "body": "I tried this:\r\n```python\r\n_input = Input(shape=[max_length], dtype='int32')\r\n\r\n    # get the embedding layer\r\n    embedded = embeddings_layer(embeddings=embeddings_matrix,\r\n                                trainable=False, masking=False, scale=False, normalize=False)(_input)\r\n\r\n    activations = LSTM(64, return_sequences=True)(embedded)\r\n\r\n    # attention\r\n    attention = TimeDistributed(Dense(1, activation='tanh'))(activations) \r\n    attention = Flatten()(attention)\r\n    attention = Activation('softmax')(attention)\r\n\r\n    activations = Merge([activations, attention], mode='mul')\r\n\r\n    probabilities = Dense(3, activation='softmax')(activations)\r\n\r\n    model = Model(input=_input, output=probabilities)\r\n    model.compile(optimizer='adam', loss='categorical_crossentropy', metrics=[])\r\n```\r\nand i get the following error:\r\n```\r\n  File \"...\\keras\\engine\\topology.py\", line 1170, in __init__\r\n    node_indices, tensor_indices)\r\n  File \"...\\keras\\engine\\topology.py\", line 1193, in _arguments_validation\r\n    layer_output_shape = layer.get_output_shape_at(node_indices[i])\r\nAttributeError: 'TensorVariable' object has no attribute 'get_output_shape_at'\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271606940/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271635366",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271635366",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271635366,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTYzNTM2Ng==",
          "user": {
            "login": "mbollmann",
            "id": 11348502,
            "node_id": "MDQ6VXNlcjExMzQ4NTAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/11348502?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mbollmann",
            "html_url": "https://github.com/mbollmann",
            "followers_url": "https://api.github.com/users/mbollmann/followers",
            "following_url": "https://api.github.com/users/mbollmann/following{/other_user}",
            "gists_url": "https://api.github.com/users/mbollmann/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mbollmann/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mbollmann/subscriptions",
            "organizations_url": "https://api.github.com/users/mbollmann/orgs",
            "repos_url": "https://api.github.com/users/mbollmann/repos",
            "events_url": "https://api.github.com/users/mbollmann/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mbollmann/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-10T17:10:05Z",
          "updated_at": "2017-01-11T13:33:51Z",
          "author_association": "NONE",
          "body": "@baziotis The cause of the error probably is that you need to use the `merge` function (lowercase), not the `Merge` layer (uppercase).\r\n\r\nApart from that, as far as I understood it:\r\n\r\nThe part with the `tanh` activation (Equation 5 in Yang et al., Equation 9 in Zhou et al.) comes before the multiplication with a trained context vector/parameter vector which reduces the dimensionality to \"one scalar per timestep\".  For Yang et al., that seems to be a Dense layer which doesn't yet reduce the dimensionality (though this is a little unclear to me), so I'd expect `TimeDistributed(Dense(64, activation='tanh'))`.  For Zhou et al., they just write \"tanh\", so you'd probably not even need a Dense layer, just the tanh activation after the LSTM.\r\n\r\nFor the multiplication with a trained context vector/parameter vector, I believe (no longer -- see EDIT) this might be a simple `Dense(1)` in Keras, *without* the `TimeDistributed` wrapper, since we want to have individual weights for each timestep, but I'm not totally sure about this and haven't tested it. I'd imagine something like this, but take this with a grain of salt:\r\n\r\n```\r\n    # attention after Zhou et al.\r\n    attention = Activation('tanh')(activations)    # Eq. 9\r\n    attention = Dense(1)(attention)                # Eq. 10\r\n    attention = Flatten()(attention)               # Eq. 10\r\n    attention = Activation('softmax')(attention)   # Eq. 10\r\n    activations = merge([activations, attention], mode='mul')  # Eq. 11\r\n```\r\n\r\n(EDIT: Nope, doesn't seem that way, they train a parameter vector with dimensionality of the embedding, not a matrix with a timestep dimension.)",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271635366/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271642557",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271642557",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271642557,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTY0MjU1Nw==",
          "user": {
            "login": "patyork",
            "id": 1304633,
            "node_id": "MDQ6VXNlcjEzMDQ2MzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1304633?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patyork",
            "html_url": "https://github.com/patyork",
            "followers_url": "https://api.github.com/users/patyork/followers",
            "following_url": "https://api.github.com/users/patyork/following{/other_user}",
            "gists_url": "https://api.github.com/users/patyork/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patyork/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patyork/subscriptions",
            "organizations_url": "https://api.github.com/users/patyork/orgs",
            "repos_url": "https://api.github.com/users/patyork/repos",
            "events_url": "https://api.github.com/users/patyork/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patyork/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-10T17:36:17Z",
          "updated_at": "2017-01-10T17:42:36Z",
          "author_association": "CONTRIBUTOR",
          "body": "My apologies; this would explain why I was not impressed with the results from my \"attention\" implementation.\r\n\r\nThere is an implementation [here ](https://github.com/fchollet/keras/issues/1472)that seems to be working for people.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271642557/reactions",
            "total_count": 15,
            "+1": 15,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271662175",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271662175",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271662175,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTY2MjE3NQ==",
          "user": {
            "login": "cbaziotis",
            "id": 5629093,
            "node_id": "MDQ6VXNlcjU2MjkwOTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5629093?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cbaziotis",
            "html_url": "https://github.com/cbaziotis",
            "followers_url": "https://api.github.com/users/cbaziotis/followers",
            "following_url": "https://api.github.com/users/cbaziotis/following{/other_user}",
            "gists_url": "https://api.github.com/users/cbaziotis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cbaziotis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cbaziotis/subscriptions",
            "organizations_url": "https://api.github.com/users/cbaziotis/orgs",
            "repos_url": "https://api.github.com/users/cbaziotis/repos",
            "events_url": "https://api.github.com/users/cbaziotis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cbaziotis/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-10T18:49:33Z",
          "updated_at": "2017-01-10T20:00:11Z",
          "author_association": "NONE",
          "body": "@mbollmann you were right about the `merge`, it is different from `Merge` #2467.\r\n\r\nI think this is really close:\r\n\r\n```python\r\nunits = 64\r\nmax_length = 50\r\n\r\n_input = Input(shape=[max_length], dtype='int32')\r\n\r\n# get the embedding layer\r\nembedded = embeddings_layer(embeddings=embeddings_matrix,\r\n\t\t\t\t\t\t\ttrainable=False, masking=False, scale=False, normalize=False)(_input)\r\n\r\nactivations = LSTM(units, return_sequences=True)(embedded)\r\n\r\n# compute importance for each step\r\nattention = TimeDistributed(Dense(1, activation='tanh'))(activations) \r\nattention = Flatten()(attention)\r\nattention = Activation('softmax')(attention)\r\nattention = RepeatVector(units)(attention)\r\nattention = Permute([2, 1])(attention)\r\n\r\n# apply the attention\r\nsent_representation = merge([activations, attention], mode='mul')\r\nsent_representation = Lambda(lambda xin: K.sum(xin, axis=0))(sent_representation)\r\nsent_representation = Flatten()(sent_representation)\r\n\r\nprobabilities = Dense(3, activation='softmax')(sent_representation)\r\n\r\nmodel = Model(input=_input, output=probabilities)\r\nmodel.compile(optimizer='adam', loss='categorical_crossentropy', metrics=[])\r\n```\r\nbut i get an error because Lamda doesn't output the right dimensions. I should be getting [1,units] right?\r\nWhat am i doing wrong?\r\n\r\n---\r\n\r\n**Update**: i tried explicitly passing the `output_shape` for `Lambda` and the model compiles:\r\n```python\r\nsent_representation = merge([activations, attention], mode='mul')\r\nsent_representation = Lambda(lambda xin: K.sum(xin, axis=0), output_shape=(units, ))(sent_representation)\r\n# sent_representation = Flatten()(sent_representation)\r\n```\r\n\r\nbut now i get the following error:\r\n```\r\nValueError: Input dimension mis-match. (input[0].shape[0] = 128, input[1].shape[0] = 50)\r\nApply node that caused the error: Elemwise{Composite{(i0 * log(i1))}}(dense_2_target, Elemwise{Clip}[(0, 0)].0)\r\nToposort index: 155\r\nInputs types: [TensorType(float32, matrix), TensorType(float32, matrix)]\r\nInputs shapes: [(128, 3), (50, 3)]\r\nInputs strides: [(12, 4), (12, 4)]\r\nInputs values: ['not shown', 'not shown']\r\nOutputs clients: [[Sum{axis=[1], acc_dtype=float64}(Elemwise{Composite{(i0 * log(i1))}}.0)]]\r\n```\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271662175/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271710714",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271710714",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271710714,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTcxMDcxNA==",
          "user": {
            "login": "cbaziotis",
            "id": 5629093,
            "node_id": "MDQ6VXNlcjU2MjkwOTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5629093?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cbaziotis",
            "html_url": "https://github.com/cbaziotis",
            "followers_url": "https://api.github.com/users/cbaziotis/followers",
            "following_url": "https://api.github.com/users/cbaziotis/following{/other_user}",
            "gists_url": "https://api.github.com/users/cbaziotis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cbaziotis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cbaziotis/subscriptions",
            "organizations_url": "https://api.github.com/users/cbaziotis/orgs",
            "repos_url": "https://api.github.com/users/cbaziotis/repos",
            "events_url": "https://api.github.com/users/cbaziotis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cbaziotis/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-10T21:57:09Z",
          "updated_at": "2017-01-10T22:06:53Z",
          "author_association": "NONE",
          "body": "Well i found out why it wasn't working. I was expecting the input to Lamda to be (max_length, units) but it was (None, max_length, units), so i just had to change the axis to 1. This now works.\r\n\r\n```python\r\nunits = 64\r\nmax_length = 50\r\nvocab_size = embeddings.shape[0]\r\nembedding_size = embeddings.shape[1]\r\n\r\n\r\n_input = Input(shape=[max_length], dtype='int32')\r\n\r\n# get the embedding layer\r\nembedded = Embedding(\r\n        input_dim=vocab_size,\r\n        output_dim=embedding_size,\r\n        input_length=max_length,\r\n        trainable=trainable,\r\n        mask_zero=masking,\r\n        weights=[embeddings]\r\n    )(_input)\r\n\r\nactivations = LSTM(units, return_sequences=True)(embedded)\r\n\r\n# compute importance for each step\r\nattention = TimeDistributed(Dense(1, activation='tanh'))(activations) \r\nattention = Flatten()(attention)\r\nattention = Activation('softmax')(attention)\r\nattention = RepeatVector(units)(attention)\r\nattention = Permute([2, 1])(attention)\r\n\r\n# apply the attention\r\nsent_representation = merge([activations, attention], mode='mul')\r\nsent_representation = Lambda(lambda xin: K.sum(xin, axis=1))(sent_representation)\r\n\r\nprobabilities = Dense(3, activation='softmax')(sent_representation)\r\n\r\nmodel = Model(input=_input, output=probabilities)\r\nmodel.compile(optimizer='adam', loss='categorical_crossentropy', metrics=[])\r\n```\r\n\r\nI would like if someone could verify that this implementation is correct.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271710714/reactions",
            "total_count": 23,
            "+1": 22,
            "-1": 0,
            "laugh": 1,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271870339",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271870339",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271870339,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTg3MDMzOQ==",
          "user": {
            "login": "mbollmann",
            "id": 11348502,
            "node_id": "MDQ6VXNlcjExMzQ4NTAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/11348502?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mbollmann",
            "html_url": "https://github.com/mbollmann",
            "followers_url": "https://api.github.com/users/mbollmann/followers",
            "following_url": "https://api.github.com/users/mbollmann/following{/other_user}",
            "gists_url": "https://api.github.com/users/mbollmann/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mbollmann/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mbollmann/subscriptions",
            "organizations_url": "https://api.github.com/users/mbollmann/orgs",
            "repos_url": "https://api.github.com/users/mbollmann/repos",
            "events_url": "https://api.github.com/users/mbollmann/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mbollmann/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-11T13:38:18Z",
          "updated_at": "2017-01-11T13:38:18Z",
          "author_association": "NONE",
          "body": "@baziotis Looks good to me.  I re-read the description in Zhou et al. and the code looks like it does what they describe.  I no longer understand how what they're doing does anything useful, since the attention model *only* depends on the input and applies the same weights at every timestep, but ... that's probably just my insufficient understanding (I'm used to slightly different types of attention). :)",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271870339/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271905141",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271905141",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271905141,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTkwNTE0MQ==",
          "user": {
            "login": "cbaziotis",
            "id": 5629093,
            "node_id": "MDQ6VXNlcjU2MjkwOTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5629093?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cbaziotis",
            "html_url": "https://github.com/cbaziotis",
            "followers_url": "https://api.github.com/users/cbaziotis/followers",
            "following_url": "https://api.github.com/users/cbaziotis/following{/other_user}",
            "gists_url": "https://api.github.com/users/cbaziotis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cbaziotis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cbaziotis/subscriptions",
            "organizations_url": "https://api.github.com/users/cbaziotis/orgs",
            "repos_url": "https://api.github.com/users/cbaziotis/repos",
            "events_url": "https://api.github.com/users/cbaziotis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cbaziotis/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-11T15:50:56Z",
          "updated_at": "2017-01-11T15:51:13Z",
          "author_association": "NONE",
          "body": "@mbollmann i am confused about the same thing. can you give an example of the type of attention that you have in mind? I think that i have to put the word (embedding) in the calculation of the attention. \r\n\r\nFrom what i understand the Dense layer:\r\n1. assigns a _different_ weight (importance) to each timestep\r\n2. BUT the importance is static. Essentially this means that each word position in a sentence has different importance, but the importance comes from the position of the word and not the word itself.\r\n\r\nI plotted the weights of the `TimeDistributed(Dense(1, activation='tanh'))(activations)` in a heatmap:\r\n\r\n![att](https://cloud.githubusercontent.com/assets/5629093/21855113/e35b5eb8-d825-11e6-9fb2-202e922dbd0d.png)\r\nMy interpretation is that the positions with big weights play more important role, so the output of the RNN for those steps will have i bigger impact in the final representation of the sentence.\r\n\r\nThe problem is that this is _static_. If an _important_ word happens to occur in a position with a small weight then the representation of the sentence won't be good enough.\r\n\r\nI would like some feedback on this, and preferably a good paper with a better attention mechanism. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271905141/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271910852",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271910852",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271910852,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTkxMDg1Mg==",
          "user": {
            "login": "mbollmann",
            "id": 11348502,
            "node_id": "MDQ6VXNlcjExMzQ4NTAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/11348502?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mbollmann",
            "html_url": "https://github.com/mbollmann",
            "followers_url": "https://api.github.com/users/mbollmann/followers",
            "following_url": "https://api.github.com/users/mbollmann/following{/other_user}",
            "gists_url": "https://api.github.com/users/mbollmann/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mbollmann/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mbollmann/subscriptions",
            "organizations_url": "https://api.github.com/users/mbollmann/orgs",
            "repos_url": "https://api.github.com/users/mbollmann/repos",
            "events_url": "https://api.github.com/users/mbollmann/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mbollmann/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-11T16:09:38Z",
          "updated_at": "2017-01-11T16:09:38Z",
          "author_association": "NONE",
          "body": "@baziotis Are you sure you don't have it the wrong way around?\r\n\r\nThe Dense layer takes the output of the LSTM *at one timestep* and transforms it. The TimeDistributed wrapper applies the *same Dense layer* with the *same weights* to each timestep -- which means the output of the calculation **cannot** depend on the position/timestep since the Dense layer doesn't even know about it.\r\n\r\nSo my confusion seems to be of a different nature than yours. :)\r\n\r\n(In short: I don't see what calculating a softmax and multiplying the original vector by that gets you that a plain `TimeDistributed(Dense(...))` couldn't already learn.  However, I work on attentional models where the output is also a time-series, which means that I have multiple output timesteps for which the model should learn to attend to different input timesteps.  I think that's not directly comparable to your situation, since you only have one output.)",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271910852/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271919656",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271919656",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271919656,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTkxOTY1Ng==",
          "user": {
            "login": "patyork",
            "id": 1304633,
            "node_id": "MDQ6VXNlcjEzMDQ2MzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1304633?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patyork",
            "html_url": "https://github.com/patyork",
            "followers_url": "https://api.github.com/users/patyork/followers",
            "following_url": "https://api.github.com/users/patyork/following{/other_user}",
            "gists_url": "https://api.github.com/users/patyork/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patyork/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patyork/subscriptions",
            "organizations_url": "https://api.github.com/users/patyork/orgs",
            "repos_url": "https://api.github.com/users/patyork/repos",
            "events_url": "https://api.github.com/users/patyork/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patyork/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-11T16:37:58Z",
          "updated_at": "2017-01-11T16:37:58Z",
          "author_association": "CONTRIBUTOR",
          "body": "@mbollmann I'm also a bit confused (but I have been from the get go). I think [this blog post](http://www.wildml.com/2016/01/attention-and-memory-in-deep-learning-and-nlp/) is fairly informative, or at least has some decent pictures.\r\n\r\nSo, @baziotis is using time series with multiple output steps (LSTM, with `return_sequences=True`). The first dense layer is applying weights over *each individual time step output* from the LSTM, which I'm not sure is accomplishing the intended behavior of looking at all the past activations and assigning weights to those, as in this picture:\r\n![image](https://cloud.githubusercontent.com/assets/1304633/21856620/78c12b9e-d7d7-11e6-8171-ca43a2491ed8.png)\r\n\r\nI'm thinking the code above is just the line `at,T` feeding into the attention layer at each timestep. The fallout of this is that the attention is just determining which *activations* are important, not which *timesteps* are important.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271919656/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271919674",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271919674",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271919674,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTkxOTY3NA==",
          "user": {
            "login": "cbaziotis",
            "id": 5629093,
            "node_id": "MDQ6VXNlcjU2MjkwOTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5629093?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cbaziotis",
            "html_url": "https://github.com/cbaziotis",
            "followers_url": "https://api.github.com/users/cbaziotis/followers",
            "following_url": "https://api.github.com/users/cbaziotis/following{/other_user}",
            "gists_url": "https://api.github.com/users/cbaziotis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cbaziotis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cbaziotis/subscriptions",
            "organizations_url": "https://api.github.com/users/cbaziotis/orgs",
            "repos_url": "https://api.github.com/users/cbaziotis/repos",
            "events_url": "https://api.github.com/users/cbaziotis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cbaziotis/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-11T16:38:02Z",
          "updated_at": "2017-01-11T16:38:02Z",
          "author_association": "NONE",
          "body": "@mbollmann i thought that the TimeDistributed applies different weights to each timestep...\r\nIn that case everything is wrong.\r\nHow can i make it so i can apply different weights to each timestep?\r\nCan this be done with the available keras layers? Any hint?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271919674/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271921130",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271921130",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271921130,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTkyMTEzMA==",
          "user": {
            "login": "patyork",
            "id": 1304633,
            "node_id": "MDQ6VXNlcjEzMDQ2MzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1304633?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patyork",
            "html_url": "https://github.com/patyork",
            "followers_url": "https://api.github.com/users/patyork/followers",
            "following_url": "https://api.github.com/users/patyork/following{/other_user}",
            "gists_url": "https://api.github.com/users/patyork/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patyork/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patyork/subscriptions",
            "organizations_url": "https://api.github.com/users/patyork/orgs",
            "repos_url": "https://api.github.com/users/patyork/repos",
            "events_url": "https://api.github.com/users/patyork/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patyork/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-11T16:43:05Z",
          "updated_at": "2017-01-11T16:43:05Z",
          "author_association": "CONTRIBUTOR",
          "body": "TimeDistributed applies the same weight set across every timestep.\r\n\r\nYou'd need to setup a standard Dense layer as a matrix e.g. `Dense(20)` where 20 is the lookback length. You'd then feed examples of 20 timesteps to train. This is where I'm quite confused about implementing attention, as in theory it looks like this lookback is infinite, not fixed at a certain length.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271921130/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271922600",
          "html_url": "https://github.com/keras-team/keras/issues/4962#issuecomment-271922600",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4962",
          "id": 271922600,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTkyMjYwMA==",
          "user": {
            "login": "cbaziotis",
            "id": 5629093,
            "node_id": "MDQ6VXNlcjU2MjkwOTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5629093?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cbaziotis",
            "html_url": "https://github.com/cbaziotis",
            "followers_url": "https://api.github.com/users/cbaziotis/followers",
            "following_url": "https://api.github.com/users/cbaziotis/following{/other_user}",
            "gists_url": "https://api.github.com/users/cbaziotis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cbaziotis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cbaziotis/subscriptions",
            "organizations_url": "https://api.github.com/users/cbaziotis/orgs",
            "repos_url": "https://api.github.com/users/cbaziotis/repos",
            "events_url": "https://api.github.com/users/cbaziotis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cbaziotis/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-11T16:47:48Z",
          "updated_at": "2017-01-11T16:47:58Z",
          "author_association": "NONE",
          "body": "Sorry for the miss-click. \r\nSo if i have inputs of constant length, lets say 50 then is this what i have to do?\r\n\r\n```python\r\nactivations = LSTM(units, return_sequences=True)(embedded)\r\n\r\n# compute importance for each step\r\nattention = Dense(50 , activation='tanh')(activations) \r\nattention = Flatten()(attention)\r\n```\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271922600/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/853",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/853/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/853/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/853/events",
      "html_url": "https://github.com/keras-team/keras/issues/853",
      "id": 112059355,
      "node_id": "MDU6SXNzdWUxMTIwNTkzNTU=",
      "number": 853,
      "title": "Incorporating Word Vectors rather than using an Embedding class",
      "user": {
        "login": "vindiesel",
        "id": 4031434,
        "node_id": "MDQ6VXNlcjQwMzE0MzQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4031434?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vindiesel",
        "html_url": "https://github.com/vindiesel",
        "followers_url": "https://api.github.com/users/vindiesel/followers",
        "following_url": "https://api.github.com/users/vindiesel/following{/other_user}",
        "gists_url": "https://api.github.com/users/vindiesel/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/vindiesel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/vindiesel/subscriptions",
        "organizations_url": "https://api.github.com/users/vindiesel/orgs",
        "repos_url": "https://api.github.com/users/vindiesel/repos",
        "events_url": "https://api.github.com/users/vindiesel/events{/privacy}",
        "received_events_url": "https://api.github.com/users/vindiesel/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 111,
      "created_at": "2015-10-19T02:13:51Z",
      "updated_at": "2018-10-25T00:15:41Z",
      "closed_at": "2018-10-25T00:15:41Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "I am solving an NLP task and I am trying to model it directly as a sequence using different RNN flavors. How can I use my own Word Vectors rather than using an instance of layers.embeddings.Embedding?\n",
      "closed_by": {
        "login": "farizrahman4u",
        "id": 11006006,
        "node_id": "MDQ6VXNlcjExMDA2MDA2",
        "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/farizrahman4u",
        "html_url": "https://github.com/farizrahman4u",
        "followers_url": "https://api.github.com/users/farizrahman4u/followers",
        "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
        "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
        "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
        "repos_url": "https://api.github.com/users/farizrahman4u/repos",
        "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
        "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/853/reactions",
        "total_count": 22,
        "+1": 22,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/853/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/149644701",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-149644701",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 149644701,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE0OTY0NDcwMQ==",
          "user": {
            "login": "sergeyf",
            "id": 1874668,
            "node_id": "MDQ6VXNlcjE4NzQ2Njg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1874668?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sergeyf",
            "html_url": "https://github.com/sergeyf",
            "followers_url": "https://api.github.com/users/sergeyf/followers",
            "following_url": "https://api.github.com/users/sergeyf/following{/other_user}",
            "gists_url": "https://api.github.com/users/sergeyf/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sergeyf/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sergeyf/subscriptions",
            "organizations_url": "https://api.github.com/users/sergeyf/orgs",
            "repos_url": "https://api.github.com/users/sergeyf/repos",
            "events_url": "https://api.github.com/users/sergeyf/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sergeyf/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-10-20T17:45:34Z",
          "updated_at": "2017-11-13T16:56:23Z",
          "author_association": "NONE",
          "body": "UPDATED NOV 13, 2017\r\n\r\nYou have to pass a weight matrix to the `Embedding` layer. Here is an example:\r\n\r\nLet's say `index_dict` is a dictionary that maps all the words in your dictionary to indices from `1` to `n_symbols` (`0` is reserved for the masking).\r\n\r\nSo, an example `index_dict` is the following:\r\n\r\n```\r\n{\r\n 'yellow': 1,\r\n 'four': 2,\r\n 'woods': 3,\r\n 'ornate': 31,\r\n 'woody': 5,\r\n 'cyprus': 6,\r\n 'marching': 7,\r\n 'canes': 8,\r\n 'caned': 9,\r\n 'hermann': 10,\r\n 'lord': 11,\r\n 'meadows': 12,\r\n 'shaving': 13,\r\n 'swivel': 14\r\n...\r\n}\r\n```\r\n\r\nAnd you also have a dictionary called `word_vectors` that maps words to vectors like so:\r\n\r\n```\r\n{\r\n 'yellow': array([0.1,0.5,...,0.7]),\r\n 'four': array([0.2,1.2,...,0.9]),\r\n...\r\n}\r\n```\r\n\r\nThe following code should do what you want\r\n\r\n```\r\n# assemble the embedding_weights in one numpy array\r\nvocab_dim = 300 # dimensionality of your word vectors\r\nn_symbols = len(index_dict) + 1 # adding 1 to account for 0th index (for masking)\r\nembedding_weights = np.zeros((n_symbols, vocab_dim))\r\nfor word,index in index_dict.items():\r\n    embedding_weights[index, :] = word_vectors[word]\r\n\r\n# define inputs here\r\nembedding_layer = Embedding(output_dim=vocab_dim, input_dim=n_symbols, trainable=True)\r\nembedding_layer.build((None,)) # if you don't do this, the next step won't work\r\nembedding_layer.set_weights([embedding_weights])\r\n\r\nembedded = embedding_layer(input_layer)\r\n# ... continue model definition here\r\n```\r\n\r\nNote that this kind of setup will result in your embeddings being trained from their initial point! If you want them fixed, then you have to set `trainable=False`.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/149644701/reactions",
            "total_count": 89,
            "+1": 84,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 5,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/150698757",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-150698757",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 150698757,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MDY5ODc1Nw==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-10-23T21:33:56Z",
          "updated_at": "2015-10-23T21:33:56Z",
          "author_association": "CONTRIBUTOR",
          "body": "No need of skipping the embedding layer.. setting word vectors as the initial weights of embedding layer is a valid approach. The word vectors will get fine tuned for the specific NLP task during training.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/150698757/reactions",
            "total_count": 6,
            "+1": 6,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/151551122",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-151551122",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 151551122,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MTU1MTEyMg==",
          "user": {
            "login": "dandxy89",
            "id": 7694931,
            "node_id": "MDQ6VXNlcjc2OTQ5MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7694931?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dandxy89",
            "html_url": "https://github.com/dandxy89",
            "followers_url": "https://api.github.com/users/dandxy89/followers",
            "following_url": "https://api.github.com/users/dandxy89/following{/other_user}",
            "gists_url": "https://api.github.com/users/dandxy89/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dandxy89/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dandxy89/subscriptions",
            "organizations_url": "https://api.github.com/users/dandxy89/orgs",
            "repos_url": "https://api.github.com/users/dandxy89/repos",
            "events_url": "https://api.github.com/users/dandxy89/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dandxy89/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-10-27T16:01:37Z",
          "updated_at": "2015-10-27T17:14:36Z",
          "author_association": "NONE",
          "body": "Has anybody else attempted to embedded the word vectors into a model? \n\nI've managed to create the model however Im not able to achieve a worthwhile level of accuracy yet. I've used the \"20 newsgroups dataset\" from scikit-learn to test this model, with my own w2v vectors. The best accuracy I've achieved so far is 28%, over 5 epochs, which is not great (scikit script best - 85%). I intend to continue experimenting with the network configuration (inner dimensions and epochs initially). I do suspect that the number of dimentions is too high for such a small dataset (1000 samples). \n\nWill update again if the results improve\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/151551122/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/160339815",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-160339815",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 160339815,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDMzOTgxNQ==",
          "user": {
            "login": "viksit",
            "id": 198669,
            "node_id": "MDQ6VXNlcjE5ODY2OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/198669?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/viksit",
            "html_url": "https://github.com/viksit",
            "followers_url": "https://api.github.com/users/viksit/followers",
            "following_url": "https://api.github.com/users/viksit/following{/other_user}",
            "gists_url": "https://api.github.com/users/viksit/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/viksit/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/viksit/subscriptions",
            "organizations_url": "https://api.github.com/users/viksit/orgs",
            "repos_url": "https://api.github.com/users/viksit/repos",
            "events_url": "https://api.github.com/users/viksit/events{/privacy}",
            "received_events_url": "https://api.github.com/users/viksit/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-28T22:07:35Z",
          "updated_at": "2015-11-28T22:07:35Z",
          "author_association": "NONE",
          "body": "From what I've seen, training your own vectors on top of a custom dataset has given me much better accuracy within that domain. \n\nThat said - any updates on this?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/160339815/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/160348260",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-160348260",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 160348260,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDM0ODI2MA==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-29T00:14:46Z",
          "updated_at": "2015-11-29T00:15:33Z",
          "author_association": "CONTRIBUTOR",
          "body": "@viksit \n\nThere are 3 approaches:\n- Learn embedding from scratch - simply add an Embedding layer to your model\n- Fine tune learned embeddings - this involves setting word2vec / GloVe vectors as your Embedding layer's weights.\n- Use word word2vec / Glove word vectors as inputs to your model, instead of one-hot encoding.\n\nThe third one is the best option(Assuming  the word vectors were obtained from the same domain as the inputs to your  models. For e.g, if you are doing sentiment analysis on tweets, you should use GloVe vectors trained on tweets).\n\n In the first option, everything has to be learned from scratch. You dont need it unless you have a rare scenario. The second one is good, but, your model will be unnecessarily big with all the word vectors for words that are not  frequently used. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/160348260/reactions",
            "total_count": 22,
            "+1": 22,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/160353744",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-160353744",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 160353744,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2MDM1Mzc0NA==",
          "user": {
            "login": "viksit",
            "id": 198669,
            "node_id": "MDQ6VXNlcjE5ODY2OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/198669?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/viksit",
            "html_url": "https://github.com/viksit",
            "followers_url": "https://api.github.com/users/viksit/followers",
            "following_url": "https://api.github.com/users/viksit/following{/other_user}",
            "gists_url": "https://api.github.com/users/viksit/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/viksit/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/viksit/subscriptions",
            "organizations_url": "https://api.github.com/users/viksit/orgs",
            "repos_url": "https://api.github.com/users/viksit/repos",
            "events_url": "https://api.github.com/users/viksit/events{/privacy}",
            "received_events_url": "https://api.github.com/users/viksit/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-29T01:24:06Z",
          "updated_at": "2015-11-29T01:24:06Z",
          "author_association": "NONE",
          "body": "@farizrahman4u agreed on those counts. The domains are a bit more specific and I have a lot more luck with option (2) than with (1) or (3) so far. An easy way to address the size problem with (2) is to prune out the vocabulary itself to the top k words.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/160353744/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/164639299",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-164639299",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 164639299,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDYzOTI5OQ==",
          "user": {
            "login": "XuesongYang",
            "id": 1646669,
            "node_id": "MDQ6VXNlcjE2NDY2Njk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1646669?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/XuesongYang",
            "html_url": "https://github.com/XuesongYang",
            "followers_url": "https://api.github.com/users/XuesongYang/followers",
            "following_url": "https://api.github.com/users/XuesongYang/following{/other_user}",
            "gists_url": "https://api.github.com/users/XuesongYang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/XuesongYang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/XuesongYang/subscriptions",
            "organizations_url": "https://api.github.com/users/XuesongYang/orgs",
            "repos_url": "https://api.github.com/users/XuesongYang/repos",
            "events_url": "https://api.github.com/users/XuesongYang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/XuesongYang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-15T04:07:33Z",
          "updated_at": "2015-12-15T04:07:33Z",
          "author_association": "NONE",
          "body": "@farizrahman4u Thanks for sharing the ideas. I have a question on your first approach. \n\nLearning embeddings from scratch:  each word in the dictionary is represented as one-hot vector, and then this vector is embedded as a continuous vector after applying embedding layer. Is that right?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/164639299/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/164673998",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-164673998",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 164673998,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDY3Mzk5OA==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-15T07:37:22Z",
          "updated_at": "2015-12-15T07:37:22Z",
          "author_association": "CONTRIBUTOR",
          "body": "@MagicYoung Yes.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/164673998/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/165301677",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-165301677",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 165301677,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NTMwMTY3Nw==",
          "user": {
            "login": "dandxy89",
            "id": 7694931,
            "node_id": "MDQ6VXNlcjc2OTQ5MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7694931?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dandxy89",
            "html_url": "https://github.com/dandxy89",
            "followers_url": "https://api.github.com/users/dandxy89/followers",
            "following_url": "https://api.github.com/users/dandxy89/following{/other_user}",
            "gists_url": "https://api.github.com/users/dandxy89/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dandxy89/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dandxy89/subscriptions",
            "organizations_url": "https://api.github.com/users/dandxy89/orgs",
            "repos_url": "https://api.github.com/users/dandxy89/repos",
            "events_url": "https://api.github.com/users/dandxy89/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dandxy89/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-17T00:41:39Z",
          "updated_at": "2015-12-29T10:27:00Z",
          "author_association": "NONE",
          "body": "To follow up from @sergeyf suggestions... @viksit @MagicYoung @vindiesel \n\nTake a look at my attempt ([Script](https://github.com/dandxy89/ExperiKeras/blob/master/imdb_embedding_w2v.py) and [Data](https://github.com/dandxy89/ExperiKeras/tree/master/Data)) - it uses Gensim. This could easily all be done in Keras using the skipgram of course to remove dependencies...\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/165301677/reactions",
            "total_count": 4,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/165303426",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-165303426",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 165303426,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NTMwMzQyNg==",
          "user": {
            "login": "sergeyf",
            "id": 1874668,
            "node_id": "MDQ6VXNlcjE4NzQ2Njg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1874668?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sergeyf",
            "html_url": "https://github.com/sergeyf",
            "followers_url": "https://api.github.com/users/sergeyf/followers",
            "following_url": "https://api.github.com/users/sergeyf/following{/other_user}",
            "gists_url": "https://api.github.com/users/sergeyf/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sergeyf/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sergeyf/subscriptions",
            "organizations_url": "https://api.github.com/users/sergeyf/orgs",
            "repos_url": "https://api.github.com/users/sergeyf/repos",
            "events_url": "https://api.github.com/users/sergeyf/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sergeyf/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-17T00:53:34Z",
          "updated_at": "2015-12-17T00:53:34Z",
          "author_association": "NONE",
          "body": "Looks cool! Are the results to your liking?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/165303426/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/165303743",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-165303743",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 165303743,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NTMwMzc0Mw==",
          "user": {
            "login": "dandxy89",
            "id": 7694931,
            "node_id": "MDQ6VXNlcjc2OTQ5MzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7694931?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dandxy89",
            "html_url": "https://github.com/dandxy89",
            "followers_url": "https://api.github.com/users/dandxy89/followers",
            "following_url": "https://api.github.com/users/dandxy89/following{/other_user}",
            "gists_url": "https://api.github.com/users/dandxy89/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dandxy89/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dandxy89/subscriptions",
            "organizations_url": "https://api.github.com/users/dandxy89/orgs",
            "repos_url": "https://api.github.com/users/dandxy89/repos",
            "events_url": "https://api.github.com/users/dandxy89/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dandxy89/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-17T00:56:02Z",
          "updated_at": "2015-12-17T00:56:02Z",
          "author_association": "NONE",
          "body": "Results after 2 epochs:\n        Validation Accuracy: 0.8485\n                                Loss: 0.3442\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/165303743/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167481336",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-167481336",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 167481336,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzQ4MTMzNg==",
          "user": {
            "login": "liyi193328",
            "id": 6782974,
            "node_id": "MDQ6VXNlcjY3ODI5NzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6782974?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/liyi193328",
            "html_url": "https://github.com/liyi193328",
            "followers_url": "https://api.github.com/users/liyi193328/followers",
            "following_url": "https://api.github.com/users/liyi193328/following{/other_user}",
            "gists_url": "https://api.github.com/users/liyi193328/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/liyi193328/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/liyi193328/subscriptions",
            "organizations_url": "https://api.github.com/users/liyi193328/orgs",
            "repos_url": "https://api.github.com/users/liyi193328/repos",
            "events_url": "https://api.github.com/users/liyi193328/events{/privacy}",
            "received_events_url": "https://api.github.com/users/liyi193328/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-28T04:30:44Z",
          "updated_at": "2015-12-28T04:30:44Z",
          "author_association": "NONE",
          "body": "@dandxy89\nWonderful examples for me.I'll try it in my context. Thanks.\nAnd if I want to feed pre-trained word2vec to lstm directly, how to handle different sequence lengths?\nMy trying is: setting maxlen=200(every sequence) and word2vec dim=600, if some sequence's length is 100, then the first 100 rows([0:100)) has float numbers(every row is a word vector), then [100:200) rows is padding with zeors, which means the remaining rows is all zeros. But after doing that, I get loss NaN, which confuses me for a long time. like the issue #1360 , what I can do then?\nThanks.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167481336/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167507723",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-167507723",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 167507723,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzUwNzcyMw==",
          "user": {
            "login": "viksit",
            "id": 198669,
            "node_id": "MDQ6VXNlcjE5ODY2OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/198669?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/viksit",
            "html_url": "https://github.com/viksit",
            "followers_url": "https://api.github.com/users/viksit/followers",
            "following_url": "https://api.github.com/users/viksit/following{/other_user}",
            "gists_url": "https://api.github.com/users/viksit/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/viksit/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/viksit/subscriptions",
            "organizations_url": "https://api.github.com/users/viksit/orgs",
            "repos_url": "https://api.github.com/users/viksit/repos",
            "events_url": "https://api.github.com/users/viksit/events{/privacy}",
            "received_events_url": "https://api.github.com/users/viksit/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-28T08:03:06Z",
          "updated_at": "2015-12-28T08:03:06Z",
          "author_association": "NONE",
          "body": "@liyi193328 are you using keras' sequence.pad_sequences(myseq, maxlen=maxlen)?\n\nLooks like your padding is to the _right_ of the vectors where as it should be to the left.\n\n```\nfrom keras.preprocessing import sequence\nIn [69]: sequence.pad_sequences([[1,2], [1,2,3]], maxlen=10)\nOut[69]:\narray([[0, 0, 0, 0, 0, 0, 0, 0, 1, 2],\n       [0, 0, 0, 0, 0, 0, 0, 1, 2, 3]], dtype=int32)\n```\n\nSecondly, you should be using categorical_crossentropy as your loss as opposed to mean_squared_error. See https://github.com/fchollet/keras/issues/321 \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167507723/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167575202",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-167575202",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 167575202,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzU3NTIwMg==",
          "user": {
            "login": "liyi193328",
            "id": 6782974,
            "node_id": "MDQ6VXNlcjY3ODI5NzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6782974?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/liyi193328",
            "html_url": "https://github.com/liyi193328",
            "followers_url": "https://api.github.com/users/liyi193328/followers",
            "following_url": "https://api.github.com/users/liyi193328/following{/other_user}",
            "gists_url": "https://api.github.com/users/liyi193328/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/liyi193328/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/liyi193328/subscriptions",
            "organizations_url": "https://api.github.com/users/liyi193328/orgs",
            "repos_url": "https://api.github.com/users/liyi193328/repos",
            "events_url": "https://api.github.com/users/liyi193328/events{/privacy}",
            "received_events_url": "https://api.github.com/users/liyi193328/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-28T13:49:39Z",
          "updated_at": "2015-12-28T13:49:39Z",
          "author_association": "NONE",
          "body": "@viksit Thanks.\nI don't use sequence.pad_sequence. I pad zeros  for last rows manually. \nBecause the input of pad_sequence is 2D array, setting A, then A[i,j] is the index of a word in vocabulary, The each row of A represents a sentences; But in my case, every word is a 600 dim vector, not a index. So I can't use it.\nI don't think is what I think right? How I can pad zeros then?\nThanks.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167575202/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167636811",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-167636811",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 167636811,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzYzNjgxMQ==",
          "user": {
            "login": "viksit",
            "id": 198669,
            "node_id": "MDQ6VXNlcjE5ODY2OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/198669?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/viksit",
            "html_url": "https://github.com/viksit",
            "followers_url": "https://api.github.com/users/viksit/followers",
            "following_url": "https://api.github.com/users/viksit/following{/other_user}",
            "gists_url": "https://api.github.com/users/viksit/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/viksit/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/viksit/subscriptions",
            "organizations_url": "https://api.github.com/users/viksit/orgs",
            "repos_url": "https://api.github.com/users/viksit/repos",
            "events_url": "https://api.github.com/users/viksit/events{/privacy}",
            "received_events_url": "https://api.github.com/users/viksit/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-28T19:40:12Z",
          "updated_at": "2015-12-28T19:40:12Z",
          "author_association": "NONE",
          "body": "You need to pad _before_ you convert the words to vectors (presumably you have a step where you have only word indexes).\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167636811/reactions",
            "total_count": 2,
            "+1": 1,
            "-1": 1,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167704063",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-167704063",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 167704063,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzcwNDA2Mw==",
          "user": {
            "login": "liyi193328",
            "id": 6782974,
            "node_id": "MDQ6VXNlcjY3ODI5NzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6782974?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/liyi193328",
            "html_url": "https://github.com/liyi193328",
            "followers_url": "https://api.github.com/users/liyi193328/followers",
            "following_url": "https://api.github.com/users/liyi193328/following{/other_user}",
            "gists_url": "https://api.github.com/users/liyi193328/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/liyi193328/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/liyi193328/subscriptions",
            "organizations_url": "https://api.github.com/users/liyi193328/orgs",
            "repos_url": "https://api.github.com/users/liyi193328/repos",
            "events_url": "https://api.github.com/users/liyi193328/events{/privacy}",
            "received_events_url": "https://api.github.com/users/liyi193328/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-29T02:52:41Z",
          "updated_at": "2015-12-29T02:52:41Z",
          "author_association": "NONE",
          "body": "@viksit Thanks.\nBut How do  I change the word index to word vector ?\nActually I don't use word indexes, I use word vector directly.\nAnd More specifically, three sentences like:\n\n##### [ [ He, like, keras], [learning], [like, keras] ]\n\nso  Index 2D array is [ [1,2,3], [4], [2,3] ] ---padding--->  [ [1,2,3], [0,0,4], [0,2,,3] ](index of each is given)\nthe word vector(4 dim) each is:\n\n##### He -> [1,1,1,1], like->[2,2,2,2], keras->[3,3,3,3], learning->[5,5,5,5]\n\nthen after padding ,the 3D array shape is (2,3,4), like:\n\n##### [\n\n##### [ [1,1,1,1], [2,2,2,2], [3,3,3,3] ],\n\n##### [ [0,0,0,0], [0,0,0,0], [5,5,5,5] ],\n\n##### [ [0,0,0,0], [2,2,2,2], [3,3,3,3] ]\n\n##### ]\n\nif the specific example right?\nThanks.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167704063/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167897702",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-167897702",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 167897702,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2Nzg5NzcwMg==",
          "user": {
            "login": "viksit",
            "id": 198669,
            "node_id": "MDQ6VXNlcjE5ODY2OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/198669?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/viksit",
            "html_url": "https://github.com/viksit",
            "followers_url": "https://api.github.com/users/viksit/followers",
            "following_url": "https://api.github.com/users/viksit/following{/other_user}",
            "gists_url": "https://api.github.com/users/viksit/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/viksit/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/viksit/subscriptions",
            "organizations_url": "https://api.github.com/users/viksit/orgs",
            "repos_url": "https://api.github.com/users/viksit/repos",
            "events_url": "https://api.github.com/users/viksit/events{/privacy}",
            "received_events_url": "https://api.github.com/users/viksit/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-29T23:11:06Z",
          "updated_at": "2015-12-29T23:11:06Z",
          "author_association": "NONE",
          "body": "Thats correct.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167897702/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167949918",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-167949918",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 167949918,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2Nzk0OTkxOA==",
          "user": {
            "login": "liyi193328",
            "id": 6782974,
            "node_id": "MDQ6VXNlcjY3ODI5NzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6782974?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/liyi193328",
            "html_url": "https://github.com/liyi193328",
            "followers_url": "https://api.github.com/users/liyi193328/followers",
            "following_url": "https://api.github.com/users/liyi193328/following{/other_user}",
            "gists_url": "https://api.github.com/users/liyi193328/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/liyi193328/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/liyi193328/subscriptions",
            "organizations_url": "https://api.github.com/users/liyi193328/orgs",
            "repos_url": "https://api.github.com/users/liyi193328/repos",
            "events_url": "https://api.github.com/users/liyi193328/events{/privacy}",
            "received_events_url": "https://api.github.com/users/liyi193328/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-30T07:15:59Z",
          "updated_at": "2015-12-30T07:15:59Z",
          "author_association": "NONE",
          "body": "@viksit Thanks.\nMy mistake in initialing array with np.empty. should use np.zeros. Everything goes well now.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167949918/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 2,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/173837851",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-173837851",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 173837851,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE3MzgzNzg1MQ==",
          "user": {
            "login": "taozhijiang",
            "id": 1481914,
            "node_id": "MDQ6VXNlcjE0ODE5MTQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1481914?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/taozhijiang",
            "html_url": "https://github.com/taozhijiang",
            "followers_url": "https://api.github.com/users/taozhijiang/followers",
            "following_url": "https://api.github.com/users/taozhijiang/following{/other_user}",
            "gists_url": "https://api.github.com/users/taozhijiang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/taozhijiang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/taozhijiang/subscriptions",
            "organizations_url": "https://api.github.com/users/taozhijiang/orgs",
            "repos_url": "https://api.github.com/users/taozhijiang/repos",
            "events_url": "https://api.github.com/users/taozhijiang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/taozhijiang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-01-22T07:58:41Z",
          "updated_at": "2016-01-22T07:58:41Z",
          "author_association": "NONE",
          "body": "@dandxy89 @farizrahman4u @viksit \n\nDo you mean, when initialize Embedding Layer with weights learned for other corpus calculated word2vec, the LSTM model can quickly convergence\uff1f\n\nHere is my code, just iter 2-3 times will get high score.\n\nhttps://github.com/taozhijiang/chinese_nlp/blob/master/DL_python/dl_segment_v2.py\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/173837851/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/176193505",
          "html_url": "https://github.com/keras-team/keras/issues/853#issuecomment-176193505",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/853",
          "id": 176193505,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE3NjE5MzUwNQ==",
          "user": {
            "login": "talentlei",
            "id": 3364689,
            "node_id": "MDQ6VXNlcjMzNjQ2ODk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3364689?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/talentlei",
            "html_url": "https://github.com/talentlei",
            "followers_url": "https://api.github.com/users/talentlei/followers",
            "following_url": "https://api.github.com/users/talentlei/following{/other_user}",
            "gists_url": "https://api.github.com/users/talentlei/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/talentlei/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/talentlei/subscriptions",
            "organizations_url": "https://api.github.com/users/talentlei/orgs",
            "repos_url": "https://api.github.com/users/talentlei/repos",
            "events_url": "https://api.github.com/users/talentlei/events{/privacy}",
            "received_events_url": "https://api.github.com/users/talentlei/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-01-28T13:51:41Z",
          "updated_at": "2016-01-28T13:51:41Z",
          "author_association": "NONE",
          "body": "Thanks for sharing. I benefit a lot. @\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/176193505/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/7009",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/7009/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/7009/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/7009/events",
      "html_url": "https://github.com/keras-team/keras/pull/7009",
      "id": 236385561,
      "node_id": "MDExOlB1bGxSZXF1ZXN0MTI1OTYzMDQ3",
      "number": 7009,
      "title": "Addition of MobileNet to application",
      "user": {
        "login": "titu1994",
        "id": 3048602,
        "node_id": "MDQ6VXNlcjMwNDg2MDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3048602?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/titu1994",
        "html_url": "https://github.com/titu1994",
        "followers_url": "https://api.github.com/users/titu1994/followers",
        "following_url": "https://api.github.com/users/titu1994/following{/other_user}",
        "gists_url": "https://api.github.com/users/titu1994/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/titu1994/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/titu1994/subscriptions",
        "organizations_url": "https://api.github.com/users/titu1994/orgs",
        "repos_url": "https://api.github.com/users/titu1994/repos",
        "events_url": "https://api.github.com/users/titu1994/events{/privacy}",
        "received_events_url": "https://api.github.com/users/titu1994/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 37,
      "created_at": "2017-06-16T05:44:32Z",
      "updated_at": "2018-06-15T22:59:06Z",
      "closed_at": "2017-06-27T18:11:49Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/7009",
        "html_url": "https://github.com/keras-team/keras/pull/7009",
        "diff_url": "https://github.com/keras-team/keras/pull/7009.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/7009.patch",
        "merged_at": "2017-06-27T18:11:49Z"
      },
      "body": "Adds the recently published MobileNets (all 16 variants, with weights trained on Imagenet).\r\nSome comments : https://github.com/fchollet/keras/issues/6968\r\n\r\nInclusions : \r\n- MobileNet builder (alpha and imagesize allow the creation of all 16 types of mobile nets - (4 different sizes [128, 160, 192, 224] x 4 different alpha parameters [0.25, 0.50, 0.75, 1.00])\r\n- DepthwiseConvolution2D layer\r\n- depthwize_conv2d backend function (implemented in TF, raises exception in TH, left out CNTK since neither depthwise nor separable convolution backend functions were present)\r\n- relu6 activation\r\n- support for 1000 class predictions from imagenet\r\n- tests for the application, imagenet_utils, layer, activation and backend function\r\n\r\nSome issues - \r\n- ~~Weights are only available for data format \"channels_last\" at the moment. I have tried converting it to \"channels_first\", but it produces consistent garbage predictions. However, the model can be trained from scratch on either data format.~~\r\n- ~~Model / Weights are for 1001 classes. This causes issues with decode_predictions which only supports 2 or 1000 classes. Therefore I drop the last class (which would usually be used for fine tuning a new class).~~\r\n",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/7009/reactions",
        "total_count": 1,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 1,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/7009/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308947705",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-308947705",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 308947705,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwODk0NzcwNQ==",
          "user": {
            "login": "titu1994",
            "id": 3048602,
            "node_id": "MDQ6VXNlcjMwNDg2MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3048602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/titu1994",
            "html_url": "https://github.com/titu1994",
            "followers_url": "https://api.github.com/users/titu1994/followers",
            "following_url": "https://api.github.com/users/titu1994/following{/other_user}",
            "gists_url": "https://api.github.com/users/titu1994/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/titu1994/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/titu1994/subscriptions",
            "organizations_url": "https://api.github.com/users/titu1994/orgs",
            "repos_url": "https://api.github.com/users/titu1994/repos",
            "events_url": "https://api.github.com/users/titu1994/events{/privacy}",
            "received_events_url": "https://api.github.com/users/titu1994/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-16T06:47:58Z",
          "updated_at": "2017-06-16T14:16:26Z",
          "author_association": "CONTRIBUTOR",
          "body": "Sorry for so many commits and Travis runs. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308947705/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309091263",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-309091263",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 309091263,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTA5MTI2Mw==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-16T17:50:22Z",
          "updated_at": "2017-06-16T17:50:22Z",
          "author_association": "COLLABORATOR",
          "body": "The issues are easy to fix:\r\n\r\n- Either the first or last entry in the 1001-large output is useless and can safely be dropped, resulting in a 1000-class net that will work with our existing class decoding utilities. It's probably the first entry.\r\n- Any net that works for `channels_last` can be converted to `channels_first`. You just need to transpose the convolution kernels and shuffle the first Dense layer.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309091263/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309102429",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-309102429",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 309102429,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTEwMjQyOQ==",
          "user": {
            "login": "titu1994",
            "id": 3048602,
            "node_id": "MDQ6VXNlcjMwNDg2MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3048602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/titu1994",
            "html_url": "https://github.com/titu1994",
            "followers_url": "https://api.github.com/users/titu1994/followers",
            "following_url": "https://api.github.com/users/titu1994/following{/other_user}",
            "gists_url": "https://api.github.com/users/titu1994/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/titu1994/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/titu1994/subscriptions",
            "organizations_url": "https://api.github.com/users/titu1994/orgs",
            "repos_url": "https://api.github.com/users/titu1994/repos",
            "events_url": "https://api.github.com/users/titu1994/events{/privacy}",
            "received_events_url": "https://api.github.com/users/titu1994/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-16T18:36:25Z",
          "updated_at": "2017-06-16T21:21:16Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet Thank you for the fixes. The 1st issue will be a weight update, so I will roll back the fix for decode_predictions in a future commit and update the weights on my end.\r\n\r\nAbout the second issue, I attempted that. These models do not have a Dense layer, and only 1 final classification layer using pointwise convolutions and softmax. \r\n\r\nAlso, transposing the weights is not possible, since DepthwiseConv2D is just the 1st part of SeparableConv2D. Theano does not support it, and even Xception models have weights only for tf_dim_ordering, which is equivalent to channels_last, and changes the data format internally to handle this case when the user attempts to create or load weights for the Xception network using channels_first.\r\n\r\nShould I take the same approach?\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309102429/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309136105",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-309136105",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 309136105,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTEzNjEwNQ==",
          "user": {
            "login": "titu1994",
            "id": 3048602,
            "node_id": "MDQ6VXNlcjMwNDg2MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3048602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/titu1994",
            "html_url": "https://github.com/titu1994",
            "followers_url": "https://api.github.com/users/titu1994/followers",
            "following_url": "https://api.github.com/users/titu1994/following{/other_user}",
            "gists_url": "https://api.github.com/users/titu1994/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/titu1994/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/titu1994/subscriptions",
            "organizations_url": "https://api.github.com/users/titu1994/orgs",
            "repos_url": "https://api.github.com/users/titu1994/repos",
            "events_url": "https://api.github.com/users/titu1994/events{/privacy}",
            "received_events_url": "https://api.github.com/users/titu1994/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-16T21:16:03Z",
          "updated_at": "2017-06-16T21:26:10Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet Just an update. I have updated the model to use 1000 classes, and updated the weights on my end to support 1000 classes (by dropping the 0th class from the 1001 class weights). \r\n\r\nThe classification accuracy of mobilenet_1_0_224 is just 1.16 % below Xception for the 1st class on the test image in my repository, and they both correctly predict indian elephant.\r\n\r\nI will wait for your comment, about whether to handle channels_first case in the same manner as Xception, before updating the code.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309136105/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309158083",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-309158083",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 309158083,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTE1ODA4Mw==",
          "user": {
            "login": "titu1994",
            "id": 3048602,
            "node_id": "MDQ6VXNlcjMwNDg2MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3048602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/titu1994",
            "html_url": "https://github.com/titu1994",
            "followers_url": "https://api.github.com/users/titu1994/followers",
            "following_url": "https://api.github.com/users/titu1994/following{/other_user}",
            "gists_url": "https://api.github.com/users/titu1994/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/titu1994/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/titu1994/subscriptions",
            "organizations_url": "https://api.github.com/users/titu1994/orgs",
            "repos_url": "https://api.github.com/users/titu1994/repos",
            "events_url": "https://api.github.com/users/titu1994/events{/privacy}",
            "received_events_url": "https://api.github.com/users/titu1994/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-16T23:00:19Z",
          "updated_at": "2017-06-17T01:22:52Z",
          "author_association": "CONTRIBUTOR",
          "body": "The build errors are due to TimeDistributed errors in CNTK and Theano, and one pip install error for Integration Tests.\r\n\r\nThe model tests and other tests related to this PR are passing.\r\n\r\nRestarted tests by closing then reopening the PR, but there are still tests failing due to download issues of tensorflow.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309158083/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309184261",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-309184261",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 309184261,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTE4NDI2MQ==",
          "user": {
            "login": "titu1994",
            "id": 3048602,
            "node_id": "MDQ6VXNlcjMwNDg2MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3048602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/titu1994",
            "html_url": "https://github.com/titu1994",
            "followers_url": "https://api.github.com/users/titu1994/followers",
            "following_url": "https://api.github.com/users/titu1994/following{/other_user}",
            "gists_url": "https://api.github.com/users/titu1994/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/titu1994/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/titu1994/subscriptions",
            "organizations_url": "https://api.github.com/users/titu1994/orgs",
            "repos_url": "https://api.github.com/users/titu1994/repos",
            "events_url": "https://api.github.com/users/titu1994/events{/privacy}",
            "received_events_url": "https://api.github.com/users/titu1994/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-17T01:44:04Z",
          "updated_at": "2017-06-17T01:44:04Z",
          "author_association": "CONTRIBUTOR",
          "body": "Tests are failing due to time distributed wrapper, not because of this PR.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309184261/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309195194",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-309195194",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 309195194,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTE5NTE5NA==",
          "user": {
            "login": "titu1994",
            "id": 3048602,
            "node_id": "MDQ6VXNlcjMwNDg2MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3048602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/titu1994",
            "html_url": "https://github.com/titu1994",
            "followers_url": "https://api.github.com/users/titu1994/followers",
            "following_url": "https://api.github.com/users/titu1994/following{/other_user}",
            "gists_url": "https://api.github.com/users/titu1994/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/titu1994/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/titu1994/subscriptions",
            "organizations_url": "https://api.github.com/users/titu1994/orgs",
            "repos_url": "https://api.github.com/users/titu1994/repos",
            "events_url": "https://api.github.com/users/titu1994/events{/privacy}",
            "received_events_url": "https://api.github.com/users/titu1994/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-17T05:40:23Z",
          "updated_at": "2017-06-17T05:44:06Z",
          "author_association": "CONTRIBUTOR",
          "body": "Restarting tests after revert https://github.com/fchollet/keras/pull/7018",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309195194/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309197506",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-309197506",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 309197506,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTE5NzUwNg==",
          "user": {
            "login": "titu1994",
            "id": 3048602,
            "node_id": "MDQ6VXNlcjMwNDg2MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3048602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/titu1994",
            "html_url": "https://github.com/titu1994",
            "followers_url": "https://api.github.com/users/titu1994/followers",
            "following_url": "https://api.github.com/users/titu1994/following{/other_user}",
            "gists_url": "https://api.github.com/users/titu1994/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/titu1994/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/titu1994/subscriptions",
            "organizations_url": "https://api.github.com/users/titu1994/orgs",
            "repos_url": "https://api.github.com/users/titu1994/repos",
            "events_url": "https://api.github.com/users/titu1994/events{/privacy}",
            "received_events_url": "https://api.github.com/users/titu1994/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-17T06:44:14Z",
          "updated_at": "2017-06-17T06:44:14Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet All tests passing now. I have updated the MobileNet models to enforce channels_last data format everywhere, to match Xception.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309197506/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309251204",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-309251204",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 309251204,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTI1MTIwNA==",
          "user": {
            "login": "titu1994",
            "id": 3048602,
            "node_id": "MDQ6VXNlcjMwNDg2MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3048602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/titu1994",
            "html_url": "https://github.com/titu1994",
            "followers_url": "https://api.github.com/users/titu1994/followers",
            "following_url": "https://api.github.com/users/titu1994/following{/other_user}",
            "gists_url": "https://api.github.com/users/titu1994/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/titu1994/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/titu1994/subscriptions",
            "organizations_url": "https://api.github.com/users/titu1994/orgs",
            "repos_url": "https://api.github.com/users/titu1994/repos",
            "events_url": "https://api.github.com/users/titu1994/events{/privacy}",
            "received_events_url": "https://api.github.com/users/titu1994/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-18T01:46:13Z",
          "updated_at": "2017-06-18T01:46:13Z",
          "author_association": "CONTRIBUTOR",
          "body": "Added most of the corrections. \r\n\r\nA few such as adding a \"Raises\" section to the DepthwiseConv2D layer and adding dropout as a parameter needs to be discussed, but other than those two, all corrections are applied.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309251204/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309559961",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-309559961",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 309559961,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTU1OTk2MQ==",
          "user": {
            "login": "titu1994",
            "id": 3048602,
            "node_id": "MDQ6VXNlcjMwNDg2MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3048602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/titu1994",
            "html_url": "https://github.com/titu1994",
            "followers_url": "https://api.github.com/users/titu1994/followers",
            "following_url": "https://api.github.com/users/titu1994/following{/other_user}",
            "gists_url": "https://api.github.com/users/titu1994/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/titu1994/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/titu1994/subscriptions",
            "organizations_url": "https://api.github.com/users/titu1994/orgs",
            "repos_url": "https://api.github.com/users/titu1994/repos",
            "events_url": "https://api.github.com/users/titu1994/events{/privacy}",
            "received_events_url": "https://api.github.com/users/titu1994/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-19T20:11:53Z",
          "updated_at": "2017-06-19T20:11:53Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet I've made the corrections as requested. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309559961/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309855355",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-309855355",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 309855355,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTg1NTM1NQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-20T18:58:33Z",
          "updated_at": "2017-06-20T18:58:33Z",
          "author_association": "COLLABORATOR",
          "body": "Can someone please help review?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309855355/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/310151421",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-310151421",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 310151421,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDE1MTQyMQ==",
          "user": {
            "login": "titu1994",
            "id": 3048602,
            "node_id": "MDQ6VXNlcjMwNDg2MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3048602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/titu1994",
            "html_url": "https://github.com/titu1994",
            "followers_url": "https://api.github.com/users/titu1994/followers",
            "following_url": "https://api.github.com/users/titu1994/following{/other_user}",
            "gists_url": "https://api.github.com/users/titu1994/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/titu1994/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/titu1994/subscriptions",
            "organizations_url": "https://api.github.com/users/titu1994/orgs",
            "repos_url": "https://api.github.com/users/titu1994/repos",
            "events_url": "https://api.github.com/users/titu1994/events{/privacy}",
            "received_events_url": "https://api.github.com/users/titu1994/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-21T17:35:43Z",
          "updated_at": "2017-06-21T17:37:11Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet Had to add `relu6` to `activations.py`.\r\n\r\nInitially, I was using python lambda inside `Activation` to use a relu with max value of 6. However, upon testing `model.save(...)` and then `load_model(...)`, I found that models which are fine tuned using Activation with a lambda do not de-serialize properly.\r\n\r\nThe easiest fix is adding `relu6` to activations, and make it directly use the `max_value` parameter of the original K.relu(...) function. This allows for proper serialization and de-serialization.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/310151421/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/310814633",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-310814633",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 310814633,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDgxNDYzMw==",
          "user": {
            "login": "titu1994",
            "id": 3048602,
            "node_id": "MDQ6VXNlcjMwNDg2MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3048602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/titu1994",
            "html_url": "https://github.com/titu1994",
            "followers_url": "https://api.github.com/users/titu1994/followers",
            "following_url": "https://api.github.com/users/titu1994/following{/other_user}",
            "gists_url": "https://api.github.com/users/titu1994/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/titu1994/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/titu1994/subscriptions",
            "organizations_url": "https://api.github.com/users/titu1994/orgs",
            "repos_url": "https://api.github.com/users/titu1994/repos",
            "events_url": "https://api.github.com/users/titu1994/events{/privacy}",
            "received_events_url": "https://api.github.com/users/titu1994/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-24T05:05:37Z",
          "updated_at": "2017-06-24T05:08:35Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet Since there doesn't seem to be other reviewers, perhaps you can mention some general guidelines to follow, to which I can adhere to? \r\n\r\nI tried to match Keras documentation styles, and code style from other layers, tests, and applications as much as possible. The only place left which doesn't strictly adhere to this are the private functions that build the model (generally the code is inlined in the method, here I have used a few different methods).\r\n\r\nI agree that these models need a lot of extra code, such as the DepthwiseConv2D layer, additional backend function, relu6 activation and the corresponding tests.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/310814633/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/310816304",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-310816304",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 310816304,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDgxNjMwNA==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-24T05:44:26Z",
          "updated_at": "2017-06-24T05:44:26Z",
          "author_association": "CONTRIBUTOR",
          "body": "I think relu6 should just be defined locally in the application file, or it should be generalized unless 6 is a fundamentally better max for many wide use cases. Plus, I think it is possible to pass relu6 as a param to the Activation, it doesn't need to be a string. \r\n\r\nI've been keeping an eye on this and overall the code structure/syntax looks fine to me but unfortunately I can't say I've carefully compared this to the paper...",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/310816304/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/310817298",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-310817298",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 310817298,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDgxNzI5OA==",
          "user": {
            "login": "titu1994",
            "id": 3048602,
            "node_id": "MDQ6VXNlcjMwNDg2MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3048602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/titu1994",
            "html_url": "https://github.com/titu1994",
            "followers_url": "https://api.github.com/users/titu1994/followers",
            "following_url": "https://api.github.com/users/titu1994/following{/other_user}",
            "gists_url": "https://api.github.com/users/titu1994/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/titu1994/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/titu1994/subscriptions",
            "organizations_url": "https://api.github.com/users/titu1994/orgs",
            "repos_url": "https://api.github.com/users/titu1994/repos",
            "events_url": "https://api.github.com/users/titu1994/events{/privacy}",
            "received_events_url": "https://api.github.com/users/titu1994/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-24T06:08:02Z",
          "updated_at": "2017-06-24T06:20:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ahundt If you mean relu6 should be local to the file in the following manner : \r\n```\r\nimport keras.activations\r\n\r\ndef relu6(x):\r\n    return K.relu(x, max_value=6)\r\n\r\nkeras.activations.relu6 = relu6\r\n... \r\nx = Activation('relu6', ...)(x)\r\n```\r\nYes, the above works.\r\n\r\nHowever, using a lambda to wrap relu with max_value parameter does not work. It will not deserialize correctly with load_model. Unfortunately, I have found no way of passing arbitrary arguments to Activation layer (so that it can defer them to the actual activation function). It also makes very little sense to do so, given that `relu` is the only activation function that has additional arguments to it's signature (considering non-advanced activations only, `elu` has its corresponding `ELU` layer to use its argument).\r\n\r\nI added `relu6` to Keras, because Tensorflow has a specific activation function called `relu6` [(tf.nn.relu6)](https://www.tensorflow.org/api_docs/python/tf/nn/relu6). Since its inclusion will not affect the Theano or CNTK backends, it made more sense to me to incorporate it into the activations file and be in line with the Tensorflow API. If @fchollet decides that the above mentioned fix is sufficient for this purpose, I will roll back this change.\r\n\r\nAs to comparison with the paper, the model is correct in its implementation. The tensorflow graphs match exactly. Further proof is that the tensorflow provided weights, upon translation to Keras, provide exactly same predictions as Tensorflow with same accuracy.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/310817298/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/310841851",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-310841851",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 310841851,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDg0MTg1MQ==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-24T14:29:23Z",
          "updated_at": "2017-06-24T14:29:23Z",
          "author_association": "CONTRIBUTOR",
          "body": "Sound reasoning, thanks for the explanation! You always do good work. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/310841851/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/310917035",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-310917035",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 310917035,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDkxNzAzNQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-25T17:45:38Z",
          "updated_at": "2017-06-25T17:45:48Z",
          "author_association": "COLLABORATOR",
          "body": "> the above works\r\n\r\nI'd recommend doing that.\r\n\r\n> I added relu6 to Keras, because Tensorflow has a specific activation function called relu6\r\n\r\nA legacy of patterns used in early DL models at Google. Including it in TF was a mistake IMO. It's Google's technical debt. No need to burden the Keras API with it.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/310917035/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/310919209",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-310919209",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 310919209,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDkxOTIwOQ==",
          "user": {
            "login": "titu1994",
            "id": 3048602,
            "node_id": "MDQ6VXNlcjMwNDg2MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3048602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/titu1994",
            "html_url": "https://github.com/titu1994",
            "followers_url": "https://api.github.com/users/titu1994/followers",
            "following_url": "https://api.github.com/users/titu1994/following{/other_user}",
            "gists_url": "https://api.github.com/users/titu1994/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/titu1994/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/titu1994/subscriptions",
            "organizations_url": "https://api.github.com/users/titu1994/orgs",
            "repos_url": "https://api.github.com/users/titu1994/repos",
            "events_url": "https://api.github.com/users/titu1994/events{/privacy}",
            "received_events_url": "https://api.github.com/users/titu1994/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-25T18:26:07Z",
          "updated_at": "2017-06-25T18:26:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet Got it. Rolled back the `relu6` activation and applied the equivalent fix.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/310919209/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/311142539",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-311142539",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 311142539,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTE0MjUzOQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-26T18:27:42Z",
          "updated_at": "2017-06-26T18:27:42Z",
          "author_association": "COLLABORATOR",
          "body": "If the layer (and relu6) turn out to be widely used in the future, we can then easily move them from `mobilenet.py` to the code codebase.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/311142539/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/311162201",
          "html_url": "https://github.com/keras-team/keras/pull/7009#issuecomment-311162201",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7009",
          "id": 311162201,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTE2MjIwMQ==",
          "user": {
            "login": "titu1994",
            "id": 3048602,
            "node_id": "MDQ6VXNlcjMwNDg2MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3048602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/titu1994",
            "html_url": "https://github.com/titu1994",
            "followers_url": "https://api.github.com/users/titu1994/followers",
            "following_url": "https://api.github.com/users/titu1994/following{/other_user}",
            "gists_url": "https://api.github.com/users/titu1994/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/titu1994/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/titu1994/subscriptions",
            "organizations_url": "https://api.github.com/users/titu1994/orgs",
            "repos_url": "https://api.github.com/users/titu1994/repos",
            "events_url": "https://api.github.com/users/titu1994/events{/privacy}",
            "received_events_url": "https://api.github.com/users/titu1994/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-26T19:46:45Z",
          "updated_at": "2017-06-26T19:48:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet I agree with your assessment. \r\n\r\nI had to make a few alterations to `__init__.py` of the applications folder to expose the `DepthwiseConv2D` / `DepthwiseConvolution2D` layers and `relu6` activation. Also, the convolution tests must now import DepthwiseConv2D from `keras.applications.mobilenet` rather than `keras.layers`, but other than that no major modifications.\r\n\r\nThe other corrections have been applied as suggested.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/311162201/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/21252",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/21252/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/21252/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/21252/events",
      "html_url": "https://github.com/keras-team/keras/pull/21252",
      "id": 3041034119,
      "node_id": "PR_kwDOAffHH86VAtQp",
      "number": 21252,
      "title": "Keras <> NNX integration",
      "user": {
        "login": "divyashreepathihalli",
        "id": 78194266,
        "node_id": "MDQ6VXNlcjc4MTk0MjY2",
        "avatar_url": "https://avatars.githubusercontent.com/u/78194266?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/divyashreepathihalli",
        "html_url": "https://github.com/divyashreepathihalli",
        "followers_url": "https://api.github.com/users/divyashreepathihalli/followers",
        "following_url": "https://api.github.com/users/divyashreepathihalli/following{/other_user}",
        "gists_url": "https://api.github.com/users/divyashreepathihalli/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/divyashreepathihalli/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/divyashreepathihalli/subscriptions",
        "organizations_url": "https://api.github.com/users/divyashreepathihalli/orgs",
        "repos_url": "https://api.github.com/users/divyashreepathihalli/repos",
        "events_url": "https://api.github.com/users/divyashreepathihalli/events{/privacy}",
        "received_events_url": "https://api.github.com/users/divyashreepathihalli/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 3275249389,
          "node_id": "MDU6TGFiZWwzMjc1MjQ5Mzg5",
          "url": "https://api.github.com/repos/keras-team/keras/labels/size:M",
          "name": "size:M",
          "color": "ededed",
          "default": false,
          "description": null
        },
        {
          "id": 5490240018,
          "node_id": "LA_kwDOAffHH88AAAABRz5qEg",
          "url": "https://api.github.com/repos/keras-team/keras/labels/awaiting%20review",
          "name": "awaiting review",
          "color": "ededed",
          "default": false,
          "description": null
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": {
        "login": "gbaned",
        "id": 48215717,
        "node_id": "MDQ6VXNlcjQ4MjE1NzE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/48215717?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gbaned",
        "html_url": "https://github.com/gbaned",
        "followers_url": "https://api.github.com/users/gbaned/followers",
        "following_url": "https://api.github.com/users/gbaned/following{/other_user}",
        "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions",
        "organizations_url": "https://api.github.com/users/gbaned/orgs",
        "repos_url": "https://api.github.com/users/gbaned/repos",
        "events_url": "https://api.github.com/users/gbaned/events{/privacy}",
        "received_events_url": "https://api.github.com/users/gbaned/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "assignees": [
        {
          "login": "gbaned",
          "id": 48215717,
          "node_id": "MDQ6VXNlcjQ4MjE1NzE3",
          "avatar_url": "https://avatars.githubusercontent.com/u/48215717?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/gbaned",
          "html_url": "https://github.com/gbaned",
          "followers_url": "https://api.github.com/users/gbaned/followers",
          "following_url": "https://api.github.com/users/gbaned/following{/other_user}",
          "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions",
          "organizations_url": "https://api.github.com/users/gbaned/orgs",
          "repos_url": "https://api.github.com/users/gbaned/repos",
          "events_url": "https://api.github.com/users/gbaned/events{/privacy}",
          "received_events_url": "https://api.github.com/users/gbaned/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        }
      ],
      "milestone": null,
      "comments": 6,
      "created_at": "2025-05-05T23:04:56Z",
      "updated_at": "2025-07-20T19:33:58Z",
      "closed_at": null,
      "author_association": "COLLABORATOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/21252",
        "html_url": "https://github.com/keras-team/keras/pull/21252",
        "diff_url": "https://github.com/keras-team/keras/pull/21252.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/21252.patch",
        "merged_at": null
      },
      "body": "The PR integrates NNX into JAX backend!\r\n\r\nThe following snippet shows how you would enable the nnx backend\r\n```\r\nimport os\r\nos.environ[\"KERAS_BACKEND\"]=\"jax\"\r\nos.environ[\"KERAS_NNX_ENABLED\"]=\"true\"\r\nimport keras\r\n```\r\nDemo colab here : https://colab.sandbox.google.com/drive/1mK-4qbce2HGRIkcb4v5n4niWGDezL_6n#scrollTo=m-ZH9Mpnphfz\r\nAdded a github workflow action for nnx backend. Note this will fail - because this needs a new release of flax to work.",
      "closed_by": null,
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/21252/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/21252/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2852616442",
          "html_url": "https://github.com/keras-team/keras/pull/21252#issuecomment-2852616442",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/21252",
          "id": 2852616442,
          "node_id": "IC_kwDOAffHH86qB3j6",
          "user": {
            "login": "codecov-commenter",
            "id": 65553080,
            "node_id": "MDQ6VXNlcjY1NTUzMDgw",
            "avatar_url": "https://avatars.githubusercontent.com/u/65553080?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/codecov-commenter",
            "html_url": "https://github.com/codecov-commenter",
            "followers_url": "https://api.github.com/users/codecov-commenter/followers",
            "following_url": "https://api.github.com/users/codecov-commenter/following{/other_user}",
            "gists_url": "https://api.github.com/users/codecov-commenter/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/codecov-commenter/subscriptions",
            "organizations_url": "https://api.github.com/users/codecov-commenter/orgs",
            "repos_url": "https://api.github.com/users/codecov-commenter/repos",
            "events_url": "https://api.github.com/users/codecov-commenter/events{/privacy}",
            "received_events_url": "https://api.github.com/users/codecov-commenter/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-05-05T23:10:19Z",
          "updated_at": "2025-07-20T19:33:58Z",
          "author_association": "NONE",
          "body": "## [Codecov](https://app.codecov.io/gh/keras-team/keras/pull/21252?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) Report\nAttention: Patch coverage is `26.16279%` with `127 lines` in your changes missing coverage. Please review.\n> Project coverage is 82.68%. Comparing base [(`d55a767`)](https://app.codecov.io/gh/keras-team/keras/commit/d55a76728bec0bbe4ddc7f122e02daa48c694072?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) to head [(`7494af6`)](https://app.codecov.io/gh/keras-team/keras/commit/7494af613013bdc5e855751113beb2855751f9f3?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team).\n> Report is 4 commits behind head on master.\n\n| [Files with missing lines](https://app.codecov.io/gh/keras-team/keras/pull/21252?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | Patch % | Lines |\n|---|---|---|\n| [keras/src/backend/jax/core.py](https://app.codecov.io/gh/keras-team/keras/pull/21252?src=pr&el=tree&filepath=keras%2Fsrc%2Fbackend%2Fjax%2Fcore.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL2JhY2tlbmQvamF4L2NvcmUucHk=) | 6.49% | [71 Missing and 1 partial :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/21252?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/src/backend/config.py](https://app.codecov.io/gh/keras-team/keras/pull/21252?src=pr&el=tree&filepath=keras%2Fsrc%2Fbackend%2Fconfig.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL2JhY2tlbmQvY29uZmlnLnB5) | 32.35% | [18 Missing and 5 partials :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/21252?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/src/ops/function.py](https://app.codecov.io/gh/keras-team/keras/pull/21252?src=pr&el=tree&filepath=keras%2Fsrc%2Fops%2Ffunction.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL29wcy9mdW5jdGlvbi5weQ==) | 47.05% | [7 Missing and 2 partials :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/21252?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/src/layers/layer.py](https://app.codecov.io/gh/keras-team/keras/pull/21252?src=pr&el=tree&filepath=keras%2Fsrc%2Flayers%2Flayer.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL2xheWVycy9sYXllci5weQ==) | 42.85% | [5 Missing and 3 partials :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/21252?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/src/backend/jax/layer.py](https://app.codecov.io/gh/keras-team/keras/pull/21252?src=pr&el=tree&filepath=keras%2Fsrc%2Fbackend%2Fjax%2Flayer.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL2JhY2tlbmQvamF4L2xheWVyLnB5) | 20.00% | [3 Missing and 1 partial :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/21252?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/src/backend/jax/trainer.py](https://app.codecov.io/gh/keras-team/keras/pull/21252?src=pr&el=tree&filepath=keras%2Fsrc%2Fbackend%2Fjax%2Ftrainer.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL2JhY2tlbmQvamF4L3RyYWluZXIucHk=) | 66.66% | [2 Missing and 2 partials :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/21252?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/src/backend/common/variables.py](https://app.codecov.io/gh/keras-team/keras/pull/21252?src=pr&el=tree&filepath=keras%2Fsrc%2Fbackend%2Fcommon%2Fvariables.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL2JhY2tlbmQvY29tbW9uL3ZhcmlhYmxlcy5weQ==) | 0.00% | [2 Missing and 1 partial :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/21252?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/src/ops/operation.py](https://app.codecov.io/gh/keras-team/keras/pull/21252?src=pr&el=tree&filepath=keras%2Fsrc%2Fops%2Foperation.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL29wcy9vcGVyYXRpb24ucHk=) | 25.00% | [2 Missing and 1 partial :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/21252?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/api/\\_tf\\_keras/keras/config/\\_\\_init\\_\\_.py](https://app.codecov.io/gh/keras-team/keras/pull/21252?src=pr&el=tree&filepath=keras%2Fapi%2F_tf_keras%2Fkeras%2Fconfig%2F__init__.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvYXBpL190Zl9rZXJhcy9rZXJhcy9jb25maWcvX19pbml0X18ucHk=) | 0.00% | [1 Missing :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/21252?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@            Coverage Diff             @@\n##           master   #21252      +/-   ##\n==========================================\n- Coverage   82.81%   82.68%   -0.13%     \n==========================================\n  Files         565      565              \n  Lines       55520    55805     +285     \n  Branches     8664     8717      +53     \n==========================================\n+ Hits        45977    46141     +164     \n- Misses       7428     7533     +105     \n- Partials     2115     2131      +16     \n```\n\n| [Flag](https://app.codecov.io/gh/keras-team/keras/pull/21252/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | Coverage \u0394 | |\n|---|---|---|\n| [keras](https://app.codecov.io/gh/keras-team/keras/pull/21252/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | `82.49% <26.16%> (-0.13%)` | :arrow_down: |\n| [keras-jax](https://app.codecov.io/gh/keras-team/keras/pull/21252/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | `63.29% <26.16%> (-0.10%)` | :arrow_down: |\n| [keras-numpy](https://app.codecov.io/gh/keras-team/keras/pull/21252/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | `58.48% <19.18%> (-0.11%)` | :arrow_down: |\n| [keras-openvino](https://app.codecov.io/gh/keras-team/keras/pull/21252/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | `33.91% <18.02%> (-0.08%)` | :arrow_down: |\n| [keras-tensorflow](https://app.codecov.io/gh/keras-team/keras/pull/21252/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | `63.75% <19.76%> (-0.08%)` | :arrow_down: |\n| [keras-torch](https://app.codecov.io/gh/keras-team/keras/pull/21252/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | `63.35% <19.76%> (-0.16%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/keras-team/keras/pull/21252?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team).\n\n<details><summary> :rocket: New features to boost your workflow: </summary>\n\n- :snowflake: [Test Analytics](https://docs.codecov.com/docs/test-analytics): Detect flaky tests, report on failures, and find test suite problems.\n</details>",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2852616442/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2950355018",
          "html_url": "https://github.com/keras-team/keras/pull/21252#issuecomment-2950355018",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/21252",
          "id": 2950355018,
          "node_id": "IC_kwDOAffHH86v2thK",
          "user": {
            "login": "divyashreepathihalli",
            "id": 78194266,
            "node_id": "MDQ6VXNlcjc4MTk0MjY2",
            "avatar_url": "https://avatars.githubusercontent.com/u/78194266?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/divyashreepathihalli",
            "html_url": "https://github.com/divyashreepathihalli",
            "followers_url": "https://api.github.com/users/divyashreepathihalli/followers",
            "following_url": "https://api.github.com/users/divyashreepathihalli/following{/other_user}",
            "gists_url": "https://api.github.com/users/divyashreepathihalli/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/divyashreepathihalli/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/divyashreepathihalli/subscriptions",
            "organizations_url": "https://api.github.com/users/divyashreepathihalli/orgs",
            "repos_url": "https://api.github.com/users/divyashreepathihalli/repos",
            "events_url": "https://api.github.com/users/divyashreepathihalli/events{/privacy}",
            "received_events_url": "https://api.github.com/users/divyashreepathihalli/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-06-06T19:14:35Z",
          "updated_at": "2025-06-06T19:21:18Z",
          "author_association": "COLLABORATOR",
          "body": "Added a github workflow action for nnx backend. Note **this will FAIL** - because this needs a new release of flax to work.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2950355018/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2989156347",
          "html_url": "https://github.com/keras-team/keras/pull/21252#issuecomment-2989156347",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/21252",
          "id": 2989156347,
          "node_id": "IC_kwDOAffHH86yKuf7",
          "user": {
            "login": "abheesht17",
            "id": 31360468,
            "node_id": "MDQ6VXNlcjMxMzYwNDY4",
            "avatar_url": "https://avatars.githubusercontent.com/u/31360468?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abheesht17",
            "html_url": "https://github.com/abheesht17",
            "followers_url": "https://api.github.com/users/abheesht17/followers",
            "following_url": "https://api.github.com/users/abheesht17/following{/other_user}",
            "gists_url": "https://api.github.com/users/abheesht17/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abheesht17/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abheesht17/subscriptions",
            "organizations_url": "https://api.github.com/users/abheesht17/orgs",
            "repos_url": "https://api.github.com/users/abheesht17/repos",
            "events_url": "https://api.github.com/users/abheesht17/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abheesht17/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-06-19T21:14:47Z",
          "updated_at": "2025-06-19T21:15:25Z",
          "author_association": "COLLABORATOR",
          "body": "Noticed the following for when we use a custom NNX training loop.\r\n\r\n- When model is just a Keras layer, grads are non-zero and the loss goes down.\r\n- But whenever I have a `keras.Model` instance (for example, a `keras.Sequential` model), grads are all 0.\r\n\r\nHere is a notebook demonstrating the same: https://colab.research.google.com/drive/1hvGYN00aETHlrwjUlLCjfwVJrCcQqySN?resourcekey=0-oyfeCvzJzqOf0aLroY4rhg&usp=sharing.\r\n\r\nLet me know if I've messed up somewhere! Trying to figure out why it's happening. Will changing the `trainable_variables` filter work? Probably not, because the filter is working properly (see the cell with `nnx.state`; it returns the correct variables).",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2989156347/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/3052774631",
          "html_url": "https://github.com/keras-team/keras/pull/21252#issuecomment-3052774631",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/21252",
          "id": 3052774631,
          "node_id": "IC_kwDOAffHH8619aTn",
          "user": {
            "login": "abheesht17",
            "id": 31360468,
            "node_id": "MDQ6VXNlcjMxMzYwNDY4",
            "avatar_url": "https://avatars.githubusercontent.com/u/31360468?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abheesht17",
            "html_url": "https://github.com/abheesht17",
            "followers_url": "https://api.github.com/users/abheesht17/followers",
            "following_url": "https://api.github.com/users/abheesht17/following{/other_user}",
            "gists_url": "https://api.github.com/users/abheesht17/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abheesht17/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abheesht17/subscriptions",
            "organizations_url": "https://api.github.com/users/abheesht17/orgs",
            "repos_url": "https://api.github.com/users/abheesht17/repos",
            "events_url": "https://api.github.com/users/abheesht17/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abheesht17/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-07-09T13:54:17Z",
          "updated_at": "2025-07-09T13:54:17Z",
          "author_association": "COLLABORATOR",
          "body": "Thanks! Working now for sequential and functional models: https://colab.sandbox.google.com/gist/abheesht17/95be01582bc9371dfc059bd80466b851/keras-nnx-model-training-with-custom-nnx-loop.ipynb.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/3052774631/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/3059727880",
          "html_url": "https://github.com/keras-team/keras/pull/21252#issuecomment-3059727880",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/21252",
          "id": 3059727880,
          "node_id": "IC_kwDOAffHH862X74I",
          "user": {
            "login": "divyashreepathihalli",
            "id": 78194266,
            "node_id": "MDQ6VXNlcjc4MTk0MjY2",
            "avatar_url": "https://avatars.githubusercontent.com/u/78194266?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/divyashreepathihalli",
            "html_url": "https://github.com/divyashreepathihalli",
            "followers_url": "https://api.github.com/users/divyashreepathihalli/followers",
            "following_url": "https://api.github.com/users/divyashreepathihalli/following{/other_user}",
            "gists_url": "https://api.github.com/users/divyashreepathihalli/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/divyashreepathihalli/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/divyashreepathihalli/subscriptions",
            "organizations_url": "https://api.github.com/users/divyashreepathihalli/orgs",
            "repos_url": "https://api.github.com/users/divyashreepathihalli/repos",
            "events_url": "https://api.github.com/users/divyashreepathihalli/events{/privacy}",
            "received_events_url": "https://api.github.com/users/divyashreepathihalli/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-07-11T00:37:38Z",
          "updated_at": "2025-07-11T00:37:38Z",
          "author_association": "COLLABORATOR",
          "body": "/gemini review",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/3059727880/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/3070808132",
          "html_url": "https://github.com/keras-team/keras/pull/21252#issuecomment-3070808132",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/21252",
          "id": 3070808132,
          "node_id": "IC_kwDOAffHH863CNBE",
          "user": {
            "login": "divyashreepathihalli",
            "id": 78194266,
            "node_id": "MDQ6VXNlcjc4MTk0MjY2",
            "avatar_url": "https://avatars.githubusercontent.com/u/78194266?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/divyashreepathihalli",
            "html_url": "https://github.com/divyashreepathihalli",
            "followers_url": "https://api.github.com/users/divyashreepathihalli/followers",
            "following_url": "https://api.github.com/users/divyashreepathihalli/following{/other_user}",
            "gists_url": "https://api.github.com/users/divyashreepathihalli/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/divyashreepathihalli/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/divyashreepathihalli/subscriptions",
            "organizations_url": "https://api.github.com/users/divyashreepathihalli/orgs",
            "repos_url": "https://api.github.com/users/divyashreepathihalli/repos",
            "events_url": "https://api.github.com/users/divyashreepathihalli/events{/privacy}",
            "received_events_url": "https://api.github.com/users/divyashreepathihalli/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-07-14T20:04:17Z",
          "updated_at": "2025-07-14T20:04:53Z",
          "author_association": "COLLABORATOR",
          "body": "FLAX installation is pointing to my branch currently until the CL and PR changes makes it through the Flax Github",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/3070808132/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/2397",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/2397/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/2397/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/2397/events",
      "html_url": "https://github.com/keras-team/keras/issues/2397",
      "id": 149397212,
      "node_id": "MDU6SXNzdWUxNDkzOTcyMTI=",
      "number": 2397,
      "title": "Tensorflow backend - bug in model._make_predict_function(...)",
      "user": {
        "login": "Froskekongen",
        "id": 4319052,
        "node_id": "MDQ6VXNlcjQzMTkwNTI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4319052?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Froskekongen",
        "html_url": "https://github.com/Froskekongen",
        "followers_url": "https://api.github.com/users/Froskekongen/followers",
        "following_url": "https://api.github.com/users/Froskekongen/following{/other_user}",
        "gists_url": "https://api.github.com/users/Froskekongen/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Froskekongen/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Froskekongen/subscriptions",
        "organizations_url": "https://api.github.com/users/Froskekongen/orgs",
        "repos_url": "https://api.github.com/users/Froskekongen/repos",
        "events_url": "https://api.github.com/users/Froskekongen/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Froskekongen/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 108,
      "created_at": "2016-04-19T09:08:30Z",
      "updated_at": "2020-10-25T02:06:11Z",
      "closed_at": "2018-11-02T20:59:41Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "There appears to be a bug in the make_predict_function for the tensorflow backend. The following error message appears for me when trying to call model.predict(...)\n\n```\nself._make_predict_function()\n  File \"/usr/local/lib/python3.4/dist-packages/keras/engine/training.py\", line 679, in _make_predict_function\n    **self._function_kwargs)\n  File \"/usr/local/lib/python3.4/dist-packages/keras/backend/tensorflow_backend.py\", line 615, in function\n    return Function(inputs, outputs, updates=updates)\n  File \"/usr/local/lib/python3.4/dist-packages/keras/backend/tensorflow_backend.py\", line 589, in __init__\n    with tf.control_dependencies(self.outputs):\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/ops.py\", line 3192, in control_dependencies\n    return get_default_graph().control_dependencies(control_inputs)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/ops.py\", line 2993, in control_dependencies\n    c = self.as_graph_element(c)\n  File \"/usr/local/lib/python3.4/dist-packages/tensorflow/python/framework/ops.py\", line 2291, in as_graph_element\n    raise ValueError(\"Tensor %s is not an element of this graph.\" % obj)\nValueError: Tensor Tensor(\"Sigmoid_2:0\", shape=(?, 17), dtype=float32) is not an element of this graph.\n```\n\nThis does not happen when using the theano backend.\n\nNotes: The model is loaded from json, and is defined as follows:\n\n```\n    seq1=Input(dtype='int32',shape=(400,),name='input_text')\n    seq2=Input(dtype='int32',shape=(20,),name='input_titles')\n\n    embeddeding=Embedding(max_features,embedding_dims,dropout=0.3)\n\n    encoding_1=embeddeding(seq1)\n    encoding_2=embeddeding(seq2)\n\n    filter_lengths = [1,3,6]\n\n\n    def max_1d(X):\n        return K.max(X, axis=1)\n    convs1=[]\n    convs2=[]\n    for fl in filter_lengths:\n\n        conv1=Convolution1D(nb_filter=nb_filter,\n                        filter_length=fl,\n                        border_mode='valid',\n                        activation='relu',\n                        subsample_length=1)(encoding_1)\n        conv1=Lambda(max_1d, output_shape=(nb_filter,))(conv1)\n        convs1.append(conv1)\n\n        conv2=Convolution1D(nb_filter=nb_filter,\n                        filter_length=fl,\n                        border_mode='valid',\n                        activation='relu',\n                        subsample_length=1)(encoding_2)\n        conv2=Lambda(max_1d, output_shape=(nb_filter,))(conv2)\n        convs2.append(conv2)\n\n    m=merge([*convs1,*convs2],mode='concat')\n    m=Highway(activation='relu')(m)\n    m=Highway(activation='relu')(m)\n    m=Dropout(0.5)(m)\n    hovedkategori_loss=Dense(labsHovedKat.shape[1],activation='sigmoid',name='hovedkategori')(m)\n\n    m1=merge([hovedkategori_loss,m],mode='concat')\n    underkategori_loss=Dense(labsUnderKat.shape[1],activation='sigmoid',name='underkategori')(m1)\n\n    model=Model(input=[seq1,seq2],output=[hovedkategori_loss,underkategori_loss])\n    model.compile(optimizer='adam',loss='binary_crossentropy',metrics={'hovedkategori':'accuracy','underkategori':'accuracy'})\n```\n- [x] Check that you are up-to-date with the master branch of Keras. You can update with:\n  pip install git+git://github.com/fchollet/keras.git --upgrade --no-deps\n- [x] If running on Theano, check that you are up-to-date with the master branch of Theano. You can update with:\n  pip install git+git://github.com/Theano/Theano.git --upgrade --no-deps\n",
      "closed_by": {
        "login": "wt-huang",
        "id": 42785337,
        "node_id": "MDQ6VXNlcjQyNzg1MzM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/42785337?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/wt-huang",
        "html_url": "https://github.com/wt-huang",
        "followers_url": "https://api.github.com/users/wt-huang/followers",
        "following_url": "https://api.github.com/users/wt-huang/following{/other_user}",
        "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions",
        "organizations_url": "https://api.github.com/users/wt-huang/orgs",
        "repos_url": "https://api.github.com/users/wt-huang/repos",
        "events_url": "https://api.github.com/users/wt-huang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/wt-huang/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/2397/reactions",
        "total_count": 15,
        "+1": 15,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/2397/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212077325",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-212077325",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 212077325,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjA3NzMyNQ==",
          "user": {
            "login": "Froskekongen",
            "id": 4319052,
            "node_id": "MDQ6VXNlcjQzMTkwNTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4319052?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Froskekongen",
            "html_url": "https://github.com/Froskekongen",
            "followers_url": "https://api.github.com/users/Froskekongen/followers",
            "following_url": "https://api.github.com/users/Froskekongen/following{/other_user}",
            "gists_url": "https://api.github.com/users/Froskekongen/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Froskekongen/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Froskekongen/subscriptions",
            "organizations_url": "https://api.github.com/users/Froskekongen/orgs",
            "repos_url": "https://api.github.com/users/Froskekongen/repos",
            "events_url": "https://api.github.com/users/Froskekongen/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Froskekongen/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-19T19:24:05Z",
          "updated_at": "2016-04-19T19:24:05Z",
          "author_association": "NONE",
          "body": "I would appreciate any comments on this issue, as I want to deploy the model asap. And I need to know if I can use it or code something else.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212077325/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212131612",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-212131612",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 212131612,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjEzMTYxMg==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-19T21:11:13Z",
          "updated_at": "2016-04-19T21:11:13Z",
          "author_association": "COLLABORATOR",
          "body": "Do you have a code snippet to reproduce this issue? I can guarantee you that `predict` does in fact work, including with TensorFlow.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212131612/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212287164",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-212287164",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 212287164,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjI4NzE2NA==",
          "user": {
            "login": "Froskekongen",
            "id": 4319052,
            "node_id": "MDQ6VXNlcjQzMTkwNTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4319052?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Froskekongen",
            "html_url": "https://github.com/Froskekongen",
            "followers_url": "https://api.github.com/users/Froskekongen/followers",
            "following_url": "https://api.github.com/users/Froskekongen/following{/other_user}",
            "gists_url": "https://api.github.com/users/Froskekongen/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Froskekongen/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Froskekongen/subscriptions",
            "organizations_url": "https://api.github.com/users/Froskekongen/orgs",
            "repos_url": "https://api.github.com/users/Froskekongen/repos",
            "events_url": "https://api.github.com/users/Froskekongen/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Froskekongen/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-20T06:57:36Z",
          "updated_at": "2016-04-20T06:57:36Z",
          "author_association": "NONE",
          "body": "It appears this bug had nothing to do with either keras or tensorflow, but rather how async events were handled by the webserver I am using.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212287164/reactions",
            "total_count": 33,
            "+1": 27,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 6
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/217908441",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-217908441",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 217908441,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzkwODQ0MQ==",
          "user": {
            "login": "jstypka",
            "id": 4479536,
            "node_id": "MDQ6VXNlcjQ0Nzk1MzY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4479536?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jstypka",
            "html_url": "https://github.com/jstypka",
            "followers_url": "https://api.github.com/users/jstypka/followers",
            "following_url": "https://api.github.com/users/jstypka/following{/other_user}",
            "gists_url": "https://api.github.com/users/jstypka/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jstypka/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jstypka/subscriptions",
            "organizations_url": "https://api.github.com/users/jstypka/orgs",
            "repos_url": "https://api.github.com/users/jstypka/repos",
            "events_url": "https://api.github.com/users/jstypka/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jstypka/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-05-09T16:03:37Z",
          "updated_at": "2016-05-09T16:09:28Z",
          "author_association": "CONTRIBUTOR",
          "body": "@Froskekongen could you describe how you fixed this in more detail? I'm having an exactly the same error however in a different program.\n\nIt seems to work when I do it manually in a REPL, however when I deploy it as a webservice it breaks.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/217908441/reactions",
            "total_count": 58,
            "+1": 56,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 2
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/219062747",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-219062747",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 219062747,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTA2Mjc0Nw==",
          "user": {
            "login": "pxlong",
            "id": 4568173,
            "node_id": "MDQ6VXNlcjQ1NjgxNzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4568173?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pxlong",
            "html_url": "https://github.com/pxlong",
            "followers_url": "https://api.github.com/users/pxlong/followers",
            "following_url": "https://api.github.com/users/pxlong/following{/other_user}",
            "gists_url": "https://api.github.com/users/pxlong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pxlong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pxlong/subscriptions",
            "organizations_url": "https://api.github.com/users/pxlong/orgs",
            "repos_url": "https://api.github.com/users/pxlong/repos",
            "events_url": "https://api.github.com/users/pxlong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pxlong/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-05-13T14:40:36Z",
          "updated_at": "2016-05-13T14:40:36Z",
          "author_association": "NONE",
          "body": "I also have the same error under the tensorflow backend, however, it works using the theano backend.  \n@jstypka  @Froskekongen  Have you found a solution to fix it?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/219062747/reactions",
            "total_count": 7,
            "+1": 6,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 1,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/219063485",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-219063485",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 219063485,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTA2MzQ4NQ==",
          "user": {
            "login": "jstypka",
            "id": 4479536,
            "node_id": "MDQ6VXNlcjQ0Nzk1MzY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4479536?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jstypka",
            "html_url": "https://github.com/jstypka",
            "followers_url": "https://api.github.com/users/jstypka/followers",
            "following_url": "https://api.github.com/users/jstypka/following{/other_user}",
            "gists_url": "https://api.github.com/users/jstypka/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jstypka/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jstypka/subscriptions",
            "organizations_url": "https://api.github.com/users/jstypka/orgs",
            "repos_url": "https://api.github.com/users/jstypka/repos",
            "events_url": "https://api.github.com/users/jstypka/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jstypka/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-05-13T14:43:03Z",
          "updated_at": "2016-05-13T14:43:03Z",
          "author_association": "CONTRIBUTOR",
          "body": "@pxlong it also works on Theano for me, I think it's exactly the same problem. I didn't manage to solve it though, was hoping for some hints from @Froskekongen \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/219063485/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/222115974",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-222115974",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 222115974,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjExNTk3NA==",
          "user": {
            "login": "rkempter",
            "id": 1032193,
            "node_id": "MDQ6VXNlcjEwMzIxOTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1032193?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rkempter",
            "html_url": "https://github.com/rkempter",
            "followers_url": "https://api.github.com/users/rkempter/followers",
            "following_url": "https://api.github.com/users/rkempter/following{/other_user}",
            "gists_url": "https://api.github.com/users/rkempter/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rkempter/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rkempter/subscriptions",
            "organizations_url": "https://api.github.com/users/rkempter/orgs",
            "repos_url": "https://api.github.com/users/rkempter/repos",
            "events_url": "https://api.github.com/users/rkempter/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rkempter/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-05-27T10:40:56Z",
          "updated_at": "2016-05-27T10:40:56Z",
          "author_association": "NONE",
          "body": "same here, same issue! Works fine in REPL, issues running it behind a webservice.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/222115974/reactions",
            "total_count": 4,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/222177589",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-222177589",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 222177589,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIyMjE3NzU4OQ==",
          "user": {
            "login": "rkempter",
            "id": 1032193,
            "node_id": "MDQ6VXNlcjEwMzIxOTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1032193?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rkempter",
            "html_url": "https://github.com/rkempter",
            "followers_url": "https://api.github.com/users/rkempter/followers",
            "following_url": "https://api.github.com/users/rkempter/following{/other_user}",
            "gists_url": "https://api.github.com/users/rkempter/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rkempter/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rkempter/subscriptions",
            "organizations_url": "https://api.github.com/users/rkempter/orgs",
            "repos_url": "https://api.github.com/users/rkempter/repos",
            "events_url": "https://api.github.com/users/rkempter/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rkempter/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-05-27T15:30:09Z",
          "updated_at": "2016-05-27T15:30:09Z",
          "author_association": "NONE",
          "body": "Running the webservice with gunicorn in sync mode solved the issue.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/222177589/reactions",
            "total_count": 13,
            "+1": 10,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 2,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/236803306",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-236803306",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 236803306,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjgwMzMwNg==",
          "user": {
            "login": "gladuo",
            "id": 5893628,
            "node_id": "MDQ6VXNlcjU4OTM2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5893628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gladuo",
            "html_url": "https://github.com/gladuo",
            "followers_url": "https://api.github.com/users/gladuo/followers",
            "following_url": "https://api.github.com/users/gladuo/following{/other_user}",
            "gists_url": "https://api.github.com/users/gladuo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gladuo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gladuo/subscriptions",
            "organizations_url": "https://api.github.com/users/gladuo/orgs",
            "repos_url": "https://api.github.com/users/gladuo/repos",
            "events_url": "https://api.github.com/users/gladuo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gladuo/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-02T05:35:43Z",
          "updated_at": "2016-08-02T05:35:43Z",
          "author_association": "NONE",
          "body": "Hey everybody, I'm still not sure what's wrong with this combination.\nBut I use meinheld instead and it workes even better than gevent.\nHope this help.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/236803306/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/240140286",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-240140286",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 240140286,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0MDE0MDI4Ng==",
          "user": {
            "login": "AbhishekAshokDubey",
            "id": 7661959,
            "node_id": "MDQ6VXNlcjc2NjE5NTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7661959?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AbhishekAshokDubey",
            "html_url": "https://github.com/AbhishekAshokDubey",
            "followers_url": "https://api.github.com/users/AbhishekAshokDubey/followers",
            "following_url": "https://api.github.com/users/AbhishekAshokDubey/following{/other_user}",
            "gists_url": "https://api.github.com/users/AbhishekAshokDubey/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AbhishekAshokDubey/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AbhishekAshokDubey/subscriptions",
            "organizations_url": "https://api.github.com/users/AbhishekAshokDubey/orgs",
            "repos_url": "https://api.github.com/users/AbhishekAshokDubey/repos",
            "events_url": "https://api.github.com/users/AbhishekAshokDubey/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AbhishekAshokDubey/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-16T15:33:09Z",
          "updated_at": "2016-08-16T15:33:09Z",
          "author_association": "NONE",
          "body": "Same problem (model.predtict breaking) for me too, but it worked when i switched to theano backend from tensflow.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/240140286/reactions",
            "total_count": 8,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 2,
            "confused": 2,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/242729937",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-242729937",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 242729937,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjcyOTkzNw==",
          "user": {
            "login": "Nr90",
            "id": 1653527,
            "node_id": "MDQ6VXNlcjE2NTM1Mjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1653527?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Nr90",
            "html_url": "https://github.com/Nr90",
            "followers_url": "https://api.github.com/users/Nr90/followers",
            "following_url": "https://api.github.com/users/Nr90/following{/other_user}",
            "gists_url": "https://api.github.com/users/Nr90/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Nr90/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Nr90/subscriptions",
            "organizations_url": "https://api.github.com/users/Nr90/orgs",
            "repos_url": "https://api.github.com/users/Nr90/repos",
            "events_url": "https://api.github.com/users/Nr90/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Nr90/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-26T13:05:57Z",
          "updated_at": "2016-08-26T13:05:57Z",
          "author_association": "NONE",
          "body": "Same problem here.\nSeems to work fine normally. When deployed as a webservice using Flask, get this error.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/242729937/reactions",
            "total_count": 99,
            "+1": 95,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 4,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/242905113",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-242905113",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 242905113,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjkwNTExMw==",
          "user": {
            "login": "Nr90",
            "id": 1653527,
            "node_id": "MDQ6VXNlcjE2NTM1Mjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1653527?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Nr90",
            "html_url": "https://github.com/Nr90",
            "followers_url": "https://api.github.com/users/Nr90/followers",
            "following_url": "https://api.github.com/users/Nr90/following{/other_user}",
            "gists_url": "https://api.github.com/users/Nr90/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Nr90/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Nr90/subscriptions",
            "organizations_url": "https://api.github.com/users/Nr90/orgs",
            "repos_url": "https://api.github.com/users/Nr90/repos",
            "events_url": "https://api.github.com/users/Nr90/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Nr90/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-27T08:42:15Z",
          "updated_at": "2016-08-27T08:42:15Z",
          "author_association": "NONE",
          "body": "Works when using Theano as backend, doesn't work with tensorflow.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/242905113/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/254919212",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-254919212",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 254919212,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDkxOTIxMg==",
          "user": {
            "login": "avital",
            "id": 37586,
            "node_id": "MDQ6VXNlcjM3NTg2",
            "avatar_url": "https://avatars.githubusercontent.com/u/37586?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/avital",
            "html_url": "https://github.com/avital",
            "followers_url": "https://api.github.com/users/avital/followers",
            "following_url": "https://api.github.com/users/avital/following{/other_user}",
            "gists_url": "https://api.github.com/users/avital/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/avital/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/avital/subscriptions",
            "organizations_url": "https://api.github.com/users/avital/orgs",
            "repos_url": "https://api.github.com/users/avital/repos",
            "events_url": "https://api.github.com/users/avital/events{/privacy}",
            "received_events_url": "https://api.github.com/users/avital/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-19T19:42:34Z",
          "updated_at": "2016-10-19T19:42:34Z",
          "author_association": "NONE",
          "body": "I had this problem when doing inference in a different thread than where I loaded my model. Here's how I fixed the problem:\n\nRight after loading or constructing your model, save the TensorFlow graph:\n\n``` py\ngraph = tf.get_default_graph()\n```\n\nIn the other thread (or perhaps in an asynchronous event handler), do:\n\n``` py\nglobal graph\nwith graph.as_default():\n    (... do inference here ...)\n```\n\nI learned about this from https://www.tensorflow.org/versions/r0.11/api_docs/python/framework.html#get_default_graph\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/254919212/reactions",
            "total_count": 642,
            "+1": 361,
            "-1": 6,
            "laugh": 42,
            "hooray": 96,
            "confused": 0,
            "heart": 118,
            "rocket": 17,
            "eyes": 2
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/258466010",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-258466010",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 258466010,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODQ2NjAxMA==",
          "user": {
            "login": "Walid-Ahmed",
            "id": 20994789,
            "node_id": "MDQ6VXNlcjIwOTk0Nzg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/20994789?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Walid-Ahmed",
            "html_url": "https://github.com/Walid-Ahmed",
            "followers_url": "https://api.github.com/users/Walid-Ahmed/followers",
            "following_url": "https://api.github.com/users/Walid-Ahmed/following{/other_user}",
            "gists_url": "https://api.github.com/users/Walid-Ahmed/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Walid-Ahmed/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Walid-Ahmed/subscriptions",
            "organizations_url": "https://api.github.com/users/Walid-Ahmed/orgs",
            "repos_url": "https://api.github.com/users/Walid-Ahmed/repos",
            "events_url": "https://api.github.com/users/Walid-Ahmed/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Walid-Ahmed/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-11-04T15:40:23Z",
          "updated_at": "2016-11-04T15:40:31Z",
          "author_association": "NONE",
          "body": "Thanks a lot.\nit worked for me.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/258466010/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/268022476",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-268022476",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 268022476,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODAyMjQ3Ng==",
          "user": {
            "login": "moinudeen",
            "id": 9163498,
            "node_id": "MDQ6VXNlcjkxNjM0OTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9163498?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/moinudeen",
            "html_url": "https://github.com/moinudeen",
            "followers_url": "https://api.github.com/users/moinudeen/followers",
            "following_url": "https://api.github.com/users/moinudeen/following{/other_user}",
            "gists_url": "https://api.github.com/users/moinudeen/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/moinudeen/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/moinudeen/subscriptions",
            "organizations_url": "https://api.github.com/users/moinudeen/orgs",
            "repos_url": "https://api.github.com/users/moinudeen/repos",
            "events_url": "https://api.github.com/users/moinudeen/events{/privacy}",
            "received_events_url": "https://api.github.com/users/moinudeen/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-12-19T17:17:17Z",
          "updated_at": "2016-12-19T17:17:17Z",
          "author_association": "NONE",
          "body": "Thanks so much! @avital  \r\nWorks like a charm! ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/268022476/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/269967788",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-269967788",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 269967788,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI2OTk2Nzc4OA==",
          "user": {
            "login": "nipe0324",
            "id": 2967009,
            "node_id": "MDQ6VXNlcjI5NjcwMDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2967009?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nipe0324",
            "html_url": "https://github.com/nipe0324",
            "followers_url": "https://api.github.com/users/nipe0324/followers",
            "following_url": "https://api.github.com/users/nipe0324/following{/other_user}",
            "gists_url": "https://api.github.com/users/nipe0324/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nipe0324/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nipe0324/subscriptions",
            "organizations_url": "https://api.github.com/users/nipe0324/orgs",
            "repos_url": "https://api.github.com/users/nipe0324/repos",
            "events_url": "https://api.github.com/users/nipe0324/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nipe0324/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-02T12:43:22Z",
          "updated_at": "2017-01-02T12:43:22Z",
          "author_association": "NONE",
          "body": "Thanks a lot! @avital  It worked.\r\nenv: keras with tensorflow on flask",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/269967788/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/287208269",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-287208269",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 287208269,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzIwODI2OQ==",
          "user": {
            "login": "grantwwoodford",
            "id": 3679372,
            "node_id": "MDQ6VXNlcjM2NzkzNzI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3679372?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/grantwwoodford",
            "html_url": "https://github.com/grantwwoodford",
            "followers_url": "https://api.github.com/users/grantwwoodford/followers",
            "following_url": "https://api.github.com/users/grantwwoodford/following{/other_user}",
            "gists_url": "https://api.github.com/users/grantwwoodford/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/grantwwoodford/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/grantwwoodford/subscriptions",
            "organizations_url": "https://api.github.com/users/grantwwoodford/orgs",
            "repos_url": "https://api.github.com/users/grantwwoodford/repos",
            "events_url": "https://api.github.com/users/grantwwoodford/events{/privacy}",
            "received_events_url": "https://api.github.com/users/grantwwoodford/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-16T22:18:46Z",
          "updated_at": "2017-03-16T22:18:46Z",
          "author_association": "NONE",
          "body": "Thank you @avital, that did the trick! This issue really should not be closed. This should be fixed by the Keras library.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/287208269/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290006730",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-290006730",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 290006730,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDAwNjczMA==",
          "user": {
            "login": "shashwat14",
            "id": 7594901,
            "node_id": "MDQ6VXNlcjc1OTQ5MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7594901?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shashwat14",
            "html_url": "https://github.com/shashwat14",
            "followers_url": "https://api.github.com/users/shashwat14/followers",
            "following_url": "https://api.github.com/users/shashwat14/following{/other_user}",
            "gists_url": "https://api.github.com/users/shashwat14/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shashwat14/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shashwat14/subscriptions",
            "organizations_url": "https://api.github.com/users/shashwat14/orgs",
            "repos_url": "https://api.github.com/users/shashwat14/repos",
            "events_url": "https://api.github.com/users/shashwat14/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shashwat14/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-29T07:28:40Z",
          "updated_at": "2017-03-29T07:28:40Z",
          "author_association": "NONE",
          "body": "You are savior! Thanks a lot. @avital ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290006730/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290754764",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-290754764",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 290754764,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDc1NDc2NA==",
          "user": {
            "login": "tlids",
            "id": 22512740,
            "node_id": "MDQ6VXNlcjIyNTEyNzQw",
            "avatar_url": "https://avatars.githubusercontent.com/u/22512740?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tlids",
            "html_url": "https://github.com/tlids",
            "followers_url": "https://api.github.com/users/tlids/followers",
            "following_url": "https://api.github.com/users/tlids/following{/other_user}",
            "gists_url": "https://api.github.com/users/tlids/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tlids/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tlids/subscriptions",
            "organizations_url": "https://api.github.com/users/tlids/orgs",
            "repos_url": "https://api.github.com/users/tlids/repos",
            "events_url": "https://api.github.com/users/tlids/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tlids/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-31T16:04:01Z",
          "updated_at": "2017-03-31T16:04:01Z",
          "author_association": "NONE",
          "body": "Hi all, I followed @avital codes but got 'AttributeError: __exit__' after the with statement, does anyone know how to deal with this? Thanks!! ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290754764/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/291163886",
          "html_url": "https://github.com/keras-team/keras/issues/2397#issuecomment-291163886",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2397",
          "id": 291163886,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5MTE2Mzg4Ng==",
          "user": {
            "login": "shengyuzhang",
            "id": 11599222,
            "node_id": "MDQ6VXNlcjExNTk5MjIy",
            "avatar_url": "https://avatars.githubusercontent.com/u/11599222?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shengyuzhang",
            "html_url": "https://github.com/shengyuzhang",
            "followers_url": "https://api.github.com/users/shengyuzhang/followers",
            "following_url": "https://api.github.com/users/shengyuzhang/following{/other_user}",
            "gists_url": "https://api.github.com/users/shengyuzhang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shengyuzhang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shengyuzhang/subscriptions",
            "organizations_url": "https://api.github.com/users/shengyuzhang/orgs",
            "repos_url": "https://api.github.com/users/shengyuzhang/repos",
            "events_url": "https://api.github.com/users/shengyuzhang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shengyuzhang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-04-03T14:41:19Z",
          "updated_at": "2017-04-03T14:41:19Z",
          "author_association": "NONE",
          "body": "Thanks a million, it works!!!!@avital",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/291163886/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/15419",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/15419/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/15419/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/15419/events",
      "html_url": "https://github.com/keras-team/keras/pull/15419",
      "id": 1007027363,
      "node_id": "PR_kwDOAffHH84sQ_Tf",
      "number": 15419,
      "title": "Adding RegNets to tf.keras.applications",
      "user": {
        "login": "AdityaKane2001",
        "id": 64411306,
        "node_id": "MDQ6VXNlcjY0NDExMzA2",
        "avatar_url": "https://avatars.githubusercontent.com/u/64411306?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/AdityaKane2001",
        "html_url": "https://github.com/AdityaKane2001",
        "followers_url": "https://api.github.com/users/AdityaKane2001/followers",
        "following_url": "https://api.github.com/users/AdityaKane2001/following{/other_user}",
        "gists_url": "https://api.github.com/users/AdityaKane2001/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/AdityaKane2001/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/AdityaKane2001/subscriptions",
        "organizations_url": "https://api.github.com/users/AdityaKane2001/orgs",
        "repos_url": "https://api.github.com/users/AdityaKane2001/repos",
        "events_url": "https://api.github.com/users/AdityaKane2001/events{/privacy}",
        "received_events_url": "https://api.github.com/users/AdityaKane2001/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 2793770320,
          "node_id": "MDU6TGFiZWwyNzkzNzcwMzIw",
          "url": "https://api.github.com/repos/keras-team/keras/labels/cla:%20yes",
          "name": "cla: yes",
          "color": "135094",
          "default": false,
          "description": ""
        },
        {
          "id": 3105964593,
          "node_id": "MDU6TGFiZWwzMTA1OTY0NTkz",
          "url": "https://api.github.com/repos/keras-team/keras/labels/keras-team-review-pending",
          "name": "keras-team-review-pending",
          "color": "A30F25",
          "default": false,
          "description": "Pending review by a Keras team member."
        },
        {
          "id": 3294894538,
          "node_id": "MDU6TGFiZWwzMjk0ODk0NTM4",
          "url": "https://api.github.com/repos/keras-team/keras/labels/size:XL",
          "name": "size:XL",
          "color": "ededed",
          "default": false,
          "description": null
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": {
        "login": "gbaned",
        "id": 48215717,
        "node_id": "MDQ6VXNlcjQ4MjE1NzE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/48215717?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gbaned",
        "html_url": "https://github.com/gbaned",
        "followers_url": "https://api.github.com/users/gbaned/followers",
        "following_url": "https://api.github.com/users/gbaned/following{/other_user}",
        "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions",
        "organizations_url": "https://api.github.com/users/gbaned/orgs",
        "repos_url": "https://api.github.com/users/gbaned/repos",
        "events_url": "https://api.github.com/users/gbaned/events{/privacy}",
        "received_events_url": "https://api.github.com/users/gbaned/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "assignees": [
        {
          "login": "gbaned",
          "id": 48215717,
          "node_id": "MDQ6VXNlcjQ4MjE1NzE3",
          "avatar_url": "https://avatars.githubusercontent.com/u/48215717?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/gbaned",
          "html_url": "https://github.com/gbaned",
          "followers_url": "https://api.github.com/users/gbaned/followers",
          "following_url": "https://api.github.com/users/gbaned/following{/other_user}",
          "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions",
          "organizations_url": "https://api.github.com/users/gbaned/orgs",
          "repos_url": "https://api.github.com/users/gbaned/repos",
          "events_url": "https://api.github.com/users/gbaned/events{/privacy}",
          "received_events_url": "https://api.github.com/users/gbaned/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        }
      ],
      "milestone": null,
      "comments": 35,
      "created_at": "2021-09-25T08:54:39Z",
      "updated_at": "2021-11-25T03:55:33Z",
      "closed_at": "2021-11-25T03:55:32Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/15419",
        "html_url": "https://github.com/keras-team/keras/pull/15419",
        "diff_url": "https://github.com/keras-team/keras/pull/15419.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/15419.patch",
        "merged_at": null
      },
      "body": "See #15240. Once the module structure is fixed, I'll train the models asap. \r\n\r\nReferences:\r\n  - [Designing Network Design Spaces](https://arxiv.org/abs/2003.13678) (CVPR 2020)\r\n  - [Fast and Accurate Model Scaling](https://arxiv.org/abs/2103.06877)  (CVPR 2021)\r\n\r\nImportant code that needs attention is from line 277 to line 683. Rest is configuration and variant instantiation. \r\n\r\n\r\n/cc @sayakpaul @fchollet \r\n/auto Closes #15240 ",
      "closed_by": {
        "login": "AdityaKane2001",
        "id": 64411306,
        "node_id": "MDQ6VXNlcjY0NDExMzA2",
        "avatar_url": "https://avatars.githubusercontent.com/u/64411306?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/AdityaKane2001",
        "html_url": "https://github.com/AdityaKane2001",
        "followers_url": "https://api.github.com/users/AdityaKane2001/followers",
        "following_url": "https://api.github.com/users/AdityaKane2001/following{/other_user}",
        "gists_url": "https://api.github.com/users/AdityaKane2001/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/AdityaKane2001/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/AdityaKane2001/subscriptions",
        "organizations_url": "https://api.github.com/users/AdityaKane2001/orgs",
        "repos_url": "https://api.github.com/users/AdityaKane2001/repos",
        "events_url": "https://api.github.com/users/AdityaKane2001/events{/privacy}",
        "received_events_url": "https://api.github.com/users/AdityaKane2001/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/15419/reactions",
        "total_count": 2,
        "+1": 2,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/15419/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/927227868",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-927227868",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 927227868,
          "node_id": "IC_kwDOAffHH843RF_c",
          "user": {
            "login": "AdityaKane2001",
            "id": 64411306,
            "node_id": "MDQ6VXNlcjY0NDExMzA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/64411306?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AdityaKane2001",
            "html_url": "https://github.com/AdityaKane2001",
            "followers_url": "https://api.github.com/users/AdityaKane2001/followers",
            "following_url": "https://api.github.com/users/AdityaKane2001/following{/other_user}",
            "gists_url": "https://api.github.com/users/AdityaKane2001/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AdityaKane2001/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AdityaKane2001/subscriptions",
            "organizations_url": "https://api.github.com/users/AdityaKane2001/orgs",
            "repos_url": "https://api.github.com/users/AdityaKane2001/repos",
            "events_url": "https://api.github.com/users/AdityaKane2001/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AdityaKane2001/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-26T04:16:55Z",
          "updated_at": "2021-09-26T04:16:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet \r\n\r\nI don't have the checkpoints as of now. As I was saying in #15240, it'd be great if you gave a concrete green signal. I'll consider this as your good to go and start training the models.\r\n\r\nAbout the performance, I had trained 4 variants of RegNetY [earlier](https://github.com/AdityaKane2001/regnety). Their accuracies didn't match the ones in the paper, we were off by 2-3%, even by using better optimizers and training setup than in the paper:\r\n\r\n| **Model** | **Our accuracy** | **Accuracy from the paper** |\r\n|-----------|------------------|-----------------------------|\r\n| RegNetY 200MF     | 67.54%           | 70.3%                       |\r\n| RegNetY 400MF     | 70.19%           | 74.1%                       |\r\n| RegNetY 600MF     | 73.18%           | 75.5%                       |\r\n| RegNetY 800MF     | 73.94%           | 76.3%                       |\r\n\r\n/cc @sayakpaul ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/927227868/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/927233500",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-927233500",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 927233500,
          "node_id": "IC_kwDOAffHH843RHXc",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-26T05:13:42Z",
          "updated_at": "2021-09-26T05:13:42Z",
          "author_association": "COLLABORATOR",
          "body": "> it'd be great if you gave a concrete green signal. I'll consider this as your good to go and start training the models.\r\n\r\nI do believe we should merge it. If we can improve the accuracies you get, that's great, but if we can't, they're still good enough to merge. We'll report the actual accuracies (not that of the paper) in our own table.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/927233500/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/927236789",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-927236789",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 927236789,
          "node_id": "IC_kwDOAffHH843RIK1",
          "user": {
            "login": "AdityaKane2001",
            "id": 64411306,
            "node_id": "MDQ6VXNlcjY0NDExMzA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/64411306?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AdityaKane2001",
            "html_url": "https://github.com/AdityaKane2001",
            "followers_url": "https://api.github.com/users/AdityaKane2001/followers",
            "following_url": "https://api.github.com/users/AdityaKane2001/following{/other_user}",
            "gists_url": "https://api.github.com/users/AdityaKane2001/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AdityaKane2001/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AdityaKane2001/subscriptions",
            "organizations_url": "https://api.github.com/users/AdityaKane2001/orgs",
            "repos_url": "https://api.github.com/users/AdityaKane2001/repos",
            "events_url": "https://api.github.com/users/AdityaKane2001/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AdityaKane2001/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-26T05:40:03Z",
          "updated_at": "2021-09-26T05:40:03Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet \r\n\r\nThanks for the clarification. This is really encouraging for me. I will try to get the best accuracy as I can. \r\n\r\nMyself and @sayakpaul were discussing about converting PyTorch weights to TF weights in case the training doesn't turn out well (as a last resort). What do you think about that?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/927236789/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/927237525",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-927237525",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 927237525,
          "node_id": "IC_kwDOAffHH843RIWV",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-26T05:44:09Z",
          "updated_at": "2021-09-26T05:44:09Z",
          "author_association": "COLLABORATOR",
          "body": "> Myself and @sayakpaul were discussing about converting PyTorch weights to TF weights in case the training doesn't turn out well (as a last resort). What do you think about that?\r\n\r\nWeight conversion is generally straightforward and easier than retraining. Just make sure you do it layer by layer and check the output after each layer so you can spot mismatches and know which layer they come from.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/927237525/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/927238108",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-927238108",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 927238108,
          "node_id": "IC_kwDOAffHH843RIfc",
          "user": {
            "login": "AdityaKane2001",
            "id": 64411306,
            "node_id": "MDQ6VXNlcjY0NDExMzA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/64411306?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AdityaKane2001",
            "html_url": "https://github.com/AdityaKane2001",
            "followers_url": "https://api.github.com/users/AdityaKane2001/followers",
            "following_url": "https://api.github.com/users/AdityaKane2001/following{/other_user}",
            "gists_url": "https://api.github.com/users/AdityaKane2001/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AdityaKane2001/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AdityaKane2001/subscriptions",
            "organizations_url": "https://api.github.com/users/AdityaKane2001/orgs",
            "repos_url": "https://api.github.com/users/AdityaKane2001/repos",
            "events_url": "https://api.github.com/users/AdityaKane2001/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AdityaKane2001/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-26T05:48:29Z",
          "updated_at": "2021-09-26T08:22:42Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet \r\n\r\nAre you saying we should go for weight conversion rather than training? \r\n\r\nSome people have reported lesser accuracies (timm and one other implementation) for RegNets. Personally I think training models is better than just porting over the weights. We can quantify the discrepancy if any. Also the point of RegNets as far as I understand is that they are efficient and scalable. What do you think?\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/927238108/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/927523433",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-927523433",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 927523433,
          "node_id": "IC_kwDOAffHH843SOJp",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-27T04:35:33Z",
          "updated_at": "2021-09-27T04:35:33Z",
          "author_association": "COLLABORATOR",
          "body": "> Personally I think training models is better than just porting over the weights. We can quantify the discrepancy if any.\r\n\r\nI agree that training the models from scratch should be the default strategy here. As long as the accuracy discrepancy is reasonable (1-2 percentage points) it seems completely fine.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/927523433/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/927523991",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-927523991",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 927523991,
          "node_id": "IC_kwDOAffHH843SOSX",
          "user": {
            "login": "AdityaKane2001",
            "id": 64411306,
            "node_id": "MDQ6VXNlcjY0NDExMzA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/64411306?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AdityaKane2001",
            "html_url": "https://github.com/AdityaKane2001",
            "followers_url": "https://api.github.com/users/AdityaKane2001/followers",
            "following_url": "https://api.github.com/users/AdityaKane2001/following{/other_user}",
            "gists_url": "https://api.github.com/users/AdityaKane2001/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AdityaKane2001/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AdityaKane2001/subscriptions",
            "organizations_url": "https://api.github.com/users/AdityaKane2001/orgs",
            "repos_url": "https://api.github.com/users/AdityaKane2001/repos",
            "events_url": "https://api.github.com/users/AdityaKane2001/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AdityaKane2001/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-27T04:37:06Z",
          "updated_at": "2021-09-27T04:38:19Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet \r\n\r\nUnderstood. Thanks for the clarification. \r\n\r\nI've made the requested changes. Please review again. If there aren't any changes I'll start training soon.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/927523991/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/927531157",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-927531157",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 927531157,
          "node_id": "IC_kwDOAffHH843SQCV",
          "user": {
            "login": "sayakpaul",
            "id": 22957388,
            "node_id": "MDQ6VXNlcjIyOTU3Mzg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/22957388?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sayakpaul",
            "html_url": "https://github.com/sayakpaul",
            "followers_url": "https://api.github.com/users/sayakpaul/followers",
            "following_url": "https://api.github.com/users/sayakpaul/following{/other_user}",
            "gists_url": "https://api.github.com/users/sayakpaul/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sayakpaul/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sayakpaul/subscriptions",
            "organizations_url": "https://api.github.com/users/sayakpaul/orgs",
            "repos_url": "https://api.github.com/users/sayakpaul/repos",
            "events_url": "https://api.github.com/users/sayakpaul/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sayakpaul/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-27T05:00:48Z",
          "updated_at": "2021-09-27T05:00:48Z",
          "author_association": "CONTRIBUTOR",
          "body": "> but I'd appreciate a second pair of eyes as well.\r\n\r\n@fchollet I can do it today if it's okay.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/927531157/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/927776553",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-927776553",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 927776553,
          "node_id": "IC_kwDOAffHH843TL8p",
          "user": {
            "login": "AdityaKane2001",
            "id": 64411306,
            "node_id": "MDQ6VXNlcjY0NDExMzA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/64411306?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AdityaKane2001",
            "html_url": "https://github.com/AdityaKane2001",
            "followers_url": "https://api.github.com/users/AdityaKane2001/followers",
            "following_url": "https://api.github.com/users/AdityaKane2001/following{/other_user}",
            "gists_url": "https://api.github.com/users/AdityaKane2001/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AdityaKane2001/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AdityaKane2001/subscriptions",
            "organizations_url": "https://api.github.com/users/AdityaKane2001/orgs",
            "repos_url": "https://api.github.com/users/AdityaKane2001/repos",
            "events_url": "https://api.github.com/users/AdityaKane2001/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AdityaKane2001/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-27T11:20:51Z",
          "updated_at": "2021-09-27T11:20:51Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet @sayakpaul \r\n\r\nI've made the requested changes. Just had a couple of questions, posted them in the comments. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/927776553/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/928118225",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-928118225",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 928118225,
          "node_id": "IC_kwDOAffHH843UfXR",
          "user": {
            "login": "AdityaKane2001",
            "id": 64411306,
            "node_id": "MDQ6VXNlcjY0NDExMzA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/64411306?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AdityaKane2001",
            "html_url": "https://github.com/AdityaKane2001",
            "followers_url": "https://api.github.com/users/AdityaKane2001/followers",
            "following_url": "https://api.github.com/users/AdityaKane2001/following{/other_user}",
            "gists_url": "https://api.github.com/users/AdityaKane2001/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AdityaKane2001/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AdityaKane2001/subscriptions",
            "organizations_url": "https://api.github.com/users/AdityaKane2001/orgs",
            "repos_url": "https://api.github.com/users/AdityaKane2001/repos",
            "events_url": "https://api.github.com/users/AdityaKane2001/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AdityaKane2001/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-27T17:58:24Z",
          "updated_at": "2021-09-28T03:51:47Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet \r\n\r\nMade requested changes. Kept rescaling and normalization as in [efficentnet.py](https://github.com/keras-team/keras/blob/master/keras/applications/efficientnet.py#L319-L322). Added `backend.get_uid` for name(s). \r\n\r\nI'll add the unit tests today. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/928118225/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/929072882",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-929072882",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 929072882,
          "node_id": "IC_kwDOAffHH843YIby",
          "user": {
            "login": "AdityaKane2001",
            "id": 64411306,
            "node_id": "MDQ6VXNlcjY0NDExMzA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/64411306?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AdityaKane2001",
            "html_url": "https://github.com/AdityaKane2001",
            "followers_url": "https://api.github.com/users/AdityaKane2001/followers",
            "following_url": "https://api.github.com/users/AdityaKane2001/following{/other_user}",
            "gists_url": "https://api.github.com/users/AdityaKane2001/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AdityaKane2001/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AdityaKane2001/subscriptions",
            "organizations_url": "https://api.github.com/users/AdityaKane2001/orgs",
            "repos_url": "https://api.github.com/users/AdityaKane2001/repos",
            "events_url": "https://api.github.com/users/AdityaKane2001/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AdityaKane2001/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-28T10:45:35Z",
          "updated_at": "2021-09-28T10:45:35Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet \r\n\r\nI am now trying to build Keras from source and import the models. However, I'm facing a proto import error. Perhaps there's something wrong in my build procedure? Please take a look.\r\n\r\nMy procedure:\r\n1. Clone the repo with relevant branch and install bazel. \r\n2. Add regnet.py in `keras.applications.BUILD` file\r\n3. `bazel build (...)`\r\n4. `/bazel-bin/keras/tools/pip_package/build_pip_package (...)`\r\n5. `pip install keras-2.7.0-py2.py3-none-any.whl`\r\n6. Try importing:\r\n```python\r\nimport tensorflow as tf\r\nmodel = tf.keras.applications.RegNetX002()\r\n```\r\n\r\nMy error:\r\n```\r\n      1 import tensorflow as tf\r\n----> 2 tf.keras.applications.RegNetX002()\r\n\r\n30 frames\r\n/content/keras/keras/saving/saved_model/load.py in <module>()\r\n     23 from keras.engine import input_spec\r\n     24 from keras.optimizer_v2 import optimizer_v2\r\n---> 25 from keras.protobuf import saved_metadata_pb2\r\n     26 from keras.protobuf import versions_pb2\r\n     27 from keras.saving import saving_utils\r\n\r\nImportError: cannot import name 'saved_metadata_pb2' from 'keras.protobuf' (unknown location)\r\n\r\n# Note that only .proto files are not getting imported, rest all files are being successfully imported.\r\n```\r\nGist [here](https://colab.research.google.com/gist/AdityaKane2001/7b0f9229cb4e933e71ed23726466efd2/keras-build-test-notebook.ipynb).",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/929072882/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/929505451",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-929505451",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 929505451,
          "node_id": "IC_kwDOAffHH843ZyCr",
          "user": {
            "login": "qlzh727",
            "id": 5118881,
            "node_id": "MDQ6VXNlcjUxMTg4ODE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5118881?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qlzh727",
            "html_url": "https://github.com/qlzh727",
            "followers_url": "https://api.github.com/users/qlzh727/followers",
            "following_url": "https://api.github.com/users/qlzh727/following{/other_user}",
            "gists_url": "https://api.github.com/users/qlzh727/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qlzh727/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qlzh727/subscriptions",
            "organizations_url": "https://api.github.com/users/qlzh727/orgs",
            "repos_url": "https://api.github.com/users/qlzh727/repos",
            "events_url": "https://api.github.com/users/qlzh727/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qlzh727/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-28T18:14:02Z",
          "updated_at": "2021-09-28T18:14:02Z",
          "author_association": "MEMBER",
          "body": "I think it is highly likely related mix usage of local keras workspace and pip env.\r\n\r\nNote that when run python within the directory of keras git repo, \"import keras\" will try to load the code from the local workspace, instead of the installed PIP (since the local directory take high priority when loading). The protobuf py file is available in the PIP package, but not workspace (since it is generated).\r\n\r\nCould you try change to a different directory when you run \"import tensorflow as tf; tf.keras.applications. RegNetX002()\" and see if it works?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/929505451/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/929531025",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-929531025",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 929531025,
          "node_id": "IC_kwDOAffHH843Z4SR",
          "user": {
            "login": "AdityaKane2001",
            "id": 64411306,
            "node_id": "MDQ6VXNlcjY0NDExMzA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/64411306?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AdityaKane2001",
            "html_url": "https://github.com/AdityaKane2001",
            "followers_url": "https://api.github.com/users/AdityaKane2001/followers",
            "following_url": "https://api.github.com/users/AdityaKane2001/following{/other_user}",
            "gists_url": "https://api.github.com/users/AdityaKane2001/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AdityaKane2001/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AdityaKane2001/subscriptions",
            "organizations_url": "https://api.github.com/users/AdityaKane2001/orgs",
            "repos_url": "https://api.github.com/users/AdityaKane2001/repos",
            "events_url": "https://api.github.com/users/AdityaKane2001/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AdityaKane2001/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-28T18:49:31Z",
          "updated_at": "2021-09-29T06:33:31Z",
          "author_association": "CONTRIBUTOR",
          "body": "@qlzh727 \r\n\r\nThanks for the advice. The error is no more. I'm still not able to import the models, but I'll try this on a GCE instance and get back to you. \r\n\r\nUPDATE:  I am still facing the following error:\r\n\r\n```\r\n# import tensorflow as tf\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-6-cc8597f40d82> in <module>()\r\n      1 get_ipython().magic('cd /content/')\r\n      2 import tensorflow as tf\r\n----> 3 tf.keras.applications.RegNetX002\r\n\r\nAttributeError: module 'keras.api._v2.keras.applications' has no attribute 'RegNetX002'`\r\n```\r\n```\r\n# import keras\r\n>>> keras.applications.RegNetX002\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nAttributeError: module 'keras' has no attribute 'applications'\r\n\r\n>>> os.listdir(\"/home/adityakane1/keras_env/lib/python3.7/site-packages/keras/applications/\")\r\n['mobilenet.py', 'mobilenet_v3.py', 'vgg19.py', '__pycache__', 'vgg16.py', 'resnet.py', 'xception.py', 'inception_v3.py', 'imagenet_utils.py', '__init__.py', 'mobilenet_v2.py', 'inception_resnet_v\r\n2.py', \r\n'regnet.py',  # File is present\r\n'densenet.py', 'resnet_v2.py', 'nasnet.py', 'efficientnet.py']\r\n```\r\n\r\nI've added @keras.export wherever required. Do I need to add regnet.py somewhere else other than `keras.applications.BUILD`?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/929531025/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/929622470",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-929622470",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 929622470,
          "node_id": "IC_kwDOAffHH843aOnG",
          "user": {
            "login": "innat",
            "id": 17668390,
            "node_id": "MDQ6VXNlcjE3NjY4Mzkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/17668390?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/innat",
            "html_url": "https://github.com/innat",
            "followers_url": "https://api.github.com/users/innat/followers",
            "following_url": "https://api.github.com/users/innat/following{/other_user}",
            "gists_url": "https://api.github.com/users/innat/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/innat/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/innat/subscriptions",
            "organizations_url": "https://api.github.com/users/innat/orgs",
            "repos_url": "https://api.github.com/users/innat/repos",
            "events_url": "https://api.github.com/users/innat/events{/privacy}",
            "received_events_url": "https://api.github.com/users/innat/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-28T21:02:14Z",
          "updated_at": "2021-09-28T21:02:14Z",
          "author_association": "NONE",
          "body": "@AdityaKane2001 \r\n> Kept rescaling and normalization as in [efficentnet.py](https://github.com/keras-team/keras/blob/master/keras/applications/efficientnet.py#L319-L322). \r\n\r\nI think it's better to give options to users to choose built-in processing or custom processing. The current preprocessing logic of efficientnet needs to be [fixed.](https://github.com/keras-team/keras/pull/14823/files#diff-5a39ddd8e936108a4a37b6a6ef354d1fc96de947f1601ec93e0c59dc89a18346R328) \r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/929622470/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/929804998",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-929804998",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 929804998,
          "node_id": "IC_kwDOAffHH843a7LG",
          "user": {
            "login": "AdityaKane2001",
            "id": 64411306,
            "node_id": "MDQ6VXNlcjY0NDExMzA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/64411306?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AdityaKane2001",
            "html_url": "https://github.com/AdityaKane2001",
            "followers_url": "https://api.github.com/users/AdityaKane2001/followers",
            "following_url": "https://api.github.com/users/AdityaKane2001/following{/other_user}",
            "gists_url": "https://api.github.com/users/AdityaKane2001/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AdityaKane2001/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AdityaKane2001/subscriptions",
            "organizations_url": "https://api.github.com/users/AdityaKane2001/orgs",
            "repos_url": "https://api.github.com/users/AdityaKane2001/repos",
            "events_url": "https://api.github.com/users/AdityaKane2001/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AdityaKane2001/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-29T03:44:21Z",
          "updated_at": "2021-09-29T03:44:21Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet @qlzh727 \r\n\r\nRegarding preprocessing built into the model. As in #14823, the preprocessing is updated to just keep rescaling. In case of RegNets, the official implementation rescales to [0,1] and normalizes to Imagenet mean and std. \r\n\r\nShould we include both Rescaling and Normalization inside the model? \r\n\r\nIn my opinion, it is okay to keep Rescaling inside but I'm not sure about Normalization. As pointed out by @innat there might be some cases where users may want to use some custom preprocessing. How would Normalization play with that? ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/929804998/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/930369974",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-930369974",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 930369974,
          "node_id": "IC_kwDOAffHH843dFG2",
          "user": {
            "login": "qlzh727",
            "id": 5118881,
            "node_id": "MDQ6VXNlcjUxMTg4ODE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5118881?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qlzh727",
            "html_url": "https://github.com/qlzh727",
            "followers_url": "https://api.github.com/users/qlzh727/followers",
            "following_url": "https://api.github.com/users/qlzh727/following{/other_user}",
            "gists_url": "https://api.github.com/users/qlzh727/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qlzh727/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qlzh727/subscriptions",
            "organizations_url": "https://api.github.com/users/qlzh727/orgs",
            "repos_url": "https://api.github.com/users/qlzh727/repos",
            "events_url": "https://api.github.com/users/qlzh727/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qlzh727/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-29T17:11:21Z",
          "updated_at": "2021-09-29T17:11:21Z",
          "author_association": "MEMBER",
          "body": "> @qlzh727\r\n> \r\n> Thanks for the advice. The error is no more. I'm still not able to import the models, but I'll try this on a GCE instance and get back to you.\r\n> \r\n> UPDATE: I am still facing the following error:\r\n> \r\n> ```\r\n> # import tensorflow as tf\r\n> AttributeError                            Traceback (most recent call last)\r\n> <ipython-input-6-cc8597f40d82> in <module>()\r\n>       1 get_ipython().magic('cd /content/')\r\n>       2 import tensorflow as tf\r\n> ----> 3 tf.keras.applications.RegNetX002\r\n> \r\n> AttributeError: module 'keras.api._v2.keras.applications' has no attribute 'RegNetX002'`\r\n> ```\r\n> \r\n> ```\r\n> # import keras\r\n> >>> keras.applications.RegNetX002\r\n> Traceback (most recent call last):\r\n>   File \"<stdin>\", line 1, in <module>\r\n> AttributeError: module 'keras' has no attribute 'applications'\r\n> \r\n> >>> os.listdir(\"/home/adityakane1/keras_env/lib/python3.7/site-packages/keras/applications/\")\r\n> ['mobilenet.py', 'mobilenet_v3.py', 'vgg19.py', '__pycache__', 'vgg16.py', 'resnet.py', 'xception.py', 'inception_v3.py', 'imagenet_utils.py', '__init__.py', 'mobilenet_v2.py', 'inception_resnet_v\r\n> 2.py', \r\n> 'regnet.py',  # File is present\r\n> 'densenet.py', 'resnet_v2.py', 'nasnet.py', 'efficientnet.py']\r\n> ```\r\n> \r\n> I've added @keras.export wherever required. Do I need to add regnet.py somewhere else other than `keras.applications.BUILD`?\r\n\r\nCould u check the content under keras/api/keras/applications/__init__.py? The new API endpoint will be populated there if it is exported correctly. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/930369974/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/930377224",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-930377224",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 930377224,
          "node_id": "IC_kwDOAffHH843dG4I",
          "user": {
            "login": "AdityaKane2001",
            "id": 64411306,
            "node_id": "MDQ6VXNlcjY0NDExMzA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/64411306?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AdityaKane2001",
            "html_url": "https://github.com/AdityaKane2001",
            "followers_url": "https://api.github.com/users/AdityaKane2001/followers",
            "following_url": "https://api.github.com/users/AdityaKane2001/following{/other_user}",
            "gists_url": "https://api.github.com/users/AdityaKane2001/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AdityaKane2001/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AdityaKane2001/subscriptions",
            "organizations_url": "https://api.github.com/users/AdityaKane2001/orgs",
            "repos_url": "https://api.github.com/users/AdityaKane2001/repos",
            "events_url": "https://api.github.com/users/AdityaKane2001/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AdityaKane2001/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-29T17:20:26Z",
          "updated_at": "2021-09-29T17:30:04Z",
          "author_association": "CONTRIBUTOR",
          "body": "@qlzh727 \r\n\r\nThere is no `regnet.py` file in `~/keras_env/lib/python3.7/site-packages/keras/api/_v2/keras/applications/`. Is it related to the golden pbtxt files? Do I have to append my module's details manually?\r\n\r\nI am getting the following output:\r\n\r\n```\r\n# ~/keras_env/lib/python3.7/site-packages/keras/api/__init__.py\r\n\r\n(keras_env) adityakane1@keras-builder-vm:~/keras_env/lib/python3.7/site-packages/keras/api$ cat __init__.py\r\n# This file is MACHINE GENERATED! Do not edit.\r\n# Generated by: tensorflow/python/tools/api/generator/create_python_api.py script.\r\n\"\"\"Public API for tf. namespace.\r\n\"\"\"\r\n\r\nfrom __future__ import print_function as _print_function\r\n\r\nimport sys as _sys\r\n\r\nfrom keras.api import keras\r\n\r\ndel _print_function\r\n\r\nfrom tensorflow.python.util import module_wrapper as _module_wrapper\r\n\r\nif not isinstance(_sys.modules[__name__], _module_wrapper.TFModuleWrapper):\r\n  _sys.modules[__name__] = _module_wrapper.TFModuleWrapper(\r\n      _sys.modules[__name__], \"\", public_apis=None, deprecation=True,\r\n      has_lite=False)\r\n```\r\n\r\nand \r\n\r\n```\r\n#~/keras_env/lib/python3.7/site-packages/keras/api/_v2/__init__.py\r\n\r\n\r\n(keras_env) adityakane1@keras-builder-vm:~/keras_env/lib/python3.7/site-packages/keras/api/_v2$ cat __init__.py\r\n# This file is MACHINE GENERATED! Do not edit.\r\n# Generated by: tensorflow/python/tools/api/generator/create_python_api.py script.\r\n\"\"\"Public API for tf. namespace.\r\n\"\"\"\r\n\r\nfrom __future__ import print_function as _print_function\r\n\r\nimport sys as _sys\r\n\r\nfrom keras.api._v2 import keras\r\n\r\ndel _print_function\r\n```\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/930377224/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/930407925",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-930407925",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 930407925,
          "node_id": "IC_kwDOAffHH843dOX1",
          "user": {
            "login": "qlzh727",
            "id": 5118881,
            "node_id": "MDQ6VXNlcjUxMTg4ODE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5118881?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qlzh727",
            "html_url": "https://github.com/qlzh727",
            "followers_url": "https://api.github.com/users/qlzh727/followers",
            "following_url": "https://api.github.com/users/qlzh727/following{/other_user}",
            "gists_url": "https://api.github.com/users/qlzh727/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qlzh727/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qlzh727/subscriptions",
            "organizations_url": "https://api.github.com/users/qlzh727/orgs",
            "repos_url": "https://api.github.com/users/qlzh727/repos",
            "events_url": "https://api.github.com/users/qlzh727/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qlzh727/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-29T17:51:31Z",
          "updated_at": "2021-09-29T17:51:31Z",
          "author_association": "MEMBER",
          "body": "> @qlzh727\r\n> \r\n> There is no `regnet.py` file in `~/keras_env/lib/python3.7/site-packages/keras/api/_v2/keras/applications/`. Is it related to the golden pbtxt files? Do I have to append my module's details manually?\r\n> \r\n> I am getting the following output:\r\n> \r\n> ```\r\n> # ~/keras_env/lib/python3.7/site-packages/keras/api/__init__.py\r\n> \r\n> (keras_env) adityakane1@keras-builder-vm:~/keras_env/lib/python3.7/site-packages/keras/api$ cat __init__.py\r\n> # This file is MACHINE GENERATED! Do not edit.\r\n> # Generated by: tensorflow/python/tools/api/generator/create_python_api.py script.\r\n> \"\"\"Public API for tf. namespace.\r\n> \"\"\"\r\n> \r\n> from __future__ import print_function as _print_function\r\n> \r\n> import sys as _sys\r\n> \r\n> from keras.api import keras\r\n> \r\n> del _print_function\r\n> \r\n> from tensorflow.python.util import module_wrapper as _module_wrapper\r\n> \r\n> if not isinstance(_sys.modules[__name__], _module_wrapper.TFModuleWrapper):\r\n>   _sys.modules[__name__] = _module_wrapper.TFModuleWrapper(\r\n>       _sys.modules[__name__], \"\", public_apis=None, deprecation=True,\r\n>       has_lite=False)\r\n> ```\r\n> \r\n> and\r\n> \r\n> ```\r\n> #~/keras_env/lib/python3.7/site-packages/keras/api/_v2/__init__.py\r\n> \r\n> \r\n> (keras_env) adityakane1@keras-builder-vm:~/keras_env/lib/python3.7/site-packages/keras/api/_v2$ cat __init__.py\r\n> # This file is MACHINE GENERATED! Do not edit.\r\n> # Generated by: tensorflow/python/tools/api/generator/create_python_api.py script.\r\n> \"\"\"Public API for tf. namespace.\r\n> \"\"\"\r\n> \r\n> from __future__ import print_function as _print_function\r\n> \r\n> import sys as _sys\r\n> \r\n> from keras.api._v2 import keras\r\n> \r\n> del _print_function\r\n> ```\r\n\r\ni would like to see the content of keras_env/lib/python3.7/site-packages/keras/api/_v2/keras/applications/__init__.py, and see if it contains any information about your new exported API. The api directory is only used to populate the __init__ files.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/930407925/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/930409884",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-930409884",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 930409884,
          "node_id": "IC_kwDOAffHH843dO2c",
          "user": {
            "login": "AdityaKane2001",
            "id": 64411306,
            "node_id": "MDQ6VXNlcjY0NDExMzA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/64411306?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AdityaKane2001",
            "html_url": "https://github.com/AdityaKane2001",
            "followers_url": "https://api.github.com/users/AdityaKane2001/followers",
            "following_url": "https://api.github.com/users/AdityaKane2001/following{/other_user}",
            "gists_url": "https://api.github.com/users/AdityaKane2001/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AdityaKane2001/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AdityaKane2001/subscriptions",
            "organizations_url": "https://api.github.com/users/AdityaKane2001/orgs",
            "repos_url": "https://api.github.com/users/AdityaKane2001/repos",
            "events_url": "https://api.github.com/users/AdityaKane2001/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AdityaKane2001/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-29T17:54:06Z",
          "updated_at": "2021-09-29T17:54:25Z",
          "author_association": "CONTRIBUTOR",
          "body": "@qlzh727 \r\n\r\nThis is the output of the file you mentioned. No the API endpoint is not created.\r\n\r\n```\r\nfrom __future__ import print_function as _print_function\r\n\r\nimport sys as _sys\r\n\r\nfrom keras.api._v2.keras.applications import densenet\r\nfrom keras.api._v2.keras.applications import efficientnet\r\nfrom keras.api._v2.keras.applications import imagenet_utils\r\nfrom keras.api._v2.keras.applications import inception_resnet_v2\r\nfrom keras.api._v2.keras.applications import inception_v3\r\nfrom keras.api._v2.keras.applications import mobilenet\r\nfrom keras.api._v2.keras.applications import mobilenet_v2\r\nfrom keras.api._v2.keras.applications import mobilenet_v3\r\nfrom keras.api._v2.keras.applications import nasnet\r\nfrom keras.api._v2.keras.applications import resnet\r\nfrom keras.api._v2.keras.applications import resnet50\r\nfrom keras.api._v2.keras.applications import resnet_v2\r\nfrom keras.api._v2.keras.applications import vgg16\r\nfrom keras.api._v2.keras.applications import vgg19\r\nfrom keras.api._v2.keras.applications import xception\r\nfrom keras.applications.densenet import DenseNet121\r\nfrom keras.applications.densenet import DenseNet169\r\nfrom keras.applications.densenet import DenseNet201\r\nfrom keras.applications.efficientnet import EfficientNetB0\r\nfrom keras.applications.efficientnet import EfficientNetB1\r\nfrom keras.applications.efficientnet import EfficientNetB2\r\nfrom keras.applications.efficientnet import EfficientNetB3\r\nfrom keras.applications.efficientnet import EfficientNetB4\r\nfrom keras.applications.efficientnet import EfficientNetB5\r\nfrom keras.applications.efficientnet import EfficientNetB6\r\nfrom keras.applications.efficientnet import EfficientNetB7\r\nfrom keras.applications.inception_resnet_v2 import InceptionResNetV2\r\nfrom keras.applications.inception_v3 import InceptionV3\r\nfrom keras.applications.mobilenet import MobileNet\r\nfrom keras.applications.mobilenet_v2 import MobileNetV2\r\nfrom keras.applications.mobilenet_v3 import MobileNetV3Large\r\nfrom keras.applications.mobilenet_v3 import MobileNetV3Small\r\nfrom keras.applications.nasnet import NASNetLarge\r\nfrom keras.applications.nasnet import NASNetMobile\r\nfrom keras.applications.resnet import ResNet101\r\nfrom keras.applications.resnet import ResNet152\r\nfrom keras.applications.resnet import ResNet50\r\nfrom keras.applications.resnet_v2 import ResNet101V2\r\nfrom keras.applications.resnet_v2 import ResNet152V2\r\nfrom keras.applications.resnet_v2 import ResNet50V2\r\nfrom keras.applications.vgg16 import VGG16\r\nfrom keras.applications.vgg19 import VGG19\r\nfrom keras.applications.xception import Xception\r\n\r\ndel _print_function\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/930409884/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/930417237",
          "html_url": "https://github.com/keras-team/keras/pull/15419#issuecomment-930417237",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/15419",
          "id": 930417237,
          "node_id": "IC_kwDOAffHH843dQpV",
          "user": {
            "login": "qlzh727",
            "id": 5118881,
            "node_id": "MDQ6VXNlcjUxMTg4ODE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5118881?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qlzh727",
            "html_url": "https://github.com/qlzh727",
            "followers_url": "https://api.github.com/users/qlzh727/followers",
            "following_url": "https://api.github.com/users/qlzh727/following{/other_user}",
            "gists_url": "https://api.github.com/users/qlzh727/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qlzh727/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qlzh727/subscriptions",
            "organizations_url": "https://api.github.com/users/qlzh727/orgs",
            "repos_url": "https://api.github.com/users/qlzh727/repos",
            "events_url": "https://api.github.com/users/qlzh727/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qlzh727/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-29T18:03:53Z",
          "updated_at": "2021-09-29T18:03:53Z",
          "author_association": "MEMBER",
          "body": "I see. I think you need to update https://github.com/keras-team/keras/blob/c3a334b649eea8e94895672e9212f7014852e559/keras/api/BUILD#L21 to make the API generation script to pickup the newly added python file.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/930417237/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/2115",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/2115/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/2115/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/2115/events",
      "html_url": "https://github.com/keras-team/keras/issues/2115",
      "id": 144192400,
      "node_id": "MDU6SXNzdWUxNDQxOTI0MDA=",
      "number": 2115,
      "title": "Is there a way in Keras to apply different weights to a cost function?",
      "user": {
        "login": "ayalalazaro",
        "id": 8739720,
        "node_id": "MDQ6VXNlcjg3Mzk3MjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8739720?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ayalalazaro",
        "html_url": "https://github.com/ayalalazaro",
        "followers_url": "https://api.github.com/users/ayalalazaro/followers",
        "following_url": "https://api.github.com/users/ayalalazaro/following{/other_user}",
        "gists_url": "https://api.github.com/users/ayalalazaro/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ayalalazaro/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ayalalazaro/subscriptions",
        "organizations_url": "https://api.github.com/users/ayalalazaro/orgs",
        "repos_url": "https://api.github.com/users/ayalalazaro/repos",
        "events_url": "https://api.github.com/users/ayalalazaro/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ayalalazaro/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 103,
      "created_at": "2016-03-29T08:23:05Z",
      "updated_at": "2023-02-16T15:23:02Z",
      "closed_at": "2016-04-09T10:10:00Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "Hi there, \nI am trying to implement a classification problem with three classes: 0,1 and 2. I would like to fine tune my cost function so that missclassification is weighted some how. In particular, predicting 1 instead of 2 should give twice the cost than predicting 0. writing it in a table format, it should be something like that:\n\nCosts:\n            Predicted:\n                    0     |     1        |   2\n             __________________________\nActual  0  |    0     |    0.25    |  0.25\n            1  |  0.25  |       0      |   0.5\n            2  |  0.25  |     0.5     |    0\n\nI really like keras framework, it would be nice if it is possible to implement it and not having to dig into tensorflow or theano code.\n\nThanks\n",
      "closed_by": {
        "login": "ayalalazaro",
        "id": 8739720,
        "node_id": "MDQ6VXNlcjg3Mzk3MjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8739720?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ayalalazaro",
        "html_url": "https://github.com/ayalalazaro",
        "followers_url": "https://api.github.com/users/ayalalazaro/followers",
        "following_url": "https://api.github.com/users/ayalalazaro/following{/other_user}",
        "gists_url": "https://api.github.com/users/ayalalazaro/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ayalalazaro/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ayalalazaro/subscriptions",
        "organizations_url": "https://api.github.com/users/ayalalazaro/orgs",
        "repos_url": "https://api.github.com/users/ayalalazaro/repos",
        "events_url": "https://api.github.com/users/ayalalazaro/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ayalalazaro/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/2115/reactions",
        "total_count": 36,
        "+1": 36,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/2115/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/202776013",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-202776013",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 202776013,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIwMjc3NjAxMw==",
          "user": {
            "login": "ayalalazaro",
            "id": 8739720,
            "node_id": "MDQ6VXNlcjg3Mzk3MjA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8739720?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ayalalazaro",
            "html_url": "https://github.com/ayalalazaro",
            "followers_url": "https://api.github.com/users/ayalalazaro/followers",
            "following_url": "https://api.github.com/users/ayalalazaro/following{/other_user}",
            "gists_url": "https://api.github.com/users/ayalalazaro/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ayalalazaro/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ayalalazaro/subscriptions",
            "organizations_url": "https://api.github.com/users/ayalalazaro/orgs",
            "repos_url": "https://api.github.com/users/ayalalazaro/repos",
            "events_url": "https://api.github.com/users/ayalalazaro/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ayalalazaro/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-03-29T08:27:27Z",
          "updated_at": "2016-03-29T08:27:27Z",
          "author_association": "NONE",
          "body": "Sorry, the table has lost its format, I am sending an image:\n![image](https://cloud.githubusercontent.com/assets/8739720/14102063/c36cf924-f598-11e5-96ee-0cee2d416f49.JPG)\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/202776013/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/202961460",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-202961460",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 202961460,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIwMjk2MTQ2MA==",
          "user": {
            "login": "carlthome",
            "id": 1595907,
            "node_id": "MDQ6VXNlcjE1OTU5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1595907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/carlthome",
            "html_url": "https://github.com/carlthome",
            "followers_url": "https://api.github.com/users/carlthome/followers",
            "following_url": "https://api.github.com/users/carlthome/following{/other_user}",
            "gists_url": "https://api.github.com/users/carlthome/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/carlthome/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/carlthome/subscriptions",
            "organizations_url": "https://api.github.com/users/carlthome/orgs",
            "repos_url": "https://api.github.com/users/carlthome/repos",
            "events_url": "https://api.github.com/users/carlthome/events{/privacy}",
            "received_events_url": "https://api.github.com/users/carlthome/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-03-29T15:37:52Z",
          "updated_at": "2016-03-29T15:37:52Z",
          "author_association": "CONTRIBUTOR",
          "body": "Similar: https://github.com/fchollet/keras/issues/2121\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/202961460/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/203072763",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-203072763",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 203072763,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIwMzA3Mjc2Mw==",
          "user": {
            "login": "tboquet",
            "id": 5553901,
            "node_id": "MDQ6VXNlcjU1NTM5MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5553901?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tboquet",
            "html_url": "https://github.com/tboquet",
            "followers_url": "https://api.github.com/users/tboquet/followers",
            "following_url": "https://api.github.com/users/tboquet/following{/other_user}",
            "gists_url": "https://api.github.com/users/tboquet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tboquet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tboquet/subscriptions",
            "organizations_url": "https://api.github.com/users/tboquet/orgs",
            "repos_url": "https://api.github.com/users/tboquet/repos",
            "events_url": "https://api.github.com/users/tboquet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tboquet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-03-29T19:55:59Z",
          "updated_at": "2016-03-29T19:55:59Z",
          "author_association": "CONTRIBUTOR",
          "body": "You could use [class_weight](https://github.com/fchollet/keras/blob/master/keras/models.py#L605-L606).\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/203072763/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/203076784",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-203076784",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 203076784,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIwMzA3Njc4NA==",
          "user": {
            "login": "ayalalazaro",
            "id": 8739720,
            "node_id": "MDQ6VXNlcjg3Mzk3MjA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8739720?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ayalalazaro",
            "html_url": "https://github.com/ayalalazaro",
            "followers_url": "https://api.github.com/users/ayalalazaro/followers",
            "following_url": "https://api.github.com/users/ayalalazaro/following{/other_user}",
            "gists_url": "https://api.github.com/users/ayalalazaro/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ayalalazaro/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ayalalazaro/subscriptions",
            "organizations_url": "https://api.github.com/users/ayalalazaro/orgs",
            "repos_url": "https://api.github.com/users/ayalalazaro/repos",
            "events_url": "https://api.github.com/users/ayalalazaro/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ayalalazaro/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-03-29T20:07:30Z",
          "updated_at": "2016-03-29T20:07:30Z",
          "author_association": "NONE",
          "body": "class_weight applies a weight to all data that belongs to the class, it should be dependent on the missclassification.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/203076784/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/203231263",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-203231263",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 203231263,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIwMzIzMTI2Mw==",
          "user": {
            "login": "tboquet",
            "id": 5553901,
            "node_id": "MDQ6VXNlcjU1NTM5MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5553901?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tboquet",
            "html_url": "https://github.com/tboquet",
            "followers_url": "https://api.github.com/users/tboquet/followers",
            "following_url": "https://api.github.com/users/tboquet/following{/other_user}",
            "gists_url": "https://api.github.com/users/tboquet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tboquet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tboquet/subscriptions",
            "organizations_url": "https://api.github.com/users/tboquet/orgs",
            "repos_url": "https://api.github.com/users/tboquet/repos",
            "events_url": "https://api.github.com/users/tboquet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tboquet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-03-30T03:41:33Z",
          "updated_at": "2016-03-30T03:42:31Z",
          "author_association": "CONTRIBUTOR",
          "body": "You are absolutely right, I'm sorry I misunderstood your question. I will try to come back with something tomorrow using `partial` to define the weights. What you want to achieve should be doable with Keras abstract backend.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/203231263/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/204060456",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-204060456",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 204060456,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDA2MDQ1Ng==",
          "user": {
            "login": "tboquet",
            "id": 5553901,
            "node_id": "MDQ6VXNlcjU1NTM5MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5553901?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tboquet",
            "html_url": "https://github.com/tboquet",
            "followers_url": "https://api.github.com/users/tboquet/followers",
            "following_url": "https://api.github.com/users/tboquet/following{/other_user}",
            "gists_url": "https://api.github.com/users/tboquet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tboquet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tboquet/subscriptions",
            "organizations_url": "https://api.github.com/users/tboquet/orgs",
            "repos_url": "https://api.github.com/users/tboquet/repos",
            "events_url": "https://api.github.com/users/tboquet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tboquet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-03-31T18:11:20Z",
          "updated_at": "2016-04-04T19:15:01Z",
          "author_association": "CONTRIBUTOR",
          "body": "Ok so I had the time to quickly test it.\nThis is a fully reproducible example on mnist where we put a higher cost when a 1 is missclassified as a 7 and when a 7 is missclassified as a 1.\n\nSo if you want to pass constants included in the cost function, just build a new function with partial.\n\n``` python\n'''Train a simple deep NN on the MNIST dataset.\nGet to 98.40% test accuracy after 20 epochs\n(there is *a lot* of margin for parameter tuning).\n2 seconds per epoch on a K520 GPU.\n'''\n\nfrom __future__ import print_function\nimport numpy as np\nnp.random.seed(1337)  # for reproducibility\n\nfrom keras.datasets import mnist\nfrom keras.models import Sequential\nfrom keras.layers.core import Dense, Dropout, Activation\nfrom keras.optimizers import SGD, Adam, RMSprop\nfrom keras.utils import np_utils\nimport keras.backend as K\nfrom itertools import product\n\n# Custom loss function with costs\n\ndef w_categorical_crossentropy(y_true, y_pred, weights):\n    nb_cl = len(weights)\n    final_mask = K.zeros_like(y_pred[:, 0])\n    y_pred_max = K.max(y_pred, axis=1)\n    y_pred_max = K.reshape(y_pred_max, (K.shape(y_pred)[0], 1))\n    y_pred_max_mat = K.equal(y_pred, y_pred_max)\n    for c_p, c_t in product(range(nb_cl), range(nb_cl)):\n        final_mask += (weights[c_t, c_p] * y_pred_max_mat[:, c_p] * y_true[:, c_t])\n    return K.categorical_crossentropy(y_pred, y_true) * final_mask\n\nw_array = np.ones((10,10))\nw_array[1, 7] = 1.2\nw_array[7, 1] = 1.2\n\nncce = partial(w_categorical_crossentropy, weights=np.ones((10,10)))\n\nbatch_size = 128\nnb_classes = 10\nnb_epoch = 20\n\n# the data, shuffled and split between train and test sets\n(X_train, y_train), (X_test, y_test) = mnist.load_data()\n\nX_train = X_train.reshape(60000, 784)\nX_test = X_test.reshape(10000, 784)\nX_train = X_train.astype('float32')\nX_test = X_test.astype('float32')\nX_train /= 255\nX_test /= 255\nprint(X_train.shape[0], 'train samples')\nprint(X_test.shape[0], 'test samples')\n\n# convert class vectors to binary class matrices\nY_train = np_utils.to_categorical(y_train, nb_classes)\nY_test = np_utils.to_categorical(y_test, nb_classes)\n\nmodel = Sequential()\nmodel.add(Dense(512, input_shape=(784,)))\nmodel.add(Activation('relu'))\nmodel.add(Dropout(0.2))\nmodel.add(Dense(512))\nmodel.add(Activation('relu'))\nmodel.add(Dropout(0.2))\nmodel.add(Dense(10))\nmodel.add(Activation('softmax'))\n\nrms = RMSprop()\nmodel.compile(loss=ncce, optimizer=rms)\n\nmodel.fit(X_train, Y_train,\n          batch_size=batch_size, nb_epoch=nb_epoch,\n          show_accuracy=True, verbose=1,\n          validation_data=(X_test, Y_test))\nscore = model.evaluate(X_test, Y_test,\n                       show_accuracy=True, verbose=1)\nprint('Test score:', score[0])\nprint('Test accuracy:', score[1])\n```\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/204060456/reactions",
            "total_count": 187,
            "+1": 128,
            "-1": 0,
            "laugh": 16,
            "hooray": 21,
            "confused": 0,
            "heart": 18,
            "rocket": 4,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/204312826",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-204312826",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 204312826,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDMxMjgyNg==",
          "user": {
            "login": "ayalalazaro",
            "id": 8739720,
            "node_id": "MDQ6VXNlcjg3Mzk3MjA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8739720?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ayalalazaro",
            "html_url": "https://github.com/ayalalazaro",
            "followers_url": "https://api.github.com/users/ayalalazaro/followers",
            "following_url": "https://api.github.com/users/ayalalazaro/following{/other_user}",
            "gists_url": "https://api.github.com/users/ayalalazaro/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ayalalazaro/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ayalalazaro/subscriptions",
            "organizations_url": "https://api.github.com/users/ayalalazaro/orgs",
            "repos_url": "https://api.github.com/users/ayalalazaro/repos",
            "events_url": "https://api.github.com/users/ayalalazaro/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ayalalazaro/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-01T08:53:46Z",
          "updated_at": "2016-04-01T08:53:46Z",
          "author_association": "NONE",
          "body": "Wow, that s nice. Thanks for the detailed answer!\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/204312826/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/204436395",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-204436395",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 204436395,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDQzNjM5NQ==",
          "user": {
            "login": "tboquet",
            "id": 5553901,
            "node_id": "MDQ6VXNlcjU1NTM5MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5553901?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tboquet",
            "html_url": "https://github.com/tboquet",
            "followers_url": "https://api.github.com/users/tboquet/followers",
            "following_url": "https://api.github.com/users/tboquet/following{/other_user}",
            "gists_url": "https://api.github.com/users/tboquet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tboquet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tboquet/subscriptions",
            "organizations_url": "https://api.github.com/users/tboquet/orgs",
            "repos_url": "https://api.github.com/users/tboquet/repos",
            "events_url": "https://api.github.com/users/tboquet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tboquet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-01T15:22:03Z",
          "updated_at": "2016-04-01T15:22:03Z",
          "author_association": "CONTRIBUTOR",
          "body": "Try to test it on a toy example to verify that it actually works. If it's what you are looking for, feel free to close the issue! \n[Keras 1.0](https://github.com/fchollet/keras/pull/2152) will provide a more flexible way to introduce new objectives and metrics.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/204436395/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/204688397",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-204688397",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 204688397,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIwNDY4ODM5Nw==",
          "user": {
            "login": "ayalalazaro",
            "id": 8739720,
            "node_id": "MDQ6VXNlcjg3Mzk3MjA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8739720?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ayalalazaro",
            "html_url": "https://github.com/ayalalazaro",
            "followers_url": "https://api.github.com/users/ayalalazaro/followers",
            "following_url": "https://api.github.com/users/ayalalazaro/following{/other_user}",
            "gists_url": "https://api.github.com/users/ayalalazaro/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ayalalazaro/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ayalalazaro/subscriptions",
            "organizations_url": "https://api.github.com/users/ayalalazaro/orgs",
            "repos_url": "https://api.github.com/users/ayalalazaro/repos",
            "events_url": "https://api.github.com/users/ayalalazaro/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ayalalazaro/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-02T10:18:02Z",
          "updated_at": "2016-04-02T10:18:02Z",
          "author_association": "NONE",
          "body": "Well, I am stuck, I can t make it run in my model, it says:\n\n> line 56, in w_categorical_crossentropy\n>     y_pred_max = K.reshape(y_pred_max, (y_pred.shape[0], 1))\n> \n> AttributeError: 'Tensor' object has no attribute 'shape'\n\nThis is the model I am using:\n\n```\ndef w_categorical_crossentropy(y_true, y_pred, weights):\n    nb_cl = len(weights)\n    final_mask = K.zeros_like(y_pred[:, 0])\n    y_pred_max = K.max(y_pred, axis=1)\n    y_pred_max = K.reshape(y_pred_max, (y_pred.shape[0], 1))\n    y_pred_max_mat = K.equal(y_pred, y_pred_max)\n    for c_p, c_t in product(range(nb_cl), range(nb_cl)):\n        final_mask += (weights[c_t, c_p] * y_pred_max_mat[:, c_p] * y_true[:, c_t])\n    return K.categorical_crossentropy(y_pred, y_true) * final_mask\n\nw_array = np.ones((3,3))\nw_array[2,1] = 1.2\nw_array[1,2] = 1.2\nncce = partial(w_categorical_crossentropy, weights=w_array)\n\ndef build_model(X_data):\n    data_dim = X_data.shape[2]\n    timesteps = X_data.shape[1]\n    model = Sequential()\n    model.add(BatchNormalization(input_shape = (timesteps,data_dim)))  \n    model.add(GRU(output_dim=50,init ='glorot_normal',\n         return_sequences=True, W_regularizer=l2(0.00),U_regularizer=l1(0.01),dropout_W =0.2 ))\n    model.add(GRU(output_dim=50,init ='glorot_normal',\n        return_sequences=True,W_regularizer=l2(0.00),U_regularizer=l1(0.01),dropout_W =0.2))\n    model.add(GRU(50,init ='glorot_normal',return_sequences=False,dropout_W =0.01, W_regularizer=l2(0.00),U_regularizer=l1(0.01)))\n    model.add(Dense(3, init='glorot_normal'))\n    model.add(Activation('softmax'))\n\n    model.compile(loss=ncce,\n              optimizer='Adam'\n            )\n    return model\n```\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/204688397/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/205403509",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-205403509",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 205403509,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIwNTQwMzUwOQ==",
          "user": {
            "login": "tboquet",
            "id": 5553901,
            "node_id": "MDQ6VXNlcjU1NTM5MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5553901?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tboquet",
            "html_url": "https://github.com/tboquet",
            "followers_url": "https://api.github.com/users/tboquet/followers",
            "following_url": "https://api.github.com/users/tboquet/following{/other_user}",
            "gists_url": "https://api.github.com/users/tboquet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tboquet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tboquet/subscriptions",
            "organizations_url": "https://api.github.com/users/tboquet/orgs",
            "repos_url": "https://api.github.com/users/tboquet/repos",
            "events_url": "https://api.github.com/users/tboquet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tboquet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-04T17:22:13Z",
          "updated_at": "2016-04-04T19:14:51Z",
          "author_association": "CONTRIBUTOR",
          "body": "Sure, sorry I was using Theano functionnalities. I replaced the following line in my previous example:\n\n``` python\ny_pred_max = K.reshape(y_pred_max, (K.shape(y_pred)[0], 1))\n```\n\nIt should do the trick!\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/205403509/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/205727444",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-205727444",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 205727444,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIwNTcyNzQ0NA==",
          "user": {
            "login": "ayalalazaro",
            "id": 8739720,
            "node_id": "MDQ6VXNlcjg3Mzk3MjA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8739720?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ayalalazaro",
            "html_url": "https://github.com/ayalalazaro",
            "followers_url": "https://api.github.com/users/ayalalazaro/followers",
            "following_url": "https://api.github.com/users/ayalalazaro/following{/other_user}",
            "gists_url": "https://api.github.com/users/ayalalazaro/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ayalalazaro/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ayalalazaro/subscriptions",
            "organizations_url": "https://api.github.com/users/ayalalazaro/orgs",
            "repos_url": "https://api.github.com/users/ayalalazaro/repos",
            "events_url": "https://api.github.com/users/ayalalazaro/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ayalalazaro/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-05T09:23:33Z",
          "updated_at": "2016-04-05T09:23:33Z",
          "author_association": "NONE",
          "body": "Sounds the way to go, I was using tensorflow as backend. I tell you if it works as soon as posiible. Thanks!\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/205727444/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/205915441",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-205915441",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 205915441,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIwNTkxNTQ0MQ==",
          "user": {
            "login": "ayalalazaro",
            "id": 8739720,
            "node_id": "MDQ6VXNlcjg3Mzk3MjA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8739720?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ayalalazaro",
            "html_url": "https://github.com/ayalalazaro",
            "followers_url": "https://api.github.com/users/ayalalazaro/followers",
            "following_url": "https://api.github.com/users/ayalalazaro/following{/other_user}",
            "gists_url": "https://api.github.com/users/ayalalazaro/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ayalalazaro/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ayalalazaro/subscriptions",
            "organizations_url": "https://api.github.com/users/ayalalazaro/orgs",
            "repos_url": "https://api.github.com/users/ayalalazaro/repos",
            "events_url": "https://api.github.com/users/ayalalazaro/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ayalalazaro/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-05T17:44:00Z",
          "updated_at": "2016-04-05T17:44:00Z",
          "author_association": "NONE",
          "body": "I still get an error:\n\n>  line 57, in w_categorical_crossentropy\n>     y_pred_max = K.reshape(y_pred_max, (K.shape(y_pred)[0], 1))\n> \n>   File \"/home/hal/anaconda2/envs/tflow/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py\", line 271, in reshape\n>     return tf.reshape(x, shape)\n> \n>   File \"/home/hal/anaconda2/envs/tflow/lib/python2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 682, in reshape\n>     name=name)\n> \n>   File \"/home/hal/anaconda2/envs/tflow/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.py\", line 411, in apply_op\n>     as_ref=input_arg.is_ref)\n> \n>   File \"/home/hal/anaconda2/envs/tflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 529, in convert_to_tensor\n>     ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\n> \n>   File \"/home/hal/anaconda2/envs/tflow/lib/python2.7/site-packages/tensorflow/python/ops/constant_op.py\", line 178, in _constant_tensor_conversion_function\n>     return constant(v, dtype=dtype, name=name)\n> \n>   File \"/home/hal/anaconda2/envs/tflow/lib/python2.7/site-packages/tensorflow/python/ops/constant_op.py\", line 161, in constant\n>     tensor_util.make_tensor_proto(value, dtype=dtype, shape=shape))\n> \n>   File \"/home/hal/anaconda2/envs/tflow/lib/python2.7/site-packages/tensorflow/python/framework/tensor_util.py\", line 319, in make_tensor_proto\n>     _AssertCompatible(values, dtype)\n> \n>   File \"/home/hal/anaconda2/envs/tflow/lib/python2.7/site-packages/tensorflow/python/framework/tensor_util.py\", line 259, in _AssertCompatible\n>     (dtype.name, repr(mismatch), type(mismatch).__name__))\n> \n> TypeError: Expected int32, got list containing Tensors of type '_Message' instead.\n\nI ve tried your first reply under theano backend and it works though.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/205915441/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/205965996",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-205965996",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 205965996,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIwNTk2NTk5Ng==",
          "user": {
            "login": "tboquet",
            "id": 5553901,
            "node_id": "MDQ6VXNlcjU1NTM5MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5553901?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tboquet",
            "html_url": "https://github.com/tboquet",
            "followers_url": "https://api.github.com/users/tboquet/followers",
            "following_url": "https://api.github.com/users/tboquet/following{/other_user}",
            "gists_url": "https://api.github.com/users/tboquet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tboquet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tboquet/subscriptions",
            "organizations_url": "https://api.github.com/users/tboquet/orgs",
            "repos_url": "https://api.github.com/users/tboquet/repos",
            "events_url": "https://api.github.com/users/tboquet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tboquet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-05T19:50:37Z",
          "updated_at": "2016-04-05T19:50:37Z",
          "author_association": "CONTRIBUTOR",
          "body": "Ok, I was not sure about how `K.shape` would behave with TensorFlow. It seems you should use:\n\n``` python\ny_pred_max = K.reshape(y_pred_max, (K.int_shape(y_pred)[0], 1))\n```\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/205965996/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/206215498",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-206215498",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 206215498,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjIxNTQ5OA==",
          "user": {
            "login": "ayalalazaro",
            "id": 8739720,
            "node_id": "MDQ6VXNlcjg3Mzk3MjA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8739720?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ayalalazaro",
            "html_url": "https://github.com/ayalalazaro",
            "followers_url": "https://api.github.com/users/ayalalazaro/followers",
            "following_url": "https://api.github.com/users/ayalalazaro/following{/other_user}",
            "gists_url": "https://api.github.com/users/ayalalazaro/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ayalalazaro/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ayalalazaro/subscriptions",
            "organizations_url": "https://api.github.com/users/ayalalazaro/orgs",
            "repos_url": "https://api.github.com/users/ayalalazaro/repos",
            "events_url": "https://api.github.com/users/ayalalazaro/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ayalalazaro/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-06T08:27:27Z",
          "updated_at": "2016-04-06T08:29:27Z",
          "author_association": "NONE",
          "body": "I get more or less the same:\n\n>  line 59, in w_categorical_crossentropy\n>     y_pred_max = K.reshape(y_pred_max, (K.int_shape(y_pred)[0], 1))\n> \n>   File \"/home/hal/anaconda2/envs/tflow/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py\", line 271, in reshape\n>     return tf.reshape(x, shape)\n> \n>   File \"/home/hal/anaconda2/envs/tflow/lib/python2.7/site-packages/tensorflow/python/ops/gen_array_ops.py\", line 682, in reshape\n>     name=name)\n> \n>   File \"/home/hal/anaconda2/envs/tflow/lib/python2.7/site-packages/tensorflow/python/ops/op_def_library.py\", line 411, in apply_op\n>     as_ref=input_arg.is_ref)\n> \n>   File \"/home/hal/anaconda2/envs/tflow/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 529, in convert_to_tensor\n>     ret = conversion_func(value, dtype=dtype, name=name, as_ref=as_ref)\n> \n>   File \"/home/hal/anaconda2/envs/tflow/lib/python2.7/site-packages/tensorflow/python/ops/constant_op.py\", line 178, in _constant_tensor_conversion_function\n>     return constant(v, dtype=dtype, name=name)\n> \n>   File \"/home/hal/anaconda2/envs/tflow/lib/python2.7/site-packages/tensorflow/python/ops/constant_op.py\", line 161, in constant\n>     tensor_util.make_tensor_proto(value, dtype=dtype, shape=shape))\n> \n>   File \"/home/hal/anaconda2/envs/tflow/lib/python2.7/site-packages/tensorflow/python/framework/tensor_util.py\", line 319, in make_tensor_proto\n>     _AssertCompatible(values, dtype)\n> \n>   File \"/home/hal/anaconda2/envs/tflow/lib/python2.7/site-packages/tensorflow/python/framework/tensor_util.py\", line 259, in _AssertCompatible\n>     (dtype.name, repr(mismatch), type(mismatch).__name__))\n> \n> TypeError: Expected int32, got None of type '_Message' instead.\n\nIt seems like it cannot get the shape of y_pred as an integer , right?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/206215498/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/206352528",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-206352528",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 206352528,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIwNjM1MjUyOA==",
          "user": {
            "login": "tboquet",
            "id": 5553901,
            "node_id": "MDQ6VXNlcjU1NTM5MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5553901?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tboquet",
            "html_url": "https://github.com/tboquet",
            "followers_url": "https://api.github.com/users/tboquet/followers",
            "following_url": "https://api.github.com/users/tboquet/following{/other_user}",
            "gists_url": "https://api.github.com/users/tboquet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tboquet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tboquet/subscriptions",
            "organizations_url": "https://api.github.com/users/tboquet/orgs",
            "repos_url": "https://api.github.com/users/tboquet/repos",
            "events_url": "https://api.github.com/users/tboquet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tboquet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-06T12:42:21Z",
          "updated_at": "2016-04-06T12:42:21Z",
          "author_association": "CONTRIBUTOR",
          "body": "Mm, ok I will take a look at it today and work directly with tensors to try to find a way to have it work properly for both backend.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/206352528/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/207399352",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-207399352",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 207399352,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzM5OTM1Mg==",
          "user": {
            "login": "pgallego25",
            "id": 17902038,
            "node_id": "MDQ6VXNlcjE3OTAyMDM4",
            "avatar_url": "https://avatars.githubusercontent.com/u/17902038?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pgallego25",
            "html_url": "https://github.com/pgallego25",
            "followers_url": "https://api.github.com/users/pgallego25/followers",
            "following_url": "https://api.github.com/users/pgallego25/following{/other_user}",
            "gists_url": "https://api.github.com/users/pgallego25/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pgallego25/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pgallego25/subscriptions",
            "organizations_url": "https://api.github.com/users/pgallego25/orgs",
            "repos_url": "https://api.github.com/users/pgallego25/repos",
            "events_url": "https://api.github.com/users/pgallego25/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pgallego25/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-08T11:55:46Z",
          "updated_at": "2016-04-08T12:01:24Z",
          "author_association": "NONE",
          "body": "Hi there, I tried something like that:\n\n```\ndef w_categorical_crossentropy(y_true, y_pred, weights):\n    nb_cl = len(weights)\n    final_mask = K.zeros_like(y_pred[:, 0])\n    y_pred_max = K.max(y_pred, axis=1)\n    y_pred_max = K.reshape(y_pred_max, K.shape(y_pred))\n    y_pred_max_mat = K.equal(y_pred, y_pred_max)\n    for c_p, c_t in product(range(nb_cl), range(nb_cl)):\n\n        final_mask += (K.cast(weights[c_t, c_p],tf.float32) * K.cast(y_pred_max_mat[:, c_p] ,tf.float32)* K.cast(y_true[:, c_t],tf.float32))\n    return K.categorical_crossentropy(y_pred, y_true) * final_mask\n```\n\nI Think it will do it.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/207399352/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/207572050",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-207572050",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 207572050,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzU3MjA1MA==",
          "user": {
            "login": "ayalalazaro",
            "id": 8739720,
            "node_id": "MDQ6VXNlcjg3Mzk3MjA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8739720?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ayalalazaro",
            "html_url": "https://github.com/ayalalazaro",
            "followers_url": "https://api.github.com/users/ayalalazaro/followers",
            "following_url": "https://api.github.com/users/ayalalazaro/following{/other_user}",
            "gists_url": "https://api.github.com/users/ayalalazaro/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ayalalazaro/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ayalalazaro/subscriptions",
            "organizations_url": "https://api.github.com/users/ayalalazaro/orgs",
            "repos_url": "https://api.github.com/users/ayalalazaro/repos",
            "events_url": "https://api.github.com/users/ayalalazaro/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ayalalazaro/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-08T19:37:08Z",
          "updated_at": "2016-04-08T19:37:08Z",
          "author_association": "NONE",
          "body": "The latter only works for non recurrent networks, but this code works for RNNs following the same idea. It only works for tensorflow though. I couldn t find a way to reshape a tensor the way we want with the keras backend:\n\n```\nimport tensorflow as tf\n\ndef w_categorical_crossentropy(y_true, y_pred, weights):\n    nb_cl = len(weights)\n    final_mask = K.zeros_like(y_pred[:, 0])\n    y_pred_max = K.max(y_pred, axis=1)\n    y_pred_max = tf.expand_dims(y_pred_max, 1)\n    y_pred_max_mat = K.equal(y_pred, y_pred_max)\n    for c_p, c_t in product(range(nb_cl), range(nb_cl)):\n\n        final_mask += (K.cast(weights[c_t, c_p],K.floatx()) * K.cast(y_pred_max_mat[:, c_p] ,K.floatx())* K.cast(y_true[:, c_t],K.floatx()))\n    return K.categorical_crossentropy(y_pred, y_true) * final_mask\n```\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/207572050/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/207765342",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-207765342",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 207765342,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIwNzc2NTM0Mg==",
          "user": {
            "login": "ayalalazaro",
            "id": 8739720,
            "node_id": "MDQ6VXNlcjg3Mzk3MjA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8739720?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ayalalazaro",
            "html_url": "https://github.com/ayalalazaro",
            "followers_url": "https://api.github.com/users/ayalalazaro/followers",
            "following_url": "https://api.github.com/users/ayalalazaro/following{/other_user}",
            "gists_url": "https://api.github.com/users/ayalalazaro/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ayalalazaro/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ayalalazaro/subscriptions",
            "organizations_url": "https://api.github.com/users/ayalalazaro/orgs",
            "repos_url": "https://api.github.com/users/ayalalazaro/repos",
            "events_url": "https://api.github.com/users/ayalalazaro/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ayalalazaro/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-09T10:10:00Z",
          "updated_at": "2016-04-09T10:10:00Z",
          "author_association": "NONE",
          "body": "My bad, just replacing tf.expand_dims with K.expand_dims worked for me:\n\n```\ndef w_categorical_crossentropy(y_true, y_pred, weights):\n    nb_cl = len(weights)\n    final_mask = K.zeros_like(y_pred[:, 0])\n    y_pred_max = K.max(y_pred, axis=1)\n    y_pred_max = K.expand_dims(y_pred_max, 1)\n    y_pred_max_mat = K.equal(y_pred, y_pred_max)\n    for c_p, c_t in product(range(nb_cl), range(nb_cl)):\n\n        final_mask += (K.cast(weights[c_t, c_p],K.floatx()) * K.cast(y_pred_max_mat[:, c_p] ,K.floatx())* K.cast(y_true[:, c_t],K.floatx()))\n    return K.categorical_crossentropy(y_pred, y_true) * final_mask\nw_array = np.ones((3,3))\nw_array[2,1] = 1.2\nw_array[1,2] = 1.2\nncce = partial(w_categorical_crossentropy, weights=w_array)\nncce.__name__ ='w_categorical_crossentropy'\n```\n\nThe last line is necessary for tensorboard callback to work, thanks!!\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/207765342/reactions",
            "total_count": 23,
            "+1": 22,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/264598062",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-264598062",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 264598062,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI2NDU5ODA2Mg==",
          "user": {
            "login": "kimardenmiller",
            "id": 2165336,
            "node_id": "MDQ6VXNlcjIxNjUzMzY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2165336?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kimardenmiller",
            "html_url": "https://github.com/kimardenmiller",
            "followers_url": "https://api.github.com/users/kimardenmiller/followers",
            "following_url": "https://api.github.com/users/kimardenmiller/following{/other_user}",
            "gists_url": "https://api.github.com/users/kimardenmiller/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kimardenmiller/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kimardenmiller/subscriptions",
            "organizations_url": "https://api.github.com/users/kimardenmiller/orgs",
            "repos_url": "https://api.github.com/users/kimardenmiller/repos",
            "events_url": "https://api.github.com/users/kimardenmiller/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kimardenmiller/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-12-03T00:24:13Z",
          "updated_at": "2016-12-04T00:04:37Z",
          "author_association": "NONE",
          "body": "Is the Mar 31 solution for @ayalalazaro above still recommended as of v1.2?  (Noticed @tboquet 's comment: _Keras 1.0 will provide a more flexible way to introduce new objectives and metrics_.)\r\n\r\nMy problem is binary classification where true positive accuracy is more important, and some false negatives are acceptable.  Would I need the approach above to achieve that objective?  I tried  `class_weights = {0: 1, 1: 10}`, but saw no change.  (examples are 25% positive, 75% negative)",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/264598062/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/274101310",
          "html_url": "https://github.com/keras-team/keras/issues/2115#issuecomment-274101310",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2115",
          "id": 274101310,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3NDEwMTMxMA==",
          "user": {
            "login": "curiale",
            "id": 1971455,
            "node_id": "MDQ6VXNlcjE5NzE0NTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1971455?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/curiale",
            "html_url": "https://github.com/curiale",
            "followers_url": "https://api.github.com/users/curiale/followers",
            "following_url": "https://api.github.com/users/curiale/following{/other_user}",
            "gists_url": "https://api.github.com/users/curiale/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/curiale/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/curiale/subscriptions",
            "organizations_url": "https://api.github.com/users/curiale/orgs",
            "repos_url": "https://api.github.com/users/curiale/repos",
            "events_url": "https://api.github.com/users/curiale/events{/privacy}",
            "received_events_url": "https://api.github.com/users/curiale/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-20T15:35:44Z",
          "updated_at": "2017-01-20T15:35:44Z",
          "author_association": "NONE",
          "body": "Just a small detail about the ` w_categorical_crossentropy` implementetion. There is no need to cast  `weights` and `y_true`. The following code is working in Theano and TensorFlow:\r\n\r\n```\r\ndef w_categorical_crossentropy(y_true, y_pred, weights):\r\n    nb_cl = len(weights)\r\n    final_mask = K.zeros_like(y_pred[:, 0])\r\n    y_pred_max = K.max(y_pred, axis=1)\r\n    y_pred_max = K.reshape(y_pred_max, (K.shape(y_pred)[0], 1))\r\n    y_pred_max_mat = K.cast(K.equal(y_pred, y_pred_max), K.floatx())\r\n    for c_p, c_t in product(range(nb_cl), range(nb_cl)):\r\n        final_mask += (weights[c_t, c_p] * y_pred_max_mat[:, c_p] * y_true[:, c_t])\r\n    return K.categorical_crossentropy(y_pred, y_true) * final_mask\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/274101310/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/19727",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/19727/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/19727/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/19727/events",
      "html_url": "https://github.com/keras-team/keras/pull/19727",
      "id": 2303002705,
      "node_id": "PR_kwDOAffHH85vzlge",
      "number": 19727,
      "title": "Add preliminary support of OpenVINO as Keras 3 backend",
      "user": {
        "login": "rkazants",
        "id": 35459624,
        "node_id": "MDQ6VXNlcjM1NDU5NjI0",
        "avatar_url": "https://avatars.githubusercontent.com/u/35459624?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rkazants",
        "html_url": "https://github.com/rkazants",
        "followers_url": "https://api.github.com/users/rkazants/followers",
        "following_url": "https://api.github.com/users/rkazants/following{/other_user}",
        "gists_url": "https://api.github.com/users/rkazants/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/rkazants/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/rkazants/subscriptions",
        "organizations_url": "https://api.github.com/users/rkazants/orgs",
        "repos_url": "https://api.github.com/users/rkazants/repos",
        "events_url": "https://api.github.com/users/rkazants/events{/privacy}",
        "received_events_url": "https://api.github.com/users/rkazants/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 3294894538,
          "node_id": "MDU6TGFiZWwzMjk0ODk0NTM4",
          "url": "https://api.github.com/repos/keras-team/keras/labels/size:XL",
          "name": "size:XL",
          "color": "ededed",
          "default": false,
          "description": null
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": {
        "login": "gbaned",
        "id": 48215717,
        "node_id": "MDQ6VXNlcjQ4MjE1NzE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/48215717?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gbaned",
        "html_url": "https://github.com/gbaned",
        "followers_url": "https://api.github.com/users/gbaned/followers",
        "following_url": "https://api.github.com/users/gbaned/following{/other_user}",
        "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions",
        "organizations_url": "https://api.github.com/users/gbaned/orgs",
        "repos_url": "https://api.github.com/users/gbaned/repos",
        "events_url": "https://api.github.com/users/gbaned/events{/privacy}",
        "received_events_url": "https://api.github.com/users/gbaned/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "assignees": [
        {
          "login": "gbaned",
          "id": 48215717,
          "node_id": "MDQ6VXNlcjQ4MjE1NzE3",
          "avatar_url": "https://avatars.githubusercontent.com/u/48215717?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/gbaned",
          "html_url": "https://github.com/gbaned",
          "followers_url": "https://api.github.com/users/gbaned/followers",
          "following_url": "https://api.github.com/users/gbaned/following{/other_user}",
          "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions",
          "organizations_url": "https://api.github.com/users/gbaned/orgs",
          "repos_url": "https://api.github.com/users/gbaned/repos",
          "events_url": "https://api.github.com/users/gbaned/events{/privacy}",
          "received_events_url": "https://api.github.com/users/gbaned/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        }
      ],
      "milestone": null,
      "comments": 41,
      "created_at": "2024-05-17T15:16:58Z",
      "updated_at": "2025-01-08T11:11:15Z",
      "closed_at": "2024-12-18T01:40:54Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/19727",
        "html_url": "https://github.com/keras-team/keras/pull/19727",
        "diff_url": "https://github.com/keras-team/keras/pull/19727.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/19727.patch",
        "merged_at": "2024-12-18T01:40:54Z"
      },
      "body": "**Details:** Support OpenVINO as Keras 3 backend. This is inference-only backend. In order to switch on this, define environment variable as follows: `os.environ[\"KERAS_BACKEND\"] = \"openvino\"` or use `set_backend`.\r\n\r\nHere is an example how it works:\r\nInstall OpenVINO `pip install openvino -U`\r\n\r\n```python\r\nimport os\r\nos.environ[\"KERAS_BACKEND\"] = \"openvino\"\r\nimport numpy as np\r\nimport keras\r\n\r\n# build a simple network\r\nx1 = keras.Input(shape=(2,), dtype='float32')\r\nx2 = keras.Input(shape=(2,), dtype='float32')\r\nadd = keras.layers.Add()([x1, x2])\r\nsigmoid = keras.activations.sigmoid(add)\r\nmodel = keras.Model(inputs={'x1': x1, 'x2': x2}, outputs={'sigmoid': sigmoid})\r\nmodel.summary()\r\n\r\n# infer using OpenVINO\r\nout = model.predict({'x1': np.array([[1.0, 2.0]], dtype=np.float32),\r\n                     'x2': np.array([[3.0, 4.0]], dtype=np.float32)})\r\nprint('openvino out = ', out)\r\n```\r\n\r\nAdded support for operations that allow to infer mobilenet_v3_small and bert_base_en_uncased from Keras Hub.\r\n\r\nExample 1:\r\n```python\r\n# from here https://keras.io/api/keras_nlp/models/bert/bert_text_classifier/#from_preset-method\r\nimport os\r\n\r\nos.environ[\"KERAS_BACKEND\"] = \"openvino\"\r\nimport numpy as np\r\nimport keras\r\n#import keras_hub\r\n\r\nfeatures = {\r\n    \"token_ids\": np.ones(shape=(2, 12), dtype=\"int32\"),\r\n    \"segment_ids\": np.array([[0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0]] * 2),\r\n    \"padding_mask\": np.array([[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0]] * 2),\r\n}\r\n\r\n# Pretrained classifier without preprocessing.\r\n#classifier = keras_hub.models.BertTextClassifier.from_preset(\r\n#    \"bert_base_en_uncased\",\r\n#    num_classes=4,\r\n#    preprocessor=None,\r\n#)\r\n#keras.saving.save_model(classifier, \"bert_base_en_uncased.keras\")\r\nclassifier = keras.saving.load_model(\"bert_base_en_uncased.keras\")\r\n#output = classifier.predict(x=features, batch_size=2)\r\noutput = classifier.predict(features)\r\n```\r\n\r\nExample 2:\r\n\r\n```python\r\n# from here https://keras.io/api/keras_cv/models/backbones/mobilenet_v3/\r\nimport os\r\n\r\nos.environ[\"KERAS_BACKEND\"] = \"openvino\"\r\nimport numpy as np\r\nimport keras\r\nimport keras_cv\r\n\r\nrng = np.random.default_rng(23345243)\r\n\r\n#input_data = np.random.rand(8, 224, 224, 3)\r\ninput_data = rng.uniform(0.0, 1.0, [8, 224, 224, 3]).astype(np.float32)\r\nmodel = keras.saving.load_model(\"mobilenet_v3_small.keras\")\r\n#model = keras_cv.models.MobileNetV3Backbone.from_preset(\"mobilenet_v3_small\",)\r\n\r\noutput = model.predict(input_data)\r\n```",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/19727/reactions",
        "total_count": 5,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 4,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/19727/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2117826154",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2117826154",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2117826154,
          "node_id": "IC_kwDOAffHH85-O3Zq",
          "user": {
            "login": "google-cla[bot]",
            "id": 55858104,
            "node_id": "MDM6Qm90NTU4NTgxMDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/in/42202?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/google-cla%5Bbot%5D",
            "html_url": "https://github.com/apps/google-cla",
            "followers_url": "https://api.github.com/users/google-cla%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/google-cla%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/google-cla%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/google-cla%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/google-cla%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/google-cla%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/google-cla%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/google-cla%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/google-cla%5Bbot%5D/received_events",
            "type": "Bot",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-17T15:17:03Z",
          "updated_at": "2024-05-17T15:17:03Z",
          "author_association": "NONE",
          "body": "Thanks for your pull request! It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n\nView this [failed invocation](https://github.com/keras-team/keras/pull/19727/checks?check_run_id=25107490578) of the CLA check for more information.\n\nFor the most up to date status, view the checks section at the bottom of the pull request.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2117826154/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": {
            "id": 42202,
            "client_id": "Iv1.a7c919fe7396ec28",
            "slug": "google-cla",
            "node_id": "MDM6QXBwNDIyMDI=",
            "owner": {
              "login": "google",
              "id": 1342004,
              "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzNDIwMDQ=",
              "avatar_url": "https://avatars.githubusercontent.com/u/1342004?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/google",
              "html_url": "https://github.com/google",
              "followers_url": "https://api.github.com/users/google/followers",
              "following_url": "https://api.github.com/users/google/following{/other_user}",
              "gists_url": "https://api.github.com/users/google/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/google/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/google/subscriptions",
              "organizations_url": "https://api.github.com/users/google/orgs",
              "repos_url": "https://api.github.com/users/google/repos",
              "events_url": "https://api.github.com/users/google/events{/privacy}",
              "received_events_url": "https://api.github.com/users/google/received_events",
              "type": "Organization",
              "user_view_type": "public",
              "site_admin": false
            },
            "name": "Google CLA",
            "description": "This is Google's CLA validation tool.\r\n\r\nSee https://cla.developers.google.com/ for more information.",
            "external_url": "https://cla.developers.google.com/",
            "html_url": "https://github.com/apps/google-cla",
            "created_at": "2019-09-26T21:40:56Z",
            "updated_at": "2023-05-09T23:59:12Z",
            "permissions": {
              "checks": "write",
              "issues": "write",
              "merge_queues": "read",
              "metadata": "read",
              "pull_requests": "write",
              "statuses": "write"
            },
            "events": [
              "check_run",
              "check_suite",
              "issue_comment",
              "merge_group",
              "merge_queue_entry",
              "pull_request"
            ]
          }
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2119627376",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2119627376",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2119627376,
          "node_id": "IC_kwDOAffHH85-VvJw",
          "user": {
            "login": "codecov-commenter",
            "id": 65553080,
            "node_id": "MDQ6VXNlcjY1NTUzMDgw",
            "avatar_url": "https://avatars.githubusercontent.com/u/65553080?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/codecov-commenter",
            "html_url": "https://github.com/codecov-commenter",
            "followers_url": "https://api.github.com/users/codecov-commenter/followers",
            "following_url": "https://api.github.com/users/codecov-commenter/following{/other_user}",
            "gists_url": "https://api.github.com/users/codecov-commenter/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/codecov-commenter/subscriptions",
            "organizations_url": "https://api.github.com/users/codecov-commenter/orgs",
            "repos_url": "https://api.github.com/users/codecov-commenter/repos",
            "events_url": "https://api.github.com/users/codecov-commenter/events{/privacy}",
            "received_events_url": "https://api.github.com/users/codecov-commenter/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-20T04:13:05Z",
          "updated_at": "2024-12-17T08:42:54Z",
          "author_association": "NONE",
          "body": "## [Codecov](https://app.codecov.io/gh/keras-team/keras/pull/19727?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) Report\nAttention: Patch coverage is `60.14735%` with `595 lines` in your changes missing coverage. Please review.\n> Project coverage is 81.87%. Comparing base [(`4c05e0c`)](https://app.codecov.io/gh/keras-team/keras/commit/4c05e0cd2dfd385fb9db204885ddf51635b9e9b7?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) to head [(`74778b1`)](https://app.codecov.io/gh/keras-team/keras/commit/74778b1ce90939392c704a1deac16b8990784e19?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team).\n\n| [Files with missing lines](https://app.codecov.io/gh/keras-team/keras/pull/19727?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | Patch % | Lines |\n|---|---|---|\n| [keras/src/backend/openvino/numpy.py](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&filepath=keras%2Fsrc%2Fbackend%2Fopenvino%2Fnumpy.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL2JhY2tlbmQvb3BlbnZpbm8vbnVtcHkucHk=) | 53.71% | [254 Missing and 20 partials :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/src/backend/openvino/core.py](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&filepath=keras%2Fsrc%2Fbackend%2Fopenvino%2Fcore.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL2JhY2tlbmQvb3BlbnZpbm8vY29yZS5weQ==) | 59.40% | [126 Missing and 23 partials :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/src/backend/openvino/trainer.py](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&filepath=keras%2Fsrc%2Fbackend%2Fopenvino%2Ftrainer.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL2JhY2tlbmQvb3BlbnZpbm8vdHJhaW5lci5weQ==) | 27.00% | [100 Missing :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/src/backend/openvino/nn.py](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&filepath=keras%2Fsrc%2Fbackend%2Fopenvino%2Fnn.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL2JhY2tlbmQvb3BlbnZpbm8vbm4ucHk=) | 77.25% | [49 Missing and 4 partials :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/src/backend/openvino/math.py](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&filepath=keras%2Fsrc%2Fbackend%2Fopenvino%2Fmath.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL2JhY2tlbmQvb3BlbnZpbm8vbWF0aC5weQ==) | 82.97% | [6 Missing and 2 partials :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/src/backend/openvino/random.py](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&filepath=keras%2Fsrc%2Fbackend%2Fopenvino%2Frandom.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL2JhY2tlbmQvb3BlbnZpbm8vcmFuZG9tLnB5) | 94.11% | [1 Missing and 2 partials :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/src/utils/backend\\_utils.py](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&filepath=keras%2Fsrc%2Futils%2Fbackend_utils.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL3V0aWxzL2JhY2tlbmRfdXRpbHMucHk=) | 25.00% | [3 Missing :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/src/backend/\\_\\_init\\_\\_.py](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&filepath=keras%2Fsrc%2Fbackend%2F__init__.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL2JhY2tlbmQvX19pbml0X18ucHk=) | 75.00% | [0 Missing and 1 partial :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/src/backend/openvino/rnn.py](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&filepath=keras%2Fsrc%2Fbackend%2Fopenvino%2Frnn.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL2JhY2tlbmQvb3BlbnZpbm8vcm5uLnB5) | 85.71% | [1 Missing :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/src/export/export\\_lib.py](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&filepath=keras%2Fsrc%2Fexport%2Fexport_lib.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL2V4cG9ydC9leHBvcnRfbGliLnB5) | 50.00% | [0 Missing and 1 partial :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| ... and [2 more](https://app.codecov.io/gh/keras-team/keras/pull/19727?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@            Coverage Diff             @@\n##           master   #19727      +/-   ##\n==========================================\n- Coverage   82.53%   81.87%   -0.66%     \n==========================================\n  Files         530      542      +12     \n  Lines       49058    50550    +1492     \n  Branches     7627     7809     +182     \n==========================================\n+ Hits        40489    41390     +901     \n- Misses       6731     7271     +540     \n- Partials     1838     1889      +51     \n```\n\n| [Flag](https://app.codecov.io/gh/keras-team/keras/pull/19727/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | Coverage \u0394 | |\n|---|---|---|\n| [keras](https://app.codecov.io/gh/keras-team/keras/pull/19727/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | `81.71% <60.14%> (-0.66%)` | :arrow_down: |\n| [keras-jax](https://app.codecov.io/gh/keras-team/keras/pull/19727/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | `63.78% <0.06%> (-1.95%)` | :arrow_down: |\n| [keras-numpy](https://app.codecov.io/gh/keras-team/keras/pull/19727/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | `58.82% <0.13%> (-1.79%)` | :arrow_down: |\n| [keras-openvino](https://app.codecov.io/gh/keras-team/keras/pull/19727/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | `29.98% <60.01%> (?)` | |\n| [keras-tensorflow](https://app.codecov.io/gh/keras-team/keras/pull/19727/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | `64.54% <0.06%> (-1.97%)` | :arrow_down: |\n| [keras-torch](https://app.codecov.io/gh/keras-team/keras/pull/19727/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | `63.61% <0.06%> (-1.94%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/keras-team/keras/pull/19727?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team).\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2119627376/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2167335952",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2167335952",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2167335952,
          "node_id": "IC_kwDOAffHH86BLuwQ",
          "user": {
            "login": "gbaned",
            "id": 48215717,
            "node_id": "MDQ6VXNlcjQ4MjE1NzE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48215717?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gbaned",
            "html_url": "https://github.com/gbaned",
            "followers_url": "https://api.github.com/users/gbaned/followers",
            "following_url": "https://api.github.com/users/gbaned/following{/other_user}",
            "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions",
            "organizations_url": "https://api.github.com/users/gbaned/orgs",
            "repos_url": "https://api.github.com/users/gbaned/repos",
            "events_url": "https://api.github.com/users/gbaned/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gbaned/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-14T06:44:59Z",
          "updated_at": "2024-06-14T06:44:59Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @rkazants Can you please resolve the conflicts? Thank you!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2167335952/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2167591565",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2167591565",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2167591565,
          "node_id": "IC_kwDOAffHH86BMtKN",
          "user": {
            "login": "rkazants",
            "id": 35459624,
            "node_id": "MDQ6VXNlcjM1NDU5NjI0",
            "avatar_url": "https://avatars.githubusercontent.com/u/35459624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rkazants",
            "html_url": "https://github.com/rkazants",
            "followers_url": "https://api.github.com/users/rkazants/followers",
            "following_url": "https://api.github.com/users/rkazants/following{/other_user}",
            "gists_url": "https://api.github.com/users/rkazants/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rkazants/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rkazants/subscriptions",
            "organizations_url": "https://api.github.com/users/rkazants/orgs",
            "repos_url": "https://api.github.com/users/rkazants/repos",
            "events_url": "https://api.github.com/users/rkazants/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rkazants/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-14T09:07:08Z",
          "updated_at": "2024-06-14T09:07:08Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Hi @rkazants Can you please resolve the conflicts? Thank you!\r\n\r\nI am working on this PR. I am trying to resolve comments.\r\n\r\nBest regards,\r\nRoman",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2167591565/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2224337522",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2224337522",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2224337522,
          "node_id": "IC_kwDOAffHH86ElLJy",
          "user": {
            "login": "gbaned",
            "id": 48215717,
            "node_id": "MDQ6VXNlcjQ4MjE1NzE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48215717?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gbaned",
            "html_url": "https://github.com/gbaned",
            "followers_url": "https://api.github.com/users/gbaned/followers",
            "following_url": "https://api.github.com/users/gbaned/following{/other_user}",
            "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions",
            "organizations_url": "https://api.github.com/users/gbaned/orgs",
            "repos_url": "https://api.github.com/users/gbaned/repos",
            "events_url": "https://api.github.com/users/gbaned/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gbaned/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-12T03:05:06Z",
          "updated_at": "2024-07-12T03:05:06Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @rkazants Any update on this PR? Please. Thank you!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2224337522/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2253704045",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2253704045",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2253704045,
          "node_id": "IC_kwDOAffHH86GVMtt",
          "user": {
            "login": "github-actions[bot]",
            "id": 41898282,
            "node_id": "MDM6Qm90NDE4OTgyODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions%5Bbot%5D",
            "html_url": "https://github.com/apps/github-actions",
            "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
            "type": "Bot",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-27T01:52:10Z",
          "updated_at": "2024-07-27T01:52:10Z",
          "author_association": "NONE",
          "body": "This PR is stale because it has been open for 14 days with no activity. It will be closed if no further activity occurs. Thank you.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2253704045/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": {
            "id": 15368,
            "client_id": "Iv1.05c79e9ad1f6bdfa",
            "slug": "github-actions",
            "node_id": "MDM6QXBwMTUzNjg=",
            "owner": {
              "login": "github",
              "id": 9919,
              "node_id": "MDEyOk9yZ2FuaXphdGlvbjk5MTk=",
              "avatar_url": "https://avatars.githubusercontent.com/u/9919?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/github",
              "html_url": "https://github.com/github",
              "followers_url": "https://api.github.com/users/github/followers",
              "following_url": "https://api.github.com/users/github/following{/other_user}",
              "gists_url": "https://api.github.com/users/github/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/github/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/github/subscriptions",
              "organizations_url": "https://api.github.com/users/github/orgs",
              "repos_url": "https://api.github.com/users/github/repos",
              "events_url": "https://api.github.com/users/github/events{/privacy}",
              "received_events_url": "https://api.github.com/users/github/received_events",
              "type": "Organization",
              "user_view_type": "public",
              "site_admin": false
            },
            "name": "GitHub Actions",
            "description": "Automate your workflow from idea to production",
            "external_url": "https://help.github.com/en/actions",
            "html_url": "https://github.com/apps/github-actions",
            "created_at": "2018-07-30T09:30:17Z",
            "updated_at": "2025-03-07T16:35:00Z",
            "permissions": {
              "actions": "write",
              "administration": "read",
              "attestations": "write",
              "checks": "write",
              "contents": "write",
              "deployments": "write",
              "discussions": "write",
              "issues": "write",
              "merge_queues": "write",
              "metadata": "read",
              "models": "read",
              "packages": "write",
              "pages": "write",
              "pull_requests": "write",
              "repository_hooks": "write",
              "repository_projects": "write",
              "security_events": "write",
              "statuses": "write",
              "vulnerability_alerts": "read"
            },
            "events": [
              "branch_protection_rule",
              "check_run",
              "check_suite",
              "create",
              "delete",
              "deployment",
              "deployment_status",
              "discussion",
              "discussion_comment",
              "fork",
              "gollum",
              "issues",
              "issue_comment",
              "label",
              "merge_group",
              "milestone",
              "page_build",
              "project",
              "project_card",
              "project_column",
              "public",
              "pull_request",
              "pull_request_review",
              "pull_request_review_comment",
              "push",
              "registry_package",
              "release",
              "repository",
              "repository_dispatch",
              "status",
              "watch",
              "workflow_dispatch",
              "workflow_run"
            ]
          }
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2254139131",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2254139131",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2254139131,
          "node_id": "IC_kwDOAffHH86GW277",
          "user": {
            "login": "rkazants",
            "id": 35459624,
            "node_id": "MDQ6VXNlcjM1NDU5NjI0",
            "avatar_url": "https://avatars.githubusercontent.com/u/35459624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rkazants",
            "html_url": "https://github.com/rkazants",
            "followers_url": "https://api.github.com/users/rkazants/followers",
            "following_url": "https://api.github.com/users/rkazants/following{/other_user}",
            "gists_url": "https://api.github.com/users/rkazants/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rkazants/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rkazants/subscriptions",
            "organizations_url": "https://api.github.com/users/rkazants/orgs",
            "repos_url": "https://api.github.com/users/rkazants/repos",
            "events_url": "https://api.github.com/users/rkazants/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rkazants/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-27T12:41:41Z",
          "updated_at": "2024-07-27T12:41:41Z",
          "author_association": "CONTRIBUTOR",
          "body": "I am just back from vacation. I plan to continue from the next week.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2254139131/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2303528324",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2303528324",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2303528324,
          "node_id": "IC_kwDOAffHH86JTQ2E",
          "user": {
            "login": "github-actions[bot]",
            "id": 41898282,
            "node_id": "MDM6Qm90NDE4OTgyODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions%5Bbot%5D",
            "html_url": "https://github.com/apps/github-actions",
            "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
            "type": "Bot",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-22T01:56:02Z",
          "updated_at": "2024-08-22T01:56:02Z",
          "author_association": "NONE",
          "body": "This PR is stale because it has been open for 14 days with no activity. It will be closed if no further activity occurs. Thank you.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2303528324/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": {
            "id": 15368,
            "client_id": "Iv1.05c79e9ad1f6bdfa",
            "slug": "github-actions",
            "node_id": "MDM6QXBwMTUzNjg=",
            "owner": {
              "login": "github",
              "id": 9919,
              "node_id": "MDEyOk9yZ2FuaXphdGlvbjk5MTk=",
              "avatar_url": "https://avatars.githubusercontent.com/u/9919?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/github",
              "html_url": "https://github.com/github",
              "followers_url": "https://api.github.com/users/github/followers",
              "following_url": "https://api.github.com/users/github/following{/other_user}",
              "gists_url": "https://api.github.com/users/github/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/github/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/github/subscriptions",
              "organizations_url": "https://api.github.com/users/github/orgs",
              "repos_url": "https://api.github.com/users/github/repos",
              "events_url": "https://api.github.com/users/github/events{/privacy}",
              "received_events_url": "https://api.github.com/users/github/received_events",
              "type": "Organization",
              "user_view_type": "public",
              "site_admin": false
            },
            "name": "GitHub Actions",
            "description": "Automate your workflow from idea to production",
            "external_url": "https://help.github.com/en/actions",
            "html_url": "https://github.com/apps/github-actions",
            "created_at": "2018-07-30T09:30:17Z",
            "updated_at": "2025-03-07T16:35:00Z",
            "permissions": {
              "actions": "write",
              "administration": "read",
              "attestations": "write",
              "checks": "write",
              "contents": "write",
              "deployments": "write",
              "discussions": "write",
              "issues": "write",
              "merge_queues": "write",
              "metadata": "read",
              "models": "read",
              "packages": "write",
              "pages": "write",
              "pull_requests": "write",
              "repository_hooks": "write",
              "repository_projects": "write",
              "security_events": "write",
              "statuses": "write",
              "vulnerability_alerts": "read"
            },
            "events": [
              "branch_protection_rule",
              "check_run",
              "check_suite",
              "create",
              "delete",
              "deployment",
              "deployment_status",
              "discussion",
              "discussion_comment",
              "fork",
              "gollum",
              "issues",
              "issue_comment",
              "label",
              "merge_group",
              "milestone",
              "page_build",
              "project",
              "project_card",
              "project_column",
              "public",
              "pull_request",
              "pull_request_review",
              "pull_request_review_comment",
              "push",
              "registry_package",
              "release",
              "repository",
              "repository_dispatch",
              "status",
              "watch",
              "workflow_dispatch",
              "workflow_run"
            ]
          }
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2337487232",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2337487232",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2337487232,
          "node_id": "IC_kwDOAffHH86LUzmA",
          "user": {
            "login": "gbaned",
            "id": 48215717,
            "node_id": "MDQ6VXNlcjQ4MjE1NzE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48215717?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gbaned",
            "html_url": "https://github.com/gbaned",
            "followers_url": "https://api.github.com/users/gbaned/followers",
            "following_url": "https://api.github.com/users/gbaned/following{/other_user}",
            "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions",
            "organizations_url": "https://api.github.com/users/gbaned/orgs",
            "repos_url": "https://api.github.com/users/gbaned/repos",
            "events_url": "https://api.github.com/users/gbaned/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gbaned/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-09T08:37:42Z",
          "updated_at": "2024-09-09T08:37:42Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @rkazants Any update on this PR? Please. Thank you!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2337487232/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2337500560",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2337500560",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2337500560,
          "node_id": "IC_kwDOAffHH86LU22Q",
          "user": {
            "login": "rkazants",
            "id": 35459624,
            "node_id": "MDQ6VXNlcjM1NDU5NjI0",
            "avatar_url": "https://avatars.githubusercontent.com/u/35459624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rkazants",
            "html_url": "https://github.com/rkazants",
            "followers_url": "https://api.github.com/users/rkazants/followers",
            "following_url": "https://api.github.com/users/rkazants/following{/other_user}",
            "gists_url": "https://api.github.com/users/rkazants/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rkazants/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rkazants/subscriptions",
            "organizations_url": "https://api.github.com/users/rkazants/orgs",
            "repos_url": "https://api.github.com/users/rkazants/repos",
            "events_url": "https://api.github.com/users/rkazants/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rkazants/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-09T08:43:15Z",
          "updated_at": "2024-09-09T08:43:15Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Hi @rkazants Any update on this PR? Please. Thank you!\r\n\r\nHi @gbaned, please anticipate the update early this week. Sorry for the delay.\r\n\r\nThanks,\r\nRoman",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2337500560/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2373126366",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2373126366",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2373126366,
          "node_id": "IC_kwDOAffHH86Ncwje",
          "user": {
            "login": "rkazants",
            "id": 35459624,
            "node_id": "MDQ6VXNlcjM1NDU5NjI0",
            "avatar_url": "https://avatars.githubusercontent.com/u/35459624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rkazants",
            "html_url": "https://github.com/rkazants",
            "followers_url": "https://api.github.com/users/rkazants/followers",
            "following_url": "https://api.github.com/users/rkazants/following{/other_user}",
            "gists_url": "https://api.github.com/users/rkazants/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rkazants/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rkazants/subscriptions",
            "organizations_url": "https://api.github.com/users/rkazants/orgs",
            "repos_url": "https://api.github.com/users/rkazants/repos",
            "events_url": "https://api.github.com/users/rkazants/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rkazants/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-25T06:18:20Z",
          "updated_at": "2024-09-25T06:18:20Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet, please review. all other comments are addressed.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2373126366/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2373765290",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2373765290",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2373765290,
          "node_id": "IC_kwDOAffHH86NfMiq",
          "user": {
            "login": "rkazants",
            "id": 35459624,
            "node_id": "MDQ6VXNlcjM1NDU5NjI0",
            "avatar_url": "https://avatars.githubusercontent.com/u/35459624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rkazants",
            "html_url": "https://github.com/rkazants",
            "followers_url": "https://api.github.com/users/rkazants/followers",
            "following_url": "https://api.github.com/users/rkazants/following{/other_user}",
            "gists_url": "https://api.github.com/users/rkazants/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rkazants/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rkazants/subscriptions",
            "organizations_url": "https://api.github.com/users/rkazants/orgs",
            "repos_url": "https://api.github.com/users/rkazants/repos",
            "events_url": "https://api.github.com/users/rkazants/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rkazants/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-25T11:02:37Z",
          "updated_at": "2024-09-25T17:58:01Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet, \r\nAlso, I would suggest separate integration tests for openvino backend. I want to have test suite for each keras operation where it creates one layer model and test inference results. As reference, we can use numpy backend's results, for example. This way we will add more op coverage support step-by-step and validate new functionality. How do you think?\r\n\r\nThanks,\r\nRoman",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2373765290/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2376057270",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2376057270",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2376057270,
          "node_id": "IC_kwDOAffHH86Nn8G2",
          "user": {
            "login": "rkazants",
            "id": 35459624,
            "node_id": "MDQ6VXNlcjM1NDU5NjI0",
            "avatar_url": "https://avatars.githubusercontent.com/u/35459624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rkazants",
            "html_url": "https://github.com/rkazants",
            "followers_url": "https://api.github.com/users/rkazants/followers",
            "following_url": "https://api.github.com/users/rkazants/following{/other_user}",
            "gists_url": "https://api.github.com/users/rkazants/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rkazants/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rkazants/subscriptions",
            "organizations_url": "https://api.github.com/users/rkazants/orgs",
            "repos_url": "https://api.github.com/users/rkazants/repos",
            "events_url": "https://api.github.com/users/rkazants/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rkazants/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-26T06:37:22Z",
          "updated_at": "2024-09-26T06:37:22Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @fchollet, look forward to receive your review:)\r\nI am ready to address your comments asap these days.\r\n\r\nThanks in advance,\r\nRoman",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2376057270/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2379722920",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2379722920",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2379722920,
          "node_id": "IC_kwDOAffHH86N17Co",
          "user": {
            "login": "rkazants",
            "id": 35459624,
            "node_id": "MDQ6VXNlcjM1NDU5NjI0",
            "avatar_url": "https://avatars.githubusercontent.com/u/35459624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rkazants",
            "html_url": "https://github.com/rkazants",
            "followers_url": "https://api.github.com/users/rkazants/followers",
            "following_url": "https://api.github.com/users/rkazants/following{/other_user}",
            "gists_url": "https://api.github.com/users/rkazants/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rkazants/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rkazants/subscriptions",
            "organizations_url": "https://api.github.com/users/rkazants/orgs",
            "repos_url": "https://api.github.com/users/rkazants/repos",
            "events_url": "https://api.github.com/users/rkazants/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rkazants/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-27T17:11:12Z",
          "updated_at": "2024-09-27T17:11:12Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet, kindly reminder about review.\r\n\r\nThank you,\r\nRoman",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2379722920/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2383201497",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2383201497",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2383201497,
          "node_id": "IC_kwDOAffHH86ODMTZ",
          "user": {
            "login": "rkazants",
            "id": 35459624,
            "node_id": "MDQ6VXNlcjM1NDU5NjI0",
            "avatar_url": "https://avatars.githubusercontent.com/u/35459624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rkazants",
            "html_url": "https://github.com/rkazants",
            "followers_url": "https://api.github.com/users/rkazants/followers",
            "following_url": "https://api.github.com/users/rkazants/following{/other_user}",
            "gists_url": "https://api.github.com/users/rkazants/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rkazants/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rkazants/subscriptions",
            "organizations_url": "https://api.github.com/users/rkazants/orgs",
            "repos_url": "https://api.github.com/users/rkazants/repos",
            "events_url": "https://api.github.com/users/rkazants/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rkazants/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-30T13:30:25Z",
          "updated_at": "2024-09-30T13:30:25Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @fchollet, any update? Please inform me if any concerns.\r\n\r\nThanks,\r\nRoman",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2383201497/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2388404193",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2388404193",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2388404193,
          "node_id": "IC_kwDOAffHH86OXCfh",
          "user": {
            "login": "rkazants",
            "id": 35459624,
            "node_id": "MDQ6VXNlcjM1NDU5NjI0",
            "avatar_url": "https://avatars.githubusercontent.com/u/35459624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rkazants",
            "html_url": "https://github.com/rkazants",
            "followers_url": "https://api.github.com/users/rkazants/followers",
            "following_url": "https://api.github.com/users/rkazants/following{/other_user}",
            "gists_url": "https://api.github.com/users/rkazants/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rkazants/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rkazants/subscriptions",
            "organizations_url": "https://api.github.com/users/rkazants/orgs",
            "repos_url": "https://api.github.com/users/rkazants/repos",
            "events_url": "https://api.github.com/users/rkazants/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rkazants/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-10-02T11:21:24Z",
          "updated_at": "2024-10-02T11:21:24Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @fchollet, @gbaned,\r\n\r\nCould you please take a look? Let me know if any minimal scope of supported ops are required for this PR. I will add it here.\r\n\r\nThanks,\r\nRoman",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2388404193/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2390802926",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2390802926",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2390802926,
          "node_id": "IC_kwDOAffHH86OgMHu",
          "user": {
            "login": "rkazants",
            "id": 35459624,
            "node_id": "MDQ6VXNlcjM1NDU5NjI0",
            "avatar_url": "https://avatars.githubusercontent.com/u/35459624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rkazants",
            "html_url": "https://github.com/rkazants",
            "followers_url": "https://api.github.com/users/rkazants/followers",
            "following_url": "https://api.github.com/users/rkazants/following{/other_user}",
            "gists_url": "https://api.github.com/users/rkazants/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rkazants/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rkazants/subscriptions",
            "organizations_url": "https://api.github.com/users/rkazants/orgs",
            "repos_url": "https://api.github.com/users/rkazants/repos",
            "events_url": "https://api.github.com/users/rkazants/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rkazants/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-10-03T08:17:52Z",
          "updated_at": "2024-10-03T08:32:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Sorry, only seeing this now. It looks better! It seems the set of ops currently implemented is quite small, however. What kinds of end-to-end workflows are currently working? What level of op coverage do you think you can achieve?\r\n\r\nHi @fchollet, currently we support `predict` method only for inference. `evaluate` is not supported because it requires to support loss function and run it on the same backend. That is not convenient to do with our backend because eager execution is absent.\r\n\r\nIn future, from my quick glance we will be able to cover solid number of operations because OpenVINO opset is quite well developed and support a lot of TF, PyTorch, ONNX models from different hubs (TF, ONNX, HF, PyTorch, etc,) for inference and we permanently develop it to cover TF, PyTorch, ONNX opsets. You can find all OV operations here: https://docs.openvino.ai/2024/documentation/openvino-ir-format/operation-sets/operation-specs.html\r\n\r\nLet me know what amount of operations I should cover in this PR to get it merged. So we will have the base OpenVINO support here and continue ops coverage support in future PRs. For the base OpenVINO support, I propose to support operations required by BERT model without preprocessor from Keras Hub, for example, and demonstrate that it works. Example below. Will it be sufficient for merge?\r\n\r\n```python\r\nimport os\r\nos.environ[\"KERAS_BACKEND\"] = \"openvino\"\r\n\r\nimport keras_nlp\r\n\r\nfeatures = {\r\n    \"token_ids\": np.ones(shape=(2, 12), dtype=\"int32\"),\r\n    \"segment_ids\": np.array([[0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0]] * 2),\r\n    \"padding_mask\": np.array([[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0]] * 2),\r\n}\r\n\r\n# Load a BERT model.\r\nclassifier = keras_nlp.models.BertClassifier.from_preset(\r\n    \"bert_base_en_uncased\", \r\n    num_classes=2,\r\n    preprocessor=None\r\n)\r\n\r\nclassifier.predict(features)\r\n```\r\n\r\nIn the description of this PR, I demonstrated very simple model inference. Please check.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2390802926/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2393294525",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2393294525",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2393294525,
          "node_id": "IC_kwDOAffHH86Opsa9",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-10-04T09:42:42Z",
          "updated_at": "2024-10-04T09:42:42Z",
          "author_association": "COLLABORATOR",
          "body": "> Let me know what amount of operations I should cover in this PR to get it merged. So we will have the base OpenVINO support here and continue ops coverage support in future PRs. For the base OpenVINO support, I propose to support operations required by BERT model without preprocessor from Keras Hub, for example, and demonstrate that it works. Example below. Will it be sufficient for merge?\r\n\r\nWe will have to run only a very similar subset of unit tests on CI for OpenVINO since we cannot skip every test that isn't passing (too many). So we would have to create basically an OpenVINO-specific integration test that checks precisely the end-to-end workflows that are intended to be supported.\r\n\r\nAre you going to add support for CV workflows? I would recommend also having support for conv/pooling ops.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2393294525/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2393400393",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2393400393",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2393400393,
          "node_id": "IC_kwDOAffHH86OqGRJ",
          "user": {
            "login": "rkazants",
            "id": 35459624,
            "node_id": "MDQ6VXNlcjM1NDU5NjI0",
            "avatar_url": "https://avatars.githubusercontent.com/u/35459624?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rkazants",
            "html_url": "https://github.com/rkazants",
            "followers_url": "https://api.github.com/users/rkazants/followers",
            "following_url": "https://api.github.com/users/rkazants/following{/other_user}",
            "gists_url": "https://api.github.com/users/rkazants/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rkazants/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rkazants/subscriptions",
            "organizations_url": "https://api.github.com/users/rkazants/orgs",
            "repos_url": "https://api.github.com/users/rkazants/repos",
            "events_url": "https://api.github.com/users/rkazants/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rkazants/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-10-04T10:39:53Z",
          "updated_at": "2024-10-04T10:39:53Z",
          "author_association": "CONTRIBUTOR",
          "body": "> We will have to run only a very similar subset of unit tests on CI for OpenVINO since we cannot skip every test that isn't passing (too many). So we would have to create basically an OpenVINO-specific integration test that checks precisely the end-to-end workflows that are intended to be supported.\r\n> \r\n> Are you going to add support for CV workflows? I would recommend also having support for conv/pooling ops.\r\n\r\nYes, I will add separate integration tests for OpenVINO to cover currently supported ops. For this PR, let me enable MobileNetV3 from KerasCV that will require to support conv/pooling operations.\r\n\r\nSummarizing it, my to-do list for this PR looks as follows:\r\n\r\n1. Enable BertClassifier model from KerasNLP\r\n2. Enable MobileNet model from KerasCV\r\n3. Add integration tests for OpenVINO to cover supported ops\r\n\r\n@fchollet, will it be fine and sufficient for this PR merge?\r\n\r\nThanks a lot,\r\nRoman",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2393400393/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2394476503",
          "html_url": "https://github.com/keras-team/keras/pull/19727#issuecomment-2394476503",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/19727",
          "id": 2394476503,
          "node_id": "IC_kwDOAffHH86OuM_X",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-10-04T19:54:40Z",
          "updated_at": "2024-10-04T19:54:40Z",
          "author_association": "COLLABORATOR",
          "body": "> @fchollet, will it be fine and sufficient for this PR merge?\r\n\r\nYes, that sounds good to me!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2394476503/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/13353",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/13353/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/13353/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/13353/events",
      "html_url": "https://github.com/keras-team/keras/issues/13353",
      "id": 496653517,
      "node_id": "MDU6SXNzdWU0OTY2NTM1MTc=",
      "number": 13353,
      "title": "'thread._local' object has no attribute 'value' error ",
      "user": {
        "login": "ycdaskin",
        "id": 41010080,
        "node_id": "MDQ6VXNlcjQxMDEwMDgw",
        "avatar_url": "https://avatars.githubusercontent.com/u/41010080?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ycdaskin",
        "html_url": "https://github.com/ycdaskin",
        "followers_url": "https://api.github.com/users/ycdaskin/followers",
        "following_url": "https://api.github.com/users/ycdaskin/following{/other_user}",
        "gists_url": "https://api.github.com/users/ycdaskin/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ycdaskin/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ycdaskin/subscriptions",
        "organizations_url": "https://api.github.com/users/ycdaskin/orgs",
        "repos_url": "https://api.github.com/users/ycdaskin/repos",
        "events_url": "https://api.github.com/users/ycdaskin/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ycdaskin/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 101,
      "created_at": "2019-09-21T12:59:16Z",
      "updated_at": "2021-06-24T22:40:03Z",
      "closed_at": "2021-06-24T22:40:03Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "I am loading a model from an hdf5 file with using  keras.models.load_model. when i try to predict using that model the following error raises:\r\n\r\n 'thread._local' object has no attribute 'value' \r\n\r\nthe code is:\r\n\r\n'''\r\nfrom keras.preprocessing.image import img_to_array\r\nfrom keras.models import load_model\r\n\r\nmodel_path = (''/home/pi/classifier/models/model.hdf5'')\r\nclassifier = load_model(model_path, compile=False)\r\npreds = classifier.predict(img_to_array(image))\r\n'''\r\nwhere image is numpy array read by opencv\r\n\r\nPlatform: Raspberry Pi 4\r\nOS: Raspbian Buster\r\nTF version: 1.13.1\r\nKeras version: 2.3.0\r\n\r\n\r\n\r\n",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/13353/reactions",
        "total_count": 5,
        "+1": 5,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/13353/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/533915717",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-533915717",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 533915717,
          "node_id": "MDEyOklzc3VlQ29tbWVudDUzMzkxNTcxNw==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-09-22T20:26:25Z",
          "updated_at": "2019-09-22T20:26:25Z",
          "author_association": "COLLABORATOR",
          "body": "This has been fixed recently. Please try to install Keras from the `master` branch on GitHub.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/533915717/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/536077128",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-536077128",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 536077128,
          "node_id": "MDEyOklzc3VlQ29tbWVudDUzNjA3NzEyOA==",
          "user": {
            "login": "pratik-pk",
            "id": 17018007,
            "node_id": "MDQ6VXNlcjE3MDE4MDA3",
            "avatar_url": "https://avatars.githubusercontent.com/u/17018007?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pratik-pk",
            "html_url": "https://github.com/pratik-pk",
            "followers_url": "https://api.github.com/users/pratik-pk/followers",
            "following_url": "https://api.github.com/users/pratik-pk/following{/other_user}",
            "gists_url": "https://api.github.com/users/pratik-pk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pratik-pk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pratik-pk/subscriptions",
            "organizations_url": "https://api.github.com/users/pratik-pk/orgs",
            "repos_url": "https://api.github.com/users/pratik-pk/repos",
            "events_url": "https://api.github.com/users/pratik-pk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pratik-pk/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-09-27T19:59:01Z",
          "updated_at": "2019-09-27T19:59:01Z",
          "author_association": "NONE",
          "body": "The issue is still reflecting for me in ubuntu linux 18.0.4\r\nkeras : 2.3.0\r\n\r\n\r\nEnvironment:\r\n\r\n\r\nRequest Method: POST\r\nRequest URL: http://127.0.0.1:8000/form/\r\n\r\nDjango Version: 2.2.5\r\nPython Version: 3.7.3\r\nInstalled Applications:\r\n['django.contrib.admin',\r\n 'django.contrib.auth',\r\n 'django.contrib.contenttypes',\r\n 'django.contrib.sessions',\r\n 'django.contrib.messages',\r\n 'django.contrib.staticfiles',\r\n 'rest_framework',\r\n 'DLPAPI']\r\nInstalled Middleware:\r\n['django.middleware.security.SecurityMiddleware',\r\n 'django.contrib.sessions.middleware.SessionMiddleware',\r\n 'django.middleware.common.CommonMiddleware',\r\n 'django.middleware.csrf.CsrfViewMiddleware',\r\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\r\n 'django.contrib.messages.middleware.MessageMiddleware',\r\n 'django.middleware.clickjacking.XFrameOptionsMiddleware']\r\n\r\n\r\n\r\nTraceback:\r\n\r\nFile \"/home/pratikkumarpandey/dlpenv/lib/python3.7/site-packages/django/core/handlers/exception.py\" in inner\r\n  34.             response = get_response(request)\r\n\r\nFile \"/home/pratikkumarpandey/dlpenv/lib/python3.7/site-packages/django/core/handlers/base.py\" in _get_response\r\n  115.                 response = self.process_exception_by_middleware(e, request)\r\n\r\nFile \"/home/pratikkumarpandey/dlpenv/lib/python3.7/site-packages/django/core/handlers/base.py\" in _get_response\r\n  113.                 response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\n\r\nFile \"/home/pratikkumarpandey/DLP_PROJECT/DLPAPI/views.py\" in dlpdataview\r\n  30.             result(recordNUM)\r\n\r\nFile \"/home/pratikkumarpandey/DLP_PROJECT/DLPAPI/DLP/dlpExplainable.py\" in result\r\n  223.     a,b,c,d= getExplanationByRecord(val1)\r\n\r\nFile \"/home/pratikkumarpandey/DLP_PROJECT/DLPAPI/DLP/dlpExplainable.py\" in getExplanationByRecord\r\n  200.     dataFrame, context, inputVector, DNNPrediction, predictionClass = getTextPrediction(recordNum)\r\n\r\nFile \"/home/pratikkumarpandey/DLP_PROJECT/DLPAPI/DLP/dlpExplainable.py\" in getTextPrediction\r\n  70. \tprediction = model.predict(inputVector, verbose=0)\r\n\r\nFile \"/home/pratikkumarpandey/dlpenv/lib/python3.7/site-packages/keras/engine/training.py\" in predict\r\n  1462.                                             callbacks=callbacks)",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/536077128/reactions",
            "total_count": 18,
            "+1": 17,
            "-1": 1,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/536209987",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-536209987",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 536209987,
          "node_id": "MDEyOklzc3VlQ29tbWVudDUzNjIwOTk4Nw==",
          "user": {
            "login": "durnosmih",
            "id": 36623192,
            "node_id": "MDQ6VXNlcjM2NjIzMTky",
            "avatar_url": "https://avatars.githubusercontent.com/u/36623192?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/durnosmih",
            "html_url": "https://github.com/durnosmih",
            "followers_url": "https://api.github.com/users/durnosmih/followers",
            "following_url": "https://api.github.com/users/durnosmih/following{/other_user}",
            "gists_url": "https://api.github.com/users/durnosmih/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/durnosmih/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/durnosmih/subscriptions",
            "organizations_url": "https://api.github.com/users/durnosmih/orgs",
            "repos_url": "https://api.github.com/users/durnosmih/repos",
            "events_url": "https://api.github.com/users/durnosmih/events{/privacy}",
            "received_events_url": "https://api.github.com/users/durnosmih/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-09-28T17:39:14Z",
          "updated_at": "2019-09-28T17:39:14Z",
          "author_association": "NONE",
          "body": "I have the same issues\r\nI'm running python script with keras 2.2.5 on my laptop and everything is fine\r\nBut the same script with keras 2.3.0 on another computer gives this error\r\n\r\nOS: Windows 10\r\nTF: 1.14.0",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/536209987/reactions",
            "total_count": 14,
            "+1": 12,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/536301459",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-536301459",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 536301459,
          "node_id": "MDEyOklzc3VlQ29tbWVudDUzNjMwMTQ1OQ==",
          "user": {
            "login": "pratikpc",
            "id": 28534575,
            "node_id": "MDQ6VXNlcjI4NTM0NTc1",
            "avatar_url": "https://avatars.githubusercontent.com/u/28534575?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pratikpc",
            "html_url": "https://github.com/pratikpc",
            "followers_url": "https://api.github.com/users/pratikpc/followers",
            "following_url": "https://api.github.com/users/pratikpc/following{/other_user}",
            "gists_url": "https://api.github.com/users/pratikpc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pratikpc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pratikpc/subscriptions",
            "organizations_url": "https://api.github.com/users/pratikpc/orgs",
            "repos_url": "https://api.github.com/users/pratikpc/repos",
            "events_url": "https://api.github.com/users/pratikpc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pratikpc/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-09-29T13:40:39Z",
          "updated_at": "2019-09-29T13:40:39Z",
          "author_association": "NONE",
          "body": "@DenVys thank you so much!\r\nWe were shocked that our multithreaded KTrain loaded model was working at one place and not working in another.\r\nThank you again!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/536301459/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/537244870",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-537244870",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 537244870,
          "node_id": "MDEyOklzc3VlQ29tbWVudDUzNzI0NDg3MA==",
          "user": {
            "login": "bimaben",
            "id": 39376801,
            "node_id": "MDQ6VXNlcjM5Mzc2ODAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/39376801?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bimaben",
            "html_url": "https://github.com/bimaben",
            "followers_url": "https://api.github.com/users/bimaben/followers",
            "following_url": "https://api.github.com/users/bimaben/following{/other_user}",
            "gists_url": "https://api.github.com/users/bimaben/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bimaben/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bimaben/subscriptions",
            "organizations_url": "https://api.github.com/users/bimaben/orgs",
            "repos_url": "https://api.github.com/users/bimaben/repos",
            "events_url": "https://api.github.com/users/bimaben/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bimaben/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-01T21:43:38Z",
          "updated_at": "2019-10-01T21:45:13Z",
          "author_association": "NONE",
          "body": "So I has the same issue, I am running an image classification model on an ubuntu server! \r\nI uninstalled Keras since I had Installed it using PIp, So I run \r\n\r\n> pip uninstall keras \r\n\r\nand then I installed it again using\r\n \r\n\r\n> conda install keras\r\n\r\n It solved the issue!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/537244870/reactions",
            "total_count": 17,
            "+1": 3,
            "-1": 14,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/537383995",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-537383995",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 537383995,
          "node_id": "MDEyOklzc3VlQ29tbWVudDUzNzM4Mzk5NQ==",
          "user": {
            "login": "Vitaly-Git",
            "id": 22824585,
            "node_id": "MDQ6VXNlcjIyODI0NTg1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22824585?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Vitaly-Git",
            "html_url": "https://github.com/Vitaly-Git",
            "followers_url": "https://api.github.com/users/Vitaly-Git/followers",
            "following_url": "https://api.github.com/users/Vitaly-Git/following{/other_user}",
            "gists_url": "https://api.github.com/users/Vitaly-Git/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Vitaly-Git/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Vitaly-Git/subscriptions",
            "organizations_url": "https://api.github.com/users/Vitaly-Git/orgs",
            "repos_url": "https://api.github.com/users/Vitaly-Git/repos",
            "events_url": "https://api.github.com/users/Vitaly-Git/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Vitaly-Git/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-02T08:05:17Z",
          "updated_at": "2019-10-02T08:05:17Z",
          "author_association": "NONE",
          "body": "Hello. Today we've faced the same problem. We've founded that Version ImageAI 2.1.5 works with tensorflow v 1.14.0 and keras  v.2.2.5 so use: \r\n\r\npip install tensorflow==1.14\r\npip install keras==2.2.5\r\n\r\nIt's solved our problem.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/537383995/reactions",
            "total_count": 50,
            "+1": 40,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 6,
            "rocket": 4,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/540559947",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-540559947",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 540559947,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU0MDU1OTk0Nw==",
          "user": {
            "login": "bytemain",
            "id": 13938334,
            "node_id": "MDQ6VXNlcjEzOTM4MzM0",
            "avatar_url": "https://avatars.githubusercontent.com/u/13938334?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bytemain",
            "html_url": "https://github.com/bytemain",
            "followers_url": "https://api.github.com/users/bytemain/followers",
            "following_url": "https://api.github.com/users/bytemain/following{/other_user}",
            "gists_url": "https://api.github.com/users/bytemain/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bytemain/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bytemain/subscriptions",
            "organizations_url": "https://api.github.com/users/bytemain/orgs",
            "repos_url": "https://api.github.com/users/bytemain/repos",
            "events_url": "https://api.github.com/users/bytemain/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bytemain/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-10T12:50:35Z",
          "updated_at": "2019-10-10T12:50:35Z",
          "author_association": "NONE",
          "body": "can confirm.\r\nkeras==2.2.5 solve the problem.\r\n\r\nI'm trying to use keras in flask, it raise an error:\r\n'thread._local' object has no attribute 'value' error",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/540559947/reactions",
            "total_count": 30,
            "+1": 30,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541327317",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-541327317",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 541327317,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTMyNzMxNw==",
          "user": {
            "login": "durnosmih",
            "id": 36623192,
            "node_id": "MDQ6VXNlcjM2NjIzMTky",
            "avatar_url": "https://avatars.githubusercontent.com/u/36623192?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/durnosmih",
            "html_url": "https://github.com/durnosmih",
            "followers_url": "https://api.github.com/users/durnosmih/followers",
            "following_url": "https://api.github.com/users/durnosmih/following{/other_user}",
            "gists_url": "https://api.github.com/users/durnosmih/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/durnosmih/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/durnosmih/subscriptions",
            "organizations_url": "https://api.github.com/users/durnosmih/orgs",
            "repos_url": "https://api.github.com/users/durnosmih/repos",
            "events_url": "https://api.github.com/users/durnosmih/events{/privacy}",
            "received_events_url": "https://api.github.com/users/durnosmih/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-12T13:56:40Z",
          "updated_at": "2019-10-12T13:56:40Z",
          "author_association": "NONE",
          "body": "@fchollet\r\nIt looks like this is still a problem as people said\r\nMaybe we need to reopen this issue?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541327317/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541447799",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-541447799",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 541447799,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTQ0Nzc5OQ==",
          "user": {
            "login": "dmwyatt",
            "id": 163359,
            "node_id": "MDQ6VXNlcjE2MzM1OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/163359?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmwyatt",
            "html_url": "https://github.com/dmwyatt",
            "followers_url": "https://api.github.com/users/dmwyatt/followers",
            "following_url": "https://api.github.com/users/dmwyatt/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmwyatt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmwyatt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmwyatt/subscriptions",
            "organizations_url": "https://api.github.com/users/dmwyatt/orgs",
            "repos_url": "https://api.github.com/users/dmwyatt/repos",
            "events_url": "https://api.github.com/users/dmwyatt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmwyatt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-13T19:05:28Z",
          "updated_at": "2019-10-13T19:05:28Z",
          "author_association": "NONE",
          "body": "@DenVys As he said, the fix is on `master`.  It looks like everyone who is still having the problem is not using `master`.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541447799/reactions",
            "total_count": 7,
            "+1": 0,
            "-1": 6,
            "laugh": 0,
            "hooray": 0,
            "confused": 1,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541448420",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-541448420",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 541448420,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTQ0ODQyMA==",
          "user": {
            "login": "dmwyatt",
            "id": 163359,
            "node_id": "MDQ6VXNlcjE2MzM1OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/163359?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmwyatt",
            "html_url": "https://github.com/dmwyatt",
            "followers_url": "https://api.github.com/users/dmwyatt/followers",
            "following_url": "https://api.github.com/users/dmwyatt/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmwyatt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmwyatt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmwyatt/subscriptions",
            "organizations_url": "https://api.github.com/users/dmwyatt/orgs",
            "repos_url": "https://api.github.com/users/dmwyatt/repos",
            "events_url": "https://api.github.com/users/dmwyatt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmwyatt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-13T19:12:04Z",
          "updated_at": "2019-10-13T19:12:04Z",
          "author_association": "NONE",
          "body": "That being said, @fchollet I installed from master and am still getting this error with Flask.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541448420/reactions",
            "total_count": 29,
            "+1": 22,
            "-1": 0,
            "laugh": 1,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 5
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541471939",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-541471939",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 541471939,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTQ3MTkzOQ==",
          "user": {
            "login": "mouadennasri",
            "id": 22473056,
            "node_id": "MDQ6VXNlcjIyNDczMDU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/22473056?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mouadennasri",
            "html_url": "https://github.com/mouadennasri",
            "followers_url": "https://api.github.com/users/mouadennasri/followers",
            "following_url": "https://api.github.com/users/mouadennasri/following{/other_user}",
            "gists_url": "https://api.github.com/users/mouadennasri/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mouadennasri/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mouadennasri/subscriptions",
            "organizations_url": "https://api.github.com/users/mouadennasri/orgs",
            "repos_url": "https://api.github.com/users/mouadennasri/repos",
            "events_url": "https://api.github.com/users/mouadennasri/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mouadennasri/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-13T23:56:54Z",
          "updated_at": "2019-10-13T23:56:54Z",
          "author_association": "NONE",
          "body": "I've tried Keras 2.2.5 but the issue still persists ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541471939/reactions",
            "total_count": 4,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541472326",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-541472326",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 541472326,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTQ3MjMyNg==",
          "user": {
            "login": "mouadennasri",
            "id": 22473056,
            "node_id": "MDQ6VXNlcjIyNDczMDU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/22473056?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mouadennasri",
            "html_url": "https://github.com/mouadennasri",
            "followers_url": "https://api.github.com/users/mouadennasri/followers",
            "following_url": "https://api.github.com/users/mouadennasri/following{/other_user}",
            "gists_url": "https://api.github.com/users/mouadennasri/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mouadennasri/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mouadennasri/subscriptions",
            "organizations_url": "https://api.github.com/users/mouadennasri/orgs",
            "repos_url": "https://api.github.com/users/mouadennasri/repos",
            "events_url": "https://api.github.com/users/mouadennasri/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mouadennasri/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-14T00:01:31Z",
          "updated_at": "2019-10-14T00:01:31Z",
          "author_association": "NONE",
          "body": "For those who don't need the multithreading, and still get blocked by this issue try setting  `threaded=False` in `app.run` ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541472326/reactions",
            "total_count": 31,
            "+1": 25,
            "-1": 0,
            "laugh": 0,
            "hooray": 5,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541483031",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-541483031",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 541483031,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTQ4MzAzMQ==",
          "user": {
            "login": "ericromang",
            "id": 44595368,
            "node_id": "MDQ6VXNlcjQ0NTk1MzY4",
            "avatar_url": "https://avatars.githubusercontent.com/u/44595368?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ericromang",
            "html_url": "https://github.com/ericromang",
            "followers_url": "https://api.github.com/users/ericromang/followers",
            "following_url": "https://api.github.com/users/ericromang/following{/other_user}",
            "gists_url": "https://api.github.com/users/ericromang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ericromang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ericromang/subscriptions",
            "organizations_url": "https://api.github.com/users/ericromang/orgs",
            "repos_url": "https://api.github.com/users/ericromang/repos",
            "events_url": "https://api.github.com/users/ericromang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ericromang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-14T02:04:06Z",
          "updated_at": "2019-10-14T02:04:43Z",
          "author_association": "NONE",
          "body": "> For those who don't need the multithreading, and still get blocked by this issue try setting `threaded=False` in `app.run`\r\n\r\nit's working for me\r\nExample:\r\napp.run(host=\"0.0.0.0\",port=5000,threaded=False)",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541483031/reactions",
            "total_count": 27,
            "+1": 23,
            "-1": 0,
            "laugh": 0,
            "hooray": 4,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541655543",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-541655543",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 541655543,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTY1NTU0Mw==",
          "user": {
            "login": "cbodenst",
            "id": 1872385,
            "node_id": "MDQ6VXNlcjE4NzIzODU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1872385?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cbodenst",
            "html_url": "https://github.com/cbodenst",
            "followers_url": "https://api.github.com/users/cbodenst/followers",
            "following_url": "https://api.github.com/users/cbodenst/following{/other_user}",
            "gists_url": "https://api.github.com/users/cbodenst/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cbodenst/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cbodenst/subscriptions",
            "organizations_url": "https://api.github.com/users/cbodenst/orgs",
            "repos_url": "https://api.github.com/users/cbodenst/repos",
            "events_url": "https://api.github.com/users/cbodenst/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cbodenst/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-14T12:43:35Z",
          "updated_at": "2019-10-14T12:43:35Z",
          "author_association": "NONE",
          "body": "Running keras inside a thread with TF2 will still crash like that. I think this is still a big issue and should still be open.\r\nThis example will reproduce the error:\r\n\r\nTensorflow: 2.0\r\nKeras: 2.3.1\r\n```\r\nfrom keras.models import Sequential, load_model\r\nfrom keras.layers import Dense\r\nfrom threading import Thread\r\n\r\nm = Sequential()\r\nm.add(Dense(10,input_shape=(10,)))\r\nm.compile(\"sgd\",\"mse\")\r\nm.save(\"test.h5\")\r\n\r\ndef load():\r\n    load_model(\"test.h5\")\r\n\r\nt = Thread(target=load)\r\nt.start()\r\nt.join()\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541655543/reactions",
            "total_count": 18,
            "+1": 17,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 1,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541813752",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-541813752",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 541813752,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTgxMzc1Mg==",
          "user": {
            "login": "dmwyatt",
            "id": 163359,
            "node_id": "MDQ6VXNlcjE2MzM1OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/163359?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dmwyatt",
            "html_url": "https://github.com/dmwyatt",
            "followers_url": "https://api.github.com/users/dmwyatt/followers",
            "following_url": "https://api.github.com/users/dmwyatt/following{/other_user}",
            "gists_url": "https://api.github.com/users/dmwyatt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dmwyatt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dmwyatt/subscriptions",
            "organizations_url": "https://api.github.com/users/dmwyatt/orgs",
            "repos_url": "https://api.github.com/users/dmwyatt/repos",
            "events_url": "https://api.github.com/users/dmwyatt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dmwyatt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-14T17:33:42Z",
          "updated_at": "2019-10-14T17:33:42Z",
          "author_association": "NONE",
          "body": "Yeah, I spent a bit of time and haven't yet found a combinations of versions that lets me use TF/Keras in a thread (aka, using it with Flask in default threading config) while letting me use TF > 2.0.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541813752/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/542089707",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-542089707",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 542089707,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU0MjA4OTcwNw==",
          "user": {
            "login": "pratik-pk",
            "id": 17018007,
            "node_id": "MDQ6VXNlcjE3MDE4MDA3",
            "avatar_url": "https://avatars.githubusercontent.com/u/17018007?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pratik-pk",
            "html_url": "https://github.com/pratik-pk",
            "followers_url": "https://api.github.com/users/pratik-pk/followers",
            "following_url": "https://api.github.com/users/pratik-pk/following{/other_user}",
            "gists_url": "https://api.github.com/users/pratik-pk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pratik-pk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pratik-pk/subscriptions",
            "organizations_url": "https://api.github.com/users/pratik-pk/orgs",
            "repos_url": "https://api.github.com/users/pratik-pk/repos",
            "events_url": "https://api.github.com/users/pratik-pk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pratik-pk/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-15T08:00:21Z",
          "updated_at": "2019-10-15T08:00:21Z",
          "author_association": "NONE",
          "body": "There is no problem in keras code people who are using it with different session are actually facing this issue.\r\nFor example if you are trying to call predict function from Django ,it will create two different session so you just have to take care of global graph and make sure there is same session in both ,than your problem will be solved",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/542089707/reactions",
            "total_count": 13,
            "+1": 5,
            "-1": 8,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/543712789",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-543712789",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 543712789,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU0MzcxMjc4OQ==",
          "user": {
            "login": "marlonjan",
            "id": 9771046,
            "node_id": "MDQ6VXNlcjk3NzEwNDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9771046?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/marlonjan",
            "html_url": "https://github.com/marlonjan",
            "followers_url": "https://api.github.com/users/marlonjan/followers",
            "following_url": "https://api.github.com/users/marlonjan/following{/other_user}",
            "gists_url": "https://api.github.com/users/marlonjan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/marlonjan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/marlonjan/subscriptions",
            "organizations_url": "https://api.github.com/users/marlonjan/orgs",
            "repos_url": "https://api.github.com/users/marlonjan/repos",
            "events_url": "https://api.github.com/users/marlonjan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/marlonjan/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-18T12:23:35Z",
          "updated_at": "2019-10-18T12:28:20Z",
          "author_association": "NONE",
          "body": "Confirming that there is still a problem with TF 2.0 and Keras 2.3.1, as described by @cbodenst above.\r\n\r\nI'm running into the issue while using [ray.tune](https://ray.readthedocs.io/en/latest/tune.html) to train a Keras model. Using TF 1.14.0 and Keras 2.3.1 seems to work.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/543712789/reactions",
            "total_count": 12,
            "+1": 12,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/545026684",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-545026684",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 545026684,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU0NTAyNjY4NA==",
          "user": {
            "login": "mletombe",
            "id": 15654154,
            "node_id": "MDQ6VXNlcjE1NjU0MTU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/15654154?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mletombe",
            "html_url": "https://github.com/mletombe",
            "followers_url": "https://api.github.com/users/mletombe/followers",
            "following_url": "https://api.github.com/users/mletombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/mletombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mletombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mletombe/subscriptions",
            "organizations_url": "https://api.github.com/users/mletombe/orgs",
            "repos_url": "https://api.github.com/users/mletombe/repos",
            "events_url": "https://api.github.com/users/mletombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mletombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-22T15:45:36Z",
          "updated_at": "2019-10-22T15:45:36Z",
          "author_association": "NONE",
          "body": "Upgrading from keras 2.3.0 to 2.3.1 solved the problem for me...",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/545026684/reactions",
            "total_count": 33,
            "+1": 2,
            "-1": 31,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/545287303",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-545287303",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 545287303,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU0NTI4NzMwMw==",
          "user": {
            "login": "VishalAkar",
            "id": 26461642,
            "node_id": "MDQ6VXNlcjI2NDYxNjQy",
            "avatar_url": "https://avatars.githubusercontent.com/u/26461642?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/VishalAkar",
            "html_url": "https://github.com/VishalAkar",
            "followers_url": "https://api.github.com/users/VishalAkar/followers",
            "following_url": "https://api.github.com/users/VishalAkar/following{/other_user}",
            "gists_url": "https://api.github.com/users/VishalAkar/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/VishalAkar/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/VishalAkar/subscriptions",
            "organizations_url": "https://api.github.com/users/VishalAkar/orgs",
            "repos_url": "https://api.github.com/users/VishalAkar/repos",
            "events_url": "https://api.github.com/users/VishalAkar/events{/privacy}",
            "received_events_url": "https://api.github.com/users/VishalAkar/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-23T06:21:09Z",
          "updated_at": "2019-10-23T06:21:09Z",
          "author_association": "NONE",
          "body": "@mletombe  I have keras version 2.3.1 still having the issue.\r\ncan u tell me the version of tensorflow you are using.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/545287303/reactions",
            "total_count": 7,
            "+1": 7,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/545312527",
          "html_url": "https://github.com/keras-team/keras/issues/13353#issuecomment-545312527",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13353",
          "id": 545312527,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU0NTMxMjUyNw==",
          "user": {
            "login": "mletombe",
            "id": 15654154,
            "node_id": "MDQ6VXNlcjE1NjU0MTU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/15654154?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mletombe",
            "html_url": "https://github.com/mletombe",
            "followers_url": "https://api.github.com/users/mletombe/followers",
            "following_url": "https://api.github.com/users/mletombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/mletombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mletombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mletombe/subscriptions",
            "organizations_url": "https://api.github.com/users/mletombe/orgs",
            "repos_url": "https://api.github.com/users/mletombe/repos",
            "events_url": "https://api.github.com/users/mletombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mletombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-23T07:38:20Z",
          "updated_at": "2019-10-23T07:38:20Z",
          "author_association": "NONE",
          "body": "I'm using tensorflow 1.13.0-rc2, python 3.6, win 10...",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/545312527/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/244",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/244/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/244/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/244/events",
      "html_url": "https://github.com/keras-team/keras/pull/244",
      "id": 89391191,
      "node_id": "MDExOlB1bGxSZXF1ZXN0MzgwNDk4MzM=",
      "number": 244,
      "title": "Introduce time-masking to recurrent layers.",
      "user": {
        "login": "wxs",
        "id": 326559,
        "node_id": "MDQ6VXNlcjMyNjU1OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/326559?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/wxs",
        "html_url": "https://github.com/wxs",
        "followers_url": "https://api.github.com/users/wxs/followers",
        "following_url": "https://api.github.com/users/wxs/following{/other_user}",
        "gists_url": "https://api.github.com/users/wxs/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/wxs/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/wxs/subscriptions",
        "organizations_url": "https://api.github.com/users/wxs/orgs",
        "repos_url": "https://api.github.com/users/wxs/repos",
        "events_url": "https://api.github.com/users/wxs/events{/privacy}",
        "received_events_url": "https://api.github.com/users/wxs/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 90,
      "created_at": "2015-06-18T20:34:57Z",
      "updated_at": "2015-07-02T16:38:48Z",
      "closed_at": "2015-06-29T00:54:50Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/244",
        "html_url": "https://github.com/keras-team/keras/pull/244",
        "diff_url": "https://github.com/keras-team/keras/pull/244.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/244.patch",
        "merged_at": "2015-06-29T00:54:50Z"
      },
      "body": "This follows our discussion over in #176 where it was concluded that having a special \"sentinel\" value to represent something being masked out would be preferable to the approach I took in my earlier PR #239 \n\nComments welcome! I've not yet implemented this for any of the other recurrent layer types, pending some review.\n\n<s>A note: my tests appear to take somewhat longer on my GPU machine than on my normal CPU-only machine. They're quite different, so this could be due to some other factor, but I thought it was worth mentioning in case I'm inadvertently using an operation that's unsafe for the GPU.</s> **Edit:** This was just because of the default `batch_size`, so I don't think is an issue\n",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/244/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/244/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113284688",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113284688",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113284688,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzI4NDY4OA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-18T20:48:50Z",
          "updated_at": "2015-06-18T20:48:50Z",
          "author_association": "COLLABORATOR",
          "body": "This look good so far! \n\nI don't immediately get the purpose of this:\n\n``` python\nmask = T.addbroadcast(mask[:,:,np.newaxis], 2)\n```\n\n> A note: my tests appear to take somewhat longer on my GPU machine than on my normal CPU-only machine. They're quite different, so this could be due to some other factor, but I thought it was worth mentioning in case I'm inadvertently using an operation that's unsafe for the GPU.\n\nAny way this hypothesis can be tested?\n\nAlso: please use spaces after commas and around arithmetic signs for code readability.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113284688/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113285837",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113285837",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113285837,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzI4NTgzNw==",
          "user": {
            "login": "wxs",
            "id": 326559,
            "node_id": "MDQ6VXNlcjMyNjU1OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/326559?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wxs",
            "html_url": "https://github.com/wxs",
            "followers_url": "https://api.github.com/users/wxs/followers",
            "following_url": "https://api.github.com/users/wxs/following{/other_user}",
            "gists_url": "https://api.github.com/users/wxs/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wxs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wxs/subscriptions",
            "organizations_url": "https://api.github.com/users/wxs/orgs",
            "repos_url": "https://api.github.com/users/wxs/repos",
            "events_url": "https://api.github.com/users/wxs/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wxs/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-18T20:52:46Z",
          "updated_at": "2015-06-18T20:52:46Z",
          "author_association": "CONTRIBUTOR",
          "body": "```\nmask = T.addbroadcast(mask[:,:,np.newaxis], 2)\n```\n\nThis is important because the mask is `(time, nb_samples)` and the data is `(time, nb_samples, n_dim)`. I need to add the broadcast for the multiply in `_step` to get them to the same shape.\n\n> Any way this hypothesis can be tested?\n\nI altered the batch size and it went away, I think it's just the cost of CPU->GPU transfer\n\n> Also: please use spaces after commas and around arithmetic signs for code readability.\n\nOn it :)\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113285837/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113289362",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113289362",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113289362,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzI4OTM2Mg==",
          "user": {
            "login": "wxs",
            "id": 326559,
            "node_id": "MDQ6VXNlcjMyNjU1OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/326559?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wxs",
            "html_url": "https://github.com/wxs",
            "followers_url": "https://api.github.com/users/wxs/followers",
            "following_url": "https://api.github.com/users/wxs/following{/other_user}",
            "gists_url": "https://api.github.com/users/wxs/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wxs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wxs/subscriptions",
            "organizations_url": "https://api.github.com/users/wxs/orgs",
            "repos_url": "https://api.github.com/users/wxs/repos",
            "events_url": "https://api.github.com/users/wxs/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wxs/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-18T21:02:56Z",
          "updated_at": "2015-06-18T21:02:56Z",
          "author_association": "CONTRIBUTOR",
          "body": "Things that would be left to do on this:\n- Support masking in more recurrent types\n- Documentation\n- change the padding function\n\nAnything else?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113289362/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113289979",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113289979",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113289979,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzI4OTk3OQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-18T21:05:48Z",
          "updated_at": "2015-06-18T21:05:48Z",
          "author_association": "COLLABORATOR",
          "body": "> change the padding function\n\nI actually updated the padding function to use pre-padding as default earlier today.\n\nOtherwise, we need to figure out what a good default mask value would be. '0.' is more aesthetic, but can it be proven safe? And what are the potential risks of using a value with a high absolute value?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113289979/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113290668",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113290668",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113290668,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzI5MDY2OA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-18T21:09:13Z",
          "updated_at": "2015-06-18T21:09:13Z",
          "author_association": "COLLABORATOR",
          "body": "Thinking of the default mask value: it's definitely dangerous to have a non-0 padding as default for the `Embedding`, since that layer can often be used in combination with layers that don't do masking, such as `Dense` and `Convolution2D`.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113290668/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113291074",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113291074",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113291074,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzI5MTA3NA==",
          "user": {
            "login": "wxs",
            "id": 326559,
            "node_id": "MDQ6VXNlcjMyNjU1OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/326559?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wxs",
            "html_url": "https://github.com/wxs",
            "followers_url": "https://api.github.com/users/wxs/followers",
            "following_url": "https://api.github.com/users/wxs/following{/other_user}",
            "gists_url": "https://api.github.com/users/wxs/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wxs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wxs/subscriptions",
            "organizations_url": "https://api.github.com/users/wxs/orgs",
            "repos_url": "https://api.github.com/users/wxs/repos",
            "events_url": "https://api.github.com/users/wxs/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wxs/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-18T21:11:10Z",
          "updated_at": "2015-06-18T21:11:10Z",
          "author_association": "CONTRIBUTOR",
          "body": "Waait I just realized a fundamental problem with this approach. Now we have the `SimpleRNN` output 0 for every masked value, so the mask doesn't propagate down multiple layers.\n\nI need to have it instead output the mask, but then I _also_ need to check h_tm1 to see if it's masked. Hmm.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113291074/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113291514",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113291514",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113291514,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzI5MTUxNA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-18T21:13:17Z",
          "updated_at": "2015-06-18T21:13:17Z",
          "author_association": "COLLABORATOR",
          "body": "> but then I also need to check h_tm1 to see if it's masked. \n\nWhy?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113291514/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113292688",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113292688",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113292688,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzI5MjY4OA==",
          "user": {
            "login": "wxs",
            "id": 326559,
            "node_id": "MDQ6VXNlcjMyNjU1OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/326559?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wxs",
            "html_url": "https://github.com/wxs",
            "followers_url": "https://api.github.com/users/wxs/followers",
            "following_url": "https://api.github.com/users/wxs/following{/other_user}",
            "gists_url": "https://api.github.com/users/wxs/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wxs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wxs/subscriptions",
            "organizations_url": "https://api.github.com/users/wxs/orgs",
            "repos_url": "https://api.github.com/users/wxs/repos",
            "events_url": "https://api.github.com/users/wxs/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wxs/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-18T21:19:06Z",
          "updated_at": "2015-06-18T21:19:06Z",
          "author_association": "CONTRIBUTOR",
          "body": "Well if I change the output of each SimpleRNN to be [-999] when masked, then that propagates properly down to the next layer of the deep net.\n\nHowever, when I get an _unmasked_ value , say at `t=3` it will incorporate in its step the value from `t=2`, which, since it was masked, is `[-999]`, not 0.\n\nI could pass in mask_tm1 as another variable to `step`, and then do\n\n```\n mask_t * self.activation(x_t + mask_tm1*T.dot(h_tm1, u))\n```\n\nthat would fix it, at the cost of a bit more memory.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113292688/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113293636",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113293636",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113293636,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzI5MzYzNg==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-18T21:24:14Z",
          "updated_at": "2015-06-18T21:24:14Z",
          "author_association": "COLLABORATOR",
          "body": "I believe this series of cascading issues could be avoided by reverting to the initial plan of a hard-coded mask value of 0., non configurable. Pros/cons? \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113293636/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113293823",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113293823",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113293823,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzI5MzgyMw==",
          "user": {
            "login": "wxs",
            "id": 326559,
            "node_id": "MDQ6VXNlcjMyNjU1OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/326559?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wxs",
            "html_url": "https://github.com/wxs",
            "followers_url": "https://api.github.com/users/wxs/followers",
            "following_url": "https://api.github.com/users/wxs/following{/other_user}",
            "gists_url": "https://api.github.com/users/wxs/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wxs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wxs/subscriptions",
            "organizations_url": "https://api.github.com/users/wxs/orgs",
            "repos_url": "https://api.github.com/users/wxs/repos",
            "events_url": "https://api.github.com/users/wxs/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wxs/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-18T21:25:07Z",
          "updated_at": "2015-06-18T21:25:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet I think the con that it won't work with ReLU activations is pretty significant! \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113293823/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113295270",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113295270",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113295270,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzI5NTI3MA==",
          "user": {
            "login": "wxs",
            "id": 326559,
            "node_id": "MDQ6VXNlcjMyNjU1OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/326559?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wxs",
            "html_url": "https://github.com/wxs",
            "followers_url": "https://api.github.com/users/wxs/followers",
            "following_url": "https://api.github.com/users/wxs/following{/other_user}",
            "gists_url": "https://api.github.com/users/wxs/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wxs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wxs/subscriptions",
            "organizations_url": "https://api.github.com/users/wxs/orgs",
            "repos_url": "https://api.github.com/users/wxs/repos",
            "events_url": "https://api.github.com/users/wxs/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wxs/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-18T21:29:00Z",
          "updated_at": "2015-06-18T21:29:00Z",
          "author_association": "CONTRIBUTOR",
          "body": "Take a look at 7f445d9, I think it solves the issue I described.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113295270/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113296031",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113296031",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113296031,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzI5NjAzMQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-18T21:33:11Z",
          "updated_at": "2015-06-18T21:33:11Z",
          "author_association": "COLLABORATOR",
          "body": "Good job on the fix, but I'd be worried about the performance impact, and the difficulty of generalizing that approach to SimpleDeepRNN.\n\nI'm not entirely convinced that ReLU will cause issues with a mask value of 0. Also, accidental all-zero feature vectors would merely be skipped by recurrent units, which is not much of an issue (but again, even with ReLUs I don't think these accidents would ever happen).\n\nIf we are really worried about it, we could have ReLUs output start at epsilon instead of zero. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113296031/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113298597",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113298597",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113298597,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzI5ODU5Nw==",
          "user": {
            "login": "wxs",
            "id": 326559,
            "node_id": "MDQ6VXNlcjMyNjU1OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/326559?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wxs",
            "html_url": "https://github.com/wxs",
            "followers_url": "https://api.github.com/users/wxs/followers",
            "following_url": "https://api.github.com/users/wxs/following{/other_user}",
            "gists_url": "https://api.github.com/users/wxs/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wxs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wxs/subscriptions",
            "organizations_url": "https://api.github.com/users/wxs/orgs",
            "repos_url": "https://api.github.com/users/wxs/repos",
            "events_url": "https://api.github.com/users/wxs/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wxs/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-18T21:47:55Z",
          "updated_at": "2015-06-18T21:47:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "> the difficulty of generalizing that approach to SimpleDeepRNN.\n\nHmm, I don't see why this is that hard to generalize to SimpleDeepRNN.\n\n> I'm not entirely convinced that ReLU will cause issues with a mask value of 0\n\nWhy not? Definitely for low dimensions it would be a problem. If I have a 4-d hidden vector than 1/16 times I will trigger this behaviour!\n\nAnd skipping some inputs would be very bad: in part because right now we ignore h_tm1 if we're masked, so we would lose all state built up to that point, and in part because it ignores the effect of the biases.\n\nThe epsilon approach might work, would need to think about some more.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113298597/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113304745",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113304745",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113304745,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzMwNDc0NQ==",
          "user": {
            "login": "wxs",
            "id": 326559,
            "node_id": "MDQ6VXNlcjMyNjU1OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/326559?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wxs",
            "html_url": "https://github.com/wxs",
            "followers_url": "https://api.github.com/users/wxs/followers",
            "following_url": "https://api.github.com/users/wxs/following{/other_user}",
            "gists_url": "https://api.github.com/users/wxs/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wxs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wxs/subscriptions",
            "organizations_url": "https://api.github.com/users/wxs/orgs",
            "repos_url": "https://api.github.com/users/wxs/repos",
            "events_url": "https://api.github.com/users/wxs/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wxs/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-18T22:24:22Z",
          "updated_at": "2015-06-18T22:24:22Z",
          "author_association": "CONTRIBUTOR",
          "body": "> but I'd be worried about the performance impact\n\nIs the performance impact going to be different for a 0. mask? I still need to explicitly check if it's all 0 because the value that gets sent in to `_step` is not `X` but rather something like `W*X + b` so if X is all 0, you end up with `b` passed in to `_step`, which is not the mask_val.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113304745/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113334634",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113334634",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113334634,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzMzNDYzNA==",
          "user": {
            "login": "wxs",
            "id": 326559,
            "node_id": "MDQ6VXNlcjMyNjU1OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/326559?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wxs",
            "html_url": "https://github.com/wxs",
            "followers_url": "https://api.github.com/users/wxs/followers",
            "following_url": "https://api.github.com/users/wxs/following{/other_user}",
            "gists_url": "https://api.github.com/users/wxs/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wxs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wxs/subscriptions",
            "organizations_url": "https://api.github.com/users/wxs/orgs",
            "repos_url": "https://api.github.com/users/wxs/repos",
            "events_url": "https://api.github.com/users/wxs/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wxs/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-19T01:16:33Z",
          "updated_at": "2015-06-19T01:16:33Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Thinking of the default mask value: it's definitely dangerous to have a non-0 padding as default for the Embedding, since that layer can often be used in combination with layers that don't do masking, such as Dense and Convolution2D\n\nYeah that's definitely a concern. Could make masking opt-in rather than opt-out, i.e. force you to explicitly say `zero_mask=True` on the `Embedding` constructor.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113334634/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113339934",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113339934",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113339934,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzMzOTkzNA==",
          "user": {
            "login": "wxs",
            "id": 326559,
            "node_id": "MDQ6VXNlcjMyNjU1OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/326559?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wxs",
            "html_url": "https://github.com/wxs",
            "followers_url": "https://api.github.com/users/wxs/followers",
            "following_url": "https://api.github.com/users/wxs/following{/other_user}",
            "gists_url": "https://api.github.com/users/wxs/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wxs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wxs/subscriptions",
            "organizations_url": "https://api.github.com/users/wxs/orgs",
            "repos_url": "https://api.github.com/users/wxs/repos",
            "events_url": "https://api.github.com/users/wxs/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wxs/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-19T01:59:22Z",
          "updated_at": "2015-06-19T01:59:22Z",
          "author_association": "CONTRIBUTOR",
          "body": "(I've made masking opt-in on the Embedding layer now)\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113339934/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113585183",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113585183",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113585183,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzU4NTE4Mw==",
          "user": {
            "login": "wxs",
            "id": 326559,
            "node_id": "MDQ6VXNlcjMyNjU1OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/326559?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wxs",
            "html_url": "https://github.com/wxs",
            "followers_url": "https://api.github.com/users/wxs/followers",
            "following_url": "https://api.github.com/users/wxs/following{/other_user}",
            "gists_url": "https://api.github.com/users/wxs/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wxs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wxs/subscriptions",
            "organizations_url": "https://api.github.com/users/wxs/orgs",
            "repos_url": "https://api.github.com/users/wxs/repos",
            "events_url": "https://api.github.com/users/wxs/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wxs/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-19T17:44:10Z",
          "updated_at": "2015-06-19T17:44:10Z",
          "author_association": "CONTRIBUTOR",
          "body": "OK some updates: I've introduced masking to `SimpleDeepRNN` to show that the same approach works. As part of this I realized a better design for passing the mask, using the `taps` of scan.\n\nIncidentally this also fixes a bug where you couldn't set `depth=1` in the `SimpleDeepRNN`\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113585183/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113599151",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113599151",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113599151,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzU5OTE1MQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-19T18:31:48Z",
          "updated_at": "2015-06-19T18:31:48Z",
          "author_association": "COLLABORATOR",
          "body": "Looking good! `taps` does seem like the right way to get access to multiple past values of the mask efficiently. Nice catch.\n\nMaking the masking in Embedding opt-in seems reasonable, but `zero_is_mask=False` strikes me as unelegant (I don't have a better suggestion right now).\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113599151/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113610009",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113610009",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113610009,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzYxMDAwOQ==",
          "user": {
            "login": "wxs",
            "id": 326559,
            "node_id": "MDQ6VXNlcjMyNjU1OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/326559?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wxs",
            "html_url": "https://github.com/wxs",
            "followers_url": "https://api.github.com/users/wxs/followers",
            "following_url": "https://api.github.com/users/wxs/following{/other_user}",
            "gists_url": "https://api.github.com/users/wxs/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wxs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wxs/subscriptions",
            "organizations_url": "https://api.github.com/users/wxs/orgs",
            "repos_url": "https://api.github.com/users/wxs/repos",
            "events_url": "https://api.github.com/users/wxs/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wxs/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-19T19:09:07Z",
          "updated_at": "2015-06-19T19:09:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "OK another change: I realized that it makes more sense to have _step _apply_ a mask, but\nthen to set the masked entries to mask_value outside of step. This\nshould be more efficient, but more importantly should make\nimplementations easier to understand.\n\nAnother nice effect: an alternative masking scheme can be introduced\nwithout changing _step at all. I think you'll agree that this makes the _step functions very simple.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113610009/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113610529",
          "html_url": "https://github.com/keras-team/keras/pull/244#issuecomment-113610529",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/244",
          "id": 113610529,
          "node_id": "MDEyOklzc3VlQ29tbWVudDExMzYxMDUyOQ==",
          "user": {
            "login": "wxs",
            "id": 326559,
            "node_id": "MDQ6VXNlcjMyNjU1OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/326559?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wxs",
            "html_url": "https://github.com/wxs",
            "followers_url": "https://api.github.com/users/wxs/followers",
            "following_url": "https://api.github.com/users/wxs/following{/other_user}",
            "gists_url": "https://api.github.com/users/wxs/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wxs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wxs/subscriptions",
            "organizations_url": "https://api.github.com/users/wxs/orgs",
            "repos_url": "https://api.github.com/users/wxs/repos",
            "events_url": "https://api.github.com/users/wxs/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wxs/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-06-19T19:11:40Z",
          "updated_at": "2015-06-19T19:11:40Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Making the masking in Embedding opt-in seems reasonable, but zero_is_mask=False strikes me as unelegant (I don't have a better suggestion right now).\n\nIs it the naming? Or the general approach? Naming things is definitely something I struggle with :) perhaps `mask_zeros` or `zero_mask`?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/113610529/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/2280",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/2280/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/2280/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/2280/events",
      "html_url": "https://github.com/keras-team/keras/issues/2280",
      "id": 147792887,
      "node_id": "MDU6SXNzdWUxNDc3OTI4ODc=",
      "number": 2280,
      "title": "No reproducible using tensorflow backend",
      "user": {
        "login": "zhuoqiang",
        "id": 639099,
        "node_id": "MDQ6VXNlcjYzOTA5OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/639099?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zhuoqiang",
        "html_url": "https://github.com/zhuoqiang",
        "followers_url": "https://api.github.com/users/zhuoqiang/followers",
        "following_url": "https://api.github.com/users/zhuoqiang/following{/other_user}",
        "gists_url": "https://api.github.com/users/zhuoqiang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/zhuoqiang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zhuoqiang/subscriptions",
        "organizations_url": "https://api.github.com/users/zhuoqiang/orgs",
        "repos_url": "https://api.github.com/users/zhuoqiang/repos",
        "events_url": "https://api.github.com/users/zhuoqiang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/zhuoqiang/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 96,
      "created_at": "2016-04-12T15:46:05Z",
      "updated_at": "2022-11-14T14:53:45Z",
      "closed_at": "2021-06-24T21:20:50Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "with theano backend (CPU or GPU without cnDNN), I could train reproducible model by\n\n``` py\nfixed_seed_num = 1234\nnunpy.random.seed(fixed_seed_num)\nrandom.seed(fixed_seed_num) # not sure if needed or not\n```\n\nWhile in pure tensorflow without keras wrapper, it could also be reproducible by\n\n``` py\ntersorflow.set_random_seed(fixed_seed_num)\n```\n\nDon't know why, but in Keras + tensorflow backend, non of the above could give reproducible training model. \n\nEnvironment:\n- Keras: v0.3.2\n- tensorflow: v0.7.1\n- Macbook OS X v10.11.4\n- tensorflow is using CPU\n\nBTW: it would be great if keras could expose an unified API for reproducible training. something like:\n\n```\nkeras.set_random_seed(fixed_seed_num)\n```\n",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/2280/reactions",
        "total_count": 55,
        "+1": 55,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/2280/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/209000997",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-209000997",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 209000997,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIwOTAwMDk5Nw==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-12T16:43:10Z",
          "updated_at": "2016-04-12T16:43:10Z",
          "author_association": "COLLABORATOR",
          "body": "> BTW: it would be great if keras could expose an unified API for reproducible training\n\nRight. I will look into it. Or does anybody else want to take a look at it?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/209000997/reactions",
            "total_count": 21,
            "+1": 21,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/236376217",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-236376217",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 236376217,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjM3NjIxNw==",
          "user": {
            "login": "bplank",
            "id": 445591,
            "node_id": "MDQ6VXNlcjQ0NTU5MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/445591?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bplank",
            "html_url": "https://github.com/bplank",
            "followers_url": "https://api.github.com/users/bplank/followers",
            "following_url": "https://api.github.com/users/bplank/following{/other_user}",
            "gists_url": "https://api.github.com/users/bplank/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bplank/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bplank/subscriptions",
            "organizations_url": "https://api.github.com/users/bplank/orgs",
            "repos_url": "https://api.github.com/users/bplank/repos",
            "events_url": "https://api.github.com/users/bplank/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bplank/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-07-30T16:56:03Z",
          "updated_at": "2016-07-30T16:56:03Z",
          "author_association": "NONE",
          "body": "Is there any update on this? \n\nI could train reproducible models on theano (setting the seed before the keras import [#439](https://github.com/fchollet/keras/issues/439)), but not when using the tensorflow backend.\n\nrelated: [#850](https://github.com/fchollet/keras/issues/850)\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/236376217/reactions",
            "total_count": 5,
            "+1": 5,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/241685782",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-241685782",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 241685782,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTY4NTc4Mg==",
          "user": {
            "login": "kudkudak",
            "id": 1571945,
            "node_id": "MDQ6VXNlcjE1NzE5NDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1571945?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kudkudak",
            "html_url": "https://github.com/kudkudak",
            "followers_url": "https://api.github.com/users/kudkudak/followers",
            "following_url": "https://api.github.com/users/kudkudak/following{/other_user}",
            "gists_url": "https://api.github.com/users/kudkudak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kudkudak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kudkudak/subscriptions",
            "organizations_url": "https://api.github.com/users/kudkudak/orgs",
            "repos_url": "https://api.github.com/users/kudkudak/repos",
            "events_url": "https://api.github.com/users/kudkudak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kudkudak/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-23T10:05:44Z",
          "updated_at": "2016-08-23T10:05:44Z",
          "author_association": "CONTRIBUTOR",
          "body": "I run into this problem in edward, here is fix we went with after rather long discussion: https://github.com/blei-lab/edward/pull/184. Long story short - it is pretty hard to seed tensorflow if you have single shared session. Would be very interested to hear if there is a better solution :)\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/241685782/reactions",
            "total_count": 4,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/254241281",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-254241281",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 254241281,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDI0MTI4MQ==",
          "user": {
            "login": "fish128",
            "id": 8138843,
            "node_id": "MDQ6VXNlcjgxMzg4NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8138843?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fish128",
            "html_url": "https://github.com/fish128",
            "followers_url": "https://api.github.com/users/fish128/followers",
            "following_url": "https://api.github.com/users/fish128/following{/other_user}",
            "gists_url": "https://api.github.com/users/fish128/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fish128/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fish128/subscriptions",
            "organizations_url": "https://api.github.com/users/fish128/orgs",
            "repos_url": "https://api.github.com/users/fish128/repos",
            "events_url": "https://api.github.com/users/fish128/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fish128/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-17T15:27:31Z",
          "updated_at": "2016-10-17T15:27:31Z",
          "author_association": "NONE",
          "body": "Any update on this?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/254241281/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/258587760",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-258587760",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 258587760,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODU4Nzc2MA==",
          "user": {
            "login": "bluelight773",
            "id": 14619026,
            "node_id": "MDQ6VXNlcjE0NjE5MDI2",
            "avatar_url": "https://avatars.githubusercontent.com/u/14619026?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bluelight773",
            "html_url": "https://github.com/bluelight773",
            "followers_url": "https://api.github.com/users/bluelight773/followers",
            "following_url": "https://api.github.com/users/bluelight773/following{/other_user}",
            "gists_url": "https://api.github.com/users/bluelight773/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bluelight773/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bluelight773/subscriptions",
            "organizations_url": "https://api.github.com/users/bluelight773/orgs",
            "repos_url": "https://api.github.com/users/bluelight773/repos",
            "events_url": "https://api.github.com/users/bluelight773/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bluelight773/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-11-05T03:18:42Z",
          "updated_at": "2016-11-05T03:18:42Z",
          "author_association": "NONE",
          "body": "Correct me if I'm wrong, but looks like this issue is still open and there is no way currently in Keras with a TensorFlow backend to get reproducible results.  Any update? Workaround?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/258587760/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/258611116",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-258611116",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 258611116,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1ODYxMTExNg==",
          "user": {
            "login": "kudkudak",
            "id": 1571945,
            "node_id": "MDQ6VXNlcjE1NzE5NDU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1571945?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kudkudak",
            "html_url": "https://github.com/kudkudak",
            "followers_url": "https://api.github.com/users/kudkudak/followers",
            "following_url": "https://api.github.com/users/kudkudak/following{/other_user}",
            "gists_url": "https://api.github.com/users/kudkudak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kudkudak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kudkudak/subscriptions",
            "organizations_url": "https://api.github.com/users/kudkudak/orgs",
            "repos_url": "https://api.github.com/users/kudkudak/repos",
            "events_url": "https://api.github.com/users/kudkudak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kudkudak/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-11-05T13:20:03Z",
          "updated_at": "2016-11-05T13:24:16Z",
          "author_association": "CONTRIBUTOR",
          "body": "Well, there is this hack https://github.com/blei-lab/edward/pull/184, I can propose PR with that to Keras if that makes sense, @fchollet ?\n\nThe solution is to simply add set_seed() function, but raise an error if someone calls it after a TF variable is created. You cannot reseed after some Variable was created, as the previous seed was used to create initializers for it.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/258611116/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/265418885",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-265418885",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 265418885,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTQxODg4NQ==",
          "user": {
            "login": "pibkac",
            "id": 23712207,
            "node_id": "MDQ6VXNlcjIzNzEyMjA3",
            "avatar_url": "https://avatars.githubusercontent.com/u/23712207?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pibkac",
            "html_url": "https://github.com/pibkac",
            "followers_url": "https://api.github.com/users/pibkac/followers",
            "following_url": "https://api.github.com/users/pibkac/following{/other_user}",
            "gists_url": "https://api.github.com/users/pibkac/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pibkac/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pibkac/subscriptions",
            "organizations_url": "https://api.github.com/users/pibkac/orgs",
            "repos_url": "https://api.github.com/users/pibkac/repos",
            "events_url": "https://api.github.com/users/pibkac/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pibkac/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-12-07T11:02:17Z",
          "updated_at": "2016-12-07T11:10:32Z",
          "author_association": "NONE",
          "body": "Any news on that issue? @bluelight773 I think when running it on the CPU it's reproducible - but that is not really an option most of the time",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/265418885/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/268363033",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-268363033",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 268363033,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI2ODM2MzAzMw==",
          "user": {
            "login": "NianzuMa",
            "id": 3758964,
            "node_id": "MDQ6VXNlcjM3NTg5NjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3758964?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NianzuMa",
            "html_url": "https://github.com/NianzuMa",
            "followers_url": "https://api.github.com/users/NianzuMa/followers",
            "following_url": "https://api.github.com/users/NianzuMa/following{/other_user}",
            "gists_url": "https://api.github.com/users/NianzuMa/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NianzuMa/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NianzuMa/subscriptions",
            "organizations_url": "https://api.github.com/users/NianzuMa/orgs",
            "repos_url": "https://api.github.com/users/NianzuMa/repos",
            "events_url": "https://api.github.com/users/NianzuMa/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NianzuMa/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-12-20T21:21:37Z",
          "updated_at": "2016-12-21T00:01:49Z",
          "author_association": "NONE",
          "body": "@fchollet  @zhuoqiang Could you confirm this?\r\n\r\nMaybe there is a workaround by programming use both Keras and Tensorflow following this post:\r\n[https://blog.keras.io/keras-as-a-simplified-interface-to-tensorflow-tutorial.html](https://blog.keras.io/keras-as-a-simplified-interface-to-tensorflow-tutorial.html)\r\n\r\nUse Keras pre-defined model to speed up building your model. But use Tensorflow for input, output and optimization. \r\nTake a look at this code, it seems could reproduce the result. \r\nI use CentOS 7 server, with Tesla K40. It always shows 0.6268 for the result. \r\n```\r\n>>> keras.__version__\r\n'1.1.1'\r\n>>> tf.__version__\r\n'0.12.0-rc1'\r\n```\r\n\r\nYou should seed it by\r\n```\r\nimport numpy as np\r\nnp.random.seed(42)\r\nimport tensorflow as tf\r\ntf.set_random_seed(42)\r\n```\r\n\r\n```\r\n\"\"\"\r\nDifferent behaviors during training and testing\r\n\r\nSome Keras layers (e.g. Dropout, BatchNormalization) behave differently at training time and testing time.\r\nYou can tell whether a layer uses the \"learning phase\" (train/test) by printing layer.uses_learning_phase,\r\na boolean: True if the layer has a different behavior in training mode and test mode, False otherwise.\r\n\r\nIf your model includes such layers, then you need to specify the value of the learning phase as part of feed_dict,\r\nso that your model knows whether to apply dropout/etc or not.\r\n\r\nTo make use of the learning phase, simply pass the value \"1\" (training mode) or \"0\" (test mode) to feed_dict:\r\n\"\"\"\r\nimport numpy as np\r\nnp.random.seed(42)\r\nimport tensorflow as tf\r\ntf.set_random_seed(42)\r\nsess = tf.Session()\r\nfrom keras.layers import Dropout, Dense, LSTM\r\nfrom keras import backend as K\r\nK.set_session(sess)\r\nfrom keras.objectives import categorical_crossentropy\r\nfrom keras.metrics import categorical_accuracy as accuracy\r\n\r\n# load data\r\nfrom tensorflow.examples.tutorials.mnist import input_data\r\nmnist_data = input_data.read_data_sets('MNIST_data', one_hot=True)\r\n\r\nimg = tf.placeholder(tf.float32, shape=(None, 784))\r\nlabels = tf.placeholder(tf.float32, shape=(None, 10))\r\n\r\nx = Dense(128, activation='relu')(img)\r\nx = Dropout(0.5)(x)\r\nx = Dense(128, activation='relu')(x)\r\nx = Dropout(0.5)(x)\r\npreds = Dense(10, activation='softmax')(x)\r\n\r\nloss = tf.reduce_mean(categorical_crossentropy(labels, preds))\r\n\r\n# train_step = tf.train.GradientDescentOptimizer(0.5).minimize(loss)\r\ntrain_step = tf.train.RMSPropOptimizer(learning_rate=0.001).minimize(loss)\r\n# train_step = tf.train.AdagradOptimizer(learning_rate=0.001).minimize(loss)\r\n# train_step = tf.train.AdadeltaOptimizer(learning_rate=0.001).minimize(loss)\r\n\r\nwith sess.as_default():\r\n    sess.run(tf.global_variables_initializer())\r\n    for i in range(100):\r\n        batch = mnist_data.train.next_batch(50)\r\n        train_step.run(feed_dict={img: batch[0],\r\n                                  labels: batch[1],\r\n                                  K.learning_phase(): 1})\r\n\r\nacc_value = accuracy(labels, preds)\r\nwith sess.as_default():\r\n    print acc_value.eval(feed_dict={img: mnist_data.test.images,\r\n                                    labels: mnist_data.test.labels,\r\n                                    K.learning_phase(): 0})\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/268363033/reactions",
            "total_count": 4,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/275024776",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-275024776",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 275024776,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTAyNDc3Ng==",
          "user": {
            "login": "nejumi",
            "id": 24971026,
            "node_id": "MDQ6VXNlcjI0OTcxMDI2",
            "avatar_url": "https://avatars.githubusercontent.com/u/24971026?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nejumi",
            "html_url": "https://github.com/nejumi",
            "followers_url": "https://api.github.com/users/nejumi/followers",
            "following_url": "https://api.github.com/users/nejumi/following{/other_user}",
            "gists_url": "https://api.github.com/users/nejumi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nejumi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nejumi/subscriptions",
            "organizations_url": "https://api.github.com/users/nejumi/orgs",
            "repos_url": "https://api.github.com/users/nejumi/repos",
            "events_url": "https://api.github.com/users/nejumi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nejumi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-25T05:44:44Z",
          "updated_at": "2017-01-25T05:44:44Z",
          "author_association": "NONE",
          "body": "I heard that Keras is going to be merged in TensorFlow. Can I expect that the problem of reproducibility is solved at the same time? If YES, it will be great improvement for Kaggle usage!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/275024776/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/275874461",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-275874461",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 275874461,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTg3NDQ2MQ==",
          "user": {
            "login": "brannondorsey",
            "id": 3193533,
            "node_id": "MDQ6VXNlcjMxOTM1MzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3193533?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brannondorsey",
            "html_url": "https://github.com/brannondorsey",
            "followers_url": "https://api.github.com/users/brannondorsey/followers",
            "following_url": "https://api.github.com/users/brannondorsey/following{/other_user}",
            "gists_url": "https://api.github.com/users/brannondorsey/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brannondorsey/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brannondorsey/subscriptions",
            "organizations_url": "https://api.github.com/users/brannondorsey/orgs",
            "repos_url": "https://api.github.com/users/brannondorsey/repos",
            "events_url": "https://api.github.com/users/brannondorsey/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brannondorsey/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-28T21:02:43Z",
          "updated_at": "2017-01-28T21:02:43Z",
          "author_association": "NONE",
          "body": "@nejumi, ditto. This lack of support makes it really hard to run experiments with Keras & TF. I appreciate the convos and solutions here but really hoping this gets fixed soon.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/275874461/reactions",
            "total_count": 4,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/284701302",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-284701302",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 284701302,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDcwMTMwMg==",
          "user": {
            "login": "diogoff",
            "id": 7391155,
            "node_id": "MDQ6VXNlcjczOTExNTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7391155?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/diogoff",
            "html_url": "https://github.com/diogoff",
            "followers_url": "https://api.github.com/users/diogoff/followers",
            "following_url": "https://api.github.com/users/diogoff/following{/other_user}",
            "gists_url": "https://api.github.com/users/diogoff/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/diogoff/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/diogoff/subscriptions",
            "organizations_url": "https://api.github.com/users/diogoff/orgs",
            "repos_url": "https://api.github.com/users/diogoff/repos",
            "events_url": "https://api.github.com/users/diogoff/events{/privacy}",
            "received_events_url": "https://api.github.com/users/diogoff/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-07T11:54:01Z",
          "updated_at": "2017-03-07T11:58:27Z",
          "author_association": "CONTRIBUTOR",
          "body": "In principle, this should do it:\r\n\r\n```\r\nimport numpy as np\r\nnp.random.seed(...)\r\nimport tensorflow as tf\r\ntf.set_random_seed(...)\r\n```\r\n\r\nHowever, there is still non-determinism in cuDNN.\r\n\r\nWith theano it is possible to ensure reproducibility of cuDNN by setting dnn.conv flags: https://github.com/fchollet/keras/issues/2479#issuecomment-213987747\r\n\r\nWith tensorflow, how do we set those flags?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/284701302/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/285792567",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-285792567",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 285792567,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTc5MjU2Nw==",
          "user": {
            "login": "pibkac",
            "id": 23712207,
            "node_id": "MDQ6VXNlcjIzNzEyMjA3",
            "avatar_url": "https://avatars.githubusercontent.com/u/23712207?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pibkac",
            "html_url": "https://github.com/pibkac",
            "followers_url": "https://api.github.com/users/pibkac/followers",
            "following_url": "https://api.github.com/users/pibkac/following{/other_user}",
            "gists_url": "https://api.github.com/users/pibkac/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pibkac/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pibkac/subscriptions",
            "organizations_url": "https://api.github.com/users/pibkac/orgs",
            "repos_url": "https://api.github.com/users/pibkac/repos",
            "events_url": "https://api.github.com/users/pibkac/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pibkac/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-10T21:42:38Z",
          "updated_at": "2017-03-10T21:42:38Z",
          "author_association": "NONE",
          "body": "For some time, I had at least reproducible results when running the training on the CPU. However even that seems not to work any more. Anyone experienced the same?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/285792567/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290422277",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-290422277",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 290422277,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDQyMjI3Nw==",
          "user": {
            "login": "iaguas",
            "id": 4259550,
            "node_id": "MDQ6VXNlcjQyNTk1NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4259550?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/iaguas",
            "html_url": "https://github.com/iaguas",
            "followers_url": "https://api.github.com/users/iaguas/followers",
            "following_url": "https://api.github.com/users/iaguas/following{/other_user}",
            "gists_url": "https://api.github.com/users/iaguas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/iaguas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/iaguas/subscriptions",
            "organizations_url": "https://api.github.com/users/iaguas/orgs",
            "repos_url": "https://api.github.com/users/iaguas/repos",
            "events_url": "https://api.github.com/users/iaguas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/iaguas/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-30T14:09:53Z",
          "updated_at": "2017-03-30T14:09:53Z",
          "author_association": "NONE",
          "body": "I'm looking for a way of reproducing keras code, but I'm supposing that it's not possible. Am I right?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290422277/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290425287",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-290425287",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 290425287,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDQyNTI4Nw==",
          "user": {
            "login": "iaguas",
            "id": 4259550,
            "node_id": "MDQ6VXNlcjQyNTk1NTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4259550?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/iaguas",
            "html_url": "https://github.com/iaguas",
            "followers_url": "https://api.github.com/users/iaguas/followers",
            "following_url": "https://api.github.com/users/iaguas/following{/other_user}",
            "gists_url": "https://api.github.com/users/iaguas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/iaguas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/iaguas/subscriptions",
            "organizations_url": "https://api.github.com/users/iaguas/orgs",
            "repos_url": "https://api.github.com/users/iaguas/repos",
            "events_url": "https://api.github.com/users/iaguas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/iaguas/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-30T14:19:50Z",
          "updated_at": "2017-03-30T14:19:50Z",
          "author_association": "NONE",
          "body": "Thanks @diogoff but my problem is that I have tensorflow as backend and also I utilize cuDNN. It's the case that you are looking too for a solution.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290425287/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290428522",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-290428522",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 290428522,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDQyODUyMg==",
          "user": {
            "login": "diogoff",
            "id": 7391155,
            "node_id": "MDQ6VXNlcjczOTExNTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7391155?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/diogoff",
            "html_url": "https://github.com/diogoff",
            "followers_url": "https://api.github.com/users/diogoff/followers",
            "following_url": "https://api.github.com/users/diogoff/following{/other_user}",
            "gists_url": "https://api.github.com/users/diogoff/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/diogoff/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/diogoff/subscriptions",
            "organizations_url": "https://api.github.com/users/diogoff/orgs",
            "repos_url": "https://api.github.com/users/diogoff/repos",
            "events_url": "https://api.github.com/users/diogoff/events{/privacy}",
            "received_events_url": "https://api.github.com/users/diogoff/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-30T14:29:45Z",
          "updated_at": "2017-03-30T14:29:45Z",
          "author_association": "CONTRIBUTOR",
          "body": "I gave up on reproducibility because I found that when forcing deterministic behavior in cuDNN, training would be much slower (e.g. from 15 secs/epoch to 30 secs/epoch).",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290428522/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290891763",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-290891763",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 290891763,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDg5MTc2Mw==",
          "user": {
            "login": "pylang",
            "id": 10778668,
            "node_id": "MDQ6VXNlcjEwNzc4NjY4",
            "avatar_url": "https://avatars.githubusercontent.com/u/10778668?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pylang",
            "html_url": "https://github.com/pylang",
            "followers_url": "https://api.github.com/users/pylang/followers",
            "following_url": "https://api.github.com/users/pylang/following{/other_user}",
            "gists_url": "https://api.github.com/users/pylang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pylang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pylang/subscriptions",
            "organizations_url": "https://api.github.com/users/pylang/orgs",
            "repos_url": "https://api.github.com/users/pylang/repos",
            "events_url": "https://api.github.com/users/pylang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pylang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-04-01T03:39:34Z",
          "updated_at": "2017-04-01T18:09:55Z",
          "author_association": "NONE",
          "body": "IMO this is a critical issue that merits a high priority.  Running a complex model for several minutes is meaningless unless results can be reproduced.   \r\n\r\nRunning the same cell multiple times has given results that differ by several orders of magnitude.  I can confirm the latest suggestion does not work for Keras 2.0.2/ TensorFlow 1.0 backend/Anaconda 4.2/Windows 7\r\n```\r\nimport numpy as np\r\nnp.random.seed(123)\r\nimport tensorflow as tf\r\ntf.set_random_seed(123)\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290891763/reactions",
            "total_count": 12,
            "+1": 12,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290897531",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-290897531",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 290897531,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDg5NzUzMQ==",
          "user": {
            "login": "diogoff",
            "id": 7391155,
            "node_id": "MDQ6VXNlcjczOTExNTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7391155?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/diogoff",
            "html_url": "https://github.com/diogoff",
            "followers_url": "https://api.github.com/users/diogoff/followers",
            "following_url": "https://api.github.com/users/diogoff/following{/other_user}",
            "gists_url": "https://api.github.com/users/diogoff/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/diogoff/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/diogoff/subscriptions",
            "organizations_url": "https://api.github.com/users/diogoff/orgs",
            "repos_url": "https://api.github.com/users/diogoff/repos",
            "events_url": "https://api.github.com/users/diogoff/events{/privacy}",
            "received_events_url": "https://api.github.com/users/diogoff/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-04-01T05:45:14Z",
          "updated_at": "2017-04-01T05:45:14Z",
          "author_association": "CONTRIBUTOR",
          "body": "@pylang are you using cuDNN?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290897531/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290900542",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-290900542",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 290900542,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDkwMDU0Mg==",
          "user": {
            "login": "pylang",
            "id": 10778668,
            "node_id": "MDQ6VXNlcjEwNzc4NjY4",
            "avatar_url": "https://avatars.githubusercontent.com/u/10778668?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pylang",
            "html_url": "https://github.com/pylang",
            "followers_url": "https://api.github.com/users/pylang/followers",
            "following_url": "https://api.github.com/users/pylang/following{/other_user}",
            "gists_url": "https://api.github.com/users/pylang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pylang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pylang/subscriptions",
            "organizations_url": "https://api.github.com/users/pylang/orgs",
            "repos_url": "https://api.github.com/users/pylang/repos",
            "events_url": "https://api.github.com/users/pylang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pylang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-04-01T06:44:50Z",
          "updated_at": "2017-04-01T06:44:50Z",
          "author_association": "NONE",
          "body": "@diogoff I have not taken extra steps to [install cuDNN](https://developer.nvidia.com/cudnn).  My assumption is no, though I am unaware how verify this absolutely.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290900542/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290901365",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-290901365",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 290901365,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDkwMTM2NQ==",
          "user": {
            "login": "diogoff",
            "id": 7391155,
            "node_id": "MDQ6VXNlcjczOTExNTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7391155?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/diogoff",
            "html_url": "https://github.com/diogoff",
            "followers_url": "https://api.github.com/users/diogoff/followers",
            "following_url": "https://api.github.com/users/diogoff/following{/other_user}",
            "gists_url": "https://api.github.com/users/diogoff/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/diogoff/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/diogoff/subscriptions",
            "organizations_url": "https://api.github.com/users/diogoff/orgs",
            "repos_url": "https://api.github.com/users/diogoff/repos",
            "events_url": "https://api.github.com/users/diogoff/events{/privacy}",
            "received_events_url": "https://api.github.com/users/diogoff/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-04-01T07:01:52Z",
          "updated_at": "2017-04-01T07:01:52Z",
          "author_association": "CONTRIBUTOR",
          "body": "Try:\r\n`$ ls -las /usr/local/cuda/include/*dnn*`\r\nand\r\n`$ ls -las /usr/local/cuda/lib64/*dnn*`\r\n\r\nIf you see libcudnn.so installed, you have it and probably tensorflow is using it.\r\n\r\nIf I remember, tensorflow will print some warning/info messages on startup, saying which libraries it has loaded. On my system, libcudnn.so was one of them.\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290901365/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290936839",
          "html_url": "https://github.com/keras-team/keras/issues/2280#issuecomment-290936839",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2280",
          "id": 290936839,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDkzNjgzOQ==",
          "user": {
            "login": "pylang",
            "id": 10778668,
            "node_id": "MDQ6VXNlcjEwNzc4NjY4",
            "avatar_url": "https://avatars.githubusercontent.com/u/10778668?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pylang",
            "html_url": "https://github.com/pylang",
            "followers_url": "https://api.github.com/users/pylang/followers",
            "following_url": "https://api.github.com/users/pylang/following{/other_user}",
            "gists_url": "https://api.github.com/users/pylang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pylang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pylang/subscriptions",
            "organizations_url": "https://api.github.com/users/pylang/orgs",
            "repos_url": "https://api.github.com/users/pylang/repos",
            "events_url": "https://api.github.com/users/pylang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pylang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-04-01T18:04:01Z",
          "updated_at": "2017-04-01T18:04:01Z",
          "author_association": "NONE",
          "body": "I searched all files on my Windows machine and found none by that name, nor any system files with \"cudnn\" (only folders included in Anaconda's TensorFlow site package).  I also don't see any warnings aside from the \"TensorFlow backend\" warning upon import.  Seeing that \r\n\r\nI have not directly installed the driver, find no library files under this name, and see no unusual warnings at import, I conclude I do not have cudnn installed.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290936839/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/14935",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/14935/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/14935/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/14935/events",
      "html_url": "https://github.com/keras-team/keras/pull/14935",
      "id": 945986674,
      "node_id": "MDExOlB1bGxSZXF1ZXN0NjkxMjMxNjUy",
      "number": 14935,
      "title": "Add efficientnet v2 to keras.applications",
      "user": {
        "login": "sebastian-sz",
        "id": 58402418,
        "node_id": "MDQ6VXNlcjU4NDAyNDE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/58402418?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sebastian-sz",
        "html_url": "https://github.com/sebastian-sz",
        "followers_url": "https://api.github.com/users/sebastian-sz/followers",
        "following_url": "https://api.github.com/users/sebastian-sz/following{/other_user}",
        "gists_url": "https://api.github.com/users/sebastian-sz/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sebastian-sz/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sebastian-sz/subscriptions",
        "organizations_url": "https://api.github.com/users/sebastian-sz/orgs",
        "repos_url": "https://api.github.com/users/sebastian-sz/repos",
        "events_url": "https://api.github.com/users/sebastian-sz/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sebastian-sz/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1110419353,
          "node_id": "MDU6TGFiZWwxMTEwNDE5MzUz",
          "url": "https://api.github.com/repos/keras-team/keras/labels/stat:awaiting%20keras-eng",
          "name": "stat:awaiting keras-eng",
          "color": "f4b400",
          "default": false,
          "description": "Awaiting response from Keras engineer"
        },
        {
          "id": 2793770320,
          "node_id": "MDU6TGFiZWwyNzkzNzcwMzIw",
          "url": "https://api.github.com/repos/keras-team/keras/labels/cla:%20yes",
          "name": "cla: yes",
          "color": "135094",
          "default": false,
          "description": ""
        },
        {
          "id": 3105964593,
          "node_id": "MDU6TGFiZWwzMTA1OTY0NTkz",
          "url": "https://api.github.com/repos/keras-team/keras/labels/keras-team-review-pending",
          "name": "keras-team-review-pending",
          "color": "A30F25",
          "default": false,
          "description": "Pending review by a Keras team member."
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": {
        "login": "gbaned",
        "id": 48215717,
        "node_id": "MDQ6VXNlcjQ4MjE1NzE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/48215717?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gbaned",
        "html_url": "https://github.com/gbaned",
        "followers_url": "https://api.github.com/users/gbaned/followers",
        "following_url": "https://api.github.com/users/gbaned/following{/other_user}",
        "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions",
        "organizations_url": "https://api.github.com/users/gbaned/orgs",
        "repos_url": "https://api.github.com/users/gbaned/repos",
        "events_url": "https://api.github.com/users/gbaned/events{/privacy}",
        "received_events_url": "https://api.github.com/users/gbaned/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "assignees": [
        {
          "login": "gbaned",
          "id": 48215717,
          "node_id": "MDQ6VXNlcjQ4MjE1NzE3",
          "avatar_url": "https://avatars.githubusercontent.com/u/48215717?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/gbaned",
          "html_url": "https://github.com/gbaned",
          "followers_url": "https://api.github.com/users/gbaned/followers",
          "following_url": "https://api.github.com/users/gbaned/following{/other_user}",
          "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions",
          "organizations_url": "https://api.github.com/users/gbaned/orgs",
          "repos_url": "https://api.github.com/users/gbaned/repos",
          "events_url": "https://api.github.com/users/gbaned/events{/privacy}",
          "received_events_url": "https://api.github.com/users/gbaned/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        }
      ],
      "milestone": null,
      "comments": 19,
      "created_at": "2021-07-16T06:29:24Z",
      "updated_at": "2021-11-05T18:18:52Z",
      "closed_at": "2021-10-29T20:58:31Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/14935",
        "html_url": "https://github.com/keras-team/keras/pull/14935",
        "diff_url": "https://github.com/keras-team/keras/pull/14935.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/14935.patch",
        "merged_at": "2021-10-29T20:58:31Z"
      },
      "body": "### Description\r\n\r\nThis PR adds EfficientNetV2 model architecture to `keras.applications`.\r\n\r\n[Arxiv link](https://arxiv.org/abs/2104.00298)\r\n[Reference implementation](https://github.com/google/automl/blob/master/efficientnetv2/effnetv2_model.py)\r\n\r\nThe code is heavily inspired by already existing code from `efficientnet.py` and `efficientnet_weight_update_util.py`. I tried to make it as similar to existing codebase as possible.\r\n\r\nThe models were rewritten using Keras functional API, and the weights were converted via modified weights conversion script.\r\n\r\n### Motiviation\r\nAdding EfficientNetV2 models to `keras.applications` has been discussed on Tensorflow's github:\r\nhttps://github.com/tensorflow/tensorflow/issues/50054 \r\n\r\nIt was mentioned that this family of models would be welcomed in `keras.applications`, hence this contribution.\r\n\r\n### Usage / Changes\r\nThe models could be used similarly to other models in `keras.applications`\r\n```python\r\nfrom keras.applications import efficientnet_v2\r\n\r\nmodel = efficientnet_v2.EfficientNetV2_S()\r\n```\r\n### Todos / Known Issues\r\n1. The output consistency was measured on a single panda image, from the original repository. It's worth noting that original repository performs cropping for some input sizes - I did not include this cropping here.\r\n2. I did not use preprocessing layers, as I thought some users might experiment with different preprocessing. But they can be added.\r\n3. Right now, I'm hosting the weights on GCP bucket but I won't be able to do this forever :(",
      "closed_by": {
        "login": "copybara-service[bot]",
        "id": 56741989,
        "node_id": "MDM6Qm90NTY3NDE5ODk=",
        "avatar_url": "https://avatars.githubusercontent.com/in/44061?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/copybara-service%5Bbot%5D",
        "html_url": "https://github.com/apps/copybara-service",
        "followers_url": "https://api.github.com/users/copybara-service%5Bbot%5D/followers",
        "following_url": "https://api.github.com/users/copybara-service%5Bbot%5D/following{/other_user}",
        "gists_url": "https://api.github.com/users/copybara-service%5Bbot%5D/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/copybara-service%5Bbot%5D/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/copybara-service%5Bbot%5D/subscriptions",
        "organizations_url": "https://api.github.com/users/copybara-service%5Bbot%5D/orgs",
        "repos_url": "https://api.github.com/users/copybara-service%5Bbot%5D/repos",
        "events_url": "https://api.github.com/users/copybara-service%5Bbot%5D/events{/privacy}",
        "received_events_url": "https://api.github.com/users/copybara-service%5Bbot%5D/received_events",
        "type": "Bot",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/14935/reactions",
        "total_count": 3,
        "+1": 3,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/14935/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/881605827",
          "html_url": "https://github.com/keras-team/keras/pull/14935#issuecomment-881605827",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/14935",
          "id": 881605827,
          "node_id": "IC_kwDOAffHH840jDzD",
          "user": {
            "login": "qlzh727",
            "id": 5118881,
            "node_id": "MDQ6VXNlcjUxMTg4ODE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5118881?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qlzh727",
            "html_url": "https://github.com/qlzh727",
            "followers_url": "https://api.github.com/users/qlzh727/followers",
            "following_url": "https://api.github.com/users/qlzh727/following{/other_user}",
            "gists_url": "https://api.github.com/users/qlzh727/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qlzh727/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qlzh727/subscriptions",
            "organizations_url": "https://api.github.com/users/qlzh727/orgs",
            "repos_url": "https://api.github.com/users/qlzh727/repos",
            "events_url": "https://api.github.com/users/qlzh727/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qlzh727/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-07-16T17:30:32Z",
          "updated_at": "2021-07-16T17:30:32Z",
          "author_association": "MEMBER",
          "body": "Thanks for sending the PR, it will take us sometime to verify the details here. For the model weights, could you also attach them in the PR? (we can upload them to the keras-team gcs buckets, and then you can update the URL in the PR).",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/881605827/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/881890551",
          "html_url": "https://github.com/keras-team/keras/pull/14935#issuecomment-881890551",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/14935",
          "id": 881890551,
          "node_id": "IC_kwDOAffHH840kJT3",
          "user": {
            "login": "sebastian-sz",
            "id": 58402418,
            "node_id": "MDQ6VXNlcjU4NDAyNDE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/58402418?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sebastian-sz",
            "html_url": "https://github.com/sebastian-sz",
            "followers_url": "https://api.github.com/users/sebastian-sz/followers",
            "following_url": "https://api.github.com/users/sebastian-sz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sebastian-sz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sebastian-sz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sebastian-sz/subscriptions",
            "organizations_url": "https://api.github.com/users/sebastian-sz/orgs",
            "repos_url": "https://api.github.com/users/sebastian-sz/repos",
            "events_url": "https://api.github.com/users/sebastian-sz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sebastian-sz/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-07-17T12:26:53Z",
          "updated_at": "2021-07-17T12:26:53Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for the response. If I can help by answering any questions, let me know.\r\n\r\nI'm having hard time attaching the weights on GitHub, so here is a Google Drive link: \r\nhttps://drive.google.com/file/d/1AYx_2zNyQGpYmcbsVeN1PewNUg999H8C/view?usp=sharing",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/881890551/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/897457466",
          "html_url": "https://github.com/keras-team/keras/pull/14935#issuecomment-897457466",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/14935",
          "id": 897457466,
          "node_id": "IC_kwDOAffHH841fh06",
          "user": {
            "login": "leondgarse",
            "id": 5744524,
            "node_id": "MDQ6VXNlcjU3NDQ1MjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5744524?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/leondgarse",
            "html_url": "https://github.com/leondgarse",
            "followers_url": "https://api.github.com/users/leondgarse/followers",
            "following_url": "https://api.github.com/users/leondgarse/following{/other_user}",
            "gists_url": "https://api.github.com/users/leondgarse/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/leondgarse/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/leondgarse/subscriptions",
            "organizations_url": "https://api.github.com/users/leondgarse/orgs",
            "repos_url": "https://api.github.com/users/leondgarse/repos",
            "events_url": "https://api.github.com/users/leondgarse/events{/privacy}",
            "received_events_url": "https://api.github.com/users/leondgarse/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-12T08:43:01Z",
          "updated_at": "2021-08-12T08:54:24Z",
          "author_association": "CONTRIBUTOR",
          "body": "It's good to have `efficientnetV2` directly usable form `keras.applications`. I have these model weights converted and uploaded in my own repo [leondgarse/keras_efficientnet_v2](https://github.com/leondgarse/keras_efficientnet_v2), including all `imagenet` / `imagenet-21k` / `imagenet21k-ft1k` pre-trained weights, and also `efficientnetv2-xl` weights. Hope this can help.\r\nAll converted model accuracy is compared with official model by:\r\n```py\r\nfake_input = tf.random.uniform([2, 224, 224, 3])\r\norign_out = orign_model(fake_input)\r\nconverted_out = converted_model(fake_input)\r\ntest_result = np.allclose(orign_out.numpy(), converted_out.numpy())\r\nprint('>>>> Allclose:', test_result)\r\n# Allclose: True\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/897457466/reactions",
            "total_count": 4,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/916871622",
          "html_url": "https://github.com/keras-team/keras/pull/14935#issuecomment-916871622",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/14935",
          "id": 916871622,
          "node_id": "IC_kwDOAffHH842plnG",
          "user": {
            "login": "innat",
            "id": 17668390,
            "node_id": "MDQ6VXNlcjE3NjY4Mzkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/17668390?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/innat",
            "html_url": "https://github.com/innat",
            "followers_url": "https://api.github.com/users/innat/followers",
            "following_url": "https://api.github.com/users/innat/following{/other_user}",
            "gists_url": "https://api.github.com/users/innat/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/innat/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/innat/subscriptions",
            "organizations_url": "https://api.github.com/users/innat/orgs",
            "repos_url": "https://api.github.com/users/innat/repos",
            "events_url": "https://api.github.com/users/innat/events{/privacy}",
            "received_events_url": "https://api.github.com/users/innat/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-10T12:35:47Z",
          "updated_at": "2021-09-25T09:54:40Z",
          "author_association": "NONE",
          "body": "@mingxingtan cc. @gbaned @qlzh727 @fchollet \r\nCould you please review or iterate over this PR on `efficientnet v2` implementation? \r\nFYI, It's been implemented with functional API and not with the official way (subclassed API). ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/916871622/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/931428203",
          "html_url": "https://github.com/keras-team/keras/pull/14935#issuecomment-931428203",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/14935",
          "id": 931428203,
          "node_id": "IC_kwDOAffHH843hHdr",
          "user": {
            "login": "innat",
            "id": 17668390,
            "node_id": "MDQ6VXNlcjE3NjY4Mzkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/17668390?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/innat",
            "html_url": "https://github.com/innat",
            "followers_url": "https://api.github.com/users/innat/followers",
            "following_url": "https://api.github.com/users/innat/following{/other_user}",
            "gists_url": "https://api.github.com/users/innat/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/innat/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/innat/subscriptions",
            "organizations_url": "https://api.github.com/users/innat/orgs",
            "repos_url": "https://api.github.com/users/innat/repos",
            "events_url": "https://api.github.com/users/innat/events{/privacy}",
            "received_events_url": "https://api.github.com/users/innat/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-09-30T15:27:44Z",
          "updated_at": "2021-09-30T15:27:44Z",
          "author_association": "NONE",
          "body": "@qlzh727 @mattdangerw \r\nAny update on this PR? ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/931428203/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/931946649",
          "html_url": "https://github.com/keras-team/keras/pull/14935#issuecomment-931946649",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/14935",
          "id": 931946649,
          "node_id": "IC_kwDOAffHH843jGCZ",
          "user": {
            "login": "sebastian-sz",
            "id": 58402418,
            "node_id": "MDQ6VXNlcjU4NDAyNDE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/58402418?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sebastian-sz",
            "html_url": "https://github.com/sebastian-sz",
            "followers_url": "https://api.github.com/users/sebastian-sz/followers",
            "following_url": "https://api.github.com/users/sebastian-sz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sebastian-sz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sebastian-sz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sebastian-sz/subscriptions",
            "organizations_url": "https://api.github.com/users/sebastian-sz/orgs",
            "repos_url": "https://api.github.com/users/sebastian-sz/repos",
            "events_url": "https://api.github.com/users/sebastian-sz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sebastian-sz/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-10-01T06:28:17Z",
          "updated_at": "2021-10-01T06:28:17Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet @mingxingtan \r\nThank you for the review. In the nearest future I'll read the comments and fix the code.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/931946649/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/937531854",
          "html_url": "https://github.com/keras-team/keras/pull/14935#issuecomment-937531854",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/14935",
          "id": 937531854,
          "node_id": "IC_kwDOAffHH8434ZnO",
          "user": {
            "login": "sebastian-sz",
            "id": 58402418,
            "node_id": "MDQ6VXNlcjU4NDAyNDE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/58402418?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sebastian-sz",
            "html_url": "https://github.com/sebastian-sz",
            "followers_url": "https://api.github.com/users/sebastian-sz/followers",
            "following_url": "https://api.github.com/users/sebastian-sz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sebastian-sz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sebastian-sz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sebastian-sz/subscriptions",
            "organizations_url": "https://api.github.com/users/sebastian-sz/orgs",
            "repos_url": "https://api.github.com/users/sebastian-sz/repos",
            "events_url": "https://api.github.com/users/sebastian-sz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sebastian-sz/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-10-07T07:34:02Z",
          "updated_at": "2021-10-07T07:34:02Z",
          "author_association": "CONTRIBUTOR",
          "body": "I updated the PR based on the comments. Let me know if this is ok.\r\n\r\n### Model evaluation\r\n> Have you evaluated the model (with pretrained weights loaded) on the ImageNet validation set? What top-5 accuracy and accuracy do you get?\r\n\r\nSadly no. I don't have the data and compute to run it, but I can help setting up the scripts.\r\n\r\n### Weights hosting\r\n> We would download the files and re-host them in our own buckets as part of the merging process.\r\n\r\nI had to remove the weights from my end. Here is the [Google Drive link](https://drive.google.com/file/d/1UCtqTFQ5G-eg1LoK08qxTq3t-O-h0Sib/view?usp=sharing) with updated weights.\r\n\r\n### Model variants.\r\n> Do we really need all these models? Why not just the Bs (like for v1)?\r\n\r\nPersonally I wouldn't mind `S/M/L` variants but if you want them deleted I will remove them.\r\nHow should I proceed? Delete `S/M/L` variants, leave as is, or add `XL` to all variants?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/937531854/reactions",
            "total_count": 2,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/937747208",
          "html_url": "https://github.com/keras-team/keras/pull/14935#issuecomment-937747208",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/14935",
          "id": 937747208,
          "node_id": "IC_kwDOAffHH8435OMI",
          "user": {
            "login": "innat",
            "id": 17668390,
            "node_id": "MDQ6VXNlcjE3NjY4Mzkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/17668390?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/innat",
            "html_url": "https://github.com/innat",
            "followers_url": "https://api.github.com/users/innat/followers",
            "following_url": "https://api.github.com/users/innat/following{/other_user}",
            "gists_url": "https://api.github.com/users/innat/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/innat/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/innat/subscriptions",
            "organizations_url": "https://api.github.com/users/innat/orgs",
            "repos_url": "https://api.github.com/users/innat/repos",
            "events_url": "https://api.github.com/users/innat/events{/privacy}",
            "received_events_url": "https://api.github.com/users/innat/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-10-07T12:32:09Z",
          "updated_at": "2021-10-07T12:32:09Z",
          "author_association": "NONE",
          "body": "@sebastian-sz \r\nI think all model [variants](https://github.com/keras-team/keras/pull/14935#discussion_r720018839) should be included. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/937747208/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/948334371",
          "html_url": "https://github.com/keras-team/keras/pull/14935#issuecomment-948334371",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/14935",
          "id": 948334371,
          "node_id": "IC_kwDOAffHH844hm8j",
          "user": {
            "login": "sebastian-sz",
            "id": 58402418,
            "node_id": "MDQ6VXNlcjU4NDAyNDE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/58402418?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sebastian-sz",
            "html_url": "https://github.com/sebastian-sz",
            "followers_url": "https://api.github.com/users/sebastian-sz/followers",
            "following_url": "https://api.github.com/users/sebastian-sz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sebastian-sz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sebastian-sz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sebastian-sz/subscriptions",
            "organizations_url": "https://api.github.com/users/sebastian-sz/orgs",
            "repos_url": "https://api.github.com/users/sebastian-sz/repos",
            "events_url": "https://api.github.com/users/sebastian-sz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sebastian-sz/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-10-21T07:28:48Z",
          "updated_at": "2021-10-21T07:28:48Z",
          "author_association": "CONTRIBUTOR",
          "body": "### Imagenet Evaluation\r\nI finally managed to run the Imagenet Evaluation of provided Keras models. \r\n\r\nTL;DR: I think it's safe to say that results matched.\r\n\r\n##### Detailed results\r\nBelow Table show's results (rounded to nearest hundreth):\r\n| Variant| Reported (Top1) | This PR (Top1) | Difference (Top1) | Reported (Top5) | This PR (Top5) | Difference (Top5) |\r\n| ------------ | ------------ | ------------ | ------------ | ------------ | ------------ | ------------ |\r\n| B0 | 78.72 | 78.68 | -0.04 | 94.35 | 94.35 | 0.00\r\n| B1 | 79.78 | 79.79 | 0.01 | 94.93 | 94.95 | 0.02\r\n| B2 | 80.46 | 80.46 | 0.00 | 95.10 | 95.10 | 0.00\r\n| B3 | 82.05 | 82.00 | -0.05 | 95.82 | 95.80 | -0.02\r\n| S | 83.85 | 83.87 | 0.02 | 96.69 | 96.67 | -0.02\r\n| M | 85.30 | 85.31 | 0.01 | 97.33 | 97.36 | 0.03\r\n| L | 85.70 | 85.70 | 0.00 | 97.46 | 97.46 | 0.00\r\n\r\nPlease, notice that if we round the results to the **nearest tenth**, like is is usually reported in papers, then the **results match exactly** - the difference is always 0.0.\r\n\r\n##### Sanity check 1 - Evaluate TFHub models\r\nAlso, to sanity check I ran the evaluation of B0, B1 and S variants from Tensorflow Hub (which afaik hosts the models from original repo). The results are exactly the same - they match to the 13th decimal. \r\n\r\n##### Sanity check 2 - Preprocessing layers\r\nAlso, to sanity check I ran the evaluation of B0, B1 and S variants using preprocessing layers. That required to comment \r\nthe following lines in the original repo:\r\n\r\n[line 153](https://github.com/google/automl/blob/a7f4ec2f347c8abc8c29ff1bbb73af0d6d0a6079/efficientnetv2/preprocessing.py#L153) in `preprocessing.py`\r\n[lines 239-243](https://github.com/google/automl/blob/a7f4ec2f347c8abc8c29ff1bbb73af0d6d0a6079/efficientnetv2/preprocess_legacy.py#L239) in `preprocess_legacy.py`\r\nThe results are exactly the same - they match to the 13th decimal. \r\n\r\n##### Why the difference\r\nOne can speculate: The original evaluation was done on TPU, via TPUEstimator and using bfloat16 - I am running eval on GPU using float32.\r\n\r\nAs mentioned before, the difference is so small that it disappears if we round up the results.\r\n\r\n##### Summary\r\nGiven that:\r\n* the models from TFHub and this PR give the exactly same Imagenet Evaluation results\r\n* rounded to the nearest tenth the evaluation results are the same as reported in the paper\r\n* using preprocessing layers, the models give the same results as original preprocessing\r\n\r\nI think the models are ok.\r\n\r\n##### Code\r\nI am attaching the code used for eval. One can run it from the `google/automl/efficientnetv2`  \r\n[run_eval.zip](https://github.com/keras-team/keras/files/7386877/run_eval.zip)\r\n\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/948334371/reactions",
            "total_count": 6,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 2,
            "confused": 0,
            "heart": 3,
            "rocket": 1,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/948862596",
          "html_url": "https://github.com/keras-team/keras/pull/14935#issuecomment-948862596",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/14935",
          "id": 948862596,
          "node_id": "IC_kwDOAffHH844jn6E",
          "user": {
            "login": "mattdangerw",
            "id": 1389937,
            "node_id": "MDQ6VXNlcjEzODk5Mzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1389937?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mattdangerw",
            "html_url": "https://github.com/mattdangerw",
            "followers_url": "https://api.github.com/users/mattdangerw/followers",
            "following_url": "https://api.github.com/users/mattdangerw/following{/other_user}",
            "gists_url": "https://api.github.com/users/mattdangerw/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mattdangerw/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mattdangerw/subscriptions",
            "organizations_url": "https://api.github.com/users/mattdangerw/orgs",
            "repos_url": "https://api.github.com/users/mattdangerw/repos",
            "events_url": "https://api.github.com/users/mattdangerw/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mattdangerw/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-10-21T17:48:51Z",
          "updated_at": "2021-10-21T17:48:51Z",
          "author_association": "MEMBER",
          "body": "Also, while landing we will upload the weights to our own bucket. Is https://drive.google.com/file/d/1UCtqTFQ5G-eg1LoK08qxTq3t-O-h0Sib/view the current link for the weights?\r\n\r\nThanks!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/948862596/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/949330195",
          "html_url": "https://github.com/keras-team/keras/pull/14935#issuecomment-949330195",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/14935",
          "id": 949330195,
          "node_id": "IC_kwDOAffHH844laET",
          "user": {
            "login": "sebastian-sz",
            "id": 58402418,
            "node_id": "MDQ6VXNlcjU4NDAyNDE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/58402418?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sebastian-sz",
            "html_url": "https://github.com/sebastian-sz",
            "followers_url": "https://api.github.com/users/sebastian-sz/followers",
            "following_url": "https://api.github.com/users/sebastian-sz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sebastian-sz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sebastian-sz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sebastian-sz/subscriptions",
            "organizations_url": "https://api.github.com/users/sebastian-sz/orgs",
            "repos_url": "https://api.github.com/users/sebastian-sz/repos",
            "events_url": "https://api.github.com/users/sebastian-sz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sebastian-sz/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-10-22T06:39:36Z",
          "updated_at": "2021-10-22T06:39:36Z",
          "author_association": "CONTRIBUTOR",
          "body": "@mattdangerw \r\n> Also, while landing we will upload the weights to our own bucket. Is https://drive.google.com/file/d/1UCtqTFQ5G-eg1LoK08qxTq3t-O-h0Sib/view the current link for the weights?\r\n> \r\n> Thanks!\r\n\r\nYes, this is the correct link. I also updated weights hashes. Thanks!\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/949330195/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/952560367",
          "html_url": "https://github.com/keras-team/keras/pull/14935#issuecomment-952560367",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/14935",
          "id": 952560367,
          "node_id": "IC_kwDOAffHH844xurv",
          "user": {
            "login": "sebastian-sz",
            "id": 58402418,
            "node_id": "MDQ6VXNlcjU4NDAyNDE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/58402418?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sebastian-sz",
            "html_url": "https://github.com/sebastian-sz",
            "followers_url": "https://api.github.com/users/sebastian-sz/followers",
            "following_url": "https://api.github.com/users/sebastian-sz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sebastian-sz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sebastian-sz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sebastian-sz/subscriptions",
            "organizations_url": "https://api.github.com/users/sebastian-sz/orgs",
            "repos_url": "https://api.github.com/users/sebastian-sz/repos",
            "events_url": "https://api.github.com/users/sebastian-sz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sebastian-sz/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-10-27T05:50:55Z",
          "updated_at": "2021-10-27T08:20:01Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thank you for the approve.\r\n\r\nThe Bx variants are crashing CI. This is because the Normalization layer requires exactly 3 input channels for Imagenet per channel mean and stddev. The test is passing if we pass `include_preprocessing=False` in those variants. \r\n\r\nI'm still thinking how to handle this situation but I'm open to suggestions. \r\n\r\nEDIT:\r\nModified the code so that when the number of input channels is other than 3, the `S/M/L` pre processing will be used instead. This is most consistent with original repo I think.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/952560367/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/955772854",
          "html_url": "https://github.com/keras-team/keras/pull/14935#issuecomment-955772854",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/14935",
          "id": 955772854,
          "node_id": "IC_kwDOAffHH8449--2",
          "user": {
            "login": "sebastian-sz",
            "id": 58402418,
            "node_id": "MDQ6VXNlcjU4NDAyNDE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/58402418?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sebastian-sz",
            "html_url": "https://github.com/sebastian-sz",
            "followers_url": "https://api.github.com/users/sebastian-sz/followers",
            "following_url": "https://api.github.com/users/sebastian-sz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sebastian-sz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sebastian-sz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sebastian-sz/subscriptions",
            "organizations_url": "https://api.github.com/users/sebastian-sz/orgs",
            "repos_url": "https://api.github.com/users/sebastian-sz/repos",
            "events_url": "https://api.github.com/users/sebastian-sz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sebastian-sz/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-10-31T18:49:51Z",
          "updated_at": "2021-10-31T18:49:51Z",
          "author_association": "CONTRIBUTOR",
          "body": "@mattdangerw \r\nSorry to interrupt, I can see that the PR is merged, but what about the weights upload and download path?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/955772854/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/956440996",
          "html_url": "https://github.com/keras-team/keras/pull/14935#issuecomment-956440996",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/14935",
          "id": 956440996,
          "node_id": "IC_kwDOAffHH845AiGk",
          "user": {
            "login": "mattdangerw",
            "id": 1389937,
            "node_id": "MDQ6VXNlcjEzODk5Mzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1389937?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mattdangerw",
            "html_url": "https://github.com/mattdangerw",
            "followers_url": "https://api.github.com/users/mattdangerw/followers",
            "following_url": "https://api.github.com/users/mattdangerw/following{/other_user}",
            "gists_url": "https://api.github.com/users/mattdangerw/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mattdangerw/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mattdangerw/subscriptions",
            "organizations_url": "https://api.github.com/users/mattdangerw/orgs",
            "repos_url": "https://api.github.com/users/mattdangerw/repos",
            "events_url": "https://api.github.com/users/mattdangerw/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mattdangerw/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-11-01T17:39:52Z",
          "updated_at": "2021-11-01T19:59:47Z",
          "author_association": "MEMBER",
          "body": "@sebastian-sz I updated the code during submission to point to `\"https://storage.googleapis.com/tensorflow/keras-applications/efficientnet_v2/\"`. Which has the weights from the google drive folder you shared. Updating those weights (and hashes) will need to be done by someone on the Keras team with write access to the bucket.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/956440996/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/957134702",
          "html_url": "https://github.com/keras-team/keras/pull/14935#issuecomment-957134702",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/14935",
          "id": 957134702,
          "node_id": "IC_kwDOAffHH845DLdu",
          "user": {
            "login": "sebastian-sz",
            "id": 58402418,
            "node_id": "MDQ6VXNlcjU4NDAyNDE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/58402418?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sebastian-sz",
            "html_url": "https://github.com/sebastian-sz",
            "followers_url": "https://api.github.com/users/sebastian-sz/followers",
            "following_url": "https://api.github.com/users/sebastian-sz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sebastian-sz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sebastian-sz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sebastian-sz/subscriptions",
            "organizations_url": "https://api.github.com/users/sebastian-sz/orgs",
            "repos_url": "https://api.github.com/users/sebastian-sz/repos",
            "events_url": "https://api.github.com/users/sebastian-sz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sebastian-sz/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-11-02T06:25:24Z",
          "updated_at": "2021-11-02T06:25:24Z",
          "author_association": "CONTRIBUTOR",
          "body": "@mattdangerw Got it, thanks for the clarification!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/957134702/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/961913143",
          "html_url": "https://github.com/keras-team/keras/pull/14935#issuecomment-961913143",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/14935",
          "id": 961913143,
          "node_id": "IC_kwDOAffHH845VaE3",
          "user": {
            "login": "innat",
            "id": 17668390,
            "node_id": "MDQ6VXNlcjE3NjY4Mzkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/17668390?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/innat",
            "html_url": "https://github.com/innat",
            "followers_url": "https://api.github.com/users/innat/followers",
            "following_url": "https://api.github.com/users/innat/following{/other_user}",
            "gists_url": "https://api.github.com/users/innat/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/innat/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/innat/subscriptions",
            "organizations_url": "https://api.github.com/users/innat/orgs",
            "repos_url": "https://api.github.com/users/innat/repos",
            "events_url": "https://api.github.com/users/innat/events{/privacy}",
            "received_events_url": "https://api.github.com/users/innat/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-11-05T13:54:15Z",
          "updated_at": "2021-11-05T13:59:41Z",
          "author_association": "NONE",
          "body": "@sebastian-sz I've noticed that [EffNetV2-XL](https://github.com/google/automl/tree/master/efficientnetv2#1-about-efficientnetv2-models) is released. Will it also be included here? It's the big model I guess. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/961913143/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/961925441",
          "html_url": "https://github.com/keras-team/keras/pull/14935#issuecomment-961925441",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/14935",
          "id": 961925441,
          "node_id": "IC_kwDOAffHH845VdFB",
          "user": {
            "login": "sebastian-sz",
            "id": 58402418,
            "node_id": "MDQ6VXNlcjU4NDAyNDE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/58402418?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sebastian-sz",
            "html_url": "https://github.com/sebastian-sz",
            "followers_url": "https://api.github.com/users/sebastian-sz/followers",
            "following_url": "https://api.github.com/users/sebastian-sz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sebastian-sz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sebastian-sz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sebastian-sz/subscriptions",
            "organizations_url": "https://api.github.com/users/sebastian-sz/orgs",
            "repos_url": "https://api.github.com/users/sebastian-sz/repos",
            "events_url": "https://api.github.com/users/sebastian-sz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sebastian-sz/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-11-05T14:08:31Z",
          "updated_at": "2021-11-05T14:08:31Z",
          "author_association": "CONTRIBUTOR",
          "body": "> @sebastian-sz I've noticed that EffNetV2-XL is released. Will it also be included here? It's the big model I guess.\r\n\r\n@innat \r\nThis is merged so I guess it can be added in a separate PR. \r\nThe model is so big that there are two problems:\r\n1. Current naming convention will fail due to huge number of layers. One needs to change:\r\nfrom \r\n`name=\"block{}{}_\".format(i + 1, chr(j + 97)),`\r\nto something like\r\n`name=f\"block{i+1}-{j+1:02d}_\",` \r\n\r\nThe weights should not need to be reuploaded, but XL variant must be converted.\r\n\r\n2. RecursionError\r\nThe model has so many layers that creating it directly:\r\n```python\r\ndef EfficientNetV2XL(\r\n    include_top=True,\r\n    weights=\"imagenet\",\r\n    input_tensor=None,\r\n    input_shape=None,\r\n    pooling=None,\r\n    classes=1000,\r\n    classifier_activation=\"softmax\",\r\n):\r\n    \"\"\"Create EfficientNetV2 XL variant.\"\"\"\r\n\r\n    return EfficientNetV2(\r\n        width_coefficient=1.0,\r\n        depth_coefficient=1.0,\r\n        default_size=512,\r\n        model_name=\"efficientnetv2-xl\",\r\n        # (...)\r\n    )\r\n```\r\nwill throw `RecursionError`. One can increase recursion limit:\r\n```python\r\ncurrent_limit = sys.getrecursionlimit()\r\n    target_limit = 2000\r\n    if current_limit < target_limit:\r\n        sys.setrecursionlimit(target_limit)\r\n```\r\n\r\nbut I don't know if it's a bug or there is a better way to handle this.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/961925441/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/962067736",
          "html_url": "https://github.com/keras-team/keras/pull/14935#issuecomment-962067736",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/14935",
          "id": 962067736,
          "node_id": "IC_kwDOAffHH845V_0Y",
          "user": {
            "login": "innat",
            "id": 17668390,
            "node_id": "MDQ6VXNlcjE3NjY4Mzkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/17668390?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/innat",
            "html_url": "https://github.com/innat",
            "followers_url": "https://api.github.com/users/innat/followers",
            "following_url": "https://api.github.com/users/innat/following{/other_user}",
            "gists_url": "https://api.github.com/users/innat/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/innat/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/innat/subscriptions",
            "organizations_url": "https://api.github.com/users/innat/orgs",
            "repos_url": "https://api.github.com/users/innat/repos",
            "events_url": "https://api.github.com/users/innat/events{/privacy}",
            "received_events_url": "https://api.github.com/users/innat/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-11-05T17:09:17Z",
          "updated_at": "2021-11-05T17:22:22Z",
          "author_association": "NONE",
          "body": "@sebastian-sz Are [these ](https://github.com/sebastian-sz/efficientnet-v2-keras/releases)the exact weights file that will be used in `tf.keras.applicaitons` API?  Also, about the above issue, have you checked how the original implementation handle such a situation? ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/962067736/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/962115604",
          "html_url": "https://github.com/keras-team/keras/pull/14935#issuecomment-962115604",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/14935",
          "id": 962115604,
          "node_id": "IC_kwDOAffHH845WLgU",
          "user": {
            "login": "sebastian-sz",
            "id": 58402418,
            "node_id": "MDQ6VXNlcjU4NDAyNDE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/58402418?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sebastian-sz",
            "html_url": "https://github.com/sebastian-sz",
            "followers_url": "https://api.github.com/users/sebastian-sz/followers",
            "following_url": "https://api.github.com/users/sebastian-sz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sebastian-sz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sebastian-sz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sebastian-sz/subscriptions",
            "organizations_url": "https://api.github.com/users/sebastian-sz/orgs",
            "repos_url": "https://api.github.com/users/sebastian-sz/repos",
            "events_url": "https://api.github.com/users/sebastian-sz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sebastian-sz/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-11-05T18:18:52Z",
          "updated_at": "2021-11-05T18:18:52Z",
          "author_association": "CONTRIBUTOR",
          "body": "@innat \r\n\r\n### About the weights\r\nVery similar - the model's architecture is the same apart for few code differences - but not exactly the same.  \r\nThe differences are:\r\n* weights in the link don't have preprocessing layer in the model (although this should not be an issue)\r\n* different block naming - weights in the link use the one I mentioned\r\n* weights in the link do not use EMA for easier comparison. In this PR I included EMA as I've heard somewhere they are preffered and even slightly better.\r\n* Slightly different weight conversion script: for this PR i used [this script](https://gist.github.com/sebastian-sz/dc349b933a3b9bb1906773e1608c3acb). \r\n\r\n### About the issue\r\nThey do not have this Issue in the original repo as they use subclassing API. I guess in subclassing API there are fewer loops as they are only stacking blocks (e.g. STEM might be treated as a single layer). Functional API (this PR + my repo) is stacking raw layers (e. g. conv2D) layer after layer. \r\n\r\nI will open the Issue on Keras repo with an example and see what the devs say.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/962115604/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/1244",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/1244/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/1244/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/1244/events",
      "html_url": "https://github.com/keras-team/keras/issues/1244",
      "id": 121678994,
      "node_id": "MDU6SXNzdWUxMjE2Nzg5OTQ=",
      "number": 1244,
      "title": "Loss turns into 'nan' when running on GPU",
      "user": {
        "login": "lmoesch",
        "id": 16242519,
        "node_id": "MDQ6VXNlcjE2MjQyNTE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/16242519?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lmoesch",
        "html_url": "https://github.com/lmoesch",
        "followers_url": "https://api.github.com/users/lmoesch/followers",
        "following_url": "https://api.github.com/users/lmoesch/following{/other_user}",
        "gists_url": "https://api.github.com/users/lmoesch/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/lmoesch/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lmoesch/subscriptions",
        "organizations_url": "https://api.github.com/users/lmoesch/orgs",
        "repos_url": "https://api.github.com/users/lmoesch/repos",
        "events_url": "https://api.github.com/users/lmoesch/events{/privacy}",
        "received_events_url": "https://api.github.com/users/lmoesch/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 93,
      "created_at": "2015-12-11T10:15:30Z",
      "updated_at": "2023-03-20T12:49:37Z",
      "closed_at": "2021-06-24T21:20:47Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "Like previously stated in issue #511 Keras runs into not a number losses while training on GPU.\nTested this with the mnist_cnn example code aswell as with self designed conv networks. I also tried to disable cuDnn, aswell as increasing the epsilon and setting a clinorm. Nothing solved the poblem.\n\nI'm using the latest version of Theano and Keras. And SGD optimisation with categorical crossentropy.\n\nGraphics: GTX 980 Ti\n",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/1244/reactions",
        "total_count": 21,
        "+1": 12,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 9,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/1244/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/163984222",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-163984222",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 163984222,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2Mzk4NDIyMg==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-11T16:34:26Z",
          "updated_at": "2015-12-11T16:34:26Z",
          "author_association": "COLLABORATOR",
          "body": "I'd like to identify what op is causing this issue. \n- post your code here.\n- try to use a different loss than categorical crossentropy, e.g. MSE\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/163984222/reactions",
            "total_count": 5,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 5,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/164036905",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-164036905",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 164036905,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDAzNjkwNQ==",
          "user": {
            "login": "lmoesch",
            "id": 16242519,
            "node_id": "MDQ6VXNlcjE2MjQyNTE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/16242519?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lmoesch",
            "html_url": "https://github.com/lmoesch",
            "followers_url": "https://api.github.com/users/lmoesch/followers",
            "following_url": "https://api.github.com/users/lmoesch/following{/other_user}",
            "gists_url": "https://api.github.com/users/lmoesch/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lmoesch/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lmoesch/subscriptions",
            "organizations_url": "https://api.github.com/users/lmoesch/orgs",
            "repos_url": "https://api.github.com/users/lmoesch/repos",
            "events_url": "https://api.github.com/users/lmoesch/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lmoesch/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-11T20:10:32Z",
          "updated_at": "2015-12-11T20:11:04Z",
          "author_association": "NONE",
          "body": "Here is the net-part of my code. I'll try other loss functions, but they take some time to provide useful evidence, since you can't determine when the loss turns into 'nan'.\n\n```\nimg_rows = img_cols = 128\nimg_channels = 3\nl1 = l2 = 0\n\n# convert data for GPU use\nX_train = X_train.astype(\"float32\")\nX_test = X_test.astype(\"float32\")\nX_train /= 255\nX_test /= 255\n\n# convert class vectors to binary class matrices\ny_train = np_utils.to_categorical(y_train, nb_classes)\ny_test = np_utils.to_categorical(y_test, nb_classes)\n\nmodel = Sequential()\n\nmodel.add(Convolution2D(16, 5, 5, border_mode='same',\n                        input_shape=(img_channels, img_rows, img_cols), W_regularizer=l1l2(l1, l2)))\nmodel.add(Activation('relu'))\nmodel.add(Convolution2D(16, 3, 3, W_regularizer=l1l2(l1, l2)))\nmodel.add(Activation('relu'))\nmodel.add(MaxPooling2D(pool_size=(2, 2)))\nmodel.add(Dropout(0.3))\n\nmodel.add(Convolution2D(32, 3, 3, border_mode='valid', W_regularizer=l1l2(l1, l2)))\nmodel.add(Activation('relu'))\nmodel.add(Convolution2D(32, 3, 3, W_regularizer=l1l2(l1, l2)))\nmodel.add(Activation('relu'))\nmodel.add(MaxPooling2D(pool_size=(2, 2)))\nmodel.add(Dropout(0.3))\n\nmodel.add(Convolution2D(64, 3, 3, border_mode='valid', W_regularizer=l1l2(l1, l2)))\nmodel.add(Activation('relu'))\nmodel.add(Convolution2D(64, 3, 3, W_regularizer=l1l2(l1, l2)))\nmodel.add(Activation('relu'))\nmodel.add(MaxPooling2D(pool_size=(2, 2)))\nmodel.add(Dropout(0.3))\n\nmodel.add(Flatten())\nmodel.add(Dense(1024, W_regularizer=l1l2(l1, l2)))\nmodel.add(Activation('relu'))\nmodel.add(Dropout(0.6))\nmodel.add(Dense(nb_classes))\nmodel.add(Activation('softmax'))\n\nsgd = SGD(lr=0.01, decay=1e-6, momentum=0.9, nesterov=True)\nmodel.compile(loss='categorical_crossentropy', optimizer=sgd)\n\nmodel.fit(X_train, y_train, batch_size=batch_size, nb_epoch=nb_epoch,shuffle=True, show_accuracy=True, callbacks=[history])\n```\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/164036905/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/164170261",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-164170261",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 164170261,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDE3MDI2MQ==",
          "user": {
            "login": "hr0nix",
            "id": 4273011,
            "node_id": "MDQ6VXNlcjQyNzMwMTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4273011?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hr0nix",
            "html_url": "https://github.com/hr0nix",
            "followers_url": "https://api.github.com/users/hr0nix/followers",
            "following_url": "https://api.github.com/users/hr0nix/following{/other_user}",
            "gists_url": "https://api.github.com/users/hr0nix/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hr0nix/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hr0nix/subscriptions",
            "organizations_url": "https://api.github.com/users/hr0nix/orgs",
            "repos_url": "https://api.github.com/users/hr0nix/repos",
            "events_url": "https://api.github.com/users/hr0nix/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hr0nix/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-12T17:29:39Z",
          "updated_at": "2015-12-12T17:29:39Z",
          "author_association": "NONE",
          "body": "As far as I know, it's the combination of relu and softmax that causes numerical troubles, as relu can produce large positive values corresponding to very small probabilities. If you change your model to use, say, tanh instead of relu for the last dense layer, the problem will go away.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/164170261/reactions",
            "total_count": 50,
            "+1": 42,
            "-1": 4,
            "laugh": 0,
            "hooray": 4,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/164234888",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-164234888",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 164234888,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDIzNDg4OA==",
          "user": {
            "login": "lmoesch",
            "id": 16242519,
            "node_id": "MDQ6VXNlcjE2MjQyNTE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/16242519?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lmoesch",
            "html_url": "https://github.com/lmoesch",
            "followers_url": "https://api.github.com/users/lmoesch/followers",
            "following_url": "https://api.github.com/users/lmoesch/following{/other_user}",
            "gists_url": "https://api.github.com/users/lmoesch/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lmoesch/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lmoesch/subscriptions",
            "organizations_url": "https://api.github.com/users/lmoesch/orgs",
            "repos_url": "https://api.github.com/users/lmoesch/repos",
            "events_url": "https://api.github.com/users/lmoesch/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lmoesch/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-13T07:32:07Z",
          "updated_at": "2015-12-13T07:32:07Z",
          "author_association": "NONE",
          "body": "I first tested the 'tanh' activation wich didn't helped. It was no suprise though, since this problem is specific to calculations on the GPU and not a general one with numerical stability.\n\nI also tried mse as loss function, which ran into 'nan' aswell.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/164234888/reactions",
            "total_count": 5,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 1,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/164489767",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-164489767",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 164489767,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDQ4OTc2Nw==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-14T16:43:06Z",
          "updated_at": "2015-12-14T16:43:06Z",
          "author_association": "COLLABORATOR",
          "body": "> I also tried mse as loss function, which ran into 'nan' aswell.\n\nIn that case the overflow is happening earlier in the graph.\n\nNext, you could try removing the regularizers.\n\nBTW the history callback is included by default, no need to specify it manually.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/164489767/reactions",
            "total_count": 7,
            "+1": 6,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/164491906",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-164491906",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 164491906,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDQ5MTkwNg==",
          "user": {
            "login": "lmoesch",
            "id": 16242519,
            "node_id": "MDQ6VXNlcjE2MjQyNTE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/16242519?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lmoesch",
            "html_url": "https://github.com/lmoesch",
            "followers_url": "https://api.github.com/users/lmoesch/followers",
            "following_url": "https://api.github.com/users/lmoesch/following{/other_user}",
            "gists_url": "https://api.github.com/users/lmoesch/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lmoesch/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lmoesch/subscriptions",
            "organizations_url": "https://api.github.com/users/lmoesch/orgs",
            "repos_url": "https://api.github.com/users/lmoesch/repos",
            "events_url": "https://api.github.com/users/lmoesch/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lmoesch/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-14T16:50:36Z",
          "updated_at": "2015-12-14T16:50:36Z",
          "author_association": "NONE",
          "body": "Correct me if I'm wrong, but with l1 = l2 = 0 it should not matter that l1l2-regulizer is defined?\n\nBut I'll try to remove them.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/164491906/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/164493797",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-164493797",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 164493797,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NDQ5Mzc5Nw==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-14T16:57:20Z",
          "updated_at": "2015-12-14T16:57:20Z",
          "author_association": "COLLABORATOR",
          "body": "Of course, it _should_ not matter. Also, there should not be a float32 overflow.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/164493797/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/166331497",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-166331497",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 166331497,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NjMzMTQ5Nw==",
          "user": {
            "login": "lmoesch",
            "id": 16242519,
            "node_id": "MDQ6VXNlcjE2MjQyNTE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/16242519?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lmoesch",
            "html_url": "https://github.com/lmoesch",
            "followers_url": "https://api.github.com/users/lmoesch/followers",
            "following_url": "https://api.github.com/users/lmoesch/following{/other_user}",
            "gists_url": "https://api.github.com/users/lmoesch/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lmoesch/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lmoesch/subscriptions",
            "organizations_url": "https://api.github.com/users/lmoesch/orgs",
            "repos_url": "https://api.github.com/users/lmoesch/repos",
            "events_url": "https://api.github.com/users/lmoesch/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lmoesch/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-21T15:31:44Z",
          "updated_at": "2015-12-21T15:37:07Z",
          "author_association": "NONE",
          "body": "Okay, I removed all W-regulizers and the 'nan' loss still occurs.\n\nI noticed that the netloss is more likely to output 'nan' when used deeper (e.g. 8 conv layers instead of 6) and wider (e.g. 512 feature maps) networks.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/166331497/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167162550",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-167162550",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 167162550,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzE2MjU1MA==",
          "user": {
            "login": "fariasfc",
            "id": 6319642,
            "node_id": "MDQ6VXNlcjYzMTk2NDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6319642?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fariasfc",
            "html_url": "https://github.com/fariasfc",
            "followers_url": "https://api.github.com/users/fariasfc/followers",
            "following_url": "https://api.github.com/users/fariasfc/following{/other_user}",
            "gists_url": "https://api.github.com/users/fariasfc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fariasfc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fariasfc/subscriptions",
            "organizations_url": "https://api.github.com/users/fariasfc/orgs",
            "repos_url": "https://api.github.com/users/fariasfc/repos",
            "events_url": "https://api.github.com/users/fariasfc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fariasfc/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-24T22:01:47Z",
          "updated_at": "2015-12-24T22:01:47Z",
          "author_association": "NONE",
          "body": "I am also having problem with nans on loss.\n\nI realized that the weights became nan, but I dont know if this changed before or after the loss calculation. Which is very strange, since the values to calculate crossentropy is clipped before apply the objective function...\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167162550/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167200786",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-167200786",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 167200786,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzIwMDc4Ng==",
          "user": {
            "login": "qqgeogor",
            "id": 2471510,
            "node_id": "MDQ6VXNlcjI0NzE1MTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2471510?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qqgeogor",
            "html_url": "https://github.com/qqgeogor",
            "followers_url": "https://api.github.com/users/qqgeogor/followers",
            "following_url": "https://api.github.com/users/qqgeogor/following{/other_user}",
            "gists_url": "https://api.github.com/users/qqgeogor/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qqgeogor/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qqgeogor/subscriptions",
            "organizations_url": "https://api.github.com/users/qqgeogor/orgs",
            "repos_url": "https://api.github.com/users/qqgeogor/repos",
            "events_url": "https://api.github.com/users/qqgeogor/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qqgeogor/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-25T06:39:51Z",
          "updated_at": "2015-12-25T06:39:51Z",
          "author_association": "NONE",
          "body": "The same thing happened to me instead I was using keras to build a regression model. I have tried different loss(rmse or mae) and also sigmoid tanh apart from relu. Nothing helps to imporve this case.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167200786/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167485363",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-167485363",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 167485363,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2NzQ4NTM2Mw==",
          "user": {
            "login": "fariasfc",
            "id": 6319642,
            "node_id": "MDQ6VXNlcjYzMTk2NDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6319642?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fariasfc",
            "html_url": "https://github.com/fariasfc",
            "followers_url": "https://api.github.com/users/fariasfc/followers",
            "following_url": "https://api.github.com/users/fariasfc/following{/other_user}",
            "gists_url": "https://api.github.com/users/fariasfc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fariasfc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fariasfc/subscriptions",
            "organizations_url": "https://api.github.com/users/fariasfc/orgs",
            "repos_url": "https://api.github.com/users/fariasfc/repos",
            "events_url": "https://api.github.com/users/fariasfc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fariasfc/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-12-28T05:00:55Z",
          "updated_at": "2015-12-28T05:00:55Z",
          "author_association": "NONE",
          "body": "I think I've fixed it on the PR #1368.\n@fchollet what do you think?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/167485363/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/169364103",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-169364103",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 169364103,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE2OTM2NDEwMw==",
          "user": {
            "login": "lmoesch",
            "id": 16242519,
            "node_id": "MDQ6VXNlcjE2MjQyNTE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/16242519?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lmoesch",
            "html_url": "https://github.com/lmoesch",
            "followers_url": "https://api.github.com/users/lmoesch/followers",
            "following_url": "https://api.github.com/users/lmoesch/following{/other_user}",
            "gists_url": "https://api.github.com/users/lmoesch/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lmoesch/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lmoesch/subscriptions",
            "organizations_url": "https://api.github.com/users/lmoesch/orgs",
            "repos_url": "https://api.github.com/users/lmoesch/repos",
            "events_url": "https://api.github.com/users/lmoesch/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lmoesch/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-01-06T15:48:59Z",
          "updated_at": "2016-01-06T15:48:59Z",
          "author_association": "NONE",
          "body": "I get your point on preventing division by zero, but this doesn't explain why this problem is specific to certain GPU especially the GTX 9XX series. (Never had a problem on my GTX 670). \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/169364103/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/231086225",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-231086225",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 231086225,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTA4NjIyNQ==",
          "user": {
            "login": "tylerklement",
            "id": 6045599,
            "node_id": "MDQ6VXNlcjYwNDU1OTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6045599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tylerklement",
            "html_url": "https://github.com/tylerklement",
            "followers_url": "https://api.github.com/users/tylerklement/followers",
            "following_url": "https://api.github.com/users/tylerklement/following{/other_user}",
            "gists_url": "https://api.github.com/users/tylerklement/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tylerklement/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tylerklement/subscriptions",
            "organizations_url": "https://api.github.com/users/tylerklement/orgs",
            "repos_url": "https://api.github.com/users/tylerklement/repos",
            "events_url": "https://api.github.com/users/tylerklement/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tylerklement/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-07-07T14:01:04Z",
          "updated_at": "2016-07-07T14:01:04Z",
          "author_association": "NONE",
          "body": "I'm getting the same problem.  I think this is a problem with the system configuration more so than with the code. My code used to work, but then I had to reformat my computer and reinstall everything, and now I'm getting \"nan\" loss. So I think it's something with the configuration of Theano, CUDA, Visual Studio, or CuDNN, at least in my case. Still trying to figure it out.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/231086225/reactions",
            "total_count": 14,
            "+1": 14,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/231121052",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-231121052",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 231121052,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTEyMTA1Mg==",
          "user": {
            "login": "azzever",
            "id": 7106058,
            "node_id": "MDQ6VXNlcjcxMDYwNTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7106058?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/azzever",
            "html_url": "https://github.com/azzever",
            "followers_url": "https://api.github.com/users/azzever/followers",
            "following_url": "https://api.github.com/users/azzever/following{/other_user}",
            "gists_url": "https://api.github.com/users/azzever/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/azzever/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/azzever/subscriptions",
            "organizations_url": "https://api.github.com/users/azzever/orgs",
            "repos_url": "https://api.github.com/users/azzever/repos",
            "events_url": "https://api.github.com/users/azzever/events{/privacy}",
            "received_events_url": "https://api.github.com/users/azzever/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-07-07T15:49:15Z",
          "updated_at": "2016-07-07T15:49:15Z",
          "author_association": "NONE",
          "body": "I'm also getting this problem (Ubuntu 14.04, GTX 980Ti/970, Theano as backend, CNN with residual units, ReLU, BN, mse/mae loss). \n\nIn my case problem occurred randomly, the probability of getting nan is increasing with model's complexity (and memory usage). When loss become nan loading of saved weights doesn't help to continue training (weights become corrupted on first training iteration). Only recompilation or creating new model allow to continue training.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/231121052/reactions",
            "total_count": 4,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 1,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/231211728",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-231211728",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 231211728,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTIxMTcyOA==",
          "user": {
            "login": "tylerklement",
            "id": 6045599,
            "node_id": "MDQ6VXNlcjYwNDU1OTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6045599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tylerklement",
            "html_url": "https://github.com/tylerklement",
            "followers_url": "https://api.github.com/users/tylerklement/followers",
            "following_url": "https://api.github.com/users/tylerklement/following{/other_user}",
            "gists_url": "https://api.github.com/users/tylerklement/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tylerklement/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tylerklement/subscriptions",
            "organizations_url": "https://api.github.com/users/tylerklement/orgs",
            "repos_url": "https://api.github.com/users/tylerklement/repos",
            "events_url": "https://api.github.com/users/tylerklement/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tylerklement/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-07-07T21:24:03Z",
          "updated_at": "2016-07-07T21:24:03Z",
          "author_association": "NONE",
          "body": "It works for me now. I had installed cuDNN incorrectly - previously I had just dragged the cuDNN files and dropped them in the CUDA folder, replacing anything with the same name. So I re-installed Visual Studio (2013), Anaconda, Theano, and Keras. It still gave me \"nan\". So then, I installed cuDNN, but this time, I did this by extracting the cuDNN files to their own directory, and then just added that directory to my path. I think that was the key factor for me: installing cuDNN (properly). I was using relu and adam the whole time.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/231211728/reactions",
            "total_count": 7,
            "+1": 6,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/239701624",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-239701624",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 239701624,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTcwMTYyNA==",
          "user": {
            "login": "djstrong",
            "id": 1849959,
            "node_id": "MDQ6VXNlcjE4NDk5NTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1849959?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/djstrong",
            "html_url": "https://github.com/djstrong",
            "followers_url": "https://api.github.com/users/djstrong/followers",
            "following_url": "https://api.github.com/users/djstrong/following{/other_user}",
            "gists_url": "https://api.github.com/users/djstrong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/djstrong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/djstrong/subscriptions",
            "organizations_url": "https://api.github.com/users/djstrong/orgs",
            "repos_url": "https://api.github.com/users/djstrong/repos",
            "events_url": "https://api.github.com/users/djstrong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/djstrong/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-14T22:25:35Z",
          "updated_at": "2016-08-14T22:25:35Z",
          "author_association": "CONTRIBUTOR",
          "body": "The same problem on Tesla M2090. I tried consume_less gpu and cpu. GRU is working ok. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/239701624/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/240742436",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-240742436",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 240742436,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0MDc0MjQzNg==",
          "user": {
            "login": "WenchenLi",
            "id": 5865755,
            "node_id": "MDQ6VXNlcjU4NjU3NTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5865755?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/WenchenLi",
            "html_url": "https://github.com/WenchenLi",
            "followers_url": "https://api.github.com/users/WenchenLi/followers",
            "following_url": "https://api.github.com/users/WenchenLi/following{/other_user}",
            "gists_url": "https://api.github.com/users/WenchenLi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/WenchenLi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/WenchenLi/subscriptions",
            "organizations_url": "https://api.github.com/users/WenchenLi/orgs",
            "repos_url": "https://api.github.com/users/WenchenLi/repos",
            "events_url": "https://api.github.com/users/WenchenLi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/WenchenLi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-18T14:35:05Z",
          "updated_at": "2016-08-18T14:35:05Z",
          "author_association": "NONE",
          "body": "Anybody any progress on this issue?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/240742436/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/240742821",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-240742821",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 240742821,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0MDc0MjgyMQ==",
          "user": {
            "login": "9thDimension",
            "id": 14001093,
            "node_id": "MDQ6VXNlcjE0MDAxMDkz",
            "avatar_url": "https://avatars.githubusercontent.com/u/14001093?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/9thDimension",
            "html_url": "https://github.com/9thDimension",
            "followers_url": "https://api.github.com/users/9thDimension/followers",
            "following_url": "https://api.github.com/users/9thDimension/following{/other_user}",
            "gists_url": "https://api.github.com/users/9thDimension/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/9thDimension/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/9thDimension/subscriptions",
            "organizations_url": "https://api.github.com/users/9thDimension/orgs",
            "repos_url": "https://api.github.com/users/9thDimension/repos",
            "events_url": "https://api.github.com/users/9thDimension/events{/privacy}",
            "received_events_url": "https://api.github.com/users/9thDimension/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-18T14:36:22Z",
          "updated_at": "2016-08-18T14:37:04Z",
          "author_association": "NONE",
          "body": "I had this problem - nets that worked perfectly fine on various CPU hardware failed to train on AWS GPU-enabled remote machine.\n\nI removed Theano 0.8.0, and upgraded to the bleeding-edge version from GitHub (which is 0.9.0-dev2). Now training works perfectly.\n\nCan't blame this one on Keras, folks!\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/240742821/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/240743159",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-240743159",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 240743159,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0MDc0MzE1OQ==",
          "user": {
            "login": "djstrong",
            "id": 1849959,
            "node_id": "MDQ6VXNlcjE4NDk5NTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1849959?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/djstrong",
            "html_url": "https://github.com/djstrong",
            "followers_url": "https://api.github.com/users/djstrong/followers",
            "following_url": "https://api.github.com/users/djstrong/following{/other_user}",
            "gists_url": "https://api.github.com/users/djstrong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/djstrong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/djstrong/subscriptions",
            "organizations_url": "https://api.github.com/users/djstrong/orgs",
            "repos_url": "https://api.github.com/users/djstrong/repos",
            "events_url": "https://api.github.com/users/djstrong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/djstrong/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-18T14:37:27Z",
          "updated_at": "2016-08-18T14:37:27Z",
          "author_association": "CONTRIBUTOR",
          "body": "On CPU I am getting nans too, but after more epochs than on GPU.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/240743159/reactions",
            "total_count": 7,
            "+1": 7,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/248029375",
          "html_url": "https://github.com/keras-team/keras/issues/1244#issuecomment-248029375",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1244",
          "id": 248029375,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0ODAyOTM3NQ==",
          "user": {
            "login": "ersinyar",
            "id": 19571570,
            "node_id": "MDQ6VXNlcjE5NTcxNTcw",
            "avatar_url": "https://avatars.githubusercontent.com/u/19571570?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ersinyar",
            "html_url": "https://github.com/ersinyar",
            "followers_url": "https://api.github.com/users/ersinyar/followers",
            "following_url": "https://api.github.com/users/ersinyar/following{/other_user}",
            "gists_url": "https://api.github.com/users/ersinyar/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ersinyar/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ersinyar/subscriptions",
            "organizations_url": "https://api.github.com/users/ersinyar/orgs",
            "repos_url": "https://api.github.com/users/ersinyar/repos",
            "events_url": "https://api.github.com/users/ersinyar/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ersinyar/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-09-19T15:38:34Z",
          "updated_at": "2016-09-19T15:38:34Z",
          "author_association": "NONE",
          "body": "I have the same problem. I train an LSTM network with my own data. The train_loss becomes NaN suddenly. I checked my code with imdb dataset. It is working OK. But when I switch to my dataset nan problem occurs. I preprocessed my data in the same way that imdb dataset preprocessed in imdb_lstm example of keras. I do not understand what the problem is. It seems that network configuration is OK since it run with another dataset. However, my dataset and imdb dataset are both text. How come does another text dataset cause this issue? I tried gradient clipping also weight norm limitations. I think sudden change happens when inf value is calculated with categorical_cross entropy function such as log(0). But how can I determine and avoid this problem? \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/248029375/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/13118",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/13118/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/13118/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/13118/events",
      "html_url": "https://github.com/keras-team/keras/issues/13118",
      "id": 469583833,
      "node_id": "MDU6SXNzdWU0Njk1ODM4MzM=",
      "number": 13118,
      "title": "Repeatedly calling model.predict(...) results in memory leak",
      "user": {
        "login": "hotplot",
        "id": 6686759,
        "node_id": "MDQ6VXNlcjY2ODY3NTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6686759?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hotplot",
        "html_url": "https://github.com/hotplot",
        "followers_url": "https://api.github.com/users/hotplot/followers",
        "following_url": "https://api.github.com/users/hotplot/following{/other_user}",
        "gists_url": "https://api.github.com/users/hotplot/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hotplot/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hotplot/subscriptions",
        "organizations_url": "https://api.github.com/users/hotplot/orgs",
        "repos_url": "https://api.github.com/users/hotplot/repos",
        "events_url": "https://api.github.com/users/hotplot/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hotplot/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 192940623,
          "node_id": "MDU6TGFiZWwxOTI5NDA2MjM=",
          "url": "https://api.github.com/repos/keras-team/keras/labels/type:bug/performance",
          "name": "type:bug/performance",
          "color": "7A1171",
          "default": false,
          "description": ""
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": {
        "login": "jvishnuvardhan",
        "id": 46058173,
        "node_id": "MDQ6VXNlcjQ2MDU4MTcz",
        "avatar_url": "https://avatars.githubusercontent.com/u/46058173?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jvishnuvardhan",
        "html_url": "https://github.com/jvishnuvardhan",
        "followers_url": "https://api.github.com/users/jvishnuvardhan/followers",
        "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}",
        "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions",
        "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs",
        "repos_url": "https://api.github.com/users/jvishnuvardhan/repos",
        "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "assignees": [
        {
          "login": "jvishnuvardhan",
          "id": 46058173,
          "node_id": "MDQ6VXNlcjQ2MDU4MTcz",
          "avatar_url": "https://avatars.githubusercontent.com/u/46058173?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/jvishnuvardhan",
          "html_url": "https://github.com/jvishnuvardhan",
          "followers_url": "https://api.github.com/users/jvishnuvardhan/followers",
          "following_url": "https://api.github.com/users/jvishnuvardhan/following{/other_user}",
          "gists_url": "https://api.github.com/users/jvishnuvardhan/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/jvishnuvardhan/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/jvishnuvardhan/subscriptions",
          "organizations_url": "https://api.github.com/users/jvishnuvardhan/orgs",
          "repos_url": "https://api.github.com/users/jvishnuvardhan/repos",
          "events_url": "https://api.github.com/users/jvishnuvardhan/events{/privacy}",
          "received_events_url": "https://api.github.com/users/jvishnuvardhan/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        }
      ],
      "milestone": null,
      "comments": 92,
      "created_at": "2019-07-18T06:00:18Z",
      "updated_at": "2024-02-28T11:00:06Z",
      "closed_at": "2021-06-24T22:38:22Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "**System information**  \r\n- Have I written custom code (as opposed to using example directory):  Yes, minimal example attached\r\n- OS Platform and Distribution (e.g., Linux Ubuntu 16.04): macOS 10.14.5\r\n- TensorFlow backend (yes / no): yes\r\n- TensorFlow version: 1.12.0\r\n- Keras version:  2.2.4\r\n- Python version: 3.6.8\r\n- CUDA/cuDNN version: N/A\r\n- GPU model and memory: N/A\r\n\r\n**Describe the current behavior**  \r\nLoading a model once and then repeatedly calling `model.predict(...)` results in continually increasing memory usage\r\n\r\n**Describe the expected behavior**  \r\nCalling `model.predict(...)` should not result in any permanent increase in memory usage\r\n\r\n**Code to reproduce the issue**  \r\n\r\n```python\r\nimport keras\r\nimport numpy as np\r\n\r\nmodel = keras.applications.mobilenet_v2.MobileNetV2()\r\nX = np.random.rand(1, 224, 224, 3)\r\n\r\nwhile True:\r\n    # Leaks:\r\n    y = model.predict(X)[0]\r\n    \r\n    # Does not leak:\r\n    # y = [0]\r\n```\r\n\r\n**Other info / logs**  \r\nI am running on a Mac Mini and using CPU only. When I run the code above, memory usage climbs steadily and will eventually consume 20+ GB of memory!\r\n\r\nThe issue does not appear to exist on my Ubuntu 18.04 laptop using a GTX 1050\r\n\r\nI'm open to the idea that I may be doing something wrong, but with such a small example it seems hard to believe.\r\n\r\nLet me know what other info I can give to help.",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/13118/reactions",
        "total_count": 38,
        "+1": 38,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/13118/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/514127763",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-514127763",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 514127763,
          "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDEyNzc2Mw==",
          "user": {
            "login": "wangyexiang",
            "id": 23202109,
            "node_id": "MDQ6VXNlcjIzMjAyMTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/23202109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wangyexiang",
            "html_url": "https://github.com/wangyexiang",
            "followers_url": "https://api.github.com/users/wangyexiang/followers",
            "following_url": "https://api.github.com/users/wangyexiang/following{/other_user}",
            "gists_url": "https://api.github.com/users/wangyexiang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wangyexiang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wangyexiang/subscriptions",
            "organizations_url": "https://api.github.com/users/wangyexiang/orgs",
            "repos_url": "https://api.github.com/users/wangyexiang/repos",
            "events_url": "https://api.github.com/users/wangyexiang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wangyexiang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-07-23T09:20:26Z",
          "updated_at": "2019-07-23T09:21:28Z",
          "author_association": "NONE",
          "body": "Have you tried using the K. clear_session() method after prediction(from keras import backend as K)?. @hotplot ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/514127763/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/514471076",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-514471076",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 514471076,
          "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDQ3MTA3Ng==",
          "user": {
            "login": "hotplot",
            "id": 6686759,
            "node_id": "MDQ6VXNlcjY2ODY3NTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6686759?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hotplot",
            "html_url": "https://github.com/hotplot",
            "followers_url": "https://api.github.com/users/hotplot/followers",
            "following_url": "https://api.github.com/users/hotplot/following{/other_user}",
            "gists_url": "https://api.github.com/users/hotplot/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hotplot/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hotplot/subscriptions",
            "organizations_url": "https://api.github.com/users/hotplot/orgs",
            "repos_url": "https://api.github.com/users/hotplot/repos",
            "events_url": "https://api.github.com/users/hotplot/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hotplot/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-07-24T04:06:24Z",
          "updated_at": "2019-07-24T04:07:29Z",
          "author_association": "NONE",
          "body": "@wangyexiang Yes, I have run the following:\r\n\r\n```python\r\nimport numpy as np\r\n\r\nimport keras\r\nimport keras.backend as K\r\n\r\nmodel = keras.applications.mobilenet_v2.MobileNetV2()\r\nX = np.random.rand(1, 224, 224, 3)\r\n\r\nwhile True:\r\n    y = model.predict(X)[0]\r\n    K.clear_session()\r\n```\r\n\r\nAnd get the following output:\r\n\r\n```\r\nUsing TensorFlow backend.\r\n2019-07-24 15:55:58.727337: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA\r\n2019-07-24 15:55:58.727567: I tensorflow/core/common_runtime/process_util.cc:69] Creating new thread pool with default inter op setting: 6. Tune using inter_op_parallelism_threads for best performance.\r\nTraceback (most recent call last):\r\n  File \"/Users/sam/Desktop/test.py\", line 11, in <module>\r\n    y = model.predict(X)[0]\r\n  File \"/usr/local/anaconda3/envs/deeplearning/lib/python3.6/site-packages/keras/engine/training.py\", line 1169, in predict\r\n    steps=steps)\r\n  File \"/usr/local/anaconda3/envs/deeplearning/lib/python3.6/site-packages/keras/engine/training_arrays.py\", line 294, in predict_loop\r\n    batch_outs = f(ins_batch)\r\n  File \"/usr/local/anaconda3/envs/deeplearning/lib/python3.6/site-packages/keras/backend/tensorflow_backend.py\", line 2715, in __call__\r\n    return self._call(inputs)\r\n  File \"/usr/local/anaconda3/envs/deeplearning/lib/python3.6/site-packages/keras/backend/tensorflow_backend.py\", line 2671, in _call\r\n    session)\r\n  File \"/usr/local/anaconda3/envs/deeplearning/lib/python3.6/site-packages/keras/backend/tensorflow_backend.py\", line 2623, in _make_callable\r\n    callable_fn = session._make_callable_from_options(callable_opts)\r\n  File \"/usr/local/anaconda3/envs/deeplearning/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1471, in _make_callable_from_options\r\n    return BaseSession._Callable(self, callable_options)\r\n  File \"/usr/local/anaconda3/envs/deeplearning/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1425, in __init__\r\n    session._session, options_ptr, status)\r\n  File \"/usr/local/anaconda3/envs/deeplearning/lib/python3.6/site-packages/tensorflow/python/framework/errors_impl.py\", line 528, in __exit__\r\n    c_api.TF_GetCode(self.status.status))\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Tensor input_1:0, specified in either feed_devices or fetch_devices was not found in the Graph\r\nException ignored in: <bound method BaseSession._Callable.__del__ of <tensorflow.python.client.session.BaseSession._Callable object at 0xb36096160>>\r\nTraceback (most recent call last):\r\n  File \"/usr/local/anaconda3/envs/deeplearning/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1455, in __del__\r\n    self._session._session, self._handle, status)\r\n  File \"/usr/local/anaconda3/envs/deeplearning/lib/python3.6/site-packages/tensorflow/python/framework/errors_impl.py\", line 528, in __exit__\r\n    c_api.TF_GetCode(self.status.status))\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: No such callable handle: 140702002450384\r\n```\r\n\r\nThe exception is unsurprising. I am making repeated predictions using the existing model instance, so it is an error to call `clear_session`.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/514471076/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/514880825",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-514880825",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 514880825,
          "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDg4MDgyNQ==",
          "user": {
            "login": "wangyexiang",
            "id": 23202109,
            "node_id": "MDQ6VXNlcjIzMjAyMTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/23202109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wangyexiang",
            "html_url": "https://github.com/wangyexiang",
            "followers_url": "https://api.github.com/users/wangyexiang/followers",
            "following_url": "https://api.github.com/users/wangyexiang/following{/other_user}",
            "gists_url": "https://api.github.com/users/wangyexiang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wangyexiang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wangyexiang/subscriptions",
            "organizations_url": "https://api.github.com/users/wangyexiang/orgs",
            "repos_url": "https://api.github.com/users/wangyexiang/repos",
            "events_url": "https://api.github.com/users/wangyexiang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wangyexiang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-07-25T03:28:10Z",
          "updated_at": "2019-07-25T03:28:10Z",
          "author_association": "NONE",
          "body": "@hotplot I mean :\r\n\r\n```\r\nimport numpy as np\r\nimport keras\r\nimport keras.backend as K\r\n\r\nX = np.random.rand(1, 224, 224, 3)\r\n\r\nwhile True:\r\n    model = keras.applications.mobilenet_v2.MobileNetV2()\r\n    y = model.predict(X)[0]\r\n    K.clear_session()\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/514880825/reactions",
            "total_count": 6,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 4
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/514908609",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-514908609",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 514908609,
          "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDkwODYwOQ==",
          "user": {
            "login": "hotplot",
            "id": 6686759,
            "node_id": "MDQ6VXNlcjY2ODY3NTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6686759?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hotplot",
            "html_url": "https://github.com/hotplot",
            "followers_url": "https://api.github.com/users/hotplot/followers",
            "following_url": "https://api.github.com/users/hotplot/following{/other_user}",
            "gists_url": "https://api.github.com/users/hotplot/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hotplot/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hotplot/subscriptions",
            "organizations_url": "https://api.github.com/users/hotplot/orgs",
            "repos_url": "https://api.github.com/users/hotplot/repos",
            "events_url": "https://api.github.com/users/hotplot/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hotplot/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-07-25T05:59:56Z",
          "updated_at": "2019-07-25T05:59:56Z",
          "author_association": "NONE",
          "body": "@wangyexiang It looks like that leaks too, but it's hard to tell since loading the model is so slow. It has climbed from ~300 MB to ~700 MB since I started running it a couple of hours ago. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/514908609/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/514963089",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-514963089",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 514963089,
          "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDk2MzA4OQ==",
          "user": {
            "login": "wangyexiang",
            "id": 23202109,
            "node_id": "MDQ6VXNlcjIzMjAyMTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/23202109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wangyexiang",
            "html_url": "https://github.com/wangyexiang",
            "followers_url": "https://api.github.com/users/wangyexiang/followers",
            "following_url": "https://api.github.com/users/wangyexiang/following{/other_user}",
            "gists_url": "https://api.github.com/users/wangyexiang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wangyexiang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wangyexiang/subscriptions",
            "organizations_url": "https://api.github.com/users/wangyexiang/orgs",
            "repos_url": "https://api.github.com/users/wangyexiang/repos",
            "events_url": "https://api.github.com/users/wangyexiang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wangyexiang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-07-25T09:06:06Z",
          "updated_at": "2019-07-25T09:06:06Z",
          "author_association": "NONE",
          "body": "That\u2019s strange.  Try using other tensorflow version. And using gc.collect() after clear_session(). @hotplot ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/514963089/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/528455591",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-528455591",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 528455591,
          "node_id": "MDEyOklzc3VlQ29tbWVudDUyODQ1NTU5MQ==",
          "user": {
            "login": "kparaju",
            "id": 334184,
            "node_id": "MDQ6VXNlcjMzNDE4NA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/334184?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kparaju",
            "html_url": "https://github.com/kparaju",
            "followers_url": "https://api.github.com/users/kparaju/followers",
            "following_url": "https://api.github.com/users/kparaju/following{/other_user}",
            "gists_url": "https://api.github.com/users/kparaju/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kparaju/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kparaju/subscriptions",
            "organizations_url": "https://api.github.com/users/kparaju/orgs",
            "repos_url": "https://api.github.com/users/kparaju/repos",
            "events_url": "https://api.github.com/users/kparaju/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kparaju/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-09-05T16:43:38Z",
          "updated_at": "2019-09-05T16:43:38Z",
          "author_association": "NONE",
          "body": "What's the workaround if you do training before the predict? The `clear_session` will remove the trained model.\r\n\r\nThis also seems to happen if you pass a huge dataset into .predict() without putting it in a loop. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/528455591/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/530558334",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-530558334",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 530558334,
          "node_id": "MDEyOklzc3VlQ29tbWVudDUzMDU1ODMzNA==",
          "user": {
            "login": "brandonbell11",
            "id": 51493518,
            "node_id": "MDQ6VXNlcjUxNDkzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/51493518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brandonbell11",
            "html_url": "https://github.com/brandonbell11",
            "followers_url": "https://api.github.com/users/brandonbell11/followers",
            "following_url": "https://api.github.com/users/brandonbell11/following{/other_user}",
            "gists_url": "https://api.github.com/users/brandonbell11/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brandonbell11/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brandonbell11/subscriptions",
            "organizations_url": "https://api.github.com/users/brandonbell11/orgs",
            "repos_url": "https://api.github.com/users/brandonbell11/repos",
            "events_url": "https://api.github.com/users/brandonbell11/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brandonbell11/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-09-11T20:45:27Z",
          "updated_at": "2019-09-11T20:45:27Z",
          "author_association": "NONE",
          "body": "Same issue. My memory usage balloons while calling model.predict() in a loop. Even with tf.keras.backend.clear_session() and gc.collect() at the end of the loop.\r\n\r\nI really would like a fix to this. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/530558334/reactions",
            "total_count": 45,
            "+1": 43,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 2,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/538731014",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-538731014",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 538731014,
          "node_id": "MDEyOklzc3VlQ29tbWVudDUzODczMTAxNA==",
          "user": {
            "login": "StanislavNikolov",
            "id": 10270328,
            "node_id": "MDQ6VXNlcjEwMjcwMzI4",
            "avatar_url": "https://avatars.githubusercontent.com/u/10270328?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/StanislavNikolov",
            "html_url": "https://github.com/StanislavNikolov",
            "followers_url": "https://api.github.com/users/StanislavNikolov/followers",
            "following_url": "https://api.github.com/users/StanislavNikolov/following{/other_user}",
            "gists_url": "https://api.github.com/users/StanislavNikolov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/StanislavNikolov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/StanislavNikolov/subscriptions",
            "organizations_url": "https://api.github.com/users/StanislavNikolov/orgs",
            "repos_url": "https://api.github.com/users/StanislavNikolov/repos",
            "events_url": "https://api.github.com/users/StanislavNikolov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/StanislavNikolov/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-06T10:14:01Z",
          "updated_at": "2019-10-06T10:14:01Z",
          "author_association": "NONE",
          "body": "I confirm the issue is present in:\r\nOS: Fedora 30, kernel 5.2.15\r\nPython: 3.7.4, tensorflow: 2.0.0",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/538731014/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/539026391",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-539026391",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 539026391,
          "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTAyNjM5MQ==",
          "user": {
            "login": "prabodh23",
            "id": 40763555,
            "node_id": "MDQ6VXNlcjQwNzYzNTU1",
            "avatar_url": "https://avatars.githubusercontent.com/u/40763555?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/prabodh23",
            "html_url": "https://github.com/prabodh23",
            "followers_url": "https://api.github.com/users/prabodh23/followers",
            "following_url": "https://api.github.com/users/prabodh23/following{/other_user}",
            "gists_url": "https://api.github.com/users/prabodh23/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/prabodh23/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/prabodh23/subscriptions",
            "organizations_url": "https://api.github.com/users/prabodh23/orgs",
            "repos_url": "https://api.github.com/users/prabodh23/repos",
            "events_url": "https://api.github.com/users/prabodh23/events{/privacy}",
            "received_events_url": "https://api.github.com/users/prabodh23/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-07T14:01:50Z",
          "updated_at": "2019-10-07T14:01:50Z",
          "author_association": "NONE",
          "body": "Same memory leakage issue when using models on GPU system and librabries are : tensorflow-gpu==1.14.0, cuda-10 \r\nI have fix the leakage issue, when loading the models (e.g. 'model.load_weights(weights_path, by_name=True)')  by Just putting this block of code in the beginning works for me:\r\n\r\nfrom keras import backend as K\r\ncfg = K.tf.ConfigProto()\r\ncfg.gpu_options.allow_growth = True\r\nK.set_session(K.tf.Session(config=cfg))\r\n\r\nBut not able to release memory after 'vgg_model.predict(image_in_list)[0, :]'",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/539026391/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/539186223",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-539186223",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 539186223,
          "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTE4NjIyMw==",
          "user": {
            "login": "novog",
            "id": 16354547,
            "node_id": "MDQ6VXNlcjE2MzU0NTQ3",
            "avatar_url": "https://avatars.githubusercontent.com/u/16354547?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/novog",
            "html_url": "https://github.com/novog",
            "followers_url": "https://api.github.com/users/novog/followers",
            "following_url": "https://api.github.com/users/novog/following{/other_user}",
            "gists_url": "https://api.github.com/users/novog/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/novog/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/novog/subscriptions",
            "organizations_url": "https://api.github.com/users/novog/orgs",
            "repos_url": "https://api.github.com/users/novog/repos",
            "events_url": "https://api.github.com/users/novog/events{/privacy}",
            "received_events_url": "https://api.github.com/users/novog/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-07T20:18:35Z",
          "updated_at": "2019-10-07T20:18:35Z",
          "author_association": "NONE",
          "body": "I am using TF 2.0.0, and I also need to call `clear_session` and re-load the trained model periodically when in a `predict` loop in order to avoid running out of gpu memory. This behavior is undesirable.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/539186223/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/539497763",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-539497763",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 539497763,
          "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTQ5Nzc2Mw==",
          "user": {
            "login": "prabodh23",
            "id": 40763555,
            "node_id": "MDQ6VXNlcjQwNzYzNTU1",
            "avatar_url": "https://avatars.githubusercontent.com/u/40763555?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/prabodh23",
            "html_url": "https://github.com/prabodh23",
            "followers_url": "https://api.github.com/users/prabodh23/followers",
            "following_url": "https://api.github.com/users/prabodh23/following{/other_user}",
            "gists_url": "https://api.github.com/users/prabodh23/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/prabodh23/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/prabodh23/subscriptions",
            "organizations_url": "https://api.github.com/users/prabodh23/orgs",
            "repos_url": "https://api.github.com/users/prabodh23/repos",
            "events_url": "https://api.github.com/users/prabodh23/events{/privacy}",
            "received_events_url": "https://api.github.com/users/prabodh23/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-08T12:51:25Z",
          "updated_at": "2019-10-08T12:51:25Z",
          "author_association": "NONE",
          "body": "@novog  I think u dont need to call 'clear_session' in predict loop.. Once u done with that model u can call 'clear_session' and still it not releasing GPU memory, u can use this: \r\nfrom numba import cuda\r\ncuda.select_device(0)\r\ncuda.close()\r\n\r\nU can install numba by 'pip install numba'\r\nits work for tensorflow-gpu-1.14 with cuda-10\r\n\r\nThanks",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/539497763/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/539532207",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-539532207",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 539532207,
          "node_id": "MDEyOklzc3VlQ29tbWVudDUzOTUzMjIwNw==",
          "user": {
            "login": "novog",
            "id": 16354547,
            "node_id": "MDQ6VXNlcjE2MzU0NTQ3",
            "avatar_url": "https://avatars.githubusercontent.com/u/16354547?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/novog",
            "html_url": "https://github.com/novog",
            "followers_url": "https://api.github.com/users/novog/followers",
            "following_url": "https://api.github.com/users/novog/following{/other_user}",
            "gists_url": "https://api.github.com/users/novog/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/novog/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/novog/subscriptions",
            "organizations_url": "https://api.github.com/users/novog/orgs",
            "repos_url": "https://api.github.com/users/novog/repos",
            "events_url": "https://api.github.com/users/novog/events{/privacy}",
            "received_events_url": "https://api.github.com/users/novog/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-08T14:10:40Z",
          "updated_at": "2019-10-08T14:10:40Z",
          "author_association": "NONE",
          "body": "@prabodh23 To clarify why I need to call `clear_session`, I am using a previously trained model to do predictions on a very large number of records. I call `predict` on one batch at a time in a loop. If I do not call `clear_session` at least every x number of iterations in that loop, tensorflow runs out of GPU memory. Using `clear_session` does avoid the issue, but doesn't seem like it should be necessary.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/539532207/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541623611",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-541623611",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 541623611,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTYyMzYxMQ==",
          "user": {
            "login": "datasigntist",
            "id": 12547291,
            "node_id": "MDQ6VXNlcjEyNTQ3Mjkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12547291?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/datasigntist",
            "html_url": "https://github.com/datasigntist",
            "followers_url": "https://api.github.com/users/datasigntist/followers",
            "following_url": "https://api.github.com/users/datasigntist/following{/other_user}",
            "gists_url": "https://api.github.com/users/datasigntist/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/datasigntist/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/datasigntist/subscriptions",
            "organizations_url": "https://api.github.com/users/datasigntist/orgs",
            "repos_url": "https://api.github.com/users/datasigntist/repos",
            "events_url": "https://api.github.com/users/datasigntist/events{/privacy}",
            "received_events_url": "https://api.github.com/users/datasigntist/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-14T11:28:46Z",
          "updated_at": "2019-10-14T11:28:46Z",
          "author_association": "NONE",
          "body": "I have been running into the same issue. I have a sliding window prediction, for every predict memory consumption shoots ups and I have been googling to find a resolution. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541623611/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541688220",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-541688220",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 541688220,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU0MTY4ODIyMA==",
          "user": {
            "login": "novog",
            "id": 16354547,
            "node_id": "MDQ6VXNlcjE2MzU0NTQ3",
            "avatar_url": "https://avatars.githubusercontent.com/u/16354547?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/novog",
            "html_url": "https://github.com/novog",
            "followers_url": "https://api.github.com/users/novog/followers",
            "following_url": "https://api.github.com/users/novog/following{/other_user}",
            "gists_url": "https://api.github.com/users/novog/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/novog/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/novog/subscriptions",
            "organizations_url": "https://api.github.com/users/novog/orgs",
            "repos_url": "https://api.github.com/users/novog/repos",
            "events_url": "https://api.github.com/users/novog/events{/privacy}",
            "received_events_url": "https://api.github.com/users/novog/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-10-14T13:47:58Z",
          "updated_at": "2019-10-14T13:47:58Z",
          "author_association": "NONE",
          "body": "In a related TensorFlow issue ([https://github.com/tensorflow/tensorflow/issues/33009](https://github.com/tensorflow/tensorflow/issues/33009)), someone noted that `predict_on_batch` doesn't display the same issue. That workaround was effective for me, but not for another person in that thread.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/541688220/reactions",
            "total_count": 7,
            "+1": 7,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/551299629",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-551299629",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 551299629,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU1MTI5OTYyOQ==",
          "user": {
            "login": "xiahualiu",
            "id": 49677912,
            "node_id": "MDQ6VXNlcjQ5Njc3OTEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/49677912?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xiahualiu",
            "html_url": "https://github.com/xiahualiu",
            "followers_url": "https://api.github.com/users/xiahualiu/followers",
            "following_url": "https://api.github.com/users/xiahualiu/following{/other_user}",
            "gists_url": "https://api.github.com/users/xiahualiu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xiahualiu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xiahualiu/subscriptions",
            "organizations_url": "https://api.github.com/users/xiahualiu/orgs",
            "repos_url": "https://api.github.com/users/xiahualiu/repos",
            "events_url": "https://api.github.com/users/xiahualiu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xiahualiu/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-11-07T22:40:41Z",
          "updated_at": "2019-11-07T22:40:41Z",
          "author_association": "NONE",
          "body": "One way to avoid this. Try\r\n```\r\nmodel(feature_list)\r\n```\r\ninstead of using `model.predict(feature_list)`.\r\n\r\nAnd do not be happy so quickly, there is also a slow leakage in `model.fit()` function. \r\nGeez, did keras team really do any test before releasing it?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/551299629/reactions",
            "total_count": 45,
            "+1": 25,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 9,
            "heart": 1,
            "rocket": 0,
            "eyes": 10
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/552381813",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-552381813",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 552381813,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU1MjM4MTgxMw==",
          "user": {
            "login": "marnixkoops",
            "id": 29173641,
            "node_id": "MDQ6VXNlcjI5MTczNjQx",
            "avatar_url": "https://avatars.githubusercontent.com/u/29173641?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/marnixkoops",
            "html_url": "https://github.com/marnixkoops",
            "followers_url": "https://api.github.com/users/marnixkoops/followers",
            "following_url": "https://api.github.com/users/marnixkoops/following{/other_user}",
            "gists_url": "https://api.github.com/users/marnixkoops/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/marnixkoops/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/marnixkoops/subscriptions",
            "organizations_url": "https://api.github.com/users/marnixkoops/orgs",
            "repos_url": "https://api.github.com/users/marnixkoops/repos",
            "events_url": "https://api.github.com/users/marnixkoops/events{/privacy}",
            "received_events_url": "https://api.github.com/users/marnixkoops/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-11-11T10:19:55Z",
          "updated_at": "2019-11-11T10:24:57Z",
          "author_association": "NONE",
          "body": "I have implemented a workaround based on `predict_on_batch` (thanks @novog for pointing this out).\r\nNote that `predict_on_batch` expects equally sized batches as used for training the model. Here's an example of how to loop through your batches of test data to create predictions:\r\n\r\n```\r\n# custom batched prediction loop to avoid memory leak issues for now in the model.predict call\r\ny_pred_probs = np.empty([len(X_test), VOCAB_SIZE], dtype=np.float32)  # pre-allocate required memory for array for efficiency\r\n\r\nBATCH_INDICES = np.arange(start=0, stop=len(X_test), step=BATCH_SIZE)  # row indices of batches\r\nBATCH_INDICES = np.append(BATCH_INDICES, len(X_test))  # add final batch_end row\r\n\r\nfor index in np.arange(len(BATCH_INDICES) - 1):\r\n    batch_start = BATCH_INDICES[index]  # first row of the batch\r\n    batch_end = BATCH_INDICES[index + 1]  # last row of the batch\r\n    y_pred_probs[batch_start:batch_end] = model.predict_on_batch(X_test[batch_start:batch_end])\r\n```\r\n\r\n(Note that if only pre-allocating the results array already results in a MemoryError then simply the array does not fit in your available memory regardless of the memory leak issue.)",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/552381813/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/557496108",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-557496108",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 557496108,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU1NzQ5NjEwOA==",
          "user": {
            "login": "Huii",
            "id": 1932726,
            "node_id": "MDQ6VXNlcjE5MzI3MjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1932726?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Huii",
            "html_url": "https://github.com/Huii",
            "followers_url": "https://api.github.com/users/Huii/followers",
            "following_url": "https://api.github.com/users/Huii/following{/other_user}",
            "gists_url": "https://api.github.com/users/Huii/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Huii/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Huii/subscriptions",
            "organizations_url": "https://api.github.com/users/Huii/orgs",
            "repos_url": "https://api.github.com/users/Huii/repos",
            "events_url": "https://api.github.com/users/Huii/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Huii/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-11-22T11:24:29Z",
          "updated_at": "2019-11-22T11:24:29Z",
          "author_association": "NONE",
          "body": "I'm facing the same issue on Windows 10 and even though \"K. clear_session()\" does solve, or at least alleviate, the issue it would be very nice to have a real fix instead of having to rely on workarounds.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/557496108/reactions",
            "total_count": 6,
            "+1": 6,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/561625192",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-561625192",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 561625192,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTYyNTE5Mg==",
          "user": {
            "login": "Huii",
            "id": 1932726,
            "node_id": "MDQ6VXNlcjE5MzI3MjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1932726?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Huii",
            "html_url": "https://github.com/Huii",
            "followers_url": "https://api.github.com/users/Huii/followers",
            "following_url": "https://api.github.com/users/Huii/following{/other_user}",
            "gists_url": "https://api.github.com/users/Huii/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Huii/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Huii/subscriptions",
            "organizations_url": "https://api.github.com/users/Huii/orgs",
            "repos_url": "https://api.github.com/users/Huii/repos",
            "events_url": "https://api.github.com/users/Huii/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Huii/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-12-04T12:36:31Z",
          "updated_at": "2019-12-04T12:36:31Z",
          "author_association": "NONE",
          "body": "Apparently, a similar issue has been solved in TensorFlow 2.1.0 (dev) according to this issue: https://github.com/tensorflow/tensorflow/issues/34579\r\n\r\nI will wait for the final version of TensorFlow 2.1.0 and see whether the bug still persists in Keras.\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/561625192/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/572193744",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-572193744",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 572193744,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU3MjE5Mzc0NA==",
          "user": {
            "login": "felixvelariusbos",
            "id": 8462760,
            "node_id": "MDQ6VXNlcjg0NjI3NjA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8462760?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/felixvelariusbos",
            "html_url": "https://github.com/felixvelariusbos",
            "followers_url": "https://api.github.com/users/felixvelariusbos/followers",
            "following_url": "https://api.github.com/users/felixvelariusbos/following{/other_user}",
            "gists_url": "https://api.github.com/users/felixvelariusbos/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/felixvelariusbos/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/felixvelariusbos/subscriptions",
            "organizations_url": "https://api.github.com/users/felixvelariusbos/orgs",
            "repos_url": "https://api.github.com/users/felixvelariusbos/repos",
            "events_url": "https://api.github.com/users/felixvelariusbos/events{/privacy}",
            "received_events_url": "https://api.github.com/users/felixvelariusbos/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2020-01-08T18:21:10Z",
          "updated_at": "2020-01-08T18:22:39Z",
          "author_association": "NONE",
          "body": "Just wanted to add my 2 cents in here to say that I am also seeing these issues with `model.fit()`\r\nI have a hyper parameter tuning loop where I train multiple models with slightly different configurations, and every model seems to leave behind about ~100-200MB of memory after every iteration. I tried `K.clear_session()` and that definitely helped (it used to be significantly more memory left behind), but there's still something that I'm missing.\r\n\r\nFor prosperity, I'm using `tensorflow 2.0`, specifically `tf.keras`, and `numpy 1.17.4`. This is on RHEL, using CPU only. My loop is basically:\r\n```python\r\nfor combo in combinations:\r\n    # build network, which is several Bidirectional(GRU()) + Dense() layers\r\n    model.fit(x_train, y_train, shuffle = True, epochs = 50, batch_size = 128, verbose = 1)\r\n    # I commented out the predict/evaluation just to make sure\r\n    K.clear_session()\r\n```\r\nAnd as a complete other side note, I've been using mprof to track memory usage. It's been a godsend in tracking these memory leaks.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/572193744/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/572832813",
          "html_url": "https://github.com/keras-team/keras/issues/13118#issuecomment-572832813",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/13118",
          "id": 572832813,
          "node_id": "MDEyOklzc3VlQ29tbWVudDU3MjgzMjgxMw==",
          "user": {
            "login": "cclaan",
            "id": 346001,
            "node_id": "MDQ6VXNlcjM0NjAwMQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/346001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cclaan",
            "html_url": "https://github.com/cclaan",
            "followers_url": "https://api.github.com/users/cclaan/followers",
            "following_url": "https://api.github.com/users/cclaan/following{/other_user}",
            "gists_url": "https://api.github.com/users/cclaan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cclaan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cclaan/subscriptions",
            "organizations_url": "https://api.github.com/users/cclaan/orgs",
            "repos_url": "https://api.github.com/users/cclaan/repos",
            "events_url": "https://api.github.com/users/cclaan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cclaan/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2020-01-10T01:29:54Z",
          "updated_at": "2020-01-10T01:29:54Z",
          "author_association": "NONE",
          "body": "This was also happening to me using model.predict() in a loop. I'm on a mac running tf 2.0.0.  \r\nI was able to fix it by re-saving my model without the optimizer:  \r\n`model.save(\"my_model.h5\", include_optimizer=False)` \r\nThen restart and use that saved model for predictions. ( Assuming you are only doing predictions )",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/572832813/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/20743",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/20743/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/20743/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/20743/events",
      "html_url": "https://github.com/keras-team/keras/pull/20743",
      "id": 2776639968,
      "node_id": "PR_kwDOAffHH86HJKo1",
      "number": 20743,
      "title": "Add Rematerialization to Keras",
      "user": {
        "login": "divyashreepathihalli",
        "id": 78194266,
        "node_id": "MDQ6VXNlcjc4MTk0MjY2",
        "avatar_url": "https://avatars.githubusercontent.com/u/78194266?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/divyashreepathihalli",
        "html_url": "https://github.com/divyashreepathihalli",
        "followers_url": "https://api.github.com/users/divyashreepathihalli/followers",
        "following_url": "https://api.github.com/users/divyashreepathihalli/following{/other_user}",
        "gists_url": "https://api.github.com/users/divyashreepathihalli/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/divyashreepathihalli/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/divyashreepathihalli/subscriptions",
        "organizations_url": "https://api.github.com/users/divyashreepathihalli/orgs",
        "repos_url": "https://api.github.com/users/divyashreepathihalli/repos",
        "events_url": "https://api.github.com/users/divyashreepathihalli/events{/privacy}",
        "received_events_url": "https://api.github.com/users/divyashreepathihalli/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 3275249389,
          "node_id": "MDU6TGFiZWwzMjc1MjQ5Mzg5",
          "url": "https://api.github.com/repos/keras-team/keras/labels/size:M",
          "name": "size:M",
          "color": "ededed",
          "default": false,
          "description": null
        },
        {
          "id": 6648267687,
          "node_id": "LA_kwDOAffHH88AAAABjESDpw",
          "url": "https://api.github.com/repos/keras-team/keras/labels/Gemma",
          "name": "Gemma",
          "color": "006B75",
          "default": false,
          "description": "Gemma model specific issues"
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": {
        "login": "gbaned",
        "id": 48215717,
        "node_id": "MDQ6VXNlcjQ4MjE1NzE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/48215717?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gbaned",
        "html_url": "https://github.com/gbaned",
        "followers_url": "https://api.github.com/users/gbaned/followers",
        "following_url": "https://api.github.com/users/gbaned/following{/other_user}",
        "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions",
        "organizations_url": "https://api.github.com/users/gbaned/orgs",
        "repos_url": "https://api.github.com/users/gbaned/repos",
        "events_url": "https://api.github.com/users/gbaned/events{/privacy}",
        "received_events_url": "https://api.github.com/users/gbaned/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "assignees": [
        {
          "login": "gbaned",
          "id": 48215717,
          "node_id": "MDQ6VXNlcjQ4MjE1NzE3",
          "avatar_url": "https://avatars.githubusercontent.com/u/48215717?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/gbaned",
          "html_url": "https://github.com/gbaned",
          "followers_url": "https://api.github.com/users/gbaned/followers",
          "following_url": "https://api.github.com/users/gbaned/following{/other_user}",
          "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions",
          "organizations_url": "https://api.github.com/users/gbaned/orgs",
          "repos_url": "https://api.github.com/users/gbaned/repos",
          "events_url": "https://api.github.com/users/gbaned/events{/privacy}",
          "received_events_url": "https://api.github.com/users/gbaned/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        }
      ],
      "milestone": null,
      "comments": 3,
      "created_at": "2025-01-09T00:59:54Z",
      "updated_at": "2025-03-21T18:10:45Z",
      "closed_at": "2025-02-05T17:59:41Z",
      "author_association": "COLLABORATOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/20743",
        "html_url": "https://github.com/keras-team/keras/pull/20743",
        "diff_url": "https://github.com/keras-team/keras/pull/20743.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/20743.patch",
        "merged_at": "2025-02-05T17:59:41Z"
      },
      "body": "\r\ncode used \r\n```\r\nimport keras_hub\r\nimport numpy as np\r\nfrom memory_profiler import profile\r\n\r\nfrom keras.src.backend.common import global_state\r\nfrom keras.src.backend.common.remat_scope import RematScope\r\nfrom keras.src.layers import Dense\r\nfrom keras.src.losses import SparseCategoricalCrossentropy\r\nfrom keras.src.metrics import SparseCategoricalAccuracy\r\nfrom keras.src.models import Sequential\r\nfrom keras.src.optimizers import AdamW\r\n\r\n# run using\r\n# python -m memory_profiler test.py\r\n\r\nglobal_state.clear_session()\r\n\r\n# Test Gemma model\r\n\r\n# Dummy dataset\r\nquestion = \"What are the treatments for Glaucoma ?\"\r\nanswer = \" something medical bla bla bla\"\r\n\r\nformatted_string = f\"Question:\\n{question}\\n\\nAnswer:\\n{answer}\"\r\ndata = [formatted_string] * 1000\r\n\r\n\r\n@profile\r\ndef train_gemma():\r\n    print(\"load model\")\r\n    tokenizer = keras_hub.models.GemmaTokenizer(\r\n        proto=\"keras/src/backend/common/vocabulary.spm\",\r\n    )\r\n    preprocessor = keras_hub.models.GemmaCausalLMPreprocessor(\r\n        tokenizer=tokenizer,\r\n        sequence_length=128,\r\n    )\r\n    backbone = keras_hub.models.GemmaBackbone(\r\n        vocabulary_size=256000,\r\n        num_layers=18,\r\n        num_query_heads=8,\r\n        num_key_value_heads=1,\r\n        hidden_dim=2048,\r\n        intermediate_dim=32768,\r\n        head_dim=256,\r\n    )\r\n    print(\"enable lora\")\r\n    gemma_lm = keras_hub.models.GemmaCausalLM(\r\n        backbone=backbone,\r\n        preprocessor=preprocessor,\r\n    )\r\n    # Enable LoRA for the model and set the LoRA rank to 4.\r\n    gemma_lm.backbone.enable_lora(rank=4)\r\n    # Limit the input sequence length to 128 (to control memory usage).\r\n    gemma_lm.preprocessor.sequence_length = 128\r\n    # Use AdamW (a common optimizer for transformer models).\r\n    optimizer = AdamW(\r\n        learning_rate=5e-5,\r\n        weight_decay=0.01,\r\n    )\r\n    # Exclude layernorm and bias terms from decay.\r\n    optimizer.exclude_from_weight_decay(var_names=[\"bias\", \"scale\"])\r\n    print(\"Compile\")\r\n    gemma_lm.compile(\r\n        loss=SparseCategoricalCrossentropy(from_logits=True),\r\n        optimizer=optimizer,\r\n        weighted_metrics=[SparseCategoricalAccuracy()],\r\n    )\r\n    print(\"fit\")\r\n    gemma_lm.fit(data, epochs=1, batch_size=1)\r\n\r\nprint(\"mode = None\")\r\nwith RematScope(mode=None):\r\n    train_gemma()\r\nprint(\"mode = Full\")\r\nwith RematScope(mode=\"full\"):\r\n    train_gemma()\r\nprint(\"mode = activations\")\r\nwith RematScope(mode=None):\r\n    train_gemma()\r\nprint(\"mode = larger than\")\r\nwith RematScope(mode=\"larger_than\", output_size_threshold=2048):\r\n    train_gemma()\r\n    ```\r\n",
      "closed_by": {
        "login": "hertschuh",
        "id": 1091026,
        "node_id": "MDQ6VXNlcjEwOTEwMjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1091026?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hertschuh",
        "html_url": "https://github.com/hertschuh",
        "followers_url": "https://api.github.com/users/hertschuh/followers",
        "following_url": "https://api.github.com/users/hertschuh/following{/other_user}",
        "gists_url": "https://api.github.com/users/hertschuh/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hertschuh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hertschuh/subscriptions",
        "organizations_url": "https://api.github.com/users/hertschuh/orgs",
        "repos_url": "https://api.github.com/users/hertschuh/repos",
        "events_url": "https://api.github.com/users/hertschuh/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hertschuh/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/20743/reactions",
        "total_count": 2,
        "+1": 2,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/20743/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2578990241",
          "html_url": "https://github.com/keras-team/keras/pull/20743#issuecomment-2578990241",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/20743",
          "id": 2578990241,
          "node_id": "IC_kwDOAffHH86ZuESh",
          "user": {
            "login": "codecov-commenter",
            "id": 65553080,
            "node_id": "MDQ6VXNlcjY1NTUzMDgw",
            "avatar_url": "https://avatars.githubusercontent.com/u/65553080?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/codecov-commenter",
            "html_url": "https://github.com/codecov-commenter",
            "followers_url": "https://api.github.com/users/codecov-commenter/followers",
            "following_url": "https://api.github.com/users/codecov-commenter/following{/other_user}",
            "gists_url": "https://api.github.com/users/codecov-commenter/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/codecov-commenter/subscriptions",
            "organizations_url": "https://api.github.com/users/codecov-commenter/orgs",
            "repos_url": "https://api.github.com/users/codecov-commenter/repos",
            "events_url": "https://api.github.com/users/codecov-commenter/events{/privacy}",
            "received_events_url": "https://api.github.com/users/codecov-commenter/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-01-09T01:05:17Z",
          "updated_at": "2025-02-05T07:44:40Z",
          "author_association": "NONE",
          "body": "## [Codecov](https://app.codecov.io/gh/keras-team/keras/pull/20743?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) Report\nAttention: Patch coverage is `76.76768%` with `23 lines` in your changes missing coverage. Please review.\n> Project coverage is 82.22%. Comparing base [(`c5c2768`)](https://app.codecov.io/gh/keras-team/keras/commit/c5c2768ddb19947cf92591b2fd87298f3fe1d6b4?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) to head [(`c74884f`)](https://app.codecov.io/gh/keras-team/keras/commit/c74884face40f713f40bcf56d957432ae394c92b?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team).\n> Report is 1 commits behind head on master.\n\n| [Files with missing lines](https://app.codecov.io/gh/keras-team/keras/pull/20743?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | Patch % | Lines |\n|---|---|---|\n| [keras/src/layers/layer.py](https://app.codecov.io/gh/keras-team/keras/pull/20743?src=pr&el=tree&filepath=keras%2Fsrc%2Flayers%2Flayer.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL2xheWVycy9sYXllci5weQ==) | 57.57% | [10 Missing and 4 partials :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/20743?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/src/ops/operation.py](https://app.codecov.io/gh/keras-team/keras/pull/20743?src=pr&el=tree&filepath=keras%2Fsrc%2Fops%2Foperation.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL29wcy9vcGVyYXRpb24ucHk=) | 57.14% | [4 Missing and 2 partials :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/20743?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/src/backend/openvino/core.py](https://app.codecov.io/gh/keras-team/keras/pull/20743?src=pr&el=tree&filepath=keras%2Fsrc%2Fbackend%2Fopenvino%2Fcore.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL2JhY2tlbmQvb3BlbnZpbm8vY29yZS5weQ==) | 33.33% | [2 Missing :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/20743?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n| [keras/src/backend/common/remat.py](https://app.codecov.io/gh/keras-team/keras/pull/20743?src=pr&el=tree&filepath=keras%2Fsrc%2Fbackend%2Fcommon%2Fremat.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#diff-a2VyYXMvc3JjL2JhY2tlbmQvY29tbW9uL3JlbWF0LnB5) | 96.87% | [0 Missing and 1 partial :warning: ](https://app.codecov.io/gh/keras-team/keras/pull/20743?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n```diff\n@@            Coverage Diff             @@\n##           master   #20743      +/-   ##\n==========================================\n- Coverage   82.23%   82.22%   -0.01%     \n==========================================\n  Files         559      560       +1     \n  Lines       52387    52480      +93     \n  Branches     8102     8118      +16     \n==========================================\n+ Hits        43078    43152      +74     \n- Misses       7318     7332      +14     \n- Partials     1991     1996       +5     \n```\n\n| [Flag](https://app.codecov.io/gh/keras-team/keras/pull/20743/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | Coverage \u0394 | |\n|---|---|---|\n| [keras](https://app.codecov.io/gh/keras-team/keras/pull/20743/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | `82.04% <76.76%> (-0.01%)` | :arrow_down: |\n| [keras-jax](https://app.codecov.io/gh/keras-team/keras/pull/20743/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | `64.18% <67.67%> (+0.01%)` | :arrow_up: |\n| [keras-numpy](https://app.codecov.io/gh/keras-team/keras/pull/20743/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | `59.01% <68.68%> (+0.03%)` | :arrow_up: |\n| [keras-openvino](https://app.codecov.io/gh/keras-team/keras/pull/20743/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | `32.57% <45.45%> (+0.02%)` | :arrow_up: |\n| [keras-tensorflow](https://app.codecov.io/gh/keras-team/keras/pull/20743/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | `64.82% <67.67%> (+0.01%)` | :arrow_up: |\n| [keras-torch](https://app.codecov.io/gh/keras-team/keras/pull/20743/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team) | `64.23% <68.68%> (+0.08%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>\n\n[:umbrella: View full report in Codecov by Sentry](https://app.codecov.io/gh/keras-team/keras/pull/20743?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team).   \n:loudspeaker: Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=keras-team).\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2578990241/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2583617094",
          "html_url": "https://github.com/keras-team/keras/pull/20743#issuecomment-2583617094",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/20743",
          "id": 2583617094,
          "node_id": "IC_kwDOAffHH86Z_t5G",
          "user": {
            "login": "innat",
            "id": 17668390,
            "node_id": "MDQ6VXNlcjE3NjY4Mzkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/17668390?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/innat",
            "html_url": "https://github.com/innat",
            "followers_url": "https://api.github.com/users/innat/followers",
            "following_url": "https://api.github.com/users/innat/following{/other_user}",
            "gists_url": "https://api.github.com/users/innat/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/innat/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/innat/subscriptions",
            "organizations_url": "https://api.github.com/users/innat/orgs",
            "repos_url": "https://api.github.com/users/innat/repos",
            "events_url": "https://api.github.com/users/innat/events{/privacy}",
            "received_events_url": "https://api.github.com/users/innat/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-01-10T19:00:40Z",
          "updated_at": "2025-01-10T19:00:40Z",
          "author_association": "NONE",
          "body": "@divyashreepathihalli \r\nThanks for the initial pull request for this. I noticed you're using the tf.recompute_grad API and attempt to provide high-level API for ease of use, which is great. A while back, I came across cases where people used various hacks with tf.recompute_grad for advanced modeling, like in EfficientDet; please check [this comment](https://github.com/keras-team/tf-keras/issues/98#issuecomment-1731417191). \r\n\r\nTo ensure broader usability, it might be worth considering such scenarios when designing the high-level API, so others don't have to rely on hacks, or at least minimize the need to do so.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2583617094/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2626242214",
          "html_url": "https://github.com/keras-team/keras/pull/20743#issuecomment-2626242214",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/20743",
          "id": 2626242214,
          "node_id": "IC_kwDOAffHH86ciUam",
          "user": {
            "login": "divyashreepathihalli",
            "id": 78194266,
            "node_id": "MDQ6VXNlcjc4MTk0MjY2",
            "avatar_url": "https://avatars.githubusercontent.com/u/78194266?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/divyashreepathihalli",
            "html_url": "https://github.com/divyashreepathihalli",
            "followers_url": "https://api.github.com/users/divyashreepathihalli/followers",
            "following_url": "https://api.github.com/users/divyashreepathihalli/following{/other_user}",
            "gists_url": "https://api.github.com/users/divyashreepathihalli/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/divyashreepathihalli/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/divyashreepathihalli/subscriptions",
            "organizations_url": "https://api.github.com/users/divyashreepathihalli/orgs",
            "repos_url": "https://api.github.com/users/divyashreepathihalli/repos",
            "events_url": "https://api.github.com/users/divyashreepathihalli/events{/privacy}",
            "received_events_url": "https://api.github.com/users/divyashreepathihalli/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-01-31T03:53:27Z",
          "updated_at": "2025-01-31T06:04:34Z",
          "author_association": "COLLABORATOR",
          "body": "The torch error is unrelated to this PR. There seems to have been a fix - https://github.com/keras-team/keras/commit/af0c2d26768a80762d25973605eb4bd1df7f0d87\r\nbut the error is still not resolved.\r\n\r",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2626242214/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/2378",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/2378/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/2378/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/2378/events",
      "html_url": "https://github.com/keras-team/keras/issues/2378",
      "id": 149048239,
      "node_id": "MDU6SXNzdWUxNDkwNDgyMzk=",
      "number": 2378,
      "title": "Not able to resume training after loading model + weights",
      "user": {
        "login": "trane293",
        "id": 10273405,
        "node_id": "MDQ6VXNlcjEwMjczNDA1",
        "avatar_url": "https://avatars.githubusercontent.com/u/10273405?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/trane293",
        "html_url": "https://github.com/trane293",
        "followers_url": "https://api.github.com/users/trane293/followers",
        "following_url": "https://api.github.com/users/trane293/following{/other_user}",
        "gists_url": "https://api.github.com/users/trane293/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/trane293/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/trane293/subscriptions",
        "organizations_url": "https://api.github.com/users/trane293/orgs",
        "repos_url": "https://api.github.com/users/trane293/repos",
        "events_url": "https://api.github.com/users/trane293/events{/privacy}",
        "received_events_url": "https://api.github.com/users/trane293/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 90,
      "created_at": "2016-04-18T05:40:39Z",
      "updated_at": "2020-04-10T08:22:14Z",
      "closed_at": "2018-01-02T23:29:08Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "I work at an institute where it is not allowed to run a workstation overnight, hence I had to split the training process into multiple days. I trained a model for 10 epochs which took approximately 1 day, and saved the model + weights using the methods described in keras documentation like this:\n\n```\n modelPath = './SegmentationModels/\n modelName = 'Arch_1_10'\n sys.setrecursionlimit(10000)\n json_string = model.to_json()\n open(str(modelPath + modelName + '.json'), 'w').write(json_string)\n model.save_weights(str(modelPath + modelName + '.h5'))\n import cPickle as pickle\n with open(str(modelPath + modelName + '_hist.pckl'), 'wb') as f:\n     pickle.dump(history.history, f, -1)\n```\n\nand load the model the next day like this:\n\n```\n modelPath = './SegmentationModels/'\n modelName = 'Arch_1_10'\n model = model_from_json(open(str(modelPath + modelName + '.json')).read())\n model.compile(loss='categorical_crossentropy', optimizer=optim_sgd)\n model.load_weights(str(modelPath + modelName + '.h5'))\n #     import cPickle as pickle\n #     with open(str(modelPath + modelName + '_hist.pckl'), 'r') as f:\n #         history = pickle.load(f)\n model.summary()\n```\n\nbut when I restarted the training process it initialized to the same training and validation loss that I had got the earlier day at the 1st epoch! It should have started with an accuracy of 60% which was the last best accuracy I got the earlier day, but it doesn't. \n\nI have also tried to call model.compile() before and after load_weights, as well as leaving it out altogether, but that doesn't work either. \n\nPlease help me in this regard. Thanks in advance. \n",
      "closed_by": {
        "login": "trane293",
        "id": 10273405,
        "node_id": "MDQ6VXNlcjEwMjczNDA1",
        "avatar_url": "https://avatars.githubusercontent.com/u/10273405?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/trane293",
        "html_url": "https://github.com/trane293",
        "followers_url": "https://api.github.com/users/trane293/followers",
        "following_url": "https://api.github.com/users/trane293/following{/other_user}",
        "gists_url": "https://api.github.com/users/trane293/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/trane293/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/trane293/subscriptions",
        "organizations_url": "https://api.github.com/users/trane293/orgs",
        "repos_url": "https://api.github.com/users/trane293/repos",
        "events_url": "https://api.github.com/users/trane293/events{/privacy}",
        "received_events_url": "https://api.github.com/users/trane293/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/2378/reactions",
        "total_count": 9,
        "+1": 8,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 1,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/2378/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211334993",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-211334993",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 211334993,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTMzNDk5Mw==",
          "user": {
            "login": "NasenSpray",
            "id": 8047134,
            "node_id": "MDQ6VXNlcjgwNDcxMzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8047134?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NasenSpray",
            "html_url": "https://github.com/NasenSpray",
            "followers_url": "https://api.github.com/users/NasenSpray/followers",
            "following_url": "https://api.github.com/users/NasenSpray/following{/other_user}",
            "gists_url": "https://api.github.com/users/NasenSpray/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NasenSpray/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NasenSpray/subscriptions",
            "organizations_url": "https://api.github.com/users/NasenSpray/orgs",
            "repos_url": "https://api.github.com/users/NasenSpray/repos",
            "events_url": "https://api.github.com/users/NasenSpray/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NasenSpray/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-18T11:15:48Z",
          "updated_at": "2016-04-18T11:15:48Z",
          "author_association": "NONE",
          "body": "Does it work when you construct the model with the original code instead of loading it from json?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211334993/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211372582",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-211372582",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 211372582,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTM3MjU4Mg==",
          "user": {
            "login": "trane293",
            "id": 10273405,
            "node_id": "MDQ6VXNlcjEwMjczNDA1",
            "avatar_url": "https://avatars.githubusercontent.com/u/10273405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/trane293",
            "html_url": "https://github.com/trane293",
            "followers_url": "https://api.github.com/users/trane293/followers",
            "following_url": "https://api.github.com/users/trane293/following{/other_user}",
            "gists_url": "https://api.github.com/users/trane293/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/trane293/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/trane293/subscriptions",
            "organizations_url": "https://api.github.com/users/trane293/orgs",
            "repos_url": "https://api.github.com/users/trane293/repos",
            "events_url": "https://api.github.com/users/trane293/events{/privacy}",
            "received_events_url": "https://api.github.com/users/trane293/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-18T13:08:10Z",
          "updated_at": "2016-04-18T13:08:10Z",
          "author_association": "NONE",
          "body": "Nope. It doesn't. Still starts with 20% accuracy as it did on the 1st epoch.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211372582/reactions",
            "total_count": 7,
            "+1": 6,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211376953",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-211376953",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 211376953,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTM3Njk1Mw==",
          "user": {
            "login": "NasenSpray",
            "id": 8047134,
            "node_id": "MDQ6VXNlcjgwNDcxMzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8047134?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NasenSpray",
            "html_url": "https://github.com/NasenSpray",
            "followers_url": "https://api.github.com/users/NasenSpray/followers",
            "following_url": "https://api.github.com/users/NasenSpray/following{/other_user}",
            "gists_url": "https://api.github.com/users/NasenSpray/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NasenSpray/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NasenSpray/subscriptions",
            "organizations_url": "https://api.github.com/users/NasenSpray/orgs",
            "repos_url": "https://api.github.com/users/NasenSpray/repos",
            "events_url": "https://api.github.com/users/NasenSpray/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NasenSpray/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-18T13:23:04Z",
          "updated_at": "2016-04-18T13:23:39Z",
          "author_association": "NONE",
          "body": "Did the weights file already exist before you tried to save them?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211376953/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211379814",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-211379814",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 211379814,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTM3OTgxNA==",
          "user": {
            "login": "trane293",
            "id": 10273405,
            "node_id": "MDQ6VXNlcjEwMjczNDA1",
            "avatar_url": "https://avatars.githubusercontent.com/u/10273405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/trane293",
            "html_url": "https://github.com/trane293",
            "followers_url": "https://api.github.com/users/trane293/followers",
            "following_url": "https://api.github.com/users/trane293/following{/other_user}",
            "gists_url": "https://api.github.com/users/trane293/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/trane293/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/trane293/subscriptions",
            "organizations_url": "https://api.github.com/users/trane293/orgs",
            "repos_url": "https://api.github.com/users/trane293/repos",
            "events_url": "https://api.github.com/users/trane293/events{/privacy}",
            "received_events_url": "https://api.github.com/users/trane293/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-18T13:31:28Z",
          "updated_at": "2016-04-18T13:31:55Z",
          "author_association": "NONE",
          "body": "It did, but now I tried using the ModelCheckpoint callback which saves weight files for each epoch. In my case last weights file for epoch 70 was created (it was not present), I tried loading that into the model loaded using i) JSON ii) using original code, but still no luck. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211379814/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211381014",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-211381014",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 211381014,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTM4MTAxNA==",
          "user": {
            "login": "NasenSpray",
            "id": 8047134,
            "node_id": "MDQ6VXNlcjgwNDcxMzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8047134?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NasenSpray",
            "html_url": "https://github.com/NasenSpray",
            "followers_url": "https://api.github.com/users/NasenSpray/followers",
            "following_url": "https://api.github.com/users/NasenSpray/following{/other_user}",
            "gists_url": "https://api.github.com/users/NasenSpray/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NasenSpray/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NasenSpray/subscriptions",
            "organizations_url": "https://api.github.com/users/NasenSpray/orgs",
            "repos_url": "https://api.github.com/users/NasenSpray/repos",
            "events_url": "https://api.github.com/users/NasenSpray/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NasenSpray/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-18T13:35:20Z",
          "updated_at": "2016-04-18T13:35:20Z",
          "author_association": "NONE",
          "body": "> It did\n\nThat's it, `save_weights()` doesn't overwrite existing files unless you also pass `overwrite=True`. It should have asked for user input, though.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211381014/reactions",
            "total_count": 5,
            "+1": 5,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211381711",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-211381711",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 211381711,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTM4MTcxMQ==",
          "user": {
            "login": "trane293",
            "id": 10273405,
            "node_id": "MDQ6VXNlcjEwMjczNDA1",
            "avatar_url": "https://avatars.githubusercontent.com/u/10273405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/trane293",
            "html_url": "https://github.com/trane293",
            "followers_url": "https://api.github.com/users/trane293/followers",
            "following_url": "https://api.github.com/users/trane293/following{/other_user}",
            "gists_url": "https://api.github.com/users/trane293/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/trane293/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/trane293/subscriptions",
            "organizations_url": "https://api.github.com/users/trane293/orgs",
            "repos_url": "https://api.github.com/users/trane293/repos",
            "events_url": "https://api.github.com/users/trane293/events{/privacy}",
            "received_events_url": "https://api.github.com/users/trane293/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-18T13:37:51Z",
          "updated_at": "2016-04-18T13:37:51Z",
          "author_association": "NONE",
          "body": "Actually sorry for my last comment, all the architectures I save and all weights I save have unique names, and yes I know `save_weights()` asks for user input when overwriting the file, but in my case it doesn't since the files do not exist. Se we can safely rule out the possibility that the file was not overwritten. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211381711/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211383691",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-211383691",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 211383691,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTM4MzY5MQ==",
          "user": {
            "login": "trane293",
            "id": 10273405,
            "node_id": "MDQ6VXNlcjEwMjczNDA1",
            "avatar_url": "https://avatars.githubusercontent.com/u/10273405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/trane293",
            "html_url": "https://github.com/trane293",
            "followers_url": "https://api.github.com/users/trane293/followers",
            "following_url": "https://api.github.com/users/trane293/following{/other_user}",
            "gists_url": "https://api.github.com/users/trane293/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/trane293/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/trane293/subscriptions",
            "organizations_url": "https://api.github.com/users/trane293/orgs",
            "repos_url": "https://api.github.com/users/trane293/repos",
            "events_url": "https://api.github.com/users/trane293/events{/privacy}",
            "received_events_url": "https://api.github.com/users/trane293/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-18T13:42:10Z",
          "updated_at": "2016-04-18T13:45:00Z",
          "author_association": "NONE",
          "body": "![screen](https://cloud.githubusercontent.com/assets/10273405/14606107/50d35708-0599-11e6-9ea9-d0121a3ff9a1.png)\nYou can see the weights saved after every epoch. When I try to load these weights the training still restarts from where it started initially.\n\nHere's my full `loadModel()` function:\n\n```\n# optimzers\noptim_sgd = keras.optimizers.SGD(lr=0.01, momentum=0.9, decay=0.002, nesterov=True)\noptim_adadelta = keras.optimizers.Adadelta()\noptim_adagrad = keras.optimizers.Adagrad()\noptim_adam = keras.optimizers.Adam(lr=0.001, beta_1=0.9, beta_2=0.999, epsilon=1e-08)\n\nimageSize = (19, 19)\nimg_rows, img_cols = imageSize[0], imageSize[1]\nbatch_size = 200\n# number of convolutional filters to use\nnb_filters = 32\n# size of pooling area for max pooling\nnb_pool = 2\n# convolution kernel size\nnb_conv = 3\n\nnb_epoch = 1000\n\n# callbacks\ndef scheduler(epoch):\n    if epoch % 10 == 0 and epoch is not 0:\n        x = float(input(\"Enter a learning rate (Current: {}): \".format(model.optimizer.lr.get_value())))\n        model.optimizer.lr.set_value(x)\n        print(\"Changed learning rate to: {}\".format(model.optimizer.lr.get_value()))\n    return model.optimizer.lr.get_value()\n\nchange_lr = oc.LearningRateScheduler(scheduler)\nearly_stop = oc.StopEarly(10)\nplot_history = oc.PlotHistory()\n\n# # Load the model\nmodelPath = './SegmentationModels/'\nmodelName = 'Arch_1_40'\nmodel = model_from_json(open(str(modelPath + modelName + '.json')).read())\nmodel.compile(loss='categorical_crossentropy', optimizer=optim_sgd)\nmodel.load_weights(str(modelPath + 'weights.70-0.74.hdf5'))\n#     import cPickle as pickle\n#     with open(str(modelPath + modelName + '_hist.pckl'), 'r') as f:\n#         history = pickle.load(f)\nmodel.summary()\n```\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211383691/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211385938",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-211385938",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 211385938,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTM4NTkzOA==",
          "user": {
            "login": "NasenSpray",
            "id": 8047134,
            "node_id": "MDQ6VXNlcjgwNDcxMzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8047134?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NasenSpray",
            "html_url": "https://github.com/NasenSpray",
            "followers_url": "https://api.github.com/users/NasenSpray/followers",
            "following_url": "https://api.github.com/users/NasenSpray/following{/other_user}",
            "gists_url": "https://api.github.com/users/NasenSpray/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NasenSpray/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NasenSpray/subscriptions",
            "organizations_url": "https://api.github.com/users/NasenSpray/orgs",
            "repos_url": "https://api.github.com/users/NasenSpray/repos",
            "events_url": "https://api.github.com/users/NasenSpray/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NasenSpray/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-18T13:45:17Z",
          "updated_at": "2016-04-18T13:48:38Z",
          "author_association": "NONE",
          "body": "That's strange... \n\n~~[replace this line](https://github.com/fchollet/keras/blob/55159cf451cfe621745e5a0a7f96391f8994cdc5/keras/engine/topology.py#L2272) with `if 1:` and try to load the weights again.~~ nope, dont\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211385938/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211398707",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-211398707",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 211398707,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTM5ODcwNw==",
          "user": {
            "login": "trane293",
            "id": 10273405,
            "node_id": "MDQ6VXNlcjEwMjczNDA1",
            "avatar_url": "https://avatars.githubusercontent.com/u/10273405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/trane293",
            "html_url": "https://github.com/trane293",
            "followers_url": "https://api.github.com/users/trane293/followers",
            "following_url": "https://api.github.com/users/trane293/following{/other_user}",
            "gists_url": "https://api.github.com/users/trane293/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/trane293/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/trane293/subscriptions",
            "organizations_url": "https://api.github.com/users/trane293/orgs",
            "repos_url": "https://api.github.com/users/trane293/repos",
            "events_url": "https://api.github.com/users/trane293/events{/privacy}",
            "received_events_url": "https://api.github.com/users/trane293/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-18T14:13:18Z",
          "updated_at": "2016-04-18T14:13:18Z",
          "author_association": "NONE",
          "body": "I found out that I was using an older version of Keras. I upgraded the version and found `model_summary()` is no longer there. Delved deeper and found that it has now been changed to `print_summary()`.\n\nAnyways, I tried changing the line of code you asked, but that didn't work as well. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211398707/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211725737",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-211725737",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 211725737,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTcyNTczNw==",
          "user": {
            "login": "trane293",
            "id": 10273405,
            "node_id": "MDQ6VXNlcjEwMjczNDA1",
            "avatar_url": "https://avatars.githubusercontent.com/u/10273405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/trane293",
            "html_url": "https://github.com/trane293",
            "followers_url": "https://api.github.com/users/trane293/followers",
            "following_url": "https://api.github.com/users/trane293/following{/other_user}",
            "gists_url": "https://api.github.com/users/trane293/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/trane293/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/trane293/subscriptions",
            "organizations_url": "https://api.github.com/users/trane293/orgs",
            "repos_url": "https://api.github.com/users/trane293/repos",
            "events_url": "https://api.github.com/users/trane293/events{/privacy}",
            "received_events_url": "https://api.github.com/users/trane293/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-19T04:33:09Z",
          "updated_at": "2016-04-19T10:37:24Z",
          "author_association": "NONE",
          "body": "UPDATE: Came to the institute this morning, built the model using original code and loaded the model weights saved using ModelCheckpoint callback. Started training and it still restarts from the beginning; no memory of past metrics. The performance is actually even worse than it was earlier when it started training the first epoch. In my case, normally the network starts at 20% accuracy and goes to around 70% in 60 epochs. But when I restart the training process using loaded weights, the network starts at 20% on epoch 1 and keeps going lower and lower until 16% at epoch 5. I have no idea what's happening here. \n\nUPDATE 2: When I try to evaluate the loaded model + weights on the same validation data, I get 60% accuracy, as intended. But if I do `model.fit()` then training starts from 20% and oscillates on it. So I can confirm that the weights are being loaded correctly since the model can make predictions, but the model is not able to retrain. \n\nPlease help! @NasenSpray \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211725737/reactions",
            "total_count": 5,
            "+1": 5,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211900918",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-211900918",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 211900918,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTkwMDkxOA==",
          "user": {
            "login": "carlthome",
            "id": 1595907,
            "node_id": "MDQ6VXNlcjE1OTU5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1595907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/carlthome",
            "html_url": "https://github.com/carlthome",
            "followers_url": "https://api.github.com/users/carlthome/followers",
            "following_url": "https://api.github.com/users/carlthome/following{/other_user}",
            "gists_url": "https://api.github.com/users/carlthome/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/carlthome/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/carlthome/subscriptions",
            "organizations_url": "https://api.github.com/users/carlthome/orgs",
            "repos_url": "https://api.github.com/users/carlthome/repos",
            "events_url": "https://api.github.com/users/carlthome/events{/privacy}",
            "received_events_url": "https://api.github.com/users/carlthome/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-19T12:27:35Z",
          "updated_at": "2016-04-19T13:07:50Z",
          "author_association": "CONTRIBUTOR",
          "body": "So what model do you have precisely? Perhaps some weights aren't actually saved or loaded at all (like the states in a LSTM or something)? Or perhaps they are accidentally shuffled (flipped dimensions or whatever) somehow.\n\nEDIT: Check https://github.com/fchollet/keras/issues/2378#issuecomment-211910392\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211900918/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211901705",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-211901705",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 211901705,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTkwMTcwNQ==",
          "user": {
            "login": "carlthome",
            "id": 1595907,
            "node_id": "MDQ6VXNlcjE1OTU5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1595907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/carlthome",
            "html_url": "https://github.com/carlthome",
            "followers_url": "https://api.github.com/users/carlthome/followers",
            "following_url": "https://api.github.com/users/carlthome/following{/other_user}",
            "gists_url": "https://api.github.com/users/carlthome/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/carlthome/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/carlthome/subscriptions",
            "organizations_url": "https://api.github.com/users/carlthome/orgs",
            "repos_url": "https://api.github.com/users/carlthome/repos",
            "events_url": "https://api.github.com/users/carlthome/events{/privacy}",
            "received_events_url": "https://api.github.com/users/carlthome/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-19T12:30:18Z",
          "updated_at": "2016-04-19T14:18:24Z",
          "author_association": "CONTRIBUTOR",
          "body": "Grasping at straws here, but some optimizers are stateful right? Are you just using SGD? I'm not familiar with this part of Keras but perhaps the optimizers should be saved as well because otherwise when you reinitiate learning and start a new epoch but with pretrained weights instead of your original weight initialization, perhaps training diverges due to high learning rates.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211901705/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211910392",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-211910392",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 211910392,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTkxMDM5Mg==",
          "user": {
            "login": "NasenSpray",
            "id": 8047134,
            "node_id": "MDQ6VXNlcjgwNDcxMzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8047134?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NasenSpray",
            "html_url": "https://github.com/NasenSpray",
            "followers_url": "https://api.github.com/users/NasenSpray/followers",
            "following_url": "https://api.github.com/users/NasenSpray/following{/other_user}",
            "gists_url": "https://api.github.com/users/NasenSpray/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NasenSpray/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NasenSpray/subscriptions",
            "organizations_url": "https://api.github.com/users/NasenSpray/orgs",
            "repos_url": "https://api.github.com/users/NasenSpray/repos",
            "events_url": "https://api.github.com/users/NasenSpray/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NasenSpray/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-19T12:51:16Z",
          "updated_at": "2016-04-19T12:54:43Z",
          "author_association": "NONE",
          "body": "Run this plz\n\n```\nmodel  = make_model()\nw1 = model.get_weights()\nmodel.load_weights('your_saved_weights.h5')\nw2 = model.get_weights()\n\nfor a,b in zip(w1, w2):\n  if np.all(a == b):\n    print \"wtf is happening\"\n```\n\nDoes it print?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211910392/reactions",
            "total_count": 4,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 3
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211931281",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-211931281",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 211931281,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTkzMTI4MQ==",
          "user": {
            "login": "trane293",
            "id": 10273405,
            "node_id": "MDQ6VXNlcjEwMjczNDA1",
            "avatar_url": "https://avatars.githubusercontent.com/u/10273405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/trane293",
            "html_url": "https://github.com/trane293",
            "followers_url": "https://api.github.com/users/trane293/followers",
            "following_url": "https://api.github.com/users/trane293/following{/other_user}",
            "gists_url": "https://api.github.com/users/trane293/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/trane293/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/trane293/subscriptions",
            "organizations_url": "https://api.github.com/users/trane293/orgs",
            "repos_url": "https://api.github.com/users/trane293/repos",
            "events_url": "https://api.github.com/users/trane293/events{/privacy}",
            "received_events_url": "https://api.github.com/users/trane293/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-19T13:53:30Z",
          "updated_at": "2016-04-19T13:53:30Z",
          "author_association": "NONE",
          "body": "Doesn't print. The weights are loaded successfully I suppose. Its the training procedure that's problematic. After running this script (it didn't print anything), I ran `model.fit()` and it started with a loss 10x higher than originally it was at epoch 1, and with accuracy 20% again _sigh_\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211931281/reactions",
            "total_count": 6,
            "+1": 6,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211948089",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-211948089",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 211948089,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTk0ODA4OQ==",
          "user": {
            "login": "carlthome",
            "id": 1595907,
            "node_id": "MDQ6VXNlcjE1OTU5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1595907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/carlthome",
            "html_url": "https://github.com/carlthome",
            "followers_url": "https://api.github.com/users/carlthome/followers",
            "following_url": "https://api.github.com/users/carlthome/following{/other_user}",
            "gists_url": "https://api.github.com/users/carlthome/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/carlthome/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/carlthome/subscriptions",
            "organizations_url": "https://api.github.com/users/carlthome/orgs",
            "repos_url": "https://api.github.com/users/carlthome/repos",
            "events_url": "https://api.github.com/users/carlthome/events{/privacy}",
            "received_events_url": "https://api.github.com/users/carlthome/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-19T14:33:34Z",
          "updated_at": "2016-04-19T14:34:53Z",
          "author_association": "CONTRIBUTOR",
          "body": "Obviously something must be different as you're seeing different results. Perhaps get_weights() doesn't actually return everything it could.\n\nI'm curious if you have the same problem just by restarting training in the same session, nevermind loading a model and its weights with Keras' builtins. If not, consider saving states with [something like this](https://docs.python.org/2/library/shelve.html) instead.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211948089/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211971939",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-211971939",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 211971939,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTk3MTkzOQ==",
          "user": {
            "login": "trane293",
            "id": 10273405,
            "node_id": "MDQ6VXNlcjEwMjczNDA1",
            "avatar_url": "https://avatars.githubusercontent.com/u/10273405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/trane293",
            "html_url": "https://github.com/trane293",
            "followers_url": "https://api.github.com/users/trane293/followers",
            "following_url": "https://api.github.com/users/trane293/following{/other_user}",
            "gists_url": "https://api.github.com/users/trane293/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/trane293/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/trane293/subscriptions",
            "organizations_url": "https://api.github.com/users/trane293/orgs",
            "repos_url": "https://api.github.com/users/trane293/repos",
            "events_url": "https://api.github.com/users/trane293/events{/privacy}",
            "received_events_url": "https://api.github.com/users/trane293/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-19T15:10:39Z",
          "updated_at": "2016-04-19T15:10:39Z",
          "author_association": "NONE",
          "body": "Thanks. When I restart an interrupted training process, the training continues from where it left of successfully. The problem is when I load the model and weights. \n\nMy main aim to save \"snapshots\" or \"states\" of the model that can be loaded back and used as a starting point when training on the other day. I'll have a look at the `shelf` module too, thanks!. But I think the problem with Keras must be debugged as well. \n\nPlease guide me on how can I help you reproduce this issue for you guys to fix it sometime in the future. I would love to help. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211971939/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211992083",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-211992083",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 211992083,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMTk5MjA4Mw==",
          "user": {
            "login": "NasenSpray",
            "id": 8047134,
            "node_id": "MDQ6VXNlcjgwNDcxMzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8047134?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NasenSpray",
            "html_url": "https://github.com/NasenSpray",
            "followers_url": "https://api.github.com/users/NasenSpray/followers",
            "following_url": "https://api.github.com/users/NasenSpray/following{/other_user}",
            "gists_url": "https://api.github.com/users/NasenSpray/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NasenSpray/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NasenSpray/subscriptions",
            "organizations_url": "https://api.github.com/users/NasenSpray/orgs",
            "repos_url": "https://api.github.com/users/NasenSpray/repos",
            "events_url": "https://api.github.com/users/NasenSpray/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NasenSpray/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-19T15:55:11Z",
          "updated_at": "2016-04-19T15:57:07Z",
          "author_association": "NONE",
          "body": "In your `loadModel()`, hardcode the learning rate to 0. Does it make the loaded model better?\n\n\\- and -\n\nInstead of training, just evaluate the loaded model on the training set. Still worse than before?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/211992083/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212490394",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-212490394",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 212490394,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjQ5MDM5NA==",
          "user": {
            "login": "trane293",
            "id": 10273405,
            "node_id": "MDQ6VXNlcjEwMjczNDA1",
            "avatar_url": "https://avatars.githubusercontent.com/u/10273405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/trane293",
            "html_url": "https://github.com/trane293",
            "followers_url": "https://api.github.com/users/trane293/followers",
            "following_url": "https://api.github.com/users/trane293/following{/other_user}",
            "gists_url": "https://api.github.com/users/trane293/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/trane293/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/trane293/subscriptions",
            "organizations_url": "https://api.github.com/users/trane293/orgs",
            "repos_url": "https://api.github.com/users/trane293/repos",
            "events_url": "https://api.github.com/users/trane293/events{/privacy}",
            "received_events_url": "https://api.github.com/users/trane293/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-20T16:01:51Z",
          "updated_at": "2016-04-20T16:01:51Z",
          "author_association": "NONE",
          "body": "I'll try your suggestion as soon as I get to the institute tomorrow. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212490394/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212935382",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-212935382",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 212935382,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjkzNTM4Mg==",
          "user": {
            "login": "trane293",
            "id": 10273405,
            "node_id": "MDQ6VXNlcjEwMjczNDA1",
            "avatar_url": "https://avatars.githubusercontent.com/u/10273405?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/trane293",
            "html_url": "https://github.com/trane293",
            "followers_url": "https://api.github.com/users/trane293/followers",
            "following_url": "https://api.github.com/users/trane293/following{/other_user}",
            "gists_url": "https://api.github.com/users/trane293/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/trane293/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/trane293/subscriptions",
            "organizations_url": "https://api.github.com/users/trane293/orgs",
            "repos_url": "https://api.github.com/users/trane293/repos",
            "events_url": "https://api.github.com/users/trane293/events{/privacy}",
            "received_events_url": "https://api.github.com/users/trane293/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-21T14:06:36Z",
          "updated_at": "2016-04-21T14:10:00Z",
          "author_association": "NONE",
          "body": "I could not try validating on the training set for some reason, but I solved my problem by pickling the model after training it for the day. I restarted my iPython Notebook kernel, loaded the pickled model, and restarted the training process. Fortunately it started from where it left of. \n\nI will also try your suggestion and report back what I got. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212935382/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212945160",
          "html_url": "https://github.com/keras-team/keras/issues/2378#issuecomment-212945160",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2378",
          "id": 212945160,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjk0NTE2MA==",
          "user": {
            "login": "carlthome",
            "id": 1595907,
            "node_id": "MDQ6VXNlcjE1OTU5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1595907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/carlthome",
            "html_url": "https://github.com/carlthome",
            "followers_url": "https://api.github.com/users/carlthome/followers",
            "following_url": "https://api.github.com/users/carlthome/following{/other_user}",
            "gists_url": "https://api.github.com/users/carlthome/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/carlthome/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/carlthome/subscriptions",
            "organizations_url": "https://api.github.com/users/carlthome/orgs",
            "repos_url": "https://api.github.com/users/carlthome/repos",
            "events_url": "https://api.github.com/users/carlthome/events{/privacy}",
            "received_events_url": "https://api.github.com/users/carlthome/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-21T14:32:41Z",
          "updated_at": "2016-04-21T14:32:41Z",
          "author_association": "CONTRIBUTOR",
          "body": "Dang! That clearly means some states are not saved properly, whether they are weights or something else.\n\nI assume the intended use case for having load and save functions in Keras has more to do with being able to share pretrained models like people do with Caffe, rather than it being for pausing your own training, in which pickling is probably safer.\n\nI do wonder though if it wouldn't be easier to just scratch the manual parsing of states which is bug-prone and simply have everything rely on Python's builtin object serialization with pickle, shelve or similar. Keras' builtins are pretty meaty though so I'm probably missing something important in why they're needed.\n\nI could do a pr with shelve for save_model(...), load_model(...), save_weights(...), load_weights(...) if it is of interest @fchollet.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212945160/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/6800",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/6800/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/6800/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/6800/events",
      "html_url": "https://github.com/keras-team/keras/pull/6800",
      "id": 232337173,
      "node_id": "MDExOlB1bGxSZXF1ZXN0MTIzMTExMDM0",
      "number": 6800,
      "title": "Add CNTK as keras backend",
      "user": {
        "login": "souptc",
        "id": 11306809,
        "node_id": "MDQ6VXNlcjExMzA2ODA5",
        "avatar_url": "https://avatars.githubusercontent.com/u/11306809?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/souptc",
        "html_url": "https://github.com/souptc",
        "followers_url": "https://api.github.com/users/souptc/followers",
        "following_url": "https://api.github.com/users/souptc/following{/other_user}",
        "gists_url": "https://api.github.com/users/souptc/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/souptc/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/souptc/subscriptions",
        "organizations_url": "https://api.github.com/users/souptc/orgs",
        "repos_url": "https://api.github.com/users/souptc/repos",
        "events_url": "https://api.github.com/users/souptc/events{/privacy}",
        "received_events_url": "https://api.github.com/users/souptc/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 14,
      "created_at": "2017-05-30T18:14:16Z",
      "updated_at": "2017-06-07T06:15:44Z",
      "closed_at": "2017-06-07T04:32:58Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/6800",
        "html_url": "https://github.com/keras-team/keras/pull/6800",
        "diff_url": "https://github.com/keras-team/keras/pull/6800.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/6800.patch",
        "merged_at": "2017-06-07T04:32:58Z"
      },
      "body": "This is the Beta version of CNTK as keras backend. Those changes are suppose to work with CNTK v2.0 GA. Because the CNTKv2.0 is not officially published, you could use the wheel below to have a first try:\r\n\r\nhttp://cntk.ai/PythonWheel/ForKeras/cntk-2.0rc3-cp35-cp35m-linux_x86_64.whl\r\nhttp://cntk.ai/PythonWheel/ForKeras/cntk-2.0rc3-cp27-cp27mu-linux_x86_64.whl\r\n\r\n\r\nMost of the keras features are supported, except:\r\n\r\n1. Performance optimization on CPU device.\r\nCNTK performance optimization on cpu device is not finished, so if you want better performance, please try to run CNTK_Keras with GPU device.\u00a0\r\n\u00a0\r\n2. Gradient as symbolic ops.\r\nThis is not include in CNTK_Keras beta release, and we will support it in CNTK_Keras GA release.\u00a0\r\n\u00a0\r\n3. Stateful recurrent layer.\r\nThis is not include in CNTK_Keras beta release.\u00a0\r\n\u00a0\r\n4. Masking on recurrent layer.\r\nThis is not include in CNTK_Keras beta release, and we will support it in CNTK_Keras GA release.\u00a0\r\n\u00a0\r\n5. Padding with non-specified shape.\u00a0\r\nPadding with non-speicfied shape is not supported now. To using cntk backend in keras with padding, please specified the concrete input shape.\u00a0\r\n\u00a0\r\n6. Convolution with dilation.\r\nThis is not include in CNTK_Keras beta release, and we will support it in CNTK_Keras GA release.\u00a0\r\n\u00a0\r\n7. Randomness op across batch axis.\u00a0\r\nThis is not include in CNTK_Keras beta release, and we will support it in CNTK_Keras GA release.\u00a0\r\n\u00a0\r\n8. Some Keras backend apis: reverse / top_k / ctc / map / foldl / foldr.\u00a0\r\nThese are not include in CNTK_Keras beta release, and we will support it in CNTK_Keras GA release.\u00a0",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/6800/reactions",
        "total_count": 18,
        "+1": 18,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/6800/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/305234821",
          "html_url": "https://github.com/keras-team/keras/pull/6800#issuecomment-305234821",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6800",
          "id": 305234821,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTIzNDgyMQ==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-31T16:03:25Z",
          "updated_at": "2017-05-31T16:03:25Z",
          "author_association": "CONTRIBUTOR",
          "body": "I agree with @Dref360 perhaps The code causing those if statements could also be moved to the backend?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/305234821/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/305298086",
          "html_url": "https://github.com/keras-team/keras/pull/6800#issuecomment-305298086",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6800",
          "id": 305298086,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTI5ODA4Ng==",
          "user": {
            "login": "souptc",
            "id": 11306809,
            "node_id": "MDQ6VXNlcjExMzA2ODA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11306809?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/souptc",
            "html_url": "https://github.com/souptc",
            "followers_url": "https://api.github.com/users/souptc/followers",
            "following_url": "https://api.github.com/users/souptc/following{/other_user}",
            "gists_url": "https://api.github.com/users/souptc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/souptc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/souptc/subscriptions",
            "organizations_url": "https://api.github.com/users/souptc/orgs",
            "repos_url": "https://api.github.com/users/souptc/repos",
            "events_url": "https://api.github.com/users/souptc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/souptc/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-31T19:53:02Z",
          "updated_at": "2017-05-31T19:53:02Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks @Dref360 and @ahundt for the comments. we will refactor the implementation to make it looks better.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/305298086/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/305583227",
          "html_url": "https://github.com/keras-team/keras/pull/6800#issuecomment-305583227",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6800",
          "id": 305583227,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTU4MzIyNw==",
          "user": {
            "login": "souptc",
            "id": 11306809,
            "node_id": "MDQ6VXNlcjExMzA2ODA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11306809?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/souptc",
            "html_url": "https://github.com/souptc",
            "followers_url": "https://api.github.com/users/souptc/followers",
            "following_url": "https://api.github.com/users/souptc/following{/other_user}",
            "gists_url": "https://api.github.com/users/souptc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/souptc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/souptc/subscriptions",
            "organizations_url": "https://api.github.com/users/souptc/orgs",
            "repos_url": "https://api.github.com/users/souptc/repos",
            "events_url": "https://api.github.com/users/souptc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/souptc/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-01T18:42:06Z",
          "updated_at": "2017-06-01T18:42:06Z",
          "author_association": "CONTRIBUTOR",
          "body": "@Dref360 @ahundt , we have push new changes, which avoid the if statements in keras core code, by wrapper them in the backends. Could you review them? and please let me know if you have more comments.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/305583227/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/305624699",
          "html_url": "https://github.com/keras-team/keras/pull/6800#issuecomment-305624699",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6800",
          "id": 305624699,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTYyNDY5OQ==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-01T21:23:17Z",
          "updated_at": "2017-06-01T21:23:17Z",
          "author_association": "CONTRIBUTOR",
          "body": "I've only skimmed, but it is impressive that a whole new backend can be added with just a net of 2600 additional lines!\r\n\r\nwhat's the reason for the new `bias_shape` param?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/305624699/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/305629343",
          "html_url": "https://github.com/keras-team/keras/pull/6800#issuecomment-305629343",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6800",
          "id": 305629343,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTYyOTM0Mw==",
          "user": {
            "login": "souptc",
            "id": 11306809,
            "node_id": "MDQ6VXNlcjExMzA2ODA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11306809?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/souptc",
            "html_url": "https://github.com/souptc",
            "followers_url": "https://api.github.com/users/souptc/followers",
            "following_url": "https://api.github.com/users/souptc/following{/other_user}",
            "gists_url": "https://api.github.com/users/souptc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/souptc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/souptc/subscriptions",
            "organizations_url": "https://api.github.com/users/souptc/orgs",
            "repos_url": "https://api.github.com/users/souptc/repos",
            "events_url": "https://api.github.com/users/souptc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/souptc/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-01T21:43:13Z",
          "updated_at": "2017-06-01T21:43:13Z",
          "author_association": "CONTRIBUTOR",
          "body": "The existing bias_add only support broadcast a bias vector across axis (by extend bias shape with 1s), but for the bias in the local connection layer, bias itself is a tensor( like (output_rows, output_cols, filters) for local connect 2d). We want to take the bias_add advantage to help us deal with stuff like data_format/broadcast/..., so we passed in the shape of the bias tensor to make bias_add support it.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/305629343/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/305948668",
          "html_url": "https://github.com/keras-team/keras/pull/6800#issuecomment-305948668",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6800",
          "id": 305948668,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTk0ODY2OA==",
          "user": {
            "login": "souptc",
            "id": 11306809,
            "node_id": "MDQ6VXNlcjExMzA2ODA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11306809?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/souptc",
            "html_url": "https://github.com/souptc",
            "followers_url": "https://api.github.com/users/souptc/followers",
            "following_url": "https://api.github.com/users/souptc/following{/other_user}",
            "gists_url": "https://api.github.com/users/souptc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/souptc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/souptc/subscriptions",
            "organizations_url": "https://api.github.com/users/souptc/orgs",
            "repos_url": "https://api.github.com/users/souptc/repos",
            "events_url": "https://api.github.com/users/souptc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/souptc/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-03T03:47:15Z",
          "updated_at": "2017-06-03T03:47:15Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet , I just update the implementation which resolve the most comments. For the \"bias_shape\", I explained the purpose of the change, do you have any suggestion about a better solution?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/305948668/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/305948876",
          "html_url": "https://github.com/keras-team/keras/pull/6800#issuecomment-305948876",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6800",
          "id": 305948876,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTk0ODg3Ng==",
          "user": {
            "login": "souptc",
            "id": 11306809,
            "node_id": "MDQ6VXNlcjExMzA2ODA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11306809?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/souptc",
            "html_url": "https://github.com/souptc",
            "followers_url": "https://api.github.com/users/souptc/followers",
            "following_url": "https://api.github.com/users/souptc/following{/other_user}",
            "gists_url": "https://api.github.com/users/souptc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/souptc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/souptc/subscriptions",
            "organizations_url": "https://api.github.com/users/souptc/orgs",
            "repos_url": "https://api.github.com/users/souptc/repos",
            "events_url": "https://api.github.com/users/souptc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/souptc/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-03T03:52:13Z",
          "updated_at": "2017-06-03T03:52:13Z",
          "author_association": "CONTRIBUTOR",
          "body": "And for the maintainance, yes, CNTK team will definitely commit to maintain the cntk backend in the future.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/305948876/reactions",
            "total_count": 7,
            "+1": 7,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306403705",
          "html_url": "https://github.com/keras-team/keras/pull/6800#issuecomment-306403705",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6800",
          "id": 306403705,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjQwMzcwNQ==",
          "user": {
            "login": "souptc",
            "id": 11306809,
            "node_id": "MDQ6VXNlcjExMzA2ODA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11306809?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/souptc",
            "html_url": "https://github.com/souptc",
            "followers_url": "https://api.github.com/users/souptc/followers",
            "following_url": "https://api.github.com/users/souptc/following{/other_user}",
            "gists_url": "https://api.github.com/users/souptc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/souptc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/souptc/subscriptions",
            "organizations_url": "https://api.github.com/users/souptc/orgs",
            "repos_url": "https://api.github.com/users/souptc/repos",
            "events_url": "https://api.github.com/users/souptc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/souptc/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-06T07:22:08Z",
          "updated_at": "2017-06-06T07:22:08Z",
          "author_association": "CONTRIBUTOR",
          "body": "clean the cntk_backend file with style issue.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306403705/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306403871",
          "html_url": "https://github.com/keras-team/keras/pull/6800#issuecomment-306403871",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6800",
          "id": 306403871,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjQwMzg3MQ==",
          "user": {
            "login": "souptc",
            "id": 11306809,
            "node_id": "MDQ6VXNlcjExMzA2ODA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11306809?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/souptc",
            "html_url": "https://github.com/souptc",
            "followers_url": "https://api.github.com/users/souptc/followers",
            "following_url": "https://api.github.com/users/souptc/following{/other_user}",
            "gists_url": "https://api.github.com/users/souptc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/souptc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/souptc/subscriptions",
            "organizations_url": "https://api.github.com/users/souptc/orgs",
            "repos_url": "https://api.github.com/users/souptc/repos",
            "events_url": "https://api.github.com/users/souptc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/souptc/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-06T07:22:50Z",
          "updated_at": "2017-06-06T07:22:50Z",
          "author_association": "CONTRIBUTOR",
          "body": "fix the bias_shape issue.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306403871/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306678831",
          "html_url": "https://github.com/keras-team/keras/pull/6800#issuecomment-306678831",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6800",
          "id": 306678831,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjY3ODgzMQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-07T03:50:08Z",
          "updated_at": "2017-06-07T03:50:08Z",
          "author_association": "COLLABORATOR",
          "body": "The failing test is a flake.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306678831/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306687201",
          "html_url": "https://github.com/keras-team/keras/pull/6800#issuecomment-306687201",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6800",
          "id": 306687201,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjY4NzIwMQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-07T05:01:48Z",
          "updated_at": "2017-06-07T05:01:48Z",
          "author_association": "COLLABORATOR",
          "body": "I have applied a few style fixes to the backend source and merged. Thanks a lot! \ud83d\udc4d \r\n\r\nWhile going through the backend code, I have noticed that a lot of the error messages raised were not as helpful and as clear as they should be. I suggest you go over the error messages and improve them. Typically you want to tell the user: 1) what they did (e.g. print the arguments they passed), 2) why that was wrong (e.g. something not supported), and 3) what they should do instead. Currently you are mostly doing 2) only.\r\n\r\nThis will greatly improve the user experience for CNTK Keras users, and improve the usability / ease of debugging of Keras models on CNTK.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306687201/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306694594",
          "html_url": "https://github.com/keras-team/keras/pull/6800#issuecomment-306694594",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6800",
          "id": 306694594,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjY5NDU5NA==",
          "user": {
            "login": "souptc",
            "id": 11306809,
            "node_id": "MDQ6VXNlcjExMzA2ODA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11306809?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/souptc",
            "html_url": "https://github.com/souptc",
            "followers_url": "https://api.github.com/users/souptc/followers",
            "following_url": "https://api.github.com/users/souptc/following{/other_user}",
            "gists_url": "https://api.github.com/users/souptc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/souptc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/souptc/subscriptions",
            "organizations_url": "https://api.github.com/users/souptc/orgs",
            "repos_url": "https://api.github.com/users/souptc/repos",
            "events_url": "https://api.github.com/users/souptc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/souptc/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-07T05:57:25Z",
          "updated_at": "2017-06-07T05:57:25Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks Fran\u00e7ois! Sure, I will go though the message tomorrow and improve them. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306694594/reactions",
            "total_count": 8,
            "+1": 8,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306697099",
          "html_url": "https://github.com/keras-team/keras/pull/6800#issuecomment-306697099",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6800",
          "id": 306697099,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjY5NzA5OQ==",
          "user": {
            "login": "ebarsoumMS",
            "id": 21152329,
            "node_id": "MDQ6VXNlcjIxMTUyMzI5",
            "avatar_url": "https://avatars.githubusercontent.com/u/21152329?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ebarsoumMS",
            "html_url": "https://github.com/ebarsoumMS",
            "followers_url": "https://api.github.com/users/ebarsoumMS/followers",
            "following_url": "https://api.github.com/users/ebarsoumMS/following{/other_user}",
            "gists_url": "https://api.github.com/users/ebarsoumMS/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ebarsoumMS/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ebarsoumMS/subscriptions",
            "organizations_url": "https://api.github.com/users/ebarsoumMS/orgs",
            "repos_url": "https://api.github.com/users/ebarsoumMS/repos",
            "events_url": "https://api.github.com/users/ebarsoumMS/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ebarsoumMS/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-07T06:13:35Z",
          "updated_at": "2017-06-07T06:13:35Z",
          "author_association": "NONE",
          "body": "Thanks, everybody...",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306697099/reactions",
            "total_count": 6,
            "+1": 6,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306697461",
          "html_url": "https://github.com/keras-team/keras/pull/6800#issuecomment-306697461",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6800",
          "id": 306697461,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjY5NzQ2MQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-07T06:15:44Z",
          "updated_at": "2017-06-07T06:15:44Z",
          "author_association": "COLLABORATOR",
          "body": "Huge thanks to everyone who contributed to this project! It's a big milestone.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306697461/reactions",
            "total_count": 11,
            "+1": 6,
            "-1": 0,
            "laugh": 0,
            "hooray": 5,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/7766",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/7766/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/7766/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/7766/events",
      "html_url": "https://github.com/keras-team/keras/pull/7766",
      "id": 253695179,
      "node_id": "MDExOlB1bGxSZXF1ZXN0MTM4MjA0ODc5",
      "number": 7766,
      "title": "FIX: Tensorboard callback only supports logging Embeddings layer weights",
      "user": {
        "login": "dschwertfeger",
        "id": 1120378,
        "node_id": "MDQ6VXNlcjExMjAzNzg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1120378?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dschwertfeger",
        "html_url": "https://github.com/dschwertfeger",
        "followers_url": "https://api.github.com/users/dschwertfeger/followers",
        "following_url": "https://api.github.com/users/dschwertfeger/following{/other_user}",
        "gists_url": "https://api.github.com/users/dschwertfeger/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/dschwertfeger/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dschwertfeger/subscriptions",
        "organizations_url": "https://api.github.com/users/dschwertfeger/orgs",
        "repos_url": "https://api.github.com/users/dschwertfeger/repos",
        "events_url": "https://api.github.com/users/dschwertfeger/events{/privacy}",
        "received_events_url": "https://api.github.com/users/dschwertfeger/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 192940626,
          "node_id": "MDU6TGFiZWwxOTI5NDA2MjY=",
          "url": "https://api.github.com/repos/keras-team/keras/labels/stat:contributions%20welcome",
          "name": "stat:contributions welcome",
          "color": "f4b400",
          "default": false,
          "description": "A pull request to fix this issue would be welcome."
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 35,
      "created_at": "2017-08-29T14:57:07Z",
      "updated_at": "2019-05-09T09:06:43Z",
      "closed_at": "2018-06-04T22:15:26Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/7766",
        "html_url": "https://github.com/keras-team/keras/pull/7766",
        "diff_url": "https://github.com/keras-team/keras/pull/7766.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/7766.patch",
        "merged_at": "2018-06-04T22:15:25Z"
      },
      "body": "Currently the Tensorboard embeddings visualizer only visualizes layer weights, rather than the layer outputs. This issue has already been raised twice:\r\n\r\n- https://github.com/fchollet/keras/issues/6674\r\n- https://github.com/fchollet/keras/issues/6287\r\n\r\nThis PR fixes this by actually _embedding_ the provided `embeddings_data` using the layer weights of the given `embeddings_layer_names`.\r\n\r\nWhat has changed?\r\n\r\n`keras.callbacks.TensorBoard()` accepts an additional parameter: `embeddings_data`. In practice, this is often the same as the validation data (`x_val`) but it could be any arbitrary data. The number of samples in `embeddings_data` is needed to reshape the embedding's layer's output accordingly.\r\n\r\nBefore:\r\n<img width=\"1440\" alt=\"before\" src=\"https://user-images.githubusercontent.com/1120378/30173742-0d1ee5f0-93f9-11e7-816e-023af2d5ba8b.png\">\r\n\r\nAfter:\r\n<img width=\"1440\" alt=\"after\" src=\"https://user-images.githubusercontent.com/1120378/30173756-14fe614c-93f9-11e7-8949-8d9cb458e139.png\">\r\n\r\n\r\n",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/7766/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/7766/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/327591983",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-327591983",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 327591983,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzU5MTk4Mw==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-09-06T19:41:47Z",
          "updated_at": "2017-09-06T19:41:47Z",
          "author_association": "COLLABORATOR",
          "body": "Thanks for the PR.\r\n\r\nCould someone help review this PR, and determine if this change is needed (or if this is the best way to handle it)?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/327591983/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/327670220",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-327670220",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 327670220,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzY3MDIyMA==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-09-07T03:01:52Z",
          "updated_at": "2017-09-07T03:06:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "could you include a before/after screenshot since this changes what tensorboard does?\r\n\r\n`validation_data_size` definitely needs more details though. Is it the size of all validation data? What happens in a case with `steps` where that may be ambiguous?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/327670220/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/327857189",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-327857189",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 327857189,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzg1NzE4OQ==",
          "user": {
            "login": "dschwertfeger",
            "id": 1120378,
            "node_id": "MDQ6VXNlcjExMjAzNzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1120378?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dschwertfeger",
            "html_url": "https://github.com/dschwertfeger",
            "followers_url": "https://api.github.com/users/dschwertfeger/followers",
            "following_url": "https://api.github.com/users/dschwertfeger/following{/other_user}",
            "gists_url": "https://api.github.com/users/dschwertfeger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dschwertfeger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dschwertfeger/subscriptions",
            "organizations_url": "https://api.github.com/users/dschwertfeger/orgs",
            "repos_url": "https://api.github.com/users/dschwertfeger/repos",
            "events_url": "https://api.github.com/users/dschwertfeger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dschwertfeger/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-09-07T16:45:05Z",
          "updated_at": "2017-09-08T03:53:13Z",
          "author_association": "CONTRIBUTOR",
          "body": "Exactly, the `validation_data_size` refers to the number of samples in the validation data. This is needed to create the `tf.Variable` to hold the `embedding`s to ultimately visualize each validation-data sample at the output of the embedding layer. Before, each weight at the \"embedding\" layer was visualized (see \"before\"-screenshot above), which doesn't make sense.\r\n\r\nHaven't come across `steps` yet, so I'm not sure about that case. I can say, though, we definitely need to know the number of samples in the validation data if we want to visualize their embedding at a given layer.\r\n\r\nIs there any way to find out the number of samples in the `validation_data` when using `steps`?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/327857189/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/329195622",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-329195622",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 329195622,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTE5NTYyMg==",
          "user": {
            "login": "chleibig",
            "id": 4180682,
            "node_id": "MDQ6VXNlcjQxODA2ODI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4180682?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chleibig",
            "html_url": "https://github.com/chleibig",
            "followers_url": "https://api.github.com/users/chleibig/followers",
            "following_url": "https://api.github.com/users/chleibig/following{/other_user}",
            "gists_url": "https://api.github.com/users/chleibig/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chleibig/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chleibig/subscriptions",
            "organizations_url": "https://api.github.com/users/chleibig/orgs",
            "repos_url": "https://api.github.com/users/chleibig/repos",
            "events_url": "https://api.github.com/users/chleibig/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chleibig/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-09-13T14:59:45Z",
          "updated_at": "2017-09-13T14:59:45Z",
          "author_association": "NONE",
          "body": "Thanks a lot @dschwertfeger for this PR. I can confirm the need for this and with minor changes (see below) it works for my purposes. Things I noticed:\r\n* In principle, the `validation_data_size` could be inferred from the callback's `validation_data`, however   the latter is only set after `set_model` needs it. This and how to deal with the `steps` case, seems related, but unfortunately I didn't have the time to dig deeper so far.\r\n* within `on_epoch_end`:\r\n      * The learning phase is not set, but needed to work with e.g. dropout layers.\r\n      *  The embeddings are computed for all the validation data at once instead of iterating over batches.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/329195622/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/329203735",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-329203735",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 329203735,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTIwMzczNQ==",
          "user": {
            "login": "chleibig",
            "id": 4180682,
            "node_id": "MDQ6VXNlcjQxODA2ODI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4180682?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chleibig",
            "html_url": "https://github.com/chleibig",
            "followers_url": "https://api.github.com/users/chleibig/followers",
            "following_url": "https://api.github.com/users/chleibig/following{/other_user}",
            "gists_url": "https://api.github.com/users/chleibig/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chleibig/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chleibig/subscriptions",
            "organizations_url": "https://api.github.com/users/chleibig/orgs",
            "repos_url": "https://api.github.com/users/chleibig/repos",
            "events_url": "https://api.github.com/users/chleibig/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chleibig/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-09-13T15:24:58Z",
          "updated_at": "2017-09-13T15:24:58Z",
          "author_association": "NONE",
          "body": "What I could also imagine to be useful is to have a kwarg called `embedding_data` instead of `validation_data_size`. This would be in line with `embedding_metadata` and allow to feed any data for embedding, be it the validation data, a subset thereof or something else. Furthermore, I currently don't see an issue with `steps`.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/329203735/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/329301977",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-329301977",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 329301977,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTMwMTk3Nw==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-09-13T21:27:05Z",
          "updated_at": "2017-09-13T21:27:05Z",
          "author_association": "COLLABORATOR",
          "body": "Thanks for the feedback @chleibig ! Additionally, is there a way to remove the argument `validation_data_size`? It seems redundant, and I don't think it is a good user experience to have to specify it.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/329301977/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/329470847",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-329470847",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 329470847,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTQ3MDg0Nw==",
          "user": {
            "login": "dschwertfeger",
            "id": 1120378,
            "node_id": "MDQ6VXNlcjExMjAzNzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1120378?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dschwertfeger",
            "html_url": "https://github.com/dschwertfeger",
            "followers_url": "https://api.github.com/users/dschwertfeger/followers",
            "following_url": "https://api.github.com/users/dschwertfeger/following{/other_user}",
            "gists_url": "https://api.github.com/users/dschwertfeger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dschwertfeger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dschwertfeger/subscriptions",
            "organizations_url": "https://api.github.com/users/dschwertfeger/orgs",
            "repos_url": "https://api.github.com/users/dschwertfeger/repos",
            "events_url": "https://api.github.com/users/dschwertfeger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dschwertfeger/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-09-14T12:47:07Z",
          "updated_at": "2017-09-14T12:59:01Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @fchollet , \r\n\r\nI agree it's redundant but we need to know the number of samples of the data to be embedded when we instantiate the `TensorBoard` callback. (Well, in `set_model` to be precise.)\r\n\r\nIf we explicitly pass the `embedding_data` to the callback as @chleibig suggested, we can get rid of the `validation_data_size`. \r\n\r\nWould that work for you?\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/329470847/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/329473186",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-329473186",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 329473186,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTQ3MzE4Ng==",
          "user": {
            "login": "dschwertfeger",
            "id": 1120378,
            "node_id": "MDQ6VXNlcjExMjAzNzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1120378?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dschwertfeger",
            "html_url": "https://github.com/dschwertfeger",
            "followers_url": "https://api.github.com/users/dschwertfeger/followers",
            "following_url": "https://api.github.com/users/dschwertfeger/following{/other_user}",
            "gists_url": "https://api.github.com/users/dschwertfeger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dschwertfeger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dschwertfeger/subscriptions",
            "organizations_url": "https://api.github.com/users/dschwertfeger/orgs",
            "repos_url": "https://api.github.com/users/dschwertfeger/repos",
            "events_url": "https://api.github.com/users/dschwertfeger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dschwertfeger/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-09-14T12:56:23Z",
          "updated_at": "2017-09-14T12:56:23Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for your comments @chleibig . I'm not sure about this statement\r\n\r\n> within `on_epoch_end` the learning phase is not set, but needed to work with e.g. dropout layers\r\n\r\nCould you please elaborate?\r\n\r\nAlso, I think it's totally fine to compute the embeddings for all data at once. What's your concern with this?\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/329473186/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/329514809",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-329514809",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 329514809,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyOTUxNDgwOQ==",
          "user": {
            "login": "chleibig",
            "id": 4180682,
            "node_id": "MDQ6VXNlcjQxODA2ODI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4180682?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chleibig",
            "html_url": "https://github.com/chleibig",
            "followers_url": "https://api.github.com/users/chleibig/followers",
            "following_url": "https://api.github.com/users/chleibig/following{/other_user}",
            "gists_url": "https://api.github.com/users/chleibig/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chleibig/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chleibig/subscriptions",
            "organizations_url": "https://api.github.com/users/chleibig/orgs",
            "repos_url": "https://api.github.com/users/chleibig/repos",
            "events_url": "https://api.github.com/users/chleibig/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chleibig/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-09-14T15:15:59Z",
          "updated_at": "2017-09-14T15:15:59Z",
          "author_association": "NONE",
          "body": "Hi @dschwertfeger,\r\nsure.\r\n* Regarding the learning phase: keras uses a boolean flag (you can get the `placeholder` via `K.learning_phase()`) that indicates whether a model is used in training (e.g. dropout turned on, learning phase = 1) or testing/evaluation (e.g. dropout turned off, learning_phase = 0) phase. I don't know where this is documented, but if you go through the code base, you will find further ways how to use it, e.g. in analogy to your contribution in `on_epoch_end` within the `if self.validation_data and self.histogram_freq` clause. For your case you could as well do something like:\r\n    ```python\r\n    if self.model.uses_learning_phase:\r\n        feed_dict[K.learning_phase()] = 0\r\n   ```\r\n* Regarding the iteration over batches: Imagine the following scenario: you want to embed a few thousand data points let's say in the last hidden layer of a deep vision model. While the `embedding` of shape (n_samples, n_hidden) may still fit in memory, intermediate representations of higher dimensionality may not. Hence performing the forward passes in blocks of `self.batch_size` might be necessary. Underneath the above mentioned clause `if self.validation_data and self.histogram_freq` the data is processed as well in batches.\r\n\r\nI hope this helps.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/329514809/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/334857501",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-334857501",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 334857501,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDg1NzUwMQ==",
          "user": {
            "login": "mhajiaghayi",
            "id": 28695943,
            "node_id": "MDQ6VXNlcjI4Njk1OTQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/28695943?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mhajiaghayi",
            "html_url": "https://github.com/mhajiaghayi",
            "followers_url": "https://api.github.com/users/mhajiaghayi/followers",
            "following_url": "https://api.github.com/users/mhajiaghayi/following{/other_user}",
            "gists_url": "https://api.github.com/users/mhajiaghayi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mhajiaghayi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mhajiaghayi/subscriptions",
            "organizations_url": "https://api.github.com/users/mhajiaghayi/orgs",
            "repos_url": "https://api.github.com/users/mhajiaghayi/repos",
            "events_url": "https://api.github.com/users/mhajiaghayi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mhajiaghayi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-10-06T20:08:50Z",
          "updated_at": "2017-10-06T20:08:50Z",
          "author_association": "NONE",
          "body": "I'm trying to visualize the embedding layer output for the imdb sentiments in Keras. But I don't get the expected result. Specifically, I don't see the expected relation among words, e.g. word kingdom is not near king or queen. can this issue be related to what you have mentioned above? I get a good accuracy for the model. so I suppose the embedding should be fine too. I have attached the code here. \r\n\r\n```python\r\nfrom __future__ import print_function\r\nfrom keras.preprocessing import sequence\r\nfrom keras.models import Sequential\r\nfrom keras.layers import Dense, Embedding\r\nfrom keras.layers import LSTM\r\nfrom keras.datasets import imdb\r\nfrom keras.callbacks import TensorBoard\r\nfrom keras.callbacks import ModelCheckpoint\r\nimport pdb,shutil\r\nimport tensorflow as tf \r\nmax_features = 1000\r\nmaxlen = 80  # cut texts after this number of words (among top max_features most common words)\r\nbatch_size = 32\r\n\r\n\r\ndef saveActionMetaData(_map, fileName,max_features):\r\n    row = 0\r\n    with open(fileName, 'w') as f:\r\n        f.write(\"Word\\tFrequency\\n\")\r\n        for action, _id in _map.items():\r\n            try:\r\n                if _id <= max_features:\r\n                    if row < max_features:\r\n                        f.write(action + \"\\t\" +str(_id) + \"\\n\")\r\n                    else: \r\n                        f.write(action + \"\\t\" +str(_id))\r\n                    row = row + 1 \r\n            except:\r\n                print(\"something is wrong\")\r\n                print(action)\r\n                continue \r\n    return\r\n\r\nwith tf.device('cpu:0'): \r\n    ROOT_DIR = 'tfboard'\r\n    shutil.rmtree(ROOT_DIR, ignore_errors=True)\r\n    print('Loading data...')\r\n    (x_train, y_train), (x_test, y_test) = imdb.load_data(num_words=max_features)\r\n    _map = imdb.get_word_index()\r\n    saveActionMetaData(_map, 'metadata.tsv',max_features)\r\n    print(len(x_train), 'train sequences')\r\n    print(len(x_test), 'test sequences')\r\n    print('Pad sequences (samples x time)')\r\n    x_train = sequence.pad_sequences(x_train, maxlen=maxlen)\r\n    x_test = sequence.pad_sequences(x_test, maxlen=maxlen)\r\n    print('x_train shape:', x_train.shape)\r\n    print('x_test shape:', x_test.shape)\r\n\r\n    print('Build model...')\r\n    model = Sequential()\r\n    model.add(Embedding(max_features, 40, name = 'embedding'))\r\n    model.add(LSTM(40, dropout=0.2, recurrent_dropout=0.2))\r\n    model.add(Dense(1, activation='sigmoid'))\r\n\r\n    # try using different optimizers and different optimizer configs\r\n    model.compile(loss='binary_crossentropy',\r\n                  optimizer='adam',\r\n                  metrics=['accuracy'])\r\n\r\n    print('Train...')\r\n\r\n\r\n    embeddingsMetadata = {'embedding': 'metadata.tsv'}\r\n    tbCallback = TensorBoard( log_dir= ROOT_DIR,\r\n                            histogram_freq= 10, \r\n                            write_graph = False,\r\n                            embeddings_freq=10, \r\n                            batch_size=32,\r\n                            embeddings_layer_names = ['embedding'],\r\n                            embeddings_metadata= embeddingsMetadata\r\n                             )\r\n    model.fit(x_train, y_train,\r\n              batch_size=batch_size,\r\n              epochs=40,\r\n              validation_data=(x_test, y_test),\r\n              callbacks = [tbCallback],\r\n              verbose = 1 )\r\n    score, acc = model.evaluate(x_test, y_test,\r\n                                batch_size=batch_size)\r\n    print('Test score:', score)\r\n    print('Test accuracy:', acc)\r\n```\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/334857501/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/334943409",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-334943409",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 334943409,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDk0MzQwOQ==",
          "user": {
            "login": "dschwertfeger",
            "id": 1120378,
            "node_id": "MDQ6VXNlcjExMjAzNzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1120378?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dschwertfeger",
            "html_url": "https://github.com/dschwertfeger",
            "followers_url": "https://api.github.com/users/dschwertfeger/followers",
            "following_url": "https://api.github.com/users/dschwertfeger/following{/other_user}",
            "gists_url": "https://api.github.com/users/dschwertfeger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dschwertfeger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dschwertfeger/subscriptions",
            "organizations_url": "https://api.github.com/users/dschwertfeger/orgs",
            "repos_url": "https://api.github.com/users/dschwertfeger/repos",
            "events_url": "https://api.github.com/users/dschwertfeger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dschwertfeger/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-10-07T15:29:38Z",
          "updated_at": "2017-10-07T15:29:38Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for the details @chleibig and sorry for the delay. I've been caught up in another project but I'll address your feedback in the coming days.\r\n\r\n@mhajiaghayi ,  I can't say for sure but it's very likely related to this issue. If the number of visualized points does not correspond to the number of words you're trying to visualize (but rather to the number of weights in the embedding layer) it's almost certainly it. Until this is fixed here you could use my branch and see if you get the expected results (it's based on v2.7)\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/334943409/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362487590",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-362487590",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 362487590,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjQ4NzU5MA==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-02T05:05:08Z",
          "updated_at": "2018-02-02T05:05:08Z",
          "author_association": "CONTRIBUTOR",
          "body": "I finally read through this in detail, and it sounds fantastic! This is exactly one of the things I could benefit from right now, but I do agree a detailed example would be advisable. \r\n\r\n1. Any chance this can take some next steps towards merging?\r\n2. Might it be able to extract some data directly from the internal model by default?\r\n\r\nPotentially conflicting (but also very useful) PR of note: https://github.com/keras-team/keras/pull/7617",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362487590/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362986457",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-362986457",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 362986457,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2Mjk4NjQ1Nw==",
          "user": {
            "login": "dschwertfeger",
            "id": 1120378,
            "node_id": "MDQ6VXNlcjExMjAzNzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1120378?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dschwertfeger",
            "html_url": "https://github.com/dschwertfeger",
            "followers_url": "https://api.github.com/users/dschwertfeger/followers",
            "following_url": "https://api.github.com/users/dschwertfeger/following{/other_user}",
            "gists_url": "https://api.github.com/users/dschwertfeger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dschwertfeger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dschwertfeger/subscriptions",
            "organizations_url": "https://api.github.com/users/dschwertfeger/orgs",
            "repos_url": "https://api.github.com/users/dschwertfeger/repos",
            "events_url": "https://api.github.com/users/dschwertfeger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dschwertfeger/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-05T05:36:09Z",
          "updated_at": "2018-04-06T13:15:46Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ahundt, I'd like to see this merged, too. From what I can remember, these are the open issues raised on this PR.\r\n\r\n- [x] Fix data processing in batches \r\n  - I could make some time to look into this again.\r\n- [x] Handle multiple inputs\r\n  - Still not sure what exactly the embedding is supposed to visualize if multiple inputs are given.\r\n  - I'd vote for tackling this in a separate PR because it might need more discussion/clarification.\r\n\r\nNot quite sure what you mean by \"a detailed example would be advisable\" and your second point. Can you elaborate?\r\n\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362986457/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362997335",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-362997335",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 362997335,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2Mjk5NzMzNQ==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-05T06:58:32Z",
          "updated_at": "2018-02-05T06:59:10Z",
          "author_association": "CONTRIBUTOR",
          "body": " > Fix data processing in batches I could make some time to look into this again.\r\n\r\n#7617 does some scalar batch updates, don't know if it is what you're looking for.\r\n\r\n> Still not sure what exactly the embedding is supposed to visualize if multiple inputs are given. I'd vote for tackling this in a separate PR because it might need more discussion/clarification.\r\n\r\nThis [blog post](https://www.google.com/search?q=embeddings+tensorboard&client=firefox-b-1-ab&ei=xv93WtrzL4ud5wKA7J-QCA&start=10&sa=N&biw=1272&bih=886) seems like it might provide example code and a numpy [save_embeddings()](https://github.com/nlml/np-to-tf-embeddings-visualiser/blob/master/save_embeddings.py) which can work for multiple inputs.\r\n\r\n\r\n> Not quite sure what you mean by \"a detailed example would be advisable\" and your second point. Can you elaborate?\r\n\r\nSure, I meant to create a file called something like `keras/examples/cifar10_embeddings.py` which demonstrates how to use the API.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362997335/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/363542356",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-363542356",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 363542356,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MzU0MjM1Ng==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-06T19:45:39Z",
          "updated_at": "2018-02-06T19:45:39Z",
          "author_association": "COLLABORATOR",
          "body": "@ahundt @chleibig I will wait for your approval to merge this PR. Thanks for the reviews.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/363542356/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/363696212",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-363696212",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 363696212,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MzY5NjIxMg==",
          "user": {
            "login": "chleibig",
            "id": 4180682,
            "node_id": "MDQ6VXNlcjQxODA2ODI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4180682?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chleibig",
            "html_url": "https://github.com/chleibig",
            "followers_url": "https://api.github.com/users/chleibig/followers",
            "following_url": "https://api.github.com/users/chleibig/following{/other_user}",
            "gists_url": "https://api.github.com/users/chleibig/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chleibig/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chleibig/subscriptions",
            "organizations_url": "https://api.github.com/users/chleibig/orgs",
            "repos_url": "https://api.github.com/users/chleibig/repos",
            "events_url": "https://api.github.com/users/chleibig/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chleibig/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-07T08:40:22Z",
          "updated_at": "2018-02-07T08:40:22Z",
          "author_association": "NONE",
          "body": "Will have a look at the weekend.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/363696212/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/363703139",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-363703139",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 363703139,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MzcwMzEzOQ==",
          "user": {
            "login": "chleibig",
            "id": 4180682,
            "node_id": "MDQ6VXNlcjQxODA2ODI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4180682?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chleibig",
            "html_url": "https://github.com/chleibig",
            "followers_url": "https://api.github.com/users/chleibig/followers",
            "following_url": "https://api.github.com/users/chleibig/following{/other_user}",
            "gists_url": "https://api.github.com/users/chleibig/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chleibig/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chleibig/subscriptions",
            "organizations_url": "https://api.github.com/users/chleibig/orgs",
            "repos_url": "https://api.github.com/users/chleibig/repos",
            "events_url": "https://api.github.com/users/chleibig/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chleibig/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-07T09:07:10Z",
          "updated_at": "2018-02-07T09:07:10Z",
          "author_association": "NONE",
          "body": "@dschwertfeger: as the data processing in batches is still open, I have an idea that could maybe work and might even simplify the code and interface: isn't it possible to extract the embeddings (i.e. the hidden layer activations) and create an `embeddings` tensor from the hidden layer activations stored in a numpy array or alike in the very end only?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/363703139/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/364149614",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-364149614",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 364149614,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDE0OTYxNA==",
          "user": {
            "login": "dschwertfeger",
            "id": 1120378,
            "node_id": "MDQ6VXNlcjExMjAzNzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1120378?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dschwertfeger",
            "html_url": "https://github.com/dschwertfeger",
            "followers_url": "https://api.github.com/users/dschwertfeger/followers",
            "following_url": "https://api.github.com/users/dschwertfeger/following{/other_user}",
            "gists_url": "https://api.github.com/users/dschwertfeger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dschwertfeger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dschwertfeger/subscriptions",
            "organizations_url": "https://api.github.com/users/dschwertfeger/orgs",
            "repos_url": "https://api.github.com/users/dschwertfeger/repos",
            "events_url": "https://api.github.com/users/dschwertfeger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dschwertfeger/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-08T15:36:18Z",
          "updated_at": "2018-02-08T15:36:18Z",
          "author_association": "CONTRIBUTOR",
          "body": "Depends what you mean by \"the very end\". We can compute the embeddings from a fully trained model. Is that what you mean?\r\n\r\nAll we need to create the `embeddings` tensor is:\r\n\r\n- data to embed and\r\n- the layer name (or names) at which to embed the data.\r\n\r\nCurious to hear your idea.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/364149614/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/364839260",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-364839260",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 364839260,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDgzOTI2MA==",
          "user": {
            "login": "chleibig",
            "id": 4180682,
            "node_id": "MDQ6VXNlcjQxODA2ODI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4180682?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chleibig",
            "html_url": "https://github.com/chleibig",
            "followers_url": "https://api.github.com/users/chleibig/followers",
            "following_url": "https://api.github.com/users/chleibig/following{/other_user}",
            "gists_url": "https://api.github.com/users/chleibig/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chleibig/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chleibig/subscriptions",
            "organizations_url": "https://api.github.com/users/chleibig/orgs",
            "repos_url": "https://api.github.com/users/chleibig/repos",
            "events_url": "https://api.github.com/users/chleibig/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chleibig/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-12T06:41:23Z",
          "updated_at": "2018-02-12T06:41:23Z",
          "author_association": "NONE",
          "body": "For clarification I had the following in mind: underneath `set_model` you currently create `embedding_vars` and `embeddings`, with the latter containing the assign statements that would have to be changed such that you only assign the batch of hidden layer activations to the respective tf.slice into `embedding_vars`. Alternatively, you could get rid of `embeddings` and use the batches (in numpy array format) returned from a `sess.run(...)` in `on_epoch_end` to build up the overall (n_samples, n_hidden) array for each embedding layer and then assign to the `embedding_vars` in one shot with e.g. `K.batch_set_value`. Either of the above two scenarios you have to decide for to get the batch issue working.\r\n\r\nThe total number of samples is however in both scenarios needed to construct the `embedding_vars`, because this in turn has to be passed to the `tf.train.Saver...` and to build up the `ProjectorConfig`. The first callback method(s) at which the `validation_data` and therewith its size is available to the `Callback` is the ones that are called at each epoch. Because it's most likely not desirable to create the `tf.train.Saver...` and the `ProjectorConfig` over and over again, I don't see a way to simplify the interface.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/364839260/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/367688811",
          "html_url": "https://github.com/keras-team/keras/pull/7766#issuecomment-367688811",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7766",
          "id": 367688811,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2NzY4ODgxMQ==",
          "user": {
            "login": "dschwertfeger",
            "id": 1120378,
            "node_id": "MDQ6VXNlcjExMjAzNzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1120378?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dschwertfeger",
            "html_url": "https://github.com/dschwertfeger",
            "followers_url": "https://api.github.com/users/dschwertfeger/followers",
            "following_url": "https://api.github.com/users/dschwertfeger/following{/other_user}",
            "gists_url": "https://api.github.com/users/dschwertfeger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dschwertfeger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dschwertfeger/subscriptions",
            "organizations_url": "https://api.github.com/users/dschwertfeger/orgs",
            "repos_url": "https://api.github.com/users/dschwertfeger/repos",
            "events_url": "https://api.github.com/users/dschwertfeger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dschwertfeger/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-22T13:59:31Z",
          "updated_at": "2018-02-23T15:30:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "I finally got around to looking into this again. I got closer to solving the issue of processing in batches. As you described in your comment from Oct 13, 2017, @chleibig, feeding the `batch_id` and assigning slices `tf.assign(embedding[batch_id:batch_id + self.batch_size], embedding_input)` works fine **if the `embedding_input` is also reshaped accordingly**. \r\n\r\n```python\r\nembedding_input = tf.reshape(embedding_input, (self.batch_size, embedding_size))\r\n```\r\n\r\nThat presents another challenge because the last batch might (and very often is) smaller than the `batch_size`, in which case the reshape operation complains.\r\n\r\nAny ideas or pointers how to deal with this issue?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/367688811/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/3338",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/3338/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/3338/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/3338/events",
      "html_url": "https://github.com/keras-team/keras/issues/3338",
      "id": 168048228,
      "node_id": "MDU6SXNzdWUxNjgwNDgyMjg=",
      "number": 3338,
      "title": "Extending ImageDataGenerator",
      "user": {
        "login": "tetmin",
        "id": 5561566,
        "node_id": "MDQ6VXNlcjU1NjE1NjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5561566?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tetmin",
        "html_url": "https://github.com/tetmin",
        "followers_url": "https://api.github.com/users/tetmin/followers",
        "following_url": "https://api.github.com/users/tetmin/following{/other_user}",
        "gists_url": "https://api.github.com/users/tetmin/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/tetmin/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/tetmin/subscriptions",
        "organizations_url": "https://api.github.com/users/tetmin/orgs",
        "repos_url": "https://api.github.com/users/tetmin/repos",
        "events_url": "https://api.github.com/users/tetmin/events{/privacy}",
        "received_events_url": "https://api.github.com/users/tetmin/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 83,
      "created_at": "2016-07-28T09:11:50Z",
      "updated_at": "2020-07-08T01:32:57Z",
      "closed_at": "2018-11-02T21:00:08Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "Is there an easy way to write generator extensions for Keras? I'd like to use some of the ImageDataGenerator preprocessing steps but also add some of my own such as randomly occluding areas of the image, adding noise etc. If not I can add some of these things to the ImageDataGenerator class in Keras, is that something that would be useful?\n\nAlso can I just double check that the ImageDataGenerator does indeed generate batches of examples in a non-locking way, thereby not causing any GPU training bottlenecks?\n",
      "closed_by": {
        "login": "wt-huang",
        "id": 42785337,
        "node_id": "MDQ6VXNlcjQyNzg1MzM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/42785337?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/wt-huang",
        "html_url": "https://github.com/wt-huang",
        "followers_url": "https://api.github.com/users/wt-huang/followers",
        "following_url": "https://api.github.com/users/wt-huang/following{/other_user}",
        "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions",
        "organizations_url": "https://api.github.com/users/wt-huang/orgs",
        "repos_url": "https://api.github.com/users/wt-huang/repos",
        "events_url": "https://api.github.com/users/wt-huang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/wt-huang/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/3338/reactions",
        "total_count": 13,
        "+1": 13,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/3338/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/236628435",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-236628435",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 236628435,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzNjYyODQzNQ==",
          "user": {
            "login": "oeway",
            "id": 478667,
            "node_id": "MDQ6VXNlcjQ3ODY2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/478667?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oeway",
            "html_url": "https://github.com/oeway",
            "followers_url": "https://api.github.com/users/oeway/followers",
            "following_url": "https://api.github.com/users/oeway/following{/other_user}",
            "gists_url": "https://api.github.com/users/oeway/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oeway/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oeway/subscriptions",
            "organizations_url": "https://api.github.com/users/oeway/orgs",
            "repos_url": "https://api.github.com/users/oeway/repos",
            "events_url": "https://api.github.com/users/oeway/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oeway/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-01T16:14:07Z",
          "updated_at": "2016-08-01T16:34:23Z",
          "author_association": "CONTRIBUTOR",
          "body": "I would be interested if someone can make the ImageDataGenerator extendable.\n\nPlus, another feature I would like to have is to separate the random variables generator part which used by ImageDataGenerator, thus the variables can be saved somewhere and make the process reproducible, you don't need to actually store the transformed images, just store the random variables, as a dictionary maybe. These random variables can be feed to into a  ImageDataGenerator to produce the results.\n\nThis going to be super useful in case of dense prediction(such as segmentation), in which we need to do data augmentation on both input image and output image, we can make two ImageDataGenerator, and use the separated random generator to produce the random variables, and then feed into two ImageDataGenerator, so the spatial transform such as rotation are synchronized on both input and output.\n\nI would begin to work on this, please let me know if anyone else have ideas regarding this.\n\nEDIT: perhaps you would think there is a `seed` option in `flow` and `flow_from_directory`, yes, indeed, you can reproduce the image by controlling the seed, but the problem comes if you want to apply different configuration to two ImageDataGenerator, for example, add noise on the input image but not on the output image, in that case, even you use the same seed, the spatial transformation could be different. In that sense, perhaps, we should use different seed for different type of data augmentation function, what do you think?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/236628435/reactions",
            "total_count": 16,
            "+1": 16,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/237252884",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-237252884",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 237252884,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzI1Mjg4NA==",
          "user": {
            "login": "oeway",
            "id": 478667,
            "node_id": "MDQ6VXNlcjQ3ODY2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/478667?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oeway",
            "html_url": "https://github.com/oeway",
            "followers_url": "https://api.github.com/users/oeway/followers",
            "following_url": "https://api.github.com/users/oeway/following{/other_user}",
            "gists_url": "https://api.github.com/users/oeway/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oeway/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oeway/subscriptions",
            "organizations_url": "https://api.github.com/users/oeway/orgs",
            "repos_url": "https://api.github.com/users/oeway/repos",
            "events_url": "https://api.github.com/users/oeway/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oeway/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-03T14:28:55Z",
          "updated_at": "2016-08-03T14:28:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "I am working on improve ImageDataGenerator but would be great anyone interested could provide suggestions and feedbacks.\nThe main idea to make it more flexible, and support dense prediction dataset. Here are a bunch of ideas I would like to discuss:\n- provide a customizable pipeline( a list of functions) to let user add/change their own preprocessing. There will be a `pipeline` contains `random_transform` and `standardize` by default, and user can insert any function in any position of the pipeline. ( For example, #2738 can be resolved, and people can use opencv scikit-image or other libraries)\n- reproducible random spatial transform by using a separate random seed from the keyword, so dense prediction data has image-in and image-out can use two different ImageDataGenerator which have the same random spatial transform. (related to #3059)\n- provide featurewise_standardize_axis and samplewise_standardize_axis for more flexible standardization, for example, you can pass (0, 2, 3) to do a channel-wise normalization(related to issue #2559 and PR #2879, also mentioned in #2446).\n\nFor `flow_from_directory()`:\n- remove the limit for channel number and color mode, by using PIL, we can just provide the PIL image mode as a parameter which gives more flexibility on the image format, channel data type and channel number. Image with ARGB mode png file, or F mode(float) tiff which is widely used in many field should be naturally supported. (also related to #3140)\n- provide an optional image file reader keyword to replace the underlying PIL image reader (for flow_from_directory). With a file reader function which takes a path as input and return a numpy array, we can provide much more flexible on the image format. We can read hdf5, npz, pickle file, or for example, you can use a library named openslide to read histopathological images. (also related to #1819 for reading time distributed data)\n\nFor `fit()`:\n- fit is required for feature-wise standardization and ZCA , and it only takes an array as parameter, there is no fit for directory. For now, we need to manually read a subset of the image to do this fit for a directory. One idea is we can change `fit()` to accept the generator itself(`flow_from_directory`), of course, standardization should be disabled during fit.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/237252884/reactions",
            "total_count": 25,
            "+1": 25,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/238440011",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-238440011",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 238440011,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzODQ0MDAxMQ==",
          "user": {
            "login": "pengpaiSH",
            "id": 3724085,
            "node_id": "MDQ6VXNlcjM3MjQwODU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3724085?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pengpaiSH",
            "html_url": "https://github.com/pengpaiSH",
            "followers_url": "https://api.github.com/users/pengpaiSH/followers",
            "following_url": "https://api.github.com/users/pengpaiSH/following{/other_user}",
            "gists_url": "https://api.github.com/users/pengpaiSH/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pengpaiSH/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pengpaiSH/subscriptions",
            "organizations_url": "https://api.github.com/users/pengpaiSH/orgs",
            "repos_url": "https://api.github.com/users/pengpaiSH/repos",
            "events_url": "https://api.github.com/users/pengpaiSH/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pengpaiSH/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-09T02:58:04Z",
          "updated_at": "2016-08-09T02:58:04Z",
          "author_association": "NONE",
          "body": "@oeway When it comes to visual semantic segmentation, I find out that extending ImageDataGenerator is really necessary! Current ImageDataGenerator will only conduct transformations on `X` instead of `Y`. However, in image segmentation scenarios, input image X and output mask Y should be transformed simultaneously.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/238440011/reactions",
            "total_count": 9,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 9,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/238485505",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-238485505",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 238485505,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzODQ4NTUwNQ==",
          "user": {
            "login": "oeway",
            "id": 478667,
            "node_id": "MDQ6VXNlcjQ3ODY2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/478667?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oeway",
            "html_url": "https://github.com/oeway",
            "followers_url": "https://api.github.com/users/oeway/followers",
            "following_url": "https://api.github.com/users/oeway/following{/other_user}",
            "gists_url": "https://api.github.com/users/oeway/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oeway/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oeway/subscriptions",
            "organizations_url": "https://api.github.com/users/oeway/orgs",
            "repos_url": "https://api.github.com/users/oeway/repos",
            "events_url": "https://api.github.com/users/oeway/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oeway/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-09T08:19:16Z",
          "updated_at": "2016-08-09T19:01:40Z",
          "author_association": "CONTRIBUTOR",
          "body": "@pengpaiSH I have a working version right now, you are welcome to try it out. https://github.com/oeway/keras/tree/extendImageDataGenerator  (branch: extendImageDataGenerator)\n\nFor now, you can customize the pipeline and synchronize two ImageDataGenerator by a `__add__`(+) operator. You can see more extensions in the following example:\n\n``` python\nfrom keras.preprocessing.image import ImageDataGenerator,standardize,random_transform\n# input generator with standardization on\ndatagenX = ImageDataGenerator(\n    featurewise_center=True,\n    featurewise_std_normalization=True,\n    featurewise_standardize_axis=(0, 2, 3),\n    rotation_range=180,\n    width_shift_range=0.2,\n    height_shift_range=0.2,\n    horizontal_flip=True,\n    fill_mode='reflect',\n    seed=0,\n    verbose=1)\n\n# output generator with standardization off\ndatagenY = ImageDataGenerator(\n    featurewise_center=False,\n    featurewise_std_normalization=False,\n    rotation_range=180,\n    width_shift_range=0.2,\n    height_shift_range=0.2,\n    horizontal_flip=True,\n    fill_mode='reflect',\n    seed=0)\n\ndef center_crop(x, center_crop_size, **kwargs):\n    centerw, centerh = x.shape[1]//2, x.shape[2]//2\n    halfw, halfh = center_crop_size[0]//2, center_crop_size[1]//2\n    return x[:, centerw-halfw:centerw+halfw,centerh-halfh:centerh+halfh]\n\ndef random_crop(x, random_crop_size, sync_seed=None, **kwargs):\n    np.random.seed(sync_seed)\n    w, h = x.shape[1], x.shape[2]\n    rangew = (w - random_crop_size[0]) // 2\n    rangeh = (h - random_crop_size[1]) // 2\n    offsetw = 0 if rangew == 0 else np.random.randint(rangew)\n    offseth = 0 if rangeh == 0 else np.random.randint(rangeh)\n    return x[:, offsetw:offsetw+random_crop_size[0], offseth:offseth+random_crop_size[1]]\n\ndatagenX.config['random_crop_size'] = (800, 800)\ndatagenY.config['random_crop_size'] = (800, 800)\ndatagenX.config['center_crop_size'] = (512, 512)\ndatagenY.config['center_crop_size'] = (360, 360)\n\n# customize the pipeline\ndatagenX.set_pipeline([random_crop, random_transform, standardize, center_crop])\ndatagenY.set_pipeline([random_crop, random_transform, center_crop])\n\n# flow from directory is extended to support more format and also you can even use your own reader function\n# here is an example of reading image data saved in csv file\n# datagenX.flow_from_directory(csvFolder, image_reader=csvReaderGenerator, read_formats={'csv'}, reader_config={'target_size':(572,572),'resolution':20, 'crange':(0,100)}, class_mode=None, batch_size=1)\n\ndgdx= datagenX.flow_from_directory(inputDir, class_mode=None, read_formats={'png'}, batch_size=2)\ndgdy= datagenY.flow_from_directory(outputDir,  class_mode=None, read_formats={'png'}, batch_size=2)\n\n# you can now fit a generator as well\ndatagenX.fit_generator(dgdx, nb_iter=100)\n\n# here we sychronize two generator and combine it into one\ntrain_generator = dgdx+dgdy\n\nmodel.fit_generator(\n        train_generator,\n        samples_per_epoch=2000,\n        nb_epoch=50,\n        validation_data=validation_generator,\n        nb_val_samples=800)\n```\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/238485505/reactions",
            "total_count": 66,
            "+1": 62,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 4,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/238492225",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-238492225",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 238492225,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzODQ5MjIyNQ==",
          "user": {
            "login": "pengpaiSH",
            "id": 3724085,
            "node_id": "MDQ6VXNlcjM3MjQwODU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3724085?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pengpaiSH",
            "html_url": "https://github.com/pengpaiSH",
            "followers_url": "https://api.github.com/users/pengpaiSH/followers",
            "following_url": "https://api.github.com/users/pengpaiSH/following{/other_user}",
            "gists_url": "https://api.github.com/users/pengpaiSH/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pengpaiSH/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pengpaiSH/subscriptions",
            "organizations_url": "https://api.github.com/users/pengpaiSH/orgs",
            "repos_url": "https://api.github.com/users/pengpaiSH/repos",
            "events_url": "https://api.github.com/users/pengpaiSH/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pengpaiSH/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-09T08:49:20Z",
          "updated_at": "2016-08-09T08:49:20Z",
          "author_association": "NONE",
          "body": "@oeway Thank you for your quick response and your enhancement for ImageGenerator which I think is really really necessary.  Below are my confusions:\n1. As far as I understand, `center_crop` and `random_crop` is our customized augmented transformation, right? \n2. In the defined pipeline, `datagenX.set_pipeline([random_crop, random_transform, standardize, center_crop])`, where does `random_transform` and `standardize` come from? They are not even defined such as `center_crop`.\n3. I don't understand why `datagenX` should be `fit_generator()`? I think only model should have fit_generator()\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/238492225/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/238608335",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-238608335",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 238608335,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzODYwODMzNQ==",
          "user": {
            "login": "oeway",
            "id": 478667,
            "node_id": "MDQ6VXNlcjQ3ODY2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/478667?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oeway",
            "html_url": "https://github.com/oeway",
            "followers_url": "https://api.github.com/users/oeway/followers",
            "following_url": "https://api.github.com/users/oeway/following{/other_user}",
            "gists_url": "https://api.github.com/users/oeway/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oeway/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oeway/subscriptions",
            "organizations_url": "https://api.github.com/users/oeway/orgs",
            "repos_url": "https://api.github.com/users/oeway/repos",
            "events_url": "https://api.github.com/users/oeway/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oeway/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-09T16:25:34Z",
          "updated_at": "2016-08-09T19:01:10Z",
          "author_association": "CONTRIBUTOR",
          "body": "Sorry for the confusion, I will write documents about it when I have\ntime.\n\n1, yes, you just need to provide a function and put in the pipeline,\ncenter_crop is one example, it shows how you can define the function and\nhow to set arguments for your function.\n\n2, I forgot to put the import line, so random_transform and standardize are\nto predefined function which I split from the previous ImageDataGenerator,\nthey are from the same module as ImageDataGenerator. Just do:\n\nfrom keras.preprocessing.image import standardize,random_transform\n\n3, fit_generator and fit is for some augment function such as feature_wise\nstandardization which require a pre computed mean and std value. I added\nfit_generator for flow_from_directory(see my previous post for why we need\nthat), and I generalized the fit interface so that you can now add\ncustomized function which support pre-fit.\n\nI will document all the features if there are more people interested, and\nperhaps make a PR. In the meantime, welcome to try and provide feedback.\n\nOn Tue, Aug 9, 2016 at 10:49 Pai Peng notifications@github.com wrote:\n\n> @oeway https://github.com/oeway Thank you for your quick response and\n> your enhancement for ImageGenerator which I think is really really\n> necessary. Below are my confusions:\n> 1. As far as I understand, center_crop and random_crop is our\n>    customized augmented transformation, right?\n> 2. In the defined pipeline, datagenX.set_pipeline([random_crop,\n>    random_transform, standardize, center_crop]), where does\n>    random_transform and standardize come from? They are not even defined\n>    such as center_crop.\n> 3. I don't understand why datagenX should be fit_generator()? I think\n>    only model should have fit_generator()\n> \n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> https://github.com/fchollet/keras/issues/3338#issuecomment-238492225,\n> or mute the thread\n> https://github.com/notifications/unsubscribe-auth/AAdNy2ZFmGvxVU_i2jfVxSHOREIHs7dGks5qeD8ogaJpZM4JXAo4\n> .\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/238608335/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/238741769",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-238741769",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 238741769,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzODc0MTc2OQ==",
          "user": {
            "login": "pengpaiSH",
            "id": 3724085,
            "node_id": "MDQ6VXNlcjM3MjQwODU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3724085?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pengpaiSH",
            "html_url": "https://github.com/pengpaiSH",
            "followers_url": "https://api.github.com/users/pengpaiSH/followers",
            "following_url": "https://api.github.com/users/pengpaiSH/following{/other_user}",
            "gists_url": "https://api.github.com/users/pengpaiSH/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pengpaiSH/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pengpaiSH/subscriptions",
            "organizations_url": "https://api.github.com/users/pengpaiSH/orgs",
            "repos_url": "https://api.github.com/users/pengpaiSH/repos",
            "events_url": "https://api.github.com/users/pengpaiSH/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pengpaiSH/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-10T01:29:14Z",
          "updated_at": "2016-08-10T01:29:14Z",
          "author_association": "NONE",
          "body": "@oeway Thank you for your clarifying. Perfect! By the way, the transformations defined in the pipeline come in order or not ?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/238741769/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/238794678",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-238794678",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 238794678,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzODc5NDY3OA==",
          "user": {
            "login": "oeway",
            "id": 478667,
            "node_id": "MDQ6VXNlcjQ3ODY2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/478667?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oeway",
            "html_url": "https://github.com/oeway",
            "followers_url": "https://api.github.com/users/oeway/followers",
            "following_url": "https://api.github.com/users/oeway/following{/other_user}",
            "gists_url": "https://api.github.com/users/oeway/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oeway/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oeway/subscriptions",
            "organizations_url": "https://api.github.com/users/oeway/orgs",
            "repos_url": "https://api.github.com/users/oeway/repos",
            "events_url": "https://api.github.com/users/oeway/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oeway/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-10T08:05:17Z",
          "updated_at": "2016-08-10T08:05:17Z",
          "author_association": "CONTRIBUTOR",
          "body": "@pengpaiSH Welcome, of course, the idea is use an ordered list to defined the pipeline, and you can change the order of the pipeline.\nLet me know if you have any problem.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/238794678/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/254415106",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-254415106",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 254415106,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1NDQxNTEwNg==",
          "user": {
            "login": "landersson",
            "id": 2536670,
            "node_id": "MDQ6VXNlcjI1MzY2NzA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2536670?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/landersson",
            "html_url": "https://github.com/landersson",
            "followers_url": "https://api.github.com/users/landersson/followers",
            "following_url": "https://api.github.com/users/landersson/following{/other_user}",
            "gists_url": "https://api.github.com/users/landersson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/landersson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/landersson/subscriptions",
            "organizations_url": "https://api.github.com/users/landersson/orgs",
            "repos_url": "https://api.github.com/users/landersson/repos",
            "events_url": "https://api.github.com/users/landersson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/landersson/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-18T06:04:12Z",
          "updated_at": "2016-10-18T06:04:12Z",
          "author_association": "NONE",
          "body": "I also need random cropping, better scaling etc and was just about to start implementing something like this myself. Looks very useful. Will you try to get this merged into the main repo?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/254415106/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/262719906",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-262719906",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 262719906,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI2MjcxOTkwNg==",
          "user": {
            "login": "burgalon",
            "id": 47217,
            "node_id": "MDQ6VXNlcjQ3MjE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/47217?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/burgalon",
            "html_url": "https://github.com/burgalon",
            "followers_url": "https://api.github.com/users/burgalon/followers",
            "following_url": "https://api.github.com/users/burgalon/following{/other_user}",
            "gists_url": "https://api.github.com/users/burgalon/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/burgalon/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/burgalon/subscriptions",
            "organizations_url": "https://api.github.com/users/burgalon/orgs",
            "repos_url": "https://api.github.com/users/burgalon/repos",
            "events_url": "https://api.github.com/users/burgalon/events{/privacy}",
            "received_events_url": "https://api.github.com/users/burgalon/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-11-24T08:42:24Z",
          "updated_at": "2016-11-24T08:42:24Z",
          "author_association": "NONE",
          "body": "Any plans to merge @oeway branch? I'm specifically interested in the CSV reader option",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/262719906/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/265070475",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-265070475",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 265070475,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTA3MDQ3NQ==",
          "user": {
            "login": "ncullen93",
            "id": 13004360,
            "node_id": "MDQ6VXNlcjEzMDA0MzYw",
            "avatar_url": "https://avatars.githubusercontent.com/u/13004360?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ncullen93",
            "html_url": "https://github.com/ncullen93",
            "followers_url": "https://api.github.com/users/ncullen93/followers",
            "following_url": "https://api.github.com/users/ncullen93/following{/other_user}",
            "gists_url": "https://api.github.com/users/ncullen93/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ncullen93/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ncullen93/subscriptions",
            "organizations_url": "https://api.github.com/users/ncullen93/orgs",
            "repos_url": "https://api.github.com/users/ncullen93/repos",
            "events_url": "https://api.github.com/users/ncullen93/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ncullen93/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-12-06T06:18:35Z",
          "updated_at": "2016-12-06T06:21:42Z",
          "author_association": "NONE",
          "body": "@burgalon It's very straight-forward .. like maybe 10 lines of code.. to extend the data generator to read csv.. Still agree it should be merged but in case you dont want to wait :) . I attached some very unpolished code which works perfectly for me (see 'flow_np_from_directory' function and 'NumpyDirectoryIterator' class specifically) to read in .npy files in the same directory structure as the image version, e.g.:\r\n\r\n\r\n- dir/\r\n         -class1/\r\n                     ...  file1.npy\r\n                     ... file2.npy\r\n          -class2/\r\n                     ...   file3.npy\r\n\r\n\r\n\r\n[image.zip](https://github.com/fchollet/keras/files/633095/image.zip)\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/265070475/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/265074532",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-265074532",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 265074532,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI2NTA3NDUzMg==",
          "user": {
            "login": "burgalon",
            "id": 47217,
            "node_id": "MDQ6VXNlcjQ3MjE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/47217?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/burgalon",
            "html_url": "https://github.com/burgalon",
            "followers_url": "https://api.github.com/users/burgalon/followers",
            "following_url": "https://api.github.com/users/burgalon/following{/other_user}",
            "gists_url": "https://api.github.com/users/burgalon/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/burgalon/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/burgalon/subscriptions",
            "organizations_url": "https://api.github.com/users/burgalon/orgs",
            "repos_url": "https://api.github.com/users/burgalon/repos",
            "events_url": "https://api.github.com/users/burgalon/events{/privacy}",
            "received_events_url": "https://api.github.com/users/burgalon/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-12-06T06:48:15Z",
          "updated_at": "2016-12-06T06:48:15Z",
          "author_association": "NONE",
          "body": "Thanks @ncullen93 ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/265074532/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/272946126",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-272946126",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 272946126,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3Mjk0NjEyNg==",
          "user": {
            "login": "johnny5550822",
            "id": 1665063,
            "node_id": "MDQ6VXNlcjE2NjUwNjM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1665063?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/johnny5550822",
            "html_url": "https://github.com/johnny5550822",
            "followers_url": "https://api.github.com/users/johnny5550822/followers",
            "following_url": "https://api.github.com/users/johnny5550822/following{/other_user}",
            "gists_url": "https://api.github.com/users/johnny5550822/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/johnny5550822/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/johnny5550822/subscriptions",
            "organizations_url": "https://api.github.com/users/johnny5550822/orgs",
            "repos_url": "https://api.github.com/users/johnny5550822/repos",
            "events_url": "https://api.github.com/users/johnny5550822/events{/privacy}",
            "received_events_url": "https://api.github.com/users/johnny5550822/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-16T19:37:51Z",
          "updated_at": "2017-01-16T19:37:51Z",
          "author_association": "NONE",
          "body": "@oeway @burgalon @ncullen93 also, I notice that .flow_from_directory has a way to make the original input to target_size, but .flow() does not....maybe we should add this functionality to the ImageDataGenerator so the for example I can resize my image size of 21x21 to 224x224.\r\n\r\nI don't find any function like what I have pointed out above.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/272946126/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/272995044",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-272995044",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 272995044,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3Mjk5NTA0NA==",
          "user": {
            "login": "ncullen93",
            "id": 13004360,
            "node_id": "MDQ6VXNlcjEzMDA0MzYw",
            "avatar_url": "https://avatars.githubusercontent.com/u/13004360?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ncullen93",
            "html_url": "https://github.com/ncullen93",
            "followers_url": "https://api.github.com/users/ncullen93/followers",
            "following_url": "https://api.github.com/users/ncullen93/following{/other_user}",
            "gists_url": "https://api.github.com/users/ncullen93/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ncullen93/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ncullen93/subscriptions",
            "organizations_url": "https://api.github.com/users/ncullen93/orgs",
            "repos_url": "https://api.github.com/users/ncullen93/repos",
            "events_url": "https://api.github.com/users/ncullen93/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ncullen93/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-17T00:56:31Z",
          "updated_at": "2017-01-17T00:57:22Z",
          "author_association": "NONE",
          "body": "Hm yeah.. I noticed that too. That's probably because the image resizing is done directly on the image object before converting to an array using PIL's resize method (see line 302 in preprocessing/image.py)...  .flow() would require resampling a numpy array, probably using scipy's functionality, so I guess it's assumed you will just resize it yourself since the data already fits in memory.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/272995044/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/273044019",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-273044019",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 273044019,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzA0NDAxOQ==",
          "user": {
            "login": "johnny5550822",
            "id": 1665063,
            "node_id": "MDQ6VXNlcjE2NjUwNjM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1665063?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/johnny5550822",
            "html_url": "https://github.com/johnny5550822",
            "followers_url": "https://api.github.com/users/johnny5550822/followers",
            "following_url": "https://api.github.com/users/johnny5550822/following{/other_user}",
            "gists_url": "https://api.github.com/users/johnny5550822/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/johnny5550822/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/johnny5550822/subscriptions",
            "organizations_url": "https://api.github.com/users/johnny5550822/orgs",
            "repos_url": "https://api.github.com/users/johnny5550822/repos",
            "events_url": "https://api.github.com/users/johnny5550822/events{/privacy}",
            "received_events_url": "https://api.github.com/users/johnny5550822/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-17T07:47:36Z",
          "updated_at": "2017-01-17T07:47:36Z",
          "author_association": "NONE",
          "body": "@ncullen93 yup, exactly, but sometime your data may be large array but not image. So it would be nice to provide a way to do resize. I think cv2 can do that nicely. if this functionality is included, I don't need to write a custom datagenerator to do the resize using cv2.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/273044019/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/273320022",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-273320022",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 273320022,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzMyMDAyMg==",
          "user": {
            "login": "ncullen93",
            "id": 13004360,
            "node_id": "MDQ6VXNlcjEzMDA0MzYw",
            "avatar_url": "https://avatars.githubusercontent.com/u/13004360?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ncullen93",
            "html_url": "https://github.com/ncullen93",
            "followers_url": "https://api.github.com/users/ncullen93/followers",
            "following_url": "https://api.github.com/users/ncullen93/following{/other_user}",
            "gists_url": "https://api.github.com/users/ncullen93/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ncullen93/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ncullen93/subscriptions",
            "organizations_url": "https://api.github.com/users/ncullen93/orgs",
            "repos_url": "https://api.github.com/users/ncullen93/repos",
            "events_url": "https://api.github.com/users/ncullen93/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ncullen93/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-17T22:24:08Z",
          "updated_at": "2017-01-17T22:24:08Z",
          "author_association": "NONE",
          "body": "true. i don't make those decisions unfortunately. In the meantime, here's a very slightly modified image.py file with a big commented section on line 719 ( look for the \"### ADD CODE HERE TO RESHAPE ARRAY TO TARGET SIZE ####\") for you to add one line of code to upsample/reshape your array however you like! Just add code to upsample/reshape your array and then you can use \"target_size\" on the flow() function just like flow_from_directory(). It's very simple. Then replace this image.py file with that in your keras directory, and reinstall. That's all I personally can offer.\r\n\r\n[image.zip](https://github.com/fchollet/keras/files/712479/image.zip)\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/273320022/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/273332690",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-273332690",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 273332690,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MzMzMjY5MA==",
          "user": {
            "login": "johnny5550822",
            "id": 1665063,
            "node_id": "MDQ6VXNlcjE2NjUwNjM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1665063?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/johnny5550822",
            "html_url": "https://github.com/johnny5550822",
            "followers_url": "https://api.github.com/users/johnny5550822/followers",
            "following_url": "https://api.github.com/users/johnny5550822/following{/other_user}",
            "gists_url": "https://api.github.com/users/johnny5550822/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/johnny5550822/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/johnny5550822/subscriptions",
            "organizations_url": "https://api.github.com/users/johnny5550822/orgs",
            "repos_url": "https://api.github.com/users/johnny5550822/repos",
            "events_url": "https://api.github.com/users/johnny5550822/events{/privacy}",
            "received_events_url": "https://api.github.com/users/johnny5550822/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-17T23:19:02Z",
          "updated_at": "2017-01-17T23:19:02Z",
          "author_association": "NONE",
          "body": "@ncullen93 Wow, thanks! I will look at that.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/273332690/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/275210533",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-275210533",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 275210533,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTIxMDUzMw==",
          "user": {
            "login": "stratospark",
            "id": 93366,
            "node_id": "MDQ6VXNlcjkzMzY2",
            "avatar_url": "https://avatars.githubusercontent.com/u/93366?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stratospark",
            "html_url": "https://github.com/stratospark",
            "followers_url": "https://api.github.com/users/stratospark/followers",
            "following_url": "https://api.github.com/users/stratospark/following{/other_user}",
            "gists_url": "https://api.github.com/users/stratospark/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stratospark/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stratospark/subscriptions",
            "organizations_url": "https://api.github.com/users/stratospark/orgs",
            "repos_url": "https://api.github.com/users/stratospark/repos",
            "events_url": "https://api.github.com/users/stratospark/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stratospark/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-25T19:38:30Z",
          "updated_at": "2017-01-25T19:38:30Z",
          "author_association": "NONE",
          "body": "I extended @oeway 's ImageDataGenerator fork to use a multiprocessing Pool. I got a pretty good speedup: https://github.com/stratospark/food-101-keras/blob/master/tools/image_gen_extended.py\r\n\r\nThis was to fully utilize a Titan X GPU as I write about here: http://blog.stratospark.com/deep-learning-applied-food-classification-deep-learning-keras.html",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/275210533/reactions",
            "total_count": 8,
            "+1": 8,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/275521514",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-275521514",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 275521514,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTUyMTUxNA==",
          "user": {
            "login": "ncullen93",
            "id": 13004360,
            "node_id": "MDQ6VXNlcjEzMDA0MzYw",
            "avatar_url": "https://avatars.githubusercontent.com/u/13004360?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ncullen93",
            "html_url": "https://github.com/ncullen93",
            "followers_url": "https://api.github.com/users/ncullen93/followers",
            "following_url": "https://api.github.com/users/ncullen93/following{/other_user}",
            "gists_url": "https://api.github.com/users/ncullen93/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ncullen93/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ncullen93/subscriptions",
            "organizations_url": "https://api.github.com/users/ncullen93/orgs",
            "repos_url": "https://api.github.com/users/ncullen93/repos",
            "events_url": "https://api.github.com/users/ncullen93/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ncullen93/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-26T21:36:29Z",
          "updated_at": "2017-01-26T21:39:13Z",
          "author_association": "NONE",
          "body": "Can you comment a little more on it. Does it support both arrays and directory sampling? Seems to only be arrays from my quick look. Directory sampling is probably the biggest bottleneck in my opinion, since bigger nets typically coincide w/ datasets that dont fit in memory - so the speedup margins on using this w/ directory sampling would be much greater.  anyways, implementing just the multiprocessing speedup on the actual keras image generator without the pipeline stuff (since it's not standardized) would be a huge contribution in my opinion",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/275521514/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/275532956",
          "html_url": "https://github.com/keras-team/keras/issues/3338#issuecomment-275532956",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3338",
          "id": 275532956,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTUzMjk1Ng==",
          "user": {
            "login": "stratospark",
            "id": 93366,
            "node_id": "MDQ6VXNlcjkzMzY2",
            "avatar_url": "https://avatars.githubusercontent.com/u/93366?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stratospark",
            "html_url": "https://github.com/stratospark",
            "followers_url": "https://api.github.com/users/stratospark/followers",
            "following_url": "https://api.github.com/users/stratospark/following{/other_user}",
            "gists_url": "https://api.github.com/users/stratospark/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stratospark/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stratospark/subscriptions",
            "organizations_url": "https://api.github.com/users/stratospark/orgs",
            "repos_url": "https://api.github.com/users/stratospark/repos",
            "events_url": "https://api.github.com/users/stratospark/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stratospark/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-26T22:23:19Z",
          "updated_at": "2017-01-26T22:23:19Z",
          "author_association": "NONE",
          "body": "@ncullen93 I'm planning on cleaning up the code soon and posting a PR so it can hopefully be merged into the main Keras branch. Enough to maintain compatibility with the mainline Keras features.\r\n\r\nIt was a quick hack to support my use case, augmenting images in memory fast enough to keep my GPU close to full utilization. I had to disable any augmentation related to fitting the model, such as normalization and zca. This was due to the locks not being able to be pickled when doing a multiprocessing map.\r\n\r\nAnother change I had to make was having to explicitly pass a multiprocessing.Pool. This is due to the fact that Python multiprocessing forks the process, and thus it is easy to run into out of memory errors if you fork after loading your images. I have to create the pool at the very beginning of the script so it uses as little resources as possible. I'm pretty new at this, so there is probably a more elegant way of handling this. One thing that I would like to fix is when interrupting the training in Jupyter Notebook, it kills the processes so I have to restart the kernel and load up all the images to do another run. This really breaks the flow of trying different models and parameters!\r\n\r\nTo support reproducible results, I also had to create separate random number generators for each process, so each process didn't return the same random numbers (and thus the exact same images as each other). I know I left a few numpy default random generators, so I need to fix that up.\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/275532956/reactions",
            "total_count": 8,
            "+1": 8,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/12379",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/12379/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/12379/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/12379/events",
      "html_url": "https://github.com/keras-team/keras/issues/12379",
      "id": 416379765,
      "node_id": "MDU6SXNzdWU0MTYzNzk3NjU=",
      "number": 12379,
      "title": "AttributeError: module 'tensorflow' has no attribute 'get_default_graph",
      "user": {
        "login": "Sawatdatta",
        "id": 25773698,
        "node_id": "MDQ6VXNlcjI1NzczNjk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/25773698?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sawatdatta",
        "html_url": "https://github.com/Sawatdatta",
        "followers_url": "https://api.github.com/users/Sawatdatta/followers",
        "following_url": "https://api.github.com/users/Sawatdatta/following{/other_user}",
        "gists_url": "https://api.github.com/users/Sawatdatta/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Sawatdatta/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Sawatdatta/subscriptions",
        "organizations_url": "https://api.github.com/users/Sawatdatta/orgs",
        "repos_url": "https://api.github.com/users/Sawatdatta/repos",
        "events_url": "https://api.github.com/users/Sawatdatta/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Sawatdatta/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 192940628,
          "node_id": "MDU6TGFiZWwxOTI5NDA2Mjg=",
          "url": "https://api.github.com/repos/keras-team/keras/labels/type:support",
          "name": "type:support",
          "color": "159b2e",
          "default": false,
          "description": "User is asking for help / asking an implementation question. Stackoverflow would be better suited."
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 81,
      "created_at": "2019-03-02T09:41:51Z",
      "updated_at": "2021-11-26T04:59:51Z",
      "closed_at": "2019-03-19T06:22:30Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "\r\n\r\n\r\n\r\n\r\nI am using TensorFlow 2.0 preview, also keras is using  newly installed preview version as a backend\r\n\r\nTensorFlow-gpu-2.0-preview\r\nKeras :2.2.4\r\nOS:Windows 10\r\npython:3.6\r\nCUDA:10\r\n\r\n\r\ncurrently it is throwing following error:\r\n\r\n\r\nFile \"C:\\Users\\SUS\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\keras\\backend\\tensorflow_backend.py\", line 74, in get_uid\r\n    graph = tf.get_default_graph()\r\nAttributeError: module 'tensorflow' has no attribute 'get_default_graph'\r\n\r\n\r\nIs there any way to force Keras to use tf.compat.V1 as a backend?",
      "closed_by": {
        "login": "Sawatdatta",
        "id": 25773698,
        "node_id": "MDQ6VXNlcjI1NzczNjk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/25773698?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sawatdatta",
        "html_url": "https://github.com/Sawatdatta",
        "followers_url": "https://api.github.com/users/Sawatdatta/followers",
        "following_url": "https://api.github.com/users/Sawatdatta/following{/other_user}",
        "gists_url": "https://api.github.com/users/Sawatdatta/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Sawatdatta/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Sawatdatta/subscriptions",
        "organizations_url": "https://api.github.com/users/Sawatdatta/orgs",
        "repos_url": "https://api.github.com/users/Sawatdatta/repos",
        "events_url": "https://api.github.com/users/Sawatdatta/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Sawatdatta/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/12379/reactions",
        "total_count": 64,
        "+1": 58,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 6
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/12379/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/469964734",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-469964734",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 469964734,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTk2NDczNA==",
          "user": {
            "login": "MrZhengXin",
            "id": 34998703,
            "node_id": "MDQ6VXNlcjM0OTk4NzAz",
            "avatar_url": "https://avatars.githubusercontent.com/u/34998703?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MrZhengXin",
            "html_url": "https://github.com/MrZhengXin",
            "followers_url": "https://api.github.com/users/MrZhengXin/followers",
            "following_url": "https://api.github.com/users/MrZhengXin/following{/other_user}",
            "gists_url": "https://api.github.com/users/MrZhengXin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MrZhengXin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MrZhengXin/subscriptions",
            "organizations_url": "https://api.github.com/users/MrZhengXin/orgs",
            "repos_url": "https://api.github.com/users/MrZhengXin/repos",
            "events_url": "https://api.github.com/users/MrZhengXin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MrZhengXin/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-03-06T04:34:28Z",
          "updated_at": "2019-03-06T04:34:28Z",
          "author_association": "NONE",
          "body": "I can't agree more.\r\nHave to add it manually...",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/469964734/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/469966039",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-469966039",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 469966039,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTk2NjAzOQ==",
          "user": {
            "login": "Sawatdatta",
            "id": 25773698,
            "node_id": "MDQ6VXNlcjI1NzczNjk4",
            "avatar_url": "https://avatars.githubusercontent.com/u/25773698?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Sawatdatta",
            "html_url": "https://github.com/Sawatdatta",
            "followers_url": "https://api.github.com/users/Sawatdatta/followers",
            "following_url": "https://api.github.com/users/Sawatdatta/following{/other_user}",
            "gists_url": "https://api.github.com/users/Sawatdatta/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Sawatdatta/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Sawatdatta/subscriptions",
            "organizations_url": "https://api.github.com/users/Sawatdatta/orgs",
            "repos_url": "https://api.github.com/users/Sawatdatta/repos",
            "events_url": "https://api.github.com/users/Sawatdatta/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Sawatdatta/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-03-06T04:42:01Z",
          "updated_at": "2019-03-06T04:42:01Z",
          "author_association": "NONE",
          "body": "@MrZhengXin How?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/469966039/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/469966716",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-469966716",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 469966716,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTk2NjcxNg==",
          "user": {
            "login": "MrZhengXin",
            "id": 34998703,
            "node_id": "MDQ6VXNlcjM0OTk4NzAz",
            "avatar_url": "https://avatars.githubusercontent.com/u/34998703?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MrZhengXin",
            "html_url": "https://github.com/MrZhengXin",
            "followers_url": "https://api.github.com/users/MrZhengXin/followers",
            "following_url": "https://api.github.com/users/MrZhengXin/following{/other_user}",
            "gists_url": "https://api.github.com/users/MrZhengXin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MrZhengXin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MrZhengXin/subscriptions",
            "organizations_url": "https://api.github.com/users/MrZhengXin/orgs",
            "repos_url": "https://api.github.com/users/MrZhengXin/repos",
            "events_url": "https://api.github.com/users/MrZhengXin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MrZhengXin/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-03-06T04:45:39Z",
          "updated_at": "2019-03-06T04:45:39Z",
          "author_association": "NONE",
          "body": "> @MrZhengXin How?\r\n\r\nOh, sorry. I mean change the code manually like tf.compat.v1.get_default_graph",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/469966716/reactions",
            "total_count": 53,
            "+1": 45,
            "-1": 0,
            "laugh": 5,
            "hooray": 0,
            "confused": 0,
            "heart": 3,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/469967751",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-469967751",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 469967751,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTk2Nzc1MQ==",
          "user": {
            "login": "Sawatdatta",
            "id": 25773698,
            "node_id": "MDQ6VXNlcjI1NzczNjk4",
            "avatar_url": "https://avatars.githubusercontent.com/u/25773698?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Sawatdatta",
            "html_url": "https://github.com/Sawatdatta",
            "followers_url": "https://api.github.com/users/Sawatdatta/followers",
            "following_url": "https://api.github.com/users/Sawatdatta/following{/other_user}",
            "gists_url": "https://api.github.com/users/Sawatdatta/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Sawatdatta/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Sawatdatta/subscriptions",
            "organizations_url": "https://api.github.com/users/Sawatdatta/orgs",
            "repos_url": "https://api.github.com/users/Sawatdatta/repos",
            "events_url": "https://api.github.com/users/Sawatdatta/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Sawatdatta/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-03-06T04:51:54Z",
          "updated_at": "2019-03-06T04:51:54Z",
          "author_association": "NONE",
          "body": "Even sub modules/packages need to update the calls, Manually changing the code in sub modules/packages will break the system. I am thinking to rewrite entire project code as per tf 2.0 's documentation.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/469967751/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/470634644",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-470634644",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 470634644,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MDYzNDY0NA==",
          "user": {
            "login": "SagarSharma4244",
            "id": 25868126,
            "node_id": "MDQ6VXNlcjI1ODY4MTI2",
            "avatar_url": "https://avatars.githubusercontent.com/u/25868126?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SagarSharma4244",
            "html_url": "https://github.com/SagarSharma4244",
            "followers_url": "https://api.github.com/users/SagarSharma4244/followers",
            "following_url": "https://api.github.com/users/SagarSharma4244/following{/other_user}",
            "gists_url": "https://api.github.com/users/SagarSharma4244/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SagarSharma4244/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SagarSharma4244/subscriptions",
            "organizations_url": "https://api.github.com/users/SagarSharma4244/orgs",
            "repos_url": "https://api.github.com/users/SagarSharma4244/repos",
            "events_url": "https://api.github.com/users/SagarSharma4244/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SagarSharma4244/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-03-07T18:11:52Z",
          "updated_at": "2019-03-07T18:11:52Z",
          "author_association": "NONE",
          "body": "I'm having the same issue.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/470634644/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/471339468",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-471339468",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 471339468,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MTMzOTQ2OA==",
          "user": {
            "login": "amit-dingare",
            "id": 4303278,
            "node_id": "MDQ6VXNlcjQzMDMyNzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4303278?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amit-dingare",
            "html_url": "https://github.com/amit-dingare",
            "followers_url": "https://api.github.com/users/amit-dingare/followers",
            "following_url": "https://api.github.com/users/amit-dingare/following{/other_user}",
            "gists_url": "https://api.github.com/users/amit-dingare/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amit-dingare/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amit-dingare/subscriptions",
            "organizations_url": "https://api.github.com/users/amit-dingare/orgs",
            "repos_url": "https://api.github.com/users/amit-dingare/repos",
            "events_url": "https://api.github.com/users/amit-dingare/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amit-dingare/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-03-10T20:08:11Z",
          "updated_at": "2019-03-10T20:22:18Z",
          "author_association": "NONE",
          "body": "Has same issue with Tensorflow 2.0. I changed the imports from keras.something.something to tensorflow.keras.something and the issue seemed to have gone away. Putting it here for others to benefit.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/471339468/reactions",
            "total_count": 668,
            "+1": 436,
            "-1": 10,
            "laugh": 41,
            "hooray": 49,
            "confused": 9,
            "heart": 56,
            "rocket": 54,
            "eyes": 13
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/473220273",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-473220273",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 473220273,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MzIyMDI3Mw==",
          "user": {
            "login": "russellfei",
            "id": 3415940,
            "node_id": "MDQ6VXNlcjM0MTU5NDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3415940?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/russellfei",
            "html_url": "https://github.com/russellfei",
            "followers_url": "https://api.github.com/users/russellfei/followers",
            "following_url": "https://api.github.com/users/russellfei/following{/other_user}",
            "gists_url": "https://api.github.com/users/russellfei/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/russellfei/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/russellfei/subscriptions",
            "organizations_url": "https://api.github.com/users/russellfei/orgs",
            "repos_url": "https://api.github.com/users/russellfei/repos",
            "events_url": "https://api.github.com/users/russellfei/events{/privacy}",
            "received_events_url": "https://api.github.com/users/russellfei/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-03-15T09:40:17Z",
          "updated_at": "2019-03-15T09:40:17Z",
          "author_association": "NONE",
          "body": "For me, I just use `from tensorflow.python.keras.xx` to make it work after diving into `site-packages/tensorflow` src folder, hope keras team catching up with tensorflow.\r\nMark here, thx @aakashganga for your hints. \r\nFurther reading [this guide](https://www.tensorflow.org/guide/keras)",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/473220273/reactions",
            "total_count": 25,
            "+1": 20,
            "-1": 0,
            "laugh": 2,
            "hooray": 3,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/473823330",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-473823330",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 473823330,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MzgyMzMzMA==",
          "user": {
            "login": "emikulic",
            "id": 828806,
            "node_id": "MDQ6VXNlcjgyODgwNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/828806?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/emikulic",
            "html_url": "https://github.com/emikulic",
            "followers_url": "https://api.github.com/users/emikulic/followers",
            "following_url": "https://api.github.com/users/emikulic/following{/other_user}",
            "gists_url": "https://api.github.com/users/emikulic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/emikulic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/emikulic/subscriptions",
            "organizations_url": "https://api.github.com/users/emikulic/orgs",
            "repos_url": "https://api.github.com/users/emikulic/repos",
            "events_url": "https://api.github.com/users/emikulic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/emikulic/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-03-18T08:58:56Z",
          "updated_at": "2019-03-18T08:58:56Z",
          "author_association": "NONE",
          "body": "In my case, replacing\r\n`from keras import backend`\r\nwith:\r\n`from tensorflow.keras import backend`\r\nin my script, fixed this problem.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/473823330/reactions",
            "total_count": 163,
            "+1": 120,
            "-1": 0,
            "laugh": 10,
            "hooray": 12,
            "confused": 0,
            "heart": 14,
            "rocket": 7,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/474213349",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-474213349",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 474213349,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDIxMzM0OQ==",
          "user": {
            "login": "Sawatdatta",
            "id": 25773698,
            "node_id": "MDQ6VXNlcjI1NzczNjk4",
            "avatar_url": "https://avatars.githubusercontent.com/u/25773698?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Sawatdatta",
            "html_url": "https://github.com/Sawatdatta",
            "followers_url": "https://api.github.com/users/Sawatdatta/followers",
            "following_url": "https://api.github.com/users/Sawatdatta/following{/other_user}",
            "gists_url": "https://api.github.com/users/Sawatdatta/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Sawatdatta/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Sawatdatta/subscriptions",
            "organizations_url": "https://api.github.com/users/Sawatdatta/orgs",
            "repos_url": "https://api.github.com/users/Sawatdatta/repos",
            "events_url": "https://api.github.com/users/Sawatdatta/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Sawatdatta/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-03-19T06:22:22Z",
          "updated_at": "2019-03-19T06:22:22Z",
          "author_association": "NONE",
          "body": "Than you friends @aakashganga @russellfei @emikulic  for your information. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/474213349/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/474478991",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-474478991",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 474478991,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDQ3ODk5MQ==",
          "user": {
            "login": "Ademord",
            "id": 4501464,
            "node_id": "MDQ6VXNlcjQ1MDE0NjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4501464?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Ademord",
            "html_url": "https://github.com/Ademord",
            "followers_url": "https://api.github.com/users/Ademord/followers",
            "following_url": "https://api.github.com/users/Ademord/following{/other_user}",
            "gists_url": "https://api.github.com/users/Ademord/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Ademord/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Ademord/subscriptions",
            "organizations_url": "https://api.github.com/users/Ademord/orgs",
            "repos_url": "https://api.github.com/users/Ademord/repos",
            "events_url": "https://api.github.com/users/Ademord/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Ademord/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-03-19T17:21:47Z",
          "updated_at": "2019-03-19T17:21:47Z",
          "author_association": "NONE",
          "body": "@emikulic  that only escalates and gives me error \"tensorflow has no attribute 'log'\", when doing tf.log.\r\nHow does one fix this versioning problem??\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/474478991/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/474670195",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-474670195",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 474670195,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDY3MDE5NQ==",
          "user": {
            "login": "emikulic",
            "id": 828806,
            "node_id": "MDQ6VXNlcjgyODgwNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/828806?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/emikulic",
            "html_url": "https://github.com/emikulic",
            "followers_url": "https://api.github.com/users/emikulic/followers",
            "following_url": "https://api.github.com/users/emikulic/following{/other_user}",
            "gists_url": "https://api.github.com/users/emikulic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/emikulic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/emikulic/subscriptions",
            "organizations_url": "https://api.github.com/users/emikulic/orgs",
            "repos_url": "https://api.github.com/users/emikulic/repos",
            "events_url": "https://api.github.com/users/emikulic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/emikulic/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-03-20T03:26:45Z",
          "updated_at": "2019-03-20T03:26:45Z",
          "author_association": "NONE",
          "body": "I think my problem was I had both tf2.0.0 and keras installed. Maybe you're less likely to run into versioning problems if you don't install keras, that way you'll only use the one that ships with tf.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/474670195/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/475299256",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-475299256",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 475299256,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NTI5OTI1Ng==",
          "user": {
            "login": "Ademord",
            "id": 4501464,
            "node_id": "MDQ6VXNlcjQ1MDE0NjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4501464?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Ademord",
            "html_url": "https://github.com/Ademord",
            "followers_url": "https://api.github.com/users/Ademord/followers",
            "following_url": "https://api.github.com/users/Ademord/following{/other_user}",
            "gists_url": "https://api.github.com/users/Ademord/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Ademord/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Ademord/subscriptions",
            "organizations_url": "https://api.github.com/users/Ademord/orgs",
            "repos_url": "https://api.github.com/users/Ademord/repos",
            "events_url": "https://api.github.com/users/Ademord/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Ademord/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-03-21T16:18:39Z",
          "updated_at": "2020-09-05T15:16:04Z",
          "author_association": "NONE",
          "body": "Another option: I ended up downgrading my tensorflow to 1.13.1 to not run into these silly alpha problems.\r\n\r\nKeras version to 2.2.4\r\nTF      version to 1.13.1",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/475299256/reactions",
            "total_count": 43,
            "+1": 26,
            "-1": 0,
            "laugh": 7,
            "hooray": 3,
            "confused": 0,
            "heart": 3,
            "rocket": 4,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/482125253",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-482125253",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 482125253,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MjEyNTI1Mw==",
          "user": {
            "login": "navyup",
            "id": 38584752,
            "node_id": "MDQ6VXNlcjM4NTg0NzUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/38584752?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/navyup",
            "html_url": "https://github.com/navyup",
            "followers_url": "https://api.github.com/users/navyup/followers",
            "following_url": "https://api.github.com/users/navyup/following{/other_user}",
            "gists_url": "https://api.github.com/users/navyup/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/navyup/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/navyup/subscriptions",
            "organizations_url": "https://api.github.com/users/navyup/orgs",
            "repos_url": "https://api.github.com/users/navyup/repos",
            "events_url": "https://api.github.com/users/navyup/events{/privacy}",
            "received_events_url": "https://api.github.com/users/navyup/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-04-11T13:57:38Z",
          "updated_at": "2019-04-11T13:57:38Z",
          "author_association": "NONE",
          "body": "just re-install to deal with it",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/482125253/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/482993308",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-482993308",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 482993308,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ4Mjk5MzMwOA==",
          "user": {
            "login": "ccgccc",
            "id": 42084654,
            "node_id": "MDQ6VXNlcjQyMDg0NjU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/42084654?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ccgccc",
            "html_url": "https://github.com/ccgccc",
            "followers_url": "https://api.github.com/users/ccgccc/followers",
            "following_url": "https://api.github.com/users/ccgccc/following{/other_user}",
            "gists_url": "https://api.github.com/users/ccgccc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ccgccc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ccgccc/subscriptions",
            "organizations_url": "https://api.github.com/users/ccgccc/orgs",
            "repos_url": "https://api.github.com/users/ccgccc/repos",
            "events_url": "https://api.github.com/users/ccgccc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ccgccc/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-04-14T14:59:10Z",
          "updated_at": "2019-04-14T14:59:28Z",
          "author_association": "CONTRIBUTOR",
          "body": "@navyup, is your tensorflow version still 2.0.0 after re-install?\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/482993308/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/482997897",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-482997897",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 482997897,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ4Mjk5Nzg5Nw==",
          "user": {
            "login": "navyup",
            "id": 38584752,
            "node_id": "MDQ6VXNlcjM4NTg0NzUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/38584752?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/navyup",
            "html_url": "https://github.com/navyup",
            "followers_url": "https://api.github.com/users/navyup/followers",
            "following_url": "https://api.github.com/users/navyup/following{/other_user}",
            "gists_url": "https://api.github.com/users/navyup/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/navyup/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/navyup/subscriptions",
            "organizations_url": "https://api.github.com/users/navyup/orgs",
            "repos_url": "https://api.github.com/users/navyup/repos",
            "events_url": "https://api.github.com/users/navyup/events{/privacy}",
            "received_events_url": "https://api.github.com/users/navyup/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-04-14T15:22:27Z",
          "updated_at": "2019-04-14T15:22:27Z",
          "author_association": "NONE",
          "body": "after re-install\uff0cit\u2018s OK\n\n\u53d1\u81ea\u6211\u7684 iPhone\n\n> \u5728 2019\u5e744\u670814\u65e5\uff0c10:00\uff0cccgccc <notifications@github.com> \u5199\u9053\uff1a\n> \n> @navyup, Is your tensorflow version still 2.0.0 after re-install?\n> \n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/482997897/reactions",
            "total_count": 23,
            "+1": 0,
            "-1": 23,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/486179327",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-486179327",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 486179327,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NjE3OTMyNw==",
          "user": {
            "login": "wangyexiang",
            "id": 23202109,
            "node_id": "MDQ6VXNlcjIzMjAyMTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/23202109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wangyexiang",
            "html_url": "https://github.com/wangyexiang",
            "followers_url": "https://api.github.com/users/wangyexiang/followers",
            "following_url": "https://api.github.com/users/wangyexiang/following{/other_user}",
            "gists_url": "https://api.github.com/users/wangyexiang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wangyexiang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wangyexiang/subscriptions",
            "organizations_url": "https://api.github.com/users/wangyexiang/orgs",
            "repos_url": "https://api.github.com/users/wangyexiang/repos",
            "events_url": "https://api.github.com/users/wangyexiang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wangyexiang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-04-24T11:12:30Z",
          "updated_at": "2019-04-24T11:12:30Z",
          "author_association": "NONE",
          "body": "@Sawatdatta\uff0chow did you solve your problem? thx.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/486179327/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/486207178",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-486207178",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 486207178,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NjIwNzE3OA==",
          "user": {
            "login": "Sawatdatta",
            "id": 25773698,
            "node_id": "MDQ6VXNlcjI1NzczNjk4",
            "avatar_url": "https://avatars.githubusercontent.com/u/25773698?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Sawatdatta",
            "html_url": "https://github.com/Sawatdatta",
            "followers_url": "https://api.github.com/users/Sawatdatta/followers",
            "following_url": "https://api.github.com/users/Sawatdatta/following{/other_user}",
            "gists_url": "https://api.github.com/users/Sawatdatta/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Sawatdatta/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Sawatdatta/subscriptions",
            "organizations_url": "https://api.github.com/users/Sawatdatta/orgs",
            "repos_url": "https://api.github.com/users/Sawatdatta/repos",
            "events_url": "https://api.github.com/users/Sawatdatta/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Sawatdatta/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-04-24T12:29:06Z",
          "updated_at": "2019-07-24T10:13:11Z",
          "author_association": "NONE",
          "body": "Use keras bundled within Tensorflow as suggested by @emikulic  solves the problem \r\n Replace\r\n`from keras import backend as k`\r\nwith:\r\n`from tensorflow.keras import backend as k`\r\n\r\n\r\nIf this doesn't solve your problem, You might have to use \r\n`from tensorflow.python.keras import backend as k`",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/486207178/reactions",
            "total_count": 11,
            "+1": 10,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/488145678",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-488145678",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 488145678,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODE0NTY3OA==",
          "user": {
            "login": "EthanJYK",
            "id": 31404493,
            "node_id": "MDQ6VXNlcjMxNDA0NDkz",
            "avatar_url": "https://avatars.githubusercontent.com/u/31404493?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EthanJYK",
            "html_url": "https://github.com/EthanJYK",
            "followers_url": "https://api.github.com/users/EthanJYK/followers",
            "following_url": "https://api.github.com/users/EthanJYK/following{/other_user}",
            "gists_url": "https://api.github.com/users/EthanJYK/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EthanJYK/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EthanJYK/subscriptions",
            "organizations_url": "https://api.github.com/users/EthanJYK/orgs",
            "repos_url": "https://api.github.com/users/EthanJYK/repos",
            "events_url": "https://api.github.com/users/EthanJYK/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EthanJYK/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-04-30T23:01:15Z",
          "updated_at": "2019-04-30T23:01:15Z",
          "author_association": "CONTRIBUTOR",
          "body": "@Sawatdatta Thank you. I solved my problems with 'from tensorflow.python.keras import backend' ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/488145678/reactions",
            "total_count": 5,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/489336696",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-489336696",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 489336696,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ4OTMzNjY5Ng==",
          "user": {
            "login": "foreseez",
            "id": 18757695,
            "node_id": "MDQ6VXNlcjE4NzU3Njk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/18757695?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/foreseez",
            "html_url": "https://github.com/foreseez",
            "followers_url": "https://api.github.com/users/foreseez/followers",
            "following_url": "https://api.github.com/users/foreseez/following{/other_user}",
            "gists_url": "https://api.github.com/users/foreseez/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/foreseez/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/foreseez/subscriptions",
            "organizations_url": "https://api.github.com/users/foreseez/orgs",
            "repos_url": "https://api.github.com/users/foreseez/repos",
            "events_url": "https://api.github.com/users/foreseez/events{/privacy}",
            "received_events_url": "https://api.github.com/users/foreseez/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-05-04T15:28:42Z",
          "updated_at": "2019-05-04T15:28:42Z",
          "author_association": "NONE",
          "body": "![image](https://user-images.githubusercontent.com/18757695/57181276-37c7d800-6ec4-11e9-8b8d-c7fd365664c8.png)\r\n![image](https://user-images.githubusercontent.com/18757695/57181293-575f0080-6ec4-11e9-92eb-63a688a9ecb7.png)\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/489336696/reactions",
            "total_count": 20,
            "+1": 5,
            "-1": 0,
            "laugh": 11,
            "hooray": 0,
            "confused": 4,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/489336937",
          "html_url": "https://github.com/keras-team/keras/issues/12379#issuecomment-489336937",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/12379",
          "id": 489336937,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ4OTMzNjkzNw==",
          "user": {
            "login": "emikulic",
            "id": 828806,
            "node_id": "MDQ6VXNlcjgyODgwNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/828806?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/emikulic",
            "html_url": "https://github.com/emikulic",
            "followers_url": "https://api.github.com/users/emikulic/followers",
            "following_url": "https://api.github.com/users/emikulic/following{/other_user}",
            "gists_url": "https://api.github.com/users/emikulic/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/emikulic/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/emikulic/subscriptions",
            "organizations_url": "https://api.github.com/users/emikulic/orgs",
            "repos_url": "https://api.github.com/users/emikulic/repos",
            "events_url": "https://api.github.com/users/emikulic/events{/privacy}",
            "received_events_url": "https://api.github.com/users/emikulic/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2019-05-04T15:31:41Z",
          "updated_at": "2019-05-04T15:31:41Z",
          "author_association": "NONE",
          "body": "@zyjcs I'm worried about the `from keras` lines. Basically my problem is I was mixing Tensorflow 2.0 with keras. IMO you don't want both installed in the same virtualenv.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/489336937/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/7113",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/7113/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/7113/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/7113/events",
      "html_url": "https://github.com/keras-team/keras/pull/7113",
      "id": 238292949,
      "node_id": "MDExOlB1bGxSZXF1ZXN0MTI3MzE2NTY2",
      "number": 7113,
      "title": "model.fit(steps_per_epoch), \tmnist_tfrecord.py, progbar np.mean",
      "user": {
        "login": "ahundt",
        "id": 55744,
        "node_id": "MDQ6VXNlcjU1NzQ0",
        "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ahundt",
        "html_url": "https://github.com/ahundt",
        "followers_url": "https://api.github.com/users/ahundt/followers",
        "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
        "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
        "organizations_url": "https://api.github.com/users/ahundt/orgs",
        "repos_url": "https://api.github.com/users/ahundt/repos",
        "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ahundt/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 15,
      "created_at": "2017-06-24T04:10:02Z",
      "updated_at": "2017-08-11T22:58:13Z",
      "closed_at": "2017-08-11T18:05:47Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/7113",
        "html_url": "https://github.com/keras-team/keras/pull/7113",
        "diff_url": "https://github.com/keras-team/keras/pull/7113.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/7113.patch",
        "merged_at": "2017-08-11T18:05:47Z"
      },
      "body": "Implements external loss based support for `model.fit(steps_per_epoch)` with tensor input and a corresponding tfrecord example.\r\n\r\n```python\r\n# API 2\r\n\r\nmodel = # on top of the tensor input\r\nmodel.add_loss()  # involving y_tensor\r\n\r\nmodel.fit(epochs=10, steps_per_epoch=1000)\r\n```\r\n\r\nRuntime results when running `mnist_tfrecord.py` from python tf tensors:\r\n```\r\nTest accuracy: 0.990999997973\r\npython mnist_tfrecord.py  57.21s\r\n```\r\n\r\nThe progbar change is needed for `mnist_tfrecord.py` where a step is a batch.",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/7113/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/7113/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/310916313",
          "html_url": "https://github.com/keras-team/keras/pull/7113#issuecomment-310916313",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7113",
          "id": 310916313,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDkxNjMxMw==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-25T17:32:17Z",
          "updated_at": "2017-06-25T17:32:17Z",
          "author_association": "COLLABORATOR",
          "body": "I think what we should do is:\r\n\r\n- if the number of samples can be recovered from the data, use that. If `steps_per_epoch` is set, raise a warning that it's ignored. If `batch_size` is not set, raise a ValueError.\r\n- if it can't be recovered, raise a ValueError in case `steps_per_epoch` is not set. If `batch_size` is set, raise a warning that it's ignored.\r\n\r\nThere are serious issues with blending both step-based counting and sample-based counting (the last batch, variable batch sizes, etc). So we can't mix them without complications.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/310916313/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/311158294",
          "html_url": "https://github.com/keras-team/keras/pull/7113#issuecomment-311158294",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7113",
          "id": 311158294,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTE1ODI5NA==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-26T19:29:56Z",
          "updated_at": "2017-06-26T19:33:08Z",
          "author_association": "CONTRIBUTOR",
          "body": "\r\n> if the number of samples can be recovered from the data, use that. If `steps_per_epoch` is set, raise a warning that it's ignored. If `batch_size` is not set, raise a ValueError.\r\n\r\nI agree with your suggestion. I just made a small tweak since the `steps_per_epoch` default is None and this is a new parameter. I provide the warning you suggest but otherwise I assume the user meant to override defaults when they provide `steps_per_epoch`. I also added it to the other relevant functions.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/311158294/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/311195781",
          "html_url": "https://github.com/keras-team/keras/pull/7113#issuecomment-311195781",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7113",
          "id": 311195781,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMxMTE5NTc4MQ==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-26T22:07:16Z",
          "updated_at": "2017-06-26T22:07:16Z",
          "author_association": "CONTRIBUTOR",
          "body": "Seems it is necessary to allow both to be specified because batch_size is not ignored, it is used in some of the totals and other calculations so I'm not sure the warning is appropriate without more substantial internal changes. Example error:\r\n\r\n```\r\n___________________________ test_model_with_input_feed_tensor ___________________________\r\n[gw0] darwin -- Python 2.7.13 /usr/local/opt/python/bin/python2.7\r\n@pytest.mark.skipif(K.backend() != 'tensorflow', reason='Requires TF backend')\r\n    @keras_test\r\n    def test_model_with_input_feed_tensor():\r\n        \"\"\"We test building a model with a TF variable as input.\r\n        We should be able to call fit, evaluate, predict,\r\n        by only passing them data for the placeholder inputs\r\n        in the model.\r\n        \"\"\"\r\n        import tensorflow as tf\r\n\r\n        input_a_np = np.random.random((10, 3))\r\n        input_b_np = np.random.random((10, 3))\r\n\r\n        output_a_np = np.random.random((10, 4))\r\n        output_b_np = np.random.random((10, 3))\r\n\r\n        a = Input(tensor=tf.Variable(input_a_np, dtype=tf.float32))\r\n        b = Input(shape=(3,), name='input_b')\r\n\r\n        a_2 = Dense(4, name='dense_1')(a)\r\n        dp = Dropout(0.5, name='dropout')\r\n        b_2 = dp(b)\r\n\r\n        model = Model([a, b], [a_2, b_2])\r\n        model.summary()\r\n\r\n        optimizer = 'rmsprop'\r\n        loss = 'mse'\r\n        loss_weights = [1., 0.5]\r\n        model.compile(optimizer, loss, metrics=['mean_squared_error'],\r\n                      loss_weights=loss_weights,\r\n                      sample_weight_mode=None)\r\n\r\n        # test train_on_batch\r\n        out = model.train_on_batch(input_b_np,\r\n                                   [output_a_np, output_b_np])\r\n        out = model.train_on_batch({'input_b': input_b_np},\r\n                                   [output_a_np, output_b_np])\r\n        out = model.test_on_batch({'input_b': input_b_np},\r\n                                  [output_a_np, output_b_np])\r\n        out = model.predict_on_batch({'input_b': input_b_np})\r\n\r\n        # test fit\r\n        out = model.fit({'input_b': input_b_np},\r\n                        [output_a_np, output_b_np], epochs=1, batch_size=10)\r\n        out = model.fit(input_b_np,\r\n                        [output_a_np, output_b_np], epochs=1, batch_size=10)\r\n\r\n        # test evaluate\r\n        out = model.evaluate({'input_b': input_b_np},\r\n                             [output_a_np, output_b_np], batch_size=10)\r\n        out = model.evaluate(input_b_np,\r\n                             [output_a_np, output_b_np], batch_size=10)\r\n\r\n        # test predict\r\n        out = model.predict({'input_b': input_b_np}, batch_size=10)\r\n        out = model.predict(input_b_np, batch_size=10)\r\n        assert len(out) == 2\r\n\r\n        # Now test a model with a single input\r\n        # i.e. we don't pass any data to fit the model.\r\n        a = Input(tensor=tf.Variable(input_a_np, dtype=tf.float32))\r\n        a_2 = Dense(4, name='dense_1')(a)\r\n        a_2 = Dropout(0.5, name='dropout')(a_2)\r\n        model = Model(a, a_2)\r\n        model.summary()\r\n\r\n        optimizer = 'rmsprop'\r\n        loss = 'mse'\r\n        model.compile(optimizer, loss, metrics=['mean_squared_error'])\r\n\r\n        # test train_on_batch\r\n        out = model.train_on_batch(None,\r\n                                   output_a_np)\r\n        out = model.train_on_batch(None,\r\n                                   output_a_np)\r\n        out = model.test_on_batch(None,\r\n                                  output_a_np)\r\n        out = model.predict_on_batch(None)\r\n        out = model.train_on_batch([],\r\n                                   output_a_np)\r\n        out = model.train_on_batch({},\r\n                                   output_a_np)\r\n\r\n        # test fit\r\n        out = model.fit(None,\r\n                        output_a_np, epochs=1, batch_size=10)\r\n        out = model.fit(None,\r\n                        output_a_np, epochs=1, batch_size=10)\r\n\r\n        # test evaluate\r\n        out = model.evaluate(None,\r\n                             output_a_np, batch_size=10)\r\n        out = model.evaluate(None,\r\n                             output_a_np, batch_size=10)\r\n\r\n        # test predict\r\n>       out = model.predict(None, batch_size=None, steps=1)\r\n\r\ntests/keras/engine/test_training.py:519:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\nkeras/engine/training.py:1518: in predict\r\n    verbose=verbose, steps=steps)\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\nself = <keras.engine.training.Model object at 0x112d30f90>\r\nf = <keras.backend.tensorflow_backend.Function object at 0x11306cd90>\r\nins = [0.0], batch_size = None, verbose = 0, steps = 1\r\n\r\n    def _predict_loop(self, f, ins, batch_size=32, verbose=0, steps=None):\r\n        \"\"\"Abstract method to loop over some data in batches.\r\n\r\n            # Arguments\r\n                f: Keras function returning a list of tensors.\r\n                ins: list of tensors to be fed to `f`.\r\n                batch_size: integer batch size.\r\n                verbose: verbosity mode.\r\n                steps: Total number of steps (batches of samples)\r\n                    before declaring _predict_loop finished.\r\n                    Ignored with the default value of `None`.\r\n\r\n            # Returns\r\n                Array of predictions (if the model has a single output)\r\n                or list of arrays of predictions\r\n                (if the model has multiple outputs).\r\n            \"\"\"\r\n        samples = self._check_num_samples(ins, batch_size, steps, 'steps')\r\n        outs = []\r\n        if verbose == 1:\r\n            progbar = Progbar(target=samples)\r\n        batches = _make_batches(samples, batch_size)\r\n        index_array = np.arange(samples)\r\n        for batch_index, (batch_start, batch_end) in enumerate(batches):\r\n            batch_ids = index_array[batch_start:batch_end]\r\n            if ins and isinstance(ins[-1], float):\r\n                # Do not slice the training phase flag.\r\n                ins_batch = _slice_arrays(ins[:-1], batch_ids) + [ins[-1]]\r\n            else:\r\n                ins_batch = _slice_arrays(ins, batch_ids)\r\n\r\n            batch_outs = f(ins_batch)\r\n            if not isinstance(batch_outs, list):\r\n                batch_outs = [batch_outs]\r\n            if batch_index == 0:\r\n                for batch_out in batch_outs:\r\n                    shape = (samples,) + batch_out.shape[1:]\r\n                    outs.append(np.zeros(shape, dtype=batch_out.dtype))\r\n\r\n            for i, batch_out in enumerate(batch_outs):\r\n>               outs[i][batch_start:batch_end] = batch_out\r\nE               ValueError: could not broadcast input array from shape (10,4) into shape (1,4)\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/311195781/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/320470946",
          "html_url": "https://github.com/keras-team/keras/pull/7113#issuecomment-320470946",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7113",
          "id": 320470946,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDQ3MDk0Ng==",
          "user": {
            "login": "TimZaman",
            "id": 7721540,
            "node_id": "MDQ6VXNlcjc3MjE1NDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7721540?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TimZaman",
            "html_url": "https://github.com/TimZaman",
            "followers_url": "https://api.github.com/users/TimZaman/followers",
            "following_url": "https://api.github.com/users/TimZaman/following{/other_user}",
            "gists_url": "https://api.github.com/users/TimZaman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/TimZaman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TimZaman/subscriptions",
            "organizations_url": "https://api.github.com/users/TimZaman/orgs",
            "repos_url": "https://api.github.com/users/TimZaman/repos",
            "events_url": "https://api.github.com/users/TimZaman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/TimZaman/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-05T21:17:29Z",
          "updated_at": "2017-08-05T21:17:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "Starting to looking good - did not verify. Would you mind to rebase and squash?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/320470946/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/320782529",
          "html_url": "https://github.com/keras-team/keras/pull/7113#issuecomment-320782529",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7113",
          "id": 320782529,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDc4MjUyOQ==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-07T21:14:24Z",
          "updated_at": "2017-08-07T21:15:28Z",
          "author_association": "CONTRIBUTOR",
          "body": "I wanted to mention I don't think any validation can be supported with input tensors in this PR unless someone has a clean idea for how to do so in only a few lines. I did update validation to work with input numpy arrays when `steps_per_epoch` is set but `validation_steps` is not set. See https://github.com/fchollet/keras/pull/7113#discussion_r131526240 for details.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/320782529/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/320792417",
          "html_url": "https://github.com/keras-team/keras/pull/7113#issuecomment-320792417",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7113",
          "id": 320792417,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDc5MjQxNw==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-07T21:59:01Z",
          "updated_at": "2017-08-07T21:59:10Z",
          "author_association": "COLLABORATOR",
          "body": "One more thing: `batch_size = 256` seems like a very large batch size. Why not e.g. 128?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/320792417/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/320829157",
          "html_url": "https://github.com/keras-team/keras/pull/7113#issuecomment-320829157",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7113",
          "id": 320829157,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDgyOTE1Nw==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-08T02:03:33Z",
          "updated_at": "2017-08-08T16:29:51Z",
          "author_association": "CONTRIBUTOR",
          "body": "Large batch sizes can run much in less wall clock time and still get better performance. For example `batch_size=600`, `steps_per_epoch=300`, `epochs=6` ran in 30% less time and predicted 0.1% more accurately. Not really relevant to this PR so I just set it to approximately match `mnist_cnn.py`.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/320829157/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/320872251",
          "html_url": "https://github.com/keras-team/keras/pull/7113#issuecomment-320872251",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7113",
          "id": 320872251,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDg3MjI1MQ==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-08T07:18:32Z",
          "updated_at": "2017-08-08T07:18:32Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet hopefully everything should be addressed now",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/320872251/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/320905008",
          "html_url": "https://github.com/keras-team/keras/pull/7113#issuecomment-320905008",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7113",
          "id": 320905008,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDkwNTAwOA==",
          "user": {
            "login": "TimZaman",
            "id": 7721540,
            "node_id": "MDQ6VXNlcjc3MjE1NDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7721540?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TimZaman",
            "html_url": "https://github.com/TimZaman",
            "followers_url": "https://api.github.com/users/TimZaman/followers",
            "following_url": "https://api.github.com/users/TimZaman/following{/other_user}",
            "gists_url": "https://api.github.com/users/TimZaman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/TimZaman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TimZaman/subscriptions",
            "organizations_url": "https://api.github.com/users/TimZaman/orgs",
            "repos_url": "https://api.github.com/users/TimZaman/repos",
            "events_url": "https://api.github.com/users/TimZaman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/TimZaman/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-08T09:37:21Z",
          "updated_at": "2017-08-08T09:37:21Z",
          "author_association": "CONTRIBUTOR",
          "body": "LGTM",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/320905008/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321079939",
          "html_url": "https://github.com/keras-team/keras/pull/7113#issuecomment-321079939",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7113",
          "id": 321079939,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTA3OTkzOQ==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-08T20:58:30Z",
          "updated_at": "2017-08-08T20:59:30Z",
          "author_association": "CONTRIBUTOR",
          "body": "I merged the changes to `predict(steps)` and `evaluate(steps)` into #6928 and reverted them here. \r\nThat's because such a change will require adding support for an input tensor as a label, a change that is in the scope of #6928 and out of scope for this PR. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321079939/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321080361",
          "html_url": "https://github.com/keras-team/keras/pull/7113#issuecomment-321080361",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7113",
          "id": 321080361,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTA4MDM2MQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-08T21:00:14Z",
          "updated_at": "2017-08-08T21:00:14Z",
          "author_association": "COLLABORATOR",
          "body": "I think it's preferable to have them here for API consistency. Like in `fit`, it just requires your model to be compiled with a `None` loss (and a call to `add_loss` before compilation).",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321080361/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321135173",
          "html_url": "https://github.com/keras-team/keras/pull/7113#issuecomment-321135173",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7113",
          "id": 321135173,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTEzNTE3Mw==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-09T02:30:57Z",
          "updated_at": "2017-08-09T18:48:57Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet @TimZaman @Dref360 Considering the need for predict & evaluate, which then requires labels from input tensors, could we simply continue the review over at #6928, or is there a better approach?\r\n\r\nEverything from this PR #7113 is merged into #6928. \r\nWhile I know #6928 is rather large but it is the only PR that can provide a smooth transition in a single merge with decent overall API consistency. I've got everything working now in #6928 as follows:\r\n\r\n```python\r\n# API 2\r\n\r\nmodel = # on top of the tensor input\r\nmodel.add_loss()  # involving y_tensor\r\nmodel.fit(epochs=10, steps_per_epoch=1000)\r\n\r\n# API 3\r\n\r\nmodel = # on top of the tensor input\r\nmodel.compile()\r\nmodel.fit(y=y_tensor, epochs=10, steps_per_epoch=1000)\r\n```\r\n\r\nThere are extended unit tests and support for Input Tensors with each of the following APIs:\r\n\r\n```python\r\n\r\n    # train_on_batch\r\n    out = model.train_on_batch(x, y)\r\n\r\n    # test_on_batch\r\n    out = model.test_on_batch(x, y)\r\n\r\n    # predict_on_batch\r\n    out = model.predict_on_batch(x)\r\n\r\n    # fit\r\n    out = model.fit(x, y, epochs=1, batch_size=batch_size,\r\n                    steps_per_epoch=steps_per_epoch)\r\n\r\n    # evaluate\r\n    out = model.evaluate(x, y, batch_size=batch_size,\r\n                         steps=steps_per_epoch)\r\n\r\n    # predict\r\n    out = model.predict(x, batch_size=batch_size,\r\n                        steps=steps_per_epoch)\r\n```\r\n\r\nI've also incorporated and merged all feedback from all the split atomic PRs into #6928, so it is the canonical version with the most complete functionality for the purposes discussed here, but I'm ok with an alternative solution that works as well. :-)",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321135173/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321877960",
          "html_url": "https://github.com/keras-team/keras/pull/7113#issuecomment-321877960",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7113",
          "id": 321877960,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTg3Nzk2MA==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-11T17:52:45Z",
          "updated_at": "2017-08-11T17:52:45Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet Addressed the review items here.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321877960/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321902429",
          "html_url": "https://github.com/keras-team/keras/pull/7113#issuecomment-321902429",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7113",
          "id": 321902429,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTkwMjQyOQ==",
          "user": {
            "login": "TimZaman",
            "id": 7721540,
            "node_id": "MDQ6VXNlcjc3MjE1NDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7721540?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/TimZaman",
            "html_url": "https://github.com/TimZaman",
            "followers_url": "https://api.github.com/users/TimZaman/followers",
            "following_url": "https://api.github.com/users/TimZaman/following{/other_user}",
            "gists_url": "https://api.github.com/users/TimZaman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/TimZaman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TimZaman/subscriptions",
            "organizations_url": "https://api.github.com/users/TimZaman/orgs",
            "repos_url": "https://api.github.com/users/TimZaman/repos",
            "events_url": "https://api.github.com/users/TimZaman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/TimZaman/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-11T19:43:57Z",
          "updated_at": "2017-08-11T19:43:57Z",
          "author_association": "CONTRIBUTOR",
          "body": "Awesome!\n\nOn Fri, 11 Aug 2017 at 21:06, Fran\u00e7ois Chollet <notifications@github.com>\nwrote:\n\n> Merged #7113 <https://github.com/fchollet/keras/pull/7113>.\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/fchollet/keras/pull/7113#event-1203041504>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AHXSRHYCC8oRgAkkvHtCAlJBmlVx9tqXks5sXJgigaJpZM4OENzV>\n> .\n>\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321902429/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321936442",
          "html_url": "https://github.com/keras-team/keras/pull/7113#issuecomment-321936442",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/7113",
          "id": 321936442,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTkzNjQ0Mg==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-11T22:58:13Z",
          "updated_at": "2017-08-11T22:58:13Z",
          "author_association": "CONTRIBUTOR",
          "body": "Yay!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321936442/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/1623",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/1623/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/1623/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/1623/events",
      "html_url": "https://github.com/keras-team/keras/pull/1623",
      "id": 130688470,
      "node_id": "MDExOlB1bGxSZXF1ZXN0NTc5ODg4MDA=",
      "number": 1623,
      "title": "Convolutional layers for 3D",
      "user": {
        "login": "oeway",
        "id": 478667,
        "node_id": "MDQ6VXNlcjQ3ODY2Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/478667?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/oeway",
        "html_url": "https://github.com/oeway",
        "followers_url": "https://api.github.com/users/oeway/followers",
        "following_url": "https://api.github.com/users/oeway/following{/other_user}",
        "gists_url": "https://api.github.com/users/oeway/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/oeway/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/oeway/subscriptions",
        "organizations_url": "https://api.github.com/users/oeway/orgs",
        "repos_url": "https://api.github.com/users/oeway/repos",
        "events_url": "https://api.github.com/users/oeway/events{/privacy}",
        "received_events_url": "https://api.github.com/users/oeway/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 54,
      "created_at": "2016-02-02T13:49:49Z",
      "updated_at": "2016-05-06T07:50:19Z",
      "closed_at": "2016-02-22T20:47:06Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/1623",
        "html_url": "https://github.com/keras-team/keras/pull/1623",
        "diff_url": "https://github.com/keras-team/keras/pull/1623.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/1623.patch",
        "merged_at": "2016-02-22T20:47:06Z"
      },
      "body": "This PR includes the following convolution layers:\n- Convolution3D\n- MaxPooling3D\n- AveragePooling3D\n- UpSampling3D\n- ZeroPadding3D\n\nAnd also the corresponding test functions for these layers.\n\nYou can use it like this:\nConvolution3D(nb_filters, nb_time, nb_row, nb_col)\nSee the convolution 3D example in examples/shapes_3d_cnn.py by @MinhazPalasara.\n\nThe shape of the underlaying 5D tensor:\n        `(samples, channels, time, rows, cols)` if dim_ordering='th'\n        `(samples, time, rows, cols, channels)` if dim_ordering='tf'.\n\nHere I used \"time\" for the case of movies, of course it can be depth of a 3D volume. I didn't use the notion \"depth\" because some people use \"depth\" to stand for filter or channel, the word \"depth\" sometimes appears in the docstring of Keras when it means channel.\n\nThe following functions are added into theano_backend.py:\n- conv3d\n- pool3d\n- resize_volumes\n- spatial_3d_padding\n\nBut notice that, currently, these layers won't work in tensorflow backend, due the fact that there is no convolution3d ops implemented in tensorflow. It would be great if anyone can implement it.\n\nDetails about convolutional 3D in theano:\n\n   There are two implementations available in theano, I used `conv3d2d.conv3d` for both GPU and CPU, because it's faster:\n- on CPU:\n\n```\n        *  conv3d2d.conv3d:    160 ms per loop\noutput:\n[  2.30778933   2.12729692  -3.06885958  -4.90572691  10.89875412\n   3.7447443   -4.60463953   8.3501606    3.69148254  -0.93439424]\n\n        *  nnet.conv3D: 1.19 s per loop\noutput:\n[  2.30778956   2.12729645  -3.0688591   -4.90572643  10.89875507\n   3.74474525  -4.60463953   8.35016346   3.69148254  -0.93439448]\n```\n- on GPU (k40):\n\n```\n        *  conv3d2d.conv3d:    36.2 ms per loop\noutput:\n[  2.30778933   2.12729692  -3.06885958  -4.90572691  10.89875412\n   3.7447443   -4.60463953   8.3501606    3.69148254  -0.93439424]\n\n       *  nnet.conv3D: 941 ms per loop\noutput:\n[  2.30778956   2.12729645  -3.0688591   -4.90572643  10.89875507\n   3.74474525  -4.60463953   8.35016346   3.69148254  -0.93439448]\n\n```\n\nNotice that there are precision differences with `conv3d2d.conv3d` on GPU and CPU. The testing code can be found in this discussion: https://groups.google.com/d/msg/theano-users/1S9_bZgHxVw/0cQR9a4riFUJ.\n\nAnother PR(#718) was created by @MinhazPalasara  but it's out dated. Many functions, the test example and test dataset in this PR are taken from #718, thanks @MinhazPalasara, @rbharath, @fchollet and others for improving that codes and giving suggestions.\n\nBe careful that, these codes are not tested restrictedly, please report bugs if you encountered any.\n",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/1623/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/1623/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/178688025",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-178688025",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 178688025,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE3ODY4ODAyNQ==",
          "user": {
            "login": "oeway",
            "id": 478667,
            "node_id": "MDQ6VXNlcjQ3ODY2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/478667?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oeway",
            "html_url": "https://github.com/oeway",
            "followers_url": "https://api.github.com/users/oeway/followers",
            "following_url": "https://api.github.com/users/oeway/following{/other_user}",
            "gists_url": "https://api.github.com/users/oeway/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oeway/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oeway/subscriptions",
            "organizations_url": "https://api.github.com/users/oeway/orgs",
            "repos_url": "https://api.github.com/users/oeway/repos",
            "events_url": "https://api.github.com/users/oeway/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oeway/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-02T17:01:01Z",
          "updated_at": "2016-02-02T21:55:34Z",
          "author_association": "CONTRIBUTOR",
          "body": "By running the test code, I notice that, the loss value from each epoch is different when I run on GPU and CPU, I think it could possibly because the precision difference of `conv3d2d.conv3d`, but not sure if it's normal for a layer to give different result on GPU and CPU.\n\nIn my test, I tried to fix the random seed by `np.random.seed(0)`, but maybe it's not working correctly because of theano. It still can't explain why CPU tends to have higher loss value with the same epoch number, I tried many times and it behaves similar.\n- Run on GPU\n\n```\nTrain on 4000 samples, validate on 1000 samples\nEpoch 1/100\n32s - loss: 0.7605 - acc: 0.7418 - val_loss: 0.1312 - val_acc: 1.0000\nEpoch 2/100\n32s - loss: 0.0711 - acc: 0.9910 - val_loss: 0.0062 - val_acc: 1.0000\nEpoch 3/100\n32s - loss: 0.1353 - acc: 0.9808 - val_loss: 0.0029 - val_acc: 1.0000\nEpoch 4/100\n32s - loss: 0.0045 - acc: 0.9995 - val_loss: 9.2182e-04 - val_acc: 1.0000\nEpoch 5/100\n32s - loss: 0.0019 - acc: 0.9995 - val_loss: 0.9107 - val_acc: 0.8010\nEpoch 6/100\n32s - loss: 0.0465 - acc: 0.9910 - val_loss: 1.4903e-04 - val_acc: 1.0000\n```\n- Run on CPU\n\n```\nTrain on 4000 samples, validate on 1000 samples\nEpoch 1/100\n223s - loss: 0.9434 - acc: 0.5200 - val_loss: 0.6909 - val_acc: 0.6500\nEpoch 2/100\n245s - loss: 0.5292 - acc: 0.7597 - val_loss: 0.1592 - val_acc: 0.9680\nEpoch 3/100\n248s - loss: 0.1219 - acc: 0.9738 - val_loss: 0.0613 - val_acc: 1.0000\nEpoch 4/100\n249s - loss: 0.1347 - acc: 0.9698 - val_loss: 0.0566 - val_acc: 1.0000\nEpoch 5/100\n249s - loss: 0.0099 - acc: 0.9988 - val_loss: 0.0095 - val_acc: 1.0000\nEpoch 6/100\n249s - loss: 0.0039 - acc: 0.9990 - val_loss: 8.9441e-04 - val_acc: 1.0000\n```\n\nAny idea about this difference?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/178688025/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/178839939",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-178839939",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 178839939,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE3ODgzOTkzOQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-02T21:39:44Z",
          "updated_at": "2016-02-02T21:50:15Z",
          "author_association": "COLLABORATOR",
          "body": "I think 3D operators will be interesting to have in Keras. I will do a detailed code review in the near future. For now, please:\n- drop the dataset and the associated example\n- scrub references to \"time\", \"rows\" and \"cols\" from the added layers (including the docstrings). \"rows\" and \"cols\" (and channels) make sense for arbitrary 4D tensors, but \"time\" does not for 5D tensors. I'd replace them with \"first_spatial_dim\", \"second_spatial_dim\", \"third_spatial_dim\", \"channels\" (if you can think of something more concise while still abstract and explicit, that's fine too).\n- Add exceptions in all added layers to output a helpful error message in case the layers are instantiated with the TensorFlow backend.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/178839939/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/178879472",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-178879472",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 178879472,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE3ODg3OTQ3Mg==",
          "user": {
            "login": "oeway",
            "id": 478667,
            "node_id": "MDQ6VXNlcjQ3ODY2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/478667?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oeway",
            "html_url": "https://github.com/oeway",
            "followers_url": "https://api.github.com/users/oeway/followers",
            "following_url": "https://api.github.com/users/oeway/following{/other_user}",
            "gists_url": "https://api.github.com/users/oeway/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oeway/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oeway/subscriptions",
            "organizations_url": "https://api.github.com/users/oeway/orgs",
            "repos_url": "https://api.github.com/users/oeway/repos",
            "events_url": "https://api.github.com/users/oeway/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oeway/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-02T23:14:49Z",
          "updated_at": "2016-02-02T23:53:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for the response.\nFor the references to \"time\", I have the similar concern as you, but it's not easy to find one which is abstract and explicit. \n\nIn real world, and in the context of CNN, 3D data usually means 3D volume or 2D movie. For 3D volume, it's spatial signal. And for movie, it's spatio-temporal signal. Names such as \"first_spatial_dim\", \"second_spatial_dim\" etc. would not apply in the case of a movie, because, time dimension for a movie is not the \"first spatial dim\", it's a temporal dim.\n\nMaybe other people have better ideas about how to define it, but before we find a good one, perhaps, it would still be reasonable to use \"time\":\n1. In the real world, movie-like data have a lot of applications simply because we have a lot of cameras which is capable of recording video, at least, it hard to say there is more application in 3D volume than movie, so it hard to make choice to define the first dim into time or z/depth.\n2. In 2D, most application are working on static image, and it's very natural to treat 3D as movie by default.\n3. For 1D signal, Keras say it's a temporal signal, and for 2D signal, it's spatial signal. And these assumptions are not always true, it's still useful because it matches the most common task in real-life and it's very intuitive to understand how layers work.\n4. Theano should be more general than Keras, but it still uses \"time\", \"movie\" and \"spatio-temporal\" for 3D signal. For example, in `conv3d2d.conv3d` and `nnet.conv3D`, they both used \"time\" in the docstring.\n5. When the user understand how Keras process a movie, and it would be very easy for them to extend to 3D volume data by replacing time into z dimension. Plus, we could just mention that in the docstring.\n\nSo, I would suggest we use a more specific word to make it easier to understand.\n\nIf other people have better idea on this, please discuss here.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/178879472/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/178967112",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-178967112",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 178967112,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE3ODk2NzExMg==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-03T02:47:26Z",
          "updated_at": "2016-02-03T02:47:26Z",
          "author_association": "COLLABORATOR",
          "body": "It's precise because \"space\" does not mean physical 3D space, it means\nspace. As in, a vector space in linear algebra. In the context of\nconvolution, \"space\" means that which on which you convolve (as opposed to\n\"channels\").\n\nOn 2 February 2016 at 15:15, Will Ouyang notifications@github.com wrote:\n\n> Thanks for the response.\n> For the references to \"time\", I have the similar concern as you, but it's\n> not easy to find one which is abstract and explicit.\n> \n> In real world, and in the context of CNN, 3D data usually means 3D volume\n> or 2D movie. For 3D volume, it's spatial signal. And for movie, it's\n> spatio-temporal signal. For \"first_spatial_dim\", \"second_spatial_dim\" etc.,\n> it's still not precise, because, time dimension for a movie is not the\n> first spatial dim, it's a temporal dim.\n> \n> Maybe other people have better ideas about how to define it, but before we\n> find a good one, perhaps, it would still be reasonable to use \"time\":\n> 1. In the real world, movie-like data have much more applications,\n>    simply because we have more cameras which can take videos, and much less\n>    device to capture 3D volume.\n> 2. In 2D, most application are working on static image, and it's very\n>    natural to treat 3D as movie by default.\n> 3. For 1D signal, Keras say it's a temporal signal, and for 2D signal,\n>    it's spatial signal. And these assumptions are not always true, it's still\n>    useful because it matches the most common task in real-life and it's very\n>    intuitive to understand how layers work.\n> 4. Theano should be more general than Keras, but it still uses \"time\",\n>    \"movie\" and \"spatio-temporal\" for 3D signal. For example, in\n>    conv3d2d.conv3d and nnet.conv3D, they both used \"time\" in the docstring.\n> 5. When the user understand how Keras process a movie, and it would be\n>    very easy for them to replace the time dimension into z dimension. Plus, we\n>    could just say it in the docstring about that.\n> \n> So, I would suggest we use a more specific word to make it more easier to\n> understand.\n> \n> If other people have better idea on this, please discuss here.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/fchollet/keras/pull/1623#issuecomment-178879472.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/178967112/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/178968922",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-178968922",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 178968922,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE3ODk2ODkyMg==",
          "user": {
            "login": "rbharath",
            "id": 1057676,
            "node_id": "MDQ6VXNlcjEwNTc2NzY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1057676?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rbharath",
            "html_url": "https://github.com/rbharath",
            "followers_url": "https://api.github.com/users/rbharath/followers",
            "following_url": "https://api.github.com/users/rbharath/following{/other_user}",
            "gists_url": "https://api.github.com/users/rbharath/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rbharath/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rbharath/subscriptions",
            "organizations_url": "https://api.github.com/users/rbharath/orgs",
            "repos_url": "https://api.github.com/users/rbharath/repos",
            "events_url": "https://api.github.com/users/rbharath/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rbharath/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-03T02:50:17Z",
          "updated_at": "2016-02-03T02:50:17Z",
          "author_association": "NONE",
          "body": "+1 for @fchollet's notation. I use 3D CNNs on 3D renderings where the 3rd dimension isn't time.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/178968922/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/179743496",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-179743496",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 179743496,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE3OTc0MzQ5Ng==",
          "user": {
            "login": "mmmikael",
            "id": 85865,
            "node_id": "MDQ6VXNlcjg1ODY1",
            "avatar_url": "https://avatars.githubusercontent.com/u/85865?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mmmikael",
            "html_url": "https://github.com/mmmikael",
            "followers_url": "https://api.github.com/users/mmmikael/followers",
            "following_url": "https://api.github.com/users/mmmikael/following{/other_user}",
            "gists_url": "https://api.github.com/users/mmmikael/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mmmikael/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mmmikael/subscriptions",
            "organizations_url": "https://api.github.com/users/mmmikael/orgs",
            "repos_url": "https://api.github.com/users/mmmikael/repos",
            "events_url": "https://api.github.com/users/mmmikael/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mmmikael/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-04T10:03:44Z",
          "updated_at": "2016-02-04T10:03:44Z",
          "author_association": "NONE",
          "body": "+1 for the \"vector space\" notation.\n\nThis notation would be compatible with hypothetical N-d convolutions.\nWe also have 3 spatial dimensions in medical imaging btw.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/179743496/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/179750259",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-179750259",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 179750259,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE3OTc1MDI1OQ==",
          "user": {
            "login": "oeway",
            "id": 478667,
            "node_id": "MDQ6VXNlcjQ3ODY2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/478667?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oeway",
            "html_url": "https://github.com/oeway",
            "followers_url": "https://api.github.com/users/oeway/followers",
            "following_url": "https://api.github.com/users/oeway/following{/other_user}",
            "gists_url": "https://api.github.com/users/oeway/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oeway/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oeway/subscriptions",
            "organizations_url": "https://api.github.com/users/oeway/orgs",
            "repos_url": "https://api.github.com/users/oeway/repos",
            "events_url": "https://api.github.com/users/oeway/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oeway/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-04T10:18:01Z",
          "updated_at": "2016-02-04T10:18:01Z",
          "author_association": "CONTRIBUTOR",
          "body": "OK, let's use the vector space notation then. Thanks for everyone.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/179750259/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/179903594",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-179903594",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 179903594,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE3OTkwMzU5NA==",
          "user": {
            "login": "oeway",
            "id": 478667,
            "node_id": "MDQ6VXNlcjQ3ODY2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/478667?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oeway",
            "html_url": "https://github.com/oeway",
            "followers_url": "https://api.github.com/users/oeway/followers",
            "following_url": "https://api.github.com/users/oeway/following{/other_user}",
            "gists_url": "https://api.github.com/users/oeway/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oeway/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oeway/subscriptions",
            "organizations_url": "https://api.github.com/users/oeway/orgs",
            "repos_url": "https://api.github.com/users/oeway/repos",
            "events_url": "https://api.github.com/users/oeway/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oeway/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-04T15:35:45Z",
          "updated_at": "2016-02-04T15:55:44Z",
          "author_association": "CONTRIBUTOR",
          "body": "Don't you guys think \"first_spatial_dim\" is too long? \nThen I will have this in the docstring:\n\n```\n    # Input shape\n        5D tensor with shape:\n        `(samples, channels, first_spatial_dim, second_spatial_dim, third_spatial_dim)` if dim_ordering='th'\n        or 5D tensor with shape:\n        `(samples, first_spatial_dim, second_spatial_dim, third_spatial_dim, channels)` if dim_ordering='tf'.\n```\n\nIn the arguments we have \"nb_row\", \"nb_filter\", and now we need to add  \"nb_first_spatial_dim\" or \"len_first_spatial_dim\"? \n\n```\nArguments\n        nb_filter: Number of convolution filters to use.\n        nb_first_spatial_dim: Number of elements in the first spatial dimension in the covolution kernel.\n```\n\nAlternatives are to use:\n- \"spatial_dim1\", \"nb_spatial_dim1\", etc.\n-  \"dim1\", \"nb_dim1/len_dim1\"\n-  \"x_dim\", \"y_dim\", \"z_dim\", \"nb_z_dim\"\n\nHow about keep the \"rows\" and \"cols\", and add another notation for the extra dimension? That would be more consistent with 1D and 2D case. Examples are \"z_dim\" if we think \"rows\" and \"cols\" are from XY plane, then the extra dimension is Z.\nWhat do you think?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/179903594/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/180871205",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-180871205",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 180871205,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE4MDg3MTIwNQ==",
          "user": {
            "login": "mmmikael",
            "id": 85865,
            "node_id": "MDQ6VXNlcjg1ODY1",
            "avatar_url": "https://avatars.githubusercontent.com/u/85865?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mmmikael",
            "html_url": "https://github.com/mmmikael",
            "followers_url": "https://api.github.com/users/mmmikael/followers",
            "following_url": "https://api.github.com/users/mmmikael/following{/other_user}",
            "gists_url": "https://api.github.com/users/mmmikael/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mmmikael/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mmmikael/subscriptions",
            "organizations_url": "https://api.github.com/users/mmmikael/orgs",
            "repos_url": "https://api.github.com/users/mmmikael/repos",
            "events_url": "https://api.github.com/users/mmmikael/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mmmikael/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-06T21:48:18Z",
          "updated_at": "2016-02-06T21:48:18Z",
          "author_association": "NONE",
          "body": "> How about keep the \"rows\" and \"cols\", and add another notation for the extra dimension? That would be more consistent with 1D and 2D case. Examples are \"z_dim\" if we think \"rows\" and \"cols\" are from XY plane, then the extra dimension is Z.\n> What do you think?\n\nThere is a reddit thread on exactly this topic:  [If a 2d matrix has rows and columns, what is the third dimension in a 3d matrix?](https://www.reddit.com/r/math/comments/1ajrfu/if_a_2d_matrix_has_rows_and_columns_what_is_the/).\n\nI like `slices`.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/180871205/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181103271",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-181103271",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 181103271,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE4MTEwMzI3MQ==",
          "user": {
            "login": "jocicmarko",
            "id": 1452125,
            "node_id": "MDQ6VXNlcjE0NTIxMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1452125?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jocicmarko",
            "html_url": "https://github.com/jocicmarko",
            "followers_url": "https://api.github.com/users/jocicmarko/followers",
            "following_url": "https://api.github.com/users/jocicmarko/following{/other_user}",
            "gists_url": "https://api.github.com/users/jocicmarko/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jocicmarko/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jocicmarko/subscriptions",
            "organizations_url": "https://api.github.com/users/jocicmarko/orgs",
            "repos_url": "https://api.github.com/users/jocicmarko/repos",
            "events_url": "https://api.github.com/users/jocicmarko/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jocicmarko/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-07T20:27:29Z",
          "updated_at": "2016-02-07T20:27:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "+1 for `slices`.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181103271/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181205443",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-181205443",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 181205443,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE4MTIwNTQ0Mw==",
          "user": {
            "login": "jruales",
            "id": 1588988,
            "node_id": "MDQ6VXNlcjE1ODg5ODg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1588988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jruales",
            "html_url": "https://github.com/jruales",
            "followers_url": "https://api.github.com/users/jruales/followers",
            "following_url": "https://api.github.com/users/jruales/following{/other_user}",
            "gists_url": "https://api.github.com/users/jruales/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jruales/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jruales/subscriptions",
            "organizations_url": "https://api.github.com/users/jruales/orgs",
            "repos_url": "https://api.github.com/users/jruales/repos",
            "events_url": "https://api.github.com/users/jruales/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jruales/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-08T05:43:53Z",
          "updated_at": "2016-02-08T05:43:53Z",
          "author_association": "NONE",
          "body": "+1 for `slices` since they could mean time-slices or 2D slices of a 3D scan\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181205443/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181216559",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-181216559",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 181216559,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE4MTIxNjU1OQ==",
          "user": {
            "login": "jruales",
            "id": 1588988,
            "node_id": "MDQ6VXNlcjE1ODg5ODg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1588988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jruales",
            "html_url": "https://github.com/jruales",
            "followers_url": "https://api.github.com/users/jruales/followers",
            "following_url": "https://api.github.com/users/jruales/following{/other_user}",
            "gists_url": "https://api.github.com/users/jruales/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jruales/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jruales/subscriptions",
            "organizations_url": "https://api.github.com/users/jruales/orgs",
            "repos_url": "https://api.github.com/users/jruales/repos",
            "events_url": "https://api.github.com/users/jruales/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jruales/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-08T06:18:26Z",
          "updated_at": "2016-02-08T06:18:26Z",
          "author_association": "NONE",
          "body": "What distinguishes the row, column, and new dimension from the batch and filter dimensions is that the convolution filter slides across these dimensions, so wouldn't it make sense to call these dimensions `conv_dim1`, `conv_dim2`, and `conv_dim3`?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181216559/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181221991",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-181221991",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 181221991,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE4MTIyMTk5MQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-08T06:24:15Z",
          "updated_at": "2016-02-08T06:24:21Z",
          "author_association": "COLLABORATOR",
          "body": "> wouldn't it make sense to call these dimensions conv_dim1, conv_dim2, and conv_dim3?\n\n+1\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181221991/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181327431",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-181327431",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 181327431,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE4MTMyNzQzMQ==",
          "user": {
            "login": "oeway",
            "id": 478667,
            "node_id": "MDQ6VXNlcjQ3ODY2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/478667?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oeway",
            "html_url": "https://github.com/oeway",
            "followers_url": "https://api.github.com/users/oeway/followers",
            "following_url": "https://api.github.com/users/oeway/following{/other_user}",
            "gists_url": "https://api.github.com/users/oeway/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oeway/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oeway/subscriptions",
            "organizations_url": "https://api.github.com/users/oeway/orgs",
            "repos_url": "https://api.github.com/users/oeway/repos",
            "events_url": "https://api.github.com/users/oeway/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oeway/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-08T11:33:05Z",
          "updated_at": "2016-02-08T11:33:05Z",
          "author_association": "CONTRIBUTOR",
          "body": "I have changed it to \"conv_dim1\" and \"len_conv_dim1\", if you guys have better idea, or more people vote for \"slices, rows, cols\", we could make another change to it.\n\n@fchollet I think I am done, could you please do a code review if you have time, and merge it? Otherwise, I would need to follow your master repository all the time. Thanks.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181327431/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181512995",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-181512995",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 181512995,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE4MTUxMjk5NQ==",
          "user": {
            "login": "mdering",
            "id": 1246446,
            "node_id": "MDQ6VXNlcjEyNDY0NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1246446?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mdering",
            "html_url": "https://github.com/mdering",
            "followers_url": "https://api.github.com/users/mdering/followers",
            "following_url": "https://api.github.com/users/mdering/following{/other_user}",
            "gists_url": "https://api.github.com/users/mdering/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mdering/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mdering/subscriptions",
            "organizations_url": "https://api.github.com/users/mdering/orgs",
            "repos_url": "https://api.github.com/users/mdering/repos",
            "events_url": "https://api.github.com/users/mdering/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mdering/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-08T18:37:59Z",
          "updated_at": "2016-02-08T18:40:17Z",
          "author_association": "CONTRIBUTOR",
          "body": "I'm using this PR as a part of a project and it doesn't seem to be working with a fairly straightforward model design. Are you sure it's working as intended? specifically, it seems when I added a stride size for the 3D CNN layer it caused dimensions to be miscalculated. Removing subsamples=(2,2,2) seems to fix the problem. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181512995/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181589079",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-181589079",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 181589079,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE4MTU4OTA3OQ==",
          "user": {
            "login": "oeway",
            "id": 478667,
            "node_id": "MDQ6VXNlcjQ3ODY2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/478667?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oeway",
            "html_url": "https://github.com/oeway",
            "followers_url": "https://api.github.com/users/oeway/followers",
            "following_url": "https://api.github.com/users/oeway/following{/other_user}",
            "gists_url": "https://api.github.com/users/oeway/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oeway/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oeway/subscriptions",
            "organizations_url": "https://api.github.com/users/oeway/orgs",
            "repos_url": "https://api.github.com/users/oeway/repos",
            "events_url": "https://api.github.com/users/oeway/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oeway/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-08T22:06:45Z",
          "updated_at": "2016-02-09T00:34:13Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for reporting the problem. I just checked, stride is not implemented in conv3d2d.conv3d currently. So, for now the only supported stride is (1,1,1), and you can remove those result yourself(maybe with a Lambda layer).\n\nYou can see the document here: http://deeplearning.net/software/theano/library/tensor/nnet/conv.html#theano.tensor.nnet.conv3d2d.conv3d\n\nI will put this in the docstring then, sorry for the misleading.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181589079/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181596612",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-181596612",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 181596612,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE4MTU5NjYxMg==",
          "user": {
            "login": "mdering",
            "id": 1246446,
            "node_id": "MDQ6VXNlcjEyNDY0NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1246446?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mdering",
            "html_url": "https://github.com/mdering",
            "followers_url": "https://api.github.com/users/mdering/followers",
            "following_url": "https://api.github.com/users/mdering/following{/other_user}",
            "gists_url": "https://api.github.com/users/mdering/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mdering/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mdering/subscriptions",
            "organizations_url": "https://api.github.com/users/mdering/orgs",
            "repos_url": "https://api.github.com/users/mdering/repos",
            "events_url": "https://api.github.com/users/mdering/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mdering/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-08T22:23:34Z",
          "updated_at": "2016-02-08T22:23:34Z",
          "author_association": "CONTRIBUTOR",
          "body": "Right that makes sense. You should probably note that this parameter is ignored and add in a check so that this doesn't happen to others. \nThanks!\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181596612/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181865488",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-181865488",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 181865488,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE4MTg2NTQ4OA==",
          "user": {
            "login": "oeway",
            "id": 478667,
            "node_id": "MDQ6VXNlcjQ3ODY2Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/478667?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oeway",
            "html_url": "https://github.com/oeway",
            "followers_url": "https://api.github.com/users/oeway/followers",
            "following_url": "https://api.github.com/users/oeway/following{/other_user}",
            "gists_url": "https://api.github.com/users/oeway/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oeway/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oeway/subscriptions",
            "organizations_url": "https://api.github.com/users/oeway/orgs",
            "repos_url": "https://api.github.com/users/oeway/repos",
            "events_url": "https://api.github.com/users/oeway/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oeway/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-09T13:30:39Z",
          "updated_at": "2016-02-09T13:30:39Z",
          "author_association": "CONTRIBUTOR",
          "body": "@mdering I just added the support for strides by slicing the output of conv3d, it won't change the real computation, but you should get the result you want. Tell me if you have any problem, thank you.\nHere is what I did:\n`conv_out = conv_out[:, :, ::strides[0], ::strides[1], ::strides[2]]`\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181865488/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181921518",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-181921518",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 181921518,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE4MTkyMTUxOA==",
          "user": {
            "login": "jruales",
            "id": 1588988,
            "node_id": "MDQ6VXNlcjE1ODg5ODg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1588988?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jruales",
            "html_url": "https://github.com/jruales",
            "followers_url": "https://api.github.com/users/jruales/followers",
            "following_url": "https://api.github.com/users/jruales/following{/other_user}",
            "gists_url": "https://api.github.com/users/jruales/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jruales/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jruales/subscriptions",
            "organizations_url": "https://api.github.com/users/jruales/orgs",
            "repos_url": "https://api.github.com/users/jruales/repos",
            "events_url": "https://api.github.com/users/jruales/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jruales/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-09T15:47:22Z",
          "updated_at": "2016-02-09T15:47:22Z",
          "author_association": "NONE",
          "body": "Will that new statement be optimized away when strides are (1, 1, 1)? Otherwise it might be good to add an if statement for that case.\n\nconv3d2d uses 2d convs to create a 3d conv, so I wonder if it would be possible to implement strides efficiently inside conv3d2d by using strides in the conv2d calls. That would be a Theano PR though\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/181921518/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/182073591",
          "html_url": "https://github.com/keras-team/keras/pull/1623#issuecomment-182073591",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1623",
          "id": 182073591,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE4MjA3MzU5MQ==",
          "user": {
            "login": "mdering",
            "id": 1246446,
            "node_id": "MDQ6VXNlcjEyNDY0NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1246446?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mdering",
            "html_url": "https://github.com/mdering",
            "followers_url": "https://api.github.com/users/mdering/followers",
            "following_url": "https://api.github.com/users/mdering/following{/other_user}",
            "gists_url": "https://api.github.com/users/mdering/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mdering/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mdering/subscriptions",
            "organizations_url": "https://api.github.com/users/mdering/orgs",
            "repos_url": "https://api.github.com/users/mdering/repos",
            "events_url": "https://api.github.com/users/mdering/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mdering/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-02-09T21:23:27Z",
          "updated_at": "2016-02-09T21:23:27Z",
          "author_association": "CONTRIBUTOR",
          "body": "@oeway I've tried it and it seems to be working correctly. Thanks. It would be nice to get a better fix for this upstream, since I'm running on some not so fantastic hardware, but in the meantime this is working great. Thanks again.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/182073591/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/11101",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/11101/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/11101/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/11101/events",
      "html_url": "https://github.com/keras-team/keras/issues/11101",
      "id": 357894406,
      "node_id": "MDU6SXNzdWUzNTc4OTQ0MDY=",
      "number": 11101,
      "title": "model.save() throwed out an OSError: Unable to create file(error message = 'resource temporarily unavailable')",
      "user": {
        "login": "BruceDai003",
        "id": 14111577,
        "node_id": "MDQ6VXNlcjE0MTExNTc3",
        "avatar_url": "https://avatars.githubusercontent.com/u/14111577?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BruceDai003",
        "html_url": "https://github.com/BruceDai003",
        "followers_url": "https://api.github.com/users/BruceDai003/followers",
        "following_url": "https://api.github.com/users/BruceDai003/following{/other_user}",
        "gists_url": "https://api.github.com/users/BruceDai003/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/BruceDai003/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/BruceDai003/subscriptions",
        "organizations_url": "https://api.github.com/users/BruceDai003/orgs",
        "repos_url": "https://api.github.com/users/BruceDai003/repos",
        "events_url": "https://api.github.com/users/BruceDai003/events{/privacy}",
        "received_events_url": "https://api.github.com/users/BruceDai003/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 585833447,
          "node_id": "MDU6TGFiZWw1ODU4MzM0NDc=",
          "url": "https://api.github.com/repos/keras-team/keras/labels/To%20investigate",
          "name": "To investigate",
          "color": "f9d0c4",
          "default": false,
          "description": "Looks like a bug. It needs someone to investigate."
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 75,
      "created_at": "2018-09-07T02:18:17Z",
      "updated_at": "2021-06-24T22:33:07Z",
      "closed_at": "2021-06-24T22:33:07Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "Well, I build a keras model, and since sometimes my dataset is too large to fit into the memory, and a `memoryError` throwed out. Thus, I searched and figured out that I need to implement a generator class inherited from `keras.utils.Sequence`, so that I can use `model.fit_generator` and `model.predict_generator`. \r\n\r\nAnd I have several callbacks in my `fit_generator` function, which includes `ModelCheckpoint` to save my model as a `.hdf5` file, and I use `use_multiprocessing=True, workers=16` in my fig_generator` function.\r\nHere is a snippet of this function:\r\n```\r\n        self.model.fit_generator(generator=training_generator,\r\n                                 validation_data=validation_generator,\r\n                                 epochs=epoch,\r\n                                 use_multiprocessing=True,\r\n                                 workers=8,\r\n                                 callbacks=monitor,\r\n                                 verbose=2)\r\n```\r\nThe error message is attached below:\r\n```\r\n\r\nEpoch 00005: val_loss did not improve\r\nEpoch 6/15\r\n - 135s - loss: 52.3622 - val_loss: 74.5698\r\n\r\nEpoch 00006: val_loss improved from 74.99819 to 74.56982, saving model to models/002008.SZ/model.hdf5\r\nEpoch 7/15\r\n - 135s - loss: 52.3163 - val_loss: 74.2776\r\n\r\nEpoch 00007: val_loss improved from 74.56982 to 74.27758, saving model to models/002008.SZ/model.hdf5\r\nTraceback (most recent call last):\r\n  File \"/root/.pycharm_helpers/pydev/pydevd.py\", line 1664, in <module>\r\n    main()\r\n  File \"/root/.pycharm_helpers/pydev/pydevd.py\", line 1658, in main\r\n    globals = debugger.run(setup['file'], None, None, is_module)\r\n  File \"/root/.pycharm_helpers/pydev/pydevd.py\", line 1068, in run\r\n    pydev_imports.execfile(file, globals, locals)  # execute the script\r\n  File \"/root/.pycharm_helpers/pydev/_pydev_imps/_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"/data/CNN_dlw_v0/CNN_dlw/main.py\", line 100, in <module>\r\n    main()\r\n  File \"/data/CNN_dlw_v0/CNN_dlw/main.py\", line 72, in main\r\n    model.train(epoch=15)\r\n  File \"/data/CNN_dlw_v0/CNN_dlw/Model.py\", line 383, in train\r\n    verbose=2)\r\n  File \"/data/SkyCompute/lib/python3.6/site-packages/keras/legacy/interfaces.py\", line 91, in wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/data/SkyCompute/lib/python3.6/site-packages/keras/engine/training.py\", line 2280, in fit_generator\r\n    callbacks.on_epoch_end(epoch, epoch_logs)\r\n  File \"/data/SkyCompute/lib/python3.6/site-packages/keras/callbacks.py\", line 77, in on_epoch_end\r\n    callback.on_epoch_end(epoch, logs)\r\n  File \"/data/SkyCompute/lib/python3.6/site-packages/keras/callbacks.py\", line 447, in on_epoch_end\r\n    self.model.save(filepath, overwrite=True)\r\n  File \"/data/SkyCompute/lib/python3.6/site-packages/keras/engine/topology.py\", line 2576, in save\r\n    save_model(self, filepath, overwrite, include_optimizer)\r\n  File \"/data/SkyCompute/lib/python3.6/site-packages/keras/models.py\", line 106, in save_model\r\n    with h5py.File(filepath, mode='w') as f:\r\n  File \"/data/SkyCompute/lib/python3.6/site-packages/h5py/_hl/files.py\", line 271, in __init__\r\n    fid = make_fid(name, mode, userblock_size, fapl, swmr=swmr)\r\n  File \"/data/SkyCompute/lib/python3.6/site-packages/h5py/_hl/files.py\", line 107, in make_fid\r\n    fid = h5f.create(name, h5f.ACC_TRUNC, fapl=fapl, fcpl=fcpl)\r\n  File \"h5py/_objects.pyx\", line 54, in h5py._objects.with_phil.wrapper\r\n  File \"h5py/_objects.pyx\", line 55, in h5py._objects.with_phil.wrapper\r\n  File \"h5py/h5f.pyx\", line 98, in h5py.h5f.create\r\nOSError: Unable to create file (Unable to lock file, errno = 11, error message = 'resource temporarily unavailable')\r\n^C\r\nProcess finished with exit code 1\r\n```\r\n\r\nNotice that sometimes the model is successfully saved, but it seems to me that it's a probability thing, after several save action, it will be more probable to cause this OSError.\r\n\r\nI think it could be that I set the `use_multiprocessing=True` and `workers=16` which makes some process is trying to save the file while another process is also trying to access this same file? I'm not quite sure exactly what happens here. I think the keras should have some internal control which would prevent this.\r\n\r\n**Edit**: When I set `use_multiprocessing=False`, this `OSError` stopped from popping up, however, since no multiprocessing, the training procesure is much slower now. One not so elegant solution I can think of is not using ModelCheckpoint, and only save the model after training so I can still use multiprocessing in training, but in this way I will not be able to save the model which corresponds to the one with smallest `val_loss`. :<\r\n\r\n**Edit2**: I checked that my keras version is 2.1.4",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/11101/reactions",
        "total_count": 29,
        "+1": 29,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/11101/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/420417687",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-420417687",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 420417687,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDQxNzY4Nw==",
          "user": {
            "login": "small-yellow-duck",
            "id": 5325503,
            "node_id": "MDQ6VXNlcjUzMjU1MDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5325503?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/small-yellow-duck",
            "html_url": "https://github.com/small-yellow-duck",
            "followers_url": "https://api.github.com/users/small-yellow-duck/followers",
            "following_url": "https://api.github.com/users/small-yellow-duck/following{/other_user}",
            "gists_url": "https://api.github.com/users/small-yellow-duck/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/small-yellow-duck/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/small-yellow-duck/subscriptions",
            "organizations_url": "https://api.github.com/users/small-yellow-duck/orgs",
            "repos_url": "https://api.github.com/users/small-yellow-duck/repos",
            "events_url": "https://api.github.com/users/small-yellow-duck/events{/privacy}",
            "received_events_url": "https://api.github.com/users/small-yellow-duck/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-11T20:39:58Z",
          "updated_at": "2018-09-11T20:39:58Z",
          "author_association": "NONE",
          "body": "I am having this same issue using fit_generator with use_multiprocessing=True and callbacks=ModelCheckpoint. I'm using keras 2.2.2.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/420417687/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/420424568",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-420424568",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 420424568,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDQyNDU2OA==",
          "user": {
            "login": "small-yellow-duck",
            "id": 5325503,
            "node_id": "MDQ6VXNlcjUzMjU1MDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5325503?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/small-yellow-duck",
            "html_url": "https://github.com/small-yellow-duck",
            "followers_url": "https://api.github.com/users/small-yellow-duck/followers",
            "following_url": "https://api.github.com/users/small-yellow-duck/following{/other_user}",
            "gists_url": "https://api.github.com/users/small-yellow-duck/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/small-yellow-duck/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/small-yellow-duck/subscriptions",
            "organizations_url": "https://api.github.com/users/small-yellow-duck/orgs",
            "repos_url": "https://api.github.com/users/small-yellow-duck/repos",
            "events_url": "https://api.github.com/users/small-yellow-duck/events{/privacy}",
            "received_events_url": "https://api.github.com/users/small-yellow-duck/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-11T21:02:54Z",
          "updated_at": "2018-09-11T21:02:54Z",
          "author_association": "NONE",
          "body": "the version of keras/engine/saving.py on the keras master branch uses `f = h5dict(filepath, mode='w')` instead of `h5py.File(filepath, mode='w') as f:` and there is some extra logic dealing with closing the h5 file if it has been opened. Perhaps it might be a good step to try installing the version of keras on master and trying that.\r\n\r\nI think there might be an error in the logic in `save_model`  in `keras/engine/saving.py` that determines whether `f.close()` is executed. Shouldn't `f.close()` be executed irrespective of whether 1opened_new_file` is `True` or `False`?\r\n\r\n`\r\n    try:\r\n        _serialize_model(model, f, include_optimizer)\r\n    finally:\r\n        if opened_new_file:\r\nf.close()\r\n`\r\n... ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/420424568/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/420944821",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-420944821",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 420944821,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDk0NDgyMQ==",
          "user": {
            "login": "remomomo",
            "id": 15879494,
            "node_id": "MDQ6VXNlcjE1ODc5NDk0",
            "avatar_url": "https://avatars.githubusercontent.com/u/15879494?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/remomomo",
            "html_url": "https://github.com/remomomo",
            "followers_url": "https://api.github.com/users/remomomo/followers",
            "following_url": "https://api.github.com/users/remomomo/following{/other_user}",
            "gists_url": "https://api.github.com/users/remomomo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/remomomo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/remomomo/subscriptions",
            "organizations_url": "https://api.github.com/users/remomomo/orgs",
            "repos_url": "https://api.github.com/users/remomomo/repos",
            "events_url": "https://api.github.com/users/remomomo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/remomomo/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-13T09:32:19Z",
          "updated_at": "2018-09-13T09:32:58Z",
          "author_association": "NONE",
          "body": "We're experiencing the same issue using the \"model_checkpoint\" callback, we also have use_multiprocessing=True\r\n\r\nIt happens after the second epoch",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/420944821/reactions",
            "total_count": 19,
            "+1": 17,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 2,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/421143498",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-421143498",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 421143498,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTE0MzQ5OA==",
          "user": {
            "login": "hermesribeiro",
            "id": 14008626,
            "node_id": "MDQ6VXNlcjE0MDA4NjI2",
            "avatar_url": "https://avatars.githubusercontent.com/u/14008626?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hermesribeiro",
            "html_url": "https://github.com/hermesribeiro",
            "followers_url": "https://api.github.com/users/hermesribeiro/followers",
            "following_url": "https://api.github.com/users/hermesribeiro/following{/other_user}",
            "gists_url": "https://api.github.com/users/hermesribeiro/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hermesribeiro/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hermesribeiro/subscriptions",
            "organizations_url": "https://api.github.com/users/hermesribeiro/orgs",
            "repos_url": "https://api.github.com/users/hermesribeiro/repos",
            "events_url": "https://api.github.com/users/hermesribeiro/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hermesribeiro/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-13T20:33:06Z",
          "updated_at": "2018-09-13T20:33:06Z",
          "author_association": "NONE",
          "body": "Just came across the same problem. Figured out that I was using too many workers (4 in my case), lowered to 2 and this error disappeared, while not hurting the training performance. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/421143498/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/421204606",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-421204606",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 421204606,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTIwNDYwNg==",
          "user": {
            "login": "BruceDai003",
            "id": 14111577,
            "node_id": "MDQ6VXNlcjE0MTExNTc3",
            "avatar_url": "https://avatars.githubusercontent.com/u/14111577?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/BruceDai003",
            "html_url": "https://github.com/BruceDai003",
            "followers_url": "https://api.github.com/users/BruceDai003/followers",
            "following_url": "https://api.github.com/users/BruceDai003/following{/other_user}",
            "gists_url": "https://api.github.com/users/BruceDai003/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/BruceDai003/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/BruceDai003/subscriptions",
            "organizations_url": "https://api.github.com/users/BruceDai003/orgs",
            "repos_url": "https://api.github.com/users/BruceDai003/repos",
            "events_url": "https://api.github.com/users/BruceDai003/events{/privacy}",
            "received_events_url": "https://api.github.com/users/BruceDai003/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-14T01:46:26Z",
          "updated_at": "2018-09-14T01:46:26Z",
          "author_association": "NONE",
          "body": "@hermesribeiro But the trainin speed is lowered right?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/421204606/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/421375123",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-421375123",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 421375123,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTM3NTEyMw==",
          "user": {
            "login": "hermesribeiro",
            "id": 14008626,
            "node_id": "MDQ6VXNlcjE0MDA4NjI2",
            "avatar_url": "https://avatars.githubusercontent.com/u/14008626?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hermesribeiro",
            "html_url": "https://github.com/hermesribeiro",
            "followers_url": "https://api.github.com/users/hermesribeiro/followers",
            "following_url": "https://api.github.com/users/hermesribeiro/following{/other_user}",
            "gists_url": "https://api.github.com/users/hermesribeiro/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hermesribeiro/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hermesribeiro/subscriptions",
            "organizations_url": "https://api.github.com/users/hermesribeiro/orgs",
            "repos_url": "https://api.github.com/users/hermesribeiro/repos",
            "events_url": "https://api.github.com/users/hermesribeiro/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hermesribeiro/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-14T14:25:22Z",
          "updated_at": "2018-09-14T14:25:22Z",
          "author_association": "NONE",
          "body": "@BruceDai003 It remained the same. Running again, it didn't solve the problem completely. I have to run a single batch first, ant then run a second call with multiple batches. i.e. if I run all batches anew, the problem still persists. :(",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/421375123/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/421398950",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-421398950",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 421398950,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTM5ODk1MA==",
          "user": {
            "login": "jwd270",
            "id": 1963491,
            "node_id": "MDQ6VXNlcjE5NjM0OTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1963491?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jwd270",
            "html_url": "https://github.com/jwd270",
            "followers_url": "https://api.github.com/users/jwd270/followers",
            "following_url": "https://api.github.com/users/jwd270/following{/other_user}",
            "gists_url": "https://api.github.com/users/jwd270/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jwd270/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jwd270/subscriptions",
            "organizations_url": "https://api.github.com/users/jwd270/orgs",
            "repos_url": "https://api.github.com/users/jwd270/repos",
            "events_url": "https://api.github.com/users/jwd270/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jwd270/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-14T15:41:28Z",
          "updated_at": "2018-09-14T15:41:28Z",
          "author_association": "NONE",
          "body": "I noticed the same issue using Keras 2.2.2.  There is no error on the first checkpoint however the model file created is empty.  The second checkpoint the error is raised.   I have no issues if I use the keras 2.1.6-tf  bundled with tensorflow 1.10.1.\r\n\r\nMore Details:\r\n- OS: Ubuntu 18.04\r\n- Python: 3.6.5\r\n- Keras: 2.2.2\r\n- Tensorflow: 1.10.1\r\n- h5py: 2.8.0",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/421398950/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423672278",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-423672278",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 423672278,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzY3MjI3OA==",
          "user": {
            "login": "gody7334",
            "id": 19779275,
            "node_id": "MDQ6VXNlcjE5Nzc5Mjc1",
            "avatar_url": "https://avatars.githubusercontent.com/u/19779275?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gody7334",
            "html_url": "https://github.com/gody7334",
            "followers_url": "https://api.github.com/users/gody7334/followers",
            "following_url": "https://api.github.com/users/gody7334/following{/other_user}",
            "gists_url": "https://api.github.com/users/gody7334/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gody7334/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gody7334/subscriptions",
            "organizations_url": "https://api.github.com/users/gody7334/orgs",
            "repos_url": "https://api.github.com/users/gody7334/repos",
            "events_url": "https://api.github.com/users/gody7334/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gody7334/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-21T21:13:16Z",
          "updated_at": "2018-09-21T21:13:16Z",
          "author_association": "NONE",
          "body": "I reinstall Keras 2.2.0, problem solved",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423672278/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423940580",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-423940580",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 423940580,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzk0MDU4MA==",
          "user": {
            "login": "jliebana",
            "id": 6774407,
            "node_id": "MDQ6VXNlcjY3NzQ0MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6774407?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jliebana",
            "html_url": "https://github.com/jliebana",
            "followers_url": "https://api.github.com/users/jliebana/followers",
            "following_url": "https://api.github.com/users/jliebana/following{/other_user}",
            "gists_url": "https://api.github.com/users/jliebana/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jliebana/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jliebana/subscriptions",
            "organizations_url": "https://api.github.com/users/jliebana/orgs",
            "repos_url": "https://api.github.com/users/jliebana/repos",
            "events_url": "https://api.github.com/users/jliebana/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jliebana/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-24T11:10:08Z",
          "updated_at": "2018-09-24T11:17:33Z",
          "author_association": "NONE",
          "body": "Same problem here, after the second epoch the model cannot be saved. \r\n\r\nI'm using Keras 2.2.2, Tensorflow 1.10.1 and h5py 2.8.0, multiprocessing=True and fit_generator, with the only callback of ModelCheckpoint",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423940580/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/425563365",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-425563365",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 425563365,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTU2MzM2NQ==",
          "user": {
            "login": "daquang",
            "id": 3432272,
            "node_id": "MDQ6VXNlcjM0MzIyNzI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3432272?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/daquang",
            "html_url": "https://github.com/daquang",
            "followers_url": "https://api.github.com/users/daquang/followers",
            "following_url": "https://api.github.com/users/daquang/following{/other_user}",
            "gists_url": "https://api.github.com/users/daquang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/daquang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/daquang/subscriptions",
            "organizations_url": "https://api.github.com/users/daquang/orgs",
            "repos_url": "https://api.github.com/users/daquang/repos",
            "events_url": "https://api.github.com/users/daquang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/daquang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-28T20:55:19Z",
          "updated_at": "2018-09-28T20:55:19Z",
          "author_association": "NONE",
          "body": "Interestingly, my problem also gets solved by changing to keras 2.2.0: https://github.com/keras-team/keras/issues/10948#issuecomment-423767210\r\n\r\nHowever, I still have the resource temporarily unavailable issue a lot too. I usually resort to either only saving the last model, or saving to a new file each time.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/425563365/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/427011239",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-427011239",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 427011239,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzAxMTIzOQ==",
          "user": {
            "login": "xiaohk",
            "id": 15007159,
            "node_id": "MDQ6VXNlcjE1MDA3MTU5",
            "avatar_url": "https://avatars.githubusercontent.com/u/15007159?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xiaohk",
            "html_url": "https://github.com/xiaohk",
            "followers_url": "https://api.github.com/users/xiaohk/followers",
            "following_url": "https://api.github.com/users/xiaohk/following{/other_user}",
            "gists_url": "https://api.github.com/users/xiaohk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xiaohk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xiaohk/subscriptions",
            "organizations_url": "https://api.github.com/users/xiaohk/orgs",
            "repos_url": "https://api.github.com/users/xiaohk/repos",
            "events_url": "https://api.github.com/users/xiaohk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xiaohk/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-10-04T13:06:51Z",
          "updated_at": "2018-10-04T13:06:51Z",
          "author_association": "NONE",
          "body": "Same issue with Keras 2.1.3 and Tensorflow-gpu 1.4.1. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/427011239/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/427838634",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-427838634",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 427838634,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzgzODYzNA==",
          "user": {
            "login": "paloha",
            "id": 15421925,
            "node_id": "MDQ6VXNlcjE1NDIxOTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/15421925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/paloha",
            "html_url": "https://github.com/paloha",
            "followers_url": "https://api.github.com/users/paloha/followers",
            "following_url": "https://api.github.com/users/paloha/following{/other_user}",
            "gists_url": "https://api.github.com/users/paloha/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/paloha/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/paloha/subscriptions",
            "organizations_url": "https://api.github.com/users/paloha/orgs",
            "repos_url": "https://api.github.com/users/paloha/repos",
            "events_url": "https://api.github.com/users/paloha/events{/privacy}",
            "received_events_url": "https://api.github.com/users/paloha/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-10-08T13:44:04Z",
          "updated_at": "2018-10-08T13:46:27Z",
          "author_association": "NONE",
          "body": "Same issue with Keras 2.2.4 and Tensorflow-gpu 1.11.0. \r\n\r\nAs a workaround you can use the formatting options of the filepath described in https://keras.io/callbacks/#modelcheckpoint in combination with `save_best_only=True`. This way you will end up with multiple saved models, but the last one will be the best one. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/427838634/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/431768389",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-431768389",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 431768389,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTc2ODM4OQ==",
          "user": {
            "login": "parap1uie-s",
            "id": 23453851,
            "node_id": "MDQ6VXNlcjIzNDUzODUx",
            "avatar_url": "https://avatars.githubusercontent.com/u/23453851?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/parap1uie-s",
            "html_url": "https://github.com/parap1uie-s",
            "followers_url": "https://api.github.com/users/parap1uie-s/followers",
            "following_url": "https://api.github.com/users/parap1uie-s/following{/other_user}",
            "gists_url": "https://api.github.com/users/parap1uie-s/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/parap1uie-s/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/parap1uie-s/subscriptions",
            "organizations_url": "https://api.github.com/users/parap1uie-s/orgs",
            "repos_url": "https://api.github.com/users/parap1uie-s/repos",
            "events_url": "https://api.github.com/users/parap1uie-s/events{/privacy}",
            "received_events_url": "https://api.github.com/users/parap1uie-s/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-10-22T08:11:54Z",
          "updated_at": "2018-10-22T08:11:54Z",
          "author_association": "NONE",
          "body": "Same issue with Keras 2.1.3 and Tensorflow-gpu 1.4.0.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/431768389/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/436656953",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-436656953",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 436656953,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjY1Njk1Mw==",
          "user": {
            "login": "cugurm",
            "id": 43302992,
            "node_id": "MDQ6VXNlcjQzMzAyOTky",
            "avatar_url": "https://avatars.githubusercontent.com/u/43302992?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cugurm",
            "html_url": "https://github.com/cugurm",
            "followers_url": "https://api.github.com/users/cugurm/followers",
            "following_url": "https://api.github.com/users/cugurm/following{/other_user}",
            "gists_url": "https://api.github.com/users/cugurm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cugurm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cugurm/subscriptions",
            "organizations_url": "https://api.github.com/users/cugurm/orgs",
            "repos_url": "https://api.github.com/users/cugurm/repos",
            "events_url": "https://api.github.com/users/cugurm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cugurm/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-11-07T15:14:25Z",
          "updated_at": "2018-11-07T15:14:25Z",
          "author_association": "NONE",
          "body": "Same issue pop up today on GoogleColab with Keras 2.2.4.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/436656953/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/436668919",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-436668919",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 436668919,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjY2ODkxOQ==",
          "user": {
            "login": "small-yellow-duck",
            "id": 5325503,
            "node_id": "MDQ6VXNlcjUzMjU1MDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5325503?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/small-yellow-duck",
            "html_url": "https://github.com/small-yellow-duck",
            "followers_url": "https://api.github.com/users/small-yellow-duck/followers",
            "following_url": "https://api.github.com/users/small-yellow-duck/following{/other_user}",
            "gists_url": "https://api.github.com/users/small-yellow-duck/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/small-yellow-duck/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/small-yellow-duck/subscriptions",
            "organizations_url": "https://api.github.com/users/small-yellow-duck/orgs",
            "repos_url": "https://api.github.com/users/small-yellow-duck/repos",
            "events_url": "https://api.github.com/users/small-yellow-duck/events{/privacy}",
            "received_events_url": "https://api.github.com/users/small-yellow-duck/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-11-07T15:46:01Z",
          "updated_at": "2018-11-07T15:46:49Z",
          "author_association": "NONE",
          "body": "I'm still seeing this problem in Keras 2.2.4 using fit_generator with a Sequence class to serve up the training and validation data instead of a generator. I've been getting around the problem by not using ModelCheckpoint at all. Instead I use the EarlyStopping callback with restore_best_weights=True - and then I save the best weights *after* the model finishes training. Hope this helps!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/436668919/reactions",
            "total_count": 7,
            "+1": 6,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/437020803",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-437020803",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 437020803,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzAyMDgwMw==",
          "user": {
            "login": "xiaohk",
            "id": 15007159,
            "node_id": "MDQ6VXNlcjE1MDA3MTU5",
            "avatar_url": "https://avatars.githubusercontent.com/u/15007159?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xiaohk",
            "html_url": "https://github.com/xiaohk",
            "followers_url": "https://api.github.com/users/xiaohk/followers",
            "following_url": "https://api.github.com/users/xiaohk/following{/other_user}",
            "gists_url": "https://api.github.com/users/xiaohk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xiaohk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xiaohk/subscriptions",
            "organizations_url": "https://api.github.com/users/xiaohk/orgs",
            "repos_url": "https://api.github.com/users/xiaohk/repos",
            "events_url": "https://api.github.com/users/xiaohk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xiaohk/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-11-08T14:52:17Z",
          "updated_at": "2018-11-08T14:52:17Z",
          "author_association": "NONE",
          "body": "My computing environment automatically shuts down after a period, so I was trying to use `ModelCheckpoint` to save the latest model. My workaround is to create a new callback which saves models/weights after each epoch with a new file name. \r\n\r\nCalling `model.save()` or  `model.save_weights()` in my new callback still causes `OSError: Unable to create file` error. Saving with a new file name solves the problem for me. In the same `on_epoch_end()` method, I delete the old file after successfully saving the new one.\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/437020803/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/438379419",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-438379419",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 438379419,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQzODM3OTQxOQ==",
          "user": {
            "login": "tzeppy",
            "id": 4756480,
            "node_id": "MDQ6VXNlcjQ3NTY0ODA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4756480?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tzeppy",
            "html_url": "https://github.com/tzeppy",
            "followers_url": "https://api.github.com/users/tzeppy/followers",
            "following_url": "https://api.github.com/users/tzeppy/following{/other_user}",
            "gists_url": "https://api.github.com/users/tzeppy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tzeppy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tzeppy/subscriptions",
            "organizations_url": "https://api.github.com/users/tzeppy/orgs",
            "repos_url": "https://api.github.com/users/tzeppy/repos",
            "events_url": "https://api.github.com/users/tzeppy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tzeppy/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-11-13T18:15:29Z",
          "updated_at": "2018-11-13T18:15:29Z",
          "author_association": "NONE",
          "body": "I am also finding this same issue. Using the ModelCheckpoint callback, trying to save the model after its already been saved successfully once before. (and using multiprocessing)",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/438379419/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/438802017",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-438802017",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 438802017,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQzODgwMjAxNw==",
          "user": {
            "login": "jacobbieker",
            "id": 7170359,
            "node_id": "MDQ6VXNlcjcxNzAzNTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7170359?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jacobbieker",
            "html_url": "https://github.com/jacobbieker",
            "followers_url": "https://api.github.com/users/jacobbieker/followers",
            "following_url": "https://api.github.com/users/jacobbieker/following{/other_user}",
            "gists_url": "https://api.github.com/users/jacobbieker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jacobbieker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jacobbieker/subscriptions",
            "organizations_url": "https://api.github.com/users/jacobbieker/orgs",
            "repos_url": "https://api.github.com/users/jacobbieker/repos",
            "events_url": "https://api.github.com/users/jacobbieker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jacobbieker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-11-14T20:12:26Z",
          "updated_at": "2018-11-14T20:12:26Z",
          "author_association": "NONE",
          "body": "I have the same issue with the Keras on 2.2.4. I am using Ubuntu 18.10, installed Keras and tensorflow with Anaconda, and am using multi_processing to speed up training, but there is usually this same error after the second or third epoch with training.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/438802017/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/438999013",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-438999013",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 438999013,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQzODk5OTAxMw==",
          "user": {
            "login": "cugurm",
            "id": 43302992,
            "node_id": "MDQ6VXNlcjQzMzAyOTky",
            "avatar_url": "https://avatars.githubusercontent.com/u/43302992?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cugurm",
            "html_url": "https://github.com/cugurm",
            "followers_url": "https://api.github.com/users/cugurm/followers",
            "following_url": "https://api.github.com/users/cugurm/following{/other_user}",
            "gists_url": "https://api.github.com/users/cugurm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cugurm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cugurm/subscriptions",
            "organizations_url": "https://api.github.com/users/cugurm/orgs",
            "repos_url": "https://api.github.com/users/cugurm/repos",
            "events_url": "https://api.github.com/users/cugurm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cugurm/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-11-15T10:50:44Z",
          "updated_at": "2018-11-15T10:50:44Z",
          "author_association": "NONE",
          "body": "The error occur after 2,3,4 epoch of training - first timr when your keras\ntry to save new best weight and previous file exists. He dont know to\ndelete old file.\n\nOn Nov 14, 2018 9:13 PM, \"Jacob Bieker\" <notifications@github.com> wrote:\n\n> I have the same issue with the Keras on 2.2.4. I am using Ubuntu 18.10,\n> installed Keras and tensorflow with Anaconda, and am using multi_processing\n> to speed up training, but there is usually this same error after the second\n> or third epoch with training.\n>\n> \u2014\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/keras-team/keras/issues/11101#issuecomment-438802017>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ApTAUKGJPMpCquOAl7Ehf0acxkabUcctks5uvHllgaJpZM4WeEMW>\n> .\n>\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/438999013/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/441820335",
          "html_url": "https://github.com/keras-team/keras/issues/11101#issuecomment-441820335",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11101",
          "id": 441820335,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MTgyMDMzNQ==",
          "user": {
            "login": "spsancti",
            "id": 8904387,
            "node_id": "MDQ6VXNlcjg5MDQzODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8904387?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/spsancti",
            "html_url": "https://github.com/spsancti",
            "followers_url": "https://api.github.com/users/spsancti/followers",
            "following_url": "https://api.github.com/users/spsancti/following{/other_user}",
            "gists_url": "https://api.github.com/users/spsancti/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/spsancti/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/spsancti/subscriptions",
            "organizations_url": "https://api.github.com/users/spsancti/orgs",
            "repos_url": "https://api.github.com/users/spsancti/repos",
            "events_url": "https://api.github.com/users/spsancti/events{/privacy}",
            "received_events_url": "https://api.github.com/users/spsancti/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-11-26T22:14:21Z",
          "updated_at": "2018-11-27T14:36:04Z",
          "author_association": "NONE",
          "body": "Same here!\r\nKeras 2.2.4+ TF 1.10\r\nSolved with reducing the number of workers.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/441820335/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/741",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/741/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/741/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/741/events",
      "html_url": "https://github.com/keras-team/keras/issues/741",
      "id": 108656068,
      "node_id": "MDU6SXNzdWUxMDg2NTYwNjg=",
      "number": 741,
      "title": "How to train a multi-label Classifier",
      "user": {
        "login": "xieximeng2008",
        "id": 14308026,
        "node_id": "MDQ6VXNlcjE0MzA4MDI2",
        "avatar_url": "https://avatars.githubusercontent.com/u/14308026?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/xieximeng2008",
        "html_url": "https://github.com/xieximeng2008",
        "followers_url": "https://api.github.com/users/xieximeng2008/followers",
        "following_url": "https://api.github.com/users/xieximeng2008/following{/other_user}",
        "gists_url": "https://api.github.com/users/xieximeng2008/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/xieximeng2008/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/xieximeng2008/subscriptions",
        "organizations_url": "https://api.github.com/users/xieximeng2008/orgs",
        "repos_url": "https://api.github.com/users/xieximeng2008/repos",
        "events_url": "https://api.github.com/users/xieximeng2008/events{/privacy}",
        "received_events_url": "https://api.github.com/users/xieximeng2008/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 74,
      "created_at": "2015-09-28T13:17:37Z",
      "updated_at": "2020-06-25T13:15:30Z",
      "closed_at": "2018-11-02T21:01:19Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "I need  train a multi-label softmax classifier, but there is  a lot of one-hot code labels in examples, so how to change code to do it?\n",
      "closed_by": {
        "login": "wt-huang",
        "id": 42785337,
        "node_id": "MDQ6VXNlcjQyNzg1MzM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/42785337?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/wt-huang",
        "html_url": "https://github.com/wt-huang",
        "followers_url": "https://api.github.com/users/wt-huang/followers",
        "following_url": "https://api.github.com/users/wt-huang/following{/other_user}",
        "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions",
        "organizations_url": "https://api.github.com/users/wt-huang/orgs",
        "repos_url": "https://api.github.com/users/wt-huang/repos",
        "events_url": "https://api.github.com/users/wt-huang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/wt-huang/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/741/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/741/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/143850873",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-143850873",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 143850873,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE0Mzg1MDg3Mw==",
          "user": {
            "login": "elanmart",
            "id": 10772830,
            "node_id": "MDQ6VXNlcjEwNzcyODMw",
            "avatar_url": "https://avatars.githubusercontent.com/u/10772830?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/elanmart",
            "html_url": "https://github.com/elanmart",
            "followers_url": "https://api.github.com/users/elanmart/followers",
            "following_url": "https://api.github.com/users/elanmart/following{/other_user}",
            "gists_url": "https://api.github.com/users/elanmart/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/elanmart/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/elanmart/subscriptions",
            "organizations_url": "https://api.github.com/users/elanmart/orgs",
            "repos_url": "https://api.github.com/users/elanmart/repos",
            "events_url": "https://api.github.com/users/elanmart/events{/privacy}",
            "received_events_url": "https://api.github.com/users/elanmart/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-09-28T19:28:16Z",
          "updated_at": "2015-09-28T19:28:16Z",
          "author_association": "NONE",
          "body": "Don't use softmax. Use sigmoid units in the output layer and then use \"binary_crossentrpy\" loss.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/143850873/reactions",
            "total_count": 96,
            "+1": 86,
            "-1": 1,
            "laugh": 0,
            "hooray": 0,
            "confused": 9,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/143853779",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-143853779",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 143853779,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE0Mzg1Mzc3OQ==",
          "user": {
            "login": "holderm",
            "id": 9078421,
            "node_id": "MDQ6VXNlcjkwNzg0MjE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9078421?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/holderm",
            "html_url": "https://github.com/holderm",
            "followers_url": "https://api.github.com/users/holderm/followers",
            "following_url": "https://api.github.com/users/holderm/following{/other_user}",
            "gists_url": "https://api.github.com/users/holderm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/holderm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/holderm/subscriptions",
            "organizations_url": "https://api.github.com/users/holderm/orgs",
            "repos_url": "https://api.github.com/users/holderm/repos",
            "events_url": "https://api.github.com/users/holderm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/holderm/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-09-28T19:41:28Z",
          "updated_at": "2015-09-28T19:41:28Z",
          "author_association": "NONE",
          "body": "That works in my case. However `model.predict_classes` is not \"adapted\" for this. As an example for a sample from the test set, where target label is `1 0 1 0 0 0 0` (I have 7 in total, )\n`model.predict(tSets[1,:])`: 9.90e-01,   2.7e-07, 6.05e-13, 9.98e-01, 2.16e-05, 7.62e-05, 1.51e-04 (so that is correct), but\n`model.predict_classes(tSets[1,:])` gives just array([3]) (seems like it picks the highest value from `model.predict`. A quick fix might be `numpy.around` but maybe there is a more elegant solution?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/143853779/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/143854673",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-143854673",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 143854673,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE0Mzg1NDY3Mw==",
          "user": {
            "login": "elanmart",
            "id": 10772830,
            "node_id": "MDQ6VXNlcjEwNzcyODMw",
            "avatar_url": "https://avatars.githubusercontent.com/u/10772830?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/elanmart",
            "html_url": "https://github.com/elanmart",
            "followers_url": "https://api.github.com/users/elanmart/followers",
            "following_url": "https://api.github.com/users/elanmart/following{/other_user}",
            "gists_url": "https://api.github.com/users/elanmart/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/elanmart/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/elanmart/subscriptions",
            "organizations_url": "https://api.github.com/users/elanmart/orgs",
            "repos_url": "https://api.github.com/users/elanmart/repos",
            "events_url": "https://api.github.com/users/elanmart/events{/privacy}",
            "received_events_url": "https://api.github.com/users/elanmart/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-09-28T19:44:12Z",
          "updated_at": "2015-09-29T01:13:58Z",
          "author_association": "NONE",
          "body": "Getting classes from .predict() is one line of numpy code really.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/143854673/reactions",
            "total_count": 5,
            "+1": 5,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/143977715",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-143977715",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 143977715,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE0Mzk3NzcxNQ==",
          "user": {
            "login": "lemuriandezapada",
            "id": 11992601,
            "node_id": "MDQ6VXNlcjExOTkyNjAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/11992601?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lemuriandezapada",
            "html_url": "https://github.com/lemuriandezapada",
            "followers_url": "https://api.github.com/users/lemuriandezapada/followers",
            "following_url": "https://api.github.com/users/lemuriandezapada/following{/other_user}",
            "gists_url": "https://api.github.com/users/lemuriandezapada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lemuriandezapada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lemuriandezapada/subscriptions",
            "organizations_url": "https://api.github.com/users/lemuriandezapada/orgs",
            "repos_url": "https://api.github.com/users/lemuriandezapada/repos",
            "events_url": "https://api.github.com/users/lemuriandezapada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lemuriandezapada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-09-29T07:58:44Z",
          "updated_at": "2015-09-29T07:58:44Z",
          "author_association": "NONE",
          "body": "model.predict(blabla) > 0.5 ?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/143977715/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/143995109",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-143995109",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 143995109,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE0Mzk5NTEwOQ==",
          "user": {
            "login": "arushi02",
            "id": 7776837,
            "node_id": "MDQ6VXNlcjc3NzY4Mzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7776837?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/arushi02",
            "html_url": "https://github.com/arushi02",
            "followers_url": "https://api.github.com/users/arushi02/followers",
            "following_url": "https://api.github.com/users/arushi02/following{/other_user}",
            "gists_url": "https://api.github.com/users/arushi02/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/arushi02/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/arushi02/subscriptions",
            "organizations_url": "https://api.github.com/users/arushi02/orgs",
            "repos_url": "https://api.github.com/users/arushi02/repos",
            "events_url": "https://api.github.com/users/arushi02/events{/privacy}",
            "received_events_url": "https://api.github.com/users/arushi02/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-09-29T09:01:27Z",
          "updated_at": "2015-09-29T09:01:27Z",
          "author_association": "NONE",
          "body": "@elanmart Hi, why do you think using softmax is not a good idea?\n\nDo you use a graph model, given we have multiple outputs?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/143995109/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/143995521",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-143995521",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 143995521,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE0Mzk5NTUyMQ==",
          "user": {
            "login": "xieximeng2008",
            "id": 14308026,
            "node_id": "MDQ6VXNlcjE0MzA4MDI2",
            "avatar_url": "https://avatars.githubusercontent.com/u/14308026?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xieximeng2008",
            "html_url": "https://github.com/xieximeng2008",
            "followers_url": "https://api.github.com/users/xieximeng2008/followers",
            "following_url": "https://api.github.com/users/xieximeng2008/following{/other_user}",
            "gists_url": "https://api.github.com/users/xieximeng2008/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xieximeng2008/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xieximeng2008/subscriptions",
            "organizations_url": "https://api.github.com/users/xieximeng2008/orgs",
            "repos_url": "https://api.github.com/users/xieximeng2008/repos",
            "events_url": "https://api.github.com/users/xieximeng2008/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xieximeng2008/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-09-29T09:02:28Z",
          "updated_at": "2015-09-29T09:02:28Z",
          "author_association": "NONE",
          "body": "my loss is not convergence @holderm @elanmart \n\n``` python\nmodel.predict(Y_train[1,:])\n```\n\nit shows [  0.00000000e+000   0.00000000e+000   0.00000000e+000   0.00000000e+000\n    0.00000000e+000]\nmy complete code:\n\n``` python\nfrom __future__ import absolute_import\nfrom __future__ import print_function\nimport scipy.io\nfrom keras.preprocessing.image import ImageDataGenerator\nfrom keras.models import Sequential\nfrom keras.layers.core import Dense, Dropout, Activation, Flatten\nfrom keras.layers.convolutional import Convolution2D, MaxPooling2D\nfrom keras.optimizers import SGD, Adadelta, Adagrad\nfrom keras.utils import np_utils, generic_utils\nfrom six.moves import range\n\nbatch_size = 100\nnb_classes = 5\nnb_epoch = 5\ndata_augmentation = True\n\nshapex, shapey = 64, 64\n\nnb_filters = [32, 64]\n\nnb_pool = [4, 3]\n\nnb_conv = [5, 4]\n\nimage_dimensions = 3\n\n\nmat = scipy.io.loadmat('E:\\scene.mat')\n\nX_train = mat['x_train']\nY_train = mat['y_train']\nX_test =  mat['x_test']\nY_test =  mat['y_test']\nprint(X_train.shape)\nprint(X_test.shape)\n\nmodel = Sequential()\n\nmodel.add(Convolution2D(nb_filters[0], image_dimensions, nb_conv[0], nb_conv[0], border_mode='valid'))\nmodel.add(Activation('relu'))\n\nmodel.add(MaxPooling2D(poolsize=(nb_pool[0], nb_pool[0])))\nmodel.add(Dropout(0.25))\n\nmodel.add(Convolution2D(nb_filters[1], nb_filters[0], nb_conv[1], nb_conv[1], border_mode='valid'))\nmodel.add(Activation('relu'))\n\nmodel.add(MaxPooling2D(poolsize=(nb_pool[1], nb_pool[1])))\nmodel.add(Dropout(0.25))\n\nmodel.add(Flatten())\n\nmodel.add(Dense(nb_filters[-1] * (((shapex - nb_conv[0]+1)/ nb_pool[0] -nb_conv[1]+1)/ nb_pool[1]) * (((shapey -nb_conv[0]+1)/ nb_pool[0] -nb_conv[1]+1)/ nb_pool[1]), 512))\nmodel.add(Activation('relu'))\nmodel.add(Dropout(0.5))\n\nmodel.add(Dense(512, nb_classes,init='uniform'))\nmodel.add(Activation('sigmoid'))\n\n\nsgd = SGD(lr=0.01, decay=1e-6, momentum=0.9, nesterov=True)\nmodel.compile(loss='binary_crossentropy', optimizer=sgd) \n\nif not data_augmentation:\n    print(\"Not using data augmentation or normalization\")\n\n    X_train = X_train.astype(\"float32\")\n    X_test = X_test.astype(\"float32\")\n    X_train /= 255\n    X_test /= 255\n    model.fit(X_train, Y_train, batch_size=batch_size, nb_epoch=nb_epoch)\n    score = model.evaluate(X_test, Y_test, batch_size=batch_size)\n    print('Test score:', score)\n\nelse:\n    print(\"Using real time data augmentation\")\n\n    # this will do preprocessing and realtime data augmentation\n    datagen = ImageDataGenerator(\n        featurewise_center=True,  # set input mean to 0 over the dataset\n        samplewise_center=False,  # set each sample mean to 0\n        featurewise_std_normalization=True,  # divide inputs by std of the dataset\n        samplewise_std_normalization=False,  # divide each input by its std\n        zca_whitening=False,  # apply ZCA whitening\n        rotation_range=20,  # randomly rotate images in the range (degrees, 0 to 180)\n        width_shift_range=0.2,  # randomly shift images horizontally (fraction of total width)\n        height_shift_range=0.2,  # randomly shift images vertically (fraction of total height)\n        horizontal_flip=True,  # randomly flip images\n        vertical_flip=False)  # randomly flip images\n\n    datagen.fit(X_train)\n    model.fit(X_train, Y_train, batch_size=batch_size, nb_epoch=nb_epoch)\n    score = model.evaluate(X_test, Y_test, batch_size=batch_size)\n    print (model.predict(X_test[1,:]))\n\n\n```\n\ncould you help me to find out where it is wrong, thx !\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/143995521/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/144036237",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-144036237",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 144036237,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE0NDAzNjIzNw==",
          "user": {
            "login": "elanmart",
            "id": 10772830,
            "node_id": "MDQ6VXNlcjEwNzcyODMw",
            "avatar_url": "https://avatars.githubusercontent.com/u/10772830?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/elanmart",
            "html_url": "https://github.com/elanmart",
            "followers_url": "https://api.github.com/users/elanmart/followers",
            "following_url": "https://api.github.com/users/elanmart/following{/other_user}",
            "gists_url": "https://api.github.com/users/elanmart/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/elanmart/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/elanmart/subscriptions",
            "organizations_url": "https://api.github.com/users/elanmart/orgs",
            "repos_url": "https://api.github.com/users/elanmart/repos",
            "events_url": "https://api.github.com/users/elanmart/events{/privacy}",
            "received_events_url": "https://api.github.com/users/elanmart/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-09-29T11:52:43Z",
          "updated_at": "2015-09-29T11:52:43Z",
          "author_association": "NONE",
          "body": "@lemuriandezapada yeah, \n\n``` python\nlabels = np.zeros(preds.shape)\nlabels[preds>0.5] = 1\n```\n\n@arushi02 in softmax when increasing score for one label, all others are lowered (it's a probability distribution). You don't want that when you have multiple labels. \nNo, you don't need `Graph`\n\nHere's an example of one of my multilabel nets:\n\n``` python\n# Build a classifier optimized for maximizing f1_score (uses class_weights)\n\nclf = Sequential()\n\nclf.add(Dropout(0.3))\nclf.add(Dense(xt.shape[1], 1600, activation='relu'))\nclf.add(Dropout(0.6))\nclf.add(Dense(1600, 1200, activation='relu'))\nclf.add(Dropout(0.6))\nclf.add(Dense(1200, 800, activation='relu'))\nclf.add(Dropout(0.6))\nclf.add(Dense(800, yt.shape[1], activation='sigmoid'))\n\nclf.compile(optimizer=Adam(), loss='binary_crossentropy')\n\nclf.fit(xt, yt, batch_size=64, nb_epoch=300, validation_data=(xs, ys), class_weight=W, verbose=0)\n\npreds = clf.predict(xs)\n\npreds[preds>=0.5] = 1\npreds[preds<0.5] = 0\n\nprint f1_score(ys, preds, average='macro')\n```\n\n@xieximeng2008 What does it print during training?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/144036237/reactions",
            "total_count": 45,
            "+1": 45,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/144044140",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-144044140",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 144044140,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE0NDA0NDE0MA==",
          "user": {
            "login": "xieximeng2008",
            "id": 14308026,
            "node_id": "MDQ6VXNlcjE0MzA4MDI2",
            "avatar_url": "https://avatars.githubusercontent.com/u/14308026?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xieximeng2008",
            "html_url": "https://github.com/xieximeng2008",
            "followers_url": "https://api.github.com/users/xieximeng2008/followers",
            "following_url": "https://api.github.com/users/xieximeng2008/following{/other_user}",
            "gists_url": "https://api.github.com/users/xieximeng2008/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xieximeng2008/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xieximeng2008/subscriptions",
            "organizations_url": "https://api.github.com/users/xieximeng2008/orgs",
            "repos_url": "https://api.github.com/users/xieximeng2008/repos",
            "events_url": "https://api.github.com/users/xieximeng2008/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xieximeng2008/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-09-29T12:26:31Z",
          "updated_at": "2015-09-29T12:26:31Z",
          "author_association": "NONE",
          "body": "@elanmart Using real time data augmentation\n\n``` python\nEpoch 0\n\n 100/1800 [>.............................] - ETA: 58s - loss: 8.1209\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 200/1800 [==>...........................] - ETA: 55s - loss: 6.7125\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 300/1800 [====>.........................] - ETA: 51s - loss: 6.2430\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 400/1800 [=====>........................] - ETA: 48s - loss: 6.0284\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 500/1800 [=======>......................] - ETA: 44s - loss: 6.1214\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 600/1800 [=========>....................] - ETA: 40s - loss: 5.9915\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 700/1800 [==========>...................] - ETA: 37s - loss: 5.8876\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 800/1800 [============>.................] - ETA: 33s - loss: 5.7681\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 900/1800 [==============>...............] - ETA: 30s - loss: 5.6844\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1000/1800 [===============>..............] - ETA: 27s - loss: 5.6092\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1100/1800 [=================>............] - ETA: 23s - loss: 5.5703\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1200/1800 [===================>..........] - ETA: 20s - loss: 5.5240\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1300/1800 [====================>.........] - ETA: 16s - loss: 5.4976\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1400/1800 [======================>.......] - ETA: 13s - loss: 5.4809\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1500/1800 [========================>.....] - ETA: 10s - loss: 5.4526\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1600/1800 [=========================>....] - ETA: 6s - loss: 5.4486 \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1700/1800 [===========================>..] - ETA: 3s - loss: 5.4596\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1800/1800 [==============================] - 60s - loss: 5.4326    \nEpoch 1\n\n 100/1800 [>.............................] - ETA: 56s - loss: 5.1808\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 200/1800 [==>...........................] - ETA: 52s - loss: 5.0979\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 300/1800 [====>.........................] - ETA: 49s - loss: 5.1670\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 400/1800 [=====>........................] - ETA: 45s - loss: 5.2326\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 500/1800 [=======>......................] - ETA: 42s - loss: 5.2554\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 600/1800 [=========>....................] - ETA: 39s - loss: 5.2430\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 700/1800 [==========>...................] - ETA: 36s - loss: 5.2104\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 800/1800 [============>.................] - ETA: 33s - loss: 5.1912\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 900/1800 [==============>...............] - ETA: 29s - loss: 5.1716\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1000/1800 [===============>..............] - ETA: 26s - loss: 5.1559\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1100/1800 [=================>............] - ETA: 23s - loss: 5.1318\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1200/1800 [===================>..........] - ETA: 19s - loss: 5.1532\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1300/1800 [====================>.........] - ETA: 16s - loss: 5.1489\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1400/1800 [======================>.......] - ETA: 13s - loss: 5.1512\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1500/1800 [========================>.....] - ETA: 9s - loss: 5.1642 \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1600/1800 [=========================>....] - ETA: 6s - loss: 5.1549\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1700/1800 [===========================>..] - ETA: 3s - loss: 5.1418\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1800/1800 [==============================] - 59s - loss: 5.1325    \nEpoch 2\n\n 100/1800 [>.............................] - ETA: 56s - loss: 5.2637\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 200/1800 [==>...........................] - ETA: 52s - loss: 5.1394\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 300/1800 [====>.........................] - ETA: 49s - loss: 5.1117\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 400/1800 [=====>........................] - ETA: 46s - loss: 5.0150\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 500/1800 [=======>......................] - ETA: 42s - loss: 5.0150\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 600/1800 [=========>....................] - ETA: 39s - loss: 4.9874\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 700/1800 [==========>...................] - ETA: 36s - loss: 5.0387\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 800/1800 [============>.................] - ETA: 32s - loss: 5.0565\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 900/1800 [==============>...............] - ETA: 29s - loss: 5.0565\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1000/1800 [===============>..............] - ETA: 26s - loss: 5.0813\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1100/1800 [=================>............] - ETA: 23s - loss: 5.0942\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1200/1800 [===================>..........] - ETA: 19s - loss: 5.0876\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1300/1800 [====================>.........] - ETA: 16s - loss: 5.1234\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1400/1800 [======================>.......] - ETA: 13s - loss: 5.1305\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1500/1800 [========================>.....] - ETA: 9s - loss: 5.1256 \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1600/1800 [=========================>....] - ETA: 6s - loss: 5.1316\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1700/1800 [===========================>..] - ETA: 3s - loss: 5.1296\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1800/1800 [==============================] - 60s - loss: 5.1325    \nEpoch 3\n\n 100/1800 [>.............................] - ETA: 56s - loss: 4.7664\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 200/1800 [==>...........................] - ETA: 52s - loss: 5.0772\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 300/1800 [====>.........................] - ETA: 49s - loss: 5.1394\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 400/1800 [=====>........................] - ETA: 46s - loss: 5.1290\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 500/1800 [=======>......................] - ETA: 42s - loss: 5.1311\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 600/1800 [=========>....................] - ETA: 39s - loss: 5.1601\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 700/1800 [==========>...................] - ETA: 36s - loss: 5.1157\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 800/1800 [============>.................] - ETA: 33s - loss: 5.1497\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 900/1800 [==============>...............] - ETA: 29s - loss: 5.1716\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1000/1800 [===============>..............] - ETA: 26s - loss: 5.1891\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1100/1800 [=================>............] - ETA: 23s - loss: 5.1695\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1200/1800 [===================>..........] - ETA: 19s - loss: 5.1705\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1300/1800 [====================>.........] - ETA: 16s - loss: 5.1585\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1400/1800 [======================>.......] - ETA: 13s - loss: 5.1660\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1500/1800 [========================>.....] - ETA: 9s - loss: 5.1587 \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1600/1800 [=========================>....] - ETA: 6s - loss: 5.1394\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1700/1800 [===========================>..] - ETA: 3s - loss: 5.1394\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1800/1800 [==============================] - 59s - loss: 5.1325    \nEpoch 4\n\n 100/1800 [>.............................] - ETA: 55s - loss: 5.1394\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 200/1800 [==>...........................] - ETA: 52s - loss: 5.1394\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 300/1800 [====>.........................] - ETA: 49s - loss: 5.1117\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 400/1800 [=====>........................] - ETA: 45s - loss: 5.1601\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 500/1800 [=======>......................] - ETA: 42s - loss: 5.1477\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 600/1800 [=========>....................] - ETA: 39s - loss: 5.1808\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 700/1800 [==========>...................] - ETA: 36s - loss: 5.1334\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 800/1800 [============>.................] - ETA: 32s - loss: 5.1290\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n 900/1800 [==============>...............] - ETA: 29s - loss: 5.1163\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1000/1800 [===============>..............] - ETA: 26s - loss: 5.1311\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1100/1800 [=================>............] - ETA: 23s - loss: 5.1431\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1200/1800 [===================>..........] - ETA: 19s - loss: 5.1394\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1300/1800 [====================>.........] - ETA: 16s - loss: 5.1298\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1400/1800 [======================>.......] - ETA: 13s - loss: 5.1423\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1500/1800 [========================>.....] - ETA: 9s - loss: 5.1338 \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1600/1800 [=========================>....] - ETA: 6s - loss: 5.1161\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1700/1800 [===========================>..] - ETA: 3s - loss: 5.1174\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n1800/1800 [==============================] - 59s - loss: 5.1325    \n```\n\ntesting...\n\n``` python\n100/200 [==============>...............] - ETA: 1s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\n200/200 [==============================] - 2s     \n[[  0.00000000e+000   0.00000000e+000   0.00000000e+000   0.00000000e+000\n    0.00000000e+000]\n [  0.00000000e+000   0.00000000e+000   0.00000000e+000   0.00000000e+000\n    0.00000000e+000]\n [  0.00000000e+000   0.00000000e+000   0.00000000e+000   0.00000000e+000\n    0.00000000e+000]\n [  0.00000000e+000   0.00000000e+000   0.00000000e+000   0.00000000e+000\n    0.00000000e+000]\n[  1.22857558e-291   0.00000000e+000   3.11779756e-297   0.00000000e+000\n    0.00000000e+000]\n.........\n.........\n```\n\nalmost all outputs are zero or very very small float num\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/144044140/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/144069278",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-144069278",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 144069278,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE0NDA2OTI3OA==",
          "user": {
            "login": "xieximeng2008",
            "id": 14308026,
            "node_id": "MDQ6VXNlcjE0MzA4MDI2",
            "avatar_url": "https://avatars.githubusercontent.com/u/14308026?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xieximeng2008",
            "html_url": "https://github.com/xieximeng2008",
            "followers_url": "https://api.github.com/users/xieximeng2008/followers",
            "following_url": "https://api.github.com/users/xieximeng2008/following{/other_user}",
            "gists_url": "https://api.github.com/users/xieximeng2008/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xieximeng2008/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xieximeng2008/subscriptions",
            "organizations_url": "https://api.github.com/users/xieximeng2008/orgs",
            "repos_url": "https://api.github.com/users/xieximeng2008/repos",
            "events_url": "https://api.github.com/users/xieximeng2008/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xieximeng2008/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-09-29T13:59:23Z",
          "updated_at": "2015-09-29T13:59:23Z",
          "author_association": "NONE",
          "body": "@elanmart  I used your example ,but also have  above problems. dataset : X_train (1800,3,64,64),\nX_test(200,3,64,64)  Y_train(1800,5),Y_test(200,5)  \nI just change the code as you listed\n\n``` python\nmodel.fit(X_train, Y_train, batch_size=batch_size, nb_epoch=nb_epoch,validation_data = (X_test,Y_test),verbose = 0)\n    preds = model.predict(X_test)\n    preds[preds>= 0.5] = 1\n    preds[preds<0.5] = 0\n    print (preds)\n```\n\nThanks for helping me!\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/144069278/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/144118652",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-144118652",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 144118652,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE0NDExODY1Mg==",
          "user": {
            "login": "elanmart",
            "id": 10772830,
            "node_id": "MDQ6VXNlcjEwNzcyODMw",
            "avatar_url": "https://avatars.githubusercontent.com/u/10772830?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/elanmart",
            "html_url": "https://github.com/elanmart",
            "followers_url": "https://api.github.com/users/elanmart/followers",
            "following_url": "https://api.github.com/users/elanmart/following{/other_user}",
            "gists_url": "https://api.github.com/users/elanmart/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/elanmart/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/elanmart/subscriptions",
            "organizations_url": "https://api.github.com/users/elanmart/orgs",
            "repos_url": "https://api.github.com/users/elanmart/repos",
            "events_url": "https://api.github.com/users/elanmart/events{/privacy}",
            "received_events_url": "https://api.github.com/users/elanmart/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-09-29T16:52:52Z",
          "updated_at": "2015-09-29T16:52:52Z",
          "author_association": "NONE",
          "body": "@xieximeng2008 I'd guess the problem is in your data, since the network worked well for me few days ago.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/144118652/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/144313213",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-144313213",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 144313213,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE0NDMxMzIxMw==",
          "user": {
            "login": "arushi02",
            "id": 7776837,
            "node_id": "MDQ6VXNlcjc3NzY4Mzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7776837?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/arushi02",
            "html_url": "https://github.com/arushi02",
            "followers_url": "https://api.github.com/users/arushi02/followers",
            "following_url": "https://api.github.com/users/arushi02/following{/other_user}",
            "gists_url": "https://api.github.com/users/arushi02/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/arushi02/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/arushi02/subscriptions",
            "organizations_url": "https://api.github.com/users/arushi02/orgs",
            "repos_url": "https://api.github.com/users/arushi02/repos",
            "events_url": "https://api.github.com/users/arushi02/events{/privacy}",
            "received_events_url": "https://api.github.com/users/arushi02/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-09-30T07:29:31Z",
          "updated_at": "2015-09-30T07:29:31Z",
          "author_association": "NONE",
          "body": "@elanmart \n\nSuppose I want to identify a house no 5436 from an image and I assume every image will have max 4 digits, so one image will be tagged with 4 one hot vectors like \n\n[(0000010000), (0000100000), (0001000000), (0000001000)] and I pass this as a 2D matrix then will it give me probabilities for each element? In this kind of tagging, I want every row to have one element which is most probable (following a probability distribution).\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/144313213/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/172467050",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-172467050",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 172467050,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE3MjQ2NzA1MA==",
          "user": {
            "login": "vosybac",
            "id": 639550,
            "node_id": "MDQ6VXNlcjYzOTU1MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/639550?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vosybac",
            "html_url": "https://github.com/vosybac",
            "followers_url": "https://api.github.com/users/vosybac/followers",
            "following_url": "https://api.github.com/users/vosybac/following{/other_user}",
            "gists_url": "https://api.github.com/users/vosybac/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vosybac/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vosybac/subscriptions",
            "organizations_url": "https://api.github.com/users/vosybac/orgs",
            "repos_url": "https://api.github.com/users/vosybac/repos",
            "events_url": "https://api.github.com/users/vosybac/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vosybac/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-01-18T08:55:27Z",
          "updated_at": "2016-01-18T08:56:00Z",
          "author_association": "NONE",
          "body": "Does anyone know how to replace the default the validation score by the another scoring function printed at every epoch?   The scoring function for validation set should be similar to the one implemented for test set. Many thanks.\n\nclf.fit(xt, yt, batch_size=64, nb_epoch=300, validation_data=(xs, ys), class_weight=W, verbose=0)\npreds = clf.predict(xs)\npreds[preds>=0.5] = 1\npreds[preds<0.5] = 0\nprint f1_score(ys, preds, average='macro')\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/172467050/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/173524913",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-173524913",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 173524913,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE3MzUyNDkxMw==",
          "user": {
            "login": "suraj-deshmukh",
            "id": 14833831,
            "node_id": "MDQ6VXNlcjE0ODMzODMx",
            "avatar_url": "https://avatars.githubusercontent.com/u/14833831?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/suraj-deshmukh",
            "html_url": "https://github.com/suraj-deshmukh",
            "followers_url": "https://api.github.com/users/suraj-deshmukh/followers",
            "following_url": "https://api.github.com/users/suraj-deshmukh/following{/other_user}",
            "gists_url": "https://api.github.com/users/suraj-deshmukh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/suraj-deshmukh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/suraj-deshmukh/subscriptions",
            "organizations_url": "https://api.github.com/users/suraj-deshmukh/orgs",
            "repos_url": "https://api.github.com/users/suraj-deshmukh/repos",
            "events_url": "https://api.github.com/users/suraj-deshmukh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/suraj-deshmukh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-01-21T10:13:58Z",
          "updated_at": "2016-01-21T10:13:58Z",
          "author_association": "NONE",
          "body": "@elanmart \ni have image dataset, each having multiple label and y for particular image is [1,1,-1,-1,-1] where 1==class present and -1==class not present. my question is how to change y so that keras model will accept that y for trainning the data.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/173524913/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/231744996",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-231744996",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 231744996,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTc0NDk5Ng==",
          "user": {
            "login": "alyato",
            "id": 6815071,
            "node_id": "MDQ6VXNlcjY4MTUwNzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6815071?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alyato",
            "html_url": "https://github.com/alyato",
            "followers_url": "https://api.github.com/users/alyato/followers",
            "following_url": "https://api.github.com/users/alyato/following{/other_user}",
            "gists_url": "https://api.github.com/users/alyato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/alyato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/alyato/subscriptions",
            "organizations_url": "https://api.github.com/users/alyato/orgs",
            "repos_url": "https://api.github.com/users/alyato/repos",
            "events_url": "https://api.github.com/users/alyato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/alyato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-07-11T14:08:21Z",
          "updated_at": "2016-07-11T14:08:21Z",
          "author_association": "NONE",
          "body": "@suraj-deshmukh ,Do you solve your problem how to load the multi-label data? How do you do it\uff1f Do you share your code? Thanks.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/231744996/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/231959135",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-231959135",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 231959135,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzMTk1OTEzNQ==",
          "user": {
            "login": "suraj-deshmukh",
            "id": 14833831,
            "node_id": "MDQ6VXNlcjE0ODMzODMx",
            "avatar_url": "https://avatars.githubusercontent.com/u/14833831?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/suraj-deshmukh",
            "html_url": "https://github.com/suraj-deshmukh",
            "followers_url": "https://api.github.com/users/suraj-deshmukh/followers",
            "following_url": "https://api.github.com/users/suraj-deshmukh/following{/other_user}",
            "gists_url": "https://api.github.com/users/suraj-deshmukh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/suraj-deshmukh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/suraj-deshmukh/subscriptions",
            "organizations_url": "https://api.github.com/users/suraj-deshmukh/orgs",
            "repos_url": "https://api.github.com/users/suraj-deshmukh/repos",
            "events_url": "https://api.github.com/users/suraj-deshmukh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/suraj-deshmukh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-07-12T07:25:33Z",
          "updated_at": "2016-07-12T07:25:33Z",
          "author_association": "NONE",
          "body": "@alyato , Hi I solved my problem but I lost all my codes :( due to hdd failure. But as I said in previous comment my y/target was [1,1,-1,-1,-1] and I converted it into [1,1,0,0,0] where 1 == presence and 0 == absence for all images and passed that data to ConvNet having binary crossentropy as loss function and sigmoid as activation function for output layer. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/231959135/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/232277587",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-232277587",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 232277587,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjI3NzU4Nw==",
          "user": {
            "login": "alyato",
            "id": 6815071,
            "node_id": "MDQ6VXNlcjY4MTUwNzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6815071?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alyato",
            "html_url": "https://github.com/alyato",
            "followers_url": "https://api.github.com/users/alyato/followers",
            "following_url": "https://api.github.com/users/alyato/following{/other_user}",
            "gists_url": "https://api.github.com/users/alyato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/alyato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/alyato/subscriptions",
            "organizations_url": "https://api.github.com/users/alyato/orgs",
            "repos_url": "https://api.github.com/users/alyato/repos",
            "events_url": "https://api.github.com/users/alyato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/alyato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-07-13T07:28:21Z",
          "updated_at": "2016-07-13T07:28:21Z",
          "author_association": "NONE",
          "body": "@suraj-deshmukh ,Does i understand it like this.\nfor single label:(total 3)\n\n> `x`   `y`\n> `[1,2,3]`    `[0]`\n> `[4,5,6]`    `[1]`\n> `[7,8,9]`   `[2]`\n\nSo i  load the train_data and  train_label. The format of train_label is  [0,1,2].\n`train_label.shape is (3,)`\nBut for multi-label:(total 3)\n\n> `x`   `y`\n> `[1,2,3]`    `[0,2]`\n> `[4,5,6]`    `[1,2]`\n> `[7,8,9]`   `[0,1]`\n\nThen The format of train_label is [ [1,0,1],[0,1,1],[1,1,0] ]\n`train_label.shape is (3,3)`\n\nIs that right?\nIf it are right,i also have one question.\n\n> for single label,The format of train_label is  [0,1,2].And i need call the function (np_utils.to_categorical),converting it to the  one-hot format\n> \n> for multi-label ,The format of train_label is [ [1,0,1],[0,1,1],[1,1,0] ]\n> I don't call the function (np_utils.to_categorical)\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/232277587/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/232278651",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-232278651",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 232278651,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjI3ODY1MQ==",
          "user": {
            "login": "suraj-deshmukh",
            "id": 14833831,
            "node_id": "MDQ6VXNlcjE0ODMzODMx",
            "avatar_url": "https://avatars.githubusercontent.com/u/14833831?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/suraj-deshmukh",
            "html_url": "https://github.com/suraj-deshmukh",
            "followers_url": "https://api.github.com/users/suraj-deshmukh/followers",
            "following_url": "https://api.github.com/users/suraj-deshmukh/following{/other_user}",
            "gists_url": "https://api.github.com/users/suraj-deshmukh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/suraj-deshmukh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/suraj-deshmukh/subscriptions",
            "organizations_url": "https://api.github.com/users/suraj-deshmukh/orgs",
            "repos_url": "https://api.github.com/users/suraj-deshmukh/repos",
            "events_url": "https://api.github.com/users/suraj-deshmukh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/suraj-deshmukh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-07-13T07:33:50Z",
          "updated_at": "2016-07-13T07:34:22Z",
          "author_association": "NONE",
          "body": "@alyato  \nyes you are right\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/232278651/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/232591532",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-232591532",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 232591532,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzMjU5MTUzMg==",
          "user": {
            "login": "alyato",
            "id": 6815071,
            "node_id": "MDQ6VXNlcjY4MTUwNzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6815071?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alyato",
            "html_url": "https://github.com/alyato",
            "followers_url": "https://api.github.com/users/alyato/followers",
            "following_url": "https://api.github.com/users/alyato/following{/other_user}",
            "gists_url": "https://api.github.com/users/alyato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/alyato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/alyato/subscriptions",
            "organizations_url": "https://api.github.com/users/alyato/orgs",
            "repos_url": "https://api.github.com/users/alyato/repos",
            "events_url": "https://api.github.com/users/alyato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/alyato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-07-14T08:02:10Z",
          "updated_at": "2016-07-14T08:02:10Z",
          "author_association": "NONE",
          "body": "@suraj-deshmukh ,Thanks for your answer. But i also have some questions.\n\n> preds[preds>=0.5] = 1\n> preds[preds<0.5] = 0\n1. how to set the Threshold,such as 0.5\n2. If i gets my predict_test_label,how can i compare it with the real_test_label.\n\n> the predict_test_label is \n> [[1,0,1],\n> [0,1,1],\n> [1,1,0]]\n> and the real_test_label is \n> [[1,0,0],\n> [1,0,1],\n> [1,1,0]]\n\nhow to measure my model is better or worse?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/232591532/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/237109524",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-237109524",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 237109524,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIzNzEwOTUyNA==",
          "user": {
            "login": "XuesongYang",
            "id": 1646669,
            "node_id": "MDQ6VXNlcjE2NDY2Njk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1646669?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/XuesongYang",
            "html_url": "https://github.com/XuesongYang",
            "followers_url": "https://api.github.com/users/XuesongYang/followers",
            "following_url": "https://api.github.com/users/XuesongYang/following{/other_user}",
            "gists_url": "https://api.github.com/users/XuesongYang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/XuesongYang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/XuesongYang/subscriptions",
            "organizations_url": "https://api.github.com/users/XuesongYang/orgs",
            "repos_url": "https://api.github.com/users/XuesongYang/repos",
            "events_url": "https://api.github.com/users/XuesongYang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/XuesongYang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-03T01:52:42Z",
          "updated_at": "2016-08-03T01:52:42Z",
          "author_association": "NONE",
          "body": "@elanmart \n\"in softmax when increasing score for one label, all others are lowered (it's a probability distribution). You don't want that when you have multiple labels.\"\n\nI am kind of disagree with the conclusion. Maybe I am wrong. \nsoftmax is just to calculate a normalized exponential value (probability) for each node in the output layer. Assuming there are two target labels out of seven for example, the neural network tries to predict top two posterior probabilities in the specific nodes, and the two probs are definitely the same.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/237109524/reactions",
            "total_count": 8,
            "+1": 1,
            "-1": 7,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/250654006",
          "html_url": "https://github.com/keras-team/keras/issues/741#issuecomment-250654006",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/741",
          "id": 250654006,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1MDY1NDAwNg==",
          "user": {
            "login": "ritchieng",
            "id": 11657655,
            "node_id": "MDQ6VXNlcjExNjU3NjU1",
            "avatar_url": "https://avatars.githubusercontent.com/u/11657655?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ritchieng",
            "html_url": "https://github.com/ritchieng",
            "followers_url": "https://api.github.com/users/ritchieng/followers",
            "following_url": "https://api.github.com/users/ritchieng/following{/other_user}",
            "gists_url": "https://api.github.com/users/ritchieng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ritchieng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ritchieng/subscriptions",
            "organizations_url": "https://api.github.com/users/ritchieng/orgs",
            "repos_url": "https://api.github.com/users/ritchieng/repos",
            "events_url": "https://api.github.com/users/ritchieng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ritchieng/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-09-30T04:07:37Z",
          "updated_at": "2016-09-30T04:07:37Z",
          "author_association": "NONE",
          "body": "Hi, I'm trying to classify an image with multiple digits. Say an image with \"123\" to output \"123\". There are up to 5 digits. \n\nI'm stuck after I built the convolution layers. How do we output 5 digits each with 10 classes? Some suggested 5 independent fully connected layers after the final convolution layer. But how do we code this in Keras for the 5 independent FCs?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/250654006/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/4944",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/4944/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/4944/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/4944/events",
      "html_url": "https://github.com/keras-team/keras/issues/4944",
      "id": 199258913,
      "node_id": "MDU6SXNzdWUxOTkyNTg5MTM=",
      "number": 4944,
      "title": "Contrib Repo",
      "user": {
        "login": "patyork",
        "id": 1304633,
        "node_id": "MDQ6VXNlcjEzMDQ2MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1304633?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/patyork",
        "html_url": "https://github.com/patyork",
        "followers_url": "https://api.github.com/users/patyork/followers",
        "following_url": "https://api.github.com/users/patyork/following{/other_user}",
        "gists_url": "https://api.github.com/users/patyork/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/patyork/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/patyork/subscriptions",
        "organizations_url": "https://api.github.com/users/patyork/orgs",
        "repos_url": "https://api.github.com/users/patyork/repos",
        "events_url": "https://api.github.com/users/patyork/events{/privacy}",
        "received_events_url": "https://api.github.com/users/patyork/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 73,
      "created_at": "2017-01-06T18:36:31Z",
      "updated_at": "2017-07-19T11:10:44Z",
      "closed_at": "2017-07-19T11:10:44Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "@fchollet Since we're not adding much to the repo at this stage (in terms of layers, loss functions, callbacks, etc.), we've talked quite a bit about an external repo for user/additional contributions, that, based on utility and usage may eventually make it into the core.\r\n\r\nI'm curious about how you would want/like to go about this. An external repo is not a big deal, but I'm wondering:\r\n\r\n- How do we keep the chain of commits and contributions/contributors intact if or when we start pushing items into the core Keras from the external repo?\r\n- How would we go about determining if something is used/useful enough to move to Keras?\r\n\r\nJust looking for thoughts on this topic. I've seen a repo or two that are not forks (completely external) and overwrite certain Keras files then do a setup.py install, but that seems like a poor way to do it. A fork would keep the chain of contributions in tact and would be easy to merge, but having any reference to a fork would just be confusing in my opinion.",
      "closed_by": {
        "login": "stale[bot]",
        "id": 26384082,
        "node_id": "MDM6Qm90MjYzODQwODI=",
        "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stale%5Bbot%5D",
        "html_url": "https://github.com/apps/stale",
        "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
        "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
        "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
        "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
        "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
        "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
        "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
        "type": "Bot",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/4944/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/4944/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271016640",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271016640",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271016640,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTAxNjY0MA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-06T21:46:14Z",
          "updated_at": "2017-01-06T21:46:14Z",
          "author_association": "COLLABORATOR",
          "body": "This is a good initiative.\n\n> How do we keep the chain of commits and contributions/contributors intact\nif or when we start pushing items into the core Keras from the external\nrepo?\n\nGit allows us to do pretty much anything. In particular we can reapply a\nchain of commits with arbitrary authors. A contrib repo should live as an\nindependent repo from Keras (not a fork), and we can use custom git scripts\nto transfer code from contrib to core Keras.\n\n> How would we go about determining if something is used/useful enough to\nmove to Keras?\n\nMaybe by vote, as well as Github code searches.\n\nAdditionally: I would rather not have to manage a contrib repo myself,\nsince Keras keeps me busy enough already. We could have it under the\ncontrol of a small number of top Keras contributors.\n\nOn 6 January 2017 at 19:36, Pat York <notifications@github.com> wrote:\n\n> @fchollet <https://github.com/fchollet> Since we're not adding much to\n> the repo at this stage (in terms of layers, loss functions, callbacks,\n> etc.), we've talked quite a bit about an external repo for user/additional\n> contributions, that, based on utility and usage may eventually make it into\n> the core.\n>\n> I'm curious about how you would want/like to go about this. An external\n> repo is not a big deal, but I'm wondering:\n>\n>    - How do we keep the chain of commits and contributions/contributors\n>    intact if or when we start pushing items into the core Keras from the\n>    external repo?\n>    - How would we go about determining if something is used/useful enough\n>    to move to Keras?\n>\n> Just looking for thoughts on this topic. I've seen a repo or two that are\n> not forks (completely external) and overwrite certain Keras files then do a\n> setup.py install, but that seems like a poor way to do it. A fork would\n> keep the chain of contributions in tact and would be easy to merge, but\n> having any reference to a fork would just be confusing in my opinion.\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/fchollet/keras/issues/4944>, or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AArWbyJoeEQr-9R5-FroUODNzUUu_fglks5rPomxgaJpZM4Lc-35>\n> .\n>\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271016640/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271023970",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271023970",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271023970,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTAyMzk3MA==",
          "user": {
            "login": "patyork",
            "id": 1304633,
            "node_id": "MDQ6VXNlcjEzMDQ2MzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1304633?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patyork",
            "html_url": "https://github.com/patyork",
            "followers_url": "https://api.github.com/users/patyork/followers",
            "following_url": "https://api.github.com/users/patyork/following{/other_user}",
            "gists_url": "https://api.github.com/users/patyork/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patyork/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patyork/subscriptions",
            "organizations_url": "https://api.github.com/users/patyork/orgs",
            "repos_url": "https://api.github.com/users/patyork/repos",
            "events_url": "https://api.github.com/users/patyork/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patyork/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-06T22:13:07Z",
          "updated_at": "2017-01-06T22:13:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "I anticipated you not wanting to manage that repo as well, given that you are the gatekeeper of this fairly massive one already. I was looking to get the contrib repo up and running, but I want to be sure it's setup correctly (e.g. in a useful way that allows future merges into Keras core) before starting anything.\r\n\r\nI've seen a fair amount of decent code/PRs declined in the last couple of months alone that would fit well as contribs, so I think this would be good to figure out a framework for ASAP.\r\n\r\nPerhaps we can do a proof of concept along the lines of a new repo, adding what amounts to come contrib code, and determining what works best in getting it back into Keras (or a temp branch).",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271023970/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271025185",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271025185",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271025185,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTAyNTE4NQ==",
          "user": {
            "login": "the-moliver",
            "id": 144949,
            "node_id": "MDQ6VXNlcjE0NDk0OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/144949?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/the-moliver",
            "html_url": "https://github.com/the-moliver",
            "followers_url": "https://api.github.com/users/the-moliver/followers",
            "following_url": "https://api.github.com/users/the-moliver/following{/other_user}",
            "gists_url": "https://api.github.com/users/the-moliver/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/the-moliver/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/the-moliver/subscriptions",
            "organizations_url": "https://api.github.com/users/the-moliver/orgs",
            "repos_url": "https://api.github.com/users/the-moliver/repos",
            "events_url": "https://api.github.com/users/the-moliver/events{/privacy}",
            "received_events_url": "https://api.github.com/users/the-moliver/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-06T22:17:01Z",
          "updated_at": "2017-01-06T22:17:01Z",
          "author_association": "CONTRIBUTOR",
          "body": "This is a great idea. I have a few things I could contribute and would be willing to help moderate.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271025185/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271035075",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271035075",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271035075,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTAzNTA3NQ==",
          "user": {
            "login": "keunwoochoi",
            "id": 16153797,
            "node_id": "MDQ6VXNlcjE2MTUzNzk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/16153797?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/keunwoochoi",
            "html_url": "https://github.com/keunwoochoi",
            "followers_url": "https://api.github.com/users/keunwoochoi/followers",
            "following_url": "https://api.github.com/users/keunwoochoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/keunwoochoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/keunwoochoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/keunwoochoi/subscriptions",
            "organizations_url": "https://api.github.com/users/keunwoochoi/orgs",
            "repos_url": "https://api.github.com/users/keunwoochoi/repos",
            "events_url": "https://api.github.com/users/keunwoochoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/keunwoochoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-06T23:09:02Z",
          "updated_at": "2017-01-06T23:09:02Z",
          "author_association": "CONTRIBUTOR",
          "body": "So would it be a kinda beta release of keras new components?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271035075/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271036510",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271036510",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271036510,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTAzNjUxMA==",
          "user": {
            "login": "tboquet",
            "id": 5553901,
            "node_id": "MDQ6VXNlcjU1NTM5MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5553901?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tboquet",
            "html_url": "https://github.com/tboquet",
            "followers_url": "https://api.github.com/users/tboquet/followers",
            "following_url": "https://api.github.com/users/tboquet/following{/other_user}",
            "gists_url": "https://api.github.com/users/tboquet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tboquet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tboquet/subscriptions",
            "organizations_url": "https://api.github.com/users/tboquet/orgs",
            "repos_url": "https://api.github.com/users/tboquet/repos",
            "events_url": "https://api.github.com/users/tboquet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tboquet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-06T23:17:37Z",
          "updated_at": "2017-01-06T23:17:37Z",
          "author_association": "CONTRIBUTOR",
          "body": "Cool  idea!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271036510/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271036856",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271036856",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271036856,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTAzNjg1Ng==",
          "user": {
            "login": "patyork",
            "id": 1304633,
            "node_id": "MDQ6VXNlcjEzMDQ2MzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1304633?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patyork",
            "html_url": "https://github.com/patyork",
            "followers_url": "https://api.github.com/users/patyork/followers",
            "following_url": "https://api.github.com/users/patyork/following{/other_user}",
            "gists_url": "https://api.github.com/users/patyork/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patyork/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patyork/subscriptions",
            "organizations_url": "https://api.github.com/users/patyork/orgs",
            "repos_url": "https://api.github.com/users/patyork/repos",
            "events_url": "https://api.github.com/users/patyork/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patyork/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-06T23:19:59Z",
          "updated_at": "2017-01-06T23:19:59Z",
          "author_association": "CONTRIBUTOR",
          "body": "I wouldn't call it solely a beta for Keras, although that could definitely be part of it. I think of it as an extensions library as well; that is, some of the less used items (loss functions, layers, etc) will be merged and accessible via installation and importing of the contrib library, but they may not be used enough to make sense in the Keras core library and would never make it in there.\r\n\r\nSo, an extension library where some of the extension make it back into the Keras core.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271036856/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271047104",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271047104",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271047104,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTA0NzEwNA==",
          "user": {
            "login": "lukedeo",
            "id": 3826382,
            "node_id": "MDQ6VXNlcjM4MjYzODI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3826382?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lukedeo",
            "html_url": "https://github.com/lukedeo",
            "followers_url": "https://api.github.com/users/lukedeo/followers",
            "following_url": "https://api.github.com/users/lukedeo/following{/other_user}",
            "gists_url": "https://api.github.com/users/lukedeo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lukedeo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lukedeo/subscriptions",
            "organizations_url": "https://api.github.com/users/lukedeo/orgs",
            "repos_url": "https://api.github.com/users/lukedeo/repos",
            "events_url": "https://api.github.com/users/lukedeo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lukedeo/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-07T00:37:00Z",
          "updated_at": "2017-01-07T00:37:00Z",
          "author_association": "CONTRIBUTOR",
          "body": "I could definitely help moderate.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271047104/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271115700",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271115700",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271115700,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTExNTcwMA==",
          "user": {
            "login": "bstriner",
            "id": 12462956,
            "node_id": "MDQ6VXNlcjEyNDYyOTU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/12462956?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bstriner",
            "html_url": "https://github.com/bstriner",
            "followers_url": "https://api.github.com/users/bstriner/followers",
            "following_url": "https://api.github.com/users/bstriner/following{/other_user}",
            "gists_url": "https://api.github.com/users/bstriner/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bstriner/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bstriner/subscriptions",
            "organizations_url": "https://api.github.com/users/bstriner/orgs",
            "repos_url": "https://api.github.com/users/bstriner/repos",
            "events_url": "https://api.github.com/users/bstriner/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bstriner/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-07T22:49:43Z",
          "updated_at": "2017-01-07T22:49:43Z",
          "author_association": "CONTRIBUTOR",
          "body": "Would be great to have a contrib repo up and running. There are a lot of trig functions to add to keras backend and it might be cleaner to have them in a separate repo. I've also been wanting to add functionality for multiplayer models (GANs, BiGANs, AAEs, etc.) which would be better to put in a contrib repo. It would be a great place for stable code we just don't want polluting Keras. Not everyone is going to need arccosh or whatever.\r\n\r\nWould the repo have separate CI, documentation hosting, etc? Separate Google/slack groups or no?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271115700/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271116028",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271116028",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271116028,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTExNjAyOA==",
          "user": {
            "login": "bstriner",
            "id": 12462956,
            "node_id": "MDQ6VXNlcjEyNDYyOTU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/12462956?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bstriner",
            "html_url": "https://github.com/bstriner",
            "followers_url": "https://api.github.com/users/bstriner/followers",
            "following_url": "https://api.github.com/users/bstriner/following{/other_user}",
            "gists_url": "https://api.github.com/users/bstriner/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bstriner/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bstriner/subscriptions",
            "organizations_url": "https://api.github.com/users/bstriner/orgs",
            "repos_url": "https://api.github.com/users/bstriner/repos",
            "events_url": "https://api.github.com/users/bstriner/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bstriner/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-07T22:56:07Z",
          "updated_at": "2017-01-07T22:56:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "On that note, it would be nice for the contrib repo to have its own backend module (with the same logic and file structure as keras.backend) for any weird or esoteric backend functions.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271116028/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271119253",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271119253",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271119253,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTExOTI1Mw==",
          "user": {
            "login": "lukedeo",
            "id": 3826382,
            "node_id": "MDQ6VXNlcjM4MjYzODI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3826382?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lukedeo",
            "html_url": "https://github.com/lukedeo",
            "followers_url": "https://api.github.com/users/lukedeo/followers",
            "following_url": "https://api.github.com/users/lukedeo/following{/other_user}",
            "gists_url": "https://api.github.com/users/lukedeo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lukedeo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lukedeo/subscriptions",
            "organizations_url": "https://api.github.com/users/lukedeo/orgs",
            "repos_url": "https://api.github.com/users/lukedeo/repos",
            "events_url": "https://api.github.com/users/lukedeo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lukedeo/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-08T00:04:11Z",
          "updated_at": "2017-01-08T00:04:27Z",
          "author_association": "CONTRIBUTOR",
          "body": "Might be nice to hook all this up as an extra so we can do `pip install keras[contrib]` and it would let us do something like `from keras.contrib.layers import FancyUntestedLayer`. We'd need some mods inside the keras setup for that, though. We can have just a `keras_contrib` PyPI package that can be standalone or patched into the main keras if installed as `pip install keras[contrib]`.\r\n\r\nI think we need separate CI / dox, though.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271119253/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271119646",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271119646",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271119646,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTExOTY0Ng==",
          "user": {
            "login": "patyork",
            "id": 1304633,
            "node_id": "MDQ6VXNlcjEzMDQ2MzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1304633?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patyork",
            "html_url": "https://github.com/patyork",
            "followers_url": "https://api.github.com/users/patyork/followers",
            "following_url": "https://api.github.com/users/patyork/following{/other_user}",
            "gists_url": "https://api.github.com/users/patyork/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patyork/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patyork/subscriptions",
            "organizations_url": "https://api.github.com/users/patyork/orgs",
            "repos_url": "https://api.github.com/users/patyork/repos",
            "events_url": "https://api.github.com/users/patyork/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patyork/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-08T00:13:36Z",
          "updated_at": "2017-01-08T00:13:36Z",
          "author_association": "CONTRIBUTOR",
          "body": "I think we should try to keep it entirely separate from Keras; simply a new repo that utilizes Keras for some things (backend functions, standard callbacks, etc), but that brings new functionality to the table.\r\n\r\nAn example would be\r\n```python\r\nfrom keras.models import Sequential\r\nfrom keras.layers import Dense, Activation\r\nfrom keras_contrib.layers import ForgetfulLSTM #not a real type of layer, I don't think\r\n# but with a mirrored directory structure, the extensions should be self explanatory\r\n\r\nimport keras.backend as K\r\nimport keras_contrib.backend as C # perhaps we can call this \"K\" and if the function is not in the contrib library\r\n#    we can just fall back directly to the Keras backend? e.g.\r\n# import keras_contrib.backend as K\r\n\r\nC.arccos(data) # extended backend functions\r\nK.mean(data) # standard functions still available\r\n\r\nmodel = Sequential()\r\nmodel.add(ForgetfulLSTM()) #layers compatible with standard Keras models\r\nmodel.add(Dense())\r\n```\r\n\r\nI've been playing around with it a bit today; I'm still stuck on wrapping my head around what mechanisms are available for preserving commit history *across dissimilar* repos. Making a bit of progress, but without being able to get the correct history of the extension back into Keras, if/when the changes are promoted to keras core, the contrib repo is kind of moot - copy/pasting code doesn't appeal to me.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271119646/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271125066",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271125066",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271125066,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTEyNTA2Ng==",
          "user": {
            "login": "bstriner",
            "id": 12462956,
            "node_id": "MDQ6VXNlcjEyNDYyOTU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/12462956?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bstriner",
            "html_url": "https://github.com/bstriner",
            "followers_url": "https://api.github.com/users/bstriner/followers",
            "following_url": "https://api.github.com/users/bstriner/following{/other_user}",
            "gists_url": "https://api.github.com/users/bstriner/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bstriner/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bstriner/subscriptions",
            "organizations_url": "https://api.github.com/users/bstriner/orgs",
            "repos_url": "https://api.github.com/users/bstriner/repos",
            "events_url": "https://api.github.com/users/bstriner/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bstriner/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-08T02:37:12Z",
          "updated_at": "2017-01-08T02:37:12Z",
          "author_association": "CONTRIBUTOR",
          "body": "Watch ForgetfulLSTM make it to NIPS 2018.\r\n\r\nSomething like this might be relevant. Involves a filtered view of one repository then pulling updates into the other.\r\n\r\nhttp://gbayer.com/development/moving-files-from-one-git-repository-to-another-preserving-history/\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271125066/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271125222",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271125222",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271125222,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTEyNTIyMg==",
          "user": {
            "login": "bstriner",
            "id": 12462956,
            "node_id": "MDQ6VXNlcjEyNDYyOTU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/12462956?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bstriner",
            "html_url": "https://github.com/bstriner",
            "followers_url": "https://api.github.com/users/bstriner/followers",
            "following_url": "https://api.github.com/users/bstriner/following{/other_user}",
            "gists_url": "https://api.github.com/users/bstriner/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bstriner/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bstriner/subscriptions",
            "organizations_url": "https://api.github.com/users/bstriner/orgs",
            "repos_url": "https://api.github.com/users/bstriner/repos",
            "events_url": "https://api.github.com/users/bstriner/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bstriner/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-08T02:40:42Z",
          "updated_at": "2017-01-08T02:40:42Z",
          "author_association": "CONTRIBUTOR",
          "body": "If contrib is a large hodgepodge of things, maybe it makes sense to divide contrib up into extras.\r\n\r\nEspecially if we roll some specialized dependencies into contrib. For example, I wrote keras integration with tqdm which makes really nicely formatted progress bars in Jupyter. We could have a contrib extra that depends on progressbar, a contrib extra that depends on tqdm, etc. \r\n\r\nWe don't want to add any dependencies to keras to keep things lean but there could be contrib extras with various additional dependencies.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271125222/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271126245",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271126245",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271126245,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTEyNjI0NQ==",
          "user": {
            "login": "patyork",
            "id": 1304633,
            "node_id": "MDQ6VXNlcjEzMDQ2MzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1304633?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patyork",
            "html_url": "https://github.com/patyork",
            "followers_url": "https://api.github.com/users/patyork/followers",
            "following_url": "https://api.github.com/users/patyork/following{/other_user}",
            "gists_url": "https://api.github.com/users/patyork/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patyork/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patyork/subscriptions",
            "organizations_url": "https://api.github.com/users/patyork/orgs",
            "repos_url": "https://api.github.com/users/patyork/repos",
            "events_url": "https://api.github.com/users/patyork/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patyork/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-08T03:07:26Z",
          "updated_at": "2017-01-08T03:07:26Z",
          "author_association": "CONTRIBUTOR",
          "body": "I thought a bit about submodules, subtrees, etc, but I think it would be better off to just be a separate repo (such that, when needed, we can merge stuff into Keras core). So far, it seems like just a mirrored structure and a bit of manual reworking and applying of [patches](https://robots.thoughtbot.com/send-a-patch-to-someone-using-git-format-patch) will get us to:\r\n\r\n- Keras completely separate and independent from the contrib\r\n- Contrib just \"sitting on top of\" Keras providing new features\r\n- Commits available to push into Keras at @fchollet's and the contrib team's approval/discretion\r\n  - History and contributor info intact\r\n- Separate documentation and CI build (but available to move to Keras as well)\r\n\r\nI'd image the contrib repo being pretty lax in terms of requirements; just about anything can get merged, as long as it is valid code relating to deep learning, is \"useful\" to a wide audience (not super specific to a single model/dataset/person) and has tests written for it when called for. The really useful stuff would hopefully eventually move to Keras and be removed from the contrib repo, without much hassle.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271126245/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271188622",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271188622",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271188622,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTE4ODYyMg==",
          "user": {
            "login": "patyork",
            "id": 1304633,
            "node_id": "MDQ6VXNlcjEzMDQ2MzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1304633?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patyork",
            "html_url": "https://github.com/patyork",
            "followers_url": "https://api.github.com/users/patyork/followers",
            "following_url": "https://api.github.com/users/patyork/following{/other_user}",
            "gists_url": "https://api.github.com/users/patyork/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patyork/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patyork/subscriptions",
            "organizations_url": "https://api.github.com/users/patyork/orgs",
            "repos_url": "https://api.github.com/users/patyork/repos",
            "events_url": "https://api.github.com/users/patyork/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patyork/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-08T23:33:06Z",
          "updated_at": "2017-01-10T01:20:01Z",
          "author_association": "CONTRIBUTOR",
          "body": "Having played around with it a bit more, I think the separate repo is entirely viable. A quick test is below.\r\n\r\nSome commits in the external repo (note: the repo is set up with similar structure/files as Keras, but this is not strictly necessary):\r\n![image](https://cloud.githubusercontent.com/assets/1304633/21754495/82d8fb48-d5b6-11e6-8617-9059e6cfaf3c.png)\r\n\r\nThe highlighted commit above is put into a git patch via `git format-patch`. A little finagling of the patch file makes it compatible with Keras and available to be able to apply; these finagling changes are just to put the commit in the correct spot in the destination file. We take the patch to a new branch in Keras and apply with `git am --signoff` which keeps the commit message, original contributor, and has the sign-off note highlighted in blue:\r\n![image](https://cloud.githubusercontent.com/assets/1304633/21754525/1b8209d4-d5b7-11e6-82fc-f650049e6174.png)\r\n\r\nAt that point, the signee can reapply more commits in the same way; finally, just review and make any changes to the committed code, in a separate commit. These final fixes would be, perhaps, moving/removing/adding/editing import statements and their usage in the new code (e.g. elephas.layer.Name --> keras.layer.Name).\r\n\r\nA lot of the manual stuff above could end up being handled automatically via simple search and replace; the patch finagling could be easier as well with a gui versus editing a diff file directly. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271188622/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271189671",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271189671",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271189671,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTE4OTY3MQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-08T23:50:58Z",
          "updated_at": "2017-01-08T23:50:58Z",
          "author_association": "COLLABORATOR",
          "body": "I don't think a contrib repo should mirror the code structure of core\nKeras, and I don't understand why it should (it you feel strongly about it,\nplease explain what you reasons are). E.g. tf.contrib does not mirror core\ntf, it's just a bunch of extras.\n\nIn the same way, I would see a Keras contrib repo as divided into modules\nsuch as callbacks, layers, metrics, etc, with no redundancy between core\nKeras code and contrib code.\n\nOn 9 January 2017 at 00:33, Pat York <notifications@github.com> wrote:\n\n> Having played around with it a bit more, I think the separate repo is\n> entirely viable. A quick test repo here\n> <https://github.com/patyork/elephas/commits/master>(elephas, meaning ivory\n> <https://github.com/fchollet/keras#why-this-name-keras>).\n>\n> Some commits in the external repo (note: the repo is set up with similar\n> structure/files as Keras, but this is not strictly necessary):\n> [image: image]\n> <https://cloud.githubusercontent.com/assets/1304633/21754495/82d8fb48-d5b6-11e6-8617-9059e6cfaf3c.png>\n>\n> The highlighted commit above is put into a git patch via git format-patch.\n> A little finagling of the patch file makes it compatible with Keras and\n> available to be able to apply; these finagling changes are just to put the\n> commit in the correct spot in the destination file. We take the patch to a\n> new branch in Keras and apply with git am --signoff which keeps the\n> commit message, original contributor, and has the sign-off note highlighted\n> in blue:\n> [image: image]\n> <https://cloud.githubusercontent.com/assets/1304633/21754525/1b8209d4-d5b7-11e6-82fc-f650049e6174.png>\n>\n> At that point, the signee can reapply more commits in the same way;\n> finally, just review and make any changes to the committed code, in a\n> separate commit. These final fixes would be, perhaps,\n> moving/removing/adding/editing import statements and their usage in the new\n> code (e.g. elephas.layer.Name --> keras.layer.Name).\n>\n> A lot of the manual stuff above could end up being handled automatically\n> via simple search and replace; the patch finagling could be easier as well\n> with a gui versus editing a diff file directly.\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/fchollet/keras/issues/4944#issuecomment-271188622>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AArWb6ut1gDkDaBAqjV2PaPxJOX50XRvks5rQXI2gaJpZM4Lc-35>\n> .\n>\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271189671/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271190127",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271190127",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271190127,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTE5MDEyNw==",
          "user": {
            "login": "patyork",
            "id": 1304633,
            "node_id": "MDQ6VXNlcjEzMDQ2MzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1304633?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patyork",
            "html_url": "https://github.com/patyork",
            "followers_url": "https://api.github.com/users/patyork/followers",
            "following_url": "https://api.github.com/users/patyork/following{/other_user}",
            "gists_url": "https://api.github.com/users/patyork/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patyork/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patyork/subscriptions",
            "organizations_url": "https://api.github.com/users/patyork/orgs",
            "repos_url": "https://api.github.com/users/patyork/repos",
            "events_url": "https://api.github.com/users/patyork/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patyork/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-08T23:58:03Z",
          "updated_at": "2017-01-09T01:00:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "I agree it should be divided up into modules, such as callbacks, metrics, layers, backend additions. The best way to do that is via a directory and file structure that Keras has; e.g.:\r\n\r\n- \"repo name\"/\r\n  - backend/\r\n    - theano_backend.py (additional ops for theano)\r\n    - tensorflow_backend.py (additional ops for tensorflow)\r\n  - layers/\r\n    - \"additional layer types\".py\r\n  - metrics.py (additional metrics code)\r\n\r\nThe above files, while named the same, contain no Keras code; perhaps they will have a `from keras import x` statement, but no copies of Keras code. Following the Keras directory and file structure is simply the neatest way to organize everything. An example:\r\n\r\n```python\r\nfrom keras.layers import Dense\r\nfrom elephas.layers import ForgetfulLSTM\r\n```\r\n\r\nImport structure follows a reasonable pattern between Keras versus the contrib repo.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271190127/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271192449",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271192449",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271192449,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTE5MjQ0OQ==",
          "user": {
            "login": "bstriner",
            "id": 12462956,
            "node_id": "MDQ6VXNlcjEyNDYyOTU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/12462956?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bstriner",
            "html_url": "https://github.com/bstriner",
            "followers_url": "https://api.github.com/users/bstriner/followers",
            "following_url": "https://api.github.com/users/bstriner/following{/other_user}",
            "gists_url": "https://api.github.com/users/bstriner/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bstriner/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bstriner/subscriptions",
            "organizations_url": "https://api.github.com/users/bstriner/orgs",
            "repos_url": "https://api.github.com/users/bstriner/repos",
            "events_url": "https://api.github.com/users/bstriner/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bstriner/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-09T00:16:32Z",
          "updated_at": "2017-01-09T00:16:32Z",
          "author_association": "CONTRIBUTOR",
          "body": "@patyork if there are going to be more things being added by a larger contributor base it is going to be easier to manage with separate files. So, maybe metrics.py, regularizers.py, backend, etc. should be upgraded to modules/directories for the contrib repo? Add in an `import *` so we don't have conflicting commits in the init.py and everyone can safely works on their own metrics, etc.\r\n\r\nMore PRs would be adding files instead of editing files, so hopefully fewer conflicts and cleaner histories.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271192449/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271195116",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271195116",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271195116,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTE5NTExNg==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-09T00:58:25Z",
          "updated_at": "2017-01-09T00:58:25Z",
          "author_association": "COLLABORATOR",
          "body": "Pat York: yes, that sounds perfectly reasonable.\n\nOn 9 January 2017 at 01:16, Ben <notifications@github.com> wrote:\n\n> @patyork <https://github.com/patyork> if there are going to be more\n> things being added by a larger contributor base it is going to be easier to\n> manage with separate files. So, maybe metrics.py, regularizers.py, backend,\n> etc. should be upgraded to modules/directories for the contrib repo? Add in\n> an import * so we don't have conflicting commits in the init.py and\n> everyone can safely works on their own metrics, etc.\n>\n> More PRs would be adding files instead of editing files, so hopefully\n> fewer conflicts and cleaner histories.\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/fchollet/keras/issues/4944#issuecomment-271192449>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AArWb9F7mRZD9Qmc5BMONQS3CTbYxjpsks5rQXxigaJpZM4Lc-35>\n> .\n>\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271195116/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271456231",
          "html_url": "https://github.com/keras-team/keras/issues/4944#issuecomment-271456231",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/4944",
          "id": 271456231,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTQ1NjIzMQ==",
          "user": {
            "login": "the-moliver",
            "id": 144949,
            "node_id": "MDQ6VXNlcjE0NDk0OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/144949?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/the-moliver",
            "html_url": "https://github.com/the-moliver",
            "followers_url": "https://api.github.com/users/the-moliver/followers",
            "following_url": "https://api.github.com/users/the-moliver/following{/other_user}",
            "gists_url": "https://api.github.com/users/the-moliver/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/the-moliver/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/the-moliver/subscriptions",
            "organizations_url": "https://api.github.com/users/the-moliver/orgs",
            "repos_url": "https://api.github.com/users/the-moliver/repos",
            "events_url": "https://api.github.com/users/the-moliver/events{/privacy}",
            "received_events_url": "https://api.github.com/users/the-moliver/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-10T01:00:54Z",
          "updated_at": "2017-01-10T01:00:54Z",
          "author_association": "CONTRIBUTOR",
          "body": "It's probably a good idea to choose another name to avoid confusion, Elephas is taken by this keras related project:\r\nhttps://github.com/maxpumperla/elephas",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/271456231/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/10047",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/10047/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/10047/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/10047/events",
      "html_url": "https://github.com/keras-team/keras/pull/10047",
      "id": 318253056,
      "node_id": "MDExOlB1bGxSZXF1ZXN0MTg0NTA2NDc1",
      "number": 10047,
      "title": "MobileNetV2 keras implementation for imagenet weights for Tensorflow backend.",
      "user": {
        "login": "JonathanCMitchell",
        "id": 13068956,
        "node_id": "MDQ6VXNlcjEzMDY4OTU2",
        "avatar_url": "https://avatars.githubusercontent.com/u/13068956?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JonathanCMitchell",
        "html_url": "https://github.com/JonathanCMitchell",
        "followers_url": "https://api.github.com/users/JonathanCMitchell/followers",
        "following_url": "https://api.github.com/users/JonathanCMitchell/following{/other_user}",
        "gists_url": "https://api.github.com/users/JonathanCMitchell/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/JonathanCMitchell/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/JonathanCMitchell/subscriptions",
        "organizations_url": "https://api.github.com/users/JonathanCMitchell/orgs",
        "repos_url": "https://api.github.com/users/JonathanCMitchell/repos",
        "events_url": "https://api.github.com/users/JonathanCMitchell/events{/privacy}",
        "received_events_url": "https://api.github.com/users/JonathanCMitchell/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": {
        "login": "taehoonlee",
        "id": 4445535,
        "node_id": "MDQ6VXNlcjQ0NDU1MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4445535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/taehoonlee",
        "html_url": "https://github.com/taehoonlee",
        "followers_url": "https://api.github.com/users/taehoonlee/followers",
        "following_url": "https://api.github.com/users/taehoonlee/following{/other_user}",
        "gists_url": "https://api.github.com/users/taehoonlee/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/taehoonlee/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/taehoonlee/subscriptions",
        "organizations_url": "https://api.github.com/users/taehoonlee/orgs",
        "repos_url": "https://api.github.com/users/taehoonlee/repos",
        "events_url": "https://api.github.com/users/taehoonlee/events{/privacy}",
        "received_events_url": "https://api.github.com/users/taehoonlee/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "assignees": [
        {
          "login": "taehoonlee",
          "id": 4445535,
          "node_id": "MDQ6VXNlcjQ0NDU1MzU=",
          "avatar_url": "https://avatars.githubusercontent.com/u/4445535?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/taehoonlee",
          "html_url": "https://github.com/taehoonlee",
          "followers_url": "https://api.github.com/users/taehoonlee/followers",
          "following_url": "https://api.github.com/users/taehoonlee/following{/other_user}",
          "gists_url": "https://api.github.com/users/taehoonlee/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/taehoonlee/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/taehoonlee/subscriptions",
          "organizations_url": "https://api.github.com/users/taehoonlee/orgs",
          "repos_url": "https://api.github.com/users/taehoonlee/repos",
          "events_url": "https://api.github.com/users/taehoonlee/events{/privacy}",
          "received_events_url": "https://api.github.com/users/taehoonlee/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        }
      ],
      "milestone": null,
      "comments": 52,
      "created_at": "2018-04-27T02:02:07Z",
      "updated_at": "2018-12-15T21:01:18Z",
      "closed_at": "2018-05-03T08:41:39Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/10047",
        "html_url": "https://github.com/keras-team/keras/pull/10047",
        "diff_url": "https://github.com/keras-team/keras/pull/10047.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/10047.patch",
        "merged_at": "2018-05-03T08:41:39Z"
      },
      "body": "This file enables access to the 23 trained MobileNetV2 models found [here](https://github.com/tensorflow/models/tree/master/research/slim/nets/mobilenet). The design and architecture for MobileNetV2 is explained in this [paper](https://arxiv.org/abs/1801.04381)\r\n\r\nFor a complete view of the weight extraction. loading, and testing process please see this [repository](https://github.com/JonathanCMitchell/mobilenet_v2_keras)\r\n\r\nLink to google doc explaining changes:\r\nhttps://docs.google.com/document/d/1-sRVeWiUMNmM8uZSfX-V0dZu9D_580OOQaTKdoqcJHM/edit?usp=sharing\r\n\r\nPlease let me know if there is something you would like me to add/ change/ etc. ",
      "closed_by": {
        "login": "taehoonlee",
        "id": 4445535,
        "node_id": "MDQ6VXNlcjQ0NDU1MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4445535?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/taehoonlee",
        "html_url": "https://github.com/taehoonlee",
        "followers_url": "https://api.github.com/users/taehoonlee/followers",
        "following_url": "https://api.github.com/users/taehoonlee/following{/other_user}",
        "gists_url": "https://api.github.com/users/taehoonlee/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/taehoonlee/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/taehoonlee/subscriptions",
        "organizations_url": "https://api.github.com/users/taehoonlee/orgs",
        "repos_url": "https://api.github.com/users/taehoonlee/repos",
        "events_url": "https://api.github.com/users/taehoonlee/events{/privacy}",
        "received_events_url": "https://api.github.com/users/taehoonlee/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/10047/reactions",
        "total_count": 3,
        "+1": 3,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/10047/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/384882919",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-384882919",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 384882919,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDg4MjkxOQ==",
          "user": {
            "login": "taehoonlee",
            "id": 4445535,
            "node_id": "MDQ6VXNlcjQ0NDU1MzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4445535?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/taehoonlee",
            "html_url": "https://github.com/taehoonlee",
            "followers_url": "https://api.github.com/users/taehoonlee/followers",
            "following_url": "https://api.github.com/users/taehoonlee/following{/other_user}",
            "gists_url": "https://api.github.com/users/taehoonlee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/taehoonlee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/taehoonlee/subscriptions",
            "organizations_url": "https://api.github.com/users/taehoonlee/orgs",
            "repos_url": "https://api.github.com/users/taehoonlee/repos",
            "events_url": "https://api.github.com/users/taehoonlee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/taehoonlee/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-27T06:57:58Z",
          "updated_at": "2018-04-27T06:57:58Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thank you for the PR @JonathanCMitchell. Please fix PEP8 [errors](https://travis-ci.org/keras-team/keras/jobs/371840019) and add a unit test.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/384882919/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385025703",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-385025703",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 385025703,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTAyNTcwMw==",
          "user": {
            "login": "JonathanCMitchell",
            "id": 13068956,
            "node_id": "MDQ6VXNlcjEzMDY4OTU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/13068956?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JonathanCMitchell",
            "html_url": "https://github.com/JonathanCMitchell",
            "followers_url": "https://api.github.com/users/JonathanCMitchell/followers",
            "following_url": "https://api.github.com/users/JonathanCMitchell/following{/other_user}",
            "gists_url": "https://api.github.com/users/JonathanCMitchell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/JonathanCMitchell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JonathanCMitchell/subscriptions",
            "organizations_url": "https://api.github.com/users/JonathanCMitchell/orgs",
            "repos_url": "https://api.github.com/users/JonathanCMitchell/repos",
            "events_url": "https://api.github.com/users/JonathanCMitchell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/JonathanCMitchell/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-27T16:39:05Z",
          "updated_at": "2018-04-27T22:31:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "@taehoonlee I fixed the PEP8 errors. Where do I add the unit tests? It is unclear from [Contributing](https://github.com/keras-team/keras/blob/master/CONTRIBUTING.md) how to actually get the tests up and running.\r\n\r\n```\r\n \u2718 jon@jon \ue0b0 ~/keras \ue0b0 \ue0a0 master \u25cf \ue0b0 pwd\r\n/home/jon/keras\r\n jon@jon \ue0b0 ~/keras \ue0b0 \ue0a0 master \u25cf \ue0b0 ls\r\nbuild  CONTRIBUTING.md  dist  docker  docs  examples  ISSUE_TEMPLATE.md  keras  Keras.egg-info  LICENSE  MANIFEST.in  pytest.ini  README.md  setup.cfg  setup.py  tests\r\n jon@jon \ue0b0 ~/keras \ue0b0 \ue0a0 master \u25cf \ue0b0 py.test tests/ .\r\nusage: py.test [options] [file_or_dir] [file_or_dir] [...]\r\npy.test: error: unrecognized arguments: -n tests/ .\r\n  inifile: /home/jon/keras/pytest.ini\r\n  rootdir: /home/jon/keras\r\n \u2718 jon@jon \ue0b0 ~/keras \ue0b0 \ue0a0 master \u25cf \ue0b0 py.test tests/\r\nusage: py.test [options] [file_or_dir] [file_or_dir] [...]\r\npy.test: error: unrecognized arguments: -n tests/\r\n  inifile: /home/jon/keras/pytest.ini\r\n  rootdir: /home/jon/keras\r\n \u2718 jon@jon \ue0b0 ~/keras \ue0b0 \ue0a0 master \u25cf \ue0b0 \r\n\r\n```\r\n\r\nI've looked around for quite a bit, but I have no clue how to actually test the applications. I understand that I should write the unit tests to `/keras/tests/keras/applications`. However, I don't see how the command `py.test` enables me to actually run anything. Is there a guide on how to do this, or an example on how someone has done it before? I am unable to run any type of tests from command line. \r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385025703/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385120611",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-385120611",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 385120611,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTEyMDYxMQ==",
          "user": {
            "login": "JonathanCMitchell",
            "id": 13068956,
            "node_id": "MDQ6VXNlcjEzMDY4OTU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/13068956?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JonathanCMitchell",
            "html_url": "https://github.com/JonathanCMitchell",
            "followers_url": "https://api.github.com/users/JonathanCMitchell/followers",
            "following_url": "https://api.github.com/users/JonathanCMitchell/following{/other_user}",
            "gists_url": "https://api.github.com/users/JonathanCMitchell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/JonathanCMitchell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JonathanCMitchell/subscriptions",
            "organizations_url": "https://api.github.com/users/JonathanCMitchell/orgs",
            "repos_url": "https://api.github.com/users/JonathanCMitchell/repos",
            "events_url": "https://api.github.com/users/JonathanCMitchell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/JonathanCMitchell/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-27T23:47:35Z",
          "updated_at": "2018-04-27T23:47:35Z",
          "author_association": "CONTRIBUTOR",
          "body": "ok I figured out how to run the tests, but I am failing tests for files I did not touch. Such as /tests/keras/backend/backend_test.py for \r\n\r\n```\r\n[gw0] [  3%] FAILED keras/tests/test_model_saving.py::test_loading_weights_by_name_skip_mismatch \r\nkeras/tests/test_model_saving.py::test_saving_lambda_numpy_array_arguments \r\n\r\n```\r\n\r\n```\r\n[gw1] [ 20%] FAILED keras/tests/keras/backend/backend_test.py::TestBackend::test_batchnorm \r\nkeras/tests/keras/backend/backend_test.py::TestBackend::test_ctc \r\n```\r\nI am pretty clueless on what to do. I can try to mimic other PR's testing schemes but it would help to have some guidance. Thanks!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385120611/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385229254",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-385229254",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 385229254,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTIyOTI1NA==",
          "user": {
            "login": "taehoonlee",
            "id": 4445535,
            "node_id": "MDQ6VXNlcjQ0NDU1MzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4445535?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/taehoonlee",
            "html_url": "https://github.com/taehoonlee",
            "followers_url": "https://api.github.com/users/taehoonlee/followers",
            "following_url": "https://api.github.com/users/taehoonlee/following{/other_user}",
            "gists_url": "https://api.github.com/users/taehoonlee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/taehoonlee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/taehoonlee/subscriptions",
            "organizations_url": "https://api.github.com/users/taehoonlee/orgs",
            "repos_url": "https://api.github.com/users/taehoonlee/repos",
            "events_url": "https://api.github.com/users/taehoonlee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/taehoonlee/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-29T06:28:37Z",
          "updated_at": "2018-04-29T06:28:37Z",
          "author_association": "CONTRIBUTOR",
          "body": "@JonathanCMitchell, You don't need to worry about the two failed tests (`test_loading_weights_by_name_skip_mismatch` and `test_batchnorm`). They have nothing to do with your work. We would be grateful if you could focus on the following two items.\r\n\r\n- Fix PEP8 [errors](https://travis-ci.org/keras-team/keras/jobs/372267775#L1184),\r\n- Update the number of classes: Your model seems to have 1001 classes including a background class (see the [travis log](https://travis-ci.org/keras-team/keras/jobs/372267778#L2281)). Can you exclude the background class for both the model definition and the twenty six weight files?\r\n\r\nThank you for your great work!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385229254/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385298397",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-385298397",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 385298397,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTI5ODM5Nw==",
          "user": {
            "login": "JonathanCMitchell",
            "id": 13068956,
            "node_id": "MDQ6VXNlcjEzMDY4OTU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/13068956?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JonathanCMitchell",
            "html_url": "https://github.com/JonathanCMitchell",
            "followers_url": "https://api.github.com/users/JonathanCMitchell/followers",
            "following_url": "https://api.github.com/users/JonathanCMitchell/following{/other_user}",
            "gists_url": "https://api.github.com/users/JonathanCMitchell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/JonathanCMitchell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JonathanCMitchell/subscriptions",
            "organizations_url": "https://api.github.com/users/JonathanCMitchell/orgs",
            "repos_url": "https://api.github.com/users/JonathanCMitchell/repos",
            "events_url": "https://api.github.com/users/JonathanCMitchell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/JonathanCMitchell/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-30T01:27:43Z",
          "updated_at": "2018-04-30T01:33:04Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @taehoonlee I just added the following fixes:\r\n(1) I fixed the pep8 issues. \r\n(2) I changed the classes from 1001 -> 1000 and updated all the weight files to meet this requirement.\r\n(3) I added support to infer the shape of the input tensor from either `input_tensor` or `input_shape`, and to check discrepancies if both are provided. I also added some error handling for this feature. This should be pretty helpful in the future.\r\n\r\nI also passed all the tests (including pep8), except for the same batch_norm one that I shouldn't worry about.\r\n\r\nPlease let me know if there is anything further that I can do.\r\n\r\nBest wishes,\r\nJonathan",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385298397/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385323183",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-385323183",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 385323183,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTMyMzE4Mw==",
          "user": {
            "login": "taehoonlee",
            "id": 4445535,
            "node_id": "MDQ6VXNlcjQ0NDU1MzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4445535?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/taehoonlee",
            "html_url": "https://github.com/taehoonlee",
            "followers_url": "https://api.github.com/users/taehoonlee/followers",
            "following_url": "https://api.github.com/users/taehoonlee/following{/other_user}",
            "gists_url": "https://api.github.com/users/taehoonlee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/taehoonlee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/taehoonlee/subscriptions",
            "organizations_url": "https://api.github.com/users/taehoonlee/orgs",
            "repos_url": "https://api.github.com/users/taehoonlee/repos",
            "events_url": "https://api.github.com/users/taehoonlee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/taehoonlee/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-30T06:46:28Z",
          "updated_at": "2018-04-30T06:46:28Z",
          "author_association": "CONTRIBUTOR",
          "body": "There is something wrong. I tested your `MobileNetV2` with the following codes:\r\n\r\n```python\r\nfrom keras.applications.mobilenetv2 import MobileNetV2\r\nfrom keras.preprocessing import image\r\nfrom keras.applications.mobilenetv2 import preprocess_input, decode_predictions\r\nimport numpy as np\r\n\r\nmodel = MobileNetV2(weights='imagenet')\r\n\r\nimg_path = '../cat.png'\r\nimg = image.load_img(img_path, target_size=(224, 224))\r\nx = image.img_to_array(img)\r\nx = np.expand_dims(x, axis=0)\r\nx = preprocess_input(x)\r\n\r\npreds = model.predict(x)\r\n# decode the results into a list of tuples (class, description, probability)\r\n# (one such list for each sample in the batch)\r\nprint('Predicted:', decode_predictions(preds, top=3)[0])\r\n```\r\n\r\nThe results are `Predicted: [(u'n03000247', u'chain_mail', 0.38690498), (u'n02018795', u'bustard', 0.027022662), (u'n03482405', u'hamper', 0.024686841)]`.\r\n\r\nThere must be some mistake during slicing weight matrices of the last fully connected layers from `(?, 1001)` to `(?, 1000)`.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385323183/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385323600",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-385323600",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 385323600,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTMyMzYwMA==",
          "user": {
            "login": "taehoonlee",
            "id": 4445535,
            "node_id": "MDQ6VXNlcjQ0NDU1MzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4445535?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/taehoonlee",
            "html_url": "https://github.com/taehoonlee",
            "followers_url": "https://api.github.com/users/taehoonlee/followers",
            "following_url": "https://api.github.com/users/taehoonlee/following{/other_user}",
            "gists_url": "https://api.github.com/users/taehoonlee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/taehoonlee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/taehoonlee/subscriptions",
            "organizations_url": "https://api.github.com/users/taehoonlee/orgs",
            "repos_url": "https://api.github.com/users/taehoonlee/repos",
            "events_url": "https://api.github.com/users/taehoonlee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/taehoonlee/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-30T06:50:02Z",
          "updated_at": "2018-04-30T06:50:02Z",
          "author_association": "CONTRIBUTOR",
          "body": "@JonathanCMitchell, Please note that I tested with TensorFlow==1.3.0 and 1.4.0.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385323600/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385465554",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-385465554",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 385465554,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTQ2NTU1NA==",
          "user": {
            "login": "JonathanCMitchell",
            "id": 13068956,
            "node_id": "MDQ6VXNlcjEzMDY4OTU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/13068956?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JonathanCMitchell",
            "html_url": "https://github.com/JonathanCMitchell",
            "followers_url": "https://api.github.com/users/JonathanCMitchell/followers",
            "following_url": "https://api.github.com/users/JonathanCMitchell/following{/other_user}",
            "gists_url": "https://api.github.com/users/JonathanCMitchell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/JonathanCMitchell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JonathanCMitchell/subscriptions",
            "organizations_url": "https://api.github.com/users/JonathanCMitchell/orgs",
            "repos_url": "https://api.github.com/users/JonathanCMitchell/repos",
            "events_url": "https://api.github.com/users/JonathanCMitchell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/JonathanCMitchell/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-30T17:14:59Z",
          "updated_at": "2018-04-30T17:27:32Z",
          "author_association": "CONTRIBUTOR",
          "body": "@taehoonlee ok I fixed it. I forgot to add a numpy dependency because the preprocessing function casts the output to `np.float32`. \r\n\r\nYou have to delete the model stored in your cache, so that the new model (with classes=1000), can be downloaded/updated. Check `/.keras/models` and delete the mobillenet2 model that lives there so the new model can take its place.\r\n\r\nmy output: (I used a panda picture): https://upload.wikimedia.org/wikipedia/commons/f/fe/Giant_Panda_in_Beijing_Zoo_1.JPG\r\n```\r\nUsing TensorFlow backend.\r\nPredicted: [('n02510455', 'giant_panda', 0.85812426), ('n04254680', 'soccer_ball', 0.009869265), ('n03761084', 'microwave', 0.0026237909)]\r\n```\r\n\r\nI also squashed the commits into a single commit.\r\n\r\nThanks,\r\nJonathan",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385465554/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385538890",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-385538890",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 385538890,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTUzODg5MA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-30T21:47:33Z",
          "updated_at": "2018-04-30T21:47:33Z",
          "author_association": "COLLABORATOR",
          "body": "Thanks for the PR, this is useful addition, so we should go with it. I'll leave it to @taehoonlee for the review. Thanks!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385538890/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385607034",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-385607034",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 385607034,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTYwNzAzNA==",
          "user": {
            "login": "taehoonlee",
            "id": 4445535,
            "node_id": "MDQ6VXNlcjQ0NDU1MzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4445535?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/taehoonlee",
            "html_url": "https://github.com/taehoonlee",
            "followers_url": "https://api.github.com/users/taehoonlee/followers",
            "following_url": "https://api.github.com/users/taehoonlee/following{/other_user}",
            "gists_url": "https://api.github.com/users/taehoonlee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/taehoonlee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/taehoonlee/subscriptions",
            "organizations_url": "https://api.github.com/users/taehoonlee/orgs",
            "repos_url": "https://api.github.com/users/taehoonlee/repos",
            "events_url": "https://api.github.com/users/taehoonlee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/taehoonlee/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-01T06:11:54Z",
          "updated_at": "2018-05-01T06:11:54Z",
          "author_association": "CONTRIBUTOR",
          "body": "The codes look good but there is still something wrong for prediction. The reported top-1 and top-5 accuracies are 71.8% and 91.0%, respectively. However in my tests, the performances were 58.558% and 81.408%.\r\n\r\nThis issue is not from `Conv2D(strides=2, padding='same')`. Maybe from BatchNormalization or DepthwiseConv2D? We need to take a closer look.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385607034/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385780882",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-385780882",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 385780882,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTc4MDg4Mg==",
          "user": {
            "login": "JonathanCMitchell",
            "id": 13068956,
            "node_id": "MDQ6VXNlcjEzMDY4OTU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/13068956?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JonathanCMitchell",
            "html_url": "https://github.com/JonathanCMitchell",
            "followers_url": "https://api.github.com/users/JonathanCMitchell/followers",
            "following_url": "https://api.github.com/users/JonathanCMitchell/following{/other_user}",
            "gists_url": "https://api.github.com/users/JonathanCMitchell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/JonathanCMitchell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JonathanCMitchell/subscriptions",
            "organizations_url": "https://api.github.com/users/JonathanCMitchell/orgs",
            "repos_url": "https://api.github.com/users/JonathanCMitchell/repos",
            "events_url": "https://api.github.com/users/JonathanCMitchell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/JonathanCMitchell/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-01T20:31:15Z",
          "updated_at": "2018-05-01T21:04:39Z",
          "author_association": "CONTRIBUTOR",
          "body": "@taehoonlee I will fix all the comments/naming stuff but we should probably handle the performance issue first. I re-confirmed all the weights that were extracted have been loaded. Specifically. \r\n\r\n(1) What is the preprocessing scheme being done in your test?\r\n```\r\nBatchNorm layers: 52\r\nConv2D layers: 35\r\nDepthwiseConv2D layers: 17\r\nActivations: 35 + 1 (softmax built into last Dense layer)\r\nDense: 1\r\nFlatten: 1\r\nAveragePool2D: 1\r\nInput: 1\r\nAdd: 10 (if you are using alpha = 1.0, resolution = 224. )\r\n``` \r\nFor each BatchNorm layer: there are 4 parameters. `[gamma, beta, moving_mean, moving_variance]` that are loaded in that order. When I inspect the model after:\r\n```\r\nmodel = MobileNetV2(weights='imagenet')\r\n```\r\nI notice that `gamma` and `beta` are still set to trainable. \r\n\r\nI noticed after searching around that tensorflow models come preloaded with a background class that is fine-tuned \r\n\r\nI am not sure if the tensorflow models come preloaded with a background class that has been tuned. If this is the case, their use of 1001 classes encompasses that background class. If that bg class has been fine-tuned on images that do not contain any classes, then they have an additional weight value in their FC layer that stores that information, and could be the reason why our results are not as good as theirs. \r\n\r\nIn my inference tests, which can be found [here](https://github.com/JonathanCMitchell/mobilenet_v2_keras/blob/master/test_mobilenet.py#L100), I simply popped out the first layer and then re-normalized the logit values, removing that background class.\r\n\r\nTensorflow data for last layer:\r\n```\r\n {'block_id': 19,\r\n  'key': 'MobilenetV2/Logits/Conv2d_1c_1x1/weights',\r\n  'layer': 'Logits',\r\n  'meta': 'weights',\r\n  'mod': '',\r\n  'shape': (1, 1, 1280, 1001)},\r\n {'block_id': 19,\r\n  'key': 'MobilenetV2/Logits/Conv2d_1c_1x1/biases',\r\n  'layer': 'Logits',\r\n  'meta': 'biases',\r\n  'mod': '',\r\n  'shape': (1001,)}]\r\n```\r\nSo when I loaded the weights I used `weights[:, 1:]` and `biases[1:]`. This can be seen [here](https://github.com/JonathanCMitchell/mobilenet_v2_keras/blob/3c8ce250baff6b07879c68b4e3e02ab08e82a5e1/load_weights_multiple.py#L194)\r\n\r\n(2) Do you happen to know what class fails the test? I do not have the imagenet dataset saved locally and I currently don't have the resources to run the evaluation.\r\n\r\nI thought it could also be the fact that I am using AveragePooling2D followed by a Flatten layer, but in my implementation, I am doing the same thing as GlobalAveragePooling2D because I calculate the pool size from the previous layers spatial resolution. \r\n`pool_size = tuple(x.get_shape().as_list()[1:3])`\r\n\r\nI do not calculate the pool size for models built with CNTK or Theano, so I don't want to add that feature until I know that this model's performance is acceptable.\r\n\r\nCould it be the way we perform `softmax` vs the way tensorflow performs `softmax`?\r\n\r\nYou are welcome to investigate. I re-converted all the weights and tested them locally and checked the number of loaded weights and they matched the model exactly. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385780882/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385814953",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-385814953",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 385814953,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTgxNDk1Mw==",
          "user": {
            "login": "JonathanCMitchell",
            "id": 13068956,
            "node_id": "MDQ6VXNlcjEzMDY4OTU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/13068956?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JonathanCMitchell",
            "html_url": "https://github.com/JonathanCMitchell",
            "followers_url": "https://api.github.com/users/JonathanCMitchell/followers",
            "following_url": "https://api.github.com/users/JonathanCMitchell/following{/other_user}",
            "gists_url": "https://api.github.com/users/JonathanCMitchell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/JonathanCMitchell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JonathanCMitchell/subscriptions",
            "organizations_url": "https://api.github.com/users/JonathanCMitchell/orgs",
            "repos_url": "https://api.github.com/users/JonathanCMitchell/repos",
            "events_url": "https://api.github.com/users/JonathanCMitchell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/JonathanCMitchell/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-01T22:58:47Z",
          "updated_at": "2018-05-01T23:11:01Z",
          "author_association": "CONTRIBUTOR",
          "body": "I loaded up the Tensorflow model and grabbed the first feature map after the first Conv2D + BatchNorm + Relu and checked the feature map against the MobileNetV2 keras model's, and we have different values.\r\n\r\nI checked the weights in the `Conv2D` and `BatchNorm` layers and we have the exact same weight values and shape. Therefore, it could be the following:\r\nThe way their convolutional kernels operate is different from ours. \r\nThe way their BatchNorm procedure operates is different.\r\nThey are using a different form of image padding.\r\n\r\nIt might have something to do with [_fixed_padding](https://github.com/tensorflow/models/blob/master/research/slim/nets/mobilenet/conv_blocks.py#L24), but I have yet to figure out how to make ours match.\r\n\r\nI tried grabbing the output after the first convolutional operation, but I could not find a pointer to it from the checkpoint file alone. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385814953/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385821914",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-385821914",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 385821914,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTgyMTkxNA==",
          "user": {
            "login": "titu1994",
            "id": 3048602,
            "node_id": "MDQ6VXNlcjMwNDg2MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3048602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/titu1994",
            "html_url": "https://github.com/titu1994",
            "followers_url": "https://api.github.com/users/titu1994/followers",
            "following_url": "https://api.github.com/users/titu1994/following{/other_user}",
            "gists_url": "https://api.github.com/users/titu1994/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/titu1994/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/titu1994/subscriptions",
            "organizations_url": "https://api.github.com/users/titu1994/orgs",
            "repos_url": "https://api.github.com/users/titu1994/repos",
            "events_url": "https://api.github.com/users/titu1994/events{/privacy}",
            "received_events_url": "https://api.github.com/users/titu1994/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-01T23:39:42Z",
          "updated_at": "2018-05-01T23:41:03Z",
          "author_association": "CONTRIBUTOR",
          "body": "For the additional class, simply splicing out the first index of the final weight and bias should be sufficient. \r\n\r\nFor the weights that you ported, you can check against the port in my repo (https://github.com/titu1994/MobileNetworks).\r\n\r\nThe model for V1 and V2 are separated inside the singular mobilenet.py. Inferece on random cheetah and elephant images seems to give correct class values. \r\n\r\nFor the weight transfer, mine is a bit more hands-on, and can be seen in _weight_transfer_v2 folder. For the background check removal, it's the last few lines inside the weight transfer scripts there. \r\n\r\nEdit : Forgot to mention, it doesn't use the 1.01e-5 trick for Theano, so it would be better to test on Tensorflow for now ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385821914/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385824071",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-385824071",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 385824071,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTgyNDA3MQ==",
          "user": {
            "login": "JonathanCMitchell",
            "id": 13068956,
            "node_id": "MDQ6VXNlcjEzMDY4OTU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/13068956?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JonathanCMitchell",
            "html_url": "https://github.com/JonathanCMitchell",
            "followers_url": "https://api.github.com/users/JonathanCMitchell/followers",
            "following_url": "https://api.github.com/users/JonathanCMitchell/following{/other_user}",
            "gists_url": "https://api.github.com/users/JonathanCMitchell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/JonathanCMitchell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JonathanCMitchell/subscriptions",
            "organizations_url": "https://api.github.com/users/JonathanCMitchell/orgs",
            "repos_url": "https://api.github.com/users/JonathanCMitchell/repos",
            "events_url": "https://api.github.com/users/JonathanCMitchell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/JonathanCMitchell/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-01T23:53:45Z",
          "updated_at": "2018-05-01T23:53:45Z",
          "author_association": "CONTRIBUTOR",
          "body": "@titu1994 Did your values meet the same specs as the TF models?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385824071/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385825152",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-385825152",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 385825152,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTgyNTE1Mg==",
          "user": {
            "login": "titu1994",
            "id": 3048602,
            "node_id": "MDQ6VXNlcjMwNDg2MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3048602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/titu1994",
            "html_url": "https://github.com/titu1994",
            "followers_url": "https://api.github.com/users/titu1994/followers",
            "following_url": "https://api.github.com/users/titu1994/following{/other_user}",
            "gists_url": "https://api.github.com/users/titu1994/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/titu1994/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/titu1994/subscriptions",
            "organizations_url": "https://api.github.com/users/titu1994/orgs",
            "repos_url": "https://api.github.com/users/titu1994/repos",
            "events_url": "https://api.github.com/users/titu1994/events{/privacy}",
            "received_events_url": "https://api.github.com/users/titu1994/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-02T00:00:21Z",
          "updated_at": "2018-05-02T00:03:20Z",
          "author_association": "CONTRIBUTOR",
          "body": "@JonathanCMitchell By values do you mean the number of parameters and the floating point operations? I only checked for the alpha = 1.0 models, but for those, # of traininable parameters matches the paper, and FLOPs is approximately double that of the paper (when halved, it matches the papers with a small difference).\r\n\r\nEdit : As to their pooling, I cant find a pathway in their code for V2 where `use_explicit_padding` is true to  use `fixed_padding`. Could you describe under what circumstances the V2 model sets that flag, and therefore does that padding technique?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385825152/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385826776",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-385826776",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 385826776,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTgyNjc3Ng==",
          "user": {
            "login": "JonathanCMitchell",
            "id": 13068956,
            "node_id": "MDQ6VXNlcjEzMDY4OTU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/13068956?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JonathanCMitchell",
            "html_url": "https://github.com/JonathanCMitchell",
            "followers_url": "https://api.github.com/users/JonathanCMitchell/followers",
            "following_url": "https://api.github.com/users/JonathanCMitchell/following{/other_user}",
            "gists_url": "https://api.github.com/users/JonathanCMitchell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/JonathanCMitchell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JonathanCMitchell/subscriptions",
            "organizations_url": "https://api.github.com/users/JonathanCMitchell/orgs",
            "repos_url": "https://api.github.com/users/JonathanCMitchell/repos",
            "events_url": "https://api.github.com/users/JonathanCMitchell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/JonathanCMitchell/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-02T00:09:38Z",
          "updated_at": "2018-05-02T00:41:45Z",
          "author_association": "CONTRIBUTOR",
          "body": "@titu1994 I mean the imagenet prediction score or the feature map outputs. I am in the process of running your model to extract the first feature map and compare it against the tensorflow one for the same input. \r\n\r\nWhen I ran your model and compared the feature maps, they are different from the tensorflow model (just like mine is). Moreover, when I ran the image presented in [mobilenet_example](https://github.com/tensorflow/models/blob/master/research/slim/nets/mobilenet/mobilenet_example.ipynb) I did not get the same output logic score, even though I got the same label value as the argmax. \r\n\r\nWhy did you do `_make_divisible_` for the number of channels in the depthwise layers? This will likely break the model when alpha = 0.5 at resolution 160.\r\n\r\nI took the panda.jpg image from this url:         \r\nurl = 'https://upload.wikimedia.org/wikipedia/commons/f/fe/Giant_Panda_in_Beijing_Zoo_1.JPG'\r\n\r\nThen I preprocessed it the same way they did in the notebook, and then ran it through my MobileNetV2, your MobileNetV2, and the Tensorflow model, and here are the results:\r\n\r\nHere are the max output_logit scores:\r\n```\r\nYours: 0.84206843\r\nMine:  0.85812426\r\nTensorflows:  0.8662165\r\n```\r\nAs you can see, they are all different. :X\r\n\r\nAlso, the total # of parameters for both our models match:\r\nYour # params: \r\n```\r\nTotal params: 3,538,984\r\nTrainable params: 3,504,872\r\nNon-trainable params: 34,112\r\n```\r\n\r\nMy # params:\r\n```\r\nTotal params: 3,538,984\r\nTrainable params: 3,504,872\r\nNon-trainable params: 34,112\r\n```\r\nHere you can see a [gist](https://gist.github.com/JonathanCMitchell/9e4ad8254caa74f7d265e19fe55c45f1) describing the difference in our model summaries: ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385826776/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385845239",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-385845239",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 385845239,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTg0NTIzOQ==",
          "user": {
            "login": "titu1994",
            "id": 3048602,
            "node_id": "MDQ6VXNlcjMwNDg2MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3048602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/titu1994",
            "html_url": "https://github.com/titu1994",
            "followers_url": "https://api.github.com/users/titu1994/followers",
            "following_url": "https://api.github.com/users/titu1994/following{/other_user}",
            "gists_url": "https://api.github.com/users/titu1994/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/titu1994/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/titu1994/subscriptions",
            "organizations_url": "https://api.github.com/users/titu1994/orgs",
            "repos_url": "https://api.github.com/users/titu1994/repos",
            "events_url": "https://api.github.com/users/titu1994/events{/privacy}",
            "received_events_url": "https://api.github.com/users/titu1994/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-02T02:17:07Z",
          "updated_at": "2018-05-02T02:17:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "@JonathanCMitchell Sadly, I don't have the ImageNet dataset available for inference, so I can't get the overall accuracy for that. \r\n\r\nAs for the `make_divisible` part, I've been successful in extracting weights for all of the model x image size combinations, and it did not raise an issue for alpha = 0.5 and size = 160. \r\n\r\nHowever, I recently noticed that with the alpha = 0.35 and size = 96, the output predictions for the cheetah image become snow leopard. This is same for all alpha = 0.35. Perhaps there are still some issues during weight loading. \r\n\r\nWhat's interesting is, weight loading will fail fast the moment there is a slight mismatch. So it doesn't make much sense as to why the transfer was unsuccessful. \r\n\r\nWhen I wrote the DepthwiseConvolution2D layer for the original MobileNet models, it didn't have any issue with replicating the performance of the Tensorflow slim variants. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385845239/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385857480",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-385857480",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 385857480,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTg1NzQ4MA==",
          "user": {
            "login": "JonathanCMitchell",
            "id": 13068956,
            "node_id": "MDQ6VXNlcjEzMDY4OTU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/13068956?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JonathanCMitchell",
            "html_url": "https://github.com/JonathanCMitchell",
            "followers_url": "https://api.github.com/users/JonathanCMitchell/followers",
            "following_url": "https://api.github.com/users/JonathanCMitchell/following{/other_user}",
            "gists_url": "https://api.github.com/users/JonathanCMitchell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/JonathanCMitchell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JonathanCMitchell/subscriptions",
            "organizations_url": "https://api.github.com/users/JonathanCMitchell/orgs",
            "repos_url": "https://api.github.com/users/JonathanCMitchell/repos",
            "events_url": "https://api.github.com/users/JonathanCMitchell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/JonathanCMitchell/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-02T03:52:43Z",
          "updated_at": "2018-05-02T03:52:43Z",
          "author_association": "CONTRIBUTOR",
          "body": "@titu1994 Hmm that's interesting that the _make_divisible didn't break the weight loading because I didn't use it. Tomorrow in the AM I will compare the actual weight values of both of our models and the outputs from the first feature map, (after the first Conv + BN + Relu).\r\n\r\nWhen you said `EWA` weights did you mean the weights from the frozen model? I was benchmarking against the frozen model and tomorrow I can benchmark against the ordinary model.\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385857480/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385857947",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-385857947",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 385857947,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTg1Nzk0Nw==",
          "user": {
            "login": "titu1994",
            "id": 3048602,
            "node_id": "MDQ6VXNlcjMwNDg2MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3048602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/titu1994",
            "html_url": "https://github.com/titu1994",
            "followers_url": "https://api.github.com/users/titu1994/followers",
            "following_url": "https://api.github.com/users/titu1994/following{/other_user}",
            "gists_url": "https://api.github.com/users/titu1994/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/titu1994/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/titu1994/subscriptions",
            "organizations_url": "https://api.github.com/users/titu1994/orgs",
            "repos_url": "https://api.github.com/users/titu1994/repos",
            "events_url": "https://api.github.com/users/titu1994/events{/privacy}",
            "received_events_url": "https://api.github.com/users/titu1994/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-02T03:57:13Z",
          "updated_at": "2018-05-02T03:57:13Z",
          "author_association": "CONTRIBUTOR",
          "body": "@JonathanCMitchell Yes I was looking at the EWA weights, and erroneously made the assumption that the session would load the EWA weights of the model. I don't think that is the case though.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385857947/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385858181",
          "html_url": "https://github.com/keras-team/keras/pull/10047#issuecomment-385858181",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10047",
          "id": 385858181,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTg1ODE4MQ==",
          "user": {
            "login": "JonathanCMitchell",
            "id": 13068956,
            "node_id": "MDQ6VXNlcjEzMDY4OTU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/13068956?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JonathanCMitchell",
            "html_url": "https://github.com/JonathanCMitchell",
            "followers_url": "https://api.github.com/users/JonathanCMitchell/followers",
            "following_url": "https://api.github.com/users/JonathanCMitchell/following{/other_user}",
            "gists_url": "https://api.github.com/users/JonathanCMitchell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/JonathanCMitchell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JonathanCMitchell/subscriptions",
            "organizations_url": "https://api.github.com/users/JonathanCMitchell/orgs",
            "repos_url": "https://api.github.com/users/JonathanCMitchell/repos",
            "events_url": "https://api.github.com/users/JonathanCMitchell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/JonathanCMitchell/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-02T03:59:17Z",
          "updated_at": "2018-05-02T03:59:17Z",
          "author_association": "CONTRIBUTOR",
          "body": "@titu1994 Please tell me what `EWA` stands for / what it means?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/385858181/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/8595",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/8595/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/8595/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/8595/events",
      "html_url": "https://github.com/keras-team/keras/issues/8595",
      "id": 276855387,
      "node_id": "MDU6SXNzdWUyNzY4NTUzODc=",
      "number": 8595,
      "title": "Keras  freezing on last batch of first epoch (can't move to second epoch)",
      "user": {
        "login": "Moondra",
        "id": 22944856,
        "node_id": "MDQ6VXNlcjIyOTQ0ODU2",
        "avatar_url": "https://avatars.githubusercontent.com/u/22944856?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Moondra",
        "html_url": "https://github.com/Moondra",
        "followers_url": "https://api.github.com/users/Moondra/followers",
        "following_url": "https://api.github.com/users/Moondra/following{/other_user}",
        "gists_url": "https://api.github.com/users/Moondra/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Moondra/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Moondra/subscriptions",
        "organizations_url": "https://api.github.com/users/Moondra/orgs",
        "repos_url": "https://api.github.com/users/Moondra/repos",
        "events_url": "https://api.github.com/users/Moondra/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Moondra/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 71,
      "created_at": "2017-11-26T20:50:19Z",
      "updated_at": "2022-07-17T23:45:35Z",
      "closed_at": "2021-06-24T22:22:11Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "I'm using Keras 2.1.1 and Tensorflow 1.4, Python 3.6, Windows 7.\r\n\r\nI'm attempting transfer learning using the Inception model. \r\nThe code is straight from the Keras Application API, just a few tweaks (using my data).\r\n\r\nHere is the code\r\n\r\n\r\n```from keras.applications.inception_v3 import InceptionV3\r\nfrom keras.preprocessing import image```\r\nfrom keras.preprocessing.image import ImageDataGenerator\r\nfrom keras.models import Model\r\nfrom keras.layers import Dense, GlobalAveragePooling2D\r\nfrom keras import backend as K\r\nfrom keras import optimizers\r\n\r\n\r\nimg_width, img_height = 299, 299\r\ntrain_data_dir = r'C:\\Users\\Moondra\\Desktop\\Keras Applications\\data\\train'\r\ntotal_samples = 13581\r\nbatch_size = 3\r\nepochs = 5\r\n\r\n\r\ntrain_datagen = ImageDataGenerator(\r\nrescale = 1./255,\r\nhorizontal_flip = True,\r\nzoom_range = 0.1,\r\nrotation_range=15)\r\n\r\n\r\n\r\ntrain_generator = train_datagen.flow_from_directory(\r\ntrain_data_dir,\r\ntarget_size = (img_height, img_width),\r\nbatch_size = batch_size, \r\nclass_mode = 'categorical')  #class_mode = 'categorical'\r\n\r\n\r\n# create the base pre-trained model\r\nbase_model = InceptionV3(weights='imagenet', include_top=False)\r\n\r\n# add a global spatial average pooling layer\r\nx = base_model.output\r\nx = GlobalAveragePooling2D()(x)\r\n# let's add a fully-connected layer\r\nx = Dense(1024, activation='relu')(x)\r\n# and a logistic layer -- let's say we have 200 classes\r\npredictions = Dense(12, activation='softmax')(x)\r\n\r\n# this is the model we will train\r\nmodel = Model(input=base_model.input, output=predictions)\r\n\r\n# first: train only the top layers (which were randomly initialized)\r\n# i.e. freeze all convolutional InceptionV3 layers\r\nfor layer in base_model.layers:\r\n    layer.trainable = False\r\n\r\n# compile the model (should be done *after* setting layers to non-trainable)\r\nmodel.compile(optimizer=optimizers.SGD(lr=0.0001, momentum=0.9), loss='categorical_crossentropy', metrics = ['accuracy'])\r\n\r\n# train the model on the new data for a few epochs\r\nmodel.fit_generator(\r\ntrain_generator,\r\nsteps_per_epoch = 20,\r\nepochs = epochs)\r\n\r\n\r\n# at this point, the top layers are well trained and we can start fine-tuning\r\n# convolutional layers from inception V3. We will freeze the bottom N layers\r\n# and train the remaining top layers.\r\n\r\n# let's visualize layer names and layer indices to see how many layers\r\n# we should freeze:\r\nfor i, layer in enumerate(base_model.layers):\r\n   print(i, layer.name)\r\n\r\n# we chose to train the top 2 inception blocks, i.e. we will freeze\r\n# the first 172 layers and unfreeze the rest:\r\nfor layer in model.layers[:249]:\r\n   layer.trainable = False\r\nfor layer in model.layers[249:]:\r\n   layer.trainable = True\r\n\r\n# we need to recompile the model for these modifications to take effect\r\n# we use SGD with a low learning rate\r\nfrom keras.optimizers import SGD\r\nmodel.compile(optimizer=SGD(lr=0.0001, momentum=0.9), loss='categorical_crossentropy', metrics = ['accuracy'])\r\n\r\n# we train our model again (this time fine-tuning the top 2 inception blocks\r\n# alongside the top Dense layers\r\nmodel.fit_generator(\r\ntrain_generator,\r\nsteps_per_epoch = 25,\r\nepochs = epochs)`\r\n\r\n\r\nOutput is\r\n\r\nFound 13581 images belonging to 12 classes.\r\n\r\nWarning (from warnings module):\r\n  File \"C:\\Users\\Moondra\\Desktop\\Keras Applications\\keras_transfer_learning_inception_problem_one_epoch.py\", line 44\r\n    model = Model(input=base_model.input, output=predictions)\r\nUserWarning: Update your `Model` call to the Keras 2 API: `Model(inputs=Tensor(\"in..., outputs=Tensor(\"de...)`\r\nEpoch 1/5\r\n\r\n 1/20 [>.............................] - ETA: 38s - loss: 2.8652 - acc: 0.0000e+00\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\r\n 3/20 [===>..........................] - ETA: 12s - loss: 2.6107 - acc: 0.1111    \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\r\n 4/20 [=====>........................] - ETA: 8s - loss: 2.6454 - acc: 0.0833 \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\r\n 5/20 [======>.......................] - ETA: 6s - loss: 2.6483 - acc: 0.0667\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\r\n 6/20 [========>.....................] - ETA: 5s - loss: 2.6863 - acc: 0.0556\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\r\n 7/20 [=========>....................] - ETA: 4s - loss: 2.6230 - acc: 0.0952\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\r\n 8/20 [===========>..................] - ETA: 3s - loss: 2.6212 - acc: 0.0833\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\r\n 9/20 [============>.................] - ETA: 3s - loss: 2.6192 - acc: 0.1111\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\r\n10/20 [==============>...............] - ETA: 2s - loss: 2.6223 - acc: 0.1000\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\r\n11/20 [===============>..............] - ETA: 2s - loss: 2.6626 - acc: 0.0909\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\r\n12/20 [=================>............] - ETA: 2s - loss: 2.6562 - acc: 0.1111\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\r\n13/20 [==================>...........] - ETA: 1s - loss: 2.6436 - acc: 0.1282\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\r\n14/20 [====================>.........] - ETA: 1s - loss: 2.6319 - acc: 0.1190\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\r\n15/20 [=====================>........] - ETA: 1s - loss: 2.6343 - acc: 0.1111\r\nWarning (from warnings module):\r\n  File \"C:\\Users\\Moondra\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\keras\\callbacks.py\", line 116\r\n    % delta_t_median)\r\nUserWarning: Method on_batch_end() is slow compared to the batch update (0.102000). Check your callbacks.\r\n\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\r\n16/20 [=======================>......] - ETA: 0s - loss: 2.6310 - acc: 0.1042\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\r\n17/20 [========================>.....] - ETA: 0s - loss: 2.6207 - acc: 0.1176\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\r\n18/20 [==========================>...] - ETA: 0s - loss: 2.6063 - acc: 0.1296\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\r\n19/20 [===========================>..] - ETA: 0s - loss: 2.6056 - acc: 0.1228\r\n\r\n\r\n\r\n\r\nIt just hangs at the 19/20.\r\n\r\nI already asked on stack overflow but no help.\r\n\r\nhttps://stackoverflow.com/questions/47382952/cant-get-past-first-epoch-just-hangs-keras-transfer-learning-inception\r\n\r\n\r\n",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/8595/reactions",
        "total_count": 27,
        "+1": 27,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/8595/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/347520405",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-347520405",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 347520405,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzUyMDQwNQ==",
          "user": {
            "login": "whatisAI",
            "id": 7849533,
            "node_id": "MDQ6VXNlcjc4NDk1MzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7849533?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/whatisAI",
            "html_url": "https://github.com/whatisAI",
            "followers_url": "https://api.github.com/users/whatisAI/followers",
            "following_url": "https://api.github.com/users/whatisAI/following{/other_user}",
            "gists_url": "https://api.github.com/users/whatisAI/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/whatisAI/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/whatisAI/subscriptions",
            "organizations_url": "https://api.github.com/users/whatisAI/orgs",
            "repos_url": "https://api.github.com/users/whatisAI/repos",
            "events_url": "https://api.github.com/users/whatisAI/events{/privacy}",
            "received_events_url": "https://api.github.com/users/whatisAI/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-11-28T13:17:03Z",
          "updated_at": "2017-11-28T13:17:03Z",
          "author_association": "NONE",
          "body": "I have the same issue. I've been trying to change batch sizes, but that doesn't seem to change anything. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/347520405/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/347996972",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-347996972",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 347996972,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM0Nzk5Njk3Mg==",
          "user": {
            "login": "moondra2017",
            "id": 29348321,
            "node_id": "MDQ6VXNlcjI5MzQ4MzIx",
            "avatar_url": "https://avatars.githubusercontent.com/u/29348321?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/moondra2017",
            "html_url": "https://github.com/moondra2017",
            "followers_url": "https://api.github.com/users/moondra2017/followers",
            "following_url": "https://api.github.com/users/moondra2017/following{/other_user}",
            "gists_url": "https://api.github.com/users/moondra2017/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/moondra2017/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/moondra2017/subscriptions",
            "organizations_url": "https://api.github.com/users/moondra2017/orgs",
            "repos_url": "https://api.github.com/users/moondra2017/repos",
            "events_url": "https://api.github.com/users/moondra2017/events{/privacy}",
            "received_events_url": "https://api.github.com/users/moondra2017/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-11-29T21:09:28Z",
          "updated_at": "2017-11-29T21:09:28Z",
          "author_association": "NONE",
          "body": "I think there is bug with Imagedatagenerator. If I load my images from h5py using \r\nmodel.train_on_batch  I have no problems. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/347996972/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/348606935",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-348606935",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 348606935,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODYwNjkzNQ==",
          "user": {
            "login": "moustaki",
            "id": 2491,
            "node_id": "MDQ6VXNlcjI0OTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2491?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/moustaki",
            "html_url": "https://github.com/moustaki",
            "followers_url": "https://api.github.com/users/moustaki/followers",
            "following_url": "https://api.github.com/users/moustaki/following{/other_user}",
            "gists_url": "https://api.github.com/users/moustaki/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/moustaki/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/moustaki/subscriptions",
            "organizations_url": "https://api.github.com/users/moustaki/orgs",
            "repos_url": "https://api.github.com/users/moustaki/repos",
            "events_url": "https://api.github.com/users/moustaki/events{/privacy}",
            "received_events_url": "https://api.github.com/users/moustaki/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-12-01T20:31:29Z",
          "updated_at": "2017-12-01T20:31:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "Same issue here. `fit_generator` works fine in 2.0.9, but hangs indefinitely at the end of the first epoch from 2.1.0 onwards.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/348606935/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/348615857",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-348615857",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 348615857,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODYxNTg1Nw==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-12-01T21:14:03Z",
          "updated_at": "2017-12-01T21:14:03Z",
          "author_association": "COLLABORATOR",
          "body": "This is likely due to changes in `keras/utils/data_utils.py` between 2.0.9 and 2.1.0. Specifically this: https://github.com/fchollet/keras/commit/612f5307b962fb140106efcc50932c292630fda3#diff-ba9d38600a2df565e5ae8757eb2b1b35\r\n\r\n@Dref360 please take a look, this seems like a serious issue.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/348615857/reactions",
            "total_count": 7,
            "+1": 7,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/348699728",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-348699728",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 348699728,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODY5OTcyOA==",
          "user": {
            "login": "Dref360",
            "id": 8976546,
            "node_id": "MDQ6VXNlcjg5NzY1NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8976546?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Dref360",
            "html_url": "https://github.com/Dref360",
            "followers_url": "https://api.github.com/users/Dref360/followers",
            "following_url": "https://api.github.com/users/Dref360/following{/other_user}",
            "gists_url": "https://api.github.com/users/Dref360/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Dref360/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Dref360/subscriptions",
            "organizations_url": "https://api.github.com/users/Dref360/orgs",
            "repos_url": "https://api.github.com/users/Dref360/repos",
            "events_url": "https://api.github.com/users/Dref360/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Dref360/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-12-02T15:36:38Z",
          "updated_at": "2017-12-02T15:36:38Z",
          "author_association": "CONTRIBUTOR",
          "body": "@moustaki Are you also using flow_from_directory?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/348699728/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/348701380",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-348701380",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 348701380,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODcwMTM4MA==",
          "user": {
            "login": "Dref360",
            "id": 8976546,
            "node_id": "MDQ6VXNlcjg5NzY1NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8976546?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Dref360",
            "html_url": "https://github.com/Dref360",
            "followers_url": "https://api.github.com/users/Dref360/followers",
            "following_url": "https://api.github.com/users/Dref360/following{/other_user}",
            "gists_url": "https://api.github.com/users/Dref360/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Dref360/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Dref360/subscriptions",
            "organizations_url": "https://api.github.com/users/Dref360/orgs",
            "repos_url": "https://api.github.com/users/Dref360/repos",
            "events_url": "https://api.github.com/users/Dref360/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Dref360/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-12-02T16:03:03Z",
          "updated_at": "2017-12-02T16:03:03Z",
          "author_association": "CONTRIBUTOR",
          "body": "Could you all update to master / 2.1.2 please?\r\nPretty sure this has been fixed with : https://github.com/fchollet/keras/commit/2f3edf96078d78450b985bdf3bfffe7e0c627169#diff-299cfd5886683a4b012f286403769fc1",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/348701380/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/348704465",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-348704465",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 348704465,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODcwNDQ2NQ==",
          "user": {
            "login": "moustaki",
            "id": 2491,
            "node_id": "MDQ6VXNlcjI0OTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2491?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/moustaki",
            "html_url": "https://github.com/moustaki",
            "followers_url": "https://api.github.com/users/moustaki/followers",
            "following_url": "https://api.github.com/users/moustaki/following{/other_user}",
            "gists_url": "https://api.github.com/users/moustaki/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/moustaki/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/moustaki/subscriptions",
            "organizations_url": "https://api.github.com/users/moustaki/orgs",
            "repos_url": "https://api.github.com/users/moustaki/repos",
            "events_url": "https://api.github.com/users/moustaki/events{/privacy}",
            "received_events_url": "https://api.github.com/users/moustaki/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-12-02T16:52:58Z",
          "updated_at": "2017-12-02T16:52:58Z",
          "author_association": "CONTRIBUTOR",
          "body": "@Dref360 Thanks - just tried both master and 2.1.2 and it indeed fixes the issue. Should have tried that before -- sorry about that! For your earlier question, I am using a custom Sequence sub-class.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/348704465/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/353736845",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-353736845",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 353736845,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzczNjg0NQ==",
          "user": {
            "login": "NikeNano",
            "id": 22057410,
            "node_id": "MDQ6VXNlcjIyMDU3NDEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/22057410?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NikeNano",
            "html_url": "https://github.com/NikeNano",
            "followers_url": "https://api.github.com/users/NikeNano/followers",
            "following_url": "https://api.github.com/users/NikeNano/following{/other_user}",
            "gists_url": "https://api.github.com/users/NikeNano/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NikeNano/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NikeNano/subscriptions",
            "organizations_url": "https://api.github.com/users/NikeNano/orgs",
            "repos_url": "https://api.github.com/users/NikeNano/repos",
            "events_url": "https://api.github.com/users/NikeNano/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NikeNano/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-12-23T16:58:46Z",
          "updated_at": "2017-12-23T16:58:46Z",
          "author_association": "NONE",
          "body": "I still have this problem with Keras 2.1.2 using tensorflow-gpu 1.4.1. Some advise how to solve it?  ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/353736845/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/355181337",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-355181337",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 355181337,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTE4MTMzNw==",
          "user": {
            "login": "oliran",
            "id": 14864682,
            "node_id": "MDQ6VXNlcjE0ODY0Njgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/14864682?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oliran",
            "html_url": "https://github.com/oliran",
            "followers_url": "https://api.github.com/users/oliran/followers",
            "following_url": "https://api.github.com/users/oliran/following{/other_user}",
            "gists_url": "https://api.github.com/users/oliran/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oliran/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oliran/subscriptions",
            "organizations_url": "https://api.github.com/users/oliran/orgs",
            "repos_url": "https://api.github.com/users/oliran/repos",
            "events_url": "https://api.github.com/users/oliran/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oliran/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-01-04T02:12:58Z",
          "updated_at": "2018-01-04T02:12:58Z",
          "author_association": "NONE",
          "body": "NikeNano - make sure that your validation_steps is reasonable. I had a similar problem, but turns out I forgot to divide by batch_size.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/355181337/reactions",
            "total_count": 9,
            "+1": 9,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/357045510",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-357045510",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 357045510,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzA0NTUxMA==",
          "user": {
            "login": "LivingProgram",
            "id": 16373135,
            "node_id": "MDQ6VXNlcjE2MzczMTM1",
            "avatar_url": "https://avatars.githubusercontent.com/u/16373135?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/LivingProgram",
            "html_url": "https://github.com/LivingProgram",
            "followers_url": "https://api.github.com/users/LivingProgram/followers",
            "following_url": "https://api.github.com/users/LivingProgram/following{/other_user}",
            "gists_url": "https://api.github.com/users/LivingProgram/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/LivingProgram/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/LivingProgram/subscriptions",
            "organizations_url": "https://api.github.com/users/LivingProgram/orgs",
            "repos_url": "https://api.github.com/users/LivingProgram/repos",
            "events_url": "https://api.github.com/users/LivingProgram/events{/privacy}",
            "received_events_url": "https://api.github.com/users/LivingProgram/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-01-11T20:04:28Z",
          "updated_at": "2018-01-11T20:04:28Z",
          "author_association": "NONE",
          "body": "same with @NikeNano , using keras 2.1.2 and tensorflow-gpu 1.4.1 and keras freezes on epoch 11",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/357045510/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/358854154",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-358854154",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 358854154,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODg1NDE1NA==",
          "user": {
            "login": "minaMagedNaeem",
            "id": 23135388,
            "node_id": "MDQ6VXNlcjIzMTM1Mzg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/23135388?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/minaMagedNaeem",
            "html_url": "https://github.com/minaMagedNaeem",
            "followers_url": "https://api.github.com/users/minaMagedNaeem/followers",
            "following_url": "https://api.github.com/users/minaMagedNaeem/following{/other_user}",
            "gists_url": "https://api.github.com/users/minaMagedNaeem/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/minaMagedNaeem/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/minaMagedNaeem/subscriptions",
            "organizations_url": "https://api.github.com/users/minaMagedNaeem/orgs",
            "repos_url": "https://api.github.com/users/minaMagedNaeem/repos",
            "events_url": "https://api.github.com/users/minaMagedNaeem/events{/privacy}",
            "received_events_url": "https://api.github.com/users/minaMagedNaeem/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-01-19T03:09:10Z",
          "updated_at": "2018-01-19T03:09:10Z",
          "author_association": "NONE",
          "body": "I have the same problem it is stuck on last batch of first epoch.\r\nKeras version 2.1.3\r\nTensorflow version 1.4.0\r\n\r\nEpoch 1/30\r\nC:\\Users\\Minal\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\skimage\\transform\\_warps.py:84: UserWarning: The default mode, 'constant', will be changed to 'reflect' in skimage 0.15.\r\n  warn(\"The default mode, 'constant', will be changed to 'reflect' in \"\r\n\r\n   1/6428 [..............................] - ETA: 9:25:55 - loss: 0.0580\r\n   2/6428 [..............................] - ETA: 7:46:11 - loss: 0.0560\r\n   3/6428 [..............................] - ETA: 7:14:06 - loss: 0.0569\r\n   4/6428 [..............................] - ETA: 6:52:54 - loss: 0.0536\r\n   5/6428 [..............................] - ETA: 6:49:36 - loss: 0.0541\r\n   6/6428 [..............................] - ETA: 6:51:51 - loss: 0.0556\r\n   7/6428 [..............................] - ETA: 6:45:15 - loss: 0.0580\r\n   8/6428 [..............................] - ETA: 6:33:50 - loss: 0.0595\r\n   9/6428 [..............................] - ETA: 6:20:48 - loss: 0.0594\r\n  10/6428 [..............................] - ETA: 6:12:55 - loss: 0.0604\r\n  11/6428 [..............................] - ETA: 6:07:12 - loss: 0.0596\r\n  12/6428 [..............................] - ETA: 6:00:31 - loss: 0.0588\r\n  13/6428 [..............................] - ETA: 6:00:06 - loss: 0.0589\r\n  14/6428 [..............................] - ETA: 5:59:53 - loss: 0.0591\r\n  15/6428 [..............................] - ETA: 5:57:44 - loss: 0.0590\r\n  16/6428 [..............................] - ETA: 5:55:21 - loss: 0.0601\r\n.\r\n.\r\n.\r\n6420/6428 [============================>.] - ETA: 14s - loss: 0.0213\r\n6421/6428 [============================>.] - ETA: 12s - loss: 0.0213\r\n6422/6428 [============================>.] - ETA: 10s - loss: 0.0213\r\n6423/6428 [============================>.] - ETA: 8s - loss: 0.0213 \r\n6424/6428 [============================>.] - ETA: 7s - loss: 0.0213\r\n6425/6428 [============================>.] - ETA: 5s - loss: 0.0213\r\n6426/6428 [============================>.] - ETA: 3s - loss: 0.0213\r\n6427/6428 [============================>.] - ETA: 1s - loss: 0.0212",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/358854154/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/358860096",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-358860096",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 358860096,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODg2MDA5Ng==",
          "user": {
            "login": "minaMagedNaeem",
            "id": 23135388,
            "node_id": "MDQ6VXNlcjIzMTM1Mzg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/23135388?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/minaMagedNaeem",
            "html_url": "https://github.com/minaMagedNaeem",
            "followers_url": "https://api.github.com/users/minaMagedNaeem/followers",
            "following_url": "https://api.github.com/users/minaMagedNaeem/following{/other_user}",
            "gists_url": "https://api.github.com/users/minaMagedNaeem/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/minaMagedNaeem/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/minaMagedNaeem/subscriptions",
            "organizations_url": "https://api.github.com/users/minaMagedNaeem/orgs",
            "repos_url": "https://api.github.com/users/minaMagedNaeem/repos",
            "events_url": "https://api.github.com/users/minaMagedNaeem/events{/privacy}",
            "received_events_url": "https://api.github.com/users/minaMagedNaeem/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-01-19T03:56:16Z",
          "updated_at": "2018-01-19T03:56:16Z",
          "author_association": "NONE",
          "body": "It's solved, It just took so much time in the last batch but then it got to epoch 2",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/358860096/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/368186430",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-368186430",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 368186430,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODE4NjQzMA==",
          "user": {
            "login": "KenHollandWHY",
            "id": 4928011,
            "node_id": "MDQ6VXNlcjQ5MjgwMTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4928011?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/KenHollandWHY",
            "html_url": "https://github.com/KenHollandWHY",
            "followers_url": "https://api.github.com/users/KenHollandWHY/followers",
            "following_url": "https://api.github.com/users/KenHollandWHY/following{/other_user}",
            "gists_url": "https://api.github.com/users/KenHollandWHY/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/KenHollandWHY/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/KenHollandWHY/subscriptions",
            "organizations_url": "https://api.github.com/users/KenHollandWHY/orgs",
            "repos_url": "https://api.github.com/users/KenHollandWHY/repos",
            "events_url": "https://api.github.com/users/KenHollandWHY/events{/privacy}",
            "received_events_url": "https://api.github.com/users/KenHollandWHY/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-24T01:42:12Z",
          "updated_at": "2018-02-24T01:42:12Z",
          "author_association": "NONE",
          "body": "I also have the same issue, where first epoch hangs on the last step. Using the latest Keras, gpu, python 3.5, windows 10",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/368186430/reactions",
            "total_count": 8,
            "+1": 8,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/368188376",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-368188376",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 368188376,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2ODE4ODM3Ng==",
          "user": {
            "login": "LivingProgram",
            "id": 16373135,
            "node_id": "MDQ6VXNlcjE2MzczMTM1",
            "avatar_url": "https://avatars.githubusercontent.com/u/16373135?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/LivingProgram",
            "html_url": "https://github.com/LivingProgram",
            "followers_url": "https://api.github.com/users/LivingProgram/followers",
            "following_url": "https://api.github.com/users/LivingProgram/following{/other_user}",
            "gists_url": "https://api.github.com/users/LivingProgram/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/LivingProgram/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/LivingProgram/subscriptions",
            "organizations_url": "https://api.github.com/users/LivingProgram/orgs",
            "repos_url": "https://api.github.com/users/LivingProgram/repos",
            "events_url": "https://api.github.com/users/LivingProgram/events{/privacy}",
            "received_events_url": "https://api.github.com/users/LivingProgram/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-24T02:01:23Z",
          "updated_at": "2018-02-24T02:01:23Z",
          "author_association": "NONE",
          "body": "If you are still having this problem, try rebooting, I don't know why but that fixed my issue as I was running keras on the cloud",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/368188376/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/381277147",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-381277147",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 381277147,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTI3NzE0Nw==",
          "user": {
            "login": "JackCurrie",
            "id": 15962247,
            "node_id": "MDQ6VXNlcjE1OTYyMjQ3",
            "avatar_url": "https://avatars.githubusercontent.com/u/15962247?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JackCurrie",
            "html_url": "https://github.com/JackCurrie",
            "followers_url": "https://api.github.com/users/JackCurrie/followers",
            "following_url": "https://api.github.com/users/JackCurrie/following{/other_user}",
            "gists_url": "https://api.github.com/users/JackCurrie/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/JackCurrie/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JackCurrie/subscriptions",
            "organizations_url": "https://api.github.com/users/JackCurrie/orgs",
            "repos_url": "https://api.github.com/users/JackCurrie/repos",
            "events_url": "https://api.github.com/users/JackCurrie/events{/privacy}",
            "received_events_url": "https://api.github.com/users/JackCurrie/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-13T22:38:59Z",
          "updated_at": "2018-04-15T21:34:34Z",
          "author_association": "NONE",
          "body": "Hello! I am running into this issue still on Ubuntu running Python 3.5.2 and Keras 2.1.4. I've been waiting a few hours at the end of the first epoch on a very similar issue (Training a transfer binary classifier on VGG19).\r\n\r\nAt first I thought that it must have been just running through my validation data which was taking an exorbitant amount of time until I found this thread. Is it still a possibility that it is just a very slow iteration over my validation set (it's about 12,000 images, running on a GTX 950)? Or is my mental model of how fit_generator works mistaken?\r\n\r\nAlso, thanks to all who are maintaining this project! It's been great to work with as I'm beginning to dive deeper into ML. \ud83d\ude04 \r\n\r\n**Update:**  Found I was using Keras 1 api for fit_generator method, switched to using the Keras 2 api and its working now.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/381277147/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/384625322",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-384625322",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 384625322,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDYyNTMyMg==",
          "user": {
            "login": "kaka7",
            "id": 13028804,
            "node_id": "MDQ6VXNlcjEzMDI4ODA0",
            "avatar_url": "https://avatars.githubusercontent.com/u/13028804?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kaka7",
            "html_url": "https://github.com/kaka7",
            "followers_url": "https://api.github.com/users/kaka7/followers",
            "following_url": "https://api.github.com/users/kaka7/following{/other_user}",
            "gists_url": "https://api.github.com/users/kaka7/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kaka7/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kaka7/subscriptions",
            "organizations_url": "https://api.github.com/users/kaka7/orgs",
            "repos_url": "https://api.github.com/users/kaka7/repos",
            "events_url": "https://api.github.com/users/kaka7/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kaka7/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-26T12:36:45Z",
          "updated_at": "2018-04-26T12:36:45Z",
          "author_association": "NONE",
          "body": "@minaMagedNaeem:same with @oliran, i have the same issue and resolve it after setting validation_steps=validation_size//batch_size\r\n\r\nhistory_ft = model.fit_generator(\r\n    generator_train,#\u53ef\u81ea\u5b9a\u4e49\r\n    samples_per_epoch=4170,  # nb_train_samples\r\n    # steps_per_epoch=10,  # nb_train_samples#\u6bcf\u8f6eepoch\u904d\u5386\u7684samples\r\n    validation_data=generator_test,#\u53ef\u81ea\u5b9a\u4e49\r\n    nb_epoch=10,\r\n    # verbose=0,\r\n    validation_steps=530//64,\r\n    # epochs=100\r\n    # nb_val_samples=530\r\n)",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/384625322/reactions",
            "total_count": 26,
            "+1": 20,
            "-1": 0,
            "laugh": 0,
            "hooray": 2,
            "confused": 0,
            "heart": 4,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/386138856",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-386138856",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 386138856,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NjEzODg1Ng==",
          "user": {
            "login": "ptah23",
            "id": 2241188,
            "node_id": "MDQ6VXNlcjIyNDExODg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2241188?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ptah23",
            "html_url": "https://github.com/ptah23",
            "followers_url": "https://api.github.com/users/ptah23/followers",
            "following_url": "https://api.github.com/users/ptah23/following{/other_user}",
            "gists_url": "https://api.github.com/users/ptah23/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ptah23/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ptah23/subscriptions",
            "organizations_url": "https://api.github.com/users/ptah23/orgs",
            "repos_url": "https://api.github.com/users/ptah23/repos",
            "events_url": "https://api.github.com/users/ptah23/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ptah23/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-02T22:17:38Z",
          "updated_at": "2018-05-02T22:17:38Z",
          "author_association": "NONE",
          "body": "same here. i have this problem with the code from Deep Learning with Python Listing 6.37\r\nI am on Ubuntu 18.04 with keras 2.1.6, tensorflow-gpu 1.8.0",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/386138856/reactions",
            "total_count": 6,
            "+1": 6,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/387596054",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-387596054",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 387596054,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4NzU5NjA1NA==",
          "user": {
            "login": "Tensorfengsheng1926",
            "id": 33453599,
            "node_id": "MDQ6VXNlcjMzNDUzNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/33453599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Tensorfengsheng1926",
            "html_url": "https://github.com/Tensorfengsheng1926",
            "followers_url": "https://api.github.com/users/Tensorfengsheng1926/followers",
            "following_url": "https://api.github.com/users/Tensorfengsheng1926/following{/other_user}",
            "gists_url": "https://api.github.com/users/Tensorfengsheng1926/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Tensorfengsheng1926/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Tensorfengsheng1926/subscriptions",
            "organizations_url": "https://api.github.com/users/Tensorfengsheng1926/orgs",
            "repos_url": "https://api.github.com/users/Tensorfengsheng1926/repos",
            "events_url": "https://api.github.com/users/Tensorfengsheng1926/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Tensorfengsheng1926/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-09T01:54:47Z",
          "updated_at": "2018-05-09T01:54:47Z",
          "author_association": "NONE",
          "body": "I have same issue when I was running Inception V3 to do transfer learning. Windows 10, python 3.5, keras 2.1.6, tensorflow 1.4-gpu\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/387596054/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/388197239",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-388197239",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 388197239,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODE5NzIzOQ==",
          "user": {
            "login": "hashJoe",
            "id": 29784227,
            "node_id": "MDQ6VXNlcjI5Nzg0MjI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/29784227?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hashJoe",
            "html_url": "https://github.com/hashJoe",
            "followers_url": "https://api.github.com/users/hashJoe/followers",
            "following_url": "https://api.github.com/users/hashJoe/following{/other_user}",
            "gists_url": "https://api.github.com/users/hashJoe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hashJoe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hashJoe/subscriptions",
            "organizations_url": "https://api.github.com/users/hashJoe/orgs",
            "repos_url": "https://api.github.com/users/hashJoe/repos",
            "events_url": "https://api.github.com/users/hashJoe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hashJoe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-10T21:51:29Z",
          "updated_at": "2018-05-10T21:51:29Z",
          "author_association": "NONE",
          "body": "Same here with python3, keras v2.1.6, tensorflow v1.8, ubuntu 18.04\r\nAfter multiple reinstallations and tries\r\nthe solution was to wait for several minutes for it to jump to epoch 2/25, after it was stuck on epoch 1 (7999/8000) xD",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/388197239/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/389102562",
          "html_url": "https://github.com/keras-team/keras/issues/8595#issuecomment-389102562",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/8595",
          "id": 389102562,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTEwMjU2Mg==",
          "user": {
            "login": "ldelphinpoulat",
            "id": 33051783,
            "node_id": "MDQ6VXNlcjMzMDUxNzgz",
            "avatar_url": "https://avatars.githubusercontent.com/u/33051783?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ldelphinpoulat",
            "html_url": "https://github.com/ldelphinpoulat",
            "followers_url": "https://api.github.com/users/ldelphinpoulat/followers",
            "following_url": "https://api.github.com/users/ldelphinpoulat/following{/other_user}",
            "gists_url": "https://api.github.com/users/ldelphinpoulat/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ldelphinpoulat/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ldelphinpoulat/subscriptions",
            "organizations_url": "https://api.github.com/users/ldelphinpoulat/orgs",
            "repos_url": "https://api.github.com/users/ldelphinpoulat/repos",
            "events_url": "https://api.github.com/users/ldelphinpoulat/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ldelphinpoulat/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-15T09:24:45Z",
          "updated_at": "2018-05-15T09:24:45Z",
          "author_association": "NONE",
          "body": "I had a similar issue with python3, keras v2.1.6, tensorflow v1.8.0, ubuntu 16.04. I interrupted the processing and was able to see that was busy running `self.sess.run([self.merged], feed_dict=feed_dict)` in keras/callbacks.py. \r\nI guessed that it was related to histogram computations in TensorBoard. So, I set `histogram_freq=0` on `TensorBoard` object creation. And, for me it solved the issue, at the cost of loosing TensorBoard histograms.\r\nI had previous versions of keras and tensorflow for which the histogram computation for tensorboard did not take such a huge time (unfortunately I do not recall for which versions it was ok).   ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/389102562/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/3556",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/3556/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/3556/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/3556/events",
      "html_url": "https://github.com/keras-team/keras/issues/3556",
      "id": 172793997,
      "node_id": "MDU6SXNzdWUxNzI3OTM5OTc=",
      "number": 3556,
      "title": "Keras update after single batch which exceeds the GPU memory",
      "user": {
        "login": "wx405557858",
        "id": 4457109,
        "node_id": "MDQ6VXNlcjQ0NTcxMDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4457109?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/wx405557858",
        "html_url": "https://github.com/wx405557858",
        "followers_url": "https://api.github.com/users/wx405557858/followers",
        "following_url": "https://api.github.com/users/wx405557858/following{/other_user}",
        "gists_url": "https://api.github.com/users/wx405557858/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/wx405557858/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/wx405557858/subscriptions",
        "organizations_url": "https://api.github.com/users/wx405557858/orgs",
        "repos_url": "https://api.github.com/users/wx405557858/repos",
        "events_url": "https://api.github.com/users/wx405557858/events{/privacy}",
        "received_events_url": "https://api.github.com/users/wx405557858/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 71,
      "created_at": "2016-08-23T20:08:39Z",
      "updated_at": "2021-06-24T21:21:24Z",
      "closed_at": "2021-06-24T21:21:24Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "Can keras support to update parameters after a relative large batch size which exceed the GPU memory if feeded in one time?\nMy model now can only be feeded batch_size=4 samples a time due to GPU 12G memory.  The loss is difficult to decline when batch_size=4. So I want to update the parameters after 32 samples. Will keras be able to support this? It seems that Caffe can support this.\nThanks!\n",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/3556/reactions",
        "total_count": 7,
        "+1": 7,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/3556/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/241883301",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-241883301",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 241883301,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTg4MzMwMQ==",
          "user": {
            "login": "wx405557858",
            "id": 4457109,
            "node_id": "MDQ6VXNlcjQ0NTcxMDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4457109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wx405557858",
            "html_url": "https://github.com/wx405557858",
            "followers_url": "https://api.github.com/users/wx405557858/followers",
            "following_url": "https://api.github.com/users/wx405557858/following{/other_user}",
            "gists_url": "https://api.github.com/users/wx405557858/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wx405557858/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wx405557858/subscriptions",
            "organizations_url": "https://api.github.com/users/wx405557858/orgs",
            "repos_url": "https://api.github.com/users/wx405557858/repos",
            "events_url": "https://api.github.com/users/wx405557858/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wx405557858/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-23T21:22:42Z",
          "updated_at": "2016-08-23T21:22:42Z",
          "author_association": "NONE",
          "body": "I think it's solved by this [https://github.com/BVLC/caffe/pull/1663](https://github.com/BVLC/caffe/pull/1663).\nIt will accumulate the gradient for the whole large batch and update.\n@fchollet  If I implement this part with keras source code, which file should I change, thanks a lot!\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/241883301/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/242150855",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-242150855",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 242150855,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjE1MDg1NQ==",
          "user": {
            "login": "wx405557858",
            "id": 4457109,
            "node_id": "MDQ6VXNlcjQ0NTcxMDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4457109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wx405557858",
            "html_url": "https://github.com/wx405557858",
            "followers_url": "https://api.github.com/users/wx405557858/followers",
            "following_url": "https://api.github.com/users/wx405557858/following{/other_user}",
            "gists_url": "https://api.github.com/users/wx405557858/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wx405557858/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wx405557858/subscriptions",
            "organizations_url": "https://api.github.com/users/wx405557858/orgs",
            "repos_url": "https://api.github.com/users/wx405557858/repos",
            "events_url": "https://api.github.com/users/wx405557858/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wx405557858/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-24T17:46:57Z",
          "updated_at": "2016-08-24T17:46:57Z",
          "author_association": "NONE",
          "body": "I solved this by change the optimizer.py.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/242150855/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/242604127",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-242604127",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 242604127,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjYwNDEyNw==",
          "user": {
            "login": "the-moliver",
            "id": 144949,
            "node_id": "MDQ6VXNlcjE0NDk0OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/144949?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/the-moliver",
            "html_url": "https://github.com/the-moliver",
            "followers_url": "https://api.github.com/users/the-moliver/followers",
            "following_url": "https://api.github.com/users/the-moliver/following{/other_user}",
            "gists_url": "https://api.github.com/users/the-moliver/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/the-moliver/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/the-moliver/subscriptions",
            "organizations_url": "https://api.github.com/users/the-moliver/orgs",
            "repos_url": "https://api.github.com/users/the-moliver/repos",
            "events_url": "https://api.github.com/users/the-moliver/events{/privacy}",
            "received_events_url": "https://api.github.com/users/the-moliver/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-26T02:03:46Z",
          "updated_at": "2016-08-26T02:04:34Z",
          "author_association": "CONTRIBUTOR",
          "body": "@wx405557858 I'm curious how you did this. I hacked something together that seems to work, but I'd be interested in a better way. Also it might be useful to have Keras. Here is how I did it below.\nBasically `accum_switch` turns to 1 every set number of epochs and the updates either update with the old value or the new: `self.updates.append(K.update(m, (1-accum_switch)*m + accum_switch*m_t))`\nThis avoids any logic for the backend to deal with at the expense of some unnecessary calculations (g_prime, etc) that are discarded between actual updates.\n\n``` Python\nclass NadamAccum(Optimizer):\n    '''\n    Nesterov Adam optimizer: Much like Adam is essentially RMSprop with momentum,\n    Nadam is Adam RMSprop with Nesterov momentum.\n\n    Default parameters follow those provided in the paper.\n    It is recommended to leave the parameters of this optimizer\n    at their default values.\n\n    # Arguments\n        lr: float >= 0. Learning rate.\n        beta_1/beta_2: floats, 0 < beta < 1. Generally close to 1.\n        epsilon: float >= 0. Fuzz factor.\n\n    # References\n        - [Nadam report](http://cs229.stanford.edu/proj2015/054_report.pdf)\n        - [On the importance of initialization and momentum in deep learning](http://www.cs.toronto.edu/~fritz/absps/momentum.pdf)\n    '''\n    def __init__(self, lr=0.002, beta_1=0.9, beta_2=0.999,\n                 epsilon=1e-8, schedule_decay=0.004, accum_iters=1, **kwargs):\n        super(NadamAccum, self).__init__(**kwargs)\n        self.__dict__.update(locals())\n        self.iterations = K.variable(0.)\n        self.m_schedule = K.variable(1.)\n        self.lr = K.variable(lr)\n        self.beta_1 = K.variable(beta_1)\n        self.beta_2 = K.variable(beta_2)\n        self.schedule_decay = schedule_decay\n        self.accum_iters = K.variable(accum_iters)\n\n    def get_updates(self, params, constraints, loss):\n        grads = self.get_gradients(loss, params)\n        self.updates = [K.update_add(self.iterations, 1)]\n\n        t = (self.iterations + 1.)/self.accum_iters\n        accum_switch = K.floor((self.accum_iters - K.mod(self.iterations + 1., self.accum_iters))/self.accum_iters)\n        # Due to the recommendations in [2], i.e. warming momentum schedule\n        momentum_cache_t = self.beta_1 * (1. - 0.5 * (K.pow(0.96, t * self.schedule_decay)))\n        momentum_cache_t_1 = self.beta_1 * (1. - 0.5 * (K.pow(0.96, (t + 1) * self.schedule_decay)))\n        m_schedule_new = self.m_schedule * momentum_cache_t\n        m_schedule_next = self.m_schedule * momentum_cache_t * momentum_cache_t_1\n        self.updates.append((self.m_schedule, accum_switch*m_schedule_new + (1-accum_switch)*self.m_schedule))\n\n        shapes = [x.shape for x in K.batch_get_value(params)]\n        ms = [K.zeros(shape) for shape in shapes]\n        vs = [K.zeros(shape) for shape in shapes]\n        gs = [K.zeros(shape) for shape in shapes]\n\n        self.weights = [self.iterations] + ms + vs\n\n        for p, gp, m, v, ga in zip(params, grads, ms, vs, gs):\n\n            g = (ga + gp)/self.accum_iters\n            # the following equations given in [1]\n            g_prime = g / (1. - m_schedule_new)\n            m_t = self.beta_1 * m + (1. - self.beta_1) * g\n            m_t_prime = m_t / (1. - m_schedule_next)\n            v_t = self.beta_2 * v + (1. - self.beta_2) * K.square(g)\n            v_t_prime = v_t / (1. - K.pow(self.beta_2, t))\n            m_t_bar = (1. - momentum_cache_t) * g_prime + momentum_cache_t_1 * m_t_prime\n\n            self.updates.append(K.update(m, (1-accum_switch)*m + accum_switch*m_t))\n            self.updates.append(K.update(v, (1-accum_switch)*v + accum_switch*v_t))\n            self.updates.append(K.update(ga, (1-accum_switch)*(ga + gp)))\n\n            p_t = p - self.lr * m_t_bar / (K.sqrt(v_t_prime) + self.epsilon)\n            new_p = p_t\n\n            # apply constraints\n            if p in constraints:\n                c = constraints[p]\n                new_p = c(new_p)\n            self.updates.append(K.update(p, (1-accum_switch)*p + accum_switch*new_p))\n        return self.updates\n\n    def get_config(self):\n        config = {'lr': float(K.get_value(self.lr)),\n                  'beta_1': float(K.get_value(self.beta_1)),\n                  'beta_2': float(K.get_value(self.beta_2)),\n                  'epsilon': self.epsilon,\n                  'schedule_decay': self.schedule_decay,\n                  'accum_iters': self.accum_iters}\n        base_config = super(NadamAccum, self).get_config()\n        return dict(list(base_config.items()) + list(config.items()))\n\n```\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/242604127/reactions",
            "total_count": 10,
            "+1": 10,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/242765295",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-242765295",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 242765295,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0Mjc2NTI5NQ==",
          "user": {
            "login": "wx405557858",
            "id": 4457109,
            "node_id": "MDQ6VXNlcjQ0NTcxMDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4457109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wx405557858",
            "html_url": "https://github.com/wx405557858",
            "followers_url": "https://api.github.com/users/wx405557858/followers",
            "following_url": "https://api.github.com/users/wx405557858/following{/other_user}",
            "gists_url": "https://api.github.com/users/wx405557858/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wx405557858/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wx405557858/subscriptions",
            "organizations_url": "https://api.github.com/users/wx405557858/orgs",
            "repos_url": "https://api.github.com/users/wx405557858/repos",
            "events_url": "https://api.github.com/users/wx405557858/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wx405557858/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-08-26T15:20:22Z",
          "updated_at": "2016-08-26T15:20:22Z",
          "author_association": "NONE",
          "body": "@the-moliver Yeah, we did exactly the same! I have a flag calculated by (self.iteration % accum_iters) == 0 . It will turn into 1 after accum_iters batches. I think maybe can write a wrapper to wrap every optimizer and change the updates base on accum_iters. Or just implement each optimizer's _accum version. There's only several optimizers.\n\n``` python\nclass Adam_accumulate(Optimizer):\n'''Adam accumulate optimizer.\n\nDefault parameters follow those provided in the original paper. Wait for several mini-batch to update\n\n# Arguments\n    lr: float >= 0. Learning rate.\n    beta_1/beta_2: floats, 0 < beta < 1. Generally close to 1.\n    epsilon: float >= 0. Fuzz factor.\n\n# References\n    - [Adam - A Method for Stochastic Optimization](http://arxiv.org/abs/1412.6980v8)\n'''\ndef __init__(self, lr=0.001, beta_1=0.9, beta_2=0.999,\n             epsilon=1e-8, accum_iters=5, **kwargs):\n    super(Adam_accumulate, self).__init__(**kwargs)\n    self.__dict__.update(locals())\n    self.iterations = K.variable(0)\n    self.lr = K.variable(lr)\n    self.beta_1 = K.variable(beta_1)\n    self.beta_2 = K.variable(beta_2)\n    self.accum_iters = K.variable(accum_iters)\n\ndef get_updates(self, params, constraints, loss):\n    grads = self.get_gradients(loss, params)\n    self.updates = [(self.iterations, self.iterations + 1)]\n\n    t = self.iterations + 1\n    print t.eval()\n    lr_t = self.lr * K.sqrt(1. - K.pow(self.beta_2, t)) / (1. - K.pow(self.beta_1, t))\n\n    ms = [K.variable(np.zeros(K.get_value(p).shape)) for p in params]\n    vs = [K.variable(np.zeros(K.get_value(p).shape)) for p in params]\n    gs = [K.variable(np.zeros(K.get_value(p).shape)) for p in params]\n    self.weights = ms + vs\n\n    for p, g, m, v, gg in zip(params, grads, ms, vs, gs):\n\n        flag = K.equal(self.iterations % self.accum_iters, 0)\n\n        gg_t = (1 - flag) * (gg + g)\n        m_t = (self.beta_1 * m) + (1. - self.beta_1) * (gg + flag * g) / self.accum_iters\n        v_t = (self.beta_2 * v) + (1. - self.beta_2) * K.square((gg + flag * g) / self.accum_iters) \n        p_t = p - flag * lr_t * m_t / (K.sqrt(v_t) + self.epsilon)\n\n        self.updates.append((m, flag * m_t + (1 - flag) * m))\n        self.updates.append((v, flag * v_t + (1 - flag) * m))\n        self.updates.append((gg, gg_t))\n\n        new_p = p_t\n        # apply constraints\n        if p in constraints:\n            c = constraints[p]\n            new_p = c(new_p)\n        self.updates.append((p, new_p))\n    # print self.updates\n    return self.updates\n\ndef get_config(self):\n    config = {'lr': float(K.get_value(self.lr)),\n              'beta_1': float(K.get_value(self.beta_1)),\n              'beta_2': float(K.get_value(self.beta_2)),\n              'epsilon': self.epsilon}\n    base_config = super(Adam_accumulate, self).get_config()\n    return dict(list(base_config.items()) + list(config.items()))\n```\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/242765295/reactions",
            "total_count": 16,
            "+1": 16,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/285854467",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-285854467",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 285854467,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTg1NDQ2Nw==",
          "user": {
            "login": "raghakot",
            "id": 15642444,
            "node_id": "MDQ6VXNlcjE1NjQyNDQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/15642444?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghakot",
            "html_url": "https://github.com/raghakot",
            "followers_url": "https://api.github.com/users/raghakot/followers",
            "following_url": "https://api.github.com/users/raghakot/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghakot/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghakot/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghakot/subscriptions",
            "organizations_url": "https://api.github.com/users/raghakot/orgs",
            "repos_url": "https://api.github.com/users/raghakot/repos",
            "events_url": "https://api.github.com/users/raghakot/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghakot/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-11T09:10:39Z",
          "updated_at": "2017-03-11T09:10:39Z",
          "author_association": "NONE",
          "body": "@wx405557858 I tried using your code, the loss seems to explode. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/285854467/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/285854836",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-285854836",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 285854836,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTg1NDgzNg==",
          "user": {
            "login": "wx405557858",
            "id": 4457109,
            "node_id": "MDQ6VXNlcjQ0NTcxMDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4457109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wx405557858",
            "html_url": "https://github.com/wx405557858",
            "followers_url": "https://api.github.com/users/wx405557858/followers",
            "following_url": "https://api.github.com/users/wx405557858/following{/other_user}",
            "gists_url": "https://api.github.com/users/wx405557858/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wx405557858/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wx405557858/subscriptions",
            "organizations_url": "https://api.github.com/users/wx405557858/orgs",
            "repos_url": "https://api.github.com/users/wx405557858/repos",
            "events_url": "https://api.github.com/users/wx405557858/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wx405557858/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-11T09:19:11Z",
          "updated_at": "2017-03-11T09:19:11Z",
          "author_association": "NONE",
          "body": "@raghakot  It works for my model. I assume it should be universal. Would the loss converge with normal Adam optimizer in your case?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/285854836/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/285855022",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-285855022",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 285855022,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTg1NTAyMg==",
          "user": {
            "login": "raghakot",
            "id": 15642444,
            "node_id": "MDQ6VXNlcjE1NjQyNDQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/15642444?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghakot",
            "html_url": "https://github.com/raghakot",
            "followers_url": "https://api.github.com/users/raghakot/followers",
            "following_url": "https://api.github.com/users/raghakot/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghakot/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghakot/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghakot/subscriptions",
            "organizations_url": "https://api.github.com/users/raghakot/orgs",
            "repos_url": "https://api.github.com/users/raghakot/repos",
            "events_url": "https://api.github.com/users/raghakot/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghakot/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-11T09:23:35Z",
          "updated_at": "2017-03-11T09:24:30Z",
          "author_association": "NONE",
          "body": "Yes. It converges with regular Adam. @the-moliver version seems to work too.\r\nI have to make a tiny change to your code to cast the flag to float32 (fails to run otherwise due to dtype mismatch on arithmetic operations with `flag`). This is on bleeding edge keras...maybe something changed? Also, I am using tensorflow backend, if that matters.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/285855022/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/285855500",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-285855500",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 285855500,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4NTg1NTUwMA==",
          "user": {
            "login": "wx405557858",
            "id": 4457109,
            "node_id": "MDQ6VXNlcjQ0NTcxMDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4457109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wx405557858",
            "html_url": "https://github.com/wx405557858",
            "followers_url": "https://api.github.com/users/wx405557858/followers",
            "following_url": "https://api.github.com/users/wx405557858/following{/other_user}",
            "gists_url": "https://api.github.com/users/wx405557858/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wx405557858/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wx405557858/subscriptions",
            "organizations_url": "https://api.github.com/users/wx405557858/orgs",
            "repos_url": "https://api.github.com/users/wx405557858/repos",
            "events_url": "https://api.github.com/users/wx405557858/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wx405557858/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-11T09:33:45Z",
          "updated_at": "2017-03-11T09:33:45Z",
          "author_association": "NONE",
          "body": "@raghakot Thanks for your pointing out. I'm not quite sure what's the exact problem. But it's nice to know the-moliver's solution works for you.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/285855500/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/322738861",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-322738861",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 322738861,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMjczODg2MQ==",
          "user": {
            "login": "juanlp",
            "id": 2640360,
            "node_id": "MDQ6VXNlcjI2NDAzNjA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2640360?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/juanlp",
            "html_url": "https://github.com/juanlp",
            "followers_url": "https://api.github.com/users/juanlp/followers",
            "following_url": "https://api.github.com/users/juanlp/following{/other_user}",
            "gists_url": "https://api.github.com/users/juanlp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/juanlp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/juanlp/subscriptions",
            "organizations_url": "https://api.github.com/users/juanlp/orgs",
            "repos_url": "https://api.github.com/users/juanlp/repos",
            "events_url": "https://api.github.com/users/juanlp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/juanlp/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-16T11:13:39Z",
          "updated_at": "2017-08-16T11:13:39Z",
          "author_association": "NONE",
          "body": "Set flag = K.cast(flag, dtype='float32') and it works. Thanks wx405557858 ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/322738861/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/323000637",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-323000637",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 323000637,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzAwMDYzNw==",
          "user": {
            "login": "soon-will",
            "id": 25767468,
            "node_id": "MDQ6VXNlcjI1NzY3NDY4",
            "avatar_url": "https://avatars.githubusercontent.com/u/25767468?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/soon-will",
            "html_url": "https://github.com/soon-will",
            "followers_url": "https://api.github.com/users/soon-will/followers",
            "following_url": "https://api.github.com/users/soon-will/following{/other_user}",
            "gists_url": "https://api.github.com/users/soon-will/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/soon-will/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/soon-will/subscriptions",
            "organizations_url": "https://api.github.com/users/soon-will/orgs",
            "repos_url": "https://api.github.com/users/soon-will/repos",
            "events_url": "https://api.github.com/users/soon-will/events{/privacy}",
            "received_events_url": "https://api.github.com/users/soon-will/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-17T08:13:08Z",
          "updated_at": "2017-08-17T08:13:08Z",
          "author_association": "NONE",
          "body": "Thank you for your sharing. I am new here, but I have several trouble at  first. What is the relation between ```accum_iters``` and the final batch_size? @wx405557858 @the-moliver ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/323000637/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/323001996",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-323001996",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 323001996,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzAwMTk5Ng==",
          "user": {
            "login": "wx405557858",
            "id": 4457109,
            "node_id": "MDQ6VXNlcjQ0NTcxMDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4457109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wx405557858",
            "html_url": "https://github.com/wx405557858",
            "followers_url": "https://api.github.com/users/wx405557858/followers",
            "following_url": "https://api.github.com/users/wx405557858/following{/other_user}",
            "gists_url": "https://api.github.com/users/wx405557858/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wx405557858/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wx405557858/subscriptions",
            "organizations_url": "https://api.github.com/users/wx405557858/orgs",
            "repos_url": "https://api.github.com/users/wx405557858/repos",
            "events_url": "https://api.github.com/users/wx405557858/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wx405557858/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-17T08:19:22Z",
          "updated_at": "2017-08-17T08:19:22Z",
          "author_association": "NONE",
          "body": "final batch_size = accum_iters * original batch_size",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/323001996/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/323572653",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-323572653",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 323572653,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMzU3MjY1Mw==",
          "user": {
            "login": "soon-will",
            "id": 25767468,
            "node_id": "MDQ6VXNlcjI1NzY3NDY4",
            "avatar_url": "https://avatars.githubusercontent.com/u/25767468?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/soon-will",
            "html_url": "https://github.com/soon-will",
            "followers_url": "https://api.github.com/users/soon-will/followers",
            "following_url": "https://api.github.com/users/soon-will/following{/other_user}",
            "gists_url": "https://api.github.com/users/soon-will/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/soon-will/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/soon-will/subscriptions",
            "organizations_url": "https://api.github.com/users/soon-will/orgs",
            "repos_url": "https://api.github.com/users/soon-will/repos",
            "events_url": "https://api.github.com/users/soon-will/events{/privacy}",
            "received_events_url": "https://api.github.com/users/soon-will/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-20T08:57:35Z",
          "updated_at": "2017-08-20T08:57:35Z",
          "author_association": "NONE",
          "body": "Hi, @wx405557858 ,could you please show your ```optimizers.py```? I changed the file just like you did, but ```ValueError: ('Could not interpret optimizer identifier:', <AdamAccum.AdamAccum object at 0x0000015F1E58DB00>)```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/323572653/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/324026995",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-324026995",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 324026995,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyNDAyNjk5NQ==",
          "user": {
            "login": "andersonzhu",
            "id": 25853845,
            "node_id": "MDQ6VXNlcjI1ODUzODQ1",
            "avatar_url": "https://avatars.githubusercontent.com/u/25853845?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andersonzhu",
            "html_url": "https://github.com/andersonzhu",
            "followers_url": "https://api.github.com/users/andersonzhu/followers",
            "following_url": "https://api.github.com/users/andersonzhu/following{/other_user}",
            "gists_url": "https://api.github.com/users/andersonzhu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/andersonzhu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/andersonzhu/subscriptions",
            "organizations_url": "https://api.github.com/users/andersonzhu/orgs",
            "repos_url": "https://api.github.com/users/andersonzhu/repos",
            "events_url": "https://api.github.com/users/andersonzhu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/andersonzhu/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-22T13:32:10Z",
          "updated_at": "2017-08-22T13:32:10Z",
          "author_association": "NONE",
          "body": "@soon-will the `optimizers.py` is from keras. see [here](https://github.com/fchollet/keras/blob/master/keras/optimizers.py).",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/324026995/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/325544441",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-325544441",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 325544441,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyNTU0NDQ0MQ==",
          "user": {
            "login": "jackkwok",
            "id": 1870448,
            "node_id": "MDQ6VXNlcjE4NzA0NDg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1870448?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jackkwok",
            "html_url": "https://github.com/jackkwok",
            "followers_url": "https://api.github.com/users/jackkwok/followers",
            "following_url": "https://api.github.com/users/jackkwok/following{/other_user}",
            "gists_url": "https://api.github.com/users/jackkwok/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jackkwok/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jackkwok/subscriptions",
            "organizations_url": "https://api.github.com/users/jackkwok/orgs",
            "repos_url": "https://api.github.com/users/jackkwok/repos",
            "events_url": "https://api.github.com/users/jackkwok/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jackkwok/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-29T03:26:45Z",
          "updated_at": "2017-08-29T03:26:45Z",
          "author_association": "NONE",
          "body": "@wx405557858 \r\nwhat you had:\r\nself.updates.append((v, flag * v_t + (1 - flag) * m))\r\n\r\nshouldn't m be v?\r\nself.updates.append((v, flag * v_t + (1 - flag) * v))",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/325544441/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/327896060",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-327896060",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 327896060,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzg5NjA2MA==",
          "user": {
            "login": "malhotraa",
            "id": 1097873,
            "node_id": "MDQ6VXNlcjEwOTc4NzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1097873?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/malhotraa",
            "html_url": "https://github.com/malhotraa",
            "followers_url": "https://api.github.com/users/malhotraa/followers",
            "following_url": "https://api.github.com/users/malhotraa/following{/other_user}",
            "gists_url": "https://api.github.com/users/malhotraa/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/malhotraa/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/malhotraa/subscriptions",
            "organizations_url": "https://api.github.com/users/malhotraa/orgs",
            "repos_url": "https://api.github.com/users/malhotraa/repos",
            "events_url": "https://api.github.com/users/malhotraa/events{/privacy}",
            "received_events_url": "https://api.github.com/users/malhotraa/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-09-07T19:12:30Z",
          "updated_at": "2017-09-07T19:12:30Z",
          "author_association": "NONE",
          "body": "@the-moliver, I am getting an error K.floor doesnt exist on this line:\r\n` accum_switch = K.floor((self.accum_iters - K.mod(self.iterations + 1., self.accum_iters))/self.accum_iters)`\r\n\r\nWas K.floor and K.mod recently removed from Keras backend? Cant find them here: https://github.com/fchollet/keras/tree/master/keras/backend",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/327896060/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/328291526",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-328291526",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 328291526,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyODI5MTUyNg==",
          "user": {
            "login": "ironbar",
            "id": 8016697,
            "node_id": "MDQ6VXNlcjgwMTY2OTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8016697?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ironbar",
            "html_url": "https://github.com/ironbar",
            "followers_url": "https://api.github.com/users/ironbar/followers",
            "following_url": "https://api.github.com/users/ironbar/following{/other_user}",
            "gists_url": "https://api.github.com/users/ironbar/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ironbar/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ironbar/subscriptions",
            "organizations_url": "https://api.github.com/users/ironbar/orgs",
            "repos_url": "https://api.github.com/users/ironbar/repos",
            "events_url": "https://api.github.com/users/ironbar/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ironbar/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-09-09T17:22:40Z",
          "updated_at": "2017-09-09T17:22:40Z",
          "author_association": "NONE",
          "body": "@jackkwok \r\nOn my case without the fix that you suggest I get Nan on loss and metrics. Using the fix it works.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/328291526/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/335032936",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-335032936",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 335032936,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMzNTAzMjkzNg==",
          "user": {
            "login": "ZFTurbo",
            "id": 4013811,
            "node_id": "MDQ6VXNlcjQwMTM4MTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4013811?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ZFTurbo",
            "html_url": "https://github.com/ZFTurbo",
            "followers_url": "https://api.github.com/users/ZFTurbo/followers",
            "following_url": "https://api.github.com/users/ZFTurbo/following{/other_user}",
            "gists_url": "https://api.github.com/users/ZFTurbo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ZFTurbo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ZFTurbo/subscriptions",
            "organizations_url": "https://api.github.com/users/ZFTurbo/orgs",
            "repos_url": "https://api.github.com/users/ZFTurbo/repos",
            "events_url": "https://api.github.com/users/ZFTurbo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ZFTurbo/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-10-08T19:48:11Z",
          "updated_at": "2017-10-08T19:48:11Z",
          "author_association": "NONE",
          "body": "This feature extremely useful and must be added in official repository.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/335032936/reactions",
            "total_count": 11,
            "+1": 11,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/336635592",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-336635592",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 336635592,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjYzNTU5Mg==",
          "user": {
            "login": "ZFTurbo",
            "id": 4013811,
            "node_id": "MDQ6VXNlcjQwMTM4MTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4013811?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ZFTurbo",
            "html_url": "https://github.com/ZFTurbo",
            "followers_url": "https://api.github.com/users/ZFTurbo/followers",
            "following_url": "https://api.github.com/users/ZFTurbo/following{/other_user}",
            "gists_url": "https://api.github.com/users/ZFTurbo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ZFTurbo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ZFTurbo/subscriptions",
            "organizations_url": "https://api.github.com/users/ZFTurbo/orgs",
            "repos_url": "https://api.github.com/users/ZFTurbo/repos",
            "events_url": "https://api.github.com/users/ZFTurbo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ZFTurbo/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-10-14T13:39:32Z",
          "updated_at": "2017-10-15T00:26:52Z",
          "author_association": "NONE",
          "body": "Code by @wx405557858 with fixes. I checked it in my project and it seemed to work fine:\r\n\r\n```python\r\nfrom keras.optimizers import Optimizer\r\nfrom keras import backend as K\r\nimport numpy as np\r\n\r\n\r\nclass Adam_accumulate(Optimizer):\r\n    '''Adam accumulate optimizer.\r\n\r\n    Default parameters follow those provided in the original paper. Wait for several mini-batch to update\r\n\r\n    # Arguments\r\n        lr: float >= 0. Learning rate.\r\n        beta_1/beta_2: floats, 0 < beta < 1. Generally close to 1.\r\n        epsilon: float >= 0. Fuzz factor.\r\n\r\n    # References\r\n        - [Adam - A Method for Stochastic Optimization](http://arxiv.org/abs/1412.6980v8)\r\n    '''\r\n    def __init__(self, lr=0.001, beta_1=0.9, beta_2=0.999,\r\n                 epsilon=1e-8, accum_iters=10, **kwargs):\r\n        super(Adam_accumulate, self).__init__(**kwargs)\r\n        self.__dict__.update(locals())\r\n        self.iterations = K.variable(0)\r\n        self.lr = K.variable(lr)\r\n        self.beta_1 = K.variable(beta_1)\r\n        self.beta_2 = K.variable(beta_2)\r\n        self.accum_iters = K.variable(accum_iters)\r\n\r\n    def get_updates(self, params, constraints, loss):\r\n        grads = self.get_gradients(loss, params)\r\n        self.updates = [(self.iterations, self.iterations + 1)]\r\n\r\n        t = self.iterations + 1\r\n        lr_t = self.lr * K.sqrt(1. - K.pow(self.beta_2, t)) / (1. - K.pow(self.beta_1, t))\r\n\r\n        ms = [K.variable(np.zeros(K.get_value(p).shape)) for p in params]\r\n        vs = [K.variable(np.zeros(K.get_value(p).shape)) for p in params]\r\n        gs = [K.variable(np.zeros(K.get_value(p).shape)) for p in params]\r\n        self.weights = ms + vs\r\n\r\n        for p, g, m, v, gg in zip(params, grads, ms, vs, gs):\r\n\r\n            flag = K.equal(self.iterations % self.accum_iters, 0)\r\n            flag = K.cast(flag, dtype='float32')\r\n\r\n            gg_t = (1 - flag) * (gg + g)\r\n            m_t = (self.beta_1 * m) + (1. - self.beta_1) * (gg + flag * g) / self.accum_iters\r\n            v_t = (self.beta_2 * v) + (1. - self.beta_2) * K.square((gg + flag * g) / self.accum_iters)\r\n            p_t = p - flag * lr_t * m_t / (K.sqrt(v_t) + self.epsilon)\r\n\r\n            self.updates.append((m, flag * m_t + (1 - flag) * m))\r\n            self.updates.append((v, flag * v_t + (1 - flag) * v))\r\n            self.updates.append((gg, gg_t))\r\n\r\n            new_p = p_t\r\n            # apply constraints\r\n            if p in constraints:\r\n                c = constraints[p]\r\n                new_p = c(new_p)\r\n            self.updates.append((p, new_p))\r\n        return self.updates\r\n\r\n\r\n    def get_config(self):\r\n        config = {'lr': float(K.get_value(self.lr)),\r\n                  'beta_1': float(K.get_value(self.beta_1)),\r\n                  'beta_2': float(K.get_value(self.beta_2)),\r\n                  'epsilon': self.epsilon}\r\n        base_config = super(Adam_accumulate, self).get_config()\r\n        return dict(list(base_config.items()) + list(config.items()))\r\n\r\n```\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/336635592/reactions",
            "total_count": 14,
            "+1": 14,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/337833186",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-337833186",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 337833186,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzgzMzE4Ng==",
          "user": {
            "login": "alex-kharlamov",
            "id": 2713468,
            "node_id": "MDQ6VXNlcjI3MTM0Njg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2713468?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alex-kharlamov",
            "html_url": "https://github.com/alex-kharlamov",
            "followers_url": "https://api.github.com/users/alex-kharlamov/followers",
            "following_url": "https://api.github.com/users/alex-kharlamov/following{/other_user}",
            "gists_url": "https://api.github.com/users/alex-kharlamov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/alex-kharlamov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/alex-kharlamov/subscriptions",
            "organizations_url": "https://api.github.com/users/alex-kharlamov/orgs",
            "repos_url": "https://api.github.com/users/alex-kharlamov/repos",
            "events_url": "https://api.github.com/users/alex-kharlamov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/alex-kharlamov/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-10-19T08:13:26Z",
          "updated_at": "2017-10-19T08:13:26Z",
          "author_association": "NONE",
          "body": "Thanks @ZFTurbo for the fixes.\r\n\r\nThis is version of code for Keras 2.0.8 with fixed constraints issue and get_updates parameters.\r\n\r\n```python3\r\nfrom keras.optimizers import Optimizer\r\nfrom keras import backend as K\r\nimport numpy as np\r\n\r\nclass Adam_accumulate(Optimizer):\r\n    def __init__(self, lr=0.001, beta_1=0.9, beta_2=0.999,\r\n                 epsilon=1e-8, accum_iters=20, **kwargs):\r\n        super(Adam_accumulate, self).__init__(**kwargs)\r\n        self.__dict__.update(locals())\r\n        self.iterations = K.variable(0)\r\n        self.lr = K.variable(lr)\r\n        self.beta_1 = K.variable(beta_1)\r\n        self.beta_2 = K.variable(beta_2)\r\n        self.accum_iters = K.variable(accum_iters)\r\n        \r\n    def get_updates(self, loss, params):\r\n        grads = self.get_gradients(loss, params)\r\n        self.updates = [(self.iterations, self.iterations + 1)]\r\n\r\n        t = self.iterations + 1\r\n        lr_t = self.lr * K.sqrt(1. - K.pow(self.beta_2, t)) / (1. - K.pow(self.beta_1, t))\r\n\r\n        ms = [K.variable(np.zeros(K.get_value(p).shape)) for p in params]\r\n        vs = [K.variable(np.zeros(K.get_value(p).shape)) for p in params]\r\n        gs = [K.variable(np.zeros(K.get_value(p).shape)) for p in params]\r\n        self.weights = ms + vs\r\n\r\n        for p, g, m, v, gg in zip(params, grads, ms, vs, gs):\r\n\r\n            flag = K.equal(self.iterations % self.accum_iters, 0)\r\n            flag = K.cast(flag, dtype='float32')\r\n\r\n            gg_t = (1 - flag) * (gg + g)\r\n            m_t = (self.beta_1 * m) + (1. - self.beta_1) * (gg + flag * g) / self.accum_iters\r\n            v_t = (self.beta_2 * v) + (1. - self.beta_2) * K.square((gg + flag * g) / self.accum_iters)\r\n            p_t = p - flag * lr_t * m_t / (K.sqrt(v_t) + self.epsilon)\r\n\r\n            self.updates.append((m, flag * m_t + (1 - flag) * m))\r\n            self.updates.append((v, flag * v_t + (1 - flag) * v))\r\n            self.updates.append((gg, gg_t))\r\n\r\n            new_p = p_t\r\n            # apply constraints\r\n            if getattr(p, 'constraint', None) is not None:\r\n                c = constraints[p]\r\n                new_p = c(new_p)\r\n            self.updates.append((p, new_p))\r\n        return self.updates\r\n\r\n\r\n    def get_config(self):\r\n        config = {'lr': float(K.get_value(self.lr)),\r\n                  'beta_1': float(K.get_value(self.beta_1)),\r\n                  'beta_2': float(K.get_value(self.beta_2)),\r\n                  'epsilon': self.epsilon}\r\n        base_config = super(Adam_accumulate, self).get_config()\r\n        return dict(list(base_config.items()) + list(config.items()))",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/337833186/reactions",
            "total_count": 7,
            "+1": 7,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/338914783",
          "html_url": "https://github.com/keras-team/keras/issues/3556#issuecomment-338914783",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3556",
          "id": 338914783,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMzODkxNDc4Mw==",
          "user": {
            "login": "viig99",
            "id": 990443,
            "node_id": "MDQ6VXNlcjk5MDQ0Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/990443?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/viig99",
            "html_url": "https://github.com/viig99",
            "followers_url": "https://api.github.com/users/viig99/followers",
            "following_url": "https://api.github.com/users/viig99/following{/other_user}",
            "gists_url": "https://api.github.com/users/viig99/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/viig99/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/viig99/subscriptions",
            "organizations_url": "https://api.github.com/users/viig99/orgs",
            "repos_url": "https://api.github.com/users/viig99/repos",
            "events_url": "https://api.github.com/users/viig99/events{/privacy}",
            "received_events_url": "https://api.github.com/users/viig99/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-10-24T08:30:01Z",
          "updated_at": "2017-10-24T08:33:44Z",
          "author_association": "NONE",
          "body": "Hi Guys, thanks for the previous code, i have been trying to replicate the same for SGD with nestrov,\r\n\r\n```python\r\nclass SGDAccum(Optimizer):\r\n    \"\"\"Stochastic gradient descent optimizer.\r\n\r\n    Includes support for momentum,\r\n    learning rate decay, and Nesterov momentum.\r\n\r\n    # Arguments\r\n        lr: float >= 0. Learning rate.\r\n        momentum: float >= 0. Parameter updates momentum.\r\n        decay: float >= 0. Learning rate decay over each update.\r\n        nesterov: boolean. Whether to apply Nesterov momentum.\r\n    \"\"\"\r\n\r\n    def __init__(self, lr=0.01, momentum=0., decay=0.,\r\n                 nesterov=False, accum_iters=1, **kwargs):\r\n        super(SGDAccum, self).__init__(**kwargs)\r\n        with K.name_scope(self.__class__.__name__):\r\n            self.iterations = K.variable(0, name='iterations')\r\n            self.lr = K.variable(lr, name='lr')\r\n            self.momentum = K.variable(momentum, name='momentum')\r\n            self.decay = K.variable(decay, name='decay')\r\n            self.accum_iters = K.variable(accum_iters)\r\n        self.initial_decay = decay\r\n        self.nesterov = nesterov\r\n\r\n    @interfaces.legacy_get_updates_support\r\n    def get_updates(self, loss, params):\r\n        grads = self.get_gradients(loss, params)\r\n        self.updates = [K.update_add(self.iterations, 1)]\r\n\r\n        lr = self.lr\r\n        if self.initial_decay > 0:\r\n            lr *= (1. / (1. + self.decay * K.cast(self.iterations,\r\n                                                  K.dtype(self.decay))))\r\n\r\n        accum_switch = K.equal(self.iterations % self.accum_iters, 0)\r\n        accum_switch = K.cast(accum_switch, dtype='float32')\r\n\r\n        # momentum\r\n        shapes = [K.int_shape(p) for p in params]\r\n        moments = [K.zeros(shape) for shape in shapes]\r\n        temp_grads = [K.zeros(shape) for shape in shapes]\r\n        self.weights = [self.iterations] + moments\r\n        for p, cg, m, tg in zip(params, grads, moments, temp_grads):\r\n            g = cg + tg\r\n            v = self.momentum * m - (lr * g / self.accum_iters)  # velocity\r\n            self.updates.append(K.update(m, (1 - accum_switch) * m + accum_switch * v))\r\n            self.updates.append(K.update(tg, (1 - accum_switch) * g))\r\n\r\n            if self.nesterov:\r\n                new_p = p + self.momentum * v - (lr * g / self.accum_iters)\r\n            else:\r\n                new_p = p + v\r\n\r\n            # Apply constraints.\r\n            if getattr(p, 'constraint', None) is not None:\r\n                new_p = p.constraint(new_p)\r\n\r\n            self.updates.append(K.update(p, (1 - accum_switch) * p + accum_switch * new_p))\r\n        return self.updates\r\n\r\n    def get_config(self):\r\n        config = {'lr': float(K.get_value(self.lr)),\r\n                  'momentum': float(K.get_value(self.momentum)),\r\n                  'decay': float(K.get_value(self.decay)),\r\n                  'nesterov': self.nesterov,\r\n                  'accum_iters': self.accum_iters}\r\n        base_config = super(SGDAccum, self).get_config()\r\n        return dict(list(base_config.items()) + list(config.items()))\r\n```\r\n\r\nCan someone please verify that it look's about right ?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/338914783/reactions",
            "total_count": 6,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 6,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/16001",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/16001/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/16001/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/16001/events",
      "html_url": "https://github.com/keras-team/keras/pull/16001",
      "id": 1122117278,
      "node_id": "PR_kwDOAffHH84x-gdU",
      "number": 16001,
      "title": "Add ResNet-RS to keras.applications",
      "user": {
        "login": "spatil6",
        "id": 6419011,
        "node_id": "MDQ6VXNlcjY0MTkwMTE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6419011?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/spatil6",
        "html_url": "https://github.com/spatil6",
        "followers_url": "https://api.github.com/users/spatil6/followers",
        "following_url": "https://api.github.com/users/spatil6/following{/other_user}",
        "gists_url": "https://api.github.com/users/spatil6/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/spatil6/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/spatil6/subscriptions",
        "organizations_url": "https://api.github.com/users/spatil6/orgs",
        "repos_url": "https://api.github.com/users/spatil6/repos",
        "events_url": "https://api.github.com/users/spatil6/events{/privacy}",
        "received_events_url": "https://api.github.com/users/spatil6/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 3307611593,
          "node_id": "MDU6TGFiZWwzMzA3NjExNTkz",
          "url": "https://api.github.com/repos/keras-team/keras/labels/size:L",
          "name": "size:L",
          "color": "ededed",
          "default": false,
          "description": null
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": {
        "login": "gbaned",
        "id": 48215717,
        "node_id": "MDQ6VXNlcjQ4MjE1NzE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/48215717?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gbaned",
        "html_url": "https://github.com/gbaned",
        "followers_url": "https://api.github.com/users/gbaned/followers",
        "following_url": "https://api.github.com/users/gbaned/following{/other_user}",
        "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions",
        "organizations_url": "https://api.github.com/users/gbaned/orgs",
        "repos_url": "https://api.github.com/users/gbaned/repos",
        "events_url": "https://api.github.com/users/gbaned/events{/privacy}",
        "received_events_url": "https://api.github.com/users/gbaned/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "assignees": [
        {
          "login": "gbaned",
          "id": 48215717,
          "node_id": "MDQ6VXNlcjQ4MjE1NzE3",
          "avatar_url": "https://avatars.githubusercontent.com/u/48215717?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/gbaned",
          "html_url": "https://github.com/gbaned",
          "followers_url": "https://api.github.com/users/gbaned/followers",
          "following_url": "https://api.github.com/users/gbaned/following{/other_user}",
          "gists_url": "https://api.github.com/users/gbaned/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/gbaned/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/gbaned/subscriptions",
          "organizations_url": "https://api.github.com/users/gbaned/orgs",
          "repos_url": "https://api.github.com/users/gbaned/repos",
          "events_url": "https://api.github.com/users/gbaned/events{/privacy}",
          "received_events_url": "https://api.github.com/users/gbaned/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        }
      ],
      "milestone": null,
      "comments": 15,
      "created_at": "2022-02-02T16:10:13Z",
      "updated_at": "2024-10-18T06:15:17Z",
      "closed_at": "2022-03-27T18:57:15Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/16001",
        "html_url": "https://github.com/keras-team/keras/pull/16001",
        "diff_url": "https://github.com/keras-team/keras/pull/16001.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/16001.patch",
        "merged_at": null
      },
      "body": "**Description**\r\n\r\nThis PR adds ResNet-RS model architecture to keras.applications. refer #15780 \r\n\r\nRevisiting ResNets: Improved Training and Scaling Strategies\r\n\r\nResNet-RS models are updated versions of ResNet models - [Arxiv Link](https://arxiv.org/abs/2103.07579)\r\nThe models were rewritten using Keras functional API, The model's weights are converted from [original repository](https://github.com/tensorflow/tpu/tree/acb331c8878ce5a4124d4d7687df5fe0fadcd43b/models/official/resnet/resnet_rs).\r\n\r\n**Motiviation**\r\n\r\nAdding ResNetRS models to keras.applications has been discussed on Tensorflow's github:\r\n#15780 \r\nIt was mentioned that this family of models would be welcomed in keras.applications, hence this contribution.\r\n\r\n**Usage / Changes**\r\n\r\nThe models could be used similarly to other models in keras.applications\r\n\r\n```\r\nfrom keras.applications import resnet_rs\r\nmodel = resnet_rs.ResNetRS50()\r\n```\r\n**Todos** \r\nRight now, weights are hosting on @sebastian-sz GitHub, need to move on keras-team gcs buckets.\r\n",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/16001/reactions",
        "total_count": 5,
        "+1": 3,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 2,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/16001/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1029262088",
          "html_url": "https://github.com/keras-team/keras/pull/16001#issuecomment-1029262088",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/16001",
          "id": 1029262088,
          "node_id": "IC_kwDOAffHH849WUsI",
          "user": {
            "login": "haifeng-jin",
            "id": 5476582,
            "node_id": "MDQ6VXNlcjU0NzY1ODI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5476582?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/haifeng-jin",
            "html_url": "https://github.com/haifeng-jin",
            "followers_url": "https://api.github.com/users/haifeng-jin/followers",
            "following_url": "https://api.github.com/users/haifeng-jin/following{/other_user}",
            "gists_url": "https://api.github.com/users/haifeng-jin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/haifeng-jin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/haifeng-jin/subscriptions",
            "organizations_url": "https://api.github.com/users/haifeng-jin/orgs",
            "repos_url": "https://api.github.com/users/haifeng-jin/repos",
            "events_url": "https://api.github.com/users/haifeng-jin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/haifeng-jin/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-02-03T18:09:13Z",
          "updated_at": "2022-02-03T18:09:13Z",
          "author_association": "CONTRIBUTOR",
          "body": "@LukeWood ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1029262088/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1029262271",
          "html_url": "https://github.com/keras-team/keras/pull/16001#issuecomment-1029262271",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/16001",
          "id": 1029262271,
          "node_id": "IC_kwDOAffHH849WUu_",
          "user": {
            "login": "haifeng-jin",
            "id": 5476582,
            "node_id": "MDQ6VXNlcjU0NzY1ODI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5476582?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/haifeng-jin",
            "html_url": "https://github.com/haifeng-jin",
            "followers_url": "https://api.github.com/users/haifeng-jin/followers",
            "following_url": "https://api.github.com/users/haifeng-jin/following{/other_user}",
            "gists_url": "https://api.github.com/users/haifeng-jin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/haifeng-jin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/haifeng-jin/subscriptions",
            "organizations_url": "https://api.github.com/users/haifeng-jin/orgs",
            "repos_url": "https://api.github.com/users/haifeng-jin/repos",
            "events_url": "https://api.github.com/users/haifeng-jin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/haifeng-jin/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-02-03T18:09:26Z",
          "updated_at": "2022-02-03T18:09:26Z",
          "author_association": "CONTRIBUTOR",
          "body": "@qlzh727 ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1029262271/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1041857782",
          "html_url": "https://github.com/keras-team/keras/pull/16001#issuecomment-1041857782",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/16001",
          "id": 1041857782,
          "node_id": "IC_kwDOAffHH84-GXz2",
          "user": {
            "login": "spatil6",
            "id": 6419011,
            "node_id": "MDQ6VXNlcjY0MTkwMTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6419011?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/spatil6",
            "html_url": "https://github.com/spatil6",
            "followers_url": "https://api.github.com/users/spatil6/followers",
            "following_url": "https://api.github.com/users/spatil6/following{/other_user}",
            "gists_url": "https://api.github.com/users/spatil6/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/spatil6/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/spatil6/subscriptions",
            "organizations_url": "https://api.github.com/users/spatil6/orgs",
            "repos_url": "https://api.github.com/users/spatil6/repos",
            "events_url": "https://api.github.com/users/spatil6/events{/privacy}",
            "received_events_url": "https://api.github.com/users/spatil6/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-02-16T16:37:31Z",
          "updated_at": "2022-02-16T16:37:31Z",
          "author_association": "CONTRIBUTOR",
          "body": "Gently pinging @LukeWood . Let me know if any update/changes require in this PR.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1041857782/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1058265407",
          "html_url": "https://github.com/keras-team/keras/pull/16001#issuecomment-1058265407",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/16001",
          "id": 1058265407,
          "node_id": "IC_kwDOAffHH84_E9k_",
          "user": {
            "login": "spatil6",
            "id": 6419011,
            "node_id": "MDQ6VXNlcjY0MTkwMTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6419011?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/spatil6",
            "html_url": "https://github.com/spatil6",
            "followers_url": "https://api.github.com/users/spatil6/followers",
            "following_url": "https://api.github.com/users/spatil6/following{/other_user}",
            "gists_url": "https://api.github.com/users/spatil6/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/spatil6/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/spatil6/subscriptions",
            "organizations_url": "https://api.github.com/users/spatil6/orgs",
            "repos_url": "https://api.github.com/users/spatil6/repos",
            "events_url": "https://api.github.com/users/spatil6/events{/privacy}",
            "received_events_url": "https://api.github.com/users/spatil6/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-03-03T17:02:35Z",
          "updated_at": "2022-03-03T17:02:35Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet Thanks for review. I have updated code based on your comments.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1058265407/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1061650907",
          "html_url": "https://github.com/keras-team/keras/pull/16001#issuecomment-1061650907",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/16001",
          "id": 1061650907,
          "node_id": "IC_kwDOAffHH84_R4Hb",
          "user": {
            "login": "spatil6",
            "id": 6419011,
            "node_id": "MDQ6VXNlcjY0MTkwMTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6419011?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/spatil6",
            "html_url": "https://github.com/spatil6",
            "followers_url": "https://api.github.com/users/spatil6/followers",
            "following_url": "https://api.github.com/users/spatil6/following{/other_user}",
            "gists_url": "https://api.github.com/users/spatil6/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/spatil6/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/spatil6/subscriptions",
            "organizations_url": "https://api.github.com/users/spatil6/orgs",
            "repos_url": "https://api.github.com/users/spatil6/repos",
            "events_url": "https://api.github.com/users/spatil6/events{/privacy}",
            "received_events_url": "https://api.github.com/users/spatil6/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-03-08T10:54:54Z",
          "updated_at": "2022-03-08T10:54:54Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for review @fchollet . I have updated code according to review comment, also added Colab link of this PR code evaluation.\r\n\r\n https://colab.research.google.com/drive/1XoR18LoPhZ0Y1T3GXUdXvSmYlkJhSCS9?usp=sharing",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1061650907/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1077154210",
          "html_url": "https://github.com/keras-team/keras/pull/16001#issuecomment-1077154210",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/16001",
          "id": 1077154210,
          "node_id": "IC_kwDOAffHH85ANBGi",
          "user": {
            "login": "LukeWood",
            "id": 12191303,
            "node_id": "MDQ6VXNlcjEyMTkxMzAz",
            "avatar_url": "https://avatars.githubusercontent.com/u/12191303?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/LukeWood",
            "html_url": "https://github.com/LukeWood",
            "followers_url": "https://api.github.com/users/LukeWood/followers",
            "following_url": "https://api.github.com/users/LukeWood/following{/other_user}",
            "gists_url": "https://api.github.com/users/LukeWood/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/LukeWood/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/LukeWood/subscriptions",
            "organizations_url": "https://api.github.com/users/LukeWood/orgs",
            "repos_url": "https://api.github.com/users/LukeWood/repos",
            "events_url": "https://api.github.com/users/LukeWood/events{/privacy}",
            "received_events_url": "https://api.github.com/users/LukeWood/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-03-24T05:13:00Z",
          "updated_at": "2022-03-24T05:13:53Z",
          "author_association": "CONTRIBUTOR",
          "body": "I've almost got this ready to merge.  Thanks for your patience!  @sebastian-sz @spatil6",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1077154210/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1079998286",
          "html_url": "https://github.com/keras-team/keras/pull/16001#issuecomment-1079998286",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/16001",
          "id": 1079998286,
          "node_id": "IC_kwDOAffHH85AX3dO",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-03-27T18:57:15Z",
          "updated_at": "2022-03-27T18:57:15Z",
          "author_association": "COLLABORATOR",
          "body": "This has been merged in https://github.com/keras-team/keras/commit/a9b4cb6bba4608d44f41f2719ec50356710cadb5 and https://github.com/tensorflow/tensorflow/commit/e9c5ec2787e3dbba0cc13aed554025e4c1c4edf1 -- thanks a lot for the great contribution! \ud83d\udc4d ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1079998286/reactions",
            "total_count": 2,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1080471273",
          "html_url": "https://github.com/keras-team/keras/pull/16001#issuecomment-1080471273",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/16001",
          "id": 1080471273,
          "node_id": "IC_kwDOAffHH85AZq7p",
          "user": {
            "login": "spatil6",
            "id": 6419011,
            "node_id": "MDQ6VXNlcjY0MTkwMTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6419011?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/spatil6",
            "html_url": "https://github.com/spatil6",
            "followers_url": "https://api.github.com/users/spatil6/followers",
            "following_url": "https://api.github.com/users/spatil6/following{/other_user}",
            "gists_url": "https://api.github.com/users/spatil6/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/spatil6/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/spatil6/subscriptions",
            "organizations_url": "https://api.github.com/users/spatil6/orgs",
            "repos_url": "https://api.github.com/users/spatil6/repos",
            "events_url": "https://api.github.com/users/spatil6/events{/privacy}",
            "received_events_url": "https://api.github.com/users/spatil6/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-03-28T10:23:20Z",
          "updated_at": "2022-03-28T10:23:20Z",
          "author_association": "CONTRIBUTOR",
          "body": "> This has been merged in [a9b4cb6](https://github.com/keras-team/keras/commit/a9b4cb6bba4608d44f41f2719ec50356710cadb5) and [tensorflow/tensorflow@e9c5ec2](https://github.com/tensorflow/tensorflow/commit/e9c5ec2787e3dbba0cc13aed554025e4c1c4edf1) -- thanks a lot for the great contribution! +1\r\n\r\n@fchollet should i open new PR to update keras-io docs for information about same?\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1080471273/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1167067659",
          "html_url": "https://github.com/keras-team/keras/pull/16001#issuecomment-1167067659",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/16001",
          "id": 1167067659,
          "node_id": "IC_kwDOAffHH85FkAoL",
          "user": {
            "login": "shkarupa-alex",
            "id": 1289725,
            "node_id": "MDQ6VXNlcjEyODk3MjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1289725?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shkarupa-alex",
            "html_url": "https://github.com/shkarupa-alex",
            "followers_url": "https://api.github.com/users/shkarupa-alex/followers",
            "following_url": "https://api.github.com/users/shkarupa-alex/following{/other_user}",
            "gists_url": "https://api.github.com/users/shkarupa-alex/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shkarupa-alex/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shkarupa-alex/subscriptions",
            "organizations_url": "https://api.github.com/users/shkarupa-alex/orgs",
            "repos_url": "https://api.github.com/users/shkarupa-alex/repos",
            "events_url": "https://api.github.com/users/shkarupa-alex/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shkarupa-alex/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-06-27T08:49:43Z",
          "updated_at": "2022-06-27T08:49:43Z",
          "author_association": "CONTRIBUTOR",
          "body": "@spatil6 could you please tell why batchnorm momentum is set to 0?\r\nI think it comes from the original model config https://github.com/tensorflow/tpu/blob/acb331c8878ce5a4124d4d7687df5fe0fadcd43b/models/official/resnet/resnet_rs/configs/resnetrs50_i160.yaml#L27 but:\r\n- there is no any word about setting momentum to 0 in paper\r\n- there is \"momentum\" option in the same file which value is 0.9\r\n- in the original repository every BN momentum is set to 0.9 by default thru MOVING_AVERAGE_DECAY\r\n\r\nI think setting momentum to 0 will be ok with freezed pretrained weights.\r\nBut it will harm training from scratch or training with unfreezed weights",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1167067659/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1168243030",
          "html_url": "https://github.com/keras-team/keras/pull/16001#issuecomment-1168243030",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/16001",
          "id": 1168243030,
          "node_id": "IC_kwDOAffHH85FoflW",
          "user": {
            "login": "sebastian-sz",
            "id": 58402418,
            "node_id": "MDQ6VXNlcjU4NDAyNDE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/58402418?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sebastian-sz",
            "html_url": "https://github.com/sebastian-sz",
            "followers_url": "https://api.github.com/users/sebastian-sz/followers",
            "following_url": "https://api.github.com/users/sebastian-sz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sebastian-sz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sebastian-sz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sebastian-sz/subscriptions",
            "organizations_url": "https://api.github.com/users/sebastian-sz/orgs",
            "repos_url": "https://api.github.com/users/sebastian-sz/repos",
            "events_url": "https://api.github.com/users/sebastian-sz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sebastian-sz/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-06-28T05:31:29Z",
          "updated_at": "2022-06-28T05:31:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "@shkarupa-alex \r\nDisclaimer: I am the author of the [Keras port repository](https://github.com/sebastian-sz/resnet-rs-keras).\r\n\r\nGood find, I agree there is no mention of momentum in the paper and the value has been simply copied from the config file you linked. I missed that they used moving average decay. \r\n\r\nIt could be beneficial to replace it with something more standard - e.g. maybe just leave the default batch norm momentum value?\r\n\r\nI think you could open a separate issue regarding this problem. I don't think a closed PR will attract the needed attention. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1168243030/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1168254701",
          "html_url": "https://github.com/keras-team/keras/pull/16001#issuecomment-1168254701",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/16001",
          "id": 1168254701,
          "node_id": "IC_kwDOAffHH85Foibt",
          "user": {
            "login": "LukeWood",
            "id": 12191303,
            "node_id": "MDQ6VXNlcjEyMTkxMzAz",
            "avatar_url": "https://avatars.githubusercontent.com/u/12191303?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/LukeWood",
            "html_url": "https://github.com/LukeWood",
            "followers_url": "https://api.github.com/users/LukeWood/followers",
            "following_url": "https://api.github.com/users/LukeWood/following{/other_user}",
            "gists_url": "https://api.github.com/users/LukeWood/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/LukeWood/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/LukeWood/subscriptions",
            "organizations_url": "https://api.github.com/users/LukeWood/orgs",
            "repos_url": "https://api.github.com/users/LukeWood/repos",
            "events_url": "https://api.github.com/users/LukeWood/events{/privacy}",
            "received_events_url": "https://api.github.com/users/LukeWood/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-06-28T05:48:15Z",
          "updated_at": "2022-06-28T05:48:15Z",
          "author_association": "CONTRIBUTOR",
          "body": "> @shkarupa-alex Disclaimer: I am the author of the [Keras port repository](https://github.com/sebastian-sz/resnet-rs-keras).\r\n> \r\n> Good find, I agree there is no mention of momentum in the paper and the value has been simply copied from the config file you linked. I missed that they used moving average decay.\r\n> \r\n> It could be beneficial to replace it with something more standard - e.g. maybe just leave the default batch norm momentum value?\r\n> \r\n> I think you could open a separate issue regarding this problem. I don't think a closed PR will attract the needed attention.\r\n\r\nagreed, lets file an issue.  maybe we can fix this with the `KerasCV.models` refactor?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1168254701/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1168268480",
          "html_url": "https://github.com/keras-team/keras/pull/16001#issuecomment-1168268480",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/16001",
          "id": 1168268480,
          "node_id": "IC_kwDOAffHH85FolzA",
          "user": {
            "login": "sebastian-sz",
            "id": 58402418,
            "node_id": "MDQ6VXNlcjU4NDAyNDE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/58402418?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sebastian-sz",
            "html_url": "https://github.com/sebastian-sz",
            "followers_url": "https://api.github.com/users/sebastian-sz/followers",
            "following_url": "https://api.github.com/users/sebastian-sz/following{/other_user}",
            "gists_url": "https://api.github.com/users/sebastian-sz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sebastian-sz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sebastian-sz/subscriptions",
            "organizations_url": "https://api.github.com/users/sebastian-sz/orgs",
            "repos_url": "https://api.github.com/users/sebastian-sz/repos",
            "events_url": "https://api.github.com/users/sebastian-sz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sebastian-sz/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-06-28T06:08:05Z",
          "updated_at": "2022-06-28T06:08:05Z",
          "author_association": "CONTRIBUTOR",
          "body": "@LukeWood yes this is a minor change in code.\r\n\r\nI think Resnet-RS models could be added to keras-cv with this fix. Do we also would like to modify `keras.applications` implementation?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1168268480/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1168273807",
          "html_url": "https://github.com/keras-team/keras/pull/16001#issuecomment-1168273807",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/16001",
          "id": 1168273807,
          "node_id": "IC_kwDOAffHH85FonGP",
          "user": {
            "login": "LukeWood",
            "id": 12191303,
            "node_id": "MDQ6VXNlcjEyMTkxMzAz",
            "avatar_url": "https://avatars.githubusercontent.com/u/12191303?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/LukeWood",
            "html_url": "https://github.com/LukeWood",
            "followers_url": "https://api.github.com/users/LukeWood/followers",
            "following_url": "https://api.github.com/users/LukeWood/following{/other_user}",
            "gists_url": "https://api.github.com/users/LukeWood/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/LukeWood/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/LukeWood/subscriptions",
            "organizations_url": "https://api.github.com/users/LukeWood/orgs",
            "repos_url": "https://api.github.com/users/LukeWood/repos",
            "events_url": "https://api.github.com/users/LukeWood/events{/privacy}",
            "received_events_url": "https://api.github.com/users/LukeWood/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-06-28T06:15:02Z",
          "updated_at": "2022-06-28T06:15:02Z",
          "author_association": "CONTRIBUTOR",
          "body": "If it is a minor change I see no harm in also fixing keras.applicatins - as long as it doesn't change the API (but I don't think it does)",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1168273807/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1168635325",
          "html_url": "https://github.com/keras-team/keras/pull/16001#issuecomment-1168635325",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/16001",
          "id": 1168635325,
          "node_id": "IC_kwDOAffHH85Fp_W9",
          "user": {
            "login": "shkarupa-alex",
            "id": 1289725,
            "node_id": "MDQ6VXNlcjEyODk3MjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1289725?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shkarupa-alex",
            "html_url": "https://github.com/shkarupa-alex",
            "followers_url": "https://api.github.com/users/shkarupa-alex/followers",
            "following_url": "https://api.github.com/users/shkarupa-alex/following{/other_user}",
            "gists_url": "https://api.github.com/users/shkarupa-alex/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shkarupa-alex/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shkarupa-alex/subscriptions",
            "organizations_url": "https://api.github.com/users/shkarupa-alex/orgs",
            "repos_url": "https://api.github.com/users/shkarupa-alex/repos",
            "events_url": "https://api.github.com/users/shkarupa-alex/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shkarupa-alex/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-06-28T12:05:40Z",
          "updated_at": "2022-06-28T12:05:40Z",
          "author_association": "CONTRIBUTOR",
          "body": "Here is a PR https://github.com/keras-team/keras/pull/16726",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/1168635325/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2421515918",
          "html_url": "https://github.com/keras-team/keras/pull/16001#issuecomment-2421515918",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/16001",
          "id": 2421515918,
          "node_id": "IC_kwDOAffHH86QVWaO",
          "user": {
            "login": "Pandaaaa906",
            "id": 18494105,
            "node_id": "MDQ6VXNlcjE4NDk0MTA1",
            "avatar_url": "https://avatars.githubusercontent.com/u/18494105?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Pandaaaa906",
            "html_url": "https://github.com/Pandaaaa906",
            "followers_url": "https://api.github.com/users/Pandaaaa906/followers",
            "following_url": "https://api.github.com/users/Pandaaaa906/following{/other_user}",
            "gists_url": "https://api.github.com/users/Pandaaaa906/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Pandaaaa906/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Pandaaaa906/subscriptions",
            "organizations_url": "https://api.github.com/users/Pandaaaa906/orgs",
            "repos_url": "https://api.github.com/users/Pandaaaa906/repos",
            "events_url": "https://api.github.com/users/Pandaaaa906/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Pandaaaa906/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-10-18T06:15:16Z",
          "updated_at": "2024-10-18T06:15:16Z",
          "author_association": "NONE",
          "body": "will ResNet-RS merge into Keras V3?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/2421515918/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/928",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/928/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/928/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/928/events",
      "html_url": "https://github.com/keras-team/keras/pull/928",
      "id": 114444968,
      "node_id": "MDExOlB1bGxSZXF1ZXN0NDkzNjM2OTY=",
      "number": 928,
      "title": "Siamese layer",
      "user": {
        "login": "farizrahman4u",
        "id": 11006006,
        "node_id": "MDQ6VXNlcjExMDA2MDA2",
        "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/farizrahman4u",
        "html_url": "https://github.com/farizrahman4u",
        "followers_url": "https://api.github.com/users/farizrahman4u/followers",
        "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
        "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
        "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
        "repos_url": "https://api.github.com/users/farizrahman4u/repos",
        "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
        "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 62,
      "created_at": "2015-11-01T01:57:03Z",
      "updated_at": "2016-07-20T19:17:50Z",
      "closed_at": "2015-11-25T17:45:19Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/928",
        "html_url": "https://github.com/keras-team/keras/pull/928",
        "diff_url": "https://github.com/keras-team/keras/pull/928.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/928.patch",
        "merged_at": null
      },
      "body": "`Siamese` layer is used for obtaining 2 or more identical branches whose weights are synchronized.\n",
      "closed_by": {
        "login": "farizrahman4u",
        "id": 11006006,
        "node_id": "MDQ6VXNlcjExMDA2MDA2",
        "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/farizrahman4u",
        "html_url": "https://github.com/farizrahman4u",
        "followers_url": "https://api.github.com/users/farizrahman4u/followers",
        "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
        "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
        "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
        "repos_url": "https://api.github.com/users/farizrahman4u/repos",
        "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
        "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/928/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/928/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152792336",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-152792336",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 152792336,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mjc5MjMzNg==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-01T04:05:18Z",
          "updated_at": "2015-11-03T13:34:31Z",
          "author_association": "CONTRIBUTOR",
          "body": "**Applications**\n- [Learning a Similarity Metric Discriminatively, with Application to Face Verification](http://yann.lecun.com/exdb/publis/pdf/chopra-05.pdf)\n- [Siamese Neural Networks for One-Shot Image Recognition](http://www.cs.utoronto.ca/~gkoch/files/msc-thesis.pdf)\n- [Siamese neural network based...](http://ieeexplore.ieee.org/xpl/login.jsp?tp=&arnumber=7163112&url=http%3A%2F%2Fieeexplore.ieee.org%2Fiel7%2F7147635%2F7163073%2F07163112.pdf%3Farnumber%3D7163112)\n- [Caffe Siamese model](http://caffe.berkeleyvision.org/gathered/examples/siamese.html)\n\n**Design:**\n- **No continuous weight copying/synchronizing/averaging is done** as this would hurt performance.\n- The existing `Layer`and `Sequential` APIs are not disturbed.\n- In fact, no APIs are affected. This is a purely \"add-only\" commit.\n- A **Floating Layer** is used to simulate multiple layers with shared weights:\n\n![output_mh7cai](https://cloud.githubusercontent.com/assets/11006006/10868144/5dd6d700-80aa-11e5-9709-4383bce2f841.gif)\n\n**Key features:**\n- Using a `Siamese` layer, you can effectively have **identical layers with shared weights**. \n- The `Siamese` layer takes 2 or more models as inputs. Each input is forwarded to their corresponding weight sync `Layer` (the orange ones in the following diagram).\n- The outputs from the weight synchronized layers are merged using a specified `merge_mode`, similar to Merge class.\n- If you wish to stack more layers (sync or async) before merging, you could use the `get_siamese_heads` API instead.\n\n![Siamese](https://cloud.githubusercontent.com/assets/11006006/10866988/6d70c6a0-8071-11e5-88de-a1ef0efa3020.PNG)\n\n**API Usage - (Objects named according to the above image)**\n\n``` python\ninput_model_1 = Sequential()\ninput_model_1.add(Dense(input_dim=10, output_dim=10)) \n\ninput_model_2 = Sequential()\ninput_model_2.add(Dense(input_dim=10, output_dim=10))\n\ninputs = [input_model_1, input_model_2]\n\nlayer = Dense(input_dim=10, output_dim=5)\n\nmodel = Sequential()\nmodel.add(Siamese(layer ,inputs, 'sum'))\n\nmodel.compile(loss='mse', optimizer='sgd')\n```\n\n**Note:**\n- The weight shared layers could also be  models.\n- **This is different from `Merge([leg,leg])`**. Here you could chose at what level the layers of the legs should be in sync. Whereas in the case of `Merge([leg,leg])` , the legs are in sync down to the input level\n- In other words, using this layer you could add synchronized layer(s) on top of any two (or more) arbitrary models.\n- You can create legged models in which the parallel layers of the legs are in sync and not in sync alternatively as shown in the figure below. This is made possible using the `add_shared_layer()`  function.\n\n![siamese4](https://cloud.githubusercontent.com/assets/11006006/10867473/f3f58ad6-8089-11e5-99f0-b7555180f9e7.png)\n\n**Code for the above model:**\n\n``` python\nleg1 = Sequential()\nleg1.add(Dense(input_dim=10, output_dim=10))\n\nleg2 = Sequential()\nleg2.add(Dense(input_dim=10, output_dim=10))\n\ninputs = [leg1, leg2]\n\nshared_lstm = LSTM(input_dim=10, output_dim=5)\n\nadd_shared_layer(shared_lstm, inputs)\n\nleg1.add(Dense(5))\nleg2.add(LSTM(5))\n\nshared_dense = Dense(input_dim=5, output_dim=5)\n\nadd_shared_layer(shared_dense, inputs)\n\nleg1.add(Dense(5))\nleg2.add(Dense(5))\n\nmodel = Sequential()\nmodel.add(Merge([leg1, leg2], 'mul'))\n```\n\n**For Graph Models**\n- When you add a `node` with multiple inputs to a `Graph` model using `add_node()`, the inputs are first merged and then passed to the `layer`. If you reverse this order, i.e, first pass the inputs through the `layer` and then merge, its the same as having multiple copies of your `layer` with shared weights. \n- To do so, you have to call the `add_shared_node()` function, instead of `add_node()`. Arguments are similar to `add_node()`(Except there is no `input` argument).\n\n**API usage:**\n\n``` python\nmodel = Graph()\n\n# inputs\nmodel.add_input(name='input1', ndim=2)\nmodel.add_input(name='input2', ndim=2)\n\n#Shared dense layer\nshared_dense = Dense(input_dim=10, output_dim=10)\n\nmodel.add_shared_node(shared_dense, name=\"shared_dense\", inputs=['input1', 'input2'], merge_mode='concat')\n```\n\nIn the above example, its as if there are 2 dense layers, each eating each of the inputs, but with a common weight matrix.\n- You can also stack shared layers in a `Graph`:\n\n``` python\n\nmodel = Graph()\n\n# inputs\nmodel.add_input(name='input1', ndim=2)\nmodel.add_input(name='input2', ndim=2)\n\n#Shared dense layers\nshared_dense1 = Dense(input_dim=10, output_dim=10)\nshared_dense2 = Dense(input_dim=10, output_dim=10)\nshared_dense2 = Dense(input_dim=10, output_dim=10)\n\n#Stack shared layers:\n\nmodel.add_shared_node(shared_dense1, name=\"shared_dense1\", inputs=['input1', 'input2'], merge_mode=None)\nmodel.add_shared_node(shared_dense2, name=\"shared_dense2\", inputs=[\"shared_dense1\"], merge_mode=None)\nmodel.add_shared_node(shared_dense3, name=\"shared_dense3\", inputs=[\"shared_dense2\"], merge_mode='concat')\n```\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152792336/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152802303",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-152802303",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 152802303,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjgwMjMwMw==",
          "user": {
            "login": "sergeyf",
            "id": 1874668,
            "node_id": "MDQ6VXNlcjE4NzQ2Njg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1874668?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sergeyf",
            "html_url": "https://github.com/sergeyf",
            "followers_url": "https://api.github.com/users/sergeyf/followers",
            "following_url": "https://api.github.com/users/sergeyf/following{/other_user}",
            "gists_url": "https://api.github.com/users/sergeyf/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sergeyf/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sergeyf/subscriptions",
            "organizations_url": "https://api.github.com/users/sergeyf/orgs",
            "repos_url": "https://api.github.com/users/sergeyf/repos",
            "events_url": "https://api.github.com/users/sergeyf/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sergeyf/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-01T07:29:13Z",
          "updated_at": "2015-11-01T07:29:40Z",
          "author_association": "NONE",
          "body": "Repasting from #923:\n\nIt looks very flexible and useful. The get_siamese_heads function feels a bit tacked on, but I am not sure how else to get it to do what it's doing without some changes to the base model class. I assume you are trying to avoid that?\n\nAlso, how does this fit in with the Graph api? Probably some of the more regular contributors to Keras would have a lot more to say, but as it is I would find immediate use for it, and so would many others I bet.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152802303/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152802382",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-152802382",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 152802382,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjgwMjM4Mg==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-01T07:33:35Z",
          "updated_at": "2015-11-01T07:50:50Z",
          "author_association": "CONTRIBUTOR",
          "body": "@sergeyf \n\n> The get_siamese_heads function feels a bit tacked on, but I am not sure how else to get it to do what it's doing without some changes to the base model class. I assume you are trying to avoid that?\n\nYes, obviously. There were some serious discussions going on at #362 , but they all involved drastic changes to the fundamental APIs, which I am not a fan of.\n\n> Also, how does this fit in with the Graph api?\n\nWhen `merge_mode='join`, the `Siamese` layer outputs an `OrderedDict()`. This should be compatible with graph. Not sure about it though. A `Graph` expert could easily solve this. I am more into `Sequential`.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152802382/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152802595",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-152802595",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 152802595,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjgwMjU5NQ==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-01T07:38:35Z",
          "updated_at": "2015-11-01T07:38:35Z",
          "author_association": "CONTRIBUTOR",
          "body": "@sergeyf  Do you have any suggestions about the `get_siamese_heads` API?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152802595/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152802772",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-152802772",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 152802772,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjgwMjc3Mg==",
          "user": {
            "login": "sergeyf",
            "id": 1874668,
            "node_id": "MDQ6VXNlcjE4NzQ2Njg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1874668?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sergeyf",
            "html_url": "https://github.com/sergeyf",
            "followers_url": "https://api.github.com/users/sergeyf/followers",
            "following_url": "https://api.github.com/users/sergeyf/following{/other_user}",
            "gists_url": "https://api.github.com/users/sergeyf/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sergeyf/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sergeyf/subscriptions",
            "organizations_url": "https://api.github.com/users/sergeyf/orgs",
            "repos_url": "https://api.github.com/users/sergeyf/repos",
            "events_url": "https://api.github.com/users/sergeyf/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sergeyf/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-01T07:42:58Z",
          "updated_at": "2015-11-01T07:42:58Z",
          "author_association": "NONE",
          "body": "Maybe something like:\n\n```\ninput1 = Sequential()\ninput1.add(Dense(input_dim=10, output_dim=10))\n\ninput2 = Sequential()\ninput2.add(Dense(input_dim=10, output_dim=10))\n\ninputs=[input1,input2]\n\nshared_lstm = LSTM(input_dim=10, output_dim=5)\n\nS = Siamese(shared_lstm ,inputs, 'sum',branch_names=['left','right'])\n\nS.add_branch(branch_name='left',Dense(5))\nS.add_branch(branch_name='right',LSTM(5))\n```\n\nBut now it's starting to look like a `Graph` =)\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152802772/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152802876",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-152802876",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 152802876,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjgwMjg3Ng==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-01T07:47:11Z",
          "updated_at": "2015-11-01T07:48:01Z",
          "author_association": "CONTRIBUTOR",
          "body": "@sergeyf  But wont this get complicated when we stack a `Siamese` over `Siamese` like in the second image? \nYeah.. looks more like `Graph`. Lost the beauty of `Sequential`.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152802876/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152803658",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-152803658",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 152803658,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjgwMzY1OA==",
          "user": {
            "login": "sergeyf",
            "id": 1874668,
            "node_id": "MDQ6VXNlcjE4NzQ2Njg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1874668?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sergeyf",
            "html_url": "https://github.com/sergeyf",
            "followers_url": "https://api.github.com/users/sergeyf/followers",
            "following_url": "https://api.github.com/users/sergeyf/following{/other_user}",
            "gists_url": "https://api.github.com/users/sergeyf/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sergeyf/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sergeyf/subscriptions",
            "organizations_url": "https://api.github.com/users/sergeyf/orgs",
            "repos_url": "https://api.github.com/users/sergeyf/repos",
            "events_url": "https://api.github.com/users/sergeyf/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sergeyf/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-01T07:53:37Z",
          "updated_at": "2015-11-01T07:53:37Z",
          "author_association": "NONE",
          "body": "Yeah...\n\nHmm what about explicitly constructing two branches and then indicating where they should be shared? That is a very different type of API, but it would look like this:\n\n```\nbranch1 = Sequential()\nbranch1.add(Dense(10,10))\nbranch1.add(LSTM(10))\nbranch1.add(Dense(10))\nbranch1.add(Dense(1))\n\nbranch2 = Sequential()\nbranch1.add(Dense(10,10))\nbranch1.add(Dense(10))\nbranch1.add(Dense(10))\nbranch1.add(Dense(1))\n\nmodel = Sequential(inputs=[branch1,branch2],merge_mode='sum',shared_tuples=[(branch1.layers[0],branch2.layers[0]),(branch1.layers[2],branch2.layers[2]))\n```\n\nOr simply by index:\n`model = Sequential(inputs=[branch1,branch2],merge_mode='sum',shared_indices=[0,2])`\nWhich tells Sequential that the 1st and 3rd layer in each branch should be tied. Of course if they are different sizes, then it would throw an error, etc. But this would even let the branches be different lengths as long as the linked-up layers are actually identical.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152803658/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152803996",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-152803996",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 152803996,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjgwMzk5Ng==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-01T07:59:48Z",
          "updated_at": "2015-11-01T09:45:56Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hmm. The simply by index API sounds good.. But again, under the hood, I am not explicitly tying up/sharing anything.. Because it is almost impossible due to theano issues, learning issues and performance issues. What I am doing is a **Floating Layer**.\n\nIn the current implementation too, the branches could be of different lengths.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152803996/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152817790",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-152817790",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 152817790,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MjgxNzc5MA==",
          "user": {
            "login": "sergeyf",
            "id": 1874668,
            "node_id": "MDQ6VXNlcjE4NzQ2Njg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1874668?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sergeyf",
            "html_url": "https://github.com/sergeyf",
            "followers_url": "https://api.github.com/users/sergeyf/followers",
            "following_url": "https://api.github.com/users/sergeyf/following{/other_user}",
            "gists_url": "https://api.github.com/users/sergeyf/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sergeyf/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sergeyf/subscriptions",
            "organizations_url": "https://api.github.com/users/sergeyf/orgs",
            "repos_url": "https://api.github.com/users/sergeyf/repos",
            "events_url": "https://api.github.com/users/sergeyf/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sergeyf/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-01T11:13:37Z",
          "updated_at": "2015-11-01T11:13:37Z",
          "author_association": "NONE",
          "body": "Yes, and it should be easy to also adapt to Graph then: just use tuples of\nnode names instead of tuples of indices.\nOn Nov 1, 2015 1:00 AM, \"Fariz Rahman\" notifications@github.com wrote:\n\n> Hmm. The simply by index API sounds good.. But again, under the hood, I am\n> not explicitly typing up/sharing anything.. Because it is almost impossible\n> due to theano issues and learning issues.\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/fchollet/keras/pull/928#issuecomment-152803996.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152817790/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152863813",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-152863813",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 152863813,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1Mjg2MzgxMw==",
          "user": {
            "login": "dbonadiman",
            "id": 1776151,
            "node_id": "MDQ6VXNlcjE3NzYxNTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1776151?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dbonadiman",
            "html_url": "https://github.com/dbonadiman",
            "followers_url": "https://api.github.com/users/dbonadiman/followers",
            "following_url": "https://api.github.com/users/dbonadiman/following{/other_user}",
            "gists_url": "https://api.github.com/users/dbonadiman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dbonadiman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dbonadiman/subscriptions",
            "organizations_url": "https://api.github.com/users/dbonadiman/orgs",
            "repos_url": "https://api.github.com/users/dbonadiman/repos",
            "events_url": "https://api.github.com/users/dbonadiman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dbonadiman/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-01T21:04:29Z",
          "updated_at": "2015-11-01T21:04:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "I find these utility layers really useful however from my point of view they are really messy in a sequential Network of sort.\nI think that they are more natural in a Graph based network. In that sense they are already implementable without much effort, it is just to share the weight between standard layers in a Graph container. Then is possible to broadcast two different input to the two(or more) layers and the Graph does the trick.\n\nI think that the Graph model was presented to avoid the implementation of these layers.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/152863813/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153084532",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-153084532",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 153084532,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzA4NDUzMg==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-02T17:06:13Z",
          "updated_at": "2015-11-02T17:08:00Z",
          "author_association": "CONTRIBUTOR",
          "body": "To all graph lovers, I have added support for `Graph`!\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153084532/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153086577",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-153086577",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 153086577,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzA4NjU3Nw==",
          "user": {
            "login": "sergeyf",
            "id": 1874668,
            "node_id": "MDQ6VXNlcjE4NzQ2Njg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1874668?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sergeyf",
            "html_url": "https://github.com/sergeyf",
            "followers_url": "https://api.github.com/users/sergeyf/followers",
            "following_url": "https://api.github.com/users/sergeyf/following{/other_user}",
            "gists_url": "https://api.github.com/users/sergeyf/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sergeyf/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sergeyf/subscriptions",
            "organizations_url": "https://api.github.com/users/sergeyf/orgs",
            "repos_url": "https://api.github.com/users/sergeyf/repos",
            "events_url": "https://api.github.com/users/sergeyf/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sergeyf/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-02T17:10:31Z",
          "updated_at": "2015-11-02T17:10:31Z",
          "author_association": "NONE",
          "body": "Thanks @farizrahman4u! With the `Graph` support, can you add multiple shared nodes in a row? So that there is a kind of merge_mode = `don't merge yet', forcing the next added layer also as a shared one?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153086577/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153095601",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-153095601",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 153095601,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzA5NTYwMQ==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-02T17:39:10Z",
          "updated_at": "2015-11-02T17:59:56Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @sergeyf , I have added support for stacking shared layers in `Graph`. Simply set `merge_mode=None` in the first shared layer and `input=<name of previous shared layer>` in the second one.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153095601/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153096817",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-153096817",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 153096817,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzA5NjgxNw==",
          "user": {
            "login": "sergeyf",
            "id": 1874668,
            "node_id": "MDQ6VXNlcjE4NzQ2Njg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1874668?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sergeyf",
            "html_url": "https://github.com/sergeyf",
            "followers_url": "https://api.github.com/users/sergeyf/followers",
            "following_url": "https://api.github.com/users/sergeyf/following{/other_user}",
            "gists_url": "https://api.github.com/users/sergeyf/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sergeyf/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sergeyf/subscriptions",
            "organizations_url": "https://api.github.com/users/sergeyf/orgs",
            "repos_url": "https://api.github.com/users/sergeyf/repos",
            "events_url": "https://api.github.com/users/sergeyf/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sergeyf/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-02T17:44:21Z",
          "updated_at": "2015-11-02T17:44:21Z",
          "author_association": "NONE",
          "body": "Sounds great!\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153096817/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153116134",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-153116134",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 153116134,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzExNjEzNA==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-02T18:25:06Z",
          "updated_at": "2015-11-02T18:36:05Z",
          "author_association": "CONTRIBUTOR",
          "body": "If we use a separate argument `input` for stacking, we can not stack shared layers on multiple branches of stacks of shared layers like this:\n\n```\n                     output\n              ------ Merge------\n           ---------------------------\n           ---------------------------\n           ---------------------------\n           ---------           ---------\n           ---------           ---------\n           ---------           ---------\n           in1,in2            in3,in4\n\n\n```\n\nSo I am getting rid of the `input` argument.. the `inputs` argument can be used for stacking a shared layer on another shared layer (or multiple shared layers).. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153116134/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153239781",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-153239781",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 153239781,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzIzOTc4MQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-03T05:07:58Z",
          "updated_at": "2015-11-03T05:07:58Z",
          "author_association": "COLLABORATOR",
          "body": "I do not understand the need for two APIs in the case of `Sequential`. Wouldn't `get_siamese_heads` be sufficient to cover all user needs?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153239781/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153257789",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-153257789",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 153257789,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzI1Nzc4OQ==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-03T06:27:48Z",
          "updated_at": "2015-11-03T06:27:48Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet , Yes, it is sufficient..but in cases where the outputs from the shared layers are merged immediately,(the case where you dont want to stack any more shared layers on top) the first API can behave more like a `Merge` layer.. it takes in two models, and you add that to the third model..whereas if you use `get_siamese_heads` for the same, it takes in 2 models, outputs 2 models, and then you have to merge them to another model..\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153257789/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153258627",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-153258627",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 153258627,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzI1ODYyNw==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-03T06:35:42Z",
          "updated_at": "2015-11-03T06:35:42Z",
          "author_association": "CONTRIBUTOR",
          "body": "Again, you can not remove the merge functionality in `Siamese` layer, because it is used by the `add_shared_node()`\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153258627/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153350930",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-153350930",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 153350930,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzM1MDkzMA==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-03T13:23:38Z",
          "updated_at": "2015-11-03T13:30:16Z",
          "author_association": "CONTRIBUTOR",
          "body": "@sergeyf \n\n> The get_siamese_heads function feels a bit tacked on\n\nAs the `get_siamese_heads()` function introduced too many models to the code, I have replaced it with  `add_shared_layer()`. It doesnt return new models, instead adds shared layer to the input models, so that you wont have the feeling of \"branching out\". And the name is more consistent with 'add_shared_node()`. I have updated my first comment.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153350930/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153354014",
          "html_url": "https://github.com/keras-team/keras/pull/928#issuecomment-153354014",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/928",
          "id": 153354014,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1MzM1NDAxNA==",
          "user": {
            "login": "mmmikael",
            "id": 85865,
            "node_id": "MDQ6VXNlcjg1ODY1",
            "avatar_url": "https://avatars.githubusercontent.com/u/85865?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mmmikael",
            "html_url": "https://github.com/mmmikael",
            "followers_url": "https://api.github.com/users/mmmikael/followers",
            "following_url": "https://api.github.com/users/mmmikael/following{/other_user}",
            "gists_url": "https://api.github.com/users/mmmikael/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mmmikael/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mmmikael/subscriptions",
            "organizations_url": "https://api.github.com/users/mmmikael/orgs",
            "repos_url": "https://api.github.com/users/mmmikael/repos",
            "events_url": "https://api.github.com/users/mmmikael/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mmmikael/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-03T13:34:49Z",
          "updated_at": "2015-11-03T13:34:49Z",
          "author_association": "NONE",
          "body": "What about this implementation that does not require any weight duplication:\nhttps://github.com/fchollet/keras/issues/242#issuecomment-114996378\n\nI have tested that on MNIST here https://gist.github.com/mmmikael/b202b344b1c89dbbce64.\nIt may need some more abstraction but it seems simpler to me.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/153354014/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/10775",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/10775/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/10775/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/10775/events",
      "html_url": "https://github.com/keras-team/keras/pull/10775",
      "id": 344482830,
      "node_id": "MDExOlB1bGxSZXF1ZXN0MjAzODY3Njcz",
      "number": 10775,
      "title": "Enable element-wise weighing of outputs in model.fit(..., sample_weight=weights)",
      "user": {
        "login": "rcasero",
        "id": 1219084,
        "node_id": "MDQ6VXNlcjEyMTkwODQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1219084?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rcasero",
        "html_url": "https://github.com/rcasero",
        "followers_url": "https://api.github.com/users/rcasero/followers",
        "following_url": "https://api.github.com/users/rcasero/following{/other_user}",
        "gists_url": "https://api.github.com/users/rcasero/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/rcasero/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/rcasero/subscriptions",
        "organizations_url": "https://api.github.com/users/rcasero/orgs",
        "repos_url": "https://api.github.com/users/rcasero/repos",
        "events_url": "https://api.github.com/users/rcasero/events{/privacy}",
        "received_events_url": "https://api.github.com/users/rcasero/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "assignees": [
        {
          "login": "fchollet",
          "id": 710255,
          "node_id": "MDQ6VXNlcjcxMDI1NQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/fchollet",
          "html_url": "https://github.com/fchollet",
          "followers_url": "https://api.github.com/users/fchollet/followers",
          "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
          "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
          "organizations_url": "https://api.github.com/users/fchollet/orgs",
          "repos_url": "https://api.github.com/users/fchollet/repos",
          "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
          "received_events_url": "https://api.github.com/users/fchollet/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        },
        {
          "login": "pavithrasv",
          "id": 13326758,
          "node_id": "MDQ6VXNlcjEzMzI2NzU4",
          "avatar_url": "https://avatars.githubusercontent.com/u/13326758?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/pavithrasv",
          "html_url": "https://github.com/pavithrasv",
          "followers_url": "https://api.github.com/users/pavithrasv/followers",
          "following_url": "https://api.github.com/users/pavithrasv/following{/other_user}",
          "gists_url": "https://api.github.com/users/pavithrasv/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/pavithrasv/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/pavithrasv/subscriptions",
          "organizations_url": "https://api.github.com/users/pavithrasv/orgs",
          "repos_url": "https://api.github.com/users/pavithrasv/repos",
          "events_url": "https://api.github.com/users/pavithrasv/events{/privacy}",
          "received_events_url": "https://api.github.com/users/pavithrasv/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        }
      ],
      "milestone": null,
      "comments": 47,
      "created_at": "2018-07-25T15:02:04Z",
      "updated_at": "2019-09-12T10:01:01Z",
      "closed_at": "2019-09-11T21:17:02Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/10775",
        "html_url": "https://github.com/keras-team/keras/pull/10775",
        "diff_url": "https://github.com/keras-team/keras/pull/10775.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/10775.patch",
        "merged_at": null
      },
      "body": "### Summary\r\n\r\nAdd element-wise weighting of the loss function.\r\nDescribed in Issue #10561\r\n\r\nKeras API Design Review google doc with comments enabled here\r\nhttps://docs.google.com/document/d/19BDXgNmeTgpgb9xYKzNboXyM7XX2PeM3mlvCFCdIQj0/edit?usp=sharing\r\n\r\n### Related Issues\r\n\r\nNone, as far as I know.\r\n\r\n### PR Overview\r\n\r\n- [y] This PR requires new unit tests [y/n] (make sure tests are included)\r\n\r\nAs described in the API Design Review, I've had some trouble with this, and could use some guidance.\r\n\r\n- [y] This PR requires to update the documentation [y/n] (make sure the docs are up-to-date)\r\n\r\nHelp added in the code, but as noted in the API Design Review doc, I also need a bit of guidance with that.\r\n\r\n- [?] This PR is backwards compatible [y/n]\r\n\r\nI don't know how to test this.\r\n\r\n- [y] This PR changes the current API [y/n] (all API changes need to be approved by @fchollet )\r\n\r\nIt adds a new possible value `'element'` to the option `sample_weight_mode` in `model.compile()`.\r\n",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/10775/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/10775/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/409540317",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-409540317",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 409540317,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTU0MDMxNw==",
          "user": {
            "login": "rcasero",
            "id": 1219084,
            "node_id": "MDQ6VXNlcjEyMTkwODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1219084?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rcasero",
            "html_url": "https://github.com/rcasero",
            "followers_url": "https://api.github.com/users/rcasero/followers",
            "following_url": "https://api.github.com/users/rcasero/following{/other_user}",
            "gists_url": "https://api.github.com/users/rcasero/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rcasero/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rcasero/subscriptions",
            "organizations_url": "https://api.github.com/users/rcasero/orgs",
            "repos_url": "https://api.github.com/users/rcasero/repos",
            "events_url": "https://api.github.com/users/rcasero/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rcasero/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-08-01T11:15:10Z",
          "updated_at": "2018-08-01T11:15:10Z",
          "author_association": "NONE",
          "body": " I have asked for guidance in the thread [\"How to debug a keras pull request\"](https://groups.google.com/forum/#!topic/keras-users/uZo3Z2JkCRA) in the mailing list.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/409540317/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/410557338",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-410557338",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 410557338,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDU1NzMzOA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-08-05T23:50:59Z",
          "updated_at": "2018-08-05T23:50:59Z",
          "author_association": "COLLABORATOR",
          "body": "@pavithrasv what's your take on this feature?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/410557338/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/410557357",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-410557357",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 410557357,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDU1NzM1Nw==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-08-05T23:51:26Z",
          "updated_at": "2018-08-05T23:51:26Z",
          "author_association": "COLLABORATOR",
          "body": "Thank you for the PR @rcasero. Will review soon.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/410557357/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/410640955",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-410640955",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 410640955,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDY0MDk1NQ==",
          "user": {
            "login": "Dapid",
            "id": 1616942,
            "node_id": "MDQ6VXNlcjE2MTY5NDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1616942?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Dapid",
            "html_url": "https://github.com/Dapid",
            "followers_url": "https://api.github.com/users/Dapid/followers",
            "following_url": "https://api.github.com/users/Dapid/following{/other_user}",
            "gists_url": "https://api.github.com/users/Dapid/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Dapid/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Dapid/subscriptions",
            "organizations_url": "https://api.github.com/users/Dapid/orgs",
            "repos_url": "https://api.github.com/users/Dapid/repos",
            "events_url": "https://api.github.com/users/Dapid/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Dapid/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-08-06T09:08:27Z",
          "updated_at": "2018-08-06T09:08:27Z",
          "author_association": "CONTRIBUTOR",
          "body": "I think this feature is very interesting, and I will be using it a lot.\r\n\r\nMy use case is predictions of some experimental results. When I am predicting 1D features, I can use \"temporal\" mode and mask out the points where I am missing data, but when I am predicting 2D, I can no longer use that trick. My solution now is to wrap my model and manually force the outputs at the missing pixels to 0; essentially multiplying the outputs by the \"present\" mask.\r\n\r\nThis mode would allow me to have simpler models, avoid the extra complication of extracting the inner model when I need to use it, and also use the same structure for 1 and 2D.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/410640955/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/410696137",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-410696137",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 410696137,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDY5NjEzNw==",
          "user": {
            "login": "rcasero",
            "id": 1219084,
            "node_id": "MDQ6VXNlcjEyMTkwODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1219084?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rcasero",
            "html_url": "https://github.com/rcasero",
            "followers_url": "https://api.github.com/users/rcasero/followers",
            "following_url": "https://api.github.com/users/rcasero/following{/other_user}",
            "gists_url": "https://api.github.com/users/rcasero/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rcasero/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rcasero/subscriptions",
            "organizations_url": "https://api.github.com/users/rcasero/orgs",
            "repos_url": "https://api.github.com/users/rcasero/repos",
            "events_url": "https://api.github.com/users/rcasero/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rcasero/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-08-06T12:47:27Z",
          "updated_at": "2018-08-06T12:47:27Z",
          "author_association": "NONE",
          "body": "I wrote a [test script](https://github.com/keras-team/keras/issues/10561#issuecomment-410533376), but I'd need help to turn it into test units. (As I mention in the [Keras API Design Review google doc](https://docs.google.com/document/d/19BDXgNmeTgpgb9xYKzNboXyM7XX2PeM3mlvCFCdIQj0/edit?usp=sharing), I've tried following the [instructions to test keras](https://keras.io/contributing/#pull-requests), but it fails for me even with the unpatched main keras branch.)",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/410696137/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/411277670",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-411277670",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 411277670,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxMTI3NzY3MA==",
          "user": {
            "login": "pavithrasv",
            "id": 13326758,
            "node_id": "MDQ6VXNlcjEzMzI2NzU4",
            "avatar_url": "https://avatars.githubusercontent.com/u/13326758?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pavithrasv",
            "html_url": "https://github.com/pavithrasv",
            "followers_url": "https://api.github.com/users/pavithrasv/followers",
            "following_url": "https://api.github.com/users/pavithrasv/following{/other_user}",
            "gists_url": "https://api.github.com/users/pavithrasv/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pavithrasv/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pavithrasv/subscriptions",
            "organizations_url": "https://api.github.com/users/pavithrasv/orgs",
            "repos_url": "https://api.github.com/users/pavithrasv/repos",
            "events_url": "https://api.github.com/users/pavithrasv/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pavithrasv/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-08-08T04:04:01Z",
          "updated_at": "2018-08-08T04:04:01Z",
          "author_association": "CONTRIBUTOR",
          "body": "I can see this feature being useful for use cases like the one @Dapid has mentioned. It could also be used to mask unknown elements in a sample. Did a first pass through the code, will review again after unit tests have been added.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/411277670/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/415123718",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-415123718",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 415123718,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTEyMzcxOA==",
          "user": {
            "login": "rcasero",
            "id": 1219084,
            "node_id": "MDQ6VXNlcjEyMTkwODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1219084?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rcasero",
            "html_url": "https://github.com/rcasero",
            "followers_url": "https://api.github.com/users/rcasero/followers",
            "following_url": "https://api.github.com/users/rcasero/following{/other_user}",
            "gists_url": "https://api.github.com/users/rcasero/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rcasero/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rcasero/subscriptions",
            "organizations_url": "https://api.github.com/users/rcasero/orgs",
            "repos_url": "https://api.github.com/users/rcasero/repos",
            "events_url": "https://api.github.com/users/rcasero/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rcasero/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-08-22T18:00:20Z",
          "updated_at": "2018-08-22T18:00:20Z",
          "author_association": "NONE",
          "body": "Suggestions by @pavithrasv pushed in commit 157244cea8e135c06215c72f5d110a1d1d1a0e97",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/415123718/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/415378462",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-415378462",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 415378462,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTM3ODQ2Mg==",
          "user": {
            "login": "rcasero",
            "id": 1219084,
            "node_id": "MDQ6VXNlcjEyMTkwODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1219084?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rcasero",
            "html_url": "https://github.com/rcasero",
            "followers_url": "https://api.github.com/users/rcasero/followers",
            "following_url": "https://api.github.com/users/rcasero/following{/other_user}",
            "gists_url": "https://api.github.com/users/rcasero/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rcasero/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rcasero/subscriptions",
            "organizations_url": "https://api.github.com/users/rcasero/orgs",
            "repos_url": "https://api.github.com/users/rcasero/repos",
            "events_url": "https://api.github.com/users/rcasero/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rcasero/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-08-23T11:12:06Z",
          "updated_at": "2018-08-23T11:12:06Z",
          "author_association": "NONE",
          "body": "I implemented this feature because I generate training data with unknown elements, as @pavithrasv mentions. Training a network this way is working for me.\r\n\r\nAs mentioned above, I have a testing script, but I don't know how to generate unit tests in keras.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/415378462/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/420756776",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-420756776",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 420756776,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDc1Njc3Ng==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-12T18:46:43Z",
          "updated_at": "2018-09-12T18:46:43Z",
          "author_association": "COLLABORATOR",
          "body": "@pavithrasv Could you please take a look at the recent changes? Thank you.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/420756776/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/422340526",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-422340526",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 422340526,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjM0MDUyNg==",
          "user": {
            "login": "rcasero",
            "id": 1219084,
            "node_id": "MDQ6VXNlcjEyMTkwODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1219084?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rcasero",
            "html_url": "https://github.com/rcasero",
            "followers_url": "https://api.github.com/users/rcasero/followers",
            "following_url": "https://api.github.com/users/rcasero/following{/other_user}",
            "gists_url": "https://api.github.com/users/rcasero/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rcasero/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rcasero/subscriptions",
            "organizations_url": "https://api.github.com/users/rcasero/orgs",
            "repos_url": "https://api.github.com/users/rcasero/repos",
            "events_url": "https://api.github.com/users/rcasero/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rcasero/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-18T10:27:33Z",
          "updated_at": "2018-09-18T10:27:33Z",
          "author_association": "NONE",
          "body": "@pavithrasv What I see in \"View changes\" proposed by you is the patch I've submitted, right? Do I need to do anything about that?\r\n\r\nRoger about the unit tests.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/422340526/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/422442624",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-422442624",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 422442624,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjQ0MjYyNA==",
          "user": {
            "login": "pavithrasv",
            "id": 13326758,
            "node_id": "MDQ6VXNlcjEzMzI2NzU4",
            "avatar_url": "https://avatars.githubusercontent.com/u/13326758?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pavithrasv",
            "html_url": "https://github.com/pavithrasv",
            "followers_url": "https://api.github.com/users/pavithrasv/followers",
            "following_url": "https://api.github.com/users/pavithrasv/following{/other_user}",
            "gists_url": "https://api.github.com/users/pavithrasv/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pavithrasv/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pavithrasv/subscriptions",
            "organizations_url": "https://api.github.com/users/pavithrasv/orgs",
            "repos_url": "https://api.github.com/users/pavithrasv/repos",
            "events_url": "https://api.github.com/users/pavithrasv/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pavithrasv/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-18T15:35:11Z",
          "updated_at": "2018-09-18T15:35:11Z",
          "author_association": "CONTRIBUTOR",
          "body": "Yes, the only change I had requested after that commit were the unit tests. Thank you!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/422442624/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/422450614",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-422450614",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 422450614,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjQ1MDYxNA==",
          "user": {
            "login": "rcasero",
            "id": 1219084,
            "node_id": "MDQ6VXNlcjEyMTkwODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1219084?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rcasero",
            "html_url": "https://github.com/rcasero",
            "followers_url": "https://api.github.com/users/rcasero/followers",
            "following_url": "https://api.github.com/users/rcasero/following{/other_user}",
            "gists_url": "https://api.github.com/users/rcasero/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rcasero/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rcasero/subscriptions",
            "organizations_url": "https://api.github.com/users/rcasero/orgs",
            "repos_url": "https://api.github.com/users/rcasero/repos",
            "events_url": "https://api.github.com/users/rcasero/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rcasero/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-18T15:58:12Z",
          "updated_at": "2018-09-18T16:36:40Z",
          "author_association": "NONE",
          "body": "@pavithrasv I've found an error if one has two outputs, and one is e.g. `(None, 22, 22, 2)` instead of `(None, 22, 22, 1)`. Code and error below. Any help appreciated!\r\n\r\n```python\r\nimport os\r\nos.environ['KERAS_BACKEND'] = 'tensorflow'\r\nimport keras\r\nimport keras.backend as K\r\nimport numpy as np\r\n\r\nfrom keras.models import Model, Sequential\r\nfrom keras.layers import Activation, Conv2D, Input\r\nfrom keras.layers.normalization import BatchNormalization\r\n\r\nfrom keras.utils import multi_gpu_model\r\n\r\n# remove warning \"Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\"\r\nos.environ['TF_CPP_MIN_LOG_LEVEL'] = '2'  # Just disables the warning, doesn't enable AVX/FMA\r\n\r\n# image_data_format = 'channels_first'\r\nimage_data_format = 'channels_last'\r\n\r\nK.set_image_data_format(image_data_format)\r\n\r\n# simulate input images\r\nim = np.zeros(shape=(10, 64, 64, 3), dtype='uint8')\r\n\r\n# simulate network output\r\nout = 2 * np.ones(shape=(10, 64, 64, 1), dtype='float32')\r\naux_out = 5 * np.ones(shape=(10, 22, 22, 1), dtype='float32')\r\n# simulate training weights for network output\r\n# weight = np.ones(shape=(10, 64, 64, 1), dtype='float32')\r\nweight = np.ones(shape=(10, 64, 64, 1), dtype='float32')\r\naux_weight = np.ones(shape=(10, 22, 22, 1), dtype='float32')\r\n\r\n# simulate validation data\r\nim_validation = 3 * np.ones(shape=(5, 64, 64, 3), dtype='uint8')\r\nout_validation = 4 * np.ones(shape=(5, 64, 64, 1), dtype='float32')\r\n\r\nvalidation_data = (im_validation, out_validation)\r\n\r\n# optimizer\r\noptimizer = keras.optimizers.SGD(lr=0.01, decay=1e-6, momentum=0.9, nesterov=True)\r\n\r\n'''Multi-output CNN with outputs of different number of features\r\n'''\r\n\r\n# create network model\r\ninput = Input(shape=im.shape[1:], dtype='float32')\r\nx = Conv2D(filters=32, kernel_size=(3, 3), strides=1, padding='same')(input)\r\nx = BatchNormalization(axis=3)(x)\r\nx = Activation('relu')(x)\r\n\r\nmain_output = Conv2D(filters=1, kernel_size=(1, 1), strides=1, padding='same', name='main_output')(x)\r\naux_output = Conv2D(filters=2, kernel_size=(1, 1), strides=3, padding='same', name='aux_output')(x)\r\n\r\nmodel = Model(inputs=input, outputs=[main_output, aux_output])\r\n\r\n'''list format (sample_weight_mode=['element', 'element'])\r\n'''\r\n\r\nmodel.compile(loss='mae', optimizer=optimizer, metrics=['accuracy'],\r\n              sample_weight_mode=['element', 'element'])\r\n\r\nmodel.fit(im, [out, np.repeat(aux_out, repeats=2, axis=3)],\r\n          sample_weight=[weight, np.repeat(aux_weight, repeats=2, axis=3)],\r\n          batch_size=3, epochs=3)\r\n```\r\n\r\n```\r\nmodel.fit(im, [out, np.repeat(aux_out, repeats=2, axis=3)],\r\n          sample_weight=[weight, np.repeat(aux_weight, repeats=2, axis=3)],\r\n          batch_size=3, epochs=3)\r\nEpoch 1/3\r\nTraceback (most recent call last):\r\n  File \"<input>\", line 3, in <module>\r\n  File \"/home/rcasero/Software/keras_branch_sample_weight/keras/engine/training.py\", line 1070, in fit\r\n    validation_steps=validation_steps)\r\n  File \"/home/rcasero/Software/keras_branch_sample_weight/keras/engine/training_arrays.py\", line 199, in fit_loop\r\n    outs = f(ins_batch)\r\n  File \"/home/rcasero/Software/keras_branch_sample_weight/keras/backend/tensorflow_backend.py\", line 2661, in __call__\r\n    return self._call(inputs)\r\n  File \"/home/rcasero/Software/keras_branch_sample_weight/keras/backend/tensorflow_backend.py\", line 2631, in _call\r\n    fetched = self._callable_fn(*array_vals)\r\n  File \"/home/rcasero/.conda/envs/cytometer_tensorflow/lib/python3.6/site-packages/tensorflow/python/client/session.py\", line 1454, in __call__\r\n    self._session._session, self._handle, args, status, None)\r\n  File \"/home/rcasero/.conda/envs/cytometer_tensorflow/lib/python3.6/site-packages/tensorflow/python/framework/errors_impl.py\", line 519, in __exit__\r\n    c_api.TF_GetCode(self.status.status))\r\ntensorflow.python.framework.errors_impl.InvalidArgumentError: Input to reshape is a tensor with 2904 values, but the requested shape has 1452\r\n\t [[Node: loss/aux_output_loss/Reshape = Reshape[T=DT_FLOAT, Tshape=DT_INT32, _device=\"/job:localhost/replica:0/task:0/device:GPU:0\"](_arg_aux_output_sample_weights_0_4/_113, loss/aux_output_loss/Shape_1)]]\r\n\t [[Node: loss/add/_151 = _Recv[client_terminated=false, recv_device=\"/job:localhost/replica:0/task:0/device:CPU:0\", send_device=\"/job:localhost/replica:0/task:0/device:GPU:0\", send_device_incarnation=1, tensor_name=\"edge_723_loss/add\", tensor_type=DT_FLOAT, _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/422450614/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/422545677",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-422545677",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 422545677,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjU0NTY3Nw==",
          "user": {
            "login": "gabrieldemarmiesse",
            "id": 12891691,
            "node_id": "MDQ6VXNlcjEyODkxNjkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12891691?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gabrieldemarmiesse",
            "html_url": "https://github.com/gabrieldemarmiesse",
            "followers_url": "https://api.github.com/users/gabrieldemarmiesse/followers",
            "following_url": "https://api.github.com/users/gabrieldemarmiesse/following{/other_user}",
            "gists_url": "https://api.github.com/users/gabrieldemarmiesse/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gabrieldemarmiesse/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gabrieldemarmiesse/subscriptions",
            "organizations_url": "https://api.github.com/users/gabrieldemarmiesse/orgs",
            "repos_url": "https://api.github.com/users/gabrieldemarmiesse/repos",
            "events_url": "https://api.github.com/users/gabrieldemarmiesse/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gabrieldemarmiesse/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-18T20:39:45Z",
          "updated_at": "2018-09-18T20:39:45Z",
          "author_association": "CONTRIBUTOR",
          "body": "I think something is going wrong around those lines:\r\n```python\r\n# reduce weight array to same ndim as score_array (needed for\r\n# sample_weight_mode='element')\r\nif weight_ndim > K.ndim(score_array):\r\n      weights = K.reshape(weights, K.shape(score_array))\r\n```\r\nIf you do `print(K.int_shape(weights))` and `print(K.int_shape(score_array))` before the reshape, the error should be obvious. I didn't pull your branch though, so no guarantees.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/422545677/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/422621631",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-422621631",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 422621631,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjYyMTYzMQ==",
          "user": {
            "login": "rcasero",
            "id": 1219084,
            "node_id": "MDQ6VXNlcjEyMTkwODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1219084?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rcasero",
            "html_url": "https://github.com/rcasero",
            "followers_url": "https://api.github.com/users/rcasero/followers",
            "following_url": "https://api.github.com/users/rcasero/following{/other_user}",
            "gists_url": "https://api.github.com/users/rcasero/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rcasero/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rcasero/subscriptions",
            "organizations_url": "https://api.github.com/users/rcasero/orgs",
            "repos_url": "https://api.github.com/users/rcasero/repos",
            "events_url": "https://api.github.com/users/rcasero/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rcasero/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-19T02:02:11Z",
          "updated_at": "2018-09-19T13:04:39Z",
          "author_association": "NONE",
          "body": "Thanks @gabrieldemarmiesse . You were right, the problem was there. Furthermore, the patch had a conceptual error, because the element-wise weights should have the size of `score_array`, not the output. Both have been fixed with commit d5701ea76eb6a4df21a5a7dc61a9b6734c3b2d85. \r\n\r\nI still need to do some tests and write the test units.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/422621631/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/422794829",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-422794829",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 422794829,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjc5NDgyOQ==",
          "user": {
            "login": "rcasero",
            "id": 1219084,
            "node_id": "MDQ6VXNlcjEyMTkwODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1219084?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rcasero",
            "html_url": "https://github.com/rcasero",
            "followers_url": "https://api.github.com/users/rcasero/followers",
            "following_url": "https://api.github.com/users/rcasero/following{/other_user}",
            "gists_url": "https://api.github.com/users/rcasero/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rcasero/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rcasero/subscriptions",
            "organizations_url": "https://api.github.com/users/rcasero/orgs",
            "repos_url": "https://api.github.com/users/rcasero/repos",
            "events_url": "https://api.github.com/users/rcasero/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rcasero/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-19T13:04:06Z",
          "updated_at": "2018-09-19T13:04:06Z",
          "author_association": "NONE",
          "body": "My last commits broke the [10782.8 test, Python: 2.7, KERAS_BACKEND=cntk](https://travis-ci.org/keras-team/keras/jobs/430339525) in the Travis CI build, in particular `tests/test_multiprocessing.py::test_multiprocessing_predict_error`.\r\n\r\nCan't debug for the moment, because keras docker requires [`nvidia-docker`](https://github.com/NVIDIA/nvidia-docker), which doesn't accept Ubuntu 17.10 (my current distribution).\r\n\r\nOn a related note, I had to:\r\n * Edit `keras/docker/Makefile`, adding `--network host` to the build, because otherwise my computer cannot reach ubuntu servers\r\n```Makefile\r\ndocker build -t keras --build-arg python_version=$(PYTHON_VERSION) ...\r\n```\r\n * Edit `keras/docker/Dockerfile`, replacing \r\n```\r\ngit clone git://github.com/\r\n```\r\nwith\r\n```\r\ngit clone http://github.com/\r\n```\r\nand replacing \r\n```\r\npip install git+git://github.com/keras-team/keras.git\r\n```\r\nwith\r\n```\r\npip install git+http://github.com/keras-team/keras.git\r\n```\r\nbecause otherwise the `git` and `pip` commands time out without completing.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/422794829/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/422810406",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-422810406",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 422810406,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjgxMDQwNg==",
          "user": {
            "login": "gabrieldemarmiesse",
            "id": 12891691,
            "node_id": "MDQ6VXNlcjEyODkxNjkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12891691?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gabrieldemarmiesse",
            "html_url": "https://github.com/gabrieldemarmiesse",
            "followers_url": "https://api.github.com/users/gabrieldemarmiesse/followers",
            "following_url": "https://api.github.com/users/gabrieldemarmiesse/following{/other_user}",
            "gists_url": "https://api.github.com/users/gabrieldemarmiesse/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gabrieldemarmiesse/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gabrieldemarmiesse/subscriptions",
            "organizations_url": "https://api.github.com/users/gabrieldemarmiesse/orgs",
            "repos_url": "https://api.github.com/users/gabrieldemarmiesse/repos",
            "events_url": "https://api.github.com/users/gabrieldemarmiesse/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gabrieldemarmiesse/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-19T13:47:57Z",
          "updated_at": "2018-09-19T13:47:57Z",
          "author_association": "CONTRIBUTOR",
          "body": "The error is not due to your commit. It is a flaky test. I'll restart the build for you. You can also install keras cpu by folowing the instructions in `.travis.yml` to debug stuff locally.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/422810406/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/422843246",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-422843246",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 422843246,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMjg0MzI0Ng==",
          "user": {
            "login": "rcasero",
            "id": 1219084,
            "node_id": "MDQ6VXNlcjEyMTkwODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1219084?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rcasero",
            "html_url": "https://github.com/rcasero",
            "followers_url": "https://api.github.com/users/rcasero/followers",
            "following_url": "https://api.github.com/users/rcasero/following{/other_user}",
            "gists_url": "https://api.github.com/users/rcasero/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rcasero/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rcasero/subscriptions",
            "organizations_url": "https://api.github.com/users/rcasero/orgs",
            "repos_url": "https://api.github.com/users/rcasero/repos",
            "events_url": "https://api.github.com/users/rcasero/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rcasero/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-19T15:17:19Z",
          "updated_at": "2018-09-19T15:17:19Z",
          "author_association": "NONE",
          "body": "Thanks, @gabrieldemarmiesse . I'll look at `.travis.yml` for the testing.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/422843246/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423258747",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-423258747",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 423258747,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzI1ODc0Nw==",
          "user": {
            "login": "rcasero",
            "id": 1219084,
            "node_id": "MDQ6VXNlcjEyMTkwODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1219084?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rcasero",
            "html_url": "https://github.com/rcasero",
            "followers_url": "https://api.github.com/users/rcasero/followers",
            "following_url": "https://api.github.com/users/rcasero/following{/other_user}",
            "gists_url": "https://api.github.com/users/rcasero/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rcasero/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rcasero/subscriptions",
            "organizations_url": "https://api.github.com/users/rcasero/orgs",
            "repos_url": "https://api.github.com/users/rcasero/repos",
            "events_url": "https://api.github.com/users/rcasero/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rcasero/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-20T17:02:08Z",
          "updated_at": "2018-09-20T17:02:08Z",
          "author_association": "NONE",
          "body": "@fchollet your suggestions implemented in commit dbdf0023ce22061673dc5fc01a3fe02b193dd74c",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423258747/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423488775",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-423488775",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 423488775,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzQ4ODc3NQ==",
          "user": {
            "login": "gabrieldemarmiesse",
            "id": 12891691,
            "node_id": "MDQ6VXNlcjEyODkxNjkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12891691?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gabrieldemarmiesse",
            "html_url": "https://github.com/gabrieldemarmiesse",
            "followers_url": "https://api.github.com/users/gabrieldemarmiesse/followers",
            "following_url": "https://api.github.com/users/gabrieldemarmiesse/following{/other_user}",
            "gists_url": "https://api.github.com/users/gabrieldemarmiesse/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gabrieldemarmiesse/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gabrieldemarmiesse/subscriptions",
            "organizations_url": "https://api.github.com/users/gabrieldemarmiesse/orgs",
            "repos_url": "https://api.github.com/users/gabrieldemarmiesse/repos",
            "events_url": "https://api.github.com/users/gabrieldemarmiesse/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gabrieldemarmiesse/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-21T10:32:25Z",
          "updated_at": "2018-09-21T10:32:25Z",
          "author_association": "CONTRIBUTOR",
          "body": "You should add unit tests. It would allow us to know the \"health\" of the PR and to help you better. Can you add this at the end of `test_training.py`? I encourage you to run this test locally on cpu in case you'll need to debug it. Please push it and we'll be able to see better if your PR runs well :)\r\n\r\n```python\r\ndef test_elementwize_weights():\r\n\r\n    im = np.zeros((10, 5, 5, 3))\r\n    out1 = np.ones((10, 5, 5, 1))\r\n    out2 = np.ones((10, 5, 5, 2))\r\n\r\n    input_tensor = Input(shape=im.shape[1:])\r\n    main_output = Conv2D(filters=1, kernel_size=(1, 1), strides=1, padding='same',\r\n                         name='main_output')(input_tensor)\r\n    aux_output = Conv2D(filters=2, kernel_size=(1, 1), strides=3, padding='same',\r\n                        name='aux_output')(input_tensor)\r\n    model = Model(inputs=input_tensor, outputs=[main_output, aux_output])\r\n\r\n    model.compile(loss='mae', optimizer='sgd',\r\n                  sample_weight_mode=['element', 'element'])\r\n\r\n    model.fit(im, [out1, out2],\r\n              sample_weight=[out1, out2],\r\n              batch_size=3, epochs=3)\r\n```\r\nI don't guarantee that this small test will run. You may need to adapt it if it throws an error.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423488775/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/428663938",
          "html_url": "https://github.com/keras-team/keras/pull/10775#issuecomment-428663938",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10775",
          "id": 428663938,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyODY2MzkzOA==",
          "user": {
            "login": "gabrieldemarmiesse",
            "id": 12891691,
            "node_id": "MDQ6VXNlcjEyODkxNjkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12891691?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gabrieldemarmiesse",
            "html_url": "https://github.com/gabrieldemarmiesse",
            "followers_url": "https://api.github.com/users/gabrieldemarmiesse/followers",
            "following_url": "https://api.github.com/users/gabrieldemarmiesse/following{/other_user}",
            "gists_url": "https://api.github.com/users/gabrieldemarmiesse/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gabrieldemarmiesse/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gabrieldemarmiesse/subscriptions",
            "organizations_url": "https://api.github.com/users/gabrieldemarmiesse/orgs",
            "repos_url": "https://api.github.com/users/gabrieldemarmiesse/repos",
            "events_url": "https://api.github.com/users/gabrieldemarmiesse/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gabrieldemarmiesse/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-10-10T17:40:09Z",
          "updated_at": "2018-10-10T17:40:09Z",
          "author_association": "CONTRIBUTOR",
          "body": "I've dug a bit into this PR and I thing quite a lot of code needs to be changed to be able to support elementwise weighting. Here is the example to illustrate the problem (it's also a nice unit test for people who want to try to make this PR work):\r\n\r\n```python\r\ndef test_elementwise_weights():\r\n    im = np.zeros((10, 5, 5, 3))\r\n    out1 = np.ones((10, 5, 5, 1))\r\n    out2 = np.ones((10, 2, 2, 2))\r\n\r\n    input_tensor = Input(shape=im.shape[1:])\r\n    main_output = Conv2D(filters=1, kernel_size=(1, 1), strides=1, padding='same',\r\n                         name='main_output')(input_tensor)\r\n    aux_output = Conv2D(filters=2, kernel_size=(1, 1), strides=3, padding='same',\r\n                        name='aux_output')(input_tensor)\r\n    model = Model(inputs=input_tensor, outputs=[main_output, aux_output])\r\n\r\n    model.compile(loss='mae', optimizer='sgd',\r\n                  sample_weight_mode=['element', 'element'])\r\n\r\n    model.fit(im, [out1, out2],\r\n              sample_weight=[out1[..., 0], out2[..., 0]],\r\n              batch_size=3, epochs=2) # works\r\n\r\n    def dummy_loss(y_true, y_pred):\r\n        return K.mean(mae(y_true, y_pred), axis=-1)\r\n\r\n    model.compile(loss=dummy_loss, optimizer='sgd',\r\n                  sample_weight_mode=['element', 'element']) \r\n\r\n    model.fit(im, [out1, out2],\r\n              sample_weight=[out1[..., 0, 0], out2[..., 0, 0]],\r\n              batch_size=3, epochs=2) # fails here\r\n```\r\n\r\nThe issue is that **we cannot know the shape of the placeholders for the weights before computing the loss**. That means that we need to create the placeholders in the function `weighted_loss`.  In other words, we need to delay the creation of the placeholders.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/428663938/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/10417",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/10417/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/10417/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/10417/events",
      "html_url": "https://github.com/keras-team/keras/issues/10417",
      "id": 331929436,
      "node_id": "MDU6SXNzdWUzMzE5Mjk0MzY=",
      "number": 10417,
      "title": "Loading saved model fails with ValueError You are trying to load a weight file containing 1 layers into a model with 0 layers",
      "user": {
        "login": "SamuelBucheliZ",
        "id": 15050276,
        "node_id": "MDQ6VXNlcjE1MDUwMjc2",
        "avatar_url": "https://avatars.githubusercontent.com/u/15050276?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SamuelBucheliZ",
        "html_url": "https://github.com/SamuelBucheliZ",
        "followers_url": "https://api.github.com/users/SamuelBucheliZ/followers",
        "following_url": "https://api.github.com/users/SamuelBucheliZ/following{/other_user}",
        "gists_url": "https://api.github.com/users/SamuelBucheliZ/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/SamuelBucheliZ/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/SamuelBucheliZ/subscriptions",
        "organizations_url": "https://api.github.com/users/SamuelBucheliZ/orgs",
        "repos_url": "https://api.github.com/users/SamuelBucheliZ/repos",
        "events_url": "https://api.github.com/users/SamuelBucheliZ/events{/privacy}",
        "received_events_url": "https://api.github.com/users/SamuelBucheliZ/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 69,
      "created_at": "2018-06-13T10:12:53Z",
      "updated_at": "2023-04-11T22:23:14Z",
      "closed_at": "2018-11-12T23:33:53Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "This toy example\r\n```\r\nimport sys\r\nimport keras\r\nfrom keras import Sequential\r\nfrom keras.activations import linear\r\nfrom keras.engine import InputLayer\r\nfrom keras.layers import Dense\r\nfrom keras.losses import mean_squared_error\r\nfrom keras.metrics import mean_absolute_error\r\nfrom keras.models import load_model\r\nfrom keras.optimizers import sgd\r\n\r\nprint(\"Python version: \" + sys.version)\r\nprint(\"Keras version: \" + keras.__version__)\r\n\r\nmodel = Sequential()\r\nmodel.add(InputLayer(batch_input_shape=(1, 5)))\r\nmodel.add(Dense(10, activation=linear))\r\nmodel.compile(loss=mean_squared_error, optimizer=sgd(), metrics=[mean_absolute_error])\r\n\r\nmodel.save('test.h5')\r\ndel model\r\nload_model('test.h5')\r\n```\r\ngives the following output/error\r\n```\r\nUsing TensorFlow backend.\r\nPython version: 3.6.5 (default, Apr 25 2018, 14:23:58) \r\n[GCC 4.2.1 Compatible Apple LLVM 9.1.0 (clang-902.0.39.1)]\r\nKeras version: 2.2.0\r\n2018-06-13 12:02:50.570395: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA\r\nTraceback (most recent call last):\r\n  File \"/Users/samb/IdeaProjects/connect-four-challenge-client-python3/test.py\", line 22, in <module>\r\n    load_model('test.h5')\r\n  File \"/Users/samb/IdeaProjects/connect-four-challenge-client-python3/venv/lib/python3.6/site-packages/keras/engine/saving.py\", line 264, in load_model\r\n    load_weights_from_hdf5_group(f['model_weights'], model.layers)\r\n  File \"/Users/samb/IdeaProjects/connect-four-challenge-client-python3/venv/lib/python3.6/site-packages/keras/engine/saving.py\", line 901, in load_weights_from_hdf5_group\r\n    str(len(filtered_layers)) + ' layers.')\r\nValueError: You are trying to load a weight file containing 1 layers into a model with 0 layers.\r\n```\r\n\r\nLooking at https://github.com/keras-team/keras/blob/2.2.0/keras/engine/saving.py#L883 when debugging, I see that in\r\n```\r\n    filtered_layers = []\r\n    for layer in layers:\r\n        weights = layer.weights\r\n        if weights:\r\n          filtered_layers.append(layer)\r\n```\r\nthe value of `weights` is always the empty list `[]` whereas in the subsequent block\r\n```\r\n    layer_names = filtered_layer_names\r\n    if len(layer_names) != len(filtered_layers):\r\n        raise ValueError('You are trying to load a weight file '\r\n                         'containing ' + str(len(layer_names)) +\r\n                         ' layers into a model with ' +\r\n                         str(len(filtered_layers)) + ' layers.')\r\n```\r\nthe value of `layer_names` (respectively, `filtered_layer_names`), is the singleton list `['dense_1']` leading to the error message shown above.\r\n\r\nI'm not quite certain what the cause of the problem is. Is something going wrong in saving the model? Or is something wrong when loading the model (before loading the weights)? Or is something wrong in this logic for loading the weights?\r\n```",
      "closed_by": {
        "login": "wt-huang",
        "id": 42785337,
        "node_id": "MDQ6VXNlcjQyNzg1MzM3",
        "avatar_url": "https://avatars.githubusercontent.com/u/42785337?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/wt-huang",
        "html_url": "https://github.com/wt-huang",
        "followers_url": "https://api.github.com/users/wt-huang/followers",
        "following_url": "https://api.github.com/users/wt-huang/following{/other_user}",
        "gists_url": "https://api.github.com/users/wt-huang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/wt-huang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/wt-huang/subscriptions",
        "organizations_url": "https://api.github.com/users/wt-huang/orgs",
        "repos_url": "https://api.github.com/users/wt-huang/repos",
        "events_url": "https://api.github.com/users/wt-huang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/wt-huang/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/10417/reactions",
        "total_count": 36,
        "+1": 31,
        "-1": 0,
        "laugh": 4,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 1
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/10417/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/396940048",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-396940048",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 396940048,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM5Njk0MDA0OA==",
          "user": {
            "login": "memurex",
            "id": 40238894,
            "node_id": "MDQ6VXNlcjQwMjM4ODk0",
            "avatar_url": "https://avatars.githubusercontent.com/u/40238894?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/memurex",
            "html_url": "https://github.com/memurex",
            "followers_url": "https://api.github.com/users/memurex/followers",
            "following_url": "https://api.github.com/users/memurex/following{/other_user}",
            "gists_url": "https://api.github.com/users/memurex/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/memurex/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/memurex/subscriptions",
            "organizations_url": "https://api.github.com/users/memurex/orgs",
            "repos_url": "https://api.github.com/users/memurex/repos",
            "events_url": "https://api.github.com/users/memurex/events{/privacy}",
            "received_events_url": "https://api.github.com/users/memurex/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-06-13T13:37:34Z",
          "updated_at": "2018-06-13T13:40:54Z",
          "author_association": "NONE",
          "body": "I've got the same problem after I updated keras from 2.0.8 to 2.2.\r\nI can still load my old models but not the newly created.\r\nI can also reproduce this error using your example code after changing line 22 to \r\n`keras.models.load_model('test.h5')`\r\n\r\nI hope someone can help.\r\n\r\nedit:\r\nSaving in two files as jason and weights didn't help either.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/396940048/reactions",
            "total_count": 23,
            "+1": 23,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/397218224",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-397218224",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 397218224,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzIxODIyNA==",
          "user": {
            "login": "SamuelBucheliZ",
            "id": 15050276,
            "node_id": "MDQ6VXNlcjE1MDUwMjc2",
            "avatar_url": "https://avatars.githubusercontent.com/u/15050276?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SamuelBucheliZ",
            "html_url": "https://github.com/SamuelBucheliZ",
            "followers_url": "https://api.github.com/users/SamuelBucheliZ/followers",
            "following_url": "https://api.github.com/users/SamuelBucheliZ/following{/other_user}",
            "gists_url": "https://api.github.com/users/SamuelBucheliZ/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SamuelBucheliZ/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SamuelBucheliZ/subscriptions",
            "organizations_url": "https://api.github.com/users/SamuelBucheliZ/orgs",
            "repos_url": "https://api.github.com/users/SamuelBucheliZ/repos",
            "events_url": "https://api.github.com/users/SamuelBucheliZ/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SamuelBucheliZ/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-06-14T08:41:21Z",
          "updated_at": "2018-06-14T08:41:21Z",
          "author_association": "NONE",
          "body": "I managed to narrow down the problem, it seems to boil down to using the 'input_shape' parameter or not. The following code does not give the `ValueError`\r\n```\r\nimport sys\r\n\r\nimport keras\r\nfrom keras import Sequential\r\nfrom keras import losses\r\nfrom keras import metrics\r\nfrom keras import optimizers\r\nfrom keras.activations import linear\r\nfrom keras.engine import InputLayer\r\nfrom keras.layers import Dense\r\nfrom keras.models import load_model\r\n\r\nprint(\"Python version: \" + sys.version)\r\nprint(\"Keras version: \" + keras.__version__)\r\n\r\nmodel = Sequential()\r\nmodel.add(InputLayer(batch_input_shape=(1, 5)))\r\nmodel.add(Dense(10, input_shape=(5,), activation=linear))\r\nmodel.compile(loss=losses.mean_squared_error,\r\n              optimizer=optimizers.sgd(),\r\n              metrics=[metrics.mean_absolute_error])\r\n\r\nmodel.save('test.h5')\r\ndel model\r\nload_model('test.h5')\r\n```\r\n\r\nThe only difference to the code above is that now the dense layer has the additional parameter `input_shape` set.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/397218224/reactions",
            "total_count": 19,
            "+1": 19,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/397263523",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-397263523",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 397263523,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzI2MzUyMw==",
          "user": {
            "login": "memurex",
            "id": 40238894,
            "node_id": "MDQ6VXNlcjQwMjM4ODk0",
            "avatar_url": "https://avatars.githubusercontent.com/u/40238894?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/memurex",
            "html_url": "https://github.com/memurex",
            "followers_url": "https://api.github.com/users/memurex/followers",
            "following_url": "https://api.github.com/users/memurex/following{/other_user}",
            "gists_url": "https://api.github.com/users/memurex/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/memurex/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/memurex/subscriptions",
            "organizations_url": "https://api.github.com/users/memurex/orgs",
            "repos_url": "https://api.github.com/users/memurex/repos",
            "events_url": "https://api.github.com/users/memurex/events{/privacy}",
            "received_events_url": "https://api.github.com/users/memurex/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-06-14T11:34:38Z",
          "updated_at": "2018-06-14T11:34:38Z",
          "author_association": "NONE",
          "body": "Thanks!\r\nLooks like I put a bracket wrong.\r\n\r\nThis works.\r\n`model.add(Bidirectional(LSTM(\r\n    hidden_List[0],\r\n    return_sequences=True,\r\n    activation=\"tanh\"),\r\n    input_shape=shape))`\r\n\r\n\r\nThis doesn't.\r\n`model.add(Bidirectional(LSTM(\r\n    hidden_List[0],\r\n    return_sequences=True,\r\n    input_shape=shape,\r\n    activation=\"tanh\")))`\r\n\r\nIt even throws a NotImplementedError. \r\nI don't know why this error wasn't thrown on my larger project. But at last it works.\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/397263523/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/402696659",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-402696659",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 402696659,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjY5NjY1OQ==",
          "user": {
            "login": "juliojj",
            "id": 22496215,
            "node_id": "MDQ6VXNlcjIyNDk2MjE1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22496215?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/juliojj",
            "html_url": "https://github.com/juliojj",
            "followers_url": "https://api.github.com/users/juliojj/followers",
            "following_url": "https://api.github.com/users/juliojj/following{/other_user}",
            "gists_url": "https://api.github.com/users/juliojj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/juliojj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/juliojj/subscriptions",
            "organizations_url": "https://api.github.com/users/juliojj/orgs",
            "repos_url": "https://api.github.com/users/juliojj/repos",
            "events_url": "https://api.github.com/users/juliojj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/juliojj/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-07-05T11:48:39Z",
          "updated_at": "2018-07-05T11:48:39Z",
          "author_association": "NONE",
          "body": "I had the same problem when I tried to fine-tune a vgg16 model. It happened when I upgraded from keras 2.1.6 to 2.2.0. The solution proposed above didn't work for me :( and the only way I found was to downgrade keras to the previous version (2.1.6).",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/402696659/reactions",
            "total_count": 10,
            "+1": 10,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/403849164",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-403849164",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 403849164,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzg0OTE2NA==",
          "user": {
            "login": "jeffreynghm",
            "id": 10259519,
            "node_id": "MDQ6VXNlcjEwMjU5NTE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/10259519?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jeffreynghm",
            "html_url": "https://github.com/jeffreynghm",
            "followers_url": "https://api.github.com/users/jeffreynghm/followers",
            "following_url": "https://api.github.com/users/jeffreynghm/following{/other_user}",
            "gists_url": "https://api.github.com/users/jeffreynghm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jeffreynghm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jeffreynghm/subscriptions",
            "organizations_url": "https://api.github.com/users/jeffreynghm/orgs",
            "repos_url": "https://api.github.com/users/jeffreynghm/repos",
            "events_url": "https://api.github.com/users/jeffreynghm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jeffreynghm/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-07-10T14:46:09Z",
          "updated_at": "2018-07-10T14:46:09Z",
          "author_association": "NONE",
          "body": "I had the same problem: I cannot load a H5py model saved earlier. with \"ValueError You are trying to load a weight file containing [X](model layer) layers into a model with 0 layers \"\r\n\r\nDowngrading to 2.1.0 solved my problem.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/403849164/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/410982689",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-410982689",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 410982689,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDk4MjY4OQ==",
          "user": {
            "login": "FrankNiemeyer",
            "id": 12682948,
            "node_id": "MDQ6VXNlcjEyNjgyOTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/12682948?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/FrankNiemeyer",
            "html_url": "https://github.com/FrankNiemeyer",
            "followers_url": "https://api.github.com/users/FrankNiemeyer/followers",
            "following_url": "https://api.github.com/users/FrankNiemeyer/following{/other_user}",
            "gists_url": "https://api.github.com/users/FrankNiemeyer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/FrankNiemeyer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/FrankNiemeyer/subscriptions",
            "organizations_url": "https://api.github.com/users/FrankNiemeyer/orgs",
            "repos_url": "https://api.github.com/users/FrankNiemeyer/repos",
            "events_url": "https://api.github.com/users/FrankNiemeyer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/FrankNiemeyer/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-08-07T08:47:52Z",
          "updated_at": "2018-08-07T08:47:52Z",
          "author_association": "NONE",
          "body": "Yep, downgrading to Keras 2.1.x also solved the problem for me, too, just as reported by @jeffreynghm and @juliojj.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/410982689/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/415238740",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-415238740",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 415238740,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTIzODc0MA==",
          "user": {
            "login": "Mister7F",
            "id": 35213773,
            "node_id": "MDQ6VXNlcjM1MjEzNzcz",
            "avatar_url": "https://avatars.githubusercontent.com/u/35213773?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Mister7F",
            "html_url": "https://github.com/Mister7F",
            "followers_url": "https://api.github.com/users/Mister7F/followers",
            "following_url": "https://api.github.com/users/Mister7F/following{/other_user}",
            "gists_url": "https://api.github.com/users/Mister7F/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Mister7F/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Mister7F/subscriptions",
            "organizations_url": "https://api.github.com/users/Mister7F/orgs",
            "repos_url": "https://api.github.com/users/Mister7F/repos",
            "events_url": "https://api.github.com/users/Mister7F/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Mister7F/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-08-23T01:09:26Z",
          "updated_at": "2018-08-23T01:09:26Z",
          "author_association": "NONE",
          "body": "I have the same problem... Is it an error in Keras or in our code ? Do you think it will be fixed for the next update ?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/415238740/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/415905336",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-415905336",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 415905336,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTkwNTMzNg==",
          "user": {
            "login": "iretiayo",
            "id": 7465068,
            "node_id": "MDQ6VXNlcjc0NjUwNjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7465068?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/iretiayo",
            "html_url": "https://github.com/iretiayo",
            "followers_url": "https://api.github.com/users/iretiayo/followers",
            "following_url": "https://api.github.com/users/iretiayo/following{/other_user}",
            "gists_url": "https://api.github.com/users/iretiayo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/iretiayo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/iretiayo/subscriptions",
            "organizations_url": "https://api.github.com/users/iretiayo/orgs",
            "repos_url": "https://api.github.com/users/iretiayo/repos",
            "events_url": "https://api.github.com/users/iretiayo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/iretiayo/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-08-24T23:10:45Z",
          "updated_at": "2018-08-24T23:10:45Z",
          "author_association": "NONE",
          "body": "The following code snippet isolates the error. It seems the problem happens when **InputLayer** is used. _model1_ saves and loads fine but _model2_ (the same single-layer model)  fails. The only difference: _model2_ uses InputLayer.\r\n\r\n```\r\nfrom keras.models import Sequential, load_model\r\nfrom keras.layers import Conv2D, Input, InputLayer\r\n\r\n# without InputLayer\r\nmodel1 = Sequential()\r\nmodel1.add(Conv2D(32, (5, 5), input_shape=(64,64,3)))\r\n\r\nmodel1.save('test.hdf5')\r\nmodel_from_file = load_model('test.hdf5')\r\nprint(\"Loaded model 1 from file successful\")\r\n\r\n# with InputLayer --> causes error when loading saved model\r\nmodel2 = Sequential()\r\nmodel2.add(InputLayer(input_shape=(64,64,3)))\r\nmodel2.add(Conv2D(32, (5, 5)))\r\n\r\nmodel2.save('test2.hdf5')\r\nmodel_from_file = load_model('test2.hdf5')\r\nprint(\"Loaded model 2 from file successful\")\r\n```\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/415905336/reactions",
            "total_count": 37,
            "+1": 21,
            "-1": 0,
            "laugh": 5,
            "hooray": 5,
            "confused": 0,
            "heart": 5,
            "rocket": 1,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/415916785",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-415916785",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 415916785,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTkxNjc4NQ==",
          "user": {
            "login": "iretiayo",
            "id": 7465068,
            "node_id": "MDQ6VXNlcjc0NjUwNjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7465068?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/iretiayo",
            "html_url": "https://github.com/iretiayo",
            "followers_url": "https://api.github.com/users/iretiayo/followers",
            "following_url": "https://api.github.com/users/iretiayo/following{/other_user}",
            "gists_url": "https://api.github.com/users/iretiayo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/iretiayo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/iretiayo/subscriptions",
            "organizations_url": "https://api.github.com/users/iretiayo/orgs",
            "repos_url": "https://api.github.com/users/iretiayo/repos",
            "events_url": "https://api.github.com/users/iretiayo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/iretiayo/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-08-25T00:48:21Z",
          "updated_at": "2018-08-25T00:48:21Z",
          "author_association": "NONE",
          "body": "... continuing from above, I probed further and noticed that it runs into an issue the saved model_config differ [here](https://github.com/keras-team/keras/blob/master/keras/engine/saving.py#L260) and is unable to load the weights.\r\n\r\nFrom visual inspection, the main difference is that model_config for model2 (that uses InputLayer) does not have _batch_input_shape_ element for the conv layer.\r\n\r\nI'm not exactly sure how to fix it. Just leaving bread crumbs for someone that is more familiar with the keras codebase.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/415916785/reactions",
            "total_count": 6,
            "+1": 6,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/416951896",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-416951896",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 416951896,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxNjk1MTg5Ng==",
          "user": {
            "login": "Huii",
            "id": 1932726,
            "node_id": "MDQ6VXNlcjE5MzI3MjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1932726?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Huii",
            "html_url": "https://github.com/Huii",
            "followers_url": "https://api.github.com/users/Huii/followers",
            "following_url": "https://api.github.com/users/Huii/following{/other_user}",
            "gists_url": "https://api.github.com/users/Huii/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Huii/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Huii/subscriptions",
            "organizations_url": "https://api.github.com/users/Huii/orgs",
            "repos_url": "https://api.github.com/users/Huii/repos",
            "events_url": "https://api.github.com/users/Huii/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Huii/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-08-29T13:24:36Z",
          "updated_at": "2018-08-29T13:24:36Z",
          "author_association": "NONE",
          "body": "I had this problem for a model with dropout in the input layer. It looked as follows:\r\n\r\n```\r\n    model = Sequential()\r\n    model.add(Dropout(0.5))\r\n    model.add(Dense(500, activation='relu', input_dim=inputDimension))\r\n    ....\r\n```\r\nCommenting the line \"model.add(Dropout(0.5))\" out, fixed the weight loading issue for me.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/416951896/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/418058815",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-418058815",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 418058815,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxODA1ODgxNQ==",
          "user": {
            "login": "gillesdegottex",
            "id": 4386879,
            "node_id": "MDQ6VXNlcjQzODY4Nzk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4386879?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gillesdegottex",
            "html_url": "https://github.com/gillesdegottex",
            "followers_url": "https://api.github.com/users/gillesdegottex/followers",
            "following_url": "https://api.github.com/users/gillesdegottex/following{/other_user}",
            "gists_url": "https://api.github.com/users/gillesdegottex/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gillesdegottex/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gillesdegottex/subscriptions",
            "organizations_url": "https://api.github.com/users/gillesdegottex/orgs",
            "repos_url": "https://api.github.com/users/gillesdegottex/repos",
            "events_url": "https://api.github.com/users/gillesdegottex/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gillesdegottex/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-03T09:35:26Z",
          "updated_at": "2018-09-04T14:19:45Z",
          "author_association": "NONE",
          "body": "As a follow up of @SamuelBucheliZ comment on the 14th:\r\nThe presence of InputLayer definitely triggers the issue.\r\nIn my case repeating the input_shape in both InputLayer and Dense constructors does the trick (no need of using batch_input_shape).\r\n\r\nSomething like:\r\n```\r\nmodel = Sequential()\r\nmodel.add(InputLayer(input_shape=(5,)))\r\nmodel.add(Dense(10, input_shape=(5,), activation=linear))\r\n```\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/418058815/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/418511814",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-418511814",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 418511814,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxODUxMTgxNA==",
          "user": {
            "login": "MmAlder",
            "id": 179253,
            "node_id": "MDQ6VXNlcjE3OTI1Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/179253?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MmAlder",
            "html_url": "https://github.com/MmAlder",
            "followers_url": "https://api.github.com/users/MmAlder/followers",
            "following_url": "https://api.github.com/users/MmAlder/following{/other_user}",
            "gists_url": "https://api.github.com/users/MmAlder/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MmAlder/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MmAlder/subscriptions",
            "organizations_url": "https://api.github.com/users/MmAlder/orgs",
            "repos_url": "https://api.github.com/users/MmAlder/repos",
            "events_url": "https://api.github.com/users/MmAlder/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MmAlder/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-04T20:45:27Z",
          "updated_at": "2018-09-04T21:46:25Z",
          "author_association": "NONE",
          "body": "The problem appears to be that Sequential.get_config() references self.layers rather than self._layers\r\n\r\n```\r\n  def layers(self):\r\n    # Historically, `sequential.layers` only returns layers that were added\r\n    # via `add`, and omits the auto-generated `InputLayer` that comes at the\r\n    # bottom of the stack.\r\n    if self._layers and isinstance(self._layers[0], InputLayer):\r\n      return self._layers[1:]\r\n    return self._layers\r\n\r\n```\r\nso no input shape gets saved (no matter whether InputLayer was implicitly or explicitly added) and the delayed-build pattern is used, which does not set any weights, and so it looks like the model has no layers with weights.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/418511814/reactions",
            "total_count": 7,
            "+1": 7,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/420444424",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-420444424",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 420444424,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDQ0NDQyNA==",
          "user": {
            "login": "ismaproco",
            "id": 180197,
            "node_id": "MDQ6VXNlcjE4MDE5Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/180197?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ismaproco",
            "html_url": "https://github.com/ismaproco",
            "followers_url": "https://api.github.com/users/ismaproco/followers",
            "following_url": "https://api.github.com/users/ismaproco/following{/other_user}",
            "gists_url": "https://api.github.com/users/ismaproco/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ismaproco/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ismaproco/subscriptions",
            "organizations_url": "https://api.github.com/users/ismaproco/orgs",
            "repos_url": "https://api.github.com/users/ismaproco/repos",
            "events_url": "https://api.github.com/users/ismaproco/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ismaproco/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-11T22:15:34Z",
          "updated_at": "2018-09-11T22:15:34Z",
          "author_association": "NONE",
          "body": "Same issue using tensorflow 1.9 and Keras 2.2.2\r\n\r\nModel definition without input_shape defined.\r\n\r\n```\r\nmodel = tf.keras.models.Sequential()\r\nmodel.add(tf.keras.layers.Flatten())\r\nmodel.add(tf.keras.layers.Dense(128, activation = tf.nn.relu))\r\nmodel.add(tf.keras.layers.Dense(128, activation = tf.nn.relu))\r\nmodel.add(tf.keras.layers.Dense(10, activation = tf.nn.softmax))\r\n```\r\nSaving and loading the model\r\n\r\n```\r\nmodel.save('epic_num_reader.model')\r\ntf.keras.models.load_model('epic_num_reader.model')\r\n```\r\n\r\nThe full code is the same as the one in this video, https://www.youtube.com/watch?v=wQ8BIBpya2k\r\n\r\nError: \r\n\r\n```\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-33-0aee9b4f4fad> in <module>()\r\n----> 1 tf.keras.models.load_model('epic_num_reader.model')\r\n\r\n/usr/local/lib/python3.5/dist-packages/tensorflow/python/keras/engine/saving.py in load_model(filepath, custom_objects, compile)\r\n    230 \r\n    231     # set weights\r\n--> 232     load_weights_from_hdf5_group(f['model_weights'], model.layers)\r\n    233 \r\n    234     if compile:\r\n\r\n/usr/local/lib/python3.5/dist-packages/tensorflow/python/keras/engine/saving.py in load_weights_from_hdf5_group(f, layers)\r\n    730                      'containing ' + str(len(layer_names)) +\r\n    731                      ' layers into a model with ' + str(len(filtered_layers)) +\r\n--> 732                      ' layers.')\r\n    733 \r\n    734   # We batch weight value assignments in a single backend call\r\n\r\nValueError: You are trying to load a weight file containing 3 layers into a model with 0 layers.\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/420444424/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/420693809",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-420693809",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 420693809,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDY5MzgwOQ==",
          "user": {
            "login": "MmAlder",
            "id": 179253,
            "node_id": "MDQ6VXNlcjE3OTI1Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/179253?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MmAlder",
            "html_url": "https://github.com/MmAlder",
            "followers_url": "https://api.github.com/users/MmAlder/followers",
            "following_url": "https://api.github.com/users/MmAlder/following{/other_user}",
            "gists_url": "https://api.github.com/users/MmAlder/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MmAlder/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MmAlder/subscriptions",
            "organizations_url": "https://api.github.com/users/MmAlder/orgs",
            "repos_url": "https://api.github.com/users/MmAlder/repos",
            "events_url": "https://api.github.com/users/MmAlder/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MmAlder/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-12T15:35:00Z",
          "updated_at": "2018-09-12T15:52:00Z",
          "author_association": "NONE",
          "body": "@ismaproco your problem might be different since you are not using InputLayer.\r\n\r\nFirst, I see you're using `tf.__version__` 1.9.0.  You might want to upgrade to 1.10.0.\r\nAnd you're invoking the Keras that comes with TensorFlow, so you would find the version as `tf.keras.__version__` and it would probably be something like 2.1.6-tf\r\n\r\nBut, to diagnose the problem, from the command line run\r\n`pip install h5json`\r\nNote where the package is installed, then from the command line in the directory with your saved model\r\n`[installation directory]/h5json/h5tojson/h5tojson.py -d epic_num_reader.model >epic_num_reader.json`\r\nThen load the JSON file in your favorite editor and search for \"input\".  It should look something like\r\n `\"value\": \"{\\\"class_name\\\": \\\"Sequential\\\", \\\"config\\\": [{\\\"class_name\\\": \\\"InputLayer\\\", \\\"config\\\": {\\\"batch_input_shape\\\": [null, 28, 28], \\\"dtype\\\": \\\"float32\\\", \\\"sparse\\\": false, \\\"name\\\": \\\"sequential_input\\\"}}, {\\\"class_name\\\": \\\"Flatten\\\", \\\"config\\\": {\\\"name\\\": \\\"flatten\\\", \\\"trainable\\\": true, \\\"batch_input_shape\\\": [null, 28, 28], \\\"dtype\\\": \\\"float32\\\", \\\"data_format\\\": \\\"channels_last\\\"}},`\r\nAlthough you won't have the InputLayer there, you should see batch_input_shape in the Flatten definition.  ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/420693809/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/420818541",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-420818541",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 420818541,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDgxODU0MQ==",
          "user": {
            "login": "ismaproco",
            "id": 180197,
            "node_id": "MDQ6VXNlcjE4MDE5Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/180197?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ismaproco",
            "html_url": "https://github.com/ismaproco",
            "followers_url": "https://api.github.com/users/ismaproco/followers",
            "following_url": "https://api.github.com/users/ismaproco/following{/other_user}",
            "gists_url": "https://api.github.com/users/ismaproco/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ismaproco/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ismaproco/subscriptions",
            "organizations_url": "https://api.github.com/users/ismaproco/orgs",
            "repos_url": "https://api.github.com/users/ismaproco/repos",
            "events_url": "https://api.github.com/users/ismaproco/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ismaproco/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-12T22:26:33Z",
          "updated_at": "2018-09-12T22:26:47Z",
          "author_association": "NONE",
          "body": "> @ismaproco your problem might be different since you are not using InputLayer.\r\n> \r\n> First, I see you're using `tf.__version__` 1.9.0. You might want to upgrade to 1.10.0.\r\n> And you're invoking the Keras that comes with TensorFlow, so you would find the version as `tf.keras.__version__` and it would probably be something like 2.1.6-tf\r\n> \r\n> But, to diagnose the problem, from the command line run\r\n> `pip install h5json`\r\n> Note where the package is installed, then from the command line in the directory with your saved model\r\n> `[installation directory]/h5json/h5tojson/h5tojson.py -d epic_num_reader.model >epic_num_reader.json`\r\n> Then load the JSON file in your favorite editor and search for \"input\". It should look something like\r\n> `\"value\": \"{\\\"class_name\\\": \\\"Sequential\\\", \\\"config\\\": [{\\\"class_name\\\": \\\"InputLayer\\\", \\\"config\\\": {\\\"batch_input_shape\\\": [null, 28, 28], \\\"dtype\\\": \\\"float32\\\", \\\"sparse\\\": false, \\\"name\\\": \\\"sequential_input\\\"}}, {\\\"class_name\\\": \\\"Flatten\\\", \\\"config\\\": {\\\"name\\\": \\\"flatten\\\", \\\"trainable\\\": true, \\\"batch_input_shape\\\": [null, 28, 28], \\\"dtype\\\": \\\"float32\\\", \\\"data_format\\\": \\\"channels_last\\\"}},`\r\n> Although you won't have the InputLayer there, you should see batch_input_shape in the Flatten definition.\r\n\r\nthank @MmAlder upgrading to tf 1.10.0 fixed my issue\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/420818541/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423729853",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-423729853",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 423729853,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzcyOTg1Mw==",
          "user": {
            "login": "prativadas",
            "id": 35651955,
            "node_id": "MDQ6VXNlcjM1NjUxOTU1",
            "avatar_url": "https://avatars.githubusercontent.com/u/35651955?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/prativadas",
            "html_url": "https://github.com/prativadas",
            "followers_url": "https://api.github.com/users/prativadas/followers",
            "following_url": "https://api.github.com/users/prativadas/following{/other_user}",
            "gists_url": "https://api.github.com/users/prativadas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/prativadas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/prativadas/subscriptions",
            "organizations_url": "https://api.github.com/users/prativadas/orgs",
            "repos_url": "https://api.github.com/users/prativadas/repos",
            "events_url": "https://api.github.com/users/prativadas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/prativadas/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-22T09:19:08Z",
          "updated_at": "2018-09-22T09:19:08Z",
          "author_association": "NONE",
          "body": "model.add(tf.keras.layers.Flatten())  # takes our 28x28 and makes it 1x784\r\nCHANGE THE PREVIOUS LINE TO\r\n**model.add(tf.keras.layers.Flatten(input_shape=(28, 28)))**\r\n\r\n #ERROR RESOLVED : ValueError: You are trying to load a weight file containing 3 layers into a model with 0 layers.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423729853/reactions",
            "total_count": 4,
            "+1": 3,
            "-1": 1,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/425559704",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-425559704",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 425559704,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTU1OTcwNA==",
          "user": {
            "login": "MmAlder",
            "id": 179253,
            "node_id": "MDQ6VXNlcjE3OTI1Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/179253?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MmAlder",
            "html_url": "https://github.com/MmAlder",
            "followers_url": "https://api.github.com/users/MmAlder/followers",
            "following_url": "https://api.github.com/users/MmAlder/following{/other_user}",
            "gists_url": "https://api.github.com/users/MmAlder/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MmAlder/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MmAlder/subscriptions",
            "organizations_url": "https://api.github.com/users/MmAlder/orgs",
            "repos_url": "https://api.github.com/users/MmAlder/repos",
            "events_url": "https://api.github.com/users/MmAlder/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MmAlder/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-28T20:41:22Z",
          "updated_at": "2018-09-28T20:41:22Z",
          "author_association": "NONE",
          "body": "@prativadas That doesn't really resolve the problem.  It's just a work-around.  Remember that the model was built, trained, and saved without difficulty.  The error arises when attempting to load the model.  Changing the way the model was built can avoid the problem, but when you're trying to load a trained model, rebuilding it is often not an option.  It is a better idea to fix the code.  Changing Sequential.get_config() as I described above would do that.  I did it locally and it works for me, but I didn't exhaustively test it and I don't have a copy of the GitHub repo to generate a pull request anyway.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/425559704/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/430265667",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-430265667",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 430265667,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDI2NTY2Nw==",
          "user": {
            "login": "Duncan-tree-zhou",
            "id": 5753266,
            "node_id": "MDQ6VXNlcjU3NTMyNjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5753266?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Duncan-tree-zhou",
            "html_url": "https://github.com/Duncan-tree-zhou",
            "followers_url": "https://api.github.com/users/Duncan-tree-zhou/followers",
            "following_url": "https://api.github.com/users/Duncan-tree-zhou/following{/other_user}",
            "gists_url": "https://api.github.com/users/Duncan-tree-zhou/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Duncan-tree-zhou/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Duncan-tree-zhou/subscriptions",
            "organizations_url": "https://api.github.com/users/Duncan-tree-zhou/orgs",
            "repos_url": "https://api.github.com/users/Duncan-tree-zhou/repos",
            "events_url": "https://api.github.com/users/Duncan-tree-zhou/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Duncan-tree-zhou/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-10-16T14:44:36Z",
          "updated_at": "2018-10-16T14:44:36Z",
          "author_association": "NONE",
          "body": "for some information, the input layer infomation is missing in 2.2.0, compare to 2.1.6\r\n\r\nthe object \r\n```\r\n{\r\n\t\t\"class_name\": \"InputLayer\",\r\n\t\t\"config\": {\r\n\t\t\t\"batch_input_shape\": [null, 64, 64, 3],\r\n\t\t\t\"dtype\": \"float32\",\r\n\t\t\t\"sparse\": false,\r\n\t\t\t\"name\": \"input_1\"\r\n\t\t}\r\n} \r\n```\r\nis missing\r\n\r\nin 2.2.0 \r\n```\r\n{\r\n\t\"class_name\": \"Sequential\",\r\n\t\"config\": [{\r\n\t\t\"class_name\": \"Conv2D\",\r\n\t\t\"config\": {\r\n\t\t\t\"name\": \"conv2d_2\",\r\n\t\t\t\"trainable\": true,\r\n\t\t\t\"filters\": 32,\r\n\t\t\t\"kernel_size\": [5, 5],\r\n\t\t\t\"strides\": [1, 1],\r\n\t\t\t\"padding\": \"valid\",\r\n\t\t\t\"data_format\": \"channels_last\",\r\n\t\t\t\"dilation_rate\": [1, 1],\r\n\t\t\t\"activation\": \"linear\",\r\n\t\t\t\"use_bias\": true,\r\n\t\t\t\"kernel_initializer\": {\r\n\t\t\t\t\"class_name\": \"VarianceScaling\",\r\n\t\t\t\t\"config\": {\r\n\t\t\t\t\t\"scale\": 1.0,\r\n\t\t\t\t\t\"mode\": \"fan_avg\",\r\n\t\t\t\t\t\"distribution\": \"uniform\",\r\n\t\t\t\t\t\"seed\": null\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"bias_initializer\": {\r\n\t\t\t\t\"class_name\": \"Zeros\",\r\n\t\t\t\t\"config\": {}\r\n\t\t\t},\r\n\t\t\t\"kernel_regularizer\": null,\r\n\t\t\t\"bias_regularizer\": null,\r\n\t\t\t\"activity_regularizer\": null,\r\n\t\t\t\"kernel_constraint\": null,\r\n\t\t\t\"bias_constraint\": null\r\n\t\t}\r\n\t}]\r\n}\r\n```\r\n\r\nin 2.1.6\r\n```\r\n{\r\n\t\"class_name\": \"Sequential\",\r\n\t\"config\": [{\r\n\t\t\"class_name\": \"InputLayer\",\r\n\t\t\"config\": {\r\n\t\t\t\"batch_input_shape\": [null, 64, 64, 3],\r\n\t\t\t\"dtype\": \"float32\",\r\n\t\t\t\"sparse\": false,\r\n\t\t\t\"name\": \"input_1\"\r\n\t\t}\r\n\t}, {\r\n\t\t\"class_name\": \"Conv2D\",\r\n\t\t\"config\": {\r\n\t\t\t\"name\": \"conv2d_2\",\r\n\t\t\t\"trainable\": true,\r\n\t\t\t\"filters\": 32,\r\n\t\t\t\"kernel_size\": [5, 5],\r\n\t\t\t\"strides\": [1, 1],\r\n\t\t\t\"padding\": \"valid\",\r\n\t\t\t\"data_format\": \"channels_last\",\r\n\t\t\t\"dilation_rate\": [1, 1],\r\n\t\t\t\"activation\": \"linear\",\r\n\t\t\t\"use_bias\": true,\r\n\t\t\t\"kernel_initializer\": {\r\n\t\t\t\t\"class_name\": \"VarianceScaling\",\r\n\t\t\t\t\"config\": {\r\n\t\t\t\t\t\"scale\": 1.0,\r\n\t\t\t\t\t\"mode\": \"fan_avg\",\r\n\t\t\t\t\t\"distribution\": \"uniform\",\r\n\t\t\t\t\t\"seed\": null\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"bias_initializer\": {\r\n\t\t\t\t\"class_name\": \"Zeros\",\r\n\t\t\t\t\"config\": {}\r\n\t\t\t},\r\n\t\t\t\"kernel_regularizer\": null,\r\n\t\t\t\"bias_regularizer\": null,\r\n\t\t\t\"activity_regularizer\": null,\r\n\t\t\t\"kernel_constraint\": null,\r\n\t\t\t\"bias_constraint\": null\r\n\t\t}\r\n\t}]\r\n}\r\n```\r\n\r\n\r\nall above was created by code provide by iretiayo commented on 25 Aug\r\n\r\n```\r\nfrom keras.models import Sequential, load_model\r\nfrom keras.layers import Conv2D, Input, InputLayer\r\n\r\n# without InputLayer\r\n# model1 = Sequential()\r\n# model1.add(Conv2D(32, (5, 5), input_shape=(64,64,3)))\r\n# \r\n# model1.save('keras-2.2.0-model1.hdf5')\r\n# model_from_file = load_model('keras-2.2.0-model1.hdf5')\r\n# print(\"Loaded model 1 from file successful\")\r\n\r\n# with InputLayer --> causes error when loading saved model\r\nmodel2 = Sequential()\r\nmodel2.add(InputLayer(input_shape=(64,64,3)))\r\nmodel2.add(Conv2D(32, (5, 5)))\r\n\r\nmodel2.save('keras-2.2.0-model2.hdf5')\r\nmodel_from_file = load_model('keras-2.2.0-model2.hdf5')\r\nprint(\"Loaded model 2 from file successful\")\r\n```\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/430265667/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/431349267",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-431349267",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 431349267,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTM0OTI2Nw==",
          "user": {
            "login": "Ketan14a",
            "id": 44284908,
            "node_id": "MDQ6VXNlcjQ0Mjg0OTA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/44284908?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Ketan14a",
            "html_url": "https://github.com/Ketan14a",
            "followers_url": "https://api.github.com/users/Ketan14a/followers",
            "following_url": "https://api.github.com/users/Ketan14a/following{/other_user}",
            "gists_url": "https://api.github.com/users/Ketan14a/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Ketan14a/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Ketan14a/subscriptions",
            "organizations_url": "https://api.github.com/users/Ketan14a/orgs",
            "repos_url": "https://api.github.com/users/Ketan14a/repos",
            "events_url": "https://api.github.com/users/Ketan14a/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Ketan14a/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-10-19T12:39:55Z",
          "updated_at": "2018-10-20T02:21:39Z",
          "author_association": "NONE",
          "body": "An alternative  :-  The reason for this error is :- Some Python interpreters demand a \"SKELETON\" of Neural network before loading another neural network into it. So, in my loading file, I created exactly same Neural Network, compiled it. But, inside the \"model.fit()\" method, I passed epochs=0 and used \"load_weights\" function with required \"h5\" file as parameters. Thus, our model will be compiled but not trained as we will directly load the weights from out already trained model.\r\n\r\n\r\nmodel = tf.keras.models.Sequential()\r\n\r\n# Solving the Layers mismatch issue\r\nmodel.add(tf.keras.layers.Flatten())\r\n\r\n#Hidden Layers\r\nmodel.add(tf.keras.layers.Dense(128,activation=tf.nn.relu,input_dim=784))\r\nmodel.add(tf.keras.layers.Dense(128,activation=tf.nn.relu,input_dim=784))\r\n#Output Layer\r\nmodel.add(tf.keras.layers.Dense(10,activation=tf.nn.softmax))\r\n#Model Architecture Created. Now, using the model:-\r\nmodel.compile(optimizer='adam', loss='sparse_categorical_crossentropy',metrics=['accuracy'])\r\n\r\n#Training the Model:-\r\nmodel.fit(x_train,y_train,epochs=0)\r\nmodel.load_weights('NumberRecognitionModelWeights.h5')",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/431349267/reactions",
            "total_count": 20,
            "+1": 14,
            "-1": 1,
            "laugh": 0,
            "hooray": 2,
            "confused": 0,
            "heart": 0,
            "rocket": 3,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/431532033",
          "html_url": "https://github.com/keras-team/keras/issues/10417#issuecomment-431532033",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/10417",
          "id": 431532033,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTUzMjAzMw==",
          "user": {
            "login": "MmAlder",
            "id": 179253,
            "node_id": "MDQ6VXNlcjE3OTI1Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/179253?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MmAlder",
            "html_url": "https://github.com/MmAlder",
            "followers_url": "https://api.github.com/users/MmAlder/followers",
            "following_url": "https://api.github.com/users/MmAlder/following{/other_user}",
            "gists_url": "https://api.github.com/users/MmAlder/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MmAlder/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MmAlder/subscriptions",
            "organizations_url": "https://api.github.com/users/MmAlder/orgs",
            "repos_url": "https://api.github.com/users/MmAlder/repos",
            "events_url": "https://api.github.com/users/MmAlder/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MmAlder/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-10-20T00:16:35Z",
          "updated_at": "2018-10-20T00:16:35Z",
          "author_association": "NONE",
          "body": "@Ketan14a So you \"solve\" the problem with load_model() simply by not using it?  What if you don't know the structure of the model?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/431532033/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/6977",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/6977/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/6977/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/6977/events",
      "html_url": "https://github.com/keras-team/keras/issues/6977",
      "id": 235689102,
      "node_id": "MDU6SXNzdWUyMzU2ODkxMDI=",
      "number": 6977,
      "title": "model.evaluate() gives a different loss on training data from the one in training process",
      "user": {
        "login": "alanwang93",
        "id": 13610343,
        "node_id": "MDQ6VXNlcjEzNjEwMzQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/13610343?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alanwang93",
        "html_url": "https://github.com/alanwang93",
        "followers_url": "https://api.github.com/users/alanwang93/followers",
        "following_url": "https://api.github.com/users/alanwang93/following{/other_user}",
        "gists_url": "https://api.github.com/users/alanwang93/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/alanwang93/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/alanwang93/subscriptions",
        "organizations_url": "https://api.github.com/users/alanwang93/orgs",
        "repos_url": "https://api.github.com/users/alanwang93/repos",
        "events_url": "https://api.github.com/users/alanwang93/events{/privacy}",
        "received_events_url": "https://api.github.com/users/alanwang93/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 67,
      "created_at": "2017-06-13T20:52:18Z",
      "updated_at": "2023-04-09T08:46:25Z",
      "closed_at": "2021-06-24T22:19:45Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "I'm implementing a CNN model, when I just have few layers, it works well. When I tried a deeper network, I can achieve a high performance (a small loss given during the training process) on training data, but when I use model.evaluate() on **training data**, I get a poor performance (much greater loss). I wonder why this will happen since the evaluation are all on training data.\r\n\r\nHere is what I got:\r\n\r\n\r\n``` python\r\ninput_shape = (X.shape[1], X.shape[2], 1)\r\nmodel = Sequential()\r\n\r\ny = [label2id[l] for l in labels.reshape(-1)]\r\ny =  keras.utils.to_categorical(y)\r\n\r\nmodel.add(Conv2D(32, (5, 5), strides=(2,2), input_shape=input_shape))\r\nmodel.add(Activation('relu'))\r\nmodel.add(BatchNormalization())\r\n\r\n\r\nmodel.add(MaxPooling2D(pool_size=(2, 2)))\r\nmodel.add(BatchNormalization())\r\nmodel.add(Dropout(0.3))\r\n\r\nmodel.add(Conv2D(64, (3, 3)))\r\nmodel.add(Activation('relu'))\r\nmodel.add(BatchNormalization())\r\nmodel.add(MaxPooling2D(pool_size=(2, 2)))\r\nmodel.add(BatchNormalization())\r\nmodel.add(Dropout(0.3))\r\n\r\nmodel.add(Conv2D(512, (1, 1)))\r\nmodel.add(Activation('relu'))\r\nmodel.add(BatchNormalization())\r\nmodel.add(Dropout(0.5))\r\n\r\nmodel.add(Conv2D(15, (1, 1)))\r\nmodel.add(Activation('relu'))\r\nmodel.add(BatchNormalization())\r\n\r\n\r\nmodel.add(GlobalAveragePooling2D())\r\n\r\nmodel.add(Dense(500, activation='relu'))\r\nmodel.add(Dropout(0.5))\r\nmodel.add(Dense(15, activation='softmax'))\r\n\r\nopt = Adam(lr=0.002, beta_1=0.9, beta_2=0.999, epsilon=1e-08)\r\nmodel.compile(loss='categorical_crossentropy', optimizer=opt, metrics=['accuracy'])\r\n\r\nmodel.fit(np.expand_dims(X, axis=3), y, batch_size=200, epochs=15, validation_data=(np.expand_dims(X_val,3), y_val))\r\n```\r\n\r\nThe log during training:\r\n```\r\nTrain on 582 samples, validate on 290 samples\r\nEpoch 1/15\r\n582/582 [==============================] - 14s - loss: 2.6431 - acc: 0.1821 - val_loss: 2.6653 - val_acc: 0.0759\r\nEpoch 2/15\r\n582/582 [==============================] - 12s - loss: 2.3759 - acc: 0.3832 - val_loss: 3.9411 - val_acc: 0.0655\r\nEpoch 3/15\r\n582/582 [==============================] - 13s - loss: 2.0834 - acc: 0.4141 - val_loss: 7.2338 - val_acc: 0.0655\r\nEpoch 4/15\r\n582/582 [==============================] - 13s - loss: 1.8380 - acc: 0.5120 - val_loss: 9.4135 - val_acc: 0.0655\r\nEpoch 5/15\r\n582/582 [==============================] - 13s - loss: 1.6002 - acc: 0.5550 - val_loss: 10.0389 - val_acc: 0.0655\r\nEpoch 6/15\r\n582/582 [==============================] - 13s - loss: 1.3725 - acc: 0.6117 - val_loss: 11.0042 - val_acc: 0.0759\r\nEpoch 7/15\r\n582/582 [==============================] - 13s - loss: 1.1924 - acc: 0.6443 - val_loss: 10.2766 - val_acc: 0.0862\r\nEpoch 8/15\r\n582/582 [==============================] - 13s - loss: 1.0529 - acc: 0.6993 - val_loss: 9.2593 - val_acc: 0.0862\r\nEpoch 9/15\r\n582/582 [==============================] - 13s - loss: 0.9137 - acc: 0.7491 - val_loss: 9.9668 - val_acc: 0.0897\r\nEpoch 10/15\r\n582/582 [==============================] - 13s - loss: 0.7928 - acc: 0.7784 - val_loss: 9.4821 - val_acc: 0.0966\r\nEpoch 11/15\r\n582/582 [==============================] - 13s - loss: 0.6885 - acc: 0.8179 - val_loss: 8.7342 - val_acc: 0.1000\r\nEpoch 12/15\r\n582/582 [==============================] - 12s - loss: 0.6094 - acc: 0.8213 - val_loss: 8.5325 - val_acc: 0.1207\r\nEpoch 13/15\r\n582/582 [==============================] - 12s - loss: 0.5345 - acc: 0.8488 - val_loss: 7.9924 - val_acc: 0.1207\r\nEpoch 14/15\r\n582/582 [==============================] - 12s - loss: 0.4800 - acc: 0.8643 - val_loss: 7.8522 - val_acc: 0.1000\r\nEpoch 15/15\r\n582/582 [==============================] - 12s - loss: 0.4357 - acc: 0.8660 - val_loss: 7.1004 - val_acc: 0.1172\r\n```\r\n\r\nWhen I evaluate on training data: \r\n``` python \r\nscore = model.evaluate(np.expand_dims(X, axis=3), y, batch_size=32)\r\nprint score\r\n```\r\n```\r\n576/582 [============================>.] - ETA: 0s[7.6189327469396426, 0.10309278350515463]\r\n```\r\nOn validation data \r\n``` python \r\nscore = model.evaluate(np.expand_dims(X_val, axis=3), y_val, batch_size=32)\r\nprint score\r\n```\r\n```\r\n288/290 [============================>.] - ETA: 0s[7.1004119609964302, 0.11724137931034483]\r\n```\r\n\r\nCould someone help me? Thanks a lot.",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/6977/reactions",
        "total_count": 78,
        "+1": 66,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 12,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/6977/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309239860",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-309239860",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 309239860,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTIzOTg2MA==",
          "user": {
            "login": "ouzan19",
            "id": 22434273,
            "node_id": "MDQ6VXNlcjIyNDM0Mjcz",
            "avatar_url": "https://avatars.githubusercontent.com/u/22434273?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ouzan19",
            "html_url": "https://github.com/ouzan19",
            "followers_url": "https://api.github.com/users/ouzan19/followers",
            "following_url": "https://api.github.com/users/ouzan19/following{/other_user}",
            "gists_url": "https://api.github.com/users/ouzan19/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ouzan19/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ouzan19/subscriptions",
            "organizations_url": "https://api.github.com/users/ouzan19/orgs",
            "repos_url": "https://api.github.com/users/ouzan19/repos",
            "events_url": "https://api.github.com/users/ouzan19/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ouzan19/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-17T21:00:08Z",
          "updated_at": "2017-06-17T21:00:08Z",
          "author_association": "NONE",
          "body": "Same problem happens for me...",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309239860/reactions",
            "total_count": 37,
            "+1": 32,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 5,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309241595",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-309241595",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 309241595,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTI0MTU5NQ==",
          "user": {
            "login": "danielS91",
            "id": 12804361,
            "node_id": "MDQ6VXNlcjEyODA0MzYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12804361?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/danielS91",
            "html_url": "https://github.com/danielS91",
            "followers_url": "https://api.github.com/users/danielS91/followers",
            "following_url": "https://api.github.com/users/danielS91/following{/other_user}",
            "gists_url": "https://api.github.com/users/danielS91/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/danielS91/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/danielS91/subscriptions",
            "organizations_url": "https://api.github.com/users/danielS91/orgs",
            "repos_url": "https://api.github.com/users/danielS91/repos",
            "events_url": "https://api.github.com/users/danielS91/events{/privacy}",
            "received_events_url": "https://api.github.com/users/danielS91/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-17T21:34:15Z",
          "updated_at": "2017-06-17T21:40:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "It's due to the dropout layers. During the training phase neurons are dropped. In contrast during the prediction all neurons remain in the network structure. So it's quite likely that the results will be different.\r\nYou can see it directly from the results for the validation data.\r\nThey are equal, because both results are generated in the same way. \r\n\r\nEdit: The batch normalization layers also influence the results.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309241595/reactions",
            "total_count": 102,
            "+1": 78,
            "-1": 13,
            "laugh": 4,
            "hooray": 0,
            "confused": 4,
            "heart": 0,
            "rocket": 0,
            "eyes": 3
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309241817",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-309241817",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 309241817,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTI0MTgxNw==",
          "user": {
            "login": "danielS91",
            "id": 12804361,
            "node_id": "MDQ6VXNlcjEyODA0MzYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12804361?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/danielS91",
            "html_url": "https://github.com/danielS91",
            "followers_url": "https://api.github.com/users/danielS91/followers",
            "following_url": "https://api.github.com/users/danielS91/following{/other_user}",
            "gists_url": "https://api.github.com/users/danielS91/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/danielS91/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/danielS91/subscriptions",
            "organizations_url": "https://api.github.com/users/danielS91/orgs",
            "repos_url": "https://api.github.com/users/danielS91/repos",
            "events_url": "https://api.github.com/users/danielS91/events{/privacy}",
            "received_events_url": "https://api.github.com/users/danielS91/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-17T21:38:47Z",
          "updated_at": "2017-06-17T21:38:47Z",
          "author_association": "CONTRIBUTOR",
          "body": "Regarding the problem that both losses are quite different, it looks like that your model structure does not fit the problem well.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309241817/reactions",
            "total_count": 22,
            "+1": 0,
            "-1": 22,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309243127",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-309243127",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 309243127,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTI0MzEyNw==",
          "user": {
            "login": "ouzan19",
            "id": 22434273,
            "node_id": "MDQ6VXNlcjIyNDM0Mjcz",
            "avatar_url": "https://avatars.githubusercontent.com/u/22434273?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ouzan19",
            "html_url": "https://github.com/ouzan19",
            "followers_url": "https://api.github.com/users/ouzan19/followers",
            "following_url": "https://api.github.com/users/ouzan19/following{/other_user}",
            "gists_url": "https://api.github.com/users/ouzan19/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ouzan19/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ouzan19/subscriptions",
            "organizations_url": "https://api.github.com/users/ouzan19/orgs",
            "repos_url": "https://api.github.com/users/ouzan19/repos",
            "events_url": "https://api.github.com/users/ouzan19/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ouzan19/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-17T22:07:43Z",
          "updated_at": "2017-06-17T22:07:43Z",
          "author_association": "NONE",
          "body": "Even without dropout layers and batch normalization, same issue continues for me. I don't agree that the problem is caused by the model structure because the training and the test data is the same.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309243127/reactions",
            "total_count": 79,
            "+1": 72,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 7,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309244307",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-309244307",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 309244307,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTI0NDMwNw==",
          "user": {
            "login": "danielS91",
            "id": 12804361,
            "node_id": "MDQ6VXNlcjEyODA0MzYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12804361?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/danielS91",
            "html_url": "https://github.com/danielS91",
            "followers_url": "https://api.github.com/users/danielS91/followers",
            "following_url": "https://api.github.com/users/danielS91/following{/other_user}",
            "gists_url": "https://api.github.com/users/danielS91/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/danielS91/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/danielS91/subscriptions",
            "organizations_url": "https://api.github.com/users/danielS91/orgs",
            "repos_url": "https://api.github.com/users/danielS91/repos",
            "events_url": "https://api.github.com/users/danielS91/events{/privacy}",
            "received_events_url": "https://api.github.com/users/danielS91/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-17T22:34:56Z",
          "updated_at": "2017-06-17T22:34:56Z",
          "author_association": "CONTRIBUTOR",
          "body": "How large is the difference in your case?\r\nBoth loss values will not match exactly because during training the network parameters change from batch to batch and Keras will report the mean loss over all batches... ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309244307/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309245870",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-309245870",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 309245870,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTI0NTg3MA==",
          "user": {
            "login": "ouzan19",
            "id": 22434273,
            "node_id": "MDQ6VXNlcjIyNDM0Mjcz",
            "avatar_url": "https://avatars.githubusercontent.com/u/22434273?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ouzan19",
            "html_url": "https://github.com/ouzan19",
            "followers_url": "https://api.github.com/users/ouzan19/followers",
            "following_url": "https://api.github.com/users/ouzan19/following{/other_user}",
            "gists_url": "https://api.github.com/users/ouzan19/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ouzan19/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ouzan19/subscriptions",
            "organizations_url": "https://api.github.com/users/ouzan19/orgs",
            "repos_url": "https://api.github.com/users/ouzan19/repos",
            "events_url": "https://api.github.com/users/ouzan19/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ouzan19/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-17T23:11:19Z",
          "updated_at": "2017-06-17T23:11:19Z",
          "author_association": "NONE",
          "body": "I use only one batch. In training, final loss (mse) is 0.045. Evaluating with training data gives 1.14 ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309245870/reactions",
            "total_count": 20,
            "+1": 20,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309265053",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-309265053",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 309265053,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTI2NTA1Mw==",
          "user": {
            "login": "danielS91",
            "id": 12804361,
            "node_id": "MDQ6VXNlcjEyODA0MzYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12804361?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/danielS91",
            "html_url": "https://github.com/danielS91",
            "followers_url": "https://api.github.com/users/danielS91/followers",
            "following_url": "https://api.github.com/users/danielS91/following{/other_user}",
            "gists_url": "https://api.github.com/users/danielS91/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/danielS91/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/danielS91/subscriptions",
            "organizations_url": "https://api.github.com/users/danielS91/orgs",
            "repos_url": "https://api.github.com/users/danielS91/repos",
            "events_url": "https://api.github.com/users/danielS91/events{/privacy}",
            "received_events_url": "https://api.github.com/users/danielS91/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-18T08:54:37Z",
          "updated_at": "2017-06-18T08:54:37Z",
          "author_association": "CONTRIBUTOR",
          "body": "That's strange. Did you try to use a different dataset? \r\nCan you provide some code to reproduce the problem? (small public dataset would be great) ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309265053/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/310842752",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-310842752",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 310842752,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMxMDg0Mjc1Mg==",
          "user": {
            "login": "bzhong2",
            "id": 16262169,
            "node_id": "MDQ6VXNlcjE2MjYyMTY5",
            "avatar_url": "https://avatars.githubusercontent.com/u/16262169?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bzhong2",
            "html_url": "https://github.com/bzhong2",
            "followers_url": "https://api.github.com/users/bzhong2/followers",
            "following_url": "https://api.github.com/users/bzhong2/following{/other_user}",
            "gists_url": "https://api.github.com/users/bzhong2/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bzhong2/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bzhong2/subscriptions",
            "organizations_url": "https://api.github.com/users/bzhong2/orgs",
            "repos_url": "https://api.github.com/users/bzhong2/repos",
            "events_url": "https://api.github.com/users/bzhong2/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bzhong2/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-24T14:46:50Z",
          "updated_at": "2017-06-24T14:46:50Z",
          "author_association": "NONE",
          "body": "#6895 I have a similar problem and even tried with the public data set. I was doing fine tuning. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/310842752/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/315649305",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-315649305",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 315649305,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTY0OTMwNQ==",
          "user": {
            "login": "fraztto",
            "id": 12720622,
            "node_id": "MDQ6VXNlcjEyNzIwNjIy",
            "avatar_url": "https://avatars.githubusercontent.com/u/12720622?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fraztto",
            "html_url": "https://github.com/fraztto",
            "followers_url": "https://api.github.com/users/fraztto/followers",
            "following_url": "https://api.github.com/users/fraztto/following{/other_user}",
            "gists_url": "https://api.github.com/users/fraztto/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fraztto/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fraztto/subscriptions",
            "organizations_url": "https://api.github.com/users/fraztto/orgs",
            "repos_url": "https://api.github.com/users/fraztto/repos",
            "events_url": "https://api.github.com/users/fraztto/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fraztto/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-07-17T00:31:03Z",
          "updated_at": "2017-07-17T00:31:03Z",
          "author_association": "NONE",
          "body": "I had an issue like that one, the solution for me was very simple. I was evaluating using the train data and the accuracy was quite different than the one while training. When evaluating I had swapped the dims of the input images, height was width and width was height (silly me)",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/315649305/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/348373196",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-348373196",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 348373196,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODM3MzE5Ng==",
          "user": {
            "login": "ouzan19",
            "id": 22434273,
            "node_id": "MDQ6VXNlcjIyNDM0Mjcz",
            "avatar_url": "https://avatars.githubusercontent.com/u/22434273?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ouzan19",
            "html_url": "https://github.com/ouzan19",
            "followers_url": "https://api.github.com/users/ouzan19/followers",
            "following_url": "https://api.github.com/users/ouzan19/following{/other_user}",
            "gists_url": "https://api.github.com/users/ouzan19/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ouzan19/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ouzan19/subscriptions",
            "organizations_url": "https://api.github.com/users/ouzan19/orgs",
            "repos_url": "https://api.github.com/users/ouzan19/repos",
            "events_url": "https://api.github.com/users/ouzan19/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ouzan19/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-12-01T01:18:02Z",
          "updated_at": "2017-12-01T01:18:02Z",
          "author_association": "NONE",
          "body": "Hi guys,\r\n\r\nOther than dropout, batch norm also causes the same problem. I suspect that this is caused by the fact that the number of samples used in bacth norm after activation is 200 (bacth size) in tarining time, however it is only 1 in test time. This causes different normalization and different loss.\r\n\r\nWhat's your thoughts?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/348373196/reactions",
            "total_count": 14,
            "+1": 13,
            "-1": 1,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/350152566",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-350152566",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 350152566,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM1MDE1MjU2Ng==",
          "user": {
            "login": "renato145",
            "id": 6003546,
            "node_id": "MDQ6VXNlcjYwMDM1NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6003546?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/renato145",
            "html_url": "https://github.com/renato145",
            "followers_url": "https://api.github.com/users/renato145/followers",
            "following_url": "https://api.github.com/users/renato145/following{/other_user}",
            "gists_url": "https://api.github.com/users/renato145/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/renato145/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/renato145/subscriptions",
            "organizations_url": "https://api.github.com/users/renato145/orgs",
            "repos_url": "https://api.github.com/users/renato145/repos",
            "events_url": "https://api.github.com/users/renato145/events{/privacy}",
            "received_events_url": "https://api.github.com/users/renato145/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-12-08T02:14:25Z",
          "updated_at": "2017-12-08T02:14:25Z",
          "author_association": "NONE",
          "body": "#6895 Yes, I just encountered that problem with Resnet50.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/350152566/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/365052344",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-365052344",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 365052344,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2NTA1MjM0NA==",
          "user": {
            "login": "BrianHuf",
            "id": 6709806,
            "node_id": "MDQ6VXNlcjY3MDk4MDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6709806?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/BrianHuf",
            "html_url": "https://github.com/BrianHuf",
            "followers_url": "https://api.github.com/users/BrianHuf/followers",
            "following_url": "https://api.github.com/users/BrianHuf/following{/other_user}",
            "gists_url": "https://api.github.com/users/BrianHuf/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/BrianHuf/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/BrianHuf/subscriptions",
            "organizations_url": "https://api.github.com/users/BrianHuf/orgs",
            "repos_url": "https://api.github.com/users/BrianHuf/repos",
            "events_url": "https://api.github.com/users/BrianHuf/events{/privacy}",
            "received_events_url": "https://api.github.com/users/BrianHuf/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-12T20:31:16Z",
          "updated_at": "2018-02-13T01:02:59Z",
          "author_association": "NONE",
          "body": "I'm running into the same problem.  When I create learning curves from fit metrics, train and test look unrealistically different.\r\n\r\nAs an experiment, I tried calculating my own metrics.\r\n\r\n```python\r\nclass SecondOpinion(Callback):\r\n    def __init__(self, model, x_train, y_train, x_test, y_test):\r\n        self.model = model\r\n        self.x_train = x_train\r\n        self.y_train = y_train\r\n        self.x_test = x_test\r\n        self.y_test = y_test\r\n\r\n    def on_epoch_end(self, epoch, logs={}):\r\n        y_train_pred = self.model.predict(self.x_train)\r\n        y_test_pred = self.model.predict(self.x_test)\r\n\r\n        mse_train = ((y_train_pred - self.y_train) ** 2).mean()\r\n        mse_test = ((y_test_pred - self.y_test) ** 2).mean()\r\n\r\n        print(\"\\n                                             Second Opinion loss: %5.4f - val_loss: %5.4f\" % (mse_train, mse_test))\r\n\r\n...\r\n\r\nmodel.compile(\r\n\tloss='mean_squared_error',\r\n\toptimizer=adam\r\n)\r\n\r\nsecond_opinion = SecondOpinion(model, data.x_train, data.y_train, data.x_test, data.y_test)\r\n\r\nmodel.fit(\r\n\tx=data.x_train,\r\n\ty=data.y_train,\r\n\tvalidation_data=(data.x_test, data.y_test),\r\n\tbatch_size=200,\r\n\tepochs=200\r\n\tcallbacks=[second_opinion]\r\n)\r\n\r\n\r\n```\r\n\r\n\r\n\r\nWith batch normalization and drop out included, train loss is very different (~3x).  Validation losses are different, but not substantial.\r\n```\r\nEpoch 1/200\r\n7200/7255 [============================>.] - ETA: 0s - loss: 208810.7629\r\n                                             Second Opinion loss: 147483.0938 - val_loss: 164947.0781\r\n7255/7255 [==============================] - 59s 8ms/step - loss: 207874.9320 - val_loss: 140131.2018\r\n\r\nEpoch 2/200\r\n7200/7255 [============================>.] - ETA: 0s - loss: 57029.7061\r\n                                             Second Opinion loss: 128558.4609 - val_loss: 142726.4375\r\n7255/7255 [==============================] - 55s 8ms/step - loss: 57108.7740 - val_loss: 135797.0371\r\n\r\nEpoch 3/200\r\n7200/7255 [============================>.] - ETA: 0s - loss: 49392.7298\r\n                                             Second Opinion loss: 154096.3281 - val_loss: 173001.8438\r\n7255/7255 [==============================] - 55s 8ms/step - loss: 49370.2950 - val_loss: 151737.2370\r\n```\r\n\r\nWith batch normalization and drop out removed, loss is somewhat different and val_loss matches\r\n```\r\nEpoch 1/200\r\n7200/7255 [============================>.] - ETA: 0s - loss: 1691567.5816\r\n                                             Second Opinion loss: 592996.7500 - val_loss: 631589.8125\r\n7255/7255 [==============================] - 35s 5ms/step - loss: 1682561.1545 - val_loss: 631589.8356\r\n\r\nEpoch 2/200\r\n7200/7255 [============================>.] - ETA: 0s - loss: 557553.0530\r\n                                             Second Opinion loss: 503776.0000 - val_loss: 539686.3750\r\n7255/7255 [==============================] - 32s 4ms/step - loss: 557585.9540 - val_loss: 539686.4883\r\n\r\nEpoch 3/200\r\n7200/7255 [============================>.] - ETA: 0s - loss: 434417.9800\r\n                                             Second Opinion loss: 353186.8750 - val_loss: 383728.2500\r\n7255/7255 [==============================] - 32s 4ms/step - loss: 434553.5198 - val_loss: 383728.2623\r\n```\r\n\r\nI'm not schooled enough to know if these differences are intentional by Keras or not.   Anyone?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/365052344/reactions",
            "total_count": 7,
            "+1": 7,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/366567948",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-366567948",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 366567948,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2NjU2Nzk0OA==",
          "user": {
            "login": "mikowals",
            "id": 1331470,
            "node_id": "MDQ6VXNlcjEzMzE0NzA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1331470?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mikowals",
            "html_url": "https://github.com/mikowals",
            "followers_url": "https://api.github.com/users/mikowals/followers",
            "following_url": "https://api.github.com/users/mikowals/following{/other_user}",
            "gists_url": "https://api.github.com/users/mikowals/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mikowals/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mikowals/subscriptions",
            "organizations_url": "https://api.github.com/users/mikowals/orgs",
            "repos_url": "https://api.github.com/users/mikowals/repos",
            "events_url": "https://api.github.com/users/mikowals/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mikowals/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-19T01:26:49Z",
          "updated_at": "2018-02-19T01:26:49Z",
          "author_association": "NONE",
          "body": "I am new to Keras so maybe this is expected behaviour but I can't find it documented in `.fit()` or `.evaluate()` that `.fit()` must be run first.\r\n\r\n`model.evaluate` consistently gets a wrong result if run on after loading saved weights.  Running  `model.fit` even training for 1 step with a learning rate of 0 fixes the validation results though the weights should not be changed.\r\n\r\nLoading weights from the file again after `model.fit()` will cause the problem with `model.evaluate()` to reoccur.  \r\n\r\n\r\nResult of initial evaluate:\r\n\r\n> 10000/10000 [==============================] - 27s 3ms/step\r\nLoss: 14.154, Accuracy: 0.114\r\n\r\nNow train one step:\r\n\r\n> Train on 256 samples, validate on 256 samples\r\nEpoch 1/1\r\n256/256 [==============================] - 46s 178ms/step - loss: 0.7133 - acc: 0.7930 - val_loss: 0.7081 - val_acc: 0.7930\r\n\r\nNow run same evaluate call again:\r\n\r\n> 10000/10000 [==============================] - 24s 2ms/step\r\nLoss: 0.659, Accuracy: 0.798\r\n\r\nThe code to produce this is:\r\n\r\n    from __future__ import print_function\r\n    import keras\r\n\r\n    batch_size = 256\r\n    img_rows, img_cols, img_channels = 32, 32, 3\r\n\r\n    (_, _), (x_test, y_test) = keras.datasets.cifar10.load_data()\r\n\r\n    x_test = x_test.astype('float32') / 255.\r\n    y_test = keras.utils.to_categorical(y_test, num_classes=10)\r\n\r\n    model = keras.applications.nasnet.NASNetMobile(\r\n        input_shape=(img_rows, img_cols, img_channels),\r\n        weights=None,\r\n        classes=10\r\n    )\r\n    model.load_weights('weights.81-0.35-0.873.txt', by_name=True)\r\n    optimizer = keras.optimizers.SGD(lr=0.000, momentum=0.0, clipnorm=5)\r\n    model.compile(loss=['categorical_crossentropy'],\r\n              optimizer=optimizer, metrics=['accuracy'])\r\n\r\n    def eval():\r\n        metrics = model.evaluate(\r\n            x=x_test,\r\n            y=y_test,\r\n            batch_size=batch_size,\r\n            verbose=1,\r\n            sample_weight=None\r\n        )\r\n        print ('Loss: {:.3f}, Accuracy: {:.3f}'.format(metrics[0], metrics[1]))\r\n\r\n    eval()\r\n    model.fit(x=x_test[:batch_size,...], y=y_test[:batch_size,...], batch_size=batch_size, epochs=1,     validation_data=(x_test[:batch_size,...], y_test[:batch_size,...]))\r\n    eval()\r\nI am using Keras (2.1.4) installed by pip on MacOS 10.13.4.  This version of Keras is printing a ton of deprecation warnings (from tensorflow I think) which I have omitted in the output for clarity but if you see them it is not a problem with the code.\r\n  \r\n[weights.81-0.35-0.873.txt](https://github.com/keras-team/keras/files/1735340/weights.81-0.35-0.873.txt)",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/366567948/reactions",
            "total_count": 9,
            "+1": 9,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/367109363",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-367109363",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 367109363,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2NzEwOTM2Mw==",
          "user": {
            "login": "BrianHuf",
            "id": 6709806,
            "node_id": "MDQ6VXNlcjY3MDk4MDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6709806?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/BrianHuf",
            "html_url": "https://github.com/BrianHuf",
            "followers_url": "https://api.github.com/users/BrianHuf/followers",
            "following_url": "https://api.github.com/users/BrianHuf/following{/other_user}",
            "gists_url": "https://api.github.com/users/BrianHuf/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/BrianHuf/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/BrianHuf/subscriptions",
            "organizations_url": "https://api.github.com/users/BrianHuf/orgs",
            "repos_url": "https://api.github.com/users/BrianHuf/repos",
            "events_url": "https://api.github.com/users/BrianHuf/events{/privacy}",
            "received_events_url": "https://api.github.com/users/BrianHuf/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-20T20:31:51Z",
          "updated_at": "2018-02-20T20:31:51Z",
          "author_association": "NONE",
          "body": "I'm still in over my head here, but here's how things appear to me.  Can anyone confirm I'm on the right track?\r\n\r\nThis is all tied to learning_phase (see https://keras.io/backend/) and loss/metric estimation based on batches.\r\n\r\nDropout is only active when the learning_phase is set to test.  Otherwise, it should be ignored.  It's unclear to me if BatchNormalization is active when learning_phase is test\r\n\r\nBatching presumes each batch can represent the entire data set.  If the data is heavily skewed or batches aren't well randomized, I can imagine this will magnify the differences between losses from fit vs. predict.\r\n\r\nIt seems to me that Learning Curves are more correct when evaluating losses and metrics when learning_phase is set to test and applied across all batches.  I can imagine this is not done during fit, because it is computationally expensive.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/367109363/reactions",
            "total_count": 4,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/377376787",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-377376787",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 377376787,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzM3Njc4Nw==",
          "user": {
            "login": "lorenzoriano",
            "id": 582434,
            "node_id": "MDQ6VXNlcjU4MjQzNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/582434?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lorenzoriano",
            "html_url": "https://github.com/lorenzoriano",
            "followers_url": "https://api.github.com/users/lorenzoriano/followers",
            "following_url": "https://api.github.com/users/lorenzoriano/following{/other_user}",
            "gists_url": "https://api.github.com/users/lorenzoriano/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lorenzoriano/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lorenzoriano/subscriptions",
            "organizations_url": "https://api.github.com/users/lorenzoriano/orgs",
            "repos_url": "https://api.github.com/users/lorenzoriano/repos",
            "events_url": "https://api.github.com/users/lorenzoriano/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lorenzoriano/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-03-29T21:23:24Z",
          "updated_at": "2018-03-29T21:23:24Z",
          "author_association": "NONE",
          "body": "I'm seeing the same problem",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/377376787/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/378437697",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-378437697",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 378437697,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODQzNzY5Nw==",
          "user": {
            "login": "Deepu14",
            "id": 23520454,
            "node_id": "MDQ6VXNlcjIzNTIwNDU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/23520454?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Deepu14",
            "html_url": "https://github.com/Deepu14",
            "followers_url": "https://api.github.com/users/Deepu14/followers",
            "following_url": "https://api.github.com/users/Deepu14/following{/other_user}",
            "gists_url": "https://api.github.com/users/Deepu14/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Deepu14/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Deepu14/subscriptions",
            "organizations_url": "https://api.github.com/users/Deepu14/orgs",
            "repos_url": "https://api.github.com/users/Deepu14/repos",
            "events_url": "https://api.github.com/users/Deepu14/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Deepu14/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-04T00:05:54Z",
          "updated_at": "2018-04-04T00:05:54Z",
          "author_association": "NONE",
          "body": "I have same problem.\r\nEpoch 28/30 5760/5760 [==============================] - 4s 641us/step - loss: 0.0166 - acc: 0.9934 - val_loss: 0.0299 - val_acc: 0.9891\r\n\r\nEpoch 29/30 5760/5760 [==============================] - 4s 644us/step - loss: 0.0163 - acc: 0.9932 - val_loss: 0.0296 - val_acc: 0.9875\r\n\r\nEpoch 30/30 5760/5760 [==============================] - 4s 641us/step - loss: 0.0165 - acc: 0.9925 - val_loss: 0.0318 - val_acc: 0.9875\r\n\r\nEvaluating on test data: `1712/1712 [==============================] - 0s 236us/step $loss [1] 0.329597\r\n\r\n$acc [1] 0.9281542`\r\n\r\nThere is a huge difference between train-validation loss and test loss. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/378437697/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/378637988",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-378637988",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 378637988,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODYzNzk4OA==",
          "user": {
            "login": "emerygoossens",
            "id": 3613493,
            "node_id": "MDQ6VXNlcjM2MTM0OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3613493?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/emerygoossens",
            "html_url": "https://github.com/emerygoossens",
            "followers_url": "https://api.github.com/users/emerygoossens/followers",
            "following_url": "https://api.github.com/users/emerygoossens/following{/other_user}",
            "gists_url": "https://api.github.com/users/emerygoossens/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/emerygoossens/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/emerygoossens/subscriptions",
            "organizations_url": "https://api.github.com/users/emerygoossens/orgs",
            "repos_url": "https://api.github.com/users/emerygoossens/repos",
            "events_url": "https://api.github.com/users/emerygoossens/events{/privacy}",
            "received_events_url": "https://api.github.com/users/emerygoossens/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-04-04T15:17:11Z",
          "updated_at": "2018-04-04T15:53:35Z",
          "author_association": "NONE",
          "body": "I am having the same issue. I train a model, save the weights, load the model. The resulting evaluation call is giving results that change each time. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/378637988/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/388685310",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-388685310",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 388685310,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODY4NTMxMA==",
          "user": {
            "login": "azmathmoosa",
            "id": 5759019,
            "node_id": "MDQ6VXNlcjU3NTkwMTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5759019?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/azmathmoosa",
            "html_url": "https://github.com/azmathmoosa",
            "followers_url": "https://api.github.com/users/azmathmoosa/followers",
            "following_url": "https://api.github.com/users/azmathmoosa/following{/other_user}",
            "gists_url": "https://api.github.com/users/azmathmoosa/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/azmathmoosa/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/azmathmoosa/subscriptions",
            "organizations_url": "https://api.github.com/users/azmathmoosa/orgs",
            "repos_url": "https://api.github.com/users/azmathmoosa/repos",
            "events_url": "https://api.github.com/users/azmathmoosa/events{/privacy}",
            "received_events_url": "https://api.github.com/users/azmathmoosa/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-14T03:13:46Z",
          "updated_at": "2018-05-14T03:15:52Z",
          "author_association": "NONE",
          "body": "I, too have the same issue.  I was training a DenseNet121 with all layers frozen except the last 1 or 2. \r\n\r\n```\r\nEpoch 00032: val_acc did not improve from 0.29563\r\nEpoch 33/90\r\n154/154 [==============================] - 148s 963ms/step - loss: 0.1546 - acc: 0.9538 - val_loss: 6.4297 - val_acc: 0.2246\r\n\r\nEpoch 00033: val_acc did not improve from 0.29563\r\nEpoch 34/90\r\n154/154 [==============================] - 148s 963ms/step - loss: 0.1416 - acc: 0.9573 - val_loss: 6.1487 - val_acc: 0.2423\r\n\r\nEpoch 00034: val_acc did not improve from 0.29563\r\nEpoch 35/90\r\n154/154 [==============================] - 147s 955ms/step - loss: 0.1415 - acc: 0.9556 - val_loss: 6.6624 - val_acc: 0.2016\r\n\r\nEpoch 00035: val_acc did not improve from 0.29563\r\nEpoch 36/90\r\n154/154 [==============================] - 147s 957ms/step - loss: 0.1457 - acc: 0.9545 - val_loss: 5.9998 - val_acc: 0.2548\r\n\r\nEpoch 00036: val_acc did not improve from 0.29563\r\nEpoch 00036: early stopping\r\n154/154 [==============================] - 191s 1s/step\r\nFinal Training loss: 6.1547\r\nTraining accuracy:  0.2037\r\n```\r\nI ran `evaluate()` on the training data itself, and the validation data between each epoch is also the training data! Yet the difference is huge.\r\n\r\nI'm planning to drop Keras and move to TF.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/388685310/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/391305662",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-391305662",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 391305662,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM5MTMwNTY2Mg==",
          "user": {
            "login": "raghavab1992",
            "id": 23051039,
            "node_id": "MDQ6VXNlcjIzMDUxMDM5",
            "avatar_url": "https://avatars.githubusercontent.com/u/23051039?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavab1992",
            "html_url": "https://github.com/raghavab1992",
            "followers_url": "https://api.github.com/users/raghavab1992/followers",
            "following_url": "https://api.github.com/users/raghavab1992/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavab1992/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavab1992/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavab1992/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavab1992/orgs",
            "repos_url": "https://api.github.com/users/raghavab1992/repos",
            "events_url": "https://api.github.com/users/raghavab1992/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavab1992/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-05-23T10:54:54Z",
          "updated_at": "2018-05-23T10:54:54Z",
          "author_association": "NONE",
          "body": "I am facing the same issue...trying to finetune inception_v3. Added two Dense layers and set all other inception layers trainable=False. So without any dropout layers, getting completely different metrics for training data during training and evaluation!!\r\nEpoch 1/25\r\n35/35 [==============================] - 24s 693ms/step - loss: 2.1526 - categorical_accuracy: 0.2010 - val_loss: 12.1775 - val_categorical_accuracy: 0.0993\r\nEpoch 2/25\r\n35/35 [==============================] - 19s 557ms/step - loss: 1.8757 - categorical_accuracy: 0.3301 - val_loss: 12.5643 - val_categorical_accuracy: 0.1066\r\nEpoch 3/25\r\n35/35 [==============================] - 19s 533ms/step - loss: 1.6845 - categorical_accuracy: 0.4497 - val_loss: 12.5669 - val_categorical_accuracy: 0.1176\r\n\r\nprint(model.metrics_names, model.evaluate_generator(train_gen), model.evaluate_generator(val_gen))\r\n['loss', 'categorical_accuracy'] [12.482194125054637, 0.0966271650022339] [12.378837978138643, 0.10294117647058823]\r\n\r\nAs none of the inception layers are being trained, the batch norm layers should use default mean and std dev and hence shouldn't give different results in training and evaluation phase! \r\nAny idea why this is happening? ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/391305662/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/399547883",
          "html_url": "https://github.com/keras-team/keras/issues/6977#issuecomment-399547883",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/6977",
          "id": 399547883,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM5OTU0Nzg4Mw==",
          "user": {
            "login": "ub216",
            "id": 33667085,
            "node_id": "MDQ6VXNlcjMzNjY3MDg1",
            "avatar_url": "https://avatars.githubusercontent.com/u/33667085?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ub216",
            "html_url": "https://github.com/ub216",
            "followers_url": "https://api.github.com/users/ub216/followers",
            "following_url": "https://api.github.com/users/ub216/following{/other_user}",
            "gists_url": "https://api.github.com/users/ub216/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ub216/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ub216/subscriptions",
            "organizations_url": "https://api.github.com/users/ub216/orgs",
            "repos_url": "https://api.github.com/users/ub216/repos",
            "events_url": "https://api.github.com/users/ub216/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ub216/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-06-22T19:00:42Z",
          "updated_at": "2018-06-22T19:00:42Z",
          "author_association": "NONE",
          "body": "Has anyone solved this? Having the same issue. model.eval gives completely different results compared to model.fit (learning rate set to zero). Don't use dropout layer. Tried playing with the batch_norm layers \"trainable\" parameter but got similar performance.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/399547883/reactions",
            "total_count": 5,
            "+1": 5,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/1014",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/1014/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/1014/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/1014/events",
      "html_url": "https://github.com/keras-team/keras/issues/1014",
      "id": 116976635,
      "node_id": "MDU6SXNzdWUxMTY5NzY2MzU=",
      "number": 1014,
      "title": "Switch to a modular backend for Theano and TensorFlow support",
      "user": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 67,
      "created_at": "2015-11-15T06:29:52Z",
      "updated_at": "2017-06-22T22:10:17Z",
      "closed_at": "2017-06-22T22:10:17Z",
      "author_association": "COLLABORATOR",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "Here's the `backend` branch, introducing `theano_backend.py` and `tensorflow_backend.py`: https://github.com/fchollet/keras/tree/backend/keras/backend\n\nIt's still a work in progress. It contains 95% of the Theano functionality used in Keras, implemented both in Theano and in TensorFlow, and accessible through a same API. \n\nThe general usage in Keras would be as follow (just a trivial example):\n\n``` python\nfrom keras import backend as K\n\nx = K.variable(np.random.random((3, 4)))\ny = K.placeholder(ndim=2)\nz = K.exp(x) + y\nf = K.function(inputs=[y], outputs=[z], updates=[(x, x * 2)])\n```\n### What isn't implemented:\n- `rnn`, the equivalent of Theano's `scan`.\n- the remaining 5%: as far as I can tell, `shape_padright`, `tensordot`, and `batched_tensordot`, the broadcasting business... we might deal with it by eliminating these from the Keras codebase.\n### Known issues\n\n`conv2d` and `maxpool2d` work separately in TF and Theano, but output different values. It is unclear yet why. Not a big issue unless we want trained models to be portable from one backend to another (which I would prefer, of course).\n### What's next\n- adding Theano and TF implementations for `rnn`\n- figuring out the `conv2d` and `maxpool2d` issue\n- rewriting Keras to use the backend (`K`) instead of Theano. In 95% of cases this would be a trivial search-and-replace. The remaining 5% might require extending the backend a little bit, or reimplementing old Theano functionality with existing backend primitives.\n\nIf you have cycles to spare, please consider helping out with the rewriting of Keras. It is simple and quite impactful.\n",
      "closed_by": {
        "login": "stale[bot]",
        "id": 26384082,
        "node_id": "MDM6Qm90MjYzODQwODI=",
        "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stale%5Bbot%5D",
        "html_url": "https://github.com/apps/stale",
        "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
        "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
        "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
        "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
        "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
        "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
        "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
        "type": "Bot",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/1014/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/1014/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/156789406",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-156789406",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 156789406,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1Njc4OTQwNg==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-15T08:04:38Z",
          "updated_at": "2015-11-15T08:04:38Z",
          "author_association": "CONTRIBUTOR",
          "body": "> the remaining 5%: as far as I can tell, shape_padright, tensordot, and batched_tensordot, the broadcasting business... we might deal with it by eliminating these from the Keras codebase.\n\nDidnt get this part. What do you mean by eliminating? You mean like rewrite tensordot using K.dot?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/156789406/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/156789828",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-156789828",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 156789828,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1Njc4OTgyOA==",
          "user": {
            "login": "rushter",
            "id": 3187951,
            "node_id": "MDQ6VXNlcjMxODc5NTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3187951?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rushter",
            "html_url": "https://github.com/rushter",
            "followers_url": "https://api.github.com/users/rushter/followers",
            "following_url": "https://api.github.com/users/rushter/following{/other_user}",
            "gists_url": "https://api.github.com/users/rushter/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rushter/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rushter/subscriptions",
            "organizations_url": "https://api.github.com/users/rushter/orgs",
            "repos_url": "https://api.github.com/users/rushter/repos",
            "events_url": "https://api.github.com/users/rushter/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rushter/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-15T08:17:36Z",
          "updated_at": "2015-11-15T17:31:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "I will work on the objectives module.\n#1015 \n\nFix for tests: #1016 \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/156789828/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/156792112",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-156792112",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 156792112,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1Njc5MjExMg==",
          "user": {
            "login": "rushter",
            "id": 3187951,
            "node_id": "MDQ6VXNlcjMxODc5NTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3187951?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rushter",
            "html_url": "https://github.com/rushter",
            "followers_url": "https://api.github.com/users/rushter/followers",
            "following_url": "https://api.github.com/users/rushter/following{/other_user}",
            "gists_url": "https://api.github.com/users/rushter/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rushter/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rushter/subscriptions",
            "organizations_url": "https://api.github.com/users/rushter/orgs",
            "repos_url": "https://api.github.com/users/rushter/repos",
            "events_url": "https://api.github.com/users/rushter/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rushter/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-15T09:12:47Z",
          "updated_at": "2015-11-15T09:12:47Z",
          "author_association": "CONTRIBUTOR",
          "body": "Is there any reason why lower bound for `sqrt` is epsilon?  Both backends can handle 0.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/156792112/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/156802307",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-156802307",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 156802307,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1NjgwMjMwNw==",
          "user": {
            "login": "hugman",
            "id": 2958929,
            "node_id": "MDQ6VXNlcjI5NTg5Mjk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2958929?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hugman",
            "html_url": "https://github.com/hugman",
            "followers_url": "https://api.github.com/users/hugman/followers",
            "following_url": "https://api.github.com/users/hugman/following{/other_user}",
            "gists_url": "https://api.github.com/users/hugman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hugman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hugman/subscriptions",
            "organizations_url": "https://api.github.com/users/hugman/orgs",
            "repos_url": "https://api.github.com/users/hugman/repos",
            "events_url": "https://api.github.com/users/hugman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hugman/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-15T11:03:17Z",
          "updated_at": "2015-11-15T11:03:17Z",
          "author_association": "NONE",
          "body": "Awesome! Thank you for updating.\nI'll find what can I contribute.\n\nBy the way, I agree with eliminating broadcasting things. Broadcasting is convenient, but very bad in readibility. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/156802307/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/156816940",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-156816940",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 156816940,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1NjgxNjk0MA==",
          "user": {
            "login": "dbonadiman",
            "id": 1776151,
            "node_id": "MDQ6VXNlcjE3NzYxNTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1776151?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dbonadiman",
            "html_url": "https://github.com/dbonadiman",
            "followers_url": "https://api.github.com/users/dbonadiman/followers",
            "following_url": "https://api.github.com/users/dbonadiman/following{/other_user}",
            "gists_url": "https://api.github.com/users/dbonadiman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dbonadiman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dbonadiman/subscriptions",
            "organizations_url": "https://api.github.com/users/dbonadiman/orgs",
            "repos_url": "https://api.github.com/users/dbonadiman/repos",
            "events_url": "https://api.github.com/users/dbonadiman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dbonadiman/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-15T15:11:02Z",
          "updated_at": "2015-11-15T15:11:02Z",
          "author_association": "CONTRIBUTOR",
          "body": "That's a great deal!\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/156816940/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/156841519",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-156841519",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 156841519,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1Njg0MTUxOQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-15T18:24:28Z",
          "updated_at": "2015-11-15T18:24:28Z",
          "author_association": "COLLABORATOR",
          "body": "> What do you mean by eliminating? You mean like rewrite tensordot using K.dot?\n\nYes.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/156841519/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/156846407",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-156846407",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 156846407,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1Njg0NjQwNw==",
          "user": {
            "login": "dbonadiman",
            "id": 1776151,
            "node_id": "MDQ6VXNlcjE3NzYxNTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1776151?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dbonadiman",
            "html_url": "https://github.com/dbonadiman",
            "followers_url": "https://api.github.com/users/dbonadiman/followers",
            "following_url": "https://api.github.com/users/dbonadiman/following{/other_user}",
            "gists_url": "https://api.github.com/users/dbonadiman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dbonadiman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dbonadiman/subscriptions",
            "organizations_url": "https://api.github.com/users/dbonadiman/orgs",
            "repos_url": "https://api.github.com/users/dbonadiman/repos",
            "events_url": "https://api.github.com/users/dbonadiman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dbonadiman/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-15T19:45:38Z",
          "updated_at": "2015-11-15T19:45:38Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet @fchollet Theano already did that they switched from a \"fancy\" tensor dot implementation to the simple dot here is the function that does the trick.\n\nhttps://github.com/Theano/Theano/blob/33c976054771cbf43c3f9cf01463eca840072f43/theano/tensor/basic.py#L5507\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/156846407/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/156909093",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-156909093",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 156909093,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1NjkwOTA5Mw==",
          "user": {
            "login": "EderSantana",
            "id": 3902480,
            "node_id": "MDQ6VXNlcjM5MDI0ODA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3902480?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EderSantana",
            "html_url": "https://github.com/EderSantana",
            "followers_url": "https://api.github.com/users/EderSantana/followers",
            "following_url": "https://api.github.com/users/EderSantana/following{/other_user}",
            "gists_url": "https://api.github.com/users/EderSantana/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EderSantana/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EderSantana/subscriptions",
            "organizations_url": "https://api.github.com/users/EderSantana/orgs",
            "repos_url": "https://api.github.com/users/EderSantana/repos",
            "events_url": "https://api.github.com/users/EderSantana/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EderSantana/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-16T03:55:06Z",
          "updated_at": "2015-11-16T03:55:06Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet for problems with convolutions did you check if they do correlation like theano does? At least this was a difference between Theano and Caffe conv.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/156909093/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/156957866",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-156957866",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 156957866,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1Njk1Nzg2Ng==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-16T08:49:44Z",
          "updated_at": "2015-11-16T08:49:44Z",
          "author_association": "COLLABORATOR",
          "body": "@EderSantana possible, but that wouldn't explain the maxpooling issue. I suspect the issue is with the shape format used. But really, I don't know.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/156957866/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/157788135",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-157788135",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 157788135,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1Nzc4ODEzNQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-18T17:29:11Z",
          "updated_at": "2015-11-18T17:29:11Z",
          "author_association": "COLLABORATOR",
          "body": "I hope we can release the dual-backend version within the same timeline as Python3 support in TensorFlow, probably about 2 weeks. \n\nMain hurdles are `scan`/`rnn` and understanding the conv2d / maxpooling2d discrepancy.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/157788135/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/157909584",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-157909584",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 157909584,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1NzkwOTU4NA==",
          "user": {
            "login": "EderSantana",
            "id": 3902480,
            "node_id": "MDQ6VXNlcjM5MDI0ODA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3902480?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EderSantana",
            "html_url": "https://github.com/EderSantana",
            "followers_url": "https://api.github.com/users/EderSantana/followers",
            "following_url": "https://api.github.com/users/EderSantana/following{/other_user}",
            "gists_url": "https://api.github.com/users/EderSantana/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EderSantana/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EderSantana/subscriptions",
            "organizations_url": "https://api.github.com/users/EderSantana/orgs",
            "repos_url": "https://api.github.com/users/EderSantana/repos",
            "events_url": "https://api.github.com/users/EderSantana/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EderSantana/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-19T00:36:46Z",
          "updated_at": "2015-11-19T04:37:34Z",
          "author_association": "CONTRIBUTOR",
          "body": "For a unifying API, I believe we will have to write a \"scan\" for TensorFlow. Basically TF handles for loops with regular python `for`. So, we just have to create a function around it with the same API as scan. I started a little example here:\nhttps://github.com/EderSantana/TwistedFate/blob/master/Fibonacci.ipynb\n\nBut, this doesn't mean we cannot use the optimized RNNCells that already come with TF. For example, when using Theano, we have our own LSTM code, but when using TF, we just switch to models.rnn_cell.LSTMCell.\n\nWhat do you think?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/157909584/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/157912490",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-157912490",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 157912490,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1NzkxMjQ5MA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-19T00:55:35Z",
          "updated_at": "2015-11-19T00:55:35Z",
          "author_association": "COLLABORATOR",
          "body": "> What do you think?\n\nCool stuff! Would you see RNN cells as part of the backend? (full implementations in Theano and thin wrappers in TF).\n\nBy the way, if we are going to reimplement scan in TF, why not try to improve its API? I know lots of people are not fond of the `scan` API. If we can figure out something better that will work with both backends, why not...\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/157912490/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/157951078",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-157951078",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 157951078,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1Nzk1MTA3OA==",
          "user": {
            "login": "EderSantana",
            "id": 3902480,
            "node_id": "MDQ6VXNlcjM5MDI0ODA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3902480?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EderSantana",
            "html_url": "https://github.com/EderSantana",
            "followers_url": "https://api.github.com/users/EderSantana/followers",
            "following_url": "https://api.github.com/users/EderSantana/following{/other_user}",
            "gists_url": "https://api.github.com/users/EderSantana/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EderSantana/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EderSantana/subscriptions",
            "organizations_url": "https://api.github.com/users/EderSantana/orgs",
            "repos_url": "https://api.github.com/users/EderSantana/repos",
            "events_url": "https://api.github.com/users/EderSantana/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EderSantana/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-19T04:57:12Z",
          "updated_at": "2015-11-19T05:08:56Z",
          "author_association": "CONTRIBUTOR",
          "body": "> (full implementations in Theano and thin wrappers in TF).\n\nI think it can be done. TF's `step` functions are implemented as RNNCells on `tensorflow.models.rnn_cell`. Their `scan` is on `tensorflow.models.rnn` which is just a for loop. When using the TF backend and regular models (LSTMs and GRUs) we could just use their code. The problem would be importing from one backend to another. In that sense, having everything \"made in Keras\" would be nicer.\n\n> By the way, if we are going to reimplement scan in TF, why not try to improve its API?\n\nWell remembered! I was thinking like \"Theano scan is set on stone, but TF is flexible, so...\" . But you are right. I forgot that that there is work started on Lasagne to unroll scan. Theano scan is defined here (in 1119 lines of code, counting docs):\nhttps://github.com/Theano/Theano/blob/master/theano/scan_module/scan.py\n\nMeanwhile, unroll_scan is just 70 lines:\nhttps://github.com/Lasagne/Lasagne/blob/80b61cb1bda4d2a3eca1a8b97f0ccfc4ed8205b4/lasagne/utils.py#L340-L411\n\nMaybe we should use the second as reference and come up with an API in the Keras way of doing things. +1 if it could be one code for both Theano and TF. \n\nSo, what would be the wish list for this new way of doing loops?\n\nEdit:\nLooking carefully, both TF and Theano RNNs can be implemented with simple for-loops. The unified API is super feasible. The idea of separating the inner operations (step) from the loop itself (scan) is actually nice IMHO. `scan` is just a decorator over `step`.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/157951078/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/158136484",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-158136484",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 158136484,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODEzNjQ4NA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-19T17:55:51Z",
          "updated_at": "2015-11-19T17:56:26Z",
          "author_association": "COLLABORATOR",
          "body": "A few thoughts:\n- a more elegant API than `scan` is possible. So far I've been finding the TF approach to RNNs more intuitive.\n- it would great to be able to define a recurrent layer in Keras by simply specifying the step function and the states. It would also considerably reduce redundancy in `recurrent.py`. This API change is an opportunity to achieve that.\n- RNNs have been a key use case of Keras so far. Keras should establish itself as the best solution for RNNs going forward, in particular it should be superior to vanilla TensorFlow.\n\nI'm nearly done with the dual-backend conversion for everything except RNNs (I'll finish it up this week-end). Would you like to look together in detail at how to design the best dual-backend API for RNNs?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/158136484/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/158149183",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-158149183",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 158149183,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODE0OTE4Mw==",
          "user": {
            "login": "dbonadiman",
            "id": 1776151,
            "node_id": "MDQ6VXNlcjE3NzYxNTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1776151?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dbonadiman",
            "html_url": "https://github.com/dbonadiman",
            "followers_url": "https://api.github.com/users/dbonadiman/followers",
            "following_url": "https://api.github.com/users/dbonadiman/following{/other_user}",
            "gists_url": "https://api.github.com/users/dbonadiman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dbonadiman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dbonadiman/subscriptions",
            "organizations_url": "https://api.github.com/users/dbonadiman/orgs",
            "repos_url": "https://api.github.com/users/dbonadiman/repos",
            "events_url": "https://api.github.com/users/dbonadiman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dbonadiman/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-19T18:34:48Z",
          "updated_at": "2015-11-19T18:34:48Z",
          "author_association": "CONTRIBUTOR",
          "body": "In general i would agree, Api level the Tensorflow approach is more\nintuitive. Another things to address from my point of view is the problem\nof training RNN on GPU the current theano scan is inefficient as hell when\ntraining on GPU. The possibility to unfold the recursion should be a must\nhave in this scenario.\n\nUnfold discussion apart the mayor limitation of using Theano scan to\nachieve that is the fact that we need to make simpler the use of layers as\nfunction so that it is possible to pass directly a container into the scan,\nand in particular we need to separate all the sequential and not sequential\nparameters  since they  needs to be directly specified in the scan. Am i\nright? or am i missing something?\n\n_Daniele Bonadiman_\n\nOn Thu, Nov 19, 2015 at 6:55 PM, Fran\u00e7ois Chollet notifications@github.com\nwrote:\n\n> A few thoughts:\n> - a more elegant API than scan is possible. So far I've been finding\n>   the TF approach to RNNs more intuitive.\n> - it would great to be able to define a recurrent layer in Keras by\n>   simply specifying the step function and the states. This API change is an\n>   opportunity to achieve that.\n> - RNNs have been a key use case of Keras so far. Keras should\n>   establish itself as the best solution for RNNs going forward, in particular\n>   it should be superior to vanilla TensorFlow.\n> \n> I'm nearly done with the dual-backend conversion for everything except\n> RNNs (I'll finish it up this week-end). Would you like to look together in\n> detail at how to design the best dual-backend API for RNNs?\n> \n> \u2014\n> Reply to this email directly or view it on GitHub\n> https://github.com/fchollet/keras/issues/1014#issuecomment-158136484.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/158149183/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/158256806",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-158256806",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 158256806,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODI1NjgwNg==",
          "user": {
            "login": "EderSantana",
            "id": 3902480,
            "node_id": "MDQ6VXNlcjM5MDI0ODA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3902480?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EderSantana",
            "html_url": "https://github.com/EderSantana",
            "followers_url": "https://api.github.com/users/EderSantana/followers",
            "following_url": "https://api.github.com/users/EderSantana/following{/other_user}",
            "gists_url": "https://api.github.com/users/EderSantana/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EderSantana/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EderSantana/subscriptions",
            "organizations_url": "https://api.github.com/users/EderSantana/orgs",
            "repos_url": "https://api.github.com/users/EderSantana/repos",
            "events_url": "https://api.github.com/users/EderSantana/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EderSantana/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-20T01:56:01Z",
          "updated_at": "2015-11-20T02:49:33Z",
          "author_association": "CONTRIBUTOR",
          "body": "> the fact that we need to make simpler the use of layers as\n> function so that it is possible to pass directly a container into the scan\n\nI ran into that problem with the Neural Turing Machine implementation. It was hard to model reuse. But this is something Keras could get from TF, to have layers with a `__call__` method. Right now we only have `get_output` which forces us to define a `previous_layer` or to set `input` to be able to use a layer or model as a function inside another model/layer. [HERE](https://github.com/tensorflow/tensorflow/blob/master/tensorflow/models/rnn/rnn_cell.py#L93-L97) is what I mean. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/158256806/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/158456291",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-158456291",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 158456291,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODQ1NjI5MQ==",
          "user": {
            "login": "jeffzhengye",
            "id": 4641009,
            "node_id": "MDQ6VXNlcjQ2NDEwMDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4641009?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jeffzhengye",
            "html_url": "https://github.com/jeffzhengye",
            "followers_url": "https://api.github.com/users/jeffzhengye/followers",
            "following_url": "https://api.github.com/users/jeffzhengye/following{/other_user}",
            "gists_url": "https://api.github.com/users/jeffzhengye/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jeffzhengye/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jeffzhengye/subscriptions",
            "organizations_url": "https://api.github.com/users/jeffzhengye/orgs",
            "repos_url": "https://api.github.com/users/jeffzhengye/repos",
            "events_url": "https://api.github.com/users/jeffzhengye/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jeffzhengye/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-20T16:47:30Z",
          "updated_at": "2015-11-20T16:47:30Z",
          "author_association": "CONTRIBUTOR",
          "body": "I discussed with @dbonadiman about the possible bugs in RNNs, especially the bidirectional RNNs. \n@dbonadiman referred to state the problem here since you guys are trying to re-implement the scan function. \n1. for the bidriectional rnn, I suspect it's having problem, when we set return_sequences==False. \n   Say we do left padding (e.g input=[0, 0, 0, 3, 5], 0 indicates mask in embedding), it's fine to scan from left to right. However, when you reverse (scan from right to left) (then input=[5, 3, 0, 0, 0]), the output we get from with return_sequences==False is the hidden state of '0', instead of '3', which is wrong to me. @fchollet How do you thing? Is it a bug?\n2. if that's the case, then we will have problems when we do right-padding.\n3. BTW, since you mentioned seya in this, seya's implementation also seems buggy to me since they do Xb = Xb[::-1]. They reverse the first dimension, which is unfortunately the batch size dimension.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/158456291/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/158688612",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-158688612",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 158688612,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODY4ODYxMg==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-21T22:48:54Z",
          "updated_at": "2015-11-21T22:48:54Z",
          "author_association": "COLLABORATOR",
          "body": "What about a `Recurrent` meta-layer that can be used to instantiate new RNN layers:\n\n``` python\ndef step_function(input, states):\n   # blah blah\n   return output, new_states\n\nVLSTM = Recurrent(step=step_function, initial_states)\n# standardized arguments across RNN layers\nmodel.append(VLSTM(128, return_sequences=True, ...) \n```\n\nThis would really be a thin wrapper around a `rnn` function in the backends.\n- easy instantiation of new RNN types\n- no redundancy in `recurrent.py`\n- no more `scan` (it's hidden in the Theano backend)\n- more standardization\n- easy to setup statefulness: just store the states internally in the layer and reload them if `stateful=True`\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/158688612/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/158688728",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-158688728",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 158688728,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODY4ODcyOA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-21T22:52:16Z",
          "updated_at": "2015-11-21T22:52:16Z",
          "author_association": "COLLABORATOR",
          "body": "> But this is something Keras could get from TF, to have layers with a **call** method. Right now we only have get_output which forces us to define a previous_layer or to set input to be able to use a layer or model as a function inside another model/layer. \n\nIt is unclear how this is necessary in Keras. Keras is OO and wouldn't really benefit from more pseudo-functional sugar... if you want to run a layer on a specific input outside of a model (which is almost never necessary unless you are writing unit tests), you can add one line and do:\n\n``` python\nlayer.input = K.variable(some_numpy_array)\nresult = layer.get_output()\n```\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/158688728/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/158689555",
          "html_url": "https://github.com/keras-team/keras/issues/1014#issuecomment-158689555",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/1014",
          "id": 158689555,
          "node_id": "MDEyOklzc3VlQ29tbWVudDE1ODY4OTU1NQ==",
          "user": {
            "login": "EderSantana",
            "id": 3902480,
            "node_id": "MDQ6VXNlcjM5MDI0ODA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3902480?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EderSantana",
            "html_url": "https://github.com/EderSantana",
            "followers_url": "https://api.github.com/users/EderSantana/followers",
            "following_url": "https://api.github.com/users/EderSantana/following{/other_user}",
            "gists_url": "https://api.github.com/users/EderSantana/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EderSantana/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EderSantana/subscriptions",
            "organizations_url": "https://api.github.com/users/EderSantana/orgs",
            "repos_url": "https://api.github.com/users/EderSantana/repos",
            "events_url": "https://api.github.com/users/EderSantana/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EderSantana/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2015-11-21T23:07:34Z",
          "updated_at": "2015-11-21T23:07:34Z",
          "author_association": "CONTRIBUTOR",
          "body": "> It is unclear how this is necessary in Keras.\n\nHere is an example: A Spatial Transformer Network has a localization module that can be any DNN with 6 outputs. Does, it is natural to pass a Sequential model (here locnet) as a parameter to a STN. The STN is a layer itself. The input of that locnet should be same as the input of the STN itself. In that case we cannot just say inside the STN:\n\n``` python\nX = self.get_input()\nY = self.locanet.get_output(X)\n```\n\nWe have to:\n\n``` python\nX = self.get_input()\nself.model.layers[0].input = X # This line is not the most intuitive\nY = self.model.get_output() \n```\n\nObviously, this is not super necessary or a biggy, it's just one extra line (although an unclear one). In seya, I just created a utility function called `apply_model`:\n\n``` python\nX = self.get_input()\nY = apply_model(self.locnet, X)\n```\n\nI could bring it here if others find it useful.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/158689555/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/3653",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/3653/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/3653/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/3653/events",
      "html_url": "https://github.com/keras-team/keras/issues/3653",
      "id": 174392137,
      "node_id": "MDU6SXNzdWUxNzQzOTIxMzc=",
      "number": 3653,
      "title": "Keras - how to use class_weight with 3D data",
      "user": {
        "login": "bsafacicek",
        "id": 20879541,
        "node_id": "MDQ6VXNlcjIwODc5NTQx",
        "avatar_url": "https://avatars.githubusercontent.com/u/20879541?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bsafacicek",
        "html_url": "https://github.com/bsafacicek",
        "followers_url": "https://api.github.com/users/bsafacicek/followers",
        "following_url": "https://api.github.com/users/bsafacicek/following{/other_user}",
        "gists_url": "https://api.github.com/users/bsafacicek/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/bsafacicek/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/bsafacicek/subscriptions",
        "organizations_url": "https://api.github.com/users/bsafacicek/orgs",
        "repos_url": "https://api.github.com/users/bsafacicek/repos",
        "events_url": "https://api.github.com/users/bsafacicek/events{/privacy}",
        "received_events_url": "https://api.github.com/users/bsafacicek/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 66,
      "created_at": "2016-08-31T22:14:25Z",
      "updated_at": "2022-02-28T01:56:16Z",
      "closed_at": "2021-06-24T21:21:24Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "Hi, \n\nI am using Keras to segment images to road and background pixels. As you can imagine percentage of road pixels are much lower than that of background pixels. Hence, I want to use class_weight= {0:0.05, 1:0.95} while fitting the model so that cnn won't predict every pixel as background. But, when I do this I got the following error:\n\n  File \"/usr/local/lib/python2.7/dist-packages/keras/models.py\", line 597, in fit\n    sample_weight=sample_weight)\n  File \"/usr/local/lib/python2.7/dist-packages/keras/engine/training.py\", line 1035, in fit\n    batch_size=batch_size)\n  File \"/usr/local/lib/python2.7/dist-packages/keras/engine/training.py\", line 973, in _standardize_user_data\n    in zip(y, sample_weights, class_weights, self.sample_weight_modes)]\n  File \"/usr/local/lib/python2.7/dist-packages/keras/engine/training.py\", line 387, in standardize_weights\n    raise Exception('class_weight not supported for '\nException: class_weight not supported for 3+ dimensional targets.\n\nMy  training labels are in this form: (number_of_training_samples=10000, number_of_pixels_in_patch=16384, number_of_classes=2). How can I weight the classes in Keras?\n\nThanks in advance.   \n",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/3653/reactions",
        "total_count": 18,
        "+1": 18,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/3653/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/243939748",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-243939748",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 243939748,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0MzkzOTc0OA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-09-01T00:11:21Z",
          "updated_at": "2016-09-01T00:11:29Z",
          "author_association": "COLLABORATOR",
          "body": "You should use `sample_weight` instead. `class_weight` is not supported for 3+ dimensional targets because the concept of class is ambiguous in that case.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/243939748/reactions",
            "total_count": 12,
            "+1": 12,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/244763812",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-244763812",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 244763812,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0NDc2MzgxMg==",
          "user": {
            "login": "uschmidt83",
            "id": 231996,
            "node_id": "MDQ6VXNlcjIzMTk5Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/231996?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/uschmidt83",
            "html_url": "https://github.com/uschmidt83",
            "followers_url": "https://api.github.com/users/uschmidt83/followers",
            "following_url": "https://api.github.com/users/uschmidt83/following{/other_user}",
            "gists_url": "https://api.github.com/users/uschmidt83/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/uschmidt83/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/uschmidt83/subscriptions",
            "organizations_url": "https://api.github.com/users/uschmidt83/orgs",
            "repos_url": "https://api.github.com/users/uschmidt83/repos",
            "events_url": "https://api.github.com/users/uschmidt83/events{/privacy}",
            "received_events_url": "https://api.github.com/users/uschmidt83/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-09-05T14:48:40Z",
          "updated_at": "2016-09-05T14:48:40Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi, I have the same problem.\n\nI don't understand how this can be accomplished by using `sample_weight` since every pixel of a sample requires a different weight based on its class. Or do you suggest to do this by using  `sample_weight_mode=\"temporal\"`?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/244763812/reactions",
            "total_count": 6,
            "+1": 6,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/245717177",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-245717177",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 245717177,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTcxNzE3Nw==",
          "user": {
            "login": "bsafacicek",
            "id": 20879541,
            "node_id": "MDQ6VXNlcjIwODc5NTQx",
            "avatar_url": "https://avatars.githubusercontent.com/u/20879541?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bsafacicek",
            "html_url": "https://github.com/bsafacicek",
            "followers_url": "https://api.github.com/users/bsafacicek/followers",
            "following_url": "https://api.github.com/users/bsafacicek/following{/other_user}",
            "gists_url": "https://api.github.com/users/bsafacicek/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bsafacicek/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bsafacicek/subscriptions",
            "organizations_url": "https://api.github.com/users/bsafacicek/orgs",
            "repos_url": "https://api.github.com/users/bsafacicek/repos",
            "events_url": "https://api.github.com/users/bsafacicek/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bsafacicek/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-09-08T19:45:44Z",
          "updated_at": "2016-09-08T19:46:41Z",
          "author_association": "NONE",
          "body": "Hi, \n\nI also could not get how to use sample_weight for class weighting. Because keras requires that length of the sample_weight should be the same as that of the first dimension of the class labels. But, class labels have also second and third dimensions for image height and width. And to weight the class types, I should weight the pixel labels not just the whole image. \n\nThanks.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/245717177/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/246325525",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-246325525",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 246325525,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI0NjMyNTUyNQ==",
          "user": {
            "login": "uschmidt83",
            "id": 231996,
            "node_id": "MDQ6VXNlcjIzMTk5Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/231996?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/uschmidt83",
            "html_url": "https://github.com/uschmidt83",
            "followers_url": "https://api.github.com/users/uschmidt83/followers",
            "following_url": "https://api.github.com/users/uschmidt83/following{/other_user}",
            "gists_url": "https://api.github.com/users/uschmidt83/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/uschmidt83/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/uschmidt83/subscriptions",
            "organizations_url": "https://api.github.com/users/uschmidt83/orgs",
            "repos_url": "https://api.github.com/users/uschmidt83/repos",
            "events_url": "https://api.github.com/users/uschmidt83/events{/privacy}",
            "received_events_url": "https://api.github.com/users/uschmidt83/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-09-12T11:57:49Z",
          "updated_at": "2016-09-12T11:57:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "To follow up on this, I got it to work using `sample_weight`. It is quite nice if you know what you have to do. Unfortunately, the documentation is not really clear on this, presumably because this feature was originally added for time series data.\n- You need to reshape your 2D image-sized output as a vector before the loss function when you specify your model.\n- Use `sample_weight_mode=\"temporal\"` when you compile the model. This will allow you to pass in a weight matrix for training where each row represents the weight vector for a single sample.\n\nI hope that helps.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/246325525/reactions",
            "total_count": 15,
            "+1": 15,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/270356322",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-270356322",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 270356322,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDM1NjMyMg==",
          "user": {
            "login": "rdelassus",
            "id": 5568514,
            "node_id": "MDQ6VXNlcjU1Njg1MTQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5568514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rdelassus",
            "html_url": "https://github.com/rdelassus",
            "followers_url": "https://api.github.com/users/rdelassus/followers",
            "following_url": "https://api.github.com/users/rdelassus/following{/other_user}",
            "gists_url": "https://api.github.com/users/rdelassus/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rdelassus/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rdelassus/subscriptions",
            "organizations_url": "https://api.github.com/users/rdelassus/orgs",
            "repos_url": "https://api.github.com/users/rdelassus/repos",
            "events_url": "https://api.github.com/users/rdelassus/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rdelassus/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-04T12:03:52Z",
          "updated_at": "2017-01-04T12:04:03Z",
          "author_association": "NONE",
          "body": "Hey @kkog, I got exactly the same issue, did you find any solution?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/270356322/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/270359126",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-270359126",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 270359126,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MDM1OTEyNg==",
          "user": {
            "login": "rdelassus",
            "id": 5568514,
            "node_id": "MDQ6VXNlcjU1Njg1MTQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5568514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rdelassus",
            "html_url": "https://github.com/rdelassus",
            "followers_url": "https://api.github.com/users/rdelassus/followers",
            "following_url": "https://api.github.com/users/rdelassus/following{/other_user}",
            "gists_url": "https://api.github.com/users/rdelassus/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rdelassus/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rdelassus/subscriptions",
            "organizations_url": "https://api.github.com/users/rdelassus/orgs",
            "repos_url": "https://api.github.com/users/rdelassus/repos",
            "events_url": "https://api.github.com/users/rdelassus/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rdelassus/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-04T12:22:35Z",
          "updated_at": "2017-01-04T12:22:35Z",
          "author_association": "NONE",
          "body": "@uschmidt83 \r\nyou said \"This will allow you to pass in a weight matrix for training where each row represents the weight vector for a single sample.\"\r\n\r\nBut this is not very clear. how did you build you weight vector? Say I have 3 classes, my weight vector size will be equals to the number of pixels in my image, with values being weight_0, weight_1 and weight_2? seems like a waste of space, maybe I'm wrong?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/270359126/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/272836253",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-272836253",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 272836253,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI3MjgzNjI1Mw==",
          "user": {
            "login": "uschmidt83",
            "id": 231996,
            "node_id": "MDQ6VXNlcjIzMTk5Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/231996?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/uschmidt83",
            "html_url": "https://github.com/uschmidt83",
            "followers_url": "https://api.github.com/users/uschmidt83/followers",
            "following_url": "https://api.github.com/users/uschmidt83/following{/other_user}",
            "gists_url": "https://api.github.com/users/uschmidt83/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/uschmidt83/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/uschmidt83/subscriptions",
            "organizations_url": "https://api.github.com/users/uschmidt83/orgs",
            "repos_url": "https://api.github.com/users/uschmidt83/repos",
            "events_url": "https://api.github.com/users/uschmidt83/events{/privacy}",
            "received_events_url": "https://api.github.com/users/uschmidt83/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-01-16T11:23:08Z",
          "updated_at": "2017-01-16T11:23:08Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @rdelassus,\r\n\r\n> Say I have 3 classes, my weight vector size will be equals to the number of pixels in my image, with values being weight_0, weight_1 and weight_2? seems like a waste of space, maybe I'm wrong?\r\n\r\nit seems like a waste of space for your particular use case, although I doubt that this actually matters much in practice. However, it also allows much more fine-grained control, which is probably crucial for other applications/models.\r\n\r\nSorry for the late reply.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/272836253/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/300851287",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-300851287",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 300851287,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDg1MTI4Nw==",
          "user": {
            "login": "trogloditee",
            "id": 19578852,
            "node_id": "MDQ6VXNlcjE5NTc4ODUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/19578852?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/trogloditee",
            "html_url": "https://github.com/trogloditee",
            "followers_url": "https://api.github.com/users/trogloditee/followers",
            "following_url": "https://api.github.com/users/trogloditee/following{/other_user}",
            "gists_url": "https://api.github.com/users/trogloditee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/trogloditee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/trogloditee/subscriptions",
            "organizations_url": "https://api.github.com/users/trogloditee/orgs",
            "repos_url": "https://api.github.com/users/trogloditee/repos",
            "events_url": "https://api.github.com/users/trogloditee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/trogloditee/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-11T16:55:46Z",
          "updated_at": "2017-05-11T16:56:52Z",
          "author_association": "CONTRIBUTOR",
          "body": "@uschmidt83 I'm having trouble making this work and wonder if you have an insight.\r\n\r\nI have 4 classes in a semantic segmentation task, and my class weights are\r\n\r\n    class_weights = {0: 0.41, 1: 1.87, 2: 1.1, 3: 7.05}\r\n\r\nWhen I put this in `class_weight` within `model.fit` I get the same error as you mentioned above.\r\n\r\n    Exception: class_weight not supported for 3+ dimensional targets.\r\n\r\nWhen I change `class_weight` to `sample_weight` within `model.fit`\r\nand add `sample_weight_mode='temporal'` within `model.compile`, I get\r\n\r\n```\r\nline 528, in _standardize_weights\r\n    if sample_weight is not None and len(sample_weight.shape) != 2:\r\nAttributeError: 'dict' object has no attribute 'shape'\r\n```\r\n\r\nThe shapes in the final portions of the model are\r\n```\r\nconv2d_19 (Conv2D)           (None, 4, 64, 64)         260       \r\n_________________________________________________________________\r\nreshape_1 (Reshape)          (None, 4, 4096)           0         \r\n_________________________________________________________________\r\npermute_1 (Permute)          (None, 4096, 4)           0         \r\n_________________________________________________________________\r\nactivation_1 (Activation)    (None, 4096, 4)           0         \r\n```\r\n\r\nDo you have any suggestions to get this to work?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/300851287/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/301586463",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-301586463",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 301586463,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTU4NjQ2Mw==",
          "user": {
            "login": "kglspl",
            "id": 28658732,
            "node_id": "MDQ6VXNlcjI4NjU4NzMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/28658732?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kglspl",
            "html_url": "https://github.com/kglspl",
            "followers_url": "https://api.github.com/users/kglspl/followers",
            "following_url": "https://api.github.com/users/kglspl/following{/other_user}",
            "gists_url": "https://api.github.com/users/kglspl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kglspl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kglspl/subscriptions",
            "organizations_url": "https://api.github.com/users/kglspl/orgs",
            "repos_url": "https://api.github.com/users/kglspl/repos",
            "events_url": "https://api.github.com/users/kglspl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kglspl/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-15T19:56:33Z",
          "updated_at": "2017-05-15T19:56:33Z",
          "author_association": "NONE",
          "body": "@mptorr I am facing a similar problem but am stuck elsewhere... However, the way I understand @uschmidt83's suggestion you need to use:\r\n\r\n    class_weights = np.zeros((4096, 4))\r\n    class_weights[:, 0] += 0.41\r\n    class_weights[:, 1] += 1.87\r\n    class_weights[:, 2] += 1.1\r\n    class_weights[:, 3] += 7.05\r\n\r\nHope it helps, please let us know how it goes. And if anyone knows more feel free to chime in. ;-)",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/301586463/reactions",
            "total_count": 4,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/301646632",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-301646632",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 301646632,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwMTY0NjYzMg==",
          "user": {
            "login": "trogloditee",
            "id": 19578852,
            "node_id": "MDQ6VXNlcjE5NTc4ODUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/19578852?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/trogloditee",
            "html_url": "https://github.com/trogloditee",
            "followers_url": "https://api.github.com/users/trogloditee/followers",
            "following_url": "https://api.github.com/users/trogloditee/following{/other_user}",
            "gists_url": "https://api.github.com/users/trogloditee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/trogloditee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/trogloditee/subscriptions",
            "organizations_url": "https://api.github.com/users/trogloditee/orgs",
            "repos_url": "https://api.github.com/users/trogloditee/repos",
            "events_url": "https://api.github.com/users/trogloditee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/trogloditee/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-16T01:09:45Z",
          "updated_at": "2017-05-16T01:09:45Z",
          "author_association": "CONTRIBUTOR",
          "body": "@kglspl by reshaping my layers, I can actually use `sample_weight`---my issue is now how to do this with data augmentation, if you have time look at #6629 and let me know if you have an insight, thanks",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/301646632/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/302965034",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-302965034",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 302965034,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwMjk2NTAzNA==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-21T21:37:24Z",
          "updated_at": "2017-05-21T21:37:24Z",
          "author_association": "CONTRIBUTOR",
          "body": "Figured out where some changes could happen to make progress in this direction. https://github.com/fchollet/keras/issues/6538#issuecomment-302964746",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/302965034/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304803937",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-304803937",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 304803937,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDgwMzkzNw==",
          "user": {
            "login": "ezisezis",
            "id": 3252744,
            "node_id": "MDQ6VXNlcjMyNTI3NDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3252744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ezisezis",
            "html_url": "https://github.com/ezisezis",
            "followers_url": "https://api.github.com/users/ezisezis/followers",
            "following_url": "https://api.github.com/users/ezisezis/following{/other_user}",
            "gists_url": "https://api.github.com/users/ezisezis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ezisezis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ezisezis/subscriptions",
            "organizations_url": "https://api.github.com/users/ezisezis/orgs",
            "repos_url": "https://api.github.com/users/ezisezis/repos",
            "events_url": "https://api.github.com/users/ezisezis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ezisezis/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-30T08:00:08Z",
          "updated_at": "2017-05-30T08:00:08Z",
          "author_association": "NONE",
          "body": "@kglspl @mptorr I tried to set the sample weights like suggested. I have a binary pixel-wise classification task that i want to perform that takes in 100x100 images and outputs the same resolution images basically. On final layer I reshape the output so it is the same as in @mptorr arcitecture above. Here is my arch:\r\n```_________________________________________________________________\r\nLayer (type)                 Output Shape              Param #   \r\n=================================================================\r\ninput_1 (InputLayer)         (None, 100, 100, 3)       0         \r\n_________________________________________________________________\r\nzero_padding2d_1 (ZeroPaddin (None, 104, 104, 3)       0         \r\n_________________________________________________________________\r\nconv1 (Conv2D)               (None, 102, 102, 32)      896       \r\n_________________________________________________________________\r\npool1 (MaxPooling2D)         (None, 51, 51, 32)        0         \r\n_________________________________________________________________\r\nconv2 (Conv2D)               (None, 49, 49, 32)        9248      \r\n_________________________________________________________________\r\npool2 (MaxPooling2D)         (None, 25, 25, 32)        0         \r\n_________________________________________________________________\r\nfc6 (Conv2D)                 (None, 25, 25, 64)        73792     \r\n_________________________________________________________________\r\ndropout_1 (Dropout)          (None, 25, 25, 64)        0         \r\n_________________________________________________________________\r\nfc7 (Conv2D)                 (None, 25, 25, 64)        4160      \r\n_________________________________________________________________\r\ndropout_2 (Dropout)          (None, 25, 25, 64)        0         \r\n_________________________________________________________________\r\nscore_fr (Conv2D)            (None, 25, 25, 2)         130       \r\n_________________________________________________________________\r\nup_sampling2d_1 (UpSampling2 (None, 100, 100, 2)       0         \r\n_________________________________________________________________\r\nreshape_1 (Reshape)          (None, 10000, 2)          0         \r\n=================================================================\r\n```\r\nThen I try setting sample_weight to this (where 13000 is number of training samples):\r\n```\r\nsample_weight = np.zeros((13000,10000,2))\r\nsample_weight[:, 0] += 1\r\nsample_weight[:, 1] += 10\r\n```\r\nBut I get this error:\r\n```\r\nValueError: Found a sample_weight array with shape (13000, 10000, 2). In order to use timestep-wise sample weighting, you should pass a 2D sample_weight array.\r\n```\r\nThen I also tried doing this: \r\n```\r\nsample_weight = np.zeros((10000,2))\r\nsample_weight[:, 0] += 1\r\nsample_weight[:, 1] += 10\r\n```\r\nBut got the following error:\r\n```\r\nValueError: Found a sample_weight array with shape (10000, 2) for an input with shape (13000, 10000, 2). sample_weight cannot be broadcast.\r\n```\r\nSo now I am confused. Buy @mptorr you said you made it work by reshaping the layers. So how exactly did you reshape them and how should I do that in my case?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304803937/reactions",
            "total_count": 6,
            "+1": 6,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304934290",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-304934290",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 304934290,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDkzNDI5MA==",
          "user": {
            "login": "trogloditee",
            "id": 19578852,
            "node_id": "MDQ6VXNlcjE5NTc4ODUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/19578852?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/trogloditee",
            "html_url": "https://github.com/trogloditee",
            "followers_url": "https://api.github.com/users/trogloditee/followers",
            "following_url": "https://api.github.com/users/trogloditee/following{/other_user}",
            "gists_url": "https://api.github.com/users/trogloditee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/trogloditee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/trogloditee/subscriptions",
            "organizations_url": "https://api.github.com/users/trogloditee/orgs",
            "repos_url": "https://api.github.com/users/trogloditee/repos",
            "events_url": "https://api.github.com/users/trogloditee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/trogloditee/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-30T16:31:25Z",
          "updated_at": "2017-05-30T16:32:04Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ezisezis \r\nCould you try reshaping the model output so it ends up like `(None, dimx * dimy, classes)`?\r\nYou can see that happening on my code from above (images are 64*64 = 4096, I have 4 classes):\r\n\r\n```\r\nreshape_1 (Reshape)          (None, 4, 4096)           0         \r\n_________________________________________________________________\r\npermute_1 (Permute)          (None, 4096, 4)           0         \r\n_________________________________________________________________\r\nactivation_1 (Activation)    (None, 4096, 4)           0         \r\n```\r\n\r\nThen reshape your `sample_weight` to `(N, dimx * dimy)`.\r\nAlso make sure your `masks` are `(N, dimx * dimy)`.\r\nEssentially this matches `masks` and `sample_weight` as flattened tensors. I believe my training images are not flattened. Give it a try and let me know.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304934290/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304946225",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-304946225",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 304946225,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDk0NjIyNQ==",
          "user": {
            "login": "ezisezis",
            "id": 3252744,
            "node_id": "MDQ6VXNlcjMyNTI3NDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3252744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ezisezis",
            "html_url": "https://github.com/ezisezis",
            "followers_url": "https://api.github.com/users/ezisezis/followers",
            "following_url": "https://api.github.com/users/ezisezis/following{/other_user}",
            "gists_url": "https://api.github.com/users/ezisezis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ezisezis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ezisezis/subscriptions",
            "organizations_url": "https://api.github.com/users/ezisezis/orgs",
            "repos_url": "https://api.github.com/users/ezisezis/repos",
            "events_url": "https://api.github.com/users/ezisezis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ezisezis/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-30T17:12:57Z",
          "updated_at": "2017-05-30T17:12:57Z",
          "author_association": "NONE",
          "body": "@mptorr I figured it out a bit earlier today with the output i have in previous comment, from 100x100 images, i output a (10000,2) shape. I have 13000 training images and then the sample_weight dimensions are (13000,10000) and it works very well. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304946225/reactions",
            "total_count": 15,
            "+1": 10,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 5,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308141703",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-308141703",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 308141703,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwODE0MTcwMw==",
          "user": {
            "login": "sebastienbaur",
            "id": 11991837,
            "node_id": "MDQ6VXNlcjExOTkxODM3",
            "avatar_url": "https://avatars.githubusercontent.com/u/11991837?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sebastienbaur",
            "html_url": "https://github.com/sebastienbaur",
            "followers_url": "https://api.github.com/users/sebastienbaur/followers",
            "following_url": "https://api.github.com/users/sebastienbaur/following{/other_user}",
            "gists_url": "https://api.github.com/users/sebastienbaur/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sebastienbaur/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sebastienbaur/subscriptions",
            "organizations_url": "https://api.github.com/users/sebastienbaur/orgs",
            "repos_url": "https://api.github.com/users/sebastienbaur/repos",
            "events_url": "https://api.github.com/users/sebastienbaur/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sebastienbaur/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-13T14:50:22Z",
          "updated_at": "2017-06-13T14:52:38Z",
          "author_association": "NONE",
          "body": "I ran into a similar problem, using categorical cross entropy\r\n\r\nMaybe we can just use a weighted version of it ? What do you think of : \r\n`K.sum(K.log(1e-9+predicted_proba) * true_labels * class_weight, axis=(1, 2))`\r\nWhere `predicted_proba`, `true_labels`, `class_weight` are 3 tensors of shape `(batch_size, sequence_length, nb_classes)`\r\n\r\nNote that:\r\n* `class_weight[i, :, :]` is the same array whatever the value of `i`. Let's call that common value `x` (a 2d array)\r\n* `x` is actually rank 1, each of its lines being equal to its first one (ex: [[1,2,3], [1,2,3], [1,2,3], [1,2,3]] if there are 3 classes and sequences have a length of 4). This is because the weight does not depend on the position (you can change that if you need to)\r\n\r\nThat way you can give more importance to rare classes\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308141703/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308166767",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-308166767",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 308166767,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwODE2Njc2Nw==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-13T16:06:06Z",
          "updated_at": "2017-06-13T16:06:06Z",
          "author_association": "CONTRIBUTOR",
          "body": "Could someone post a concise example of this, or perhaps a small pull request in the examples directory? It seems like a number of people would find it very valuable.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308166767/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308350017",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-308350017",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 308350017,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwODM1MDAxNw==",
          "user": {
            "login": "sebastienbaur",
            "id": 11991837,
            "node_id": "MDQ6VXNlcjExOTkxODM3",
            "avatar_url": "https://avatars.githubusercontent.com/u/11991837?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sebastienbaur",
            "html_url": "https://github.com/sebastienbaur",
            "followers_url": "https://api.github.com/users/sebastienbaur/followers",
            "following_url": "https://api.github.com/users/sebastienbaur/following{/other_user}",
            "gists_url": "https://api.github.com/users/sebastienbaur/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sebastienbaur/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sebastienbaur/subscriptions",
            "organizations_url": "https://api.github.com/users/sebastienbaur/orgs",
            "repos_url": "https://api.github.com/users/sebastienbaur/repos",
            "events_url": "https://api.github.com/users/sebastienbaur/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sebastienbaur/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-14T07:50:51Z",
          "updated_at": "2017-06-15T06:59:08Z",
          "author_association": "NONE",
          "body": "Below is what I meant with some code.\r\n\r\nIt is a bit specific to my use case but it should be easy to adapt I guess.\r\n\r\nJust tell me if there is something wrong in it. I think that it gives more weight to rare classes. I may have misunderstood the problem\r\n\r\n```\r\nimport numpy as np\r\nimport keras.backend as K\r\n\r\n\r\nbatch_size = 32\r\nall_y = ...  # a list containing all your class vectors, each being an array of a given size, each of its component being an integer representing a given class\r\n# in my case, I have protein sequences, that I represent as arrays of integers. These integers represent the amino acids composing the sequence (+ the padding char), they are in range(0,21)\r\nbincount = np.bincount(np.concatenate(all_y))\r\nn_samples = 20000\r\nlength = 500  # my proteins have a length of 500\r\nn_classes = 21  # there are 20 amino acids + the padding character\r\nclass_weight = n_samples*1. / (n_classes * bincount)\r\nweights = np.ones((length, n_classes))\r\nfor k, x in enumerate(class_weight):\r\n    weights[:, k] *= x\r\nclass_weight = K.constant(np.concatenate(batch_size*[np.array(weights).reshape((1, length, n_classes))]))\r\n\r\ndef cross_entropy(true, pred):\r\n    return - K.sum(K.log(1e-9+pred) * true * class_weight, axis=(1, 2))\r\n\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308350017/reactions",
            "total_count": 4,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 3,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308927493",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-308927493",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 308927493,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwODkyNzQ5Mw==",
          "user": {
            "login": "ahundt",
            "id": 55744,
            "node_id": "MDQ6VXNlcjU1NzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ahundt",
            "html_url": "https://github.com/ahundt",
            "followers_url": "https://api.github.com/users/ahundt/followers",
            "following_url": "https://api.github.com/users/ahundt/following{/other_user}",
            "gists_url": "https://api.github.com/users/ahundt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ahundt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ahundt/subscriptions",
            "organizations_url": "https://api.github.com/users/ahundt/orgs",
            "repos_url": "https://api.github.com/users/ahundt/repos",
            "events_url": "https://api.github.com/users/ahundt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ahundt/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-16T04:04:20Z",
          "updated_at": "2017-06-16T16:27:37Z",
          "author_association": "CONTRIBUTOR",
          "body": "@sebastienbaur Thanks, that looks like an eay way to add it in. Be careful though! [The raw formulation of cross-entropy in your code can be numerically unstable](https://github.com/tensorflow/tensorflow/blob/r1.1/tensorflow/examples/tutorials/mnist/mnist_softmax.py#L50) as commented in the tensorflow mnist example, so that might affect your results with the code above.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308927493/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309070789",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-309070789",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 309070789,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTA3MDc4OQ==",
          "user": {
            "login": "potis",
            "id": 8717166,
            "node_id": "MDQ6VXNlcjg3MTcxNjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8717166?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/potis",
            "html_url": "https://github.com/potis",
            "followers_url": "https://api.github.com/users/potis/followers",
            "following_url": "https://api.github.com/users/potis/following{/other_user}",
            "gists_url": "https://api.github.com/users/potis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/potis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/potis/subscriptions",
            "organizations_url": "https://api.github.com/users/potis/orgs",
            "repos_url": "https://api.github.com/users/potis/repos",
            "events_url": "https://api.github.com/users/potis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/potis/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-16T16:23:29Z",
          "updated_at": "2017-06-16T16:23:29Z",
          "author_association": "NONE",
          "body": "Hi,\r\n\r\nI am running into the same problem as @ezisezis, using keras 2.0.5 and theano as backend (python 2.7). \r\n\r\nMy goal it to use unet to perform image segmentation but the regions i am trying to segment are of different size. \r\n{0: 75.0, 1: 89.0, 2: 61.0, 3: 56.0, 4: 194.0, 5: 1.0}\r\n\r\nI tried to use sample_weight instead of class weight so I compiled the model accordingly:\r\n`model.compile(optimizer=adam, loss='categorical_crossentropy', metrics=[dice_coef], sample_weight_mode=\"temporal\")`\r\n\r\nHere is the input data size:\r\n> (4717, 1, 256, 256)\r\n\r\nThe size of labels:\r\n> (4717, 65536, 6)\r\n\r\nThe size of input weights\r\n\r\n> (4717, 65536, 6)\r\n\r\nThe last layers of my network:\r\n\r\nconv2d_92 (Conv2D)               (None, 6, 256, 256)   33          conv2d_91[0][0]                  \r\n____________________________________________________________________________________________________\r\npermute_4 (Permute)              (None, 256, 256, 6)   0           conv2d_92[0][0]                  \r\n____________________________________________________________________________________________________\r\nreshape_4 (Reshape)              (None, 65536, 6)      0           permute_4[0][0]                  \r\n\r\nAnd finally the error i am getting:\r\n\r\n`ValueError: Found a sample_weight array with shape (4717, 65536, 6). In order to use timestep-wise sample weighting, you should pass a 2D sample_weight array.\r\n`\r\n\r\nThen I tried the suggestion of @mptorr  to reshape your sample_weight to (N, dimx * dimy).\r\nAlso make sure your masks are (N, dimx * dimy). (for my task dimx=dimy=256) but here is the error I got:\r\n`\r\nValueError: Found a sample_weight array with shape (6, 65536) for an input with shape (4717, 6, 65536). sample_weight cannot be broadcast.`\r\n\r\nPlease let me know if you have any suggestion or need more information. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309070789/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309072347",
          "html_url": "https://github.com/keras-team/keras/issues/3653#issuecomment-309072347",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3653",
          "id": 309072347,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTA3MjM0Nw==",
          "user": {
            "login": "ezisezis",
            "id": 3252744,
            "node_id": "MDQ6VXNlcjMyNTI3NDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3252744?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ezisezis",
            "html_url": "https://github.com/ezisezis",
            "followers_url": "https://api.github.com/users/ezisezis/followers",
            "following_url": "https://api.github.com/users/ezisezis/following{/other_user}",
            "gists_url": "https://api.github.com/users/ezisezis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ezisezis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ezisezis/subscriptions",
            "organizations_url": "https://api.github.com/users/ezisezis/orgs",
            "repos_url": "https://api.github.com/users/ezisezis/repos",
            "events_url": "https://api.github.com/users/ezisezis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ezisezis/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-16T16:30:01Z",
          "updated_at": "2017-06-16T16:30:01Z",
          "author_association": "NONE",
          "body": "Dear @potis . If you read carefully what I experienced and how I solved it, then in your case the input_weights shape has to be: (4717,65536) OR, in general - (number_of_images, number_of_pixels_in_img). So, each value in this 2D array is a weight of the class that the pixel belongs to (you dont have to assign 6 values to each pixel, only one - the class's weight). Hope it makes more sense.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/309072347/reactions",
            "total_count": 10,
            "+1": 9,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/3921",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/3921/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/3921/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/3921/events",
      "html_url": "https://github.com/keras-team/keras/issues/3921",
      "id": 180201781,
      "node_id": "MDU6SXNzdWUxODAyMDE3ODE=",
      "number": 3921,
      "title": "\"Merge\" versus \"merge\", what is the difference?",
      "user": {
        "login": "parag2489",
        "id": 6313583,
        "node_id": "MDQ6VXNlcjYzMTM1ODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6313583?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/parag2489",
        "html_url": "https://github.com/parag2489",
        "followers_url": "https://api.github.com/users/parag2489/followers",
        "following_url": "https://api.github.com/users/parag2489/following{/other_user}",
        "gists_url": "https://api.github.com/users/parag2489/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/parag2489/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/parag2489/subscriptions",
        "organizations_url": "https://api.github.com/users/parag2489/orgs",
        "repos_url": "https://api.github.com/users/parag2489/repos",
        "events_url": "https://api.github.com/users/parag2489/events{/privacy}",
        "received_events_url": "https://api.github.com/users/parag2489/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 64,
      "created_at": "2016-09-30T01:40:46Z",
      "updated_at": "2020-04-23T01:34:08Z",
      "closed_at": "2016-09-30T09:09:23Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "I came back to Keras after almost three months and saw a lot of change. I was trying to update my previously working network to Keras 1.1, when I encountered the following issue. \nMy model compiles with **merge** but it doesn't with **Merge**. Eventually, I found it out by trial and error and made my code work. My model is a Siamese network having two channels, with a 256-D Dense layer each at the end (call them C1 and C2). Then I do C1-C2, add another dense in front of C1-C2 layer output, and then the loss. I previously used \"Siamese\" and \"add_shared_layer\", but they don't exist now, so I have to switch to functional API. My code is as follows:\n\n```\ndef create_base_seqNetwork(input_dim):\n    seq = Sequential()\n    seq.add(Convolution2D(64, 11, 11, border_mode='same', trainable=True, init='he_normal', activation='relu',\n                          W_regularizer=l2(regularizer), subsample=(2, 2), input_shape=input_dim))\n    seq.add(MaxPooling2D(pool_size=(2, 2)))\n    seq.add(Convolution2D(64, 5, 5, border_mode='same', trainable=True, init='he_normal', activation='relu',\n                          W_regularizer=l2(regularizer)))\n    seq.add(MaxPooling2D(pool_size=(2, 2)))\n    seq.add(Convolution2D(64, 3, 3, border_mode='same', trainable=True, init='he_normal', activation='relu',\n                          W_regularizer=l2(regularizer)))\n    seq.add(Convolution2D(64, 3, 3, border_mode='same', trainable=True, init='he_normal', activation='relu',\n                          W_regularizer=l2(regularizer)))\n    seq.add(Flatten())\n    seq.add(Dropout(0.5))\n    seq.add(Dense(1000, trainable=True, init='he_normal', activation='relu', W_regularizer=l2(regularizer)))\n    seq.add(Dropout(0.5))\n    seq.add(Dense(256, trainable=True, init='he_normal', activation='linear', W_regularizer=l2(regularizer)))\n    seq.add(Dropout(0.5))\n    return seq\n\ninput_dim = (imgChannels,imgHeight,imgWidth)\nbase_network = create_base_seqNetwork(input_dim)\ninput_a = Input(shape=input_dim)\ninput_b = Input(shape=input_dim)\n\n# because we re-use the same instance `base_network`,\n# the weights of the network\n# will be shared across the two branches\nprocessed_a = base_network(input_a)\nprocessed_b = base_network(input_b)\nprocessed_b = Lambda(lambda x:-x)(processed_b)\n\n############################################################\n# replace merge by Merge and the network won't compile\nmodel = merge([processed_a, processed_b], mode='sum')\n############################################################\n\nmodel = Dense(512,init='he_normal',activation='relu',trainable=True)(model)\nmodel = Dropout(0.5)(model)\nmodel = Dense(1,init='he_normal',activation='linear',trainable=True)(model)\nmodel = Model(input=[input_a, input_b], output=model)\nprinting(\"Built the model\")\n\nsgd = SGD(lr=LearningRate, decay=1e-6, momentum=0.9, nesterov=True)\nmodel.compile(loss=someLoss, optimizer=sgd)\nprinting(\"Compilation finished\")\n```\n\nSo as the question title says, what is the difference between \"merge\" and \"Merge\". I think \"Merge\" is used when you want to sum/concat/mul two Sequential() models. The \"merge\" is used when you are working with functional API. However, this is not written anywhere in the documentation. Additionally, Sequential documentation has a section called the \"Merge\" layer, but when I navigate to the functional API example, there is \"merge\" everywhere. This is a subtle difference, not very easy to observe unless written explicitly. \n\nAdditionally, you can import \"Merge/merge\" in at least four different ways:\n\n```\nfrom keras.layers import merge,  # works\nfrom keras.layers import Merge,  # doesn't work\nfrom keras.engine.topology.merge,  # works\nfrom keras.engine.toplogy.Merge # doesn't work\n```\n\nSo are two \"merge\" and the other two \"Merge\" any different?\n\nIf \"merge\" and \"Merge\" are indeed substantially different, apart from making this clear, we will also need to change two LSTM diagrams, one in \"Guide to Sequential Model\" and the other one in the \"Guide to Functional API\". They both mention, \"merge_1(Merge)\". So it is natural to think there is only one such layer, and in my case, that was \"Merge\" for a long time.\n",
      "closed_by": {
        "login": "parag2489",
        "id": 6313583,
        "node_id": "MDQ6VXNlcjYzMTM1ODM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6313583?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/parag2489",
        "html_url": "https://github.com/parag2489",
        "followers_url": "https://api.github.com/users/parag2489/followers",
        "following_url": "https://api.github.com/users/parag2489/following{/other_user}",
        "gists_url": "https://api.github.com/users/parag2489/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/parag2489/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/parag2489/subscriptions",
        "organizations_url": "https://api.github.com/users/parag2489/orgs",
        "repos_url": "https://api.github.com/users/parag2489/repos",
        "events_url": "https://api.github.com/users/parag2489/events{/privacy}",
        "received_events_url": "https://api.github.com/users/parag2489/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/3921/reactions",
        "total_count": 13,
        "+1": 13,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/3921/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/250643688",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-250643688",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 250643688,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1MDY0MzY4OA==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-09-30T02:27:55Z",
          "updated_at": "2016-09-30T02:28:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "- Merge is a layer.\n- Merge takes layers as input\n- Merge is usually used with Sequential models\n\n---\n- merge is a function.\n- merge takes tensors as input.\n- merge is a wrapper around Merge.\n- merge is used in Functional API\n\nUsing `Merge`:\n\n``` python\nleft = Sequential()\nleft.add(...)\nleft.add(...)\n\nright = Sequential()\nright.ad(...)\nright.add(...)\n\nmodel = Sequential()\nmodel.add(Merge([left, right]))\nmodel.add(...)\n```\n\nusing `merge`:\n\n``` python\na = Input((10,))\nb = Dense(10)(a)\nc = Dense(10)(a)\nd = merge([b, c])\nmodel = Model(a, d)\n```\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/250643688/reactions",
            "total_count": 129,
            "+1": 120,
            "-1": 6,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 2,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/250697060",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-250697060",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 250697060,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1MDY5NzA2MA==",
          "user": {
            "login": "parag2489",
            "id": 6313583,
            "node_id": "MDQ6VXNlcjYzMTM1ODM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6313583?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/parag2489",
            "html_url": "https://github.com/parag2489",
            "followers_url": "https://api.github.com/users/parag2489/followers",
            "following_url": "https://api.github.com/users/parag2489/following{/other_user}",
            "gists_url": "https://api.github.com/users/parag2489/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/parag2489/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/parag2489/subscriptions",
            "organizations_url": "https://api.github.com/users/parag2489/orgs",
            "repos_url": "https://api.github.com/users/parag2489/repos",
            "events_url": "https://api.github.com/users/parag2489/events{/privacy}",
            "received_events_url": "https://api.github.com/users/parag2489/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-09-30T09:09:23Z",
          "updated_at": "2016-09-30T09:09:23Z",
          "author_association": "CONTRIBUTOR",
          "body": "@farizrahman4u Ok, I understood. I think this should be put somewhere in documentation. I am closing this issue now.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/250697060/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/252401694",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-252401694",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 252401694,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI1MjQwMTY5NA==",
          "user": {
            "login": "keunwoochoi",
            "id": 16153797,
            "node_id": "MDQ6VXNlcjE2MTUzNzk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/16153797?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/keunwoochoi",
            "html_url": "https://github.com/keunwoochoi",
            "followers_url": "https://api.github.com/users/keunwoochoi/followers",
            "following_url": "https://api.github.com/users/keunwoochoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/keunwoochoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/keunwoochoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/keunwoochoi/subscriptions",
            "organizations_url": "https://api.github.com/users/keunwoochoi/orgs",
            "repos_url": "https://api.github.com/users/keunwoochoi/repos",
            "events_url": "https://api.github.com/users/keunwoochoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/keunwoochoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-10-08T04:17:00Z",
          "updated_at": "2016-10-08T04:17:00Z",
          "author_association": "CONTRIBUTOR",
          "body": "I think so - it is quite confusing, should be written very clearly! @farizrahman4u's comment looks very nice and clear :) \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/252401694/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289200691",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-289200691",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 289200691,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTIwMDY5MQ==",
          "user": {
            "login": "nigeljyng",
            "id": 13656877,
            "node_id": "MDQ6VXNlcjEzNjU2ODc3",
            "avatar_url": "https://avatars.githubusercontent.com/u/13656877?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nigeljyng",
            "html_url": "https://github.com/nigeljyng",
            "followers_url": "https://api.github.com/users/nigeljyng/followers",
            "following_url": "https://api.github.com/users/nigeljyng/following{/other_user}",
            "gists_url": "https://api.github.com/users/nigeljyng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nigeljyng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nigeljyng/subscriptions",
            "organizations_url": "https://api.github.com/users/nigeljyng/orgs",
            "repos_url": "https://api.github.com/users/nigeljyng/repos",
            "events_url": "https://api.github.com/users/nigeljyng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nigeljyng/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-25T09:35:51Z",
          "updated_at": "2017-03-25T09:35:51Z",
          "author_association": "CONTRIBUTOR",
          "body": "@farizrahman4u Using `Merge()` with Keras 2.0 throws a deprecation warning though it still works. The Keras 2.0 docs [here](https://keras.io/layers/merge/) seems to now only have a `keras.layers.merge`. Any idea how to updae `Merge` usage in sequential models in Keras 2.0?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289200691/reactions",
            "total_count": 4,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289213740",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-289213740",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 289213740,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTIxMzc0MA==",
          "user": {
            "login": "keunwoochoi",
            "id": 16153797,
            "node_id": "MDQ6VXNlcjE2MTUzNzk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/16153797?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/keunwoochoi",
            "html_url": "https://github.com/keunwoochoi",
            "followers_url": "https://api.github.com/users/keunwoochoi/followers",
            "following_url": "https://api.github.com/users/keunwoochoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/keunwoochoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/keunwoochoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/keunwoochoi/subscriptions",
            "organizations_url": "https://api.github.com/users/keunwoochoi/orgs",
            "repos_url": "https://api.github.com/users/keunwoochoi/repos",
            "events_url": "https://api.github.com/users/keunwoochoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/keunwoochoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-25T14:05:10Z",
          "updated_at": "2017-03-25T14:05:10Z",
          "author_association": "CONTRIBUTOR",
          "body": "New API has explicit sum/concat/multiply layers (https://keras.io/layers/merge/). ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289213740/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289236012",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-289236012",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 289236012,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTIzNjAxMg==",
          "user": {
            "login": "parag2489",
            "id": 6313583,
            "node_id": "MDQ6VXNlcjYzMTM1ODM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6313583?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/parag2489",
            "html_url": "https://github.com/parag2489",
            "followers_url": "https://api.github.com/users/parag2489/followers",
            "following_url": "https://api.github.com/users/parag2489/following{/other_user}",
            "gists_url": "https://api.github.com/users/parag2489/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/parag2489/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/parag2489/subscriptions",
            "organizations_url": "https://api.github.com/users/parag2489/orgs",
            "repos_url": "https://api.github.com/users/parag2489/repos",
            "events_url": "https://api.github.com/users/parag2489/events{/privacy}",
            "received_events_url": "https://api.github.com/users/parag2489/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-25T20:05:00Z",
          "updated_at": "2017-03-25T20:05:00Z",
          "author_association": "CONTRIBUTOR",
          "body": "@keunwoochoi  @farizrahman4u So now the new Keras API takes only tensors as inputs? What about if we have two sequential models and would like to sum them? Previously we would use `Merge`, but now it seems that we can give only tensors and use only `merge`.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289236012/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289236462",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-289236462",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 289236462,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTIzNjQ2Mg==",
          "user": {
            "login": "keunwoochoi",
            "id": 16153797,
            "node_id": "MDQ6VXNlcjE2MTUzNzk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/16153797?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/keunwoochoi",
            "html_url": "https://github.com/keunwoochoi",
            "followers_url": "https://api.github.com/users/keunwoochoi/followers",
            "following_url": "https://api.github.com/users/keunwoochoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/keunwoochoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/keunwoochoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/keunwoochoi/subscriptions",
            "organizations_url": "https://api.github.com/users/keunwoochoi/orgs",
            "repos_url": "https://api.github.com/users/keunwoochoi/repos",
            "events_url": "https://api.github.com/users/keunwoochoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/keunwoochoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-25T20:12:00Z",
          "updated_at": "2017-03-25T20:12:00Z",
          "author_association": "CONTRIBUTOR",
          "body": "If there are two sequential models and you want to merge them, isn't it already a structure that requires to use Functional model rather than Sequential model? -- and you can assume those two sequential models as layers and use the output tensors of those models as an input if merge layer. \n\n> On 25 Mar 2017, at 20:05, Parag S. Chandakkar <notifications@github.com> wrote:\n> \n> @keunwoochoi @farizrahman4u So now the new Keras API takes only tensors as inputs? What about if we have two sequential models and would like to sum them? Previously we would use Merge, but now it seems that we can give only tensors and use only merge.\n> \n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n> \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289236462/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289237130",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-289237130",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 289237130,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTIzNzEzMA==",
          "user": {
            "login": "parag2489",
            "id": 6313583,
            "node_id": "MDQ6VXNlcjYzMTM1ODM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6313583?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/parag2489",
            "html_url": "https://github.com/parag2489",
            "followers_url": "https://api.github.com/users/parag2489/followers",
            "following_url": "https://api.github.com/users/parag2489/following{/other_user}",
            "gists_url": "https://api.github.com/users/parag2489/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/parag2489/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/parag2489/subscriptions",
            "organizations_url": "https://api.github.com/users/parag2489/orgs",
            "repos_url": "https://api.github.com/users/parag2489/repos",
            "events_url": "https://api.github.com/users/parag2489/events{/privacy}",
            "received_events_url": "https://api.github.com/users/parag2489/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-25T20:22:40Z",
          "updated_at": "2017-03-25T20:22:53Z",
          "author_association": "CONTRIBUTOR",
          "body": "@keunwoochoi  Previously you didn't *have* to use Functional graph, if I remember correctly. See @farizrahman4u answer above. I will copy the relevant snippet from that answer here:\r\n\r\n```\r\nleft = Sequential()\r\nleft.add(...)\r\nleft.add(...)\r\n\r\nright = Sequential()\r\nright.ad(...)\r\nright.add(...)\r\n\r\nmodel = Sequential()\r\nmodel.add(Merge([left, right]))\r\nmodel.add(...)\r\n```\r\n\r\nSo I don't think we can assume outputs of `left` and `right` as tensors and use it in `merge`. I actually like this change as it removes the confusion between `Merge` and `merge`.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289237130/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289237340",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-289237340",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 289237340,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTIzNzM0MA==",
          "user": {
            "login": "keunwoochoi",
            "id": 16153797,
            "node_id": "MDQ6VXNlcjE2MTUzNzk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/16153797?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/keunwoochoi",
            "html_url": "https://github.com/keunwoochoi",
            "followers_url": "https://api.github.com/users/keunwoochoi/followers",
            "following_url": "https://api.github.com/users/keunwoochoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/keunwoochoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/keunwoochoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/keunwoochoi/subscriptions",
            "organizations_url": "https://api.github.com/users/keunwoochoi/orgs",
            "repos_url": "https://api.github.com/users/keunwoochoi/repos",
            "events_url": "https://api.github.com/users/keunwoochoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/keunwoochoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-25T20:26:25Z",
          "updated_at": "2017-03-25T20:26:25Z",
          "author_association": "CONTRIBUTOR",
          "body": "Oh, I see, I was writing via email and missed it. \n\n> I actually like this change as it removes the confusion between Merge and merge.\n\nAbsolutely agreed. \n\n\n> On 25 Mar 2017, at 20:22, Parag S. Chandakkar <notifications@github.com> wrote:\n> \n> I actually like this change as it removes the confusion between Merge and merge.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289237340/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289402727",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-289402727",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 289402727,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTQwMjcyNw==",
          "user": {
            "login": "nigeljyng",
            "id": 13656877,
            "node_id": "MDQ6VXNlcjEzNjU2ODc3",
            "avatar_url": "https://avatars.githubusercontent.com/u/13656877?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nigeljyng",
            "html_url": "https://github.com/nigeljyng",
            "followers_url": "https://api.github.com/users/nigeljyng/followers",
            "following_url": "https://api.github.com/users/nigeljyng/following{/other_user}",
            "gists_url": "https://api.github.com/users/nigeljyng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nigeljyng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nigeljyng/subscriptions",
            "organizations_url": "https://api.github.com/users/nigeljyng/orgs",
            "repos_url": "https://api.github.com/users/nigeljyng/repos",
            "events_url": "https://api.github.com/users/nigeljyng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nigeljyng/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-27T09:34:57Z",
          "updated_at": "2017-03-27T09:34:57Z",
          "author_association": "CONTRIBUTOR",
          "body": "@keunwoochoi Thanks for that. Using the functional API was indeed the way to go.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289402727/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289840973",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-289840973",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 289840973,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTg0MDk3Mw==",
          "user": {
            "login": "apacha",
            "id": 594497,
            "node_id": "MDQ6VXNlcjU5NDQ5Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/594497?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/apacha",
            "html_url": "https://github.com/apacha",
            "followers_url": "https://api.github.com/users/apacha/followers",
            "following_url": "https://api.github.com/users/apacha/following{/other_user}",
            "gists_url": "https://api.github.com/users/apacha/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/apacha/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/apacha/subscriptions",
            "organizations_url": "https://api.github.com/users/apacha/orgs",
            "repos_url": "https://api.github.com/users/apacha/repos",
            "events_url": "https://api.github.com/users/apacha/events{/privacy}",
            "received_events_url": "https://api.github.com/users/apacha/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-28T17:17:30Z",
          "updated_at": "2017-03-28T17:25:58Z",
          "author_association": "NONE",
          "body": "Can you please confirm that the Keras 1.2.2 code\r\n`from keras.engine import merge`\r\n`m = merge([init, x], mode='sum')`\r\nis equivalent to this Keras 2.0.2 code:\r\n`from keras.layers import add`\r\n`m = add([init, x])`",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289840973/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289858668",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-289858668",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 289858668,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTg1ODY2OA==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-28T18:17:38Z",
          "updated_at": "2017-03-28T18:17:38Z",
          "author_association": "CONTRIBUTOR",
          "body": "@apacha Yes, they are equivalent..\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289858668/reactions",
            "total_count": 10,
            "+1": 4,
            "-1": 5,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 1
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290827938",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-290827938",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 290827938,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDgyNzkzOA==",
          "user": {
            "login": "rmanak",
            "id": 13480447,
            "node_id": "MDQ6VXNlcjEzNDgwNDQ3",
            "avatar_url": "https://avatars.githubusercontent.com/u/13480447?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rmanak",
            "html_url": "https://github.com/rmanak",
            "followers_url": "https://api.github.com/users/rmanak/followers",
            "following_url": "https://api.github.com/users/rmanak/following{/other_user}",
            "gists_url": "https://api.github.com/users/rmanak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rmanak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rmanak/subscriptions",
            "organizations_url": "https://api.github.com/users/rmanak/orgs",
            "repos_url": "https://api.github.com/users/rmanak/repos",
            "events_url": "https://api.github.com/users/rmanak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rmanak/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-31T20:57:29Z",
          "updated_at": "2017-03-31T20:57:29Z",
          "author_association": "NONE",
          "body": "Where is Merge in keras 2? ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290827938/reactions",
            "total_count": 5,
            "+1": 5,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306031159",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-306031159",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 306031159,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNjAzMTE1OQ==",
          "user": {
            "login": "mehrdadscomputer",
            "id": 4415508,
            "node_id": "MDQ6VXNlcjQ0MTU1MDg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4415508?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mehrdadscomputer",
            "html_url": "https://github.com/mehrdadscomputer",
            "followers_url": "https://api.github.com/users/mehrdadscomputer/followers",
            "following_url": "https://api.github.com/users/mehrdadscomputer/following{/other_user}",
            "gists_url": "https://api.github.com/users/mehrdadscomputer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mehrdadscomputer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mehrdadscomputer/subscriptions",
            "organizations_url": "https://api.github.com/users/mehrdadscomputer/orgs",
            "repos_url": "https://api.github.com/users/mehrdadscomputer/repos",
            "events_url": "https://api.github.com/users/mehrdadscomputer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mehrdadscomputer/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-04T10:17:10Z",
          "updated_at": "2017-06-04T10:17:10Z",
          "author_association": "NONE",
          "body": "The `Merge` layer is deprecated and will be removed after 08/2017. Use instead layers from `keras.layers.merge`, e.g. `add`, `concatenate`, etc.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/306031159/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308404607",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-308404607",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 308404607,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwODQwNDYwNw==",
          "user": {
            "login": "nlothian",
            "id": 117304,
            "node_id": "MDQ6VXNlcjExNzMwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/117304?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nlothian",
            "html_url": "https://github.com/nlothian",
            "followers_url": "https://api.github.com/users/nlothian/followers",
            "following_url": "https://api.github.com/users/nlothian/following{/other_user}",
            "gists_url": "https://api.github.com/users/nlothian/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nlothian/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nlothian/subscriptions",
            "organizations_url": "https://api.github.com/users/nlothian/orgs",
            "repos_url": "https://api.github.com/users/nlothian/repos",
            "events_url": "https://api.github.com/users/nlothian/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nlothian/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-14T11:34:29Z",
          "updated_at": "2017-06-14T12:13:06Z",
          "author_association": "NONE",
          "body": ">     left = Sequential()\r\n>     left.add(...)\r\n>     left.add(...)\r\n>      \r\n>     right = Sequential()\r\n>     right.add(...)\r\n>     right.add(...)\r\n> \r\n>     model = Sequential()\r\n>     model.add(Merge([left, right]))\r\n>     model.add(...)\r\n\r\nHow does one do this under Keras 2? \r\n\r\nI've tried:\r\n\r\n    model = Sequential()\r\n    model.add(Dot(axes=1)([left, right]))\r\n\r\nbut I get:\r\n> Layer dot_1 was called with an input that isn't a symbolic tensor. Received type: <class 'keras.models.Sequential'>. Full input: [<keras.models.Sequential object at 0x11c12fe48>, <keras.models.Sequential object at 0x11c12a470>]. All inputs to the layer should be tensors.\r\n\r\nI see above here some comments alluding to this, but I'm not clear what the recommended approach is now. \r\n\r\nAny guidance or examples would be appreciated. \r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308404607/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308417892",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-308417892",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 308417892,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwODQxNzg5Mg==",
          "user": {
            "login": "ghost",
            "id": 10137,
            "node_id": "MDQ6VXNlcjEwMTM3",
            "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ghost",
            "html_url": "https://github.com/ghost",
            "followers_url": "https://api.github.com/users/ghost/followers",
            "following_url": "https://api.github.com/users/ghost/following{/other_user}",
            "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
            "organizations_url": "https://api.github.com/users/ghost/orgs",
            "repos_url": "https://api.github.com/users/ghost/repos",
            "events_url": "https://api.github.com/users/ghost/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ghost/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-14T12:37:07Z",
          "updated_at": "2017-06-14T12:37:07Z",
          "author_association": "NONE",
          "body": "nlothian \r\nmaybe this helps\r\n\r\nhttps://keras.io/backend/\r\n\r\nis_keras_tensor\r\n\r\n```\r\n>> from keras import backend as K\r\n>>> np_var = numpy.array([1, 2])\r\n>>> K.is_keras_tensor(np_var) # A numpy array is not a symbolic yensor.\r\nValueError\r\n>>> k_var = tf.placeholder('float32', shape=(1,1))\r\n>>> K.is_keras_tensor(k_var) # A variable created directly from tensorflow/theano is not a Keras tensor.\r\nFalse\r\n>>> keras_var = K.variable(np_var)\r\n>>> K.is_keras_tensor(keras_var)  # A variable created with the keras backend is a Keras tensor.\r\nTrue\r\n>>> keras_placeholder = K.placeholder(shape=(2, 4, 5))\r\n>>> K.is_keras_tensor(keras_placeholder)  # A placeholder is a Keras tensor.\r\nTrue\r\n```\r\n\r\nthis is wrong\r\n`model.add(Dot(axes=1)([left, right]))`\r\ni don't understand by these line of code what you tried to add to Sequential",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308417892/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308581887",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-308581887",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 308581887,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwODU4MTg4Nw==",
          "user": {
            "login": "nlothian",
            "id": 117304,
            "node_id": "MDQ6VXNlcjExNzMwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/117304?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nlothian",
            "html_url": "https://github.com/nlothian",
            "followers_url": "https://api.github.com/users/nlothian/followers",
            "following_url": "https://api.github.com/users/nlothian/following{/other_user}",
            "gists_url": "https://api.github.com/users/nlothian/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nlothian/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nlothian/subscriptions",
            "organizations_url": "https://api.github.com/users/nlothian/orgs",
            "repos_url": "https://api.github.com/users/nlothian/repos",
            "events_url": "https://api.github.com/users/nlothian/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nlothian/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-14T23:00:43Z",
          "updated_at": "2017-06-14T23:00:43Z",
          "author_association": "NONE",
          "body": "`model.add(Dot(axes=1)([left, right]))`\r\n\r\nis my attempt to do the same as\r\n\r\n`model.add(Merge([left, right]))`\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308581887/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308589674",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-308589674",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 308589674,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwODU4OTY3NA==",
          "user": {
            "login": "keunwoochoi",
            "id": 16153797,
            "node_id": "MDQ6VXNlcjE2MTUzNzk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/16153797?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/keunwoochoi",
            "html_url": "https://github.com/keunwoochoi",
            "followers_url": "https://api.github.com/users/keunwoochoi/followers",
            "following_url": "https://api.github.com/users/keunwoochoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/keunwoochoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/keunwoochoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/keunwoochoi/subscriptions",
            "organizations_url": "https://api.github.com/users/keunwoochoi/orgs",
            "repos_url": "https://api.github.com/users/keunwoochoi/repos",
            "events_url": "https://api.github.com/users/keunwoochoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/keunwoochoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-14T23:50:30Z",
          "updated_at": "2017-06-14T23:50:30Z",
          "author_association": "CONTRIBUTOR",
          "body": "Check out documentation [about merge layers](https://keras.io/layers/merge/) in Keras 2.0.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308589674/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308595998",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-308595998",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 308595998,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwODU5NTk5OA==",
          "user": {
            "login": "nlothian",
            "id": 117304,
            "node_id": "MDQ6VXNlcjExNzMwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/117304?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nlothian",
            "html_url": "https://github.com/nlothian",
            "followers_url": "https://api.github.com/users/nlothian/followers",
            "following_url": "https://api.github.com/users/nlothian/following{/other_user}",
            "gists_url": "https://api.github.com/users/nlothian/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nlothian/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nlothian/subscriptions",
            "organizations_url": "https://api.github.com/users/nlothian/orgs",
            "repos_url": "https://api.github.com/users/nlothian/repos",
            "events_url": "https://api.github.com/users/nlothian/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nlothian/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-15T00:37:14Z",
          "updated_at": "2017-06-15T00:37:14Z",
          "author_association": "NONE",
          "body": "@keunwoochoi Thanks, I've spent a lot of time on that page!\r\n\r\nI'd note that the documentation for **Dot** says\r\n\r\n> Layer that computes a dot product between samples in two tensors.\r\n\r\nand I understand that is the error I'm getting because I'm trying to merge layers, not tensors. \r\n\r\nSo how do I merge two Sequential layers in Keras 2? \r\n\r\nI'd like to do exactly the example @parag2489 posted at https://github.com/fchollet/keras/issues/3921#issuecomment-289237130\r\n\r\nI'm kind of getting the impression that isn't possible anymore? If someone could confirm that it would be useful.\r\n\r\nI've made an attempt at doing the equivalent using the functional API, but it'd be easier to get this working if possible.\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308595998/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308597601",
          "html_url": "https://github.com/keras-team/keras/issues/3921#issuecomment-308597601",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/3921",
          "id": 308597601,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwODU5NzYwMQ==",
          "user": {
            "login": "keunwoochoi",
            "id": 16153797,
            "node_id": "MDQ6VXNlcjE2MTUzNzk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/16153797?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/keunwoochoi",
            "html_url": "https://github.com/keunwoochoi",
            "followers_url": "https://api.github.com/users/keunwoochoi/followers",
            "following_url": "https://api.github.com/users/keunwoochoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/keunwoochoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/keunwoochoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/keunwoochoi/subscriptions",
            "organizations_url": "https://api.github.com/users/keunwoochoi/orgs",
            "repos_url": "https://api.github.com/users/keunwoochoi/repos",
            "events_url": "https://api.github.com/users/keunwoochoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/keunwoochoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-06-15T00:49:23Z",
          "updated_at": "2017-06-29T00:09:28Z",
          "author_association": "CONTRIBUTOR",
          "body": "Alright, didn't know that. I've used it without any confusion so far but I think that's because I was relying on `Model`, not `Sequential`. I have no idea how it supposed to work when the input is a list of two Sequential models, but could you try with Model API? Say,\r\n\r\n```python\r\nfrom keras.layers.merge import Dot, Sum\r\n\r\nleft_input = Input(shape)\r\nleft = something()(left_input)\r\nleft = some_other(left)\r\n \r\nright_input = Input(shape)\r\nright = something()(right_input)\r\nright = some_other(right)\r\n\r\nmodel = Sequential()\r\nmodel.add(Dot()([left, right])) # or Sum(), or whatever. \r\nmodel.add(...)\r\n```\r\n\r\nor even the `model` is more about tensor as left and right are. \r\n\r\n**EDIT**: Update Merge()\r\n**EDIT AGAIN**: no Merge but Dot().\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/308597601/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/2413",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/2413/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/2413/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/2413/events",
      "html_url": "https://github.com/keras-team/keras/pull/2413",
      "id": 149634629,
      "node_id": "MDExOlB1bGxSZXF1ZXN0NjcxMTg3ODQ=",
      "number": 2413,
      "title": "Support for masking in merged layers",
      "user": {
        "login": "codekansas",
        "id": 6070701,
        "node_id": "MDQ6VXNlcjYwNzA3MDE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6070701?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/codekansas",
        "html_url": "https://github.com/codekansas",
        "followers_url": "https://api.github.com/users/codekansas/followers",
        "following_url": "https://api.github.com/users/codekansas/following{/other_user}",
        "gists_url": "https://api.github.com/users/codekansas/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/codekansas/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/codekansas/subscriptions",
        "organizations_url": "https://api.github.com/users/codekansas/orgs",
        "repos_url": "https://api.github.com/users/codekansas/repos",
        "events_url": "https://api.github.com/users/codekansas/events{/privacy}",
        "received_events_url": "https://api.github.com/users/codekansas/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 39,
      "created_at": "2016-04-20T02:13:43Z",
      "updated_at": "2016-10-22T21:27:06Z",
      "closed_at": "2016-06-23T19:03:55Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/2413",
        "html_url": "https://github.com/keras-team/keras/pull/2413",
        "diff_url": "https://github.com/keras-team/keras/pull/2413.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/2413.patch",
        "merged_at": "2016-06-23T19:03:55Z"
      },
      "body": "I've seen a couple other people who seem like they need masking in merged layers. As far as I can tell, masking is only required for the `'sum'` and `'ave'` modes (and lambda functions as well probably, but those are a case of their own). I've only tested this fork with Theano + Python 2.7, but it seems to be working.\n\nI did notice some weird behavior with the `Masking` layer. If given this data,\n\n```\ninput a data:\n[[ 1.  1.  1.]\n [ 1.  1.  1.]]\n\ninput b data:\n[[ 1.  1.  0.]\n [ 0.  0.  0.]]\n```\n\nfor some model that adds the inputs but masks 0's in the second input,\n\n```\ninput_a = Input(shape=(3,), dtype='int32')\ninput_b = Input(shape=(3,), dtype='int32')\nmasked_b = Masking(mask_value=0)(input_b)\nmerged = merge([input_a, masked_b], mode='sum')\n```\n\nit gives\n\n```\n[[ 3.  3.  2.]\n [ 0.  0.  0.]]\n```\n\nIs this the correct behavior? It was my best guess at what it should be doing. Also, I haven't tried this with `mask_zeros` in the `Embedding` layer, which seems like the most common use case.\n\nAlso, I'm not sure how to go about adding support for lambda functions, since this also seems useful. I thought maybe adding an `output_mask` parameter that takes a list of (normalized) masks and returns the output mask, but this seems clunky.\n",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/2413/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/2413/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212463138",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-212463138",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 212463138,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjQ2MzEzOA==",
          "user": {
            "login": "codekansas",
            "id": 6070701,
            "node_id": "MDQ6VXNlcjYwNzA3MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6070701?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/codekansas",
            "html_url": "https://github.com/codekansas",
            "followers_url": "https://api.github.com/users/codekansas/followers",
            "following_url": "https://api.github.com/users/codekansas/following{/other_user}",
            "gists_url": "https://api.github.com/users/codekansas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/codekansas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/codekansas/subscriptions",
            "organizations_url": "https://api.github.com/users/codekansas/orgs",
            "repos_url": "https://api.github.com/users/codekansas/repos",
            "events_url": "https://api.github.com/users/codekansas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/codekansas/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-20T14:59:30Z",
          "updated_at": "2016-04-20T14:59:30Z",
          "author_association": "CONTRIBUTOR",
          "body": "I used `mask_zero` in an Embedding layer in another project and the model compiled, but after training for a bit it would give me `nan` loss (while without it I didn't). I'm not sure if this is a problem with the implementation, or if it could just be happening for the LSTM layer when the input is masked. That model is [here](https://github.com/codekansas/keras-language-modeling/blob/master/keras_attention_model.py), I am using a weird loss function but I don't think that is the issue.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212463138/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212563089",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-212563089",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 212563089,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjU2MzA4OQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-20T19:12:33Z",
          "updated_at": "2016-04-20T19:12:33Z",
          "author_association": "COLLABORATOR",
          "body": "> I used mask_zero in an Embedding layer in another project and the model compiled, but after training for a bit it would give me nan loss (while without it I didn't).\n\nCould it be that you are masking all timesteps in a batch at some point?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212563089/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212567677",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-212567677",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 212567677,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMjU2NzY3Nw==",
          "user": {
            "login": "codekansas",
            "id": 6070701,
            "node_id": "MDQ6VXNlcjYwNzA3MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6070701?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/codekansas",
            "html_url": "https://github.com/codekansas",
            "followers_url": "https://api.github.com/users/codekansas/followers",
            "following_url": "https://api.github.com/users/codekansas/following{/other_user}",
            "gists_url": "https://api.github.com/users/codekansas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/codekansas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/codekansas/subscriptions",
            "organizations_url": "https://api.github.com/users/codekansas/orgs",
            "repos_url": "https://api.github.com/users/codekansas/repos",
            "events_url": "https://api.github.com/users/codekansas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/codekansas/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-20T19:21:50Z",
          "updated_at": "2016-04-20T19:21:50Z",
          "author_association": "CONTRIBUTOR",
          "body": "@nrf171 No it has not\n\n@fchollet Yep, I think that is it. We were discussing it in the issue thread #2393 I think the behavior of `go_backwards` should be changed so that it doesn't go backwards through all the timesteps, only the non-masked timesteps, [here](https://github.com/fchollet/keras/blob/master/keras/backend/theano_backend.py#L579). That way it would keep the mask the same... Right now the mask stays the same even if the input goes backwards, so it masks the relevant parts. I'm not sure how to do this though.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/212567677/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/213023748",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-213023748",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 213023748,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMzAyMzc0OA==",
          "user": {
            "login": "braingineer",
            "id": 1455742,
            "node_id": "MDQ6VXNlcjE0NTU3NDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1455742?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/braingineer",
            "html_url": "https://github.com/braingineer",
            "followers_url": "https://api.github.com/users/braingineer/followers",
            "following_url": "https://api.github.com/users/braingineer/following{/other_user}",
            "gists_url": "https://api.github.com/users/braingineer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/braingineer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/braingineer/subscriptions",
            "organizations_url": "https://api.github.com/users/braingineer/orgs",
            "repos_url": "https://api.github.com/users/braingineer/repos",
            "events_url": "https://api.github.com/users/braingineer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/braingineer/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-21T17:16:43Z",
          "updated_at": "2016-04-21T17:16:43Z",
          "author_association": "CONTRIBUTOR",
          "body": "In thinking about this PR, I feel like there should be some sort of consistency rule for masks.  Right now, a mask can be +- 1 of the output tensor.   This happens all over the place.  \n\nYour normalize_dims makes this something that could be managed layerwise.   The options are either: output `K.ndim(x)-1` (currently, Embedding does this) or `K.ndim(x)`.  \n\nThen,  if it's `K.ndim(x)`, the last dimension could either attempt to match the shape of the output, or it could match some modified shape from the input mask.  At least in the case of concatenation, your normalize_dims function has the potential of resulting in length `m` on the last dimension in `x` if all of the merging layers are from embeddings and there are `m` layers.  \n\nI think I would personally find reasoning about the flow of masks easier if masks were `K.ndim(x)` with 1 on the last dimension for broadcasting.  But this is assuming that the last dimension is the feature dimension, such that its mask value is determined by its other `K.ndim(x)-1` indices.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/213023748/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/213028855",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-213028855",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 213028855,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMzAyODg1NQ==",
          "user": {
            "login": "codekansas",
            "id": 6070701,
            "node_id": "MDQ6VXNlcjYwNzA3MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6070701?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/codekansas",
            "html_url": "https://github.com/codekansas",
            "followers_url": "https://api.github.com/users/codekansas/followers",
            "following_url": "https://api.github.com/users/codekansas/following{/other_user}",
            "gists_url": "https://api.github.com/users/codekansas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/codekansas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/codekansas/subscriptions",
            "organizations_url": "https://api.github.com/users/codekansas/orgs",
            "repos_url": "https://api.github.com/users/codekansas/repos",
            "events_url": "https://api.github.com/users/codekansas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/codekansas/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-21T17:30:36Z",
          "updated_at": "2016-04-21T17:30:36Z",
          "author_association": "CONTRIBUTOR",
          "body": "The return statement for that method got cut off, it is\n\n```\nreturn K.ones_like(input) * K.cast(mask, K.floatx())\n```\n\nso it gives a mask with the same size as the input without any broadcastable dimensions. Although now that I look at it, `K.permute_dims` isn't actually permuting anything, I can't remember why I included that...\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/213028855/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/213132227",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-213132227",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 213132227,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMzEzMjIyNw==",
          "user": {
            "login": "braingineer",
            "id": 1455742,
            "node_id": "MDQ6VXNlcjE0NTU3NDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1455742?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/braingineer",
            "html_url": "https://github.com/braingineer",
            "followers_url": "https://api.github.com/users/braingineer/followers",
            "following_url": "https://api.github.com/users/braingineer/following{/other_user}",
            "gists_url": "https://api.github.com/users/braingineer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/braingineer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/braingineer/subscriptions",
            "organizations_url": "https://api.github.com/users/braingineer/orgs",
            "repos_url": "https://api.github.com/users/braingineer/repos",
            "events_url": "https://api.github.com/users/braingineer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/braingineer/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-21T22:08:02Z",
          "updated_at": "2016-04-21T22:09:08Z",
          "author_association": "CONTRIBUTOR",
          "body": "> so it gives a mask with the same size as the input without any broadcastable dimensions. Although now that I look at it, K.permute_dims isn't actually permuting anything, I can't remember why I included that...\n\nHaha. That's what I was wondering.. I thought maybe there was something subtle about permuting the dimensions to their existing ordering. \n\nand ya, sorry, I commented on the line above the return statement and it got covered.\n\nBy the way, I've been using this merge implementation for some merging stuff and it seems to be working well.  \n\nit might be worth separating out the merge PR from the RNN PR if the merge works for normal cases. \n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/213132227/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/213136989",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-213136989",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 213136989,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMzEzNjk4OQ==",
          "user": {
            "login": "codekansas",
            "id": 6070701,
            "node_id": "MDQ6VXNlcjYwNzA3MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6070701?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/codekansas",
            "html_url": "https://github.com/codekansas",
            "followers_url": "https://api.github.com/users/codekansas/followers",
            "following_url": "https://api.github.com/users/codekansas/following{/other_user}",
            "gists_url": "https://api.github.com/users/codekansas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/codekansas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/codekansas/subscriptions",
            "organizations_url": "https://api.github.com/users/codekansas/orgs",
            "repos_url": "https://api.github.com/users/codekansas/repos",
            "events_url": "https://api.github.com/users/codekansas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/codekansas/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-21T22:18:03Z",
          "updated_at": "2016-04-21T22:18:03Z",
          "author_association": "CONTRIBUTOR",
          "body": "Good to know it's worked for you. I agree, I think the RNN part should be a different PR. The problem I was having was due to the RNN masking issue. I reverted it (hopefully no issues haha)\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/213136989/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/213140390",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-213140390",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 213140390,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMzE0MDM5MA==",
          "user": {
            "login": "codekansas",
            "id": 6070701,
            "node_id": "MDQ6VXNlcjYwNzA3MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6070701?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/codekansas",
            "html_url": "https://github.com/codekansas",
            "followers_url": "https://api.github.com/users/codekansas/followers",
            "following_url": "https://api.github.com/users/codekansas/following{/other_user}",
            "gists_url": "https://api.github.com/users/codekansas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/codekansas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/codekansas/subscriptions",
            "organizations_url": "https://api.github.com/users/codekansas/orgs",
            "repos_url": "https://api.github.com/users/codekansas/repos",
            "events_url": "https://api.github.com/users/codekansas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/codekansas/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-21T22:23:58Z",
          "updated_at": "2016-04-21T22:23:58Z",
          "author_association": "CONTRIBUTOR",
          "body": "Actually now it should be reverted\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/213140390/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/213428106",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-213428106",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 213428106,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxMzQyODEwNg==",
          "user": {
            "login": "kepler",
            "id": 73757,
            "node_id": "MDQ6VXNlcjczNzU3",
            "avatar_url": "https://avatars.githubusercontent.com/u/73757?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kepler",
            "html_url": "https://github.com/kepler",
            "followers_url": "https://api.github.com/users/kepler/followers",
            "following_url": "https://api.github.com/users/kepler/following{/other_user}",
            "gists_url": "https://api.github.com/users/kepler/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kepler/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kepler/subscriptions",
            "organizations_url": "https://api.github.com/users/kepler/orgs",
            "repos_url": "https://api.github.com/users/kepler/repos",
            "events_url": "https://api.github.com/users/kepler/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kepler/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-22T13:27:31Z",
          "updated_at": "2016-04-22T13:27:31Z",
          "author_association": "NONE",
          "body": "While `test_merge` in `test_core.py` runs without a problem, as soon as I try to train a model with `merge`, it fails. For example, adding a `merge` in `test_masking_layer` from `test_recurrent.py`:\n\n```\n    input_a = Input(shape=(3, 4))\n    masked_a = Masking(mask_value=0.)(input_a)\n    input_b = Input(shape=(3, 4))\n    masked_b = Masking(mask_value=0.)(input_b)\n    merged = merge([masked_a, masked_b], mode='sum')\n    lstm = recurrent.LSTM(output_dim=5, return_sequences=True)(merged)\n\n    model = Model([input_a, input_b], lstm)\n    model.compile(loss='categorical_crossentropy', optimizer='adam')\n\n    I1 = np.random.random((6, 3, 4))\n    I2 = np.random.random((6, 3, 4))\n    V = np.abs(np.random.random((6, 3, 5)))\n    V /= V.sum(axis=-1, keepdims=True)\n\n    model.fit([I1, I2], V, nb_epoch=1, batch_size=100, verbose=1)\n```\n\nfails with\n\n```\nE   ValueError: Input dimension mis-match. (input[0].shape[1] = 4, input[1].shape[1] = 5)\nE   Apply node that caused the error: Elemwise{switch,no_inplace}(<TensorType(int8, matrix)>, Elemwise{Composite{(clip((i0 + i1), i2, i3) * tanh(i4))}}[(0, 1)].0, <TensorType(float32, matrix)>)\nE   Toposort index: 12\nE   Inputs types: [TensorType(int8, matrix), TensorType(float32, matrix), TensorType(float32, matrix)]\nE   Inputs shapes: [(6, 4), (6, 5), (6, 5)]\nE   Inputs strides: [(12, 1), (20, 4), (20, 4)]\nE   Inputs values: ['not shown', 'not shown', 'not shown']\nE   Outputs clients: [['output']]\n```\n\nSimilar mis-shape errors occur when using `Embedding` layers.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/213428106/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/214875776",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-214875776",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 214875776,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxNDg3NTc3Ng==",
          "user": {
            "login": "carlthome",
            "id": 1595907,
            "node_id": "MDQ6VXNlcjE1OTU5MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1595907?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/carlthome",
            "html_url": "https://github.com/carlthome",
            "followers_url": "https://api.github.com/users/carlthome/followers",
            "following_url": "https://api.github.com/users/carlthome/following{/other_user}",
            "gists_url": "https://api.github.com/users/carlthome/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/carlthome/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/carlthome/subscriptions",
            "organizations_url": "https://api.github.com/users/carlthome/orgs",
            "repos_url": "https://api.github.com/users/carlthome/repos",
            "events_url": "https://api.github.com/users/carlthome/events{/privacy}",
            "received_events_url": "https://api.github.com/users/carlthome/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-26T20:28:08Z",
          "updated_at": "2016-04-26T20:28:08Z",
          "author_association": "CONTRIBUTOR",
          "body": "This looks really good. I like how you added support for lambdas in `merge()` by simply asking for the mask as an additional argument. Very nifty.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/214875776/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/215242540",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-215242540",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 215242540,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxNTI0MjU0MA==",
          "user": {
            "login": "kracwarlock",
            "id": 994080,
            "node_id": "MDQ6VXNlcjk5NDA4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/994080?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kracwarlock",
            "html_url": "https://github.com/kracwarlock",
            "followers_url": "https://api.github.com/users/kracwarlock/followers",
            "following_url": "https://api.github.com/users/kracwarlock/following{/other_user}",
            "gists_url": "https://api.github.com/users/kracwarlock/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kracwarlock/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kracwarlock/subscriptions",
            "organizations_url": "https://api.github.com/users/kracwarlock/orgs",
            "repos_url": "https://api.github.com/users/kracwarlock/repos",
            "events_url": "https://api.github.com/users/kracwarlock/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kracwarlock/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-27T21:58:04Z",
          "updated_at": "2016-04-27T21:58:04Z",
          "author_association": "CONTRIBUTOR",
          "body": "People would want to use masking in merge with concat mode too. Suppose you are doing video captioning. The video sequences would go through an LSTM encoder. This would be merged with the decoder input for the text generator. The decoder input would have a mask since the sentences are of varying length in a batch but the encoder state would not have a mask. The decoder input mask has to be used everywhere then after merging.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/215242540/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/215247286",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-215247286",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 215247286,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxNTI0NzI4Ng==",
          "user": {
            "login": "codekansas",
            "id": 6070701,
            "node_id": "MDQ6VXNlcjYwNzA3MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6070701?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/codekansas",
            "html_url": "https://github.com/codekansas",
            "followers_url": "https://api.github.com/users/codekansas/followers",
            "following_url": "https://api.github.com/users/codekansas/following{/other_user}",
            "gists_url": "https://api.github.com/users/codekansas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/codekansas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/codekansas/subscriptions",
            "organizations_url": "https://api.github.com/users/codekansas/orgs",
            "repos_url": "https://api.github.com/users/codekansas/repos",
            "events_url": "https://api.github.com/users/codekansas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/codekansas/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-27T22:11:51Z",
          "updated_at": "2016-04-27T22:12:11Z",
          "author_association": "CONTRIBUTOR",
          "body": "@kracwarlock Concat mode is supported I believe?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/215247286/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/215247520",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-215247520",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 215247520,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxNTI0NzUyMA==",
          "user": {
            "login": "kracwarlock",
            "id": 994080,
            "node_id": "MDQ6VXNlcjk5NDA4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/994080?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kracwarlock",
            "html_url": "https://github.com/kracwarlock",
            "followers_url": "https://api.github.com/users/kracwarlock/followers",
            "following_url": "https://api.github.com/users/kracwarlock/following{/other_user}",
            "gists_url": "https://api.github.com/users/kracwarlock/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kracwarlock/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kracwarlock/subscriptions",
            "organizations_url": "https://api.github.com/users/kracwarlock/orgs",
            "repos_url": "https://api.github.com/users/kracwarlock/repos",
            "events_url": "https://api.github.com/users/kracwarlock/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kracwarlock/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-27T22:12:55Z",
          "updated_at": "2016-04-27T22:34:42Z",
          "author_association": "CONTRIBUTOR",
          "body": "@codekansas It actually doesn't seem to be supported [https://github.com/fchollet/keras/pull/2413/files#diff-fe3ca734e8421a17729d0b0ea4c800baR1216](https://github.com/fchollet/keras/pull/2413/files#diff-fe3ca734e8421a17729d0b0ea4c800baR1216). Is that right? I think it should have an assert checking that both inputs to concat have the same mask and then it should use that.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/215247520/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/215252915",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-215252915",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 215252915,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxNTI1MjkxNQ==",
          "user": {
            "login": "kracwarlock",
            "id": 994080,
            "node_id": "MDQ6VXNlcjk5NDA4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/994080?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kracwarlock",
            "html_url": "https://github.com/kracwarlock",
            "followers_url": "https://api.github.com/users/kracwarlock/followers",
            "following_url": "https://api.github.com/users/kracwarlock/following{/other_user}",
            "gists_url": "https://api.github.com/users/kracwarlock/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kracwarlock/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kracwarlock/subscriptions",
            "organizations_url": "https://api.github.com/users/kracwarlock/orgs",
            "repos_url": "https://api.github.com/users/kracwarlock/repos",
            "events_url": "https://api.github.com/users/kracwarlock/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kracwarlock/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-27T22:39:23Z",
          "updated_at": "2016-04-27T22:39:23Z",
          "author_association": "CONTRIBUTOR",
          "body": "@codekansas I am sorry. I checked again. And it is set correctly in compute_mask for concat. It should work.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/215252915/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/215256971",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-215256971",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 215256971,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxNTI1Njk3MQ==",
          "user": {
            "login": "codekansas",
            "id": 6070701,
            "node_id": "MDQ6VXNlcjYwNzA3MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6070701?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/codekansas",
            "html_url": "https://github.com/codekansas",
            "followers_url": "https://api.github.com/users/codekansas/followers",
            "following_url": "https://api.github.com/users/codekansas/following{/other_user}",
            "gists_url": "https://api.github.com/users/codekansas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/codekansas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/codekansas/subscriptions",
            "organizations_url": "https://api.github.com/users/codekansas/orgs",
            "repos_url": "https://api.github.com/users/codekansas/repos",
            "events_url": "https://api.github.com/users/codekansas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/codekansas/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-27T22:55:53Z",
          "updated_at": "2016-04-27T22:55:53Z",
          "author_association": "CONTRIBUTOR",
          "body": "@kracwarlock Actually I'm not sure if the mask is supposed to be applied during that operation. @fchollet should the mask be applied to the inputs during concat merge [here](https://github.com/fchollet/keras/pull/2413/files#diff-fe3ca734e8421a17729d0b0ea4c800baR1216)?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/215256971/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/215650606",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-215650606",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 215650606,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxNTY1MDYwNg==",
          "user": {
            "login": "codekansas",
            "id": 6070701,
            "node_id": "MDQ6VXNlcjYwNzA3MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6070701?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/codekansas",
            "html_url": "https://github.com/codekansas",
            "followers_url": "https://api.github.com/users/codekansas/followers",
            "following_url": "https://api.github.com/users/codekansas/following{/other_user}",
            "gists_url": "https://api.github.com/users/codekansas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/codekansas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/codekansas/subscriptions",
            "organizations_url": "https://api.github.com/users/codekansas/orgs",
            "repos_url": "https://api.github.com/users/codekansas/repos",
            "events_url": "https://api.github.com/users/codekansas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/codekansas/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-29T07:43:23Z",
          "updated_at": "2016-04-29T07:43:23Z",
          "author_association": "CONTRIBUTOR",
          "body": "@fchollet I think this can be merged\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/215650606/reactions",
            "total_count": 4,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/215911435",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-215911435",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 215911435,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxNTkxMTQzNQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-04-30T00:04:19Z",
          "updated_at": "2016-04-30T00:04:19Z",
          "author_association": "COLLABORATOR",
          "body": "@codekansas cool, I will review it soon. Thanks!\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/215911435/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/216939674",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-216939674",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 216939674,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIxNjkzOTY3NA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-05-04T17:26:14Z",
          "updated_at": "2016-05-04T17:26:14Z",
          "author_association": "COLLABORATOR",
          "body": "I think this PR is much too complicated compared to what it achieves. Really it should only affect the `compute_mask` method of `Merge`. I wouldn't expect it to require any auxiliary function and I wouldn't expect it to take more than ~20 or so lines.\n- it should not be necessary to \"normalize\" mask dimensions\n- it should not be necessary to modify output values based on masking\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/216939674/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/220981267",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-220981267",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 220981267,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDk4MTI2Nw==",
          "user": {
            "login": "phdowling",
            "id": 876919,
            "node_id": "MDQ6VXNlcjg3NjkxOQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/876919?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/phdowling",
            "html_url": "https://github.com/phdowling",
            "followers_url": "https://api.github.com/users/phdowling/followers",
            "following_url": "https://api.github.com/users/phdowling/following{/other_user}",
            "gists_url": "https://api.github.com/users/phdowling/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/phdowling/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/phdowling/subscriptions",
            "organizations_url": "https://api.github.com/users/phdowling/orgs",
            "repos_url": "https://api.github.com/users/phdowling/repos",
            "events_url": "https://api.github.com/users/phdowling/events{/privacy}",
            "received_events_url": "https://api.github.com/users/phdowling/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-05-23T13:33:22Z",
          "updated_at": "2016-05-23T13:33:22Z",
          "author_association": "NONE",
          "body": "What's the status here? I have a use-case for this and would like to use the feature, is it working as one would expect?\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/220981267/reactions",
            "total_count": 8,
            "+1": 8,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/221073896",
          "html_url": "https://github.com/keras-team/keras/pull/2413#issuecomment-221073896",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/2413",
          "id": 221073896,
          "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTA3Mzg5Ng==",
          "user": {
            "login": "codekansas",
            "id": 6070701,
            "node_id": "MDQ6VXNlcjYwNzA3MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6070701?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/codekansas",
            "html_url": "https://github.com/codekansas",
            "followers_url": "https://api.github.com/users/codekansas/followers",
            "following_url": "https://api.github.com/users/codekansas/following{/other_user}",
            "gists_url": "https://api.github.com/users/codekansas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/codekansas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/codekansas/subscriptions",
            "organizations_url": "https://api.github.com/users/codekansas/orgs",
            "repos_url": "https://api.github.com/users/codekansas/repos",
            "events_url": "https://api.github.com/users/codekansas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/codekansas/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2016-05-23T19:41:29Z",
          "updated_at": "2016-05-23T19:41:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "AFAIK it works, could get confirmation from someone else though since there was some debate on what it should actually be doing\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/221073896/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/11068",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/11068/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/11068/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/11068/events",
      "html_url": "https://github.com/keras-team/keras/issues/11068",
      "id": 356486119,
      "node_id": "MDU6SXNzdWUzNTY0ODYxMTk=",
      "number": 11068,
      "title": "NumPy (or JAX) backend for Keras.",
      "user": {
        "login": "danFromTelAviv",
        "id": 31417918,
        "node_id": "MDQ6VXNlcjMxNDE3OTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/31417918?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danFromTelAviv",
        "html_url": "https://github.com/danFromTelAviv",
        "followers_url": "https://api.github.com/users/danFromTelAviv/followers",
        "following_url": "https://api.github.com/users/danFromTelAviv/following{/other_user}",
        "gists_url": "https://api.github.com/users/danFromTelAviv/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/danFromTelAviv/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/danFromTelAviv/subscriptions",
        "organizations_url": "https://api.github.com/users/danFromTelAviv/orgs",
        "repos_url": "https://api.github.com/users/danFromTelAviv/repos",
        "events_url": "https://api.github.com/users/danFromTelAviv/events{/privacy}",
        "received_events_url": "https://api.github.com/users/danFromTelAviv/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 820705121,
          "node_id": "MDU6TGFiZWw4MjA3MDUxMjE=",
          "url": "https://api.github.com/repos/keras-team/keras/labels/type:feature",
          "name": "type:feature",
          "color": "159b2e",
          "default": false,
          "description": "The user is asking for a new feature."
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 63,
      "created_at": "2018-09-03T12:27:27Z",
      "updated_at": "2021-06-24T22:33:04Z",
      "closed_at": "2021-06-24T22:33:04Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "Most of keras is compatible with numpy / scipy. \r\nIt would be awesome ( and probably competitively fast at inference on cpu) if keras was available with a numpy/scipy backend. \r\n\r\nThis would help simplify inference significantly on a variety of machines ( in my case a non-raspbery pi arm computer). It would also be very fast. \r\n\r\nAlternatively a simplified keras inference engine that does not require tensorflow/cntk would great as well.\r\n\r\nHere is a link to something similar that unfortunately lost maintenance: https://github.com/riga/tfdeploy\r\n\r\n",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/11068/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/11068/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/418101925",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-418101925",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 418101925,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxODEwMTkyNQ==",
          "user": {
            "login": "kgrm",
            "id": 18569293,
            "node_id": "MDQ6VXNlcjE4NTY5Mjkz",
            "avatar_url": "https://avatars.githubusercontent.com/u/18569293?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kgrm",
            "html_url": "https://github.com/kgrm",
            "followers_url": "https://api.github.com/users/kgrm/followers",
            "following_url": "https://api.github.com/users/kgrm/following{/other_user}",
            "gists_url": "https://api.github.com/users/kgrm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kgrm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kgrm/subscriptions",
            "organizations_url": "https://api.github.com/users/kgrm/orgs",
            "repos_url": "https://api.github.com/users/kgrm/repos",
            "events_url": "https://api.github.com/users/kgrm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kgrm/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-03T12:32:29Z",
          "updated_at": "2018-09-03T12:32:29Z",
          "author_association": "NONE",
          "body": "All existing backends provide several \"standard\" deep learning operations such as convolution/deconvolution, pooling, activation functions, etc, as well as their gradients, which would have to be implemented from scratch for a numpy backend. This seems to me to be outside the scope of keras.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/418101925/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/418176540",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-418176540",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 418176540,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxODE3NjU0MA==",
          "user": {
            "login": "jlherren",
            "id": 1890851,
            "node_id": "MDQ6VXNlcjE4OTA4NTE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1890851?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jlherren",
            "html_url": "https://github.com/jlherren",
            "followers_url": "https://api.github.com/users/jlherren/followers",
            "following_url": "https://api.github.com/users/jlherren/following{/other_user}",
            "gists_url": "https://api.github.com/users/jlherren/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jlherren/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jlherren/subscriptions",
            "organizations_url": "https://api.github.com/users/jlherren/orgs",
            "repos_url": "https://api.github.com/users/jlherren/repos",
            "events_url": "https://api.github.com/users/jlherren/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jlherren/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-03T18:49:43Z",
          "updated_at": "2018-09-03T18:49:43Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Most of keras is compatible with numpy / scipy.\r\n\r\nThat's maybe a bit of a stretch. I think that all of Keras' backends can do symbolic math for various transformations and optimizations of the function graph, which is quite crucial to the execution speed. Neither numpy nor scipy can do any of that. So unless that part is covered by something, I don't really see the point. I'm not familiar with [sympy](https://www.sympy.org) and its tensor module, but perhaps there is some potential there.\r\n\r\nCan you explain the motivation behind this a bit more? Does your machine really implement full numpy and scipy support but none of Keras' backends? Tensorflow runs on raspberries, so maybe it does on your arm machine? At least some version of theano runs on arm too.\r\n\r\nThat said, I don't think writing a custom pure numpy (maybe not even scipy) backend is very hard, especially if you restrict yourself to simple models. It just won't be as performant as you think it would be.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/418176540/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/418187756",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-418187756",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 418187756,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxODE4Nzc1Ng==",
          "user": {
            "login": "gabrieldemarmiesse",
            "id": 12891691,
            "node_id": "MDQ6VXNlcjEyODkxNjkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12891691?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gabrieldemarmiesse",
            "html_url": "https://github.com/gabrieldemarmiesse",
            "followers_url": "https://api.github.com/users/gabrieldemarmiesse/followers",
            "following_url": "https://api.github.com/users/gabrieldemarmiesse/following{/other_user}",
            "gists_url": "https://api.github.com/users/gabrieldemarmiesse/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gabrieldemarmiesse/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gabrieldemarmiesse/subscriptions",
            "organizations_url": "https://api.github.com/users/gabrieldemarmiesse/orgs",
            "repos_url": "https://api.github.com/users/gabrieldemarmiesse/repos",
            "events_url": "https://api.github.com/users/gabrieldemarmiesse/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gabrieldemarmiesse/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-03T20:20:28Z",
          "updated_at": "2018-09-03T20:25:33Z",
          "author_association": "CONTRIBUTOR",
          "body": "There is a \"numpy backend\" in the test suite. See this file:\r\nhttps://github.com/keras-team/keras/blob/master/tests/keras/backend/reference_operations.py\r\n\r\nIt's being worked on right now (PR welcome). It's mainly for testing purposes but nobody prevents you from copy pasting the code and load it as an external backend. Loading external backends is not a documented feature, but it's possible, you just have to write:\r\n```\r\n{\r\n    \"floatx\": \"float32\",\r\n    \"epsilon\": 1e-07,\r\n    \"backend\": \"numpy_backend\",\r\n    \"image_data_format\": \"channels_last\"\r\n}\r\n```\r\nin your `~/.keras/keras.json`.\r\n\r\nThen copy the code from `reference_operations.py` and put it in a file called `numpy_backend.py`. I cannot garantee that everything will work as expected, but it should behave kind of like tensorflow eager or even a hypothetical pytorch backend.\r\n\r\nYou should use the model subclassing and then call the method `call` on your input numpy arrays.\r\n\r\nThere might be a few things to modify here and there, but it should work with a bit of tweaking. Don't forget to write how you made everything work somewhere.\r\n\r\nI get the point of a numpy backend to remove dependencies for inference. It's possible that one day, this numpy backend gets out of the test suite and goes to the backends directory. We never know. For now, you should be able to use it as an external backend.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/418187756/reactions",
            "total_count": 4,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 2,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/418188540",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-418188540",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 418188540,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxODE4ODU0MA==",
          "user": {
            "login": "gabrieldemarmiesse",
            "id": 12891691,
            "node_id": "MDQ6VXNlcjEyODkxNjkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12891691?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gabrieldemarmiesse",
            "html_url": "https://github.com/gabrieldemarmiesse",
            "followers_url": "https://api.github.com/users/gabrieldemarmiesse/followers",
            "following_url": "https://api.github.com/users/gabrieldemarmiesse/following{/other_user}",
            "gists_url": "https://api.github.com/users/gabrieldemarmiesse/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gabrieldemarmiesse/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gabrieldemarmiesse/subscriptions",
            "organizations_url": "https://api.github.com/users/gabrieldemarmiesse/orgs",
            "repos_url": "https://api.github.com/users/gabrieldemarmiesse/repos",
            "events_url": "https://api.github.com/users/gabrieldemarmiesse/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gabrieldemarmiesse/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-03T20:27:09Z",
          "updated_at": "2018-09-03T20:27:09Z",
          "author_association": "CONTRIBUTOR",
          "body": "Let me know if you encounter any issues with this setup. I'm happy to help. I'd be interested in seeing a numpy backend for inference too :)",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/418188540/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/418189679",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-418189679",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 418189679,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxODE4OTY3OQ==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-03T20:36:50Z",
          "updated_at": "2018-09-03T20:36:50Z",
          "author_association": "CONTRIBUTOR",
          "body": "Is numpy faster than available backends on certain platforms? Any numbers available?\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/418189679/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/418190341",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-418190341",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 418190341,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxODE5MDM0MQ==",
          "user": {
            "login": "gabrieldemarmiesse",
            "id": 12891691,
            "node_id": "MDQ6VXNlcjEyODkxNjkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12891691?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gabrieldemarmiesse",
            "html_url": "https://github.com/gabrieldemarmiesse",
            "followers_url": "https://api.github.com/users/gabrieldemarmiesse/followers",
            "following_url": "https://api.github.com/users/gabrieldemarmiesse/following{/other_user}",
            "gists_url": "https://api.github.com/users/gabrieldemarmiesse/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gabrieldemarmiesse/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gabrieldemarmiesse/subscriptions",
            "organizations_url": "https://api.github.com/users/gabrieldemarmiesse/orgs",
            "repos_url": "https://api.github.com/users/gabrieldemarmiesse/repos",
            "events_url": "https://api.github.com/users/gabrieldemarmiesse/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gabrieldemarmiesse/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-03T20:42:34Z",
          "updated_at": "2018-09-03T20:42:34Z",
          "author_association": "CONTRIBUTOR",
          "body": "I don't expect it to be faster. But it'd be nice to have numbers indeed. What I see is mostly a benefit in terms of dependencies for the inference part. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/418190341/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/419399933",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-419399933",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 419399933,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTM5OTkzMw==",
          "user": {
            "login": "danFromTelAviv",
            "id": 31417918,
            "node_id": "MDQ6VXNlcjMxNDE3OTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/31417918?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/danFromTelAviv",
            "html_url": "https://github.com/danFromTelAviv",
            "followers_url": "https://api.github.com/users/danFromTelAviv/followers",
            "following_url": "https://api.github.com/users/danFromTelAviv/following{/other_user}",
            "gists_url": "https://api.github.com/users/danFromTelAviv/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/danFromTelAviv/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/danFromTelAviv/subscriptions",
            "organizations_url": "https://api.github.com/users/danFromTelAviv/orgs",
            "repos_url": "https://api.github.com/users/danFromTelAviv/repos",
            "events_url": "https://api.github.com/users/danFromTelAviv/events{/privacy}",
            "received_events_url": "https://api.github.com/users/danFromTelAviv/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-07T10:39:55Z",
          "updated_at": "2018-09-07T10:43:06Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for the feed back to everyone. \r\nWhat i would love to have ( and help create) is keras simplicity and  speed at inference ( on arm ). \r\n\r\nI spent about 2 weeks ( 9 hours a day ) with a linix expert trying to install tensorflow on arm ( tinker board ). It is very non trivial unless it's a raspberry pi which google recently started officially supporting. cntk is explicitly not supported. Theano is very easy to install but not maintained :/. \r\nI have found that these libraries are also far from optimized for arm. While regular algorithmic code runs about 1x-2x slower as my i7 a convnet I built runs about 7x slower. \r\n\r\nI obviously can not beat the speed of the most optimized frameworks on their intended x86 + gpu targets - but as for arm computers ( which is where a lot of models actually end up running for IoT devices/routers/some servers...etc ) I can likely get at least comparable speed with much less hustle of installation. \r\n\r\nAgain - I am only interested in inference - sort of like tf lite. Maybe this can be like a keras lite prototype ( if ya'll are on board for that ). \r\n\r\n@kgrm Inference is also much simpler to implement...  \r\n\r\n@gabrieldemarmiesse - that is super awesome - I'll try it out . \r\n\r\n\r\nI also started working on a cython + numpy implementation that is showing a lot of promise to be super fast for non gpu enviroment. \r\nI tested a conv2d + seperable conv2d and it seems to perform with similar or even faster speeds compared to tf for my use cases ( very small images + kernels). This may be since there is almost zero overhead. \r\n\r\nYou can check out my ( very early ) work: \r\nhttps://github.com/danFromTelAviv/cynfrence\r\n\r\nI tried my best to follow tf standards.\r\n\r\n@farizrahman4u - I will run torough tests and let you know. ( It is a great honor to have you comment on my post btw ) \r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/419399933/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/419402741",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-419402741",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 419402741,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTQwMjc0MQ==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-07T10:51:29Z",
          "updated_at": "2018-09-07T10:51:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "@danFromTelAviv Thanks for the detailed response. Note that i have an existing architecture for running Keras with imperative backends (like pytorch) and currently i use it for running keras models on Nd4j (www.nd4j.org). See ![inference_only branch of deeplearning4j/keras](https://github.com/deeplearning4j/keras/blob/inference_only/keras/backend/nd4j_backend.py). Nd4j api is quite similar to numpy. If you can show me some solid numbers, we can definitely get this going. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/419402741/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/419405128",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-419405128",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 419405128,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTQwNTEyOA==",
          "user": {
            "login": "gabrieldemarmiesse",
            "id": 12891691,
            "node_id": "MDQ6VXNlcjEyODkxNjkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12891691?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gabrieldemarmiesse",
            "html_url": "https://github.com/gabrieldemarmiesse",
            "followers_url": "https://api.github.com/users/gabrieldemarmiesse/followers",
            "following_url": "https://api.github.com/users/gabrieldemarmiesse/following{/other_user}",
            "gists_url": "https://api.github.com/users/gabrieldemarmiesse/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gabrieldemarmiesse/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gabrieldemarmiesse/subscriptions",
            "organizations_url": "https://api.github.com/users/gabrieldemarmiesse/orgs",
            "repos_url": "https://api.github.com/users/gabrieldemarmiesse/repos",
            "events_url": "https://api.github.com/users/gabrieldemarmiesse/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gabrieldemarmiesse/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-07T11:01:05Z",
          "updated_at": "2018-09-07T11:01:05Z",
          "author_association": "CONTRIBUTOR",
          "body": "Having support for imperative backends in keras would be super nice. Maybe that would help keras and tf.keras be in sync since tf.keras already supports eager execution (just a guess)? And maybe reduce @fchollet 's workload, since keeping keras and tf.keras in sync must be very time-consuming.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/419405128/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/420372247",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-420372247",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 420372247,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDM3MjI0Nw==",
          "user": {
            "login": "danFromTelAviv",
            "id": 31417918,
            "node_id": "MDQ6VXNlcjMxNDE3OTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/31417918?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/danFromTelAviv",
            "html_url": "https://github.com/danFromTelAviv",
            "followers_url": "https://api.github.com/users/danFromTelAviv/followers",
            "following_url": "https://api.github.com/users/danFromTelAviv/following{/other_user}",
            "gists_url": "https://api.github.com/users/danFromTelAviv/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/danFromTelAviv/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/danFromTelAviv/subscriptions",
            "organizations_url": "https://api.github.com/users/danFromTelAviv/orgs",
            "repos_url": "https://api.github.com/users/danFromTelAviv/repos",
            "events_url": "https://api.github.com/users/danFromTelAviv/events{/privacy}",
            "received_events_url": "https://api.github.com/users/danFromTelAviv/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-11T18:24:04Z",
          "updated_at": "2018-09-11T18:24:04Z",
          "author_association": "CONTRIBUTOR",
          "body": "@gabrieldemarmiesse  I just looked at your code. It is beautifully simple. My only concern is runtime for conv / seperable conv and maybe rnn.  I think I'll ditch my version that I was working on in favor of yours but i'll merge in the convolutions that I wrote in cython ( and maybe a couple more functions that can gain significant speedup over good old numpy ).  It looks far more maintainable but I'll have to compare runtime just to make sure... \r\n\r\n@farizrahman4u That is awesome. I'm at ECCV right now. When I get back to work I'll start testing and update you as I go. \r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/420372247/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/420522434",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-420522434",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 420522434,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDUyMjQzNA==",
          "user": {
            "login": "danFromTelAviv",
            "id": 31417918,
            "node_id": "MDQ6VXNlcjMxNDE3OTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/31417918?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/danFromTelAviv",
            "html_url": "https://github.com/danFromTelAviv",
            "followers_url": "https://api.github.com/users/danFromTelAviv/followers",
            "following_url": "https://api.github.com/users/danFromTelAviv/following{/other_user}",
            "gists_url": "https://api.github.com/users/danFromTelAviv/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/danFromTelAviv/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/danFromTelAviv/subscriptions",
            "organizations_url": "https://api.github.com/users/danFromTelAviv/orgs",
            "repos_url": "https://api.github.com/users/danFromTelAviv/repos",
            "events_url": "https://api.github.com/users/danFromTelAviv/events{/privacy}",
            "received_events_url": "https://api.github.com/users/danFromTelAviv/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-12T06:01:26Z",
          "updated_at": "2018-09-12T19:33:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "Short update. \r\nI ran tests on my i-3 with a windows linux subsystem :\r\n1000 runs (conv2d with (2,2) stride) = 2.062500 (s) - cython\r\n1000 runs (conv2d with (2,2) stride) = 1.140625 (s) - tf\r\n\r\n** edit ** \r\nafter some minor tweaks\r\n1000 runs (conv2d with (2,2) stride) = 1.468750 (s) - cython\r\n\r\nSo not as fast as I was precieving. But not a bad starting point at all. I think it maybe they are using fft based convolutions rather than direct. I'm not really sure how to aply strides/dilation in fourier space but it seems doable. Otherwise I was also thinking about looking deeper into how np/tf do their convolutions and just add in the striding / dilation options as needed.  2x is also with in range of just pure code optimization so maybe i'll attack it that way although I'm more experienced with highlevel. \r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/420522434/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/421821747",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-421821747",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 421821747,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMTgyMTc0Nw==",
          "user": {
            "login": "gabrieldemarmiesse",
            "id": 12891691,
            "node_id": "MDQ6VXNlcjEyODkxNjkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12891691?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gabrieldemarmiesse",
            "html_url": "https://github.com/gabrieldemarmiesse",
            "followers_url": "https://api.github.com/users/gabrieldemarmiesse/followers",
            "following_url": "https://api.github.com/users/gabrieldemarmiesse/following{/other_user}",
            "gists_url": "https://api.github.com/users/gabrieldemarmiesse/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gabrieldemarmiesse/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gabrieldemarmiesse/subscriptions",
            "organizations_url": "https://api.github.com/users/gabrieldemarmiesse/orgs",
            "repos_url": "https://api.github.com/users/gabrieldemarmiesse/repos",
            "events_url": "https://api.github.com/users/gabrieldemarmiesse/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gabrieldemarmiesse/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-16T19:52:05Z",
          "updated_at": "2018-09-16T20:05:32Z",
          "author_association": "CONTRIBUTOR",
          "body": "I found a way to speedup the convolution in the numpy backend while staying in pure python:\r\n\r\n```python\r\n@normalize_conv\r\ndef conv(x, w, padding, data_format):\r\n    _y = []\r\n    for j in range(w.shape[1]):\r\n        __y = []\r\n        for k in range(w.shape[0]):\r\n            __y.append(signal.convolve(x[:, k], w[None, k, j], mode=padding))\r\n        _y.append(np.sum(__y, axis=0))\r\n    return np.stack(_y, axis=1)\r\n```\r\nBut it's still nowhere as fast as tensorflow for example.\r\n\r\nSee this PR: #11156 ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/421821747/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423242962",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-423242962",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 423242962,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzI0Mjk2Mg==",
          "user": {
            "login": "danFromTelAviv",
            "id": 31417918,
            "node_id": "MDQ6VXNlcjMxNDE3OTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/31417918?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/danFromTelAviv",
            "html_url": "https://github.com/danFromTelAviv",
            "followers_url": "https://api.github.com/users/danFromTelAviv/followers",
            "following_url": "https://api.github.com/users/danFromTelAviv/following{/other_user}",
            "gists_url": "https://api.github.com/users/danFromTelAviv/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/danFromTelAviv/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/danFromTelAviv/subscriptions",
            "organizations_url": "https://api.github.com/users/danFromTelAviv/orgs",
            "repos_url": "https://api.github.com/users/danFromTelAviv/repos",
            "events_url": "https://api.github.com/users/danFromTelAviv/events{/privacy}",
            "received_events_url": "https://api.github.com/users/danFromTelAviv/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-20T16:13:28Z",
          "updated_at": "2018-09-20T16:13:28Z",
          "author_association": "CONTRIBUTOR",
          "body": "nice. What is the run time compared to tf roughly? Maybe we can request scipy to add dilated strided nd convolutions ? \r\n\r\nUpdate with regards to the cython implementation -> \r\n1) The above run times did not include parallelization which should give  > 1.5x speedup with 2 cores. \r\n2) I found out time.clock() can not time parallelized cython properly ( [ I get 2x slow down ](https://stackoverflow.com/questions/52301021/prange-slows-down-my-code-what-am-i-doing-wrong?noredirect=1#comment91712451_52301021) ).\r\nI think even 30% slower than tf is good enough for now. Especially with the assumption that when I get around to it I can recover that speed with parallelization. \r\n\r\nI think I will start to integrate with @gabrieldemarmiesse 's code and add tests and test on arm...etc \r\nWhat do you guys think? \r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423242962/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423249301",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-423249301",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 423249301,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzI0OTMwMQ==",
          "user": {
            "login": "gabrieldemarmiesse",
            "id": 12891691,
            "node_id": "MDQ6VXNlcjEyODkxNjkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12891691?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gabrieldemarmiesse",
            "html_url": "https://github.com/gabrieldemarmiesse",
            "followers_url": "https://api.github.com/users/gabrieldemarmiesse/followers",
            "following_url": "https://api.github.com/users/gabrieldemarmiesse/following{/other_user}",
            "gists_url": "https://api.github.com/users/gabrieldemarmiesse/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gabrieldemarmiesse/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gabrieldemarmiesse/subscriptions",
            "organizations_url": "https://api.github.com/users/gabrieldemarmiesse/orgs",
            "repos_url": "https://api.github.com/users/gabrieldemarmiesse/repos",
            "events_url": "https://api.github.com/users/gabrieldemarmiesse/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gabrieldemarmiesse/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-20T16:33:13Z",
          "updated_at": "2018-09-20T16:33:13Z",
          "author_association": "CONTRIBUTOR",
          "body": "* If numpy / scipy could have a convolution operation for 1d/2d/3d equivalent to what deep learning frameworks have, it would be awesome.\r\n* Currently, not only our convolution is slow (I think something like 10-20x slower than TF) but our pooling operations in numpy in reference_operations.py is very slow too.\r\n* We cannot use Cython in the keras codebase. That would complicate the build too much.\r\n* We cannot go with a numpy backend in the keras codebase unless we have a fast pooling and convolution operation. Those operations should only use scipy/numpy. For pooling, I think numpy tricks can help us, but I'm not so sure for the convolution.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423249301/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423249860",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-423249860",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 423249860,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzI0OTg2MA==",
          "user": {
            "login": "gabrieldemarmiesse",
            "id": 12891691,
            "node_id": "MDQ6VXNlcjEyODkxNjkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12891691?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gabrieldemarmiesse",
            "html_url": "https://github.com/gabrieldemarmiesse",
            "followers_url": "https://api.github.com/users/gabrieldemarmiesse/followers",
            "following_url": "https://api.github.com/users/gabrieldemarmiesse/following{/other_user}",
            "gists_url": "https://api.github.com/users/gabrieldemarmiesse/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gabrieldemarmiesse/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gabrieldemarmiesse/subscriptions",
            "organizations_url": "https://api.github.com/users/gabrieldemarmiesse/orgs",
            "repos_url": "https://api.github.com/users/gabrieldemarmiesse/repos",
            "events_url": "https://api.github.com/users/gabrieldemarmiesse/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gabrieldemarmiesse/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-20T16:34:50Z",
          "updated_at": "2018-09-20T16:34:50Z",
          "author_association": "CONTRIBUTOR",
          "body": "I ran a VGG with the numpy backend from reference_operations.py and it was orders of magnitude slower than TF. Mainly because of pooling and convolutions. I don't have precise numbers though.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423249860/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423494292",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-423494292",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 423494292,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzQ5NDI5Mg==",
          "user": {
            "login": "danFromTelAviv",
            "id": 31417918,
            "node_id": "MDQ6VXNlcjMxNDE3OTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/31417918?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/danFromTelAviv",
            "html_url": "https://github.com/danFromTelAviv",
            "followers_url": "https://api.github.com/users/danFromTelAviv/followers",
            "following_url": "https://api.github.com/users/danFromTelAviv/following{/other_user}",
            "gists_url": "https://api.github.com/users/danFromTelAviv/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/danFromTelAviv/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/danFromTelAviv/subscriptions",
            "organizations_url": "https://api.github.com/users/danFromTelAviv/orgs",
            "repos_url": "https://api.github.com/users/danFromTelAviv/repos",
            "events_url": "https://api.github.com/users/danFromTelAviv/events{/privacy}",
            "received_events_url": "https://api.github.com/users/danFromTelAviv/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-21T10:57:26Z",
          "updated_at": "2018-09-21T14:21:31Z",
          "author_association": "CONTRIBUTOR",
          "body": "Yeah... orders of magnitude is an issue.\r\nI opened an [issue ](https://github.com/scipy/scipy/issues/9295)for scipy - hopefully, they think it's a significant feature and select it for dev. I tried to follow their code and had a hard time so I don't think I'll be able to contribute there. \r\n\r\nAs for pooling - average pooling is just a strided convolution with a np.ones. There is also a [max filter ](https://docs.scipy.org/doc/scipy-0.16.0/reference/generated/scipy.ndimage.filters.maximum_filter.html)similarly. So it's two bird with one stone if we can figure out the convolutions. There are also rnns to watch out for. \r\n\r\nIn any case, for truly competative speed, none of the for loops can be in python. \r\nCython code precompiled or at least translated to c seems not that bad for distribution but it's not as easy as python obviously. \r\n[Official cython advice](http://docs.cython.org/en/latest/src/userguide/source_files_and_compilation.html#distributing-cython-modules):\r\n1) Turn the cython code into c automatically with cythonize ( no cython needed on user's computer ).\r\n2) Add it to setup.py like the following.\r\n```\r\nfrom distutils.core import setup\r\nfrom distutils.extension import Extension\r\n\r\nsetup(\r\n    ext_modules = [Extension(\"example\", [\"example.c\"])]\r\n)\r\n```\r\n\r\n\r\nMaybe a simpler custom backend interface (  imperative backends as you suggested ) would be the best way to go - this way it's not part of official keras. ( If the scipy/ numpy avenue doesn't work out ) \r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423494292/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423680885",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-423680885",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 423680885,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzY4MDg4NQ==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-21T21:52:13Z",
          "updated_at": "2018-09-21T21:52:13Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hmm. Let's not do the cython stuff. I know where it goes.. you will end up writing your own TF. Let's have a Keras fork with a basic template for imperative backends. I will add a bunch ops for numpy, and you guys can help out with the rest?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423680885/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423719744",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-423719744",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 423719744,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzcxOTc0NA==",
          "user": {
            "login": "danFromTelAviv",
            "id": 31417918,
            "node_id": "MDQ6VXNlcjMxNDE3OTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/31417918?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/danFromTelAviv",
            "html_url": "https://github.com/danFromTelAviv",
            "followers_url": "https://api.github.com/users/danFromTelAviv/followers",
            "following_url": "https://api.github.com/users/danFromTelAviv/following{/other_user}",
            "gists_url": "https://api.github.com/users/danFromTelAviv/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/danFromTelAviv/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/danFromTelAviv/subscriptions",
            "organizations_url": "https://api.github.com/users/danFromTelAviv/orgs",
            "repos_url": "https://api.github.com/users/danFromTelAviv/repos",
            "events_url": "https://api.github.com/users/danFromTelAviv/events{/privacy}",
            "received_events_url": "https://api.github.com/users/danFromTelAviv/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-22T06:07:20Z",
          "updated_at": "2018-09-22T06:07:20Z",
          "author_association": "CONTRIBUTOR",
          "body": "Fair enough. @gabrieldemarmiesse - it's not going to be fast enough for practical use but will open a really big door for innovation and maybe speed eventually will come too. You in?\r\n\r\nLet's get a list of things that need to be done somewhere so we know who's on what. Where is the most convenient ( maybe trello or something)? maybe we should even do TDD ( seems classic here ).\r\n** note that between gabriel's code and mine there's already a lot of functionality in pure numpy/scipy. ( mine is still not well tested ). \r\n\r\n\r\n\r\n\r\n\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423719744/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423726759",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-423726759",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 423726759,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzcyNjc1OQ==",
          "user": {
            "login": "gabrieldemarmiesse",
            "id": 12891691,
            "node_id": "MDQ6VXNlcjEyODkxNjkx",
            "avatar_url": "https://avatars.githubusercontent.com/u/12891691?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gabrieldemarmiesse",
            "html_url": "https://github.com/gabrieldemarmiesse",
            "followers_url": "https://api.github.com/users/gabrieldemarmiesse/followers",
            "following_url": "https://api.github.com/users/gabrieldemarmiesse/following{/other_user}",
            "gists_url": "https://api.github.com/users/gabrieldemarmiesse/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gabrieldemarmiesse/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gabrieldemarmiesse/subscriptions",
            "organizations_url": "https://api.github.com/users/gabrieldemarmiesse/orgs",
            "repos_url": "https://api.github.com/users/gabrieldemarmiesse/repos",
            "events_url": "https://api.github.com/users/gabrieldemarmiesse/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gabrieldemarmiesse/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-22T08:20:49Z",
          "updated_at": "2018-09-22T08:20:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Let's have a Keras fork with a basic template for imperative backends.\r\n\r\n@farizrahman4u From what I know, this keras-team/keras repo will have to support TF eager. Why not work directly here to support TF eager? We'll load the numpy backend as an external one when we're done. What do you think? ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423726759/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423741812",
          "html_url": "https://github.com/keras-team/keras/issues/11068#issuecomment-423741812",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/11068",
          "id": 423741812,
          "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzc0MTgxMg==",
          "user": {
            "login": "farizrahman4u",
            "id": 11006006,
            "node_id": "MDQ6VXNlcjExMDA2MDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/11006006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/farizrahman4u",
            "html_url": "https://github.com/farizrahman4u",
            "followers_url": "https://api.github.com/users/farizrahman4u/followers",
            "following_url": "https://api.github.com/users/farizrahman4u/following{/other_user}",
            "gists_url": "https://api.github.com/users/farizrahman4u/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/farizrahman4u/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/farizrahman4u/subscriptions",
            "organizations_url": "https://api.github.com/users/farizrahman4u/orgs",
            "repos_url": "https://api.github.com/users/farizrahman4u/repos",
            "events_url": "https://api.github.com/users/farizrahman4u/events{/privacy}",
            "received_events_url": "https://api.github.com/users/farizrahman4u/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-09-22T12:46:52Z",
          "updated_at": "2018-09-22T12:47:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "@gabrieldemarmiesse We don't have to make much changes to this repo to support eager. Keras simply calls tf functions. Whether to execute ops eagerly or not is upto TF. Current codebase should be almost eager compatible. Maybe there are some api changes (additions) to be made to support eager workflow more explicitly, and there are upcoming breaking api changes in TF2, but I think fchollet and google will handle it :)\r\n\r\nHere i am talking about truly imperative backends (which doesn't have the concept of placeholders). These include: pytorch, nd4j, numpy. I already have partially working prototypes for pytorch and nd4j. Lets make it a single project, with switchable backends. I can do this over the weekend (next weekend), but willl need help with adding ops. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/423741812/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/9253",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/9253/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/9253/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/9253/events",
      "html_url": "https://github.com/keras-team/keras/pull/9253",
      "id": 292993872,
      "node_id": "MDExOlB1bGxSZXF1ZXN0MTY2MTM5NTYz",
      "number": 9253,
      "title": "Add support for stateful metrics.",
      "user": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 47,
      "created_at": "2018-01-31T00:56:13Z",
      "updated_at": "2018-03-01T17:43:18Z",
      "closed_at": "2018-02-08T05:46:56Z",
      "author_association": "COLLABORATOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/keras-team/keras/pulls/9253",
        "html_url": "https://github.com/keras-team/keras/pull/9253",
        "diff_url": "https://github.com/keras-team/keras/pull/9253.diff",
        "patch_url": "https://github.com/keras-team/keras/pull/9253.patch",
        "merged_at": "2018-02-08T05:46:56Z"
      },
      "body": "cc @Dref360 @brge17: please check that it looks satisfactory (in particular the UX). Check out the `BinaryTruePositives` example class in `metrics_test.py`.",
      "closed_by": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/9253/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/9253/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/361791347",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-361791347",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 361791347,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTc5MTM0Nw==",
          "user": {
            "login": "brge17",
            "id": 33430930,
            "node_id": "MDQ6VXNlcjMzNDMwOTMw",
            "avatar_url": "https://avatars.githubusercontent.com/u/33430930?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brge17",
            "html_url": "https://github.com/brge17",
            "followers_url": "https://api.github.com/users/brge17/followers",
            "following_url": "https://api.github.com/users/brge17/following{/other_user}",
            "gists_url": "https://api.github.com/users/brge17/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brge17/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brge17/subscriptions",
            "organizations_url": "https://api.github.com/users/brge17/orgs",
            "repos_url": "https://api.github.com/users/brge17/repos",
            "events_url": "https://api.github.com/users/brge17/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brge17/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-01-31T01:20:43Z",
          "updated_at": "2018-01-31T01:21:53Z",
          "author_association": "CONTRIBUTOR",
          "body": "1. The progbar does not correctly display training metrics (it still does averaging under the hood). Not sure if this is something in scope for the initial PR. Callbacks that reference the training metrics do receive the correct value, it is purely cosmetic.\r\n\r\nOtherwise looks good to me.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/361791347/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/361792277",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-361792277",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 361792277,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTc5MjI3Nw==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-01-31T01:25:26Z",
          "updated_at": "2018-01-31T01:25:59Z",
          "author_association": "COLLABORATOR",
          "body": "In general I am not happy with the fact that we have a special handling of stateful metrics in callbacks (and would need the same in the progbar as well). Could we come up with a simple and elegant design to support both stateful metrics and samplewise metrics, I wonder?\r\n\r\nAn obvious solution would be to cast all metrics as stateful, but that would not be backwards compatible with user-written metrics. chin scratch emoji",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/361792277/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/361793020",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-361793020",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 361793020,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTc5MzAyMA==",
          "user": {
            "login": "brge17",
            "id": 33430930,
            "node_id": "MDQ6VXNlcjMzNDMwOTMw",
            "avatar_url": "https://avatars.githubusercontent.com/u/33430930?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brge17",
            "html_url": "https://github.com/brge17",
            "followers_url": "https://api.github.com/users/brge17/followers",
            "following_url": "https://api.github.com/users/brge17/following{/other_user}",
            "gists_url": "https://api.github.com/users/brge17/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brge17/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brge17/subscriptions",
            "organizations_url": "https://api.github.com/users/brge17/orgs",
            "repos_url": "https://api.github.com/users/brge17/repos",
            "events_url": "https://api.github.com/users/brge17/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brge17/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-01-31T01:29:19Z",
          "updated_at": "2018-01-31T01:30:17Z",
          "author_association": "CONTRIBUTOR",
          "body": "Option 2: I thought of was if the metric is non-stateful write a wrapper that makes it stateful.\r\n\r\nThat way the losses that double as metrics don't need a loss and metric implementation",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/361793020/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/361793460",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-361793460",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 361793460,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTc5MzQ2MA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-01-31T01:31:59Z",
          "updated_at": "2018-01-31T01:31:59Z",
          "author_association": "COLLABORATOR",
          "body": "That's a good idea:\r\n\r\n- metric is a layer: assume it's stateful\r\n- it's a function: wrap it into a layer that does the averaging\r\n\r\nBut is it a good UX?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/361793460/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/361796701",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-361796701",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 361796701,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTc5NjcwMQ==",
          "user": {
            "login": "brge17",
            "id": 33430930,
            "node_id": "MDQ6VXNlcjMzNDMwOTMw",
            "avatar_url": "https://avatars.githubusercontent.com/u/33430930?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brge17",
            "html_url": "https://github.com/brge17",
            "followers_url": "https://api.github.com/users/brge17/followers",
            "following_url": "https://api.github.com/users/brge17/following{/other_user}",
            "gists_url": "https://api.github.com/users/brge17/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brge17/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brge17/subscriptions",
            "organizations_url": "https://api.github.com/users/brge17/orgs",
            "repos_url": "https://api.github.com/users/brge17/repos",
            "events_url": "https://api.github.com/users/brge17/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brge17/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-01-31T01:49:08Z",
          "updated_at": "2018-01-31T01:49:08Z",
          "author_association": "CONTRIBUTOR",
          "body": "From a UX prospective, if you have an non-stateful metric (no change) it's handled under the hood. Without digging into the code - no wiser.\r\n\r\nNow, if you are in the other camp and need a stateful metric this is great UX because you don't have to write a really hack callback (which is what I had previously done).\r\n\r\nThat's my 2 cents.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/361796701/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/361800208",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-361800208",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 361800208,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTgwMDIwOA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-01-31T02:08:27Z",
          "updated_at": "2018-01-31T02:08:27Z",
          "author_association": "COLLABORATOR",
          "body": "So to sum up, we could have a world where:\r\n\r\n- callbacks and progbar do no averaging (and are agnostic to how metrics work)\r\n- there's a `Metric` class, which is stateful\r\n- metric functions get wrapped into a `SamplewiseMetric` subclass which does the averaging (returns `sum(val * batch) / samples_see_so_far`, like we do now)\r\n- there's a unified API for interacting with metrics in `training.py`\r\n\r\nLet's look into it?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/361800208/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/361806052",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-361806052",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 361806052,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTgwNjA1Mg==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-01-31T02:43:53Z",
          "updated_at": "2018-01-31T02:43:53Z",
          "author_association": "COLLABORATOR",
          "body": "For progbar backwards compatibility, averaging should be made an option (with old behavior being the default).",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/361806052/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/361818878",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-361818878",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 361818878,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTgxODg3OA==",
          "user": {
            "login": "brge17",
            "id": 33430930,
            "node_id": "MDQ6VXNlcjMzNDMwOTMw",
            "avatar_url": "https://avatars.githubusercontent.com/u/33430930?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brge17",
            "html_url": "https://github.com/brge17",
            "followers_url": "https://api.github.com/users/brge17/followers",
            "following_url": "https://api.github.com/users/brge17/following{/other_user}",
            "gists_url": "https://api.github.com/users/brge17/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brge17/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brge17/subscriptions",
            "organizations_url": "https://api.github.com/users/brge17/orgs",
            "repos_url": "https://api.github.com/users/brge17/repos",
            "events_url": "https://api.github.com/users/brge17/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brge17/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-01-31T04:17:07Z",
          "updated_at": "2018-01-31T04:17:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "Couple things: \r\n\r\nCNTK tests are failing it looks like.\r\n\r\nIs this just for the loss?: \r\n>For progbar backwards compatibility, averaging should be made an option (with old behavior being the default).\r\n\r\nOtherwise:\r\n >metric functions get wrapped into a SamplewiseMetric subclass which does the averaging (returns sum(val * batch) / samples_see_so_far, like we do now)\r\n\r\neliminates the need.\r\n\r\nI don't have any free cycles left this week. But, I would be happy to work on this next week.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/361818878/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/361819924",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-361819924",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 361819924,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTgxOTkyNA==",
          "user": {
            "login": "brge17",
            "id": 33430930,
            "node_id": "MDQ6VXNlcjMzNDMwOTMw",
            "avatar_url": "https://avatars.githubusercontent.com/u/33430930?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brge17",
            "html_url": "https://github.com/brge17",
            "followers_url": "https://api.github.com/users/brge17/followers",
            "following_url": "https://api.github.com/users/brge17/following{/other_user}",
            "gists_url": "https://api.github.com/users/brge17/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brge17/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brge17/subscriptions",
            "organizations_url": "https://api.github.com/users/brge17/orgs",
            "repos_url": "https://api.github.com/users/brge17/repos",
            "events_url": "https://api.github.com/users/brge17/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brge17/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-01-31T04:25:17Z",
          "updated_at": "2018-01-31T04:25:17Z",
          "author_association": "CONTRIBUTOR",
          "body": "The Theano StatefulMetric computing incorrectly is perplexing...",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/361819924/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362378453",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-362378453",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 362378453,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjM3ODQ1Mw==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-01T19:39:21Z",
          "updated_at": "2018-02-01T19:39:21Z",
          "author_association": "COLLABORATOR",
          "body": "> The Theano StatefulMetric computing incorrectly is perplexing...\r\n\r\nWeird, especially since the test passes with Theano for me locally...",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362378453/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362379490",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-362379490",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 362379490,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjM3OTQ5MA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-01T19:43:02Z",
          "updated_at": "2018-02-01T19:43:02Z",
          "author_association": "COLLABORATOR",
          "body": "The test failure with Theano is non-deterministic (depends on the training data). This does not happen with TF.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362379490/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362380996",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-362380996",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 362380996,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjM4MDk5Ng==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-01T19:48:24Z",
          "updated_at": "2018-02-01T19:48:24Z",
          "author_association": "COLLABORATOR",
          "body": "It's a graph dependency issue; `true_positives` may be returned before or after the last update has been run. Does not happen with TF.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362380996/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362382384",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-362382384",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 362382384,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjM4MjM4NA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-01T19:53:13Z",
          "updated_at": "2018-02-01T19:53:13Z",
          "author_association": "COLLABORATOR",
          "body": "Fixed by not directly returning the variable being updated. It's kind of a subtle issue. Not happening with TF because we deliberately set updates in the backend to be run *after* the outputs (in `Function`).",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362382384/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362382843",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-362382843",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 362382843,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjM4Mjg0Mw==",
          "user": {
            "login": "Dref360",
            "id": 8976546,
            "node_id": "MDQ6VXNlcjg5NzY1NDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8976546?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Dref360",
            "html_url": "https://github.com/Dref360",
            "followers_url": "https://api.github.com/users/Dref360/followers",
            "following_url": "https://api.github.com/users/Dref360/following{/other_user}",
            "gists_url": "https://api.github.com/users/Dref360/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Dref360/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Dref360/subscriptions",
            "organizations_url": "https://api.github.com/users/Dref360/orgs",
            "repos_url": "https://api.github.com/users/Dref360/repos",
            "events_url": "https://api.github.com/users/Dref360/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Dref360/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-01T19:54:53Z",
          "updated_at": "2018-02-01T19:54:53Z",
          "author_association": "CONTRIBUTOR",
          "body": "Is there a way to fix it in theano_backend? Otherwise, users will make the same error. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362382843/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362408987",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-362408987",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 362408987,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjQwODk4Nw==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-01T21:33:30Z",
          "updated_at": "2018-02-01T21:33:30Z",
          "author_association": "COLLABORATOR",
          "body": "@Dref360 is there a Theano API to specify the order in which ops are to be executed? Similar to `control_dependencies` in TF. If yes, we can do it. If not, never mind. Theano is EOL anyway.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362408987/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362422552",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-362422552",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 362422552,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjQyMjU1Mg==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-01T22:24:34Z",
          "updated_at": "2018-02-01T22:24:34Z",
          "author_association": "COLLABORATOR",
          "body": "A complication is that current callbacks expect to be passed batch-wise metrics in `on_batch_end`, rather than current averages. In that regard, the plan above would be a breaking behavior change.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362422552/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362423344",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-362423344",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 362423344,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjQyMzM0NA==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-01T22:27:46Z",
          "updated_at": "2018-02-01T22:27:46Z",
          "author_association": "COLLABORATOR",
          "body": "This behavior change isn't necessarily a huge deal; for instance no built-in callback meaningfully leverages batch metrics today. Any user of that would be an advanced user that could deal with the change.\r\n\r\nI think we will merge this PR (which doesn't affect any current behavior or API, other than enabling the workflow described in the unit test) then investigate the plan described above.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362423344/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362434011",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-362434011",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 362434011,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjQzNDAxMQ==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-01T23:15:41Z",
          "updated_at": "2018-02-01T23:15:41Z",
          "author_association": "COLLABORATOR",
          "body": "There's a complex interaction with losses, that makes it impossible to make all metrics stateful (losses, including the total loss, being metrics too).\r\n\r\nThe only way forward as I see it is to have a formal distinction between samplewise metrics and stateful metrics, and to hand down this information to the BaseLogger and Progbar in a clean way.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362434011/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362437672",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-362437672",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 362437672,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjQzNzY3Mg==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-01T23:34:58Z",
          "updated_at": "2018-02-01T23:34:58Z",
          "author_association": "COLLABORATOR",
          "body": "One more reason is that going all-stateful would break the output of `train_on_batch`, `test_on_batch` (which are supposed to return batch-wise metrics). This is an API that quite a few people use.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362437672/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362445351",
          "html_url": "https://github.com/keras-team/keras/pull/9253#issuecomment-362445351",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/9253",
          "id": 362445351,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjQ0NTM1MQ==",
          "user": {
            "login": "brge17",
            "id": 33430930,
            "node_id": "MDQ6VXNlcjMzNDMwOTMw",
            "avatar_url": "https://avatars.githubusercontent.com/u/33430930?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brge17",
            "html_url": "https://github.com/brge17",
            "followers_url": "https://api.github.com/users/brge17/followers",
            "following_url": "https://api.github.com/users/brge17/following{/other_user}",
            "gists_url": "https://api.github.com/users/brge17/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brge17/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brge17/subscriptions",
            "organizations_url": "https://api.github.com/users/brge17/orgs",
            "repos_url": "https://api.github.com/users/brge17/repos",
            "events_url": "https://api.github.com/users/brge17/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brge17/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-02-02T00:17:12Z",
          "updated_at": "2018-02-02T00:17:12Z",
          "author_association": "CONTRIBUTOR",
          "body": "Sounds good to me.\r\n\r\nThe only people who are going to use stateful metrics in the short term also know that it doesn't work with the progbar yet. But they do work with the other callbacks (which is more important).",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/362445351/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/5935",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/5935/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/5935/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/5935/events",
      "html_url": "https://github.com/keras-team/keras/issues/5935",
      "id": 216246120,
      "node_id": "MDU6SXNzdWUyMTYyNDYxMjA=",
      "number": 5935,
      "title": "Memory leak during model.fit()",
      "user": {
        "login": "HareeshBahuleyan",
        "id": 13996331,
        "node_id": "MDQ6VXNlcjEzOTk2MzMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/13996331?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/HareeshBahuleyan",
        "html_url": "https://github.com/HareeshBahuleyan",
        "followers_url": "https://api.github.com/users/HareeshBahuleyan/followers",
        "following_url": "https://api.github.com/users/HareeshBahuleyan/following{/other_user}",
        "gists_url": "https://api.github.com/users/HareeshBahuleyan/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/HareeshBahuleyan/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/HareeshBahuleyan/subscriptions",
        "organizations_url": "https://api.github.com/users/HareeshBahuleyan/orgs",
        "repos_url": "https://api.github.com/users/HareeshBahuleyan/repos",
        "events_url": "https://api.github.com/users/HareeshBahuleyan/events{/privacy}",
        "received_events_url": "https://api.github.com/users/HareeshBahuleyan/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 60,
      "created_at": "2017-03-23T00:14:01Z",
      "updated_at": "2022-09-08T07:06:56Z",
      "closed_at": "2017-04-12T13:44:12Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "Hi,\r\n\r\nI am trying to train a simple CNN in keras. During training via model.fit(), the  system free memory keeps reducing and eventually it runs out of memory with a \"Killed\" error. When I train it one epoch at a time, I can clearly see the reduction in free memory after each epoch. Is this normal?\r\n\r\n```\r\nmodel = Sequential()\r\nmodel.add(Conv2D(input_shape=(1,30,300), filters=10, kernel_size=(3, 300), padding='valid', \r\n                        data_format=\"channels_first\", activation='relu'))\r\nmodel.add(Reshape((10, 28)))\r\nmodel.add(MaxPooling1D(pool_size=10))\r\n\r\nmodel.add(Flatten())\r\nmodel.add(BatchNormalization())\r\nmodel.add(Dense(20, activation='relu'))\r\nmodel.add(Dropout(0.2))\r\nmodel.add(BatchNormalization())\r\nmodel.add(Dense(10, activation='relu'))\r\nmodel.add(Dropout(0.2))\r\nmodel.add(BatchNormalization())\r\nmodel.add(Dense(5, activation='relu'))\r\nmodel.add(Dropout(0.2))\r\nmodel.add(Dense(1, activation='sigmoid')) \r\n\r\nmodel.compile(loss='binary_crossentropy',\r\n              optimizer='adam',\r\n              metrics=['accuracy'])\r\n\r\nmodel.fit(X_train, Y_train, batch_size=32, epochs=1, validation_data=(X_test, Y_test), verbose=0)\r\n```\r\n\r\nHowever, when I set **batch_size = 1**, I see that it works fine with no memory leaks. \r\n\r\nI am running keras version 2.02 with theano backend on CPU.\r\n\r\nThanks,\r\nHareesh\r\n\r\nEdit: I was not facing this issue with Keras version 1.2.\r\n\r\n- [x] Check that you are up-to-date with the master branch of Keras. You can update with:\r\npip install git+git://github.com/fchollet/keras.git --upgrade --no-deps\r\n\r\n- [x] If running on TensorFlow, check that you are up-to-date with the latest version. The installation instructions can be found [here](https://www.tensorflow.org/get_started/os_setup).\r\n\r\n- [x] If running on Theano, check that you are up-to-date with the master branch of Theano. You can update with:\r\npip install git+git://github.com/Theano/Theano.git --upgrade --no-deps\r\n\r\n- [x] Provide a link to a GitHub Gist of a Python script that can reproduce your issue (or just copy the script here if it is short).\r\n",
      "closed_by": {
        "login": "HareeshBahuleyan",
        "id": 13996331,
        "node_id": "MDQ6VXNlcjEzOTk2MzMx",
        "avatar_url": "https://avatars.githubusercontent.com/u/13996331?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/HareeshBahuleyan",
        "html_url": "https://github.com/HareeshBahuleyan",
        "followers_url": "https://api.github.com/users/HareeshBahuleyan/followers",
        "following_url": "https://api.github.com/users/HareeshBahuleyan/following{/other_user}",
        "gists_url": "https://api.github.com/users/HareeshBahuleyan/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/HareeshBahuleyan/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/HareeshBahuleyan/subscriptions",
        "organizations_url": "https://api.github.com/users/HareeshBahuleyan/orgs",
        "repos_url": "https://api.github.com/users/HareeshBahuleyan/repos",
        "events_url": "https://api.github.com/users/HareeshBahuleyan/events{/privacy}",
        "received_events_url": "https://api.github.com/users/HareeshBahuleyan/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/5935/reactions",
        "total_count": 11,
        "+1": 11,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/5935/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/288919266",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-288919266",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 288919266,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODkxOTI2Ng==",
          "user": {
            "login": "Kajiyu",
            "id": 12061702,
            "node_id": "MDQ6VXNlcjEyMDYxNzAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/12061702?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Kajiyu",
            "html_url": "https://github.com/Kajiyu",
            "followers_url": "https://api.github.com/users/Kajiyu/followers",
            "following_url": "https://api.github.com/users/Kajiyu/following{/other_user}",
            "gists_url": "https://api.github.com/users/Kajiyu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Kajiyu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Kajiyu/subscriptions",
            "organizations_url": "https://api.github.com/users/Kajiyu/orgs",
            "repos_url": "https://api.github.com/users/Kajiyu/repos",
            "events_url": "https://api.github.com/users/Kajiyu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Kajiyu/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-24T02:51:21Z",
          "updated_at": "2017-03-24T02:51:21Z",
          "author_association": "NONE",
          "body": "+1",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/288919266/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289041967",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-289041967",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 289041967,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTA0MTk2Nw==",
          "user": {
            "login": "joelthchao",
            "id": 10974532,
            "node_id": "MDQ6VXNlcjEwOTc0NTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/10974532?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joelthchao",
            "html_url": "https://github.com/joelthchao",
            "followers_url": "https://api.github.com/users/joelthchao/followers",
            "following_url": "https://api.github.com/users/joelthchao/following{/other_user}",
            "gists_url": "https://api.github.com/users/joelthchao/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joelthchao/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joelthchao/subscriptions",
            "organizations_url": "https://api.github.com/users/joelthchao/orgs",
            "repos_url": "https://api.github.com/users/joelthchao/repos",
            "events_url": "https://api.github.com/users/joelthchao/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joelthchao/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-24T14:43:08Z",
          "updated_at": "2017-03-24T14:44:06Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @HareeshBahuleyan, I use your model as target to monitor memory usage.\r\nScript:\r\n```python\r\n# ENV: Macbook Pro 2012, keras: '2.0.1', theano: '0.9.0.dev-a4126bcced010b4bf0022ebef3e3080878adc480'\r\nimport resource\r\nclass MemoryCallback(Callback):\r\n    def on_epoch_end(self, epoch, log={}):\r\n        print(resource.getrusage(resource.RUSAGE_SELF).ru_maxrss)\r\n# ...\r\nX_train = np.random.rand(20000, 1, 30, 300)\r\nY_train = np.random.randint(0, 2, size=20000)\r\nX_test = np.random.rand(20000, 1, 30, 300)\r\nY_test = np.random.randint(0, 2, size=20000)\r\n\r\nmodel.fit(X_train, Y_train, batch_size=32, epochs=10,\r\n          validation_data=(X_test, Y_test), verbose=0, callbacks=[MemoryCallback()])\r\n```\r\nResult shows that no obvious memory leak found. Can you add the callback to monitor memory usage on your own data?\r\n```\r\n3015524352\r\n3019411456\r\n3023294464\r\n3024400384\r\n3024400384\r\n...\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289041967/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289149483",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-289149483",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 289149483,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTE0OTQ4Mw==",
          "user": {
            "login": "HareeshBahuleyan",
            "id": 13996331,
            "node_id": "MDQ6VXNlcjEzOTk2MzMx",
            "avatar_url": "https://avatars.githubusercontent.com/u/13996331?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HareeshBahuleyan",
            "html_url": "https://github.com/HareeshBahuleyan",
            "followers_url": "https://api.github.com/users/HareeshBahuleyan/followers",
            "following_url": "https://api.github.com/users/HareeshBahuleyan/following{/other_user}",
            "gists_url": "https://api.github.com/users/HareeshBahuleyan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HareeshBahuleyan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HareeshBahuleyan/subscriptions",
            "organizations_url": "https://api.github.com/users/HareeshBahuleyan/orgs",
            "repos_url": "https://api.github.com/users/HareeshBahuleyan/repos",
            "events_url": "https://api.github.com/users/HareeshBahuleyan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HareeshBahuleyan/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-24T21:39:17Z",
          "updated_at": "2017-03-24T21:39:17Z",
          "author_association": "NONE",
          "body": "Hi @joelthchao \r\nI get the following output with batch_size=32\r\n```\r\n14199908\r\n14199908\r\n15540832\r\n18307928\r\n21075688\r\n```\r\n\r\nWith batch_size=1,\r\n```\r\n14199908\r\n14199908                                                                                                                                                                                        \r\n14199908\r\n14199908\r\n14199908                                                                                                                                                                                      \r\n```\r\n\r\nMoreover, when I monitor memory using `free -m` on the command line, I see a clear decline in the free memory as the training progresses, for batch sizes larger than 1. \r\n\r\nI am running it on a server with AMD Opteron(tm) Processor 4284.\r\n\r\nA similar issue has been raised by #5924 \r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289149483/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289192626",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-289192626",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 289192626,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTE5MjYyNg==",
          "user": {
            "login": "joelthchao",
            "id": 10974532,
            "node_id": "MDQ6VXNlcjEwOTc0NTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/10974532?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joelthchao",
            "html_url": "https://github.com/joelthchao",
            "followers_url": "https://api.github.com/users/joelthchao/followers",
            "following_url": "https://api.github.com/users/joelthchao/following{/other_user}",
            "gists_url": "https://api.github.com/users/joelthchao/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joelthchao/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joelthchao/subscriptions",
            "organizations_url": "https://api.github.com/users/joelthchao/orgs",
            "repos_url": "https://api.github.com/users/joelthchao/repos",
            "events_url": "https://api.github.com/users/joelthchao/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joelthchao/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-25T06:30:50Z",
          "updated_at": "2017-03-25T06:30:50Z",
          "author_association": "CONTRIBUTOR",
          "body": "@HareeshBahuleyan Your memory usage is too low which is quite weird.\r\n1. What's your environment: keras/theano/Python version? OS?\r\n2. What's your actual shape of `X_train`, `Y_train`, `X_test`, `Y_test`?\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289192626/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289213570",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-289213570",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 289213570,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTIxMzU3MA==",
          "user": {
            "login": "HareeshBahuleyan",
            "id": 13996331,
            "node_id": "MDQ6VXNlcjEzOTk2MzMx",
            "avatar_url": "https://avatars.githubusercontent.com/u/13996331?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HareeshBahuleyan",
            "html_url": "https://github.com/HareeshBahuleyan",
            "followers_url": "https://api.github.com/users/HareeshBahuleyan/followers",
            "following_url": "https://api.github.com/users/HareeshBahuleyan/following{/other_user}",
            "gists_url": "https://api.github.com/users/HareeshBahuleyan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HareeshBahuleyan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HareeshBahuleyan/subscriptions",
            "organizations_url": "https://api.github.com/users/HareeshBahuleyan/orgs",
            "repos_url": "https://api.github.com/users/HareeshBahuleyan/repos",
            "events_url": "https://api.github.com/users/HareeshBahuleyan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HareeshBahuleyan/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-25T14:02:20Z",
          "updated_at": "2017-03-25T14:02:20Z",
          "author_association": "NONE",
          "body": "@joelthchao Yes I too noticed that, inspite of having larger train and  test set.\r\n\r\n1. Python 2.7.3\r\nKeras 2.0.2\r\nTheano 0.9.0\r\n\r\n```\r\nuname -a\r\nLinux boxname 3.6.7-4.fc17.x86_64 #1 SMP Tue Nov 20 19:40:01 UTC 2012 x86_64 x86_64 x86_64 GNU/Linux\r\n```\r\n\r\n```\r\ncat /etc/*-release\r\nFedora release 17 (Beefy Miracle)\r\n...\r\n```\r\n\r\n2. The shapes are:\r\n```\r\nX_train: (79983, 1, 30, 300)\r\nY_train: (79983,)\r\nX_test: (19996, 1, 30, 300)\r\nY_test: (19996,)\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289213570/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289220533",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-289220533",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 289220533,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTIyMDUzMw==",
          "user": {
            "login": "joelthchao",
            "id": 10974532,
            "node_id": "MDQ6VXNlcjEwOTc0NTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/10974532?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joelthchao",
            "html_url": "https://github.com/joelthchao",
            "followers_url": "https://api.github.com/users/joelthchao/followers",
            "following_url": "https://api.github.com/users/joelthchao/following{/other_user}",
            "gists_url": "https://api.github.com/users/joelthchao/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joelthchao/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joelthchao/subscriptions",
            "organizations_url": "https://api.github.com/users/joelthchao/orgs",
            "repos_url": "https://api.github.com/users/joelthchao/repos",
            "events_url": "https://api.github.com/users/joelthchao/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joelthchao/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-25T15:56:07Z",
          "updated_at": "2017-03-25T15:56:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "@HareeshBahuleyan I switch to another environment which is almost same as yours.\r\nHowever, I cannot reproduce your result even use inputs with same shape.\r\n\r\n```\r\nENV: \r\npython 2.7, theano 0.9.0, linux (ubuntu), keras 2.0.2\r\n\r\nkeras.json:\r\n{\r\n    \"floatx\": \"float32\",\r\n    \"epsilon\": 1e-07,\r\n    \"backend\": \"theano\",\r\n    \"image_data_format\": \"channels_first\"\r\n}\r\n\r\nResult (Run on cpu):\r\n7190724, 7190724, 7190724, 7190724, ...\r\n```\r\nDoes your testing script involve any other operations which are not shown here?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289220533/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289234038",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-289234038",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 289234038,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTIzNDAzOA==",
          "user": {
            "login": "HareeshBahuleyan",
            "id": 13996331,
            "node_id": "MDQ6VXNlcjEzOTk2MzMx",
            "avatar_url": "https://avatars.githubusercontent.com/u/13996331?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HareeshBahuleyan",
            "html_url": "https://github.com/HareeshBahuleyan",
            "followers_url": "https://api.github.com/users/HareeshBahuleyan/followers",
            "following_url": "https://api.github.com/users/HareeshBahuleyan/following{/other_user}",
            "gists_url": "https://api.github.com/users/HareeshBahuleyan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HareeshBahuleyan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HareeshBahuleyan/subscriptions",
            "organizations_url": "https://api.github.com/users/HareeshBahuleyan/orgs",
            "repos_url": "https://api.github.com/users/HareeshBahuleyan/repos",
            "events_url": "https://api.github.com/users/HareeshBahuleyan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HareeshBahuleyan/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-25T19:31:52Z",
          "updated_at": "2017-03-25T19:31:52Z",
          "author_association": "NONE",
          "body": "@joelthchao No I don't have any other operations other than this (just loading the data before this).\r\nI tried with your input shapes: \r\n```\r\nX_train = np.random.rand(20000, 1, 30, 300)\r\nY_train = np.random.randint(0, 2, size=20000)\r\nX_test = np.random.rand(20000, 1, 30, 300)\r\nY_test = np.random.randint(0, 2, size=20000)\r\n```\r\nI get the callback out put as\r\n```14201068, 14201068, 14201068, 14201068, 14201068```\r\n\r\nHowever, I also monitor the memory usage with the command `free -m` from another screen as the model.fit() progresses. The output is:\r\n\r\n![capture](https://cloud.githubusercontent.com/assets/13996331/24325423/16da634c-116f-11e7-9335-83e5366f2067.JPG)\r\n\r\nAs you see, the free memory keeps decreasing and the process gets killed eventually (if it is run for too many epochs). The final `free -m` is after the script is completed and the program is exited. \r\nNote that I am not running any other processes. \r\n\r\nAlso, like I mentioned this free memory remains constant with `batch_size=1`.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289234038/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289256679",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-289256679",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 289256679,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTI1NjY3OQ==",
          "user": {
            "login": "joelthchao",
            "id": 10974532,
            "node_id": "MDQ6VXNlcjEwOTc0NTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/10974532?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joelthchao",
            "html_url": "https://github.com/joelthchao",
            "followers_url": "https://api.github.com/users/joelthchao/followers",
            "following_url": "https://api.github.com/users/joelthchao/following{/other_user}",
            "gists_url": "https://api.github.com/users/joelthchao/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joelthchao/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joelthchao/subscriptions",
            "organizations_url": "https://api.github.com/users/joelthchao/orgs",
            "repos_url": "https://api.github.com/users/joelthchao/repos",
            "events_url": "https://api.github.com/users/joelthchao/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joelthchao/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-26T03:59:30Z",
          "updated_at": "2017-03-26T03:59:30Z",
          "author_association": "CONTRIBUTOR",
          "body": "@HareeshBahuleyan \r\n1. `free` monitors whole system's free memory, which is a little bit dangerous and inaccurate, even you don't run any other processes. In my case, I use `top -p PID` as an alternative way to monitor memory usage.\r\n2. To help you, I need to reproduce your problem. What is (just loading the data before this)? pickle or numpy load? If possible, please provide runnable script which produces memory leak.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289256679/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289293938",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-289293938",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 289293938,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTI5MzkzOA==",
          "user": {
            "login": "HareeshBahuleyan",
            "id": 13996331,
            "node_id": "MDQ6VXNlcjEzOTk2MzMx",
            "avatar_url": "https://avatars.githubusercontent.com/u/13996331?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HareeshBahuleyan",
            "html_url": "https://github.com/HareeshBahuleyan",
            "followers_url": "https://api.github.com/users/HareeshBahuleyan/followers",
            "following_url": "https://api.github.com/users/HareeshBahuleyan/following{/other_user}",
            "gists_url": "https://api.github.com/users/HareeshBahuleyan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HareeshBahuleyan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HareeshBahuleyan/subscriptions",
            "organizations_url": "https://api.github.com/users/HareeshBahuleyan/orgs",
            "repos_url": "https://api.github.com/users/HareeshBahuleyan/repos",
            "events_url": "https://api.github.com/users/HareeshBahuleyan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HareeshBahuleyan/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-26T16:09:36Z",
          "updated_at": "2017-03-26T16:09:36Z",
          "author_association": "NONE",
          "body": "@joelthchao I am loading hickle and pickle objects. The script can be found [here](https://gist.github.com/HareeshBahuleyan/a35750e80348a163e04838ec0039dcca).\r\n\r\nMonitoring memory with `top -p PID` also shows the increase in `%MEM` as training progresses. \r\n\r\nI don't think this is an issue with this specific network. I have tried other network architectures on the same machine and I still face the same issue. \r\n\r\nUpdate: I ran the code on another Ubuntu machine and did not face any memory leak issues.  This could mean that the issue is present only on certain CPUs as mentioned in #5924 \r\n\r\nThanks for the help!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289293938/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289323900",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-289323900",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 289323900,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTMyMzkwMA==",
          "user": {
            "login": "ayuyu18",
            "id": 21069488,
            "node_id": "MDQ6VXNlcjIxMDY5NDg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/21069488?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ayuyu18",
            "html_url": "https://github.com/ayuyu18",
            "followers_url": "https://api.github.com/users/ayuyu18/followers",
            "following_url": "https://api.github.com/users/ayuyu18/following{/other_user}",
            "gists_url": "https://api.github.com/users/ayuyu18/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ayuyu18/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ayuyu18/subscriptions",
            "organizations_url": "https://api.github.com/users/ayuyu18/orgs",
            "repos_url": "https://api.github.com/users/ayuyu18/repos",
            "events_url": "https://api.github.com/users/ayuyu18/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ayuyu18/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-26T23:04:01Z",
          "updated_at": "2017-03-26T23:04:01Z",
          "author_association": "NONE",
          "body": "I got the same issue. Keras 2.0.2 on Windows with Theano backend. The memory consumption keeps increasing and finally the program crashed.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289323900/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289871377",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-289871377",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 289871377,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTg3MTM3Nw==",
          "user": {
            "login": "duykienvp",
            "id": 736142,
            "node_id": "MDQ6VXNlcjczNjE0Mg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/736142?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/duykienvp",
            "html_url": "https://github.com/duykienvp",
            "followers_url": "https://api.github.com/users/duykienvp/followers",
            "following_url": "https://api.github.com/users/duykienvp/following{/other_user}",
            "gists_url": "https://api.github.com/users/duykienvp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/duykienvp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/duykienvp/subscriptions",
            "organizations_url": "https://api.github.com/users/duykienvp/orgs",
            "repos_url": "https://api.github.com/users/duykienvp/repos",
            "events_url": "https://api.github.com/users/duykienvp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/duykienvp/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-28T19:01:29Z",
          "updated_at": "2017-03-28T19:01:29Z",
          "author_association": "NONE",
          "body": "I got the same issue on Linux with Keras 2.0.2, but it works fine on macOS Sierra ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289871377/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289956234",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-289956234",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 289956234,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTk1NjIzNA==",
          "user": {
            "login": "joelthchao",
            "id": 10974532,
            "node_id": "MDQ6VXNlcjEwOTc0NTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/10974532?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joelthchao",
            "html_url": "https://github.com/joelthchao",
            "followers_url": "https://api.github.com/users/joelthchao/followers",
            "following_url": "https://api.github.com/users/joelthchao/following{/other_user}",
            "gists_url": "https://api.github.com/users/joelthchao/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joelthchao/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joelthchao/subscriptions",
            "organizations_url": "https://api.github.com/users/joelthchao/orgs",
            "repos_url": "https://api.github.com/users/joelthchao/repos",
            "events_url": "https://api.github.com/users/joelthchao/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joelthchao/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-29T01:40:07Z",
          "updated_at": "2017-03-29T01:40:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "@duykienvp Please help run the test script to verify memory leak problem",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289956234/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289962395",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-289962395",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 289962395,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4OTk2MjM5NQ==",
          "user": {
            "login": "ebalp",
            "id": 7494200,
            "node_id": "MDQ6VXNlcjc0OTQyMDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7494200?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ebalp",
            "html_url": "https://github.com/ebalp",
            "followers_url": "https://api.github.com/users/ebalp/followers",
            "following_url": "https://api.github.com/users/ebalp/following{/other_user}",
            "gists_url": "https://api.github.com/users/ebalp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ebalp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ebalp/subscriptions",
            "organizations_url": "https://api.github.com/users/ebalp/orgs",
            "repos_url": "https://api.github.com/users/ebalp/repos",
            "events_url": "https://api.github.com/users/ebalp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ebalp/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-29T02:22:34Z",
          "updated_at": "2017-03-29T02:22:34Z",
          "author_association": "NONE",
          "body": "Python 2.7.13\r\ntensorflow (1.0.0)\r\nKeras (2.0.2)\r\n\r\nMacOs El Capitan 10.11.6\r\n\r\nNo problem\r\n\r\n3083554816\r\n3085885440\r\n3085885440\r\n3085885440\r\n3085885440\r\n3085885440\r\n3085885440\r\n3085885440\r\n3085885440\r\n3085885440",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/289962395/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290292737",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-290292737",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 290292737,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDI5MjczNw==",
          "user": {
            "login": "duykienvp",
            "id": 736142,
            "node_id": "MDQ6VXNlcjczNjE0Mg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/736142?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/duykienvp",
            "html_url": "https://github.com/duykienvp",
            "followers_url": "https://api.github.com/users/duykienvp/followers",
            "following_url": "https://api.github.com/users/duykienvp/following{/other_user}",
            "gists_url": "https://api.github.com/users/duykienvp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/duykienvp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/duykienvp/subscriptions",
            "organizations_url": "https://api.github.com/users/duykienvp/orgs",
            "repos_url": "https://api.github.com/users/duykienvp/repos",
            "events_url": "https://api.github.com/users/duykienvp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/duykienvp/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-30T03:34:22Z",
          "updated_at": "2017-03-30T04:21:33Z",
          "author_association": "NONE",
          "body": "---- System 1 (Google Cloud Engine):\r\nUbuntu 16.04 LTS\r\nLinux 4.4.0-70-generic\r\nPython 2.7.13 :: Anaconda 4.3.1 (64-bit)\r\n**Theano: 0.9.0**\r\nKeras: 2.0.2\r\n\r\n3679756\r\n4372232\r\n5065440\r\n5759912\r\n6452212\r\n7145628\r\n....\r\n\r\n---- System 2 (Google Cloud Engine) (same machine with System 1):\r\nUbuntu 16.04 LTS\r\nLinux 4.4.0-70-generic\r\nPython 2.7.13 :: Anaconda 4.3.1 (64-bit)\r\n**TensorFlow: 1.0.1**\r\nKeras: 2.0.2\r\n\r\n3015396\r\n3017412\r\n3018072\r\n3019272\r\n3019452\r\n3019528\r\n3019528\r\n3019528\r\n3019528\r\n3019528\r\n\r\n\r\n---- System 3 :\r\n**macOS Sierra 10.12.4**\r\nPython 2.7.13 :: Continuum Analytics, Inc.\r\n**Theano: 0.9.0**\r\nKeras: 2.0.2\r\n\r\n3025858560\r\n3025862656\r\n3025862656\r\n3025866752\r\n3025891328\r\n3025891328\r\n3025891328\r\n3025891328\r\n3025891328\r\n3025891328\r\n\r\n\r\n\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290292737/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290302922",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-290302922",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 290302922,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDMwMjkyMg==",
          "user": {
            "login": "joelthchao",
            "id": 10974532,
            "node_id": "MDQ6VXNlcjEwOTc0NTMy",
            "avatar_url": "https://avatars.githubusercontent.com/u/10974532?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joelthchao",
            "html_url": "https://github.com/joelthchao",
            "followers_url": "https://api.github.com/users/joelthchao/followers",
            "following_url": "https://api.github.com/users/joelthchao/following{/other_user}",
            "gists_url": "https://api.github.com/users/joelthchao/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joelthchao/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joelthchao/subscriptions",
            "organizations_url": "https://api.github.com/users/joelthchao/orgs",
            "repos_url": "https://api.github.com/users/joelthchao/repos",
            "events_url": "https://api.github.com/users/joelthchao/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joelthchao/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-30T05:00:59Z",
          "updated_at": "2017-03-30T05:00:59Z",
          "author_association": "CONTRIBUTOR",
          "body": "@duykienvp \r\nCool! It seems like the problem comes to theano 0.9.0, on linux with some CPUs.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290302922/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/292845429",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-292845429",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 292845429,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5Mjg0NTQyOQ==",
          "user": {
            "login": "hft7h11",
            "id": 6645143,
            "node_id": "MDQ6VXNlcjY2NDUxNDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6645143?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hft7h11",
            "html_url": "https://github.com/hft7h11",
            "followers_url": "https://api.github.com/users/hft7h11/followers",
            "following_url": "https://api.github.com/users/hft7h11/following{/other_user}",
            "gists_url": "https://api.github.com/users/hft7h11/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hft7h11/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hft7h11/subscriptions",
            "organizations_url": "https://api.github.com/users/hft7h11/orgs",
            "repos_url": "https://api.github.com/users/hft7h11/repos",
            "events_url": "https://api.github.com/users/hft7h11/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hft7h11/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-04-10T04:09:04Z",
          "updated_at": "2017-04-10T04:12:36Z",
          "author_association": "NONE",
          "body": "I am getting the same issue, but on Windows. Memory leaks \r\n\r\nI am using this example script \r\n\r\nhttps://github.com/fchollet/keras/blob/master/examples/imdb_lstm.py\r\n\r\nI have reproduced the issue on Keras 2.0. and 2.0.3 (Python = 2.7.11, Theano = 0.9.0, numpy  =1.12.1 ) on Windows 10\r\n\r\nThis issue was not happening before I upgraded from Keras 1.2 to 2.0, so I suspect it is with one of the dependent c using libraries which were also upgraded",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/292845429/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/292846386",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-292846386",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 292846386,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5Mjg0NjM4Ng==",
          "user": {
            "login": "fchollet",
            "id": 710255,
            "node_id": "MDQ6VXNlcjcxMDI1NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fchollet",
            "html_url": "https://github.com/fchollet",
            "followers_url": "https://api.github.com/users/fchollet/followers",
            "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
            "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
            "organizations_url": "https://api.github.com/users/fchollet/orgs",
            "repos_url": "https://api.github.com/users/fchollet/repos",
            "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fchollet/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-04-10T04:19:06Z",
          "updated_at": "2017-04-10T04:19:06Z",
          "author_association": "COLLABORATOR",
          "body": "Are the Theano devs aware of this? If not, please open an issue there.\n\nOn 9 April 2017 at 21:09, hft7h11 <notifications@github.com> wrote:\n\n> I am getting the same issue. Memory leaks.\n>\n> I am using this example script\n>\n> https://github.com/fchollet/keras/blob/master/examples/imdb_lstm.py\n>\n> I have reproduced the issue on Keras 2.0. and 2.0.2 (Python = 2.7.11,\n> Theano = 0.9.0 )\n>\n> \u2014\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/fchollet/keras/issues/5935#issuecomment-292845429>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AArWb6qUagLlmo7y5j7rfbxJ2SsO-qRSks5ruatjgaJpZM4Ml--j>\n> .\n>\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/292846386/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/292959155",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-292959155",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 292959155,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5Mjk1OTE1NQ==",
          "user": {
            "login": "hft7h11",
            "id": 6645143,
            "node_id": "MDQ6VXNlcjY2NDUxNDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6645143?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hft7h11",
            "html_url": "https://github.com/hft7h11",
            "followers_url": "https://api.github.com/users/hft7h11/followers",
            "following_url": "https://api.github.com/users/hft7h11/following{/other_user}",
            "gists_url": "https://api.github.com/users/hft7h11/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hft7h11/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hft7h11/subscriptions",
            "organizations_url": "https://api.github.com/users/hft7h11/orgs",
            "repos_url": "https://api.github.com/users/hft7h11/repos",
            "events_url": "https://api.github.com/users/hft7h11/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hft7h11/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-04-10T14:05:01Z",
          "updated_at": "2017-04-10T14:05:01Z",
          "author_association": "NONE",
          "body": "@fchollet \r\n\r\nI have commented on the Theano bug ticket. In the mean time this is a bit of a blocker for Keras 2.0 theano use. Reverting to Theano 0.8.2 fixes the memory leak, however certain layers such MaxPooling2D seem to depend on Theano 9.0 as per https://github.com/fchollet/keras/issues/5785 ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/292959155/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/293417287",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-293417287",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 293417287,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzQxNzI4Nw==",
          "user": {
            "login": "MrtnStnwk",
            "id": 27312965,
            "node_id": "MDQ6VXNlcjI3MzEyOTY1",
            "avatar_url": "https://avatars.githubusercontent.com/u/27312965?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MrtnStnwk",
            "html_url": "https://github.com/MrtnStnwk",
            "followers_url": "https://api.github.com/users/MrtnStnwk/followers",
            "following_url": "https://api.github.com/users/MrtnStnwk/following{/other_user}",
            "gists_url": "https://api.github.com/users/MrtnStnwk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MrtnStnwk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MrtnStnwk/subscriptions",
            "organizations_url": "https://api.github.com/users/MrtnStnwk/orgs",
            "repos_url": "https://api.github.com/users/MrtnStnwk/repos",
            "events_url": "https://api.github.com/users/MrtnStnwk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MrtnStnwk/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-04-11T22:20:11Z",
          "updated_at": "2017-04-11T22:20:11Z",
          "author_association": "NONE",
          "body": "Same problem here; Centos6, Python 2.7.13, Keras 2.0.2, Theano 0.9.0. Running on CPU. Would appreciate a suggestions for a solution. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/293417287/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/293449723",
          "html_url": "https://github.com/keras-team/keras/issues/5935#issuecomment-293449723",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5935",
          "id": 293449723,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5MzQ0OTcyMw==",
          "user": {
            "login": "nouiz",
            "id": 180987,
            "node_id": "MDQ6VXNlcjE4MDk4Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/180987?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nouiz",
            "html_url": "https://github.com/nouiz",
            "followers_url": "https://api.github.com/users/nouiz/followers",
            "following_url": "https://api.github.com/users/nouiz/following{/other_user}",
            "gists_url": "https://api.github.com/users/nouiz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nouiz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nouiz/subscriptions",
            "organizations_url": "https://api.github.com/users/nouiz/orgs",
            "repos_url": "https://api.github.com/users/nouiz/repos",
            "events_url": "https://api.github.com/users/nouiz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nouiz/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-04-12T01:53:09Z",
          "updated_at": "2017-04-12T01:53:09Z",
          "author_association": "CONTRIBUTOR",
          "body": "There is a pr to fix this in Theano.\n\nThe problem only happen if Theano can't link directly to BLAS. One work\naround that should also speed up computation is to install a good library\nthat Theo can reuse.\n\nLe lun. 10 avr. 2017 10:05, hft7h11 <notifications@github.com> a \u00e9crit :\n\n> @fchollet <https://github.com/fchollet>\n>\n> I have commented on the Theano bug ticket. In the mean time this is a bit\n> of a blocker for Keras 2.0 theano use. Reverting to Theano 0.8.2 fixes the\n> memory leak, however certain layers such MaxPooling2D seem to depend on\n> Theano 9.0 as per #5785 <https://github.com/fchollet/keras/issues/5785>\n>\n> \u2014\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/fchollet/keras/issues/5935#issuecomment-292959155>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AALC-_hI8Ppg_Yd22kPx1-6F40NBHgarks5rujcPgaJpZM4Ml--j>\n> .\n>\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/293449723/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/5916",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/5916/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/5916/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/5916/events",
      "html_url": "https://github.com/keras-team/keras/issues/5916",
      "id": 215910500,
      "node_id": "MDU6SXNzdWUyMTU5MTA1MDA=",
      "number": 5916,
      "title": "Loading model with custom loss function: ValueError: 'Unknown loss function'",
      "user": {
        "login": "pierluigiferrari",
        "id": 17439178,
        "node_id": "MDQ6VXNlcjE3NDM5MTc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/17439178?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pierluigiferrari",
        "html_url": "https://github.com/pierluigiferrari",
        "followers_url": "https://api.github.com/users/pierluigiferrari/followers",
        "following_url": "https://api.github.com/users/pierluigiferrari/following{/other_user}",
        "gists_url": "https://api.github.com/users/pierluigiferrari/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/pierluigiferrari/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/pierluigiferrari/subscriptions",
        "organizations_url": "https://api.github.com/users/pierluigiferrari/orgs",
        "repos_url": "https://api.github.com/users/pierluigiferrari/repos",
        "events_url": "https://api.github.com/users/pierluigiferrari/events{/privacy}",
        "received_events_url": "https://api.github.com/users/pierluigiferrari/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 60,
      "created_at": "2017-03-21T23:35:55Z",
      "updated_at": "2022-06-05T17:08:18Z",
      "closed_at": "2017-12-01T16:07:42Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "I trained and saved a model that uses a custom loss function (Keras version: 2.0.2):\r\n\r\n`model.compile(optimizer=adam, loss=SSD_Loss(neg_pos_ratio=neg_pos_ratio, alpha=alpha).compute_loss)`\r\n\r\nWhen I try to load the model, I get this error:\r\n\r\n`ValueError: ('Unknown loss function', ':compute_loss')`\r\n\r\nThis is the stack trace:\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-76-52ca495a8e09> in <module>()\r\n----> 1 model, layer_dict, classifier_sizes = load_model('./model_0.h5')\r\n\r\n/Users/pierluigiferrari/anaconda/envs/carnd-term1/lib/python3.5/site-packages/keras/models.py in load_model(filepath, custom_objects)\r\n    258                   metrics=metrics,\r\n    259                   loss_weights=loss_weights,\r\n--> 260                   sample_weight_mode=sample_weight_mode)\r\n    261 \r\n    262     # Set optimizer weights.\r\n\r\n/Users/pierluigiferrari/anaconda/envs/carnd-term1/lib/python3.5/site-packages/keras/engine/training.py in compile(self, optimizer, loss, metrics, loss_weights, sample_weight_mode, **kwargs)\r\n    738             loss_functions = [losses.get(l) for l in loss]\r\n    739         else:\r\n--> 740             loss_function = losses.get(loss)\r\n    741             loss_functions = [loss_function for _ in range(len(self.outputs))]\r\n    742         self.loss_functions = loss_functions\r\n\r\n/Users/pierluigiferrari/anaconda/envs/carnd-term1/lib/python3.5/site-packages/keras/losses.py in get(identifier)\r\n     88     if isinstance(identifier, six.string_types):\r\n     89         identifier = str(identifier)\r\n---> 90         return deserialize(identifier)\r\n     91     elif callable(identifier):\r\n     92         return identifier\r\n\r\n/Users/pierluigiferrari/anaconda/envs/carnd-term1/lib/python3.5/site-packages/keras/losses.py in deserialize(name, custom_objects)\r\n     80                                     module_objects=globals(),\r\n     81                                     custom_objects=custom_objects,\r\n---> 82                                     printable_module_name='loss function')\r\n     83 \r\n     84 \r\n\r\n/Users/pierluigiferrari/anaconda/envs/carnd-term1/lib/python3.5/site-packages/keras/utils/generic_utils.py in deserialize_keras_object(identifier, module_objects, custom_objects, printable_module_name)\r\n    155             if fn is None:\r\n    156                 raise ValueError('Unknown ' + printable_module_name,\r\n--> 157                                  ':' + function_name)\r\n    158         return fn\r\n    159     else:\r\n\r\nValueError: ('Unknown loss function', ':compute_loss')\r\n```\r\n\r\n- [x] Check that you are up-to-date with the master branch of Keras. You can update with:\r\npip install git+git://github.com/fchollet/keras.git --upgrade --no-deps\r\n\r\n- [x] If running on TensorFlow, check that you are up-to-date with the latest version. The installation instructions can be found [here](https://www.tensorflow.org/get_started/os_setup).",
      "closed_by": {
        "login": "stale[bot]",
        "id": 26384082,
        "node_id": "MDM6Qm90MjYzODQwODI=",
        "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/stale%5Bbot%5D",
        "html_url": "https://github.com/apps/stale",
        "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
        "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
        "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
        "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
        "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
        "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
        "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
        "type": "Bot",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/5916/reactions",
        "total_count": 38,
        "+1": 38,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/5916/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/288453356",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-288453356",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 288453356,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODQ1MzM1Ng==",
          "user": {
            "login": "isaacgerg",
            "id": 11971499,
            "node_id": "MDQ6VXNlcjExOTcxNDk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11971499?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/isaacgerg",
            "html_url": "https://github.com/isaacgerg",
            "followers_url": "https://api.github.com/users/isaacgerg/followers",
            "following_url": "https://api.github.com/users/isaacgerg/following{/other_user}",
            "gists_url": "https://api.github.com/users/isaacgerg/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/isaacgerg/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/isaacgerg/subscriptions",
            "organizations_url": "https://api.github.com/users/isaacgerg/orgs",
            "repos_url": "https://api.github.com/users/isaacgerg/repos",
            "events_url": "https://api.github.com/users/isaacgerg/events{/privacy}",
            "received_events_url": "https://api.github.com/users/isaacgerg/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-22T16:17:59Z",
          "updated_at": "2017-03-22T16:27:13Z",
          "author_association": "NONE",
          "body": "I have this exact same error and just noticed this morning.  \r\n\r\nMy metrics are very simple:\r\n\r\n\r\n\r\n```\r\n#-----------------------------------------------------------------------------------------------------------------------------------------------------\r\n# PFA, prob false alert for binary classifier\r\ndef binary_PFA(y_true, y_pred):\r\n    # N = total number of negative labels\r\n    N = K.sum(1 - K.round(y_true))\r\n    # FP = total number of false alerts, alerts from the negative class labels\r\n    FP = K.sum(K.round(y_pred) - K.round(y_pred) * K.round(y_true))    \r\n    return FP/N\r\n#-----------------------------------------------------------------------------------------------------------------------------------------------------\r\n# P_TA prob true alerts for binary classifier\r\ndef binary_PTA(y_true, y_pred):\r\n    # P = total number of positive labels\r\n    P = K.sum(K.round(y_true))\r\n    # TP = total number of correct alerts, alerts from the positive class labels\r\n    TP = K.sum(K.round(y_pred) * K.round(y_true))    \r\n    return TP/P\r\n#-----------------------------------------------------------------------------------------------------------------------------------------------------\r\n\r\nmyOptimizer = keras.optimizers.adadelta(lr=1.0)\r\nmodel.compile(loss='binary_crossentropy', optimizer = myOptimizer, metrics=[keras.metrics.binary_accuracy, metrics.binary_PTA, metrics.binary_PFA])\r\n\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/288453356/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/288458808",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-288458808",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 288458808,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODQ1ODgwOA==",
          "user": {
            "login": "isaacgerg",
            "id": 11971499,
            "node_id": "MDQ6VXNlcjExOTcxNDk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11971499?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/isaacgerg",
            "html_url": "https://github.com/isaacgerg",
            "followers_url": "https://api.github.com/users/isaacgerg/followers",
            "following_url": "https://api.github.com/users/isaacgerg/following{/other_user}",
            "gists_url": "https://api.github.com/users/isaacgerg/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/isaacgerg/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/isaacgerg/subscriptions",
            "organizations_url": "https://api.github.com/users/isaacgerg/orgs",
            "repos_url": "https://api.github.com/users/isaacgerg/repos",
            "events_url": "https://api.github.com/users/isaacgerg/events{/privacy}",
            "received_events_url": "https://api.github.com/users/isaacgerg/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-22T16:34:39Z",
          "updated_at": "2017-03-22T16:34:39Z",
          "author_association": "NONE",
          "body": "It looks like its trying to find the fn in generic_utils.py for a function_name which is binary_PTA which isnt found in custom_objects.  @fchollet How do we add our metric to custom_objects?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/288458808/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/288460430",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-288460430",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 288460430,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODQ2MDQzMA==",
          "user": {
            "login": "isaacgerg",
            "id": 11971499,
            "node_id": "MDQ6VXNlcjExOTcxNDk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11971499?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/isaacgerg",
            "html_url": "https://github.com/isaacgerg",
            "followers_url": "https://api.github.com/users/isaacgerg/followers",
            "following_url": "https://api.github.com/users/isaacgerg/following{/other_user}",
            "gists_url": "https://api.github.com/users/isaacgerg/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/isaacgerg/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/isaacgerg/subscriptions",
            "organizations_url": "https://api.github.com/users/isaacgerg/orgs",
            "repos_url": "https://api.github.com/users/isaacgerg/repos",
            "events_url": "https://api.github.com/users/isaacgerg/events{/privacy}",
            "received_events_url": "https://api.github.com/users/isaacgerg/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-22T16:39:55Z",
          "updated_at": "2017-03-22T16:39:55Z",
          "author_association": "NONE",
          "body": "I did this as a work around:\r\n\r\n```\r\nmodel = model_from_json(open(modelFile).read())\r\nmodel.load_weights(os.path.join(os.path.dirname(modelFile), 'model_weights.h5'))\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/288460430/reactions",
            "total_count": 9,
            "+1": 9,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/288487764",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-288487764",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 288487764,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODQ4Nzc2NA==",
          "user": {
            "login": "pierluigiferrari",
            "id": 17439178,
            "node_id": "MDQ6VXNlcjE3NDM5MTc4",
            "avatar_url": "https://avatars.githubusercontent.com/u/17439178?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pierluigiferrari",
            "html_url": "https://github.com/pierluigiferrari",
            "followers_url": "https://api.github.com/users/pierluigiferrari/followers",
            "following_url": "https://api.github.com/users/pierluigiferrari/following{/other_user}",
            "gists_url": "https://api.github.com/users/pierluigiferrari/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pierluigiferrari/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pierluigiferrari/subscriptions",
            "organizations_url": "https://api.github.com/users/pierluigiferrari/orgs",
            "repos_url": "https://api.github.com/users/pierluigiferrari/repos",
            "events_url": "https://api.github.com/users/pierluigiferrari/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pierluigiferrari/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-22T18:04:15Z",
          "updated_at": "2017-03-22T18:04:15Z",
          "author_association": "NONE",
          "body": "@isaacgerg what Keras version are you running? I got the error described in the old title in Keras 2.0.0, now after updating to 2.0.2 I'm getting a new error (as described in the new title).\r\n\r\nBut yeah, for the moment, saving and loading the weights separately is the way to go as a workaround.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/288487764/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/288490153",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-288490153",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 288490153,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODQ5MDE1Mw==",
          "user": {
            "login": "isaacgerg",
            "id": 11971499,
            "node_id": "MDQ6VXNlcjExOTcxNDk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11971499?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/isaacgerg",
            "html_url": "https://github.com/isaacgerg",
            "followers_url": "https://api.github.com/users/isaacgerg/followers",
            "following_url": "https://api.github.com/users/isaacgerg/following{/other_user}",
            "gists_url": "https://api.github.com/users/isaacgerg/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/isaacgerg/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/isaacgerg/subscriptions",
            "organizations_url": "https://api.github.com/users/isaacgerg/orgs",
            "repos_url": "https://api.github.com/users/isaacgerg/repos",
            "events_url": "https://api.github.com/users/isaacgerg/events{/privacy}",
            "received_events_url": "https://api.github.com/users/isaacgerg/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-22T18:12:06Z",
          "updated_at": "2017-03-22T18:12:06Z",
          "author_association": "NONE",
          "body": "I use 2.0.1",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/288490153/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 2,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290344248",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-290344248",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 290344248,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDM0NDI0OA==",
          "user": {
            "login": "dluvizon",
            "id": 579373,
            "node_id": "MDQ6VXNlcjU3OTM3Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/579373?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dluvizon",
            "html_url": "https://github.com/dluvizon",
            "followers_url": "https://api.github.com/users/dluvizon/followers",
            "following_url": "https://api.github.com/users/dluvizon/following{/other_user}",
            "gists_url": "https://api.github.com/users/dluvizon/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dluvizon/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dluvizon/subscriptions",
            "organizations_url": "https://api.github.com/users/dluvizon/orgs",
            "repos_url": "https://api.github.com/users/dluvizon/repos",
            "events_url": "https://api.github.com/users/dluvizon/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dluvizon/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-30T08:47:14Z",
          "updated_at": "2017-03-30T08:47:14Z",
          "author_association": "NONE",
          "body": "Hi, the same problem here.\r\nOne ugly solution that worked for me is to include the custom objective into keras:\r\n\r\n`import keras.losses`\r\n`keras.losses.custom_loss = custom_loss`\r\n\r\nThis is a know issue on keras 1 [#3977](https://github.com/fchollet/keras/issues/3977).\r\nOn keras 2.0 you have to replace `keras.objectives` to `keras.losses`.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290344248/reactions",
            "total_count": 135,
            "+1": 100,
            "-1": 8,
            "laugh": 0,
            "hooray": 13,
            "confused": 0,
            "heart": 9,
            "rocket": 3,
            "eyes": 2
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290388385",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-290388385",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 290388385,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDM4ODM4NQ==",
          "user": {
            "login": "isaacgerg",
            "id": 11971499,
            "node_id": "MDQ6VXNlcjExOTcxNDk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11971499?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/isaacgerg",
            "html_url": "https://github.com/isaacgerg",
            "followers_url": "https://api.github.com/users/isaacgerg/followers",
            "following_url": "https://api.github.com/users/isaacgerg/following{/other_user}",
            "gists_url": "https://api.github.com/users/isaacgerg/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/isaacgerg/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/isaacgerg/subscriptions",
            "organizations_url": "https://api.github.com/users/isaacgerg/orgs",
            "repos_url": "https://api.github.com/users/isaacgerg/repos",
            "events_url": "https://api.github.com/users/isaacgerg/events{/privacy}",
            "received_events_url": "https://api.github.com/users/isaacgerg/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-03-30T11:53:45Z",
          "updated_at": "2017-03-30T11:53:45Z",
          "author_association": "NONE",
          "body": "My work around is to load the json first and then load the weights.  I keep my load function in a local lib with the rest of my keras workarounds ;)",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/290388385/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/294373616",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-294373616",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 294373616,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5NDM3MzYxNg==",
          "user": {
            "login": "joeyearsley",
            "id": 1836025,
            "node_id": "MDQ6VXNlcjE4MzYwMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1836025?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joeyearsley",
            "html_url": "https://github.com/joeyearsley",
            "followers_url": "https://api.github.com/users/joeyearsley/followers",
            "following_url": "https://api.github.com/users/joeyearsley/following{/other_user}",
            "gists_url": "https://api.github.com/users/joeyearsley/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joeyearsley/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joeyearsley/subscriptions",
            "organizations_url": "https://api.github.com/users/joeyearsley/orgs",
            "repos_url": "https://api.github.com/users/joeyearsley/repos",
            "events_url": "https://api.github.com/users/joeyearsley/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joeyearsley/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-04-16T20:52:20Z",
          "updated_at": "2017-04-16T20:52:20Z",
          "author_association": "CONTRIBUTOR",
          "body": "This [PR](https://github.com/fchollet/keras/pull/5012) should have fixed this issue.\r\n\r\nCan use:\r\n\r\n    from keras.utils.generic_utils import get_custom_objects\r\n    import SSD_Loss\r\n   \r\n    loss = SSD_Loss(neg_pos_ratio=neg_pos_ratio, alpha=alpha)\r\n    get_custom_objects().update({\"SSD_Loss\": loss.computeloss})\r\n   ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/294373616/reactions",
            "total_count": 71,
            "+1": 37,
            "-1": 5,
            "laugh": 7,
            "hooray": 7,
            "confused": 0,
            "heart": 11,
            "rocket": 0,
            "eyes": 4
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/298027595",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-298027595",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 298027595,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODAyNzU5NQ==",
          "user": {
            "login": "inspiralpatterns",
            "id": 8710333,
            "node_id": "MDQ6VXNlcjg3MTAzMzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8710333?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/inspiralpatterns",
            "html_url": "https://github.com/inspiralpatterns",
            "followers_url": "https://api.github.com/users/inspiralpatterns/followers",
            "following_url": "https://api.github.com/users/inspiralpatterns/following{/other_user}",
            "gists_url": "https://api.github.com/users/inspiralpatterns/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/inspiralpatterns/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/inspiralpatterns/subscriptions",
            "organizations_url": "https://api.github.com/users/inspiralpatterns/orgs",
            "repos_url": "https://api.github.com/users/inspiralpatterns/repos",
            "events_url": "https://api.github.com/users/inspiralpatterns/events{/privacy}",
            "received_events_url": "https://api.github.com/users/inspiralpatterns/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-04-28T15:21:55Z",
          "updated_at": "2017-04-28T15:21:55Z",
          "author_association": "NONE",
          "body": "Same here.\r\nI tried @joeyearsley's workaround and seems loading correctly.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/298027595/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/300038263",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-300038263",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 300038263,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDAzODI2Mw==",
          "user": {
            "login": "Bisgates",
            "id": 10692634,
            "node_id": "MDQ6VXNlcjEwNjkyNjM0",
            "avatar_url": "https://avatars.githubusercontent.com/u/10692634?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Bisgates",
            "html_url": "https://github.com/Bisgates",
            "followers_url": "https://api.github.com/users/Bisgates/followers",
            "following_url": "https://api.github.com/users/Bisgates/following{/other_user}",
            "gists_url": "https://api.github.com/users/Bisgates/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Bisgates/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Bisgates/subscriptions",
            "organizations_url": "https://api.github.com/users/Bisgates/orgs",
            "repos_url": "https://api.github.com/users/Bisgates/repos",
            "events_url": "https://api.github.com/users/Bisgates/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Bisgates/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-09T01:46:52Z",
          "updated_at": "2017-05-09T01:46:52Z",
          "author_association": "NONE",
          "body": "I solved this problem by adding 'custom_bojects'\r\n```\r\nmodel = load_model('model/multi_task/try.h5', custom_objects={'loss_max': loss_max})\r\n```\r\n\r\nmy loss function:\r\n```\r\ndef loss_max(y_true, y_pred):\r\n    from keras import backend as K\r\n    return K.max(K.abs(y_pred - y_true), axis=-1)\r\n```\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/300038263/reactions",
            "total_count": 981,
            "+1": 633,
            "-1": 5,
            "laugh": 59,
            "hooray": 106,
            "confused": 4,
            "heart": 124,
            "rocket": 39,
            "eyes": 11
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/303454158",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-303454158",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 303454158,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzQ1NDE1OA==",
          "user": {
            "login": "piccolbo",
            "id": 905563,
            "node_id": "MDQ6VXNlcjkwNTU2Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/905563?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/piccolbo",
            "html_url": "https://github.com/piccolbo",
            "followers_url": "https://api.github.com/users/piccolbo/followers",
            "following_url": "https://api.github.com/users/piccolbo/following{/other_user}",
            "gists_url": "https://api.github.com/users/piccolbo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/piccolbo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/piccolbo/subscriptions",
            "organizations_url": "https://api.github.com/users/piccolbo/orgs",
            "repos_url": "https://api.github.com/users/piccolbo/repos",
            "events_url": "https://api.github.com/users/piccolbo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/piccolbo/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-23T16:20:18Z",
          "updated_at": "2017-05-23T16:20:18Z",
          "author_association": "NONE",
          "body": "My workaround is like @dluvizon  except I assigned `keras.losses.loss`. That was the missing function name according to the error message.\r\n\r\n\r\n```\r\n/Users/apiccolboni/anaconda/lib/python2.7/site-packages/keras/utils/generic_utils.pyc in deserialize_keras_object(identifier, module_objects, custom_objects, printable_module_name)\r\n    155             if fn is None:\r\n    156                 raise ValueError('Unknown ' + printable_module_name,\r\n--> 157                                  ':' + function_name)\r\n    158         return fn\r\n    159     else:\r\n\r\nValueError: ('Unknown loss function', ':loss')\r\n\r\n```\r\n\r\nkeras 2.0.4",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/303454158/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304848971",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-304848971",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 304848971,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDg0ODk3MQ==",
          "user": {
            "login": "pigna90",
            "id": 11518618,
            "node_id": "MDQ6VXNlcjExNTE4NjE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11518618?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pigna90",
            "html_url": "https://github.com/pigna90",
            "followers_url": "https://api.github.com/users/pigna90/followers",
            "following_url": "https://api.github.com/users/pigna90/following{/other_user}",
            "gists_url": "https://api.github.com/users/pigna90/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pigna90/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pigna90/subscriptions",
            "organizations_url": "https://api.github.com/users/pigna90/orgs",
            "repos_url": "https://api.github.com/users/pigna90/repos",
            "events_url": "https://api.github.com/users/pigna90/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pigna90/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-30T11:22:35Z",
          "updated_at": "2017-05-30T11:23:09Z",
          "author_association": "NONE",
          "body": "Hi, I have a similar problem with:\r\n` model.compile( loss=lambda x,y: custom_loss_function(x,y,third_argument), optimizer=optimizer)`\r\nKeras 2.0.3 (Python 2.7.6) gives me the error:\r\n`('Unknown loss function', ':<lambda>')`\r\n\r\nDoes anyone can help me ? Many thanks!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304848971/reactions",
            "total_count": 19,
            "+1": 9,
            "-1": 1,
            "laugh": 0,
            "hooray": 0,
            "confused": 9,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304890117",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-304890117",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 304890117,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDg5MDExNw==",
          "user": {
            "login": "dluvizon",
            "id": 579373,
            "node_id": "MDQ6VXNlcjU3OTM3Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/579373?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dluvizon",
            "html_url": "https://github.com/dluvizon",
            "followers_url": "https://api.github.com/users/dluvizon/followers",
            "following_url": "https://api.github.com/users/dluvizon/following{/other_user}",
            "gists_url": "https://api.github.com/users/dluvizon/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dluvizon/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dluvizon/subscriptions",
            "organizations_url": "https://api.github.com/users/dluvizon/orgs",
            "repos_url": "https://api.github.com/users/dluvizon/repos",
            "events_url": "https://api.github.com/users/dluvizon/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dluvizon/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-30T14:10:14Z",
          "updated_at": "2017-05-30T14:10:14Z",
          "author_association": "NONE",
          "body": "Hi @pigna90 , the easiest way is to define a python function in the form:\r\n```\r\ndef custom_loss_function(y_true, y_pred):\r\n    # Compute loss\r\n    return loss\r\n```\r\nThen you pass it as your loss in `model.compile(loss=custom_loss_function, [...])`.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304890117/reactions",
            "total_count": 34,
            "+1": 1,
            "-1": 33,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304924075",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-304924075",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 304924075,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDkyNDA3NQ==",
          "user": {
            "login": "pigna90",
            "id": 11518618,
            "node_id": "MDQ6VXNlcjExNTE4NjE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11518618?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pigna90",
            "html_url": "https://github.com/pigna90",
            "followers_url": "https://api.github.com/users/pigna90/followers",
            "following_url": "https://api.github.com/users/pigna90/following{/other_user}",
            "gists_url": "https://api.github.com/users/pigna90/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pigna90/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pigna90/subscriptions",
            "organizations_url": "https://api.github.com/users/pigna90/orgs",
            "repos_url": "https://api.github.com/users/pigna90/repos",
            "events_url": "https://api.github.com/users/pigna90/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pigna90/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-30T15:55:23Z",
          "updated_at": "2017-05-30T15:55:23Z",
          "author_association": "NONE",
          "body": "Thanks @dluvizon, but I need three parameters as I wrote in my first post. How can I handle it?\r\nThe error is raised only when I try to reload the model that has been saved.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304924075/reactions",
            "total_count": 4,
            "+1": 3,
            "-1": 1,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304935227",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-304935227",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 304935227,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNDkzNTIyNw==",
          "user": {
            "login": "piccolbo",
            "id": 905563,
            "node_id": "MDQ6VXNlcjkwNTU2Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/905563?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/piccolbo",
            "html_url": "https://github.com/piccolbo",
            "followers_url": "https://api.github.com/users/piccolbo/followers",
            "following_url": "https://api.github.com/users/piccolbo/following{/other_user}",
            "gists_url": "https://api.github.com/users/piccolbo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/piccolbo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/piccolbo/subscriptions",
            "organizations_url": "https://api.github.com/users/piccolbo/orgs",
            "repos_url": "https://api.github.com/users/piccolbo/repos",
            "events_url": "https://api.github.com/users/piccolbo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/piccolbo/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-30T16:34:46Z",
          "updated_at": "2017-05-30T16:34:46Z",
          "author_association": "NONE",
          "body": "Checkout functools.partial This is really basic Python, so I think this is\nnot the appropriate forum to discuss it.\n\nOn Tue, May 30, 2017, 8:55 AM Alessandro Romano <notifications@github.com>\nwrote:\n\n> Thanks @dluvizon <https://github.com/dluvizon>, but I need three\n> parameters as I wrote in my first post. How can I handle it?\n> The error is raised only when I try to reload the model that has been\n> saved.\n>\n> \u2014\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/fchollet/keras/issues/5916#issuecomment-304924075>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AA3RW8F8kgL35_f7D3iXjj9kuVW6h0Opks5r_DwCgaJpZM4Mki1T>\n> .\n>\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/304935227/reactions",
            "total_count": 9,
            "+1": 1,
            "-1": 8,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/305005783",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-305005783",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 305005783,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTAwNTc4Mw==",
          "user": {
            "login": "pigna90",
            "id": 11518618,
            "node_id": "MDQ6VXNlcjExNTE4NjE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11518618?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pigna90",
            "html_url": "https://github.com/pigna90",
            "followers_url": "https://api.github.com/users/pigna90/followers",
            "following_url": "https://api.github.com/users/pigna90/following{/other_user}",
            "gists_url": "https://api.github.com/users/pigna90/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pigna90/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pigna90/subscriptions",
            "organizations_url": "https://api.github.com/users/pigna90/orgs",
            "repos_url": "https://api.github.com/users/pigna90/repos",
            "events_url": "https://api.github.com/users/pigna90/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pigna90/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-30T20:56:51Z",
          "updated_at": "2017-05-30T20:56:51Z",
          "author_association": "NONE",
          "body": "@piccolbo actually I'm using also functools.partial, but I need to execute the following code in save/serialization time and in loading time:\r\n`custom_loss_partial = functools.partial(custom_loss_function, third_argument=third_argument)\r\n  custom_loss_partial.__name__ = \"custom_loss_function\"`\r\nI'm searching for a way that allows me to load the model without declare custom_loss_partial two times.\r\n\r\nI hope that my issue it's relevant and clear.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/305005783/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/317256800",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-317256800",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 317256800,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzI1NjgwMA==",
          "user": {
            "login": "ZY0422",
            "id": 14849297,
            "node_id": "MDQ6VXNlcjE0ODQ5Mjk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/14849297?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ZY0422",
            "html_url": "https://github.com/ZY0422",
            "followers_url": "https://api.github.com/users/ZY0422/followers",
            "following_url": "https://api.github.com/users/ZY0422/following{/other_user}",
            "gists_url": "https://api.github.com/users/ZY0422/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ZY0422/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ZY0422/subscriptions",
            "organizations_url": "https://api.github.com/users/ZY0422/orgs",
            "repos_url": "https://api.github.com/users/ZY0422/repos",
            "events_url": "https://api.github.com/users/ZY0422/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ZY0422/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-07-23T14:26:55Z",
          "updated_at": "2017-07-23T14:26:55Z",
          "author_association": "NONE",
          "body": "@Bisgates \r\nHi, I tried your way but sadly it doesn't work. It just gives me the same error message:\r\n`File \"/home/gnahzuy/.conda/envs/gpu/lib/python3.5/site-packages/keras/losses.py\", line 94, in deserialize\r\n    printable_module_name='loss function')\r\n  File \"/home/gnahzuy/.conda/envs/gpu/lib/python3.5/site-packages/keras/utils/generic_utils.py\", line 159, in deserialize_keras_object\r\n    ':' + function_name)\r\nValueError: Unknown loss function:sorenson_dice`\r\n\r\nI compile my model like:\r\n`model.compile(optimizer='adam', loss=sorenson_dice)`\r\nand I load my model like:\r\n`model = keras.models.load_model('/home/gnahzuy/U-net/scripts/val_loss=.-0.88.hdf5',custom_objecta={'val_loss': sorenson_dice})`\r\nI define the loss function in the same file.\r\n\r\nI think that might because I give the worry name 'val_loss'? I tried 'loss' but it doesn't work too.\r\n\r\nDo you have any idea about that? \r\nThanks",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/317256800/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 1,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/320013299",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-320013299",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 320013299,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMDAxMzI5OQ==",
          "user": {
            "login": "wkm",
            "id": 153281,
            "node_id": "MDQ6VXNlcjE1MzI4MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/153281?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wkm",
            "html_url": "https://github.com/wkm",
            "followers_url": "https://api.github.com/users/wkm/followers",
            "following_url": "https://api.github.com/users/wkm/following{/other_user}",
            "gists_url": "https://api.github.com/users/wkm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wkm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wkm/subscriptions",
            "organizations_url": "https://api.github.com/users/wkm/orgs",
            "repos_url": "https://api.github.com/users/wkm/repos",
            "events_url": "https://api.github.com/users/wkm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wkm/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-03T16:00:19Z",
          "updated_at": "2017-08-03T16:00:19Z",
          "author_association": "NONE",
          "body": "@ZY0422 You want `custom_objects={'sorenson_dice': sorenson_dice}`",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/320013299/reactions",
            "total_count": 8,
            "+1": 8,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/341151395",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-341151395",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 341151395,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM0MTE1MTM5NQ==",
          "user": {
            "login": "stale[bot]",
            "id": 26384082,
            "node_id": "MDM6Qm90MjYzODQwODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stale%5Bbot%5D",
            "html_url": "https://github.com/apps/stale",
            "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
            "type": "Bot",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-11-01T16:02:34Z",
          "updated_at": "2017-11-01T16:02:34Z",
          "author_association": "NONE",
          "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed after 30 days if no further activity  occurs, but feel free to re-open a closed issue if needed.\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/341151395/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/355496165",
          "html_url": "https://github.com/keras-team/keras/issues/5916#issuecomment-355496165",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5916",
          "id": 355496165,
          "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTQ5NjE2NQ==",
          "user": {
            "login": "CC10010",
            "id": 17403084,
            "node_id": "MDQ6VXNlcjE3NDAzMDg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/17403084?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/CC10010",
            "html_url": "https://github.com/CC10010",
            "followers_url": "https://api.github.com/users/CC10010/followers",
            "following_url": "https://api.github.com/users/CC10010/following{/other_user}",
            "gists_url": "https://api.github.com/users/CC10010/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/CC10010/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/CC10010/subscriptions",
            "organizations_url": "https://api.github.com/users/CC10010/orgs",
            "repos_url": "https://api.github.com/users/CC10010/repos",
            "events_url": "https://api.github.com/users/CC10010/events{/privacy}",
            "received_events_url": "https://api.github.com/users/CC10010/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2018-01-05T08:11:18Z",
          "updated_at": "2018-01-05T08:11:18Z",
          "author_association": "NONE",
          "body": "I have a similar problem\r\nI compile my model like this:\r\nmodel.compile(loss={'ctc': lambda y_true, y_pred: y_pred}, optimizer=sgd, metrics=['accuracy'])\r\nwhen load_model('model.hdf5', custom_objects={'ctc': lambda y_true, y_pred: y_pred})\r\nit raise \"Unknown loss function: '<lambda>'\r\nCan anyone help me ,thank U very much!!!",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/355496165/reactions",
            "total_count": 6,
            "+1": 6,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/keras-team/keras/issues/5400",
      "repository_url": "https://api.github.com/repos/keras-team/keras",
      "labels_url": "https://api.github.com/repos/keras-team/keras/issues/5400/labels{/name}",
      "comments_url": "https://api.github.com/repos/keras-team/keras/issues/5400/comments",
      "events_url": "https://api.github.com/repos/keras-team/keras/issues/5400/events",
      "html_url": "https://github.com/keras-team/keras/issues/5400",
      "id": 207656251,
      "node_id": "MDU6SXNzdWUyMDc2NTYyNTE=",
      "number": 5400,
      "title": "Accuracy, fmeasure, precision, and recall all the same for binary classification problem (cut and paste example provided)",
      "user": {
        "login": "isaacgerg",
        "id": 11971499,
        "node_id": "MDQ6VXNlcjExOTcxNDk5",
        "avatar_url": "https://avatars.githubusercontent.com/u/11971499?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/isaacgerg",
        "html_url": "https://github.com/isaacgerg",
        "followers_url": "https://api.github.com/users/isaacgerg/followers",
        "following_url": "https://api.github.com/users/isaacgerg/following{/other_user}",
        "gists_url": "https://api.github.com/users/isaacgerg/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/isaacgerg/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/isaacgerg/subscriptions",
        "organizations_url": "https://api.github.com/users/isaacgerg/orgs",
        "repos_url": "https://api.github.com/users/isaacgerg/repos",
        "events_url": "https://api.github.com/users/isaacgerg/events{/privacy}",
        "received_events_url": "https://api.github.com/users/isaacgerg/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 60,
      "created_at": "2017-02-14T22:31:56Z",
      "updated_at": "2020-10-13T02:28:10Z",
      "closed_at": "2019-09-19T20:46:10Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "keras 1.2.2, tf-gpu -.12.1\r\n\r\nExample code to show issue:\r\n\r\n```\r\n'''Trains a simple convnet on the MNIST dataset.\r\n\r\nGets to 99.25% test accuracy after 12 epochs\r\n(there is still a lot of margin for parameter tuning).\r\n16 seconds per epoch on a GRID K520 GPU.\r\n'''\r\n\r\n#from __future__ import print_function\r\nimport numpy as np\r\nnp.random.seed(1337)  # for reproducibility\r\n\r\nfrom keras.datasets import mnist\r\nfrom keras.models import Sequential\r\nfrom keras.layers import Dense, Dropout, Activation, Flatten\r\nfrom keras.layers import Convolution2D, MaxPooling2D\r\nfrom keras.utils import np_utils\r\nfrom keras import backend as K\r\n\r\nbatch_size = 128\r\nnb_classes = 10\r\nnb_epoch = 12\r\n\r\n# input image dimensions\r\nimg_rows, img_cols = 28, 28\r\n# number of convolutional filters to use\r\nnb_filters = 32\r\n# size of pooling area for max pooling\r\npool_size = (2, 2)\r\n# convolution kernel size\r\nkernel_size = (3, 3)\r\n\r\n# the data, shuffled and split between train and test sets\r\n(X_train, y_train), (X_test, y_test) = mnist.load_data()\r\n# make 2 categories\r\ny_train = y_train>=5\r\ny_test = y_test>=5\r\n\r\nif K.image_dim_ordering() == 'th':\r\n    X_train = X_train.reshape(X_train.shape[0], 1, img_rows, img_cols)\r\n    X_test = X_test.reshape(X_test.shape[0], 1, img_rows, img_cols)\r\n    input_shape = (1, img_rows, img_cols)\r\nelse:\r\n    X_train = X_train.reshape(X_train.shape[0], img_rows, img_cols, 1)\r\n    X_test = X_test.reshape(X_test.shape[0], img_rows, img_cols, 1)\r\n    input_shape = (img_rows, img_cols, 1)\r\n\r\nX_train = X_train.astype('float32')\r\nX_test = X_test.astype('float32')\r\nX_train /= 255\r\nX_test /= 255\r\nprint('X_train shape:', X_train.shape)\r\nprint(X_train.shape[0], 'train samples')\r\nprint(X_test.shape[0], 'test samples')\r\n\r\n# convert class vectors to binary class matrices\r\nY_train = np_utils.to_categorical(y_train, 2)\r\nY_test = np_utils.to_categorical(y_test, 2)\r\n\r\nmodel = Sequential()\r\n\r\nmodel.add(Convolution2D(nb_filters, kernel_size[0], kernel_size[1],\r\n                        border_mode='valid',\r\n                        input_shape=input_shape))\r\nmodel.add(Activation('relu'))\r\nmodel.add(Convolution2D(nb_filters, kernel_size[0], kernel_size[1]))\r\nmodel.add(Activation('relu'))\r\nmodel.add(MaxPooling2D(pool_size=pool_size))\r\nmodel.add(Dropout(0.25))\r\n\r\nmodel.add(Flatten())\r\nmodel.add(Dense(128))\r\nmodel.add(Activation('relu'))\r\nmodel.add(Dropout(0.5))\r\nmodel.add(Dense(2))\r\nmodel.add(Activation('softmax'))\r\n\r\nmodel.compile(loss='categorical_crossentropy',\r\n              optimizer='adadelta',\r\n              metrics=['accuracy', 'f1score', 'precision', 'recall'])\r\n\r\nmodel.fit(X_train, Y_train, batch_size=batch_size, nb_epoch=nb_epoch,\r\n          verbose=1, validation_data=(X_test, Y_test))\r\nscore = model.evaluate(X_test, Y_test, verbose=0)\r\nprint('Test score:', score[0])\r\nprint('Test accuracy:', score[1])\r\n```\r\n\r\nyields output:\r\n\r\n```\r\nUsing TensorFlow backend.\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library cublas64_80.dll locally\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library cudnn64_5.dll locally\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library cufft64_80.dll locally\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library nvcuda.dll locally\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\stream_executor\\dso_loader.cc:128] successfully opened CUDA library curand64_80.dll locally\r\nX_train shape: (60000, 28, 28, 1)\r\n60000 train samples\r\n10000 test samples\r\nTrain on 60000 samples, validate on 10000 samples\r\nEpoch 1/12\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:885] Found device 0 with properties: \r\nname: GeForce GTX TITAN Black\r\nmajor: 3 minor: 5 memoryClockRate (GHz) 0.98\r\npciBusID 0000:01:00.0\r\nTotal memory: 6.00GiB\r\nFree memory: 5.85GiB\r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:906] DMA: 0 \r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:916] 0:   Y \r\nI c:\\tf_jenkins\\home\\workspace\\release-win\\device\\gpu\\os\\windows\\tensorflow\\core\\common_runtime\\gpu\\gpu_device.cc:975] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GeForce GTX TITAN Black, pci bus id: 0000:01:00.0)\r\n\r\n  128/60000 [..............................] - ETA: 1686s - loss: 0.7091 - acc: 0.4688 - fmeasure: 0.4687 - precision: 0.4688 - recall: 0.4688\r\n  384/60000 [..............................] - ETA: 567s - loss: 0.6981 - acc: 0.4922 - fmeasure: 0.4922 - precision: 0.4922 - recall: 0.4922 \r\n  640/60000 [..............................] - ETA: 343s - loss: 0.6845 - acc: 0.5609 - fmeasure: 0.5609 - precision: 0.5609 - recall: 0.5609\r\n 1024/60000 [..............................] - ETA: 217s - loss: 0.6654 - acc: 0.6143 - fmeasure: 0.6143 - precision: 0.6143 - recall: 0.6143\r\n 1408/60000 [..............................] - ETA: 159s - loss: 0.6427 - acc: 0.6456 - fmeasure: 0.6456 - precision: 0.6456 - recall: 0.6456\r\n 1792/60000 [..............................] - ETA: 126s - loss: 0.6226 - acc: 0.6629 - fmeasure: 0.6629 - precision: 0.6629 - recall: 0.6629\r\n```",
      "closed_by": {
        "login": "isaacgerg",
        "id": 11971499,
        "node_id": "MDQ6VXNlcjExOTcxNDk5",
        "avatar_url": "https://avatars.githubusercontent.com/u/11971499?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/isaacgerg",
        "html_url": "https://github.com/isaacgerg",
        "followers_url": "https://api.github.com/users/isaacgerg/followers",
        "following_url": "https://api.github.com/users/isaacgerg/following{/other_user}",
        "gists_url": "https://api.github.com/users/isaacgerg/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/isaacgerg/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/isaacgerg/subscriptions",
        "organizations_url": "https://api.github.com/users/isaacgerg/orgs",
        "repos_url": "https://api.github.com/users/isaacgerg/repos",
        "events_url": "https://api.github.com/users/isaacgerg/events{/privacy}",
        "received_events_url": "https://api.github.com/users/isaacgerg/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/keras-team/keras/issues/5400/reactions",
        "total_count": 16,
        "+1": 15,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 1
      },
      "timeline_url": "https://api.github.com/repos/keras-team/keras/issues/5400/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed",
      "comments_data": [
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/280208761",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-280208761",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 280208761,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDIwODc2MQ==",
          "user": {
            "login": "laxatives",
            "id": 16109646,
            "node_id": "MDQ6VXNlcjE2MTA5NjQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/16109646?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/laxatives",
            "html_url": "https://github.com/laxatives",
            "followers_url": "https://api.github.com/users/laxatives/followers",
            "following_url": "https://api.github.com/users/laxatives/following{/other_user}",
            "gists_url": "https://api.github.com/users/laxatives/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/laxatives/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/laxatives/subscriptions",
            "organizations_url": "https://api.github.com/users/laxatives/orgs",
            "repos_url": "https://api.github.com/users/laxatives/repos",
            "events_url": "https://api.github.com/users/laxatives/events{/privacy}",
            "received_events_url": "https://api.github.com/users/laxatives/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-02-16T02:13:53Z",
          "updated_at": "2017-02-16T02:16:14Z",
          "author_association": "NONE",
          "body": "FYI, I had this issue as well, but I believe it was resolved by replacing metrics.py with the latest version in https://raw.githubusercontent.com/fchollet/keras/master/keras/metrics.py\r\n\r\n```\r\n1280/5640 [=====>........................] - ETA: 20s - loss: 1.5566 - fmeasure: 0.8134 - precision: 0.8421 - recall: 0.7867\r\n1408/5640 [======>.......................] - ETA: 19s - loss: 1.5358 - fmeasure: 0.8160 - precision: 0.8433 - recall: 0.7905\r\n1536/5640 [=======>......................] - ETA: 18s - loss: 1.5221 - fmeasure: 0.8187 - precision: 0.8449 - recall: 0.7943\r\n1664/5640 [=======>......................] - ETA: 18s - loss: 1.5240 - fmeasure: 0.8152 - precision: 0.8406 - recall: 0.7915\r\n1792/5640 [========>.....................] - ETA: 17s - loss: 1.5294 - fmeasure: 0.8141 - precision: 0.8391 - recall: 0.7907\r\n1920/5640 [=========>....................] - ETA: 17s - loss: 1.5106 - fmeasure: 0.8175 - precision: 0.8422 - recall: 0.7943\r\n2048/5640 [=========>....................] - ETA: 16s - loss: 1.5220 - fmeasure: 0.8146 - precision: 0.8391 - recall: 0.7915\r\n2176/5640 [==========>...................] - ETA: 15s - loss: 1.5127 - fmeasure: 0.8189 - precision: 0.8429 - recall: 0.7964\r\n```\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/280208761/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/280209890",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-280209890",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 280209890,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDIwOTg5MA==",
          "user": {
            "login": "isaacgerg",
            "id": 11971499,
            "node_id": "MDQ6VXNlcjExOTcxNDk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11971499?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/isaacgerg",
            "html_url": "https://github.com/isaacgerg",
            "followers_url": "https://api.github.com/users/isaacgerg/followers",
            "following_url": "https://api.github.com/users/isaacgerg/following{/other_user}",
            "gists_url": "https://api.github.com/users/isaacgerg/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/isaacgerg/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/isaacgerg/subscriptions",
            "organizations_url": "https://api.github.com/users/isaacgerg/orgs",
            "repos_url": "https://api.github.com/users/isaacgerg/repos",
            "events_url": "https://api.github.com/users/isaacgerg/events{/privacy}",
            "received_events_url": "https://api.github.com/users/isaacgerg/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-02-16T02:20:05Z",
          "updated_at": "2017-02-16T02:20:05Z",
          "author_association": "NONE",
          "body": "Did you runt he code I provided?\r\n\r\nmetrics.py is a month old.  I just did the pypy pull to get keras 1.2.2.  I can't see how that can be the issue.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/280209890/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/280928445",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-280928445",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 280928445,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDkyODQ0NQ==",
          "user": {
            "login": "recluze",
            "id": 289851,
            "node_id": "MDQ6VXNlcjI4OTg1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/289851?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/recluze",
            "html_url": "https://github.com/recluze",
            "followers_url": "https://api.github.com/users/recluze/followers",
            "following_url": "https://api.github.com/users/recluze/following{/other_user}",
            "gists_url": "https://api.github.com/users/recluze/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/recluze/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/recluze/subscriptions",
            "organizations_url": "https://api.github.com/users/recluze/orgs",
            "repos_url": "https://api.github.com/users/recluze/repos",
            "events_url": "https://api.github.com/users/recluze/events{/privacy}",
            "received_events_url": "https://api.github.com/users/recluze/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-02-19T16:03:48Z",
          "updated_at": "2017-02-19T16:04:50Z",
          "author_association": "NONE",
          "body": "I had the issue of getting good accuracy but bad precision and recall on balanced dataset. I ended up calculating fp, tp, fn and tn manually and then precision/recall/f1 through custom metrics method . Based on that, I got good f1 etc. I did see the code of `metrics.py` and can't figure out why it would give incorrect results. \r\n\r\nbtw, I'm using keras 1.2.0 for now. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/280928445/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/281793957",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-281793957",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 281793957,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4MTc5Mzk1Nw==",
          "user": {
            "login": "nsarafianos",
            "id": 14354430,
            "node_id": "MDQ6VXNlcjE0MzU0NDMw",
            "avatar_url": "https://avatars.githubusercontent.com/u/14354430?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nsarafianos",
            "html_url": "https://github.com/nsarafianos",
            "followers_url": "https://api.github.com/users/nsarafianos/followers",
            "following_url": "https://api.github.com/users/nsarafianos/following{/other_user}",
            "gists_url": "https://api.github.com/users/nsarafianos/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nsarafianos/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nsarafianos/subscriptions",
            "organizations_url": "https://api.github.com/users/nsarafianos/orgs",
            "repos_url": "https://api.github.com/users/nsarafianos/repos",
            "events_url": "https://api.github.com/users/nsarafianos/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nsarafianos/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-02-22T20:32:33Z",
          "updated_at": "2017-02-22T21:16:55Z",
          "author_association": "NONE",
          "body": "@recluze how can you do this and at the same time compute them over the whole set (and not per batch) and still pass the custom metric in the model?\r\n\r\nAs also mentioned here https://github.com/fchollet/keras/issues/4592 I think that the correct way to compute precision, recall, etc is with the complete prediction and ground truth vectors/tensors and not averaging per batch. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/281793957/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/281889980",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-281889980",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 281889980,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4MTg4OTk4MA==",
          "user": {
            "login": "recluze",
            "id": 289851,
            "node_id": "MDQ6VXNlcjI4OTg1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/289851?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/recluze",
            "html_url": "https://github.com/recluze",
            "followers_url": "https://api.github.com/users/recluze/followers",
            "following_url": "https://api.github.com/users/recluze/following{/other_user}",
            "gists_url": "https://api.github.com/users/recluze/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/recluze/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/recluze/subscriptions",
            "organizations_url": "https://api.github.com/users/recluze/orgs",
            "repos_url": "https://api.github.com/users/recluze/repos",
            "events_url": "https://api.github.com/users/recluze/events{/privacy}",
            "received_events_url": "https://api.github.com/users/recluze/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-02-23T04:16:08Z",
          "updated_at": "2017-02-23T04:16:08Z",
          "author_association": "NONE",
          "body": "@nsarafianos Only do this per-batch as the values are reported on a per-batch basis by keras callbacks. Once you're trained, you can just use `mode.predict` to go over the complete test set and compute your metrics in full. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/281889980/reactions",
            "total_count": 5,
            "+1": 5,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/282173231",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-282173231",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 282173231,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE3MzIzMQ==",
          "user": {
            "login": "isaacgerg",
            "id": 11971499,
            "node_id": "MDQ6VXNlcjExOTcxNDk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11971499?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/isaacgerg",
            "html_url": "https://github.com/isaacgerg",
            "followers_url": "https://api.github.com/users/isaacgerg/followers",
            "following_url": "https://api.github.com/users/isaacgerg/following{/other_user}",
            "gists_url": "https://api.github.com/users/isaacgerg/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/isaacgerg/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/isaacgerg/subscriptions",
            "organizations_url": "https://api.github.com/users/isaacgerg/orgs",
            "repos_url": "https://api.github.com/users/isaacgerg/repos",
            "events_url": "https://api.github.com/users/isaacgerg/events{/privacy}",
            "received_events_url": "https://api.github.com/users/isaacgerg/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-02-24T01:09:27Z",
          "updated_at": "2017-02-24T01:09:27Z",
          "author_association": "NONE",
          "body": "@recluze Were you able to replicate my bug?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/282173231/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/282176626",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-282176626",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 282176626,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE3NjYyNg==",
          "user": {
            "login": "nsarafianos",
            "id": 14354430,
            "node_id": "MDQ6VXNlcjE0MzU0NDMw",
            "avatar_url": "https://avatars.githubusercontent.com/u/14354430?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nsarafianos",
            "html_url": "https://github.com/nsarafianos",
            "followers_url": "https://api.github.com/users/nsarafianos/followers",
            "following_url": "https://api.github.com/users/nsarafianos/following{/other_user}",
            "gists_url": "https://api.github.com/users/nsarafianos/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nsarafianos/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nsarafianos/subscriptions",
            "organizations_url": "https://api.github.com/users/nsarafianos/orgs",
            "repos_url": "https://api.github.com/users/nsarafianos/repos",
            "events_url": "https://api.github.com/users/nsarafianos/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nsarafianos/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-02-24T01:29:15Z",
          "updated_at": "2017-02-24T01:32:58Z",
          "author_association": "NONE",
          "body": "@isaacgerg I had exactly the same problem (accuracy equal to precision on a balanced task) with another dataset which made me look into this. For some reason the per batch computation of the precision is not working properly. Using sklearn.metrics on the predicted class worked fine (here's a binary problem): \r\n\r\n```\r\nyp = model.predict(X_test, batch_size=32, verbose=1)\r\nypreds = np.argmax(yp, axis=1)\r\nprint(average_precision_score(ytrue, ypreds))\r\nprint(accuracy_score(ytrue, ypreds))\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/282176626/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/282177279",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-282177279",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 282177279,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE3NzI3OQ==",
          "user": {
            "login": "isaacgerg",
            "id": 11971499,
            "node_id": "MDQ6VXNlcjExOTcxNDk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11971499?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/isaacgerg",
            "html_url": "https://github.com/isaacgerg",
            "followers_url": "https://api.github.com/users/isaacgerg/followers",
            "following_url": "https://api.github.com/users/isaacgerg/following{/other_user}",
            "gists_url": "https://api.github.com/users/isaacgerg/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/isaacgerg/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/isaacgerg/subscriptions",
            "organizations_url": "https://api.github.com/users/isaacgerg/orgs",
            "repos_url": "https://api.github.com/users/isaacgerg/repos",
            "events_url": "https://api.github.com/users/isaacgerg/events{/privacy}",
            "received_events_url": "https://api.github.com/users/isaacgerg/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-02-24T01:33:15Z",
          "updated_at": "2017-02-24T01:33:15Z",
          "author_association": "NONE",
          "body": "@nsarafianos Would you mind checking if you get the the same results when running the code i submitted?  Thanks for the advice on sklearn.metrics.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/282177279/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/282178298",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-282178298",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 282178298,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE3ODI5OA==",
          "user": {
            "login": "nsarafianos",
            "id": 14354430,
            "node_id": "MDQ6VXNlcjE0MzU0NDMw",
            "avatar_url": "https://avatars.githubusercontent.com/u/14354430?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nsarafianos",
            "html_url": "https://github.com/nsarafianos",
            "followers_url": "https://api.github.com/users/nsarafianos/followers",
            "following_url": "https://api.github.com/users/nsarafianos/following{/other_user}",
            "gists_url": "https://api.github.com/users/nsarafianos/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nsarafianos/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nsarafianos/subscriptions",
            "organizations_url": "https://api.github.com/users/nsarafianos/orgs",
            "repos_url": "https://api.github.com/users/nsarafianos/repos",
            "events_url": "https://api.github.com/users/nsarafianos/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nsarafianos/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-02-24T01:39:47Z",
          "updated_at": "2017-02-24T01:39:47Z",
          "author_association": "NONE",
          "body": "@isaacgerg Just ran the code you posted and yes all 3 measurements are the same for all 12 epochs. \r\n\r\nFor a 10-class problem, I would create the confusion matrix, get tp,fp, etc. and then compute whichever metrics you want. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/282178298/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/282188692",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-282188692",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 282188692,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI4MjE4ODY5Mg==",
          "user": {
            "login": "recluze",
            "id": 289851,
            "node_id": "MDQ6VXNlcjI4OTg1MQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/289851?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/recluze",
            "html_url": "https://github.com/recluze",
            "followers_url": "https://api.github.com/users/recluze/followers",
            "following_url": "https://api.github.com/users/recluze/following{/other_user}",
            "gists_url": "https://api.github.com/users/recluze/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/recluze/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/recluze/subscriptions",
            "organizations_url": "https://api.github.com/users/recluze/orgs",
            "repos_url": "https://api.github.com/users/recluze/repos",
            "events_url": "https://api.github.com/users/recluze/events{/privacy}",
            "received_events_url": "https://api.github.com/users/recluze/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-02-24T02:46:29Z",
          "updated_at": "2017-02-24T02:46:29Z",
          "author_association": "NONE",
          "body": "@nsarafianos and @isaacgerg .... I've seen this issue repeatedly (though not strictly always for all datasets. For some very large datasets, it seems to be common). \r\n\r\nsklearn's metrics aren't an option for me since raw numpy is quite slow for my dataset. I used keras backend functions to create tp/fp etc. and then compute precision etc. in `on_epoch_end` of the callback. Works well for seeing training progress and then you can compute over the full training set at the end. ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/282188692/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/297655485",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-297655485",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 297655485,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzY1NTQ4NQ==",
          "user": {
            "login": "guangbaowan",
            "id": 25094780,
            "node_id": "MDQ6VXNlcjI1MDk0Nzgw",
            "avatar_url": "https://avatars.githubusercontent.com/u/25094780?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guangbaowan",
            "html_url": "https://github.com/guangbaowan",
            "followers_url": "https://api.github.com/users/guangbaowan/followers",
            "following_url": "https://api.github.com/users/guangbaowan/following{/other_user}",
            "gists_url": "https://api.github.com/users/guangbaowan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guangbaowan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guangbaowan/subscriptions",
            "organizations_url": "https://api.github.com/users/guangbaowan/orgs",
            "repos_url": "https://api.github.com/users/guangbaowan/repos",
            "events_url": "https://api.github.com/users/guangbaowan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guangbaowan/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-04-27T08:58:36Z",
          "updated_at": "2017-04-27T08:58:36Z",
          "author_association": "NONE",
          "body": "I tried this on 2.0.3 but failed\r\n\r\nadd the snippet\r\n```\r\ndef f1_score(y_true, y_pred):\r\n\r\n    # Count positive samples.\r\n    c1 = K.sum(K.round(K.clip(y_true * y_pred, 0, 1)))\r\n    c2 = K.sum(K.round(K.clip(y_pred, 0, 1)))\r\n    c3 = K.sum(K.round(K.clip(y_true, 0, 1)))\r\n\r\n    # If there are no true samples, fix the F1 score at 0.\r\n    if c3 == 0:\r\n        return 0\r\n\r\n    # How many selected items are relevant?\r\n    precision = c1 / c2\r\n\r\n    # How many relevant items are selected?\r\n    recall = c1 / c3\r\n\r\n    # Calculate f1_score\r\n    f1_score = 2 * (precision * recall) / (precision + recall)\r\n    return f1_score\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/297655485/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/297694500",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-297694500",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 297694500,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzY5NDUwMA==",
          "user": {
            "login": "isaacgerg",
            "id": 11971499,
            "node_id": "MDQ6VXNlcjExOTcxNDk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/11971499?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/isaacgerg",
            "html_url": "https://github.com/isaacgerg",
            "followers_url": "https://api.github.com/users/isaacgerg/followers",
            "following_url": "https://api.github.com/users/isaacgerg/following{/other_user}",
            "gists_url": "https://api.github.com/users/isaacgerg/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/isaacgerg/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/isaacgerg/subscriptions",
            "organizations_url": "https://api.github.com/users/isaacgerg/orgs",
            "repos_url": "https://api.github.com/users/isaacgerg/repos",
            "events_url": "https://api.github.com/users/isaacgerg/events{/privacy}",
            "received_events_url": "https://api.github.com/users/isaacgerg/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-04-27T12:05:23Z",
          "updated_at": "2017-04-27T12:05:23Z",
          "author_association": "NONE",
          "body": "Is it failing here?\n\n if c3 == 0:\n        return 0\n\n\n\nOn Thu, Apr 27, 2017 at 4:58 AM, guangbaowan <notifications@github.com>\nwrote:\n\n> I tried this on 2.0.3 but failed\n>\n> add the snippet\n>\n> def f1_score(y_true, y_pred):\n>\n>     # Count positive samples.\n>     c1 = K.sum(K.round(K.clip(y_true * y_pred, 0, 1)))\n>     c2 = K.sum(K.round(K.clip(y_pred, 0, 1)))\n>     c3 = K.sum(K.round(K.clip(y_true, 0, 1)))\n>\n>     # If there are no true samples, fix the F1 score at 0.\n>     if c3 == 0:\n>         return 0\n>\n>     # How many selected items are relevant?\n>     precision = c1 / c2\n>\n>     # How many relevant items are selected?\n>     recall = c1 / c3\n>\n>     # Calculate f1_score\n>     f1_score = 2 * (precision * recall) / (precision + recall)\n>     return f1_score\n>\n> \u2014\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/fchollet/keras/issues/5400#issuecomment-297655485>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ALarq8-h1F0h-kEPgirGb68YUsfl_oltks5r0FjPgaJpZM4MBFGI>\n> .\n>\n",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/297694500/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/299361085",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-299361085",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 299361085,
          "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTM2MTA4NQ==",
          "user": {
            "login": "fighting41love",
            "id": 11475294,
            "node_id": "MDQ6VXNlcjExNDc1Mjk0",
            "avatar_url": "https://avatars.githubusercontent.com/u/11475294?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fighting41love",
            "html_url": "https://github.com/fighting41love",
            "followers_url": "https://api.github.com/users/fighting41love/followers",
            "following_url": "https://api.github.com/users/fighting41love/following{/other_user}",
            "gists_url": "https://api.github.com/users/fighting41love/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fighting41love/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fighting41love/subscriptions",
            "organizations_url": "https://api.github.com/users/fighting41love/orgs",
            "repos_url": "https://api.github.com/users/fighting41love/repos",
            "events_url": "https://api.github.com/users/fighting41love/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fighting41love/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-05-05T03:16:13Z",
          "updated_at": "2017-05-05T03:27:48Z",
          "author_association": "NONE",
          "body": "**Same problem. I customized metrics -- precision, recall and F1-measure. The model.fit_generator and model.evaluate_generator also gives the same precision, recall and F1-measure.**\r\n\r\nkeras==2.0.0 on Mac OS Sierra 10.12.4\r\n\r\nEpoch 8/10\r\n0s - loss: 0.0269 - binary_accuracy: 0.8320 - f1score: 0.8320 - precision: 0.8320 - recall: 0.8320\r\nEpoch 9/10\r\n0s - loss: 0.0488 - binary_accuracy: 0.6953 - f1score: 0.6953 - precision: 0.6953 - recall: 0.6953\r\nEpoch 10/10\r\n0s - loss: 0.0457 - binary_accuracy: 0.7148 - f1score: 0.7148 - precision: 0.7148 - recall: 0.7148\r\nStart to evaluate.\r\nbinary_accuracy: 76.06%\r\nf1score: 76.06%\r\nprecision: 76.06%\r\nrecall: 76.06%",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/299361085/reactions",
            "total_count": 7,
            "+1": 7,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/314747992",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-314747992",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 314747992,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMxNDc0Nzk5Mg==",
          "user": {
            "login": "unnir",
            "id": 1344378,
            "node_id": "MDQ6VXNlcjEzNDQzNzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1344378?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/unnir",
            "html_url": "https://github.com/unnir",
            "followers_url": "https://api.github.com/users/unnir/followers",
            "following_url": "https://api.github.com/users/unnir/following{/other_user}",
            "gists_url": "https://api.github.com/users/unnir/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/unnir/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/unnir/subscriptions",
            "organizations_url": "https://api.github.com/users/unnir/orgs",
            "repos_url": "https://api.github.com/users/unnir/repos",
            "events_url": "https://api.github.com/users/unnir/events{/privacy}",
            "received_events_url": "https://api.github.com/users/unnir/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-07-12T12:01:02Z",
          "updated_at": "2018-06-19T07:52:25Z",
          "author_association": "NONE",
          "body": "**for those who will come here later, since Keras 2.0 metrics fmeasure, precision, and recall have been removed.**\r\n\r\nif you want to use them, you can check history of the repo or add this code:\r\n\r\n```python\r\n\r\nfrom keras import backend as K\r\n\r\n def mcor(y_true, y_pred):\r\n     #matthews_correlation\r\n     y_pred_pos = K.round(K.clip(y_pred, 0, 1))\r\n     y_pred_neg = 1 - y_pred_pos\r\n \r\n \r\n     y_pos = K.round(K.clip(y_true, 0, 1))\r\n     y_neg = 1 - y_pos\r\n \r\n \r\n     tp = K.sum(y_pos * y_pred_pos)\r\n     tn = K.sum(y_neg * y_pred_neg)\r\n \r\n \r\n     fp = K.sum(y_neg * y_pred_pos)\r\n     fn = K.sum(y_pos * y_pred_neg)\r\n \r\n \r\n     numerator = (tp * tn - fp * fn)\r\n     denominator = K.sqrt((tp + fp) * (tp + fn) * (tn + fp) * (tn + fn))\r\n \r\n \r\n     return numerator / (denominator + K.epsilon())\r\n\r\n\r\n\r\n\r\ndef precision(y_true, y_pred):\r\n    \"\"\"Precision metric.\r\n\r\n    Only computes a batch-wise average of precision.\r\n\r\n    Computes the precision, a metric for multi-label classification of\r\n    how many selected items are relevant.\r\n    \"\"\"\r\n    true_positives = K.sum(K.round(K.clip(y_true * y_pred, 0, 1)))\r\n    predicted_positives = K.sum(K.round(K.clip(y_pred, 0, 1)))\r\n    precision = true_positives / (predicted_positives + K.epsilon())\r\n    return precision\r\n\r\ndef recall(y_true, y_pred):\r\n    \"\"\"Recall metric.\r\n\r\n    Only computes a batch-wise average of recall.\r\n\r\n    Computes the recall, a metric for multi-label classification of\r\n    how many relevant items are selected.\r\n    \"\"\"\r\n    true_positives = K.sum(K.round(K.clip(y_true * y_pred, 0, 1)))\r\n    possible_positives = K.sum(K.round(K.clip(y_true, 0, 1)))\r\n    recall = true_positives / (possible_positives + K.epsilon())\r\n    return recall\r\n\r\n\r\ndef f1(y_true, y_pred):\r\n    def recall(y_true, y_pred):\r\n        \"\"\"Recall metric.\r\n\r\n        Only computes a batch-wise average of recall.\r\n\r\n        Computes the recall, a metric for multi-label classification of\r\n        how many relevant items are selected.\r\n        \"\"\"\r\n        true_positives = K.sum(K.round(K.clip(y_true * y_pred, 0, 1)))\r\n        possible_positives = K.sum(K.round(K.clip(y_true, 0, 1)))\r\n        recall = true_positives / (possible_positives + K.epsilon())\r\n        return recall\r\n\r\n    def precision(y_true, y_pred):\r\n        \"\"\"Precision metric.\r\n\r\n        Only computes a batch-wise average of precision.\r\n\r\n        Computes the precision, a metric for multi-label classification of\r\n        how many selected items are relevant.\r\n        \"\"\"\r\n        true_positives = K.sum(K.round(K.clip(y_true * y_pred, 0, 1)))\r\n        predicted_positives = K.sum(K.round(K.clip(y_pred, 0, 1)))\r\n        precision = true_positives / (predicted_positives + K.epsilon())\r\n        return precision\r\n    precision = precision(y_true, y_pred)\r\n    recall = recall(y_true, y_pred)\r\n    return 2*((precision*recall)/(precision+recall+K.epsilon()))\r\n\r\n#you can use it like this\r\nmodel.compile(loss='binary_crossentropy',\r\n              optimizer= \"adam\",\r\n              metrics=[mcor,recall, f1])\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/314747992/reactions",
            "total_count": 64,
            "+1": 47,
            "-1": 0,
            "laugh": 0,
            "hooray": 15,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 2
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321631305",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-321631305",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 321631305,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTYzMTMwNQ==",
          "user": {
            "login": "baharian",
            "id": 7094702,
            "node_id": "MDQ6VXNlcjcwOTQ3MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7094702?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/baharian",
            "html_url": "https://github.com/baharian",
            "followers_url": "https://api.github.com/users/baharian/followers",
            "following_url": "https://api.github.com/users/baharian/following{/other_user}",
            "gists_url": "https://api.github.com/users/baharian/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/baharian/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/baharian/subscriptions",
            "organizations_url": "https://api.github.com/users/baharian/orgs",
            "repos_url": "https://api.github.com/users/baharian/repos",
            "events_url": "https://api.github.com/users/baharian/events{/privacy}",
            "received_events_url": "https://api.github.com/users/baharian/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-10T18:13:38Z",
          "updated_at": "2017-08-10T18:13:38Z",
          "author_association": "NONE",
          "body": "@unnir Thanks for providing these implementations. But even using these, I get equal precision and recall at each epoch during training for both training dataset and validation dataset.",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321631305/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321641912",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-321641912",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 321641912,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTY0MTkxMg==",
          "user": {
            "login": "unnir",
            "id": 1344378,
            "node_id": "MDQ6VXNlcjEzNDQzNzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1344378?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/unnir",
            "html_url": "https://github.com/unnir",
            "followers_url": "https://api.github.com/users/unnir/followers",
            "following_url": "https://api.github.com/users/unnir/following{/other_user}",
            "gists_url": "https://api.github.com/users/unnir/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/unnir/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/unnir/subscriptions",
            "organizations_url": "https://api.github.com/users/unnir/orgs",
            "repos_url": "https://api.github.com/users/unnir/repos",
            "events_url": "https://api.github.com/users/unnir/events{/privacy}",
            "received_events_url": "https://api.github.com/users/unnir/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-10T18:55:10Z",
          "updated_at": "2017-08-10T18:55:10Z",
          "author_association": "NONE",
          "body": "@baharian I _guess_ it has nothing to do with metrics. Do you have the result for the loss too?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321641912/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321644497",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-321644497",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 321644497,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTY0NDQ5Nw==",
          "user": {
            "login": "baharian",
            "id": 7094702,
            "node_id": "MDQ6VXNlcjcwOTQ3MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7094702?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/baharian",
            "html_url": "https://github.com/baharian",
            "followers_url": "https://api.github.com/users/baharian/followers",
            "following_url": "https://api.github.com/users/baharian/following{/other_user}",
            "gists_url": "https://api.github.com/users/baharian/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/baharian/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/baharian/subscriptions",
            "organizations_url": "https://api.github.com/users/baharian/orgs",
            "repos_url": "https://api.github.com/users/baharian/repos",
            "events_url": "https://api.github.com/users/baharian/events{/privacy}",
            "received_events_url": "https://api.github.com/users/baharian/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-10T19:05:38Z",
          "updated_at": "2017-08-10T19:05:38Z",
          "author_association": "NONE",
          "body": "Yes! The value of loss changes by epoch, but precision and recall stay constant. Here is an excerpt:\r\n\r\n> Train on 9372 samples, validate on 2343 samples\r\n> Epoch 1/10\r\n> 9372/9372 [==============================] - 0s - loss: 0.4628 - precision: 0.9392 - recall: 0.9720 - val_loss: 0.2192 - val_precision: 0.9812 - val_recall: 0.9812\r\n> Epoch 2/10\r\n> 9372/9372 [==============================] - 0s - loss: 0.2203 - precision: 0.9791 - recall: 0.9791 - val_loss: 0.1182 - val_precision: 0.9812 - val_recall: 0.9812\r\n> Epoch 3/10\r\n> 9372/9372 [==============================] - 0s - loss: 0.1525 - precision: 0.9791 - recall: 0.9791 - val_loss: 0.1031 - val_precision: 0.9812 - val_recall: 0.9812\r\n> Epoch 4/10\r\n> 9372/9372 [==============================] - 0s - loss: 0.1269 - precision: 0.9791 - recall: 0.9791 - val_loss: 0.0967 - val_precision: 0.9812 - val_recall: 0.9812\r\n> Epoch 5/10\r\n> 9372/9372 [==============================] - 0s - loss: 0.1202 - precision: 0.9791 - recall: 0.9791 - val_loss: 0.0907 - val_precision: 0.9812 - val_recall: 0.9812\r\n> Epoch 6/10\r\n> 9372/9372 [==============================] - 0s - loss: 0.1172 - precision: 0.9791 - recall: 0.9791 - val_loss: 0.0904 - val_precision: 0.9812 - val_recall: 0.9812\r\n> Epoch 7/10\r\n> 9372/9372 [==============================] - 0s - loss: 0.1134 - precision: 0.9791 - recall: 0.9791 - val_loss: 0.0901 - val_precision: 0.9812 - val_recall: 0.9812\r\n> Epoch 8/10\r\n> 9372/9372 [==============================] - 0s - loss: 0.1111 - precision: 0.9791 - recall: 0.9791 - val_loss: 0.0877 - val_precision: 0.9812 - val_recall: 0.9812\r\n> Epoch 9/10\r\n> 9372/9372 [==============================] - 0s - loss: 0.1097 - precision: 0.9791 - recall: 0.9791 - val_loss: 0.0856 - val_precision: 0.9812 - val_recall: 0.9812\r\n> Epoch 10/10\r\n> 9372/9372 [==============================] - 0s - loss: 0.1070 - precision: 0.9791 - recall: 0.9791 - val_loss: 0.0869 - val_precision: 0.9812 - val_recall: 0.9812\r\n>  32/515 [>.............................] - ETA: 0s\r\n> ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321644497/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321703382",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-321703382",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 321703382,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTcwMzM4Mg==",
          "user": {
            "login": "rimjhim365",
            "id": 30913692,
            "node_id": "MDQ6VXNlcjMwOTEzNjky",
            "avatar_url": "https://avatars.githubusercontent.com/u/30913692?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rimjhim365",
            "html_url": "https://github.com/rimjhim365",
            "followers_url": "https://api.github.com/users/rimjhim365/followers",
            "following_url": "https://api.github.com/users/rimjhim365/following{/other_user}",
            "gists_url": "https://api.github.com/users/rimjhim365/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rimjhim365/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rimjhim365/subscriptions",
            "organizations_url": "https://api.github.com/users/rimjhim365/orgs",
            "repos_url": "https://api.github.com/users/rimjhim365/repos",
            "events_url": "https://api.github.com/users/rimjhim365/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rimjhim365/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-10T23:52:56Z",
          "updated_at": "2017-08-10T23:52:56Z",
          "author_association": "NONE",
          "body": "@baharian @unnir I am stuck on this problem! Did you get any solution?    ",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321703382/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321735579",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-321735579",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 321735579,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTczNTU3OQ==",
          "user": {
            "login": "unnir",
            "id": 1344378,
            "node_id": "MDQ6VXNlcjEzNDQzNzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1344378?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/unnir",
            "html_url": "https://github.com/unnir",
            "followers_url": "https://api.github.com/users/unnir/followers",
            "following_url": "https://api.github.com/users/unnir/following{/other_user}",
            "gists_url": "https://api.github.com/users/unnir/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/unnir/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/unnir/subscriptions",
            "organizations_url": "https://api.github.com/users/unnir/orgs",
            "repos_url": "https://api.github.com/users/unnir/repos",
            "events_url": "https://api.github.com/users/unnir/events{/privacy}",
            "received_events_url": "https://api.github.com/users/unnir/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-11T05:42:14Z",
          "updated_at": "2017-08-11T05:42:14Z",
          "author_association": "NONE",
          "body": "@baharian metrics functions **work**, please look on your data, probably you have not normalised it, or try to tune hyper parameters of your model (opt function, batch size, number of layers) \r\n\r\n@rimjhim365 what kind of problem do you have?",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321735579/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321738221",
          "html_url": "https://github.com/keras-team/keras/issues/5400#issuecomment-321738221",
          "issue_url": "https://api.github.com/repos/keras-team/keras/issues/5400",
          "id": 321738221,
          "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTczODIyMQ==",
          "user": {
            "login": "rimjhim365",
            "id": 30913692,
            "node_id": "MDQ6VXNlcjMwOTEzNjky",
            "avatar_url": "https://avatars.githubusercontent.com/u/30913692?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rimjhim365",
            "html_url": "https://github.com/rimjhim365",
            "followers_url": "https://api.github.com/users/rimjhim365/followers",
            "following_url": "https://api.github.com/users/rimjhim365/following{/other_user}",
            "gists_url": "https://api.github.com/users/rimjhim365/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rimjhim365/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rimjhim365/subscriptions",
            "organizations_url": "https://api.github.com/users/rimjhim365/orgs",
            "repos_url": "https://api.github.com/users/rimjhim365/repos",
            "events_url": "https://api.github.com/users/rimjhim365/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rimjhim365/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2017-08-11T06:12:16Z",
          "updated_at": "2017-08-11T06:12:16Z",
          "author_association": "NONE",
          "body": "![img_20170811_113503289](https://user-images.githubusercontent.com/30913692/29202875-d8c2ab5e-7e89-11e7-9054-7756f7b2ca60.jpg)\r\n@unnir   The value for other metrics like precision and recall are coming same as accuracy",
          "reactions": {
            "url": "https://api.github.com/repos/keras-team/keras/issues/comments/321738221/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    }
  ],
  "recent_commits": [
    {
      "sha": "df481e909a30e303e9a6d561bc17d9fa4d8171e4",
      "node_id": "C_kwDOAffHH9oAKGRmNDgxZTkwOWEzMGUzMDNlOWE2ZDU2MWJjMTdkOWZhNGQ4MTcxZTQ",
      "commit": {
        "author": {
          "name": "Jyotinder Singh",
          "email": "33001894+JyotinderSingh@users.noreply.github.com",
          "date": "2025-07-17T00:30:00Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-17T00:30:00Z"
        },
        "message": "Adds int4 quantization support to EinsumDense (#21471)\n\n* einsum dense int4 support\n\n* simplify dense lora kernel merge\n\n* Fix docstring\n\n* reduce duplicated code\n\n* adjust numerics tolerance for int4\n\n* reduce code duplication in int4 and int8 paths",
        "tree": {
          "sha": "5c0b556e201e6e8cac09ff16825c95c07f591f4e",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/5c0b556e201e6e8cac09ff16825c95c07f591f4e"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/df481e909a30e303e9a6d561bc17d9fa4d8171e4",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoeEQICRC1aQ7uu5UhlAAAtJMQAH41uJYWZykKW/OjpHKHAOWU\niuEsrqD0Ei98Awq54XSv9q7/MXXtqWwzfLBOmSSxOek7iWt28smJeGJAOyEM2ruR\n0Ox+BUVgZEx58ZWy+cjf35yUbWkmsdyCwjQEzu94SRnwUY5xPxUobryoawp8Ey0j\nObzo4a5z6PHzemx1p1D/+5I/R4/IieXCWJgb6KOpqcG/MfEDdpge1C/Sxx6CYX+G\nZTlopm1gzRK9KvgUGgW962tIRNep5Ma4tiNjHl2MBDfZm1FLxjJ1fiv0Jv15RHdo\n5Bi7yZPIMp5A51qHKCR7jMi8RH09gxxGpEcQaB3vMslCNP918HsZidrN7YiH9Eab\nIIyyEs4Y3QcSlnyiWnXSHk6DNpN864K7ig2jtH5ME+a2SrvtL2T+hVZuErzXv92h\n75w55bSFIwPlJGCoUrQEOaPGg53Vz07i6di8LiRBjZmi1bfY6BHNLjA8iK/jli6J\n7J+P5/fi04LIa4fXdLT1M3O902q1WaxjTOuXNqsHhdHoy7vCGW/aI2F3w1URTM4k\nDipJK9ozrJkTKjl5hZRFbr2VzMEyQly+XfBoTBszMM4jopa1CZQj2wqYCODn5Pa/\nx6XlIeEDzjzKP6Hvk80PtrOz0uU4jvEROSqs3ScGevrHjUkK4bd7Tw2JGvr/glRt\nfL5uZ5YT4x+V3MeFSjVd\n=P5ZR\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 5c0b556e201e6e8cac09ff16825c95c07f591f4e\nparent b6f178eec08f239b367c05c8aa8f3621b2d31c68\nauthor Jyotinder Singh <33001894+JyotinderSingh@users.noreply.github.com> 1752712200 +0530\ncommitter GitHub <noreply@github.com> 1752712200 -0700\n\nAdds int4 quantization support to EinsumDense (#21471)\n\n* einsum dense int4 support\n\n* simplify dense lora kernel merge\n\n* Fix docstring\n\n* reduce duplicated code\n\n* adjust numerics tolerance for int4\n\n* reduce code duplication in int4 and int8 paths",
          "verified_at": "2025-07-17T00:30:01Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/df481e909a30e303e9a6d561bc17d9fa4d8171e4",
      "html_url": "https://github.com/keras-team/keras/commit/df481e909a30e303e9a6d561bc17d9fa4d8171e4",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/df481e909a30e303e9a6d561bc17d9fa4d8171e4/comments",
      "author": {
        "login": "JyotinderSingh",
        "id": 33001894,
        "node_id": "MDQ6VXNlcjMzMDAxODk0",
        "avatar_url": "https://avatars.githubusercontent.com/u/33001894?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JyotinderSingh",
        "html_url": "https://github.com/JyotinderSingh",
        "followers_url": "https://api.github.com/users/JyotinderSingh/followers",
        "following_url": "https://api.github.com/users/JyotinderSingh/following{/other_user}",
        "gists_url": "https://api.github.com/users/JyotinderSingh/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/JyotinderSingh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/JyotinderSingh/subscriptions",
        "organizations_url": "https://api.github.com/users/JyotinderSingh/orgs",
        "repos_url": "https://api.github.com/users/JyotinderSingh/repos",
        "events_url": "https://api.github.com/users/JyotinderSingh/events{/privacy}",
        "received_events_url": "https://api.github.com/users/JyotinderSingh/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "b6f178eec08f239b367c05c8aa8f3621b2d31c68",
          "url": "https://api.github.com/repos/keras-team/keras/commits/b6f178eec08f239b367c05c8aa8f3621b2d31c68",
          "html_url": "https://github.com/keras-team/keras/commit/b6f178eec08f239b367c05c8aa8f3621b2d31c68"
        }
      ]
    },
    {
      "sha": "b6f178eec08f239b367c05c8aa8f3621b2d31c68",
      "node_id": "C_kwDOAffHH9oAKGI2ZjE3OGVlYzA4ZjIzOWIzNjdjMDVjOGFhOGYzNjIxYjJkMzFjNjg",
      "commit": {
        "author": {
          "name": "RAHUL KUMAR",
          "email": "pctablet505@gmail.com",
          "date": "2025-07-16T23:08:54Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T23:08:54Z"
        },
        "message": "Fix LogSumExp Implementation for OpenVINO backend. (#21480)\n\n* Update math.py\n\n* Update excluded_concrete_tests.txt",
        "tree": {
          "sha": "910be01b75da60cc6b09412c5a2b2185dac95dbb",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/910be01b75da60cc6b09412c5a2b2185dac95dbb"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/b6f178eec08f239b367c05c8aa8f3621b2d31c68",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoeDEGCRC1aQ7uu5UhlAAA5CwQAKFWALMxUhPGzHzkusQaKYKo\nXdpMpEUgHl/jqbZpz6Tw5ySxxXErQCo8eV+50Q38qoRbzASiy2sDp9x335yCKPwo\nDj9vPneFARe6tWTWXXRFcaM6LvSrwZHfdayPanRUm7cEpQwxQ9tHdA7Hj4t99YCW\ng90jJ3WXClIJK2AhDaFWYQ06xadlMo0xn+bcmGYTN03WWmSzzu8sq7nZs2y1Phrb\nZVOxedkNWt874q0GdrsOfAvC55WVqHjKQMa3pDOeg4IQlKDi0uw0j8OWf+tLHtuQ\nN6P+qSpKcIQOKm7sTOlDUV3mp/H51l4+6hO/UMAC36pKTFTt3Ef8XeF4sZK59qVN\ndWkXJ5hAxOSDTOmhYmjhK/0lBzClQomksuDcbHM0DL7TEi9sLqXbXrhYRFb7sQvh\n11sba/a6FxVBdV6YUgL6yMS/Dti3yXfn26Odo0LK23IPxEcmVlBKnoZU5IoS8vkF\nusj0MyWnz6r5Yvj4LpwcMUDx2OBU3aBbQR7I0HLa0AAjXhvpybrB/kfo5yJ1caSo\nWND8oaf9LxkJ3LcEC4zy91JhUr9HrzSW/EgSBmprtYdxvyFS1YcyWHEffWbLxuyo\nva5QuPOLgSQkCjHAJoZqVbZDyB/D0UbvI6/yMvXXSzio5HTkzR4Z2/oGd0s7r4rI\ngQ9GQ6wb6+H9ZdJpZIMZ\n=mDSg\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 910be01b75da60cc6b09412c5a2b2185dac95dbb\nparent 503bcf56180d49641db2afcd3d57c4c20e3be3bf\nauthor RAHUL KUMAR <pctablet505@gmail.com> 1752707334 +0530\ncommitter GitHub <noreply@github.com> 1752707334 -0700\n\nFix LogSumExp Implementation for OpenVINO backend. (#21480)\n\n* Update math.py\n\n* Update excluded_concrete_tests.txt",
          "verified_at": "2025-07-16T23:08:55Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/b6f178eec08f239b367c05c8aa8f3621b2d31c68",
      "html_url": "https://github.com/keras-team/keras/commit/b6f178eec08f239b367c05c8aa8f3621b2d31c68",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/b6f178eec08f239b367c05c8aa8f3621b2d31c68/comments",
      "author": {
        "login": "pctablet505",
        "id": 55033230,
        "node_id": "MDQ6VXNlcjU1MDMzMjMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/55033230?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pctablet505",
        "html_url": "https://github.com/pctablet505",
        "followers_url": "https://api.github.com/users/pctablet505/followers",
        "following_url": "https://api.github.com/users/pctablet505/following{/other_user}",
        "gists_url": "https://api.github.com/users/pctablet505/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/pctablet505/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/pctablet505/subscriptions",
        "organizations_url": "https://api.github.com/users/pctablet505/orgs",
        "repos_url": "https://api.github.com/users/pctablet505/repos",
        "events_url": "https://api.github.com/users/pctablet505/events{/privacy}",
        "received_events_url": "https://api.github.com/users/pctablet505/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "503bcf56180d49641db2afcd3d57c4c20e3be3bf",
          "url": "https://api.github.com/repos/keras-team/keras/commits/503bcf56180d49641db2afcd3d57c4c20e3be3bf",
          "html_url": "https://github.com/keras-team/keras/commit/503bcf56180d49641db2afcd3d57c4c20e3be3bf"
        }
      ]
    },
    {
      "sha": "503bcf56180d49641db2afcd3d57c4c20e3be3bf",
      "node_id": "C_kwDOAffHH9oAKDUwM2JjZjU2MTgwZDQ5NjQxZGIyYWZjZDNkNTdjNGMyMGUzYmUzYmY",
      "commit": {
        "author": {
          "name": "Ugeun Park",
          "email": "pwg2004@gmail.com",
          "date": "2025-07-15T15:54:46Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-15T15:54:46Z"
        },
        "message": "Implement heaviside function in keras.ops (#21474)\n\n* Add heaviside for numpy.py\n\n* Add heaviside for numpy.py\n\n* Add heaviside for ops\n\n* Add test case\n\n* Add test cases\n\n* Correct code by gemini assist\n\n* Correct code by gemini assist\n\n* update excluded_concrete_tests.txt\n\n* Update description to use backticks",
        "tree": {
          "sha": "ed120877653c87fbb2522505d9c7f3bba826e0db",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/ed120877653c87fbb2522505d9c7f3bba826e0db"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/503bcf56180d49641db2afcd3d57c4c20e3be3bf",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJodnnGCRC1aQ7uu5UhlAAA+y0QAH7dbvS8GtRpCH7zXE9cadee\nHhK/zaiPKkg+4e/YL3IiPrbnCStc/UqQ7ip1REe5SMTA2/HrvEcTGbisPGVlmw0e\nLrGlsZp+pVISQnOfT7XIBAPD4QhGXErck3S36bydG25352d3fAIF2V+s4+eCh9u0\n2c/WC+ZQ+NG2tQpGYGICt9yGf73aAbA9giJkx7l9H6/LAvrTZ0OprjUDE9/OeuTe\n1HE/6gitIPUV/aD9bPTaEY/tfEX/Gobw30ujRrMvSc6HyZzipUwBX+ocdCWZ24XK\nIe4qaqjuN3jmW9XPJwjN4fpwDWerAvqG1esZJWlphlbmZeFXm6p7byJMzF+77cZG\nzj67G5WN0yhcQqiByycGMW6PuQoYTxRQGatVHhmz4KWeKYnMmO821fDli6MDrnMU\nF0czg0Z4AQMsoe1ogmlIwjuW3a/I9Pwverwt+pJqMwCBwnDj26d/xnP9ml9rwdPF\nKasSAcPQs7nAroFUCtJfDh7Xrd2KKVxXyo/oMCxXltr/TwPH9R7Z825CWIqMi045\nnxTFDDzRhoYnGIJc0OoMUTwPFZ+VXk2Z6Dbn9erzieCJumnMPka/U5cLhe9Jwsiy\nAu8iS6HxHf6i/ThFWzmmvMp4xBqDR6JpmXVXPnqBFhIjTcS8KwXZiU4toYXs1nmi\nQPGNph+sBG/R6VxUWVNf\n=YNWW\n-----END PGP SIGNATURE-----\n",
          "payload": "tree ed120877653c87fbb2522505d9c7f3bba826e0db\nparent a9688b49cf9e16c548101787fe801107cd139c69\nauthor Ugeun Park <pwg2004@gmail.com> 1752594886 +0900\ncommitter GitHub <noreply@github.com> 1752594886 -0700\n\nImplement heaviside function in keras.ops (#21474)\n\n* Add heaviside for numpy.py\n\n* Add heaviside for numpy.py\n\n* Add heaviside for ops\n\n* Add test case\n\n* Add test cases\n\n* Correct code by gemini assist\n\n* Correct code by gemini assist\n\n* update excluded_concrete_tests.txt\n\n* Update description to use backticks",
          "verified_at": "2025-07-15T15:54:47Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/503bcf56180d49641db2afcd3d57c4c20e3be3bf",
      "html_url": "https://github.com/keras-team/keras/commit/503bcf56180d49641db2afcd3d57c4c20e3be3bf",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/503bcf56180d49641db2afcd3d57c4c20e3be3bf/comments",
      "author": {
        "login": "shashaka",
        "id": 37043543,
        "node_id": "MDQ6VXNlcjM3MDQzNTQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/37043543?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shashaka",
        "html_url": "https://github.com/shashaka",
        "followers_url": "https://api.github.com/users/shashaka/followers",
        "following_url": "https://api.github.com/users/shashaka/following{/other_user}",
        "gists_url": "https://api.github.com/users/shashaka/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/shashaka/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/shashaka/subscriptions",
        "organizations_url": "https://api.github.com/users/shashaka/orgs",
        "repos_url": "https://api.github.com/users/shashaka/repos",
        "events_url": "https://api.github.com/users/shashaka/events{/privacy}",
        "received_events_url": "https://api.github.com/users/shashaka/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "a9688b49cf9e16c548101787fe801107cd139c69",
          "url": "https://api.github.com/repos/keras-team/keras/commits/a9688b49cf9e16c548101787fe801107cd139c69",
          "html_url": "https://github.com/keras-team/keras/commit/a9688b49cf9e16c548101787fe801107cd139c69"
        }
      ]
    },
    {
      "sha": "a9688b49cf9e16c548101787fe801107cd139c69",
      "node_id": "C_kwDOAffHH9oAKGE5Njg4YjQ5Y2Y5ZTE2YzU0ODEwMTc4N2ZlODAxMTA3Y2QxMzljNjk",
      "commit": {
        "author": {
          "name": "Sonali Kumari",
          "email": "kumsonali@google.com",
          "date": "2025-07-14T20:59:44Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-14T20:59:44Z"
        },
        "message": "Fix: Update SparseCategoricalCrossentropy example (#21427)",
        "tree": {
          "sha": "bef6eb54ac7d08289f09e2d8ae6519038dac4659",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/bef6eb54ac7d08289f09e2d8ae6519038dac4659"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/a9688b49cf9e16c548101787fe801107cd139c69",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJodW/ACRC1aQ7uu5UhlAAApVgQACnCMjXJZI9vrrzwXl1bnUdU\n48UHkVPQsme8EU1Oj1pzp5tcusGHxrNPaqZNUxqicxCyQ7qUrUq8wwAYUIslVfqm\n+RB82T9zWYUMmjQv8vOJzxzp8arJgkvJBENhZBC2632cPagiImZmGcN5kHWUTQxX\nJWCHNY3pu3u8QwlmHmeYqz3P5dzMMbjrbXObiEMJGaQY6oUCoLoM/kT7RXE1OkBy\nt6b64oEEZUWZoGDld29zhYrFX7kZJNU/FD0ObMVhzv4HBzqTlLNA4/DQq3Li1zzX\nuMQn2bxqGukrN2ia4gUEHMiGlgGlWdpNQFnXMJ5ebZpgckRFPiGxCR/K66DZaGDq\nvj/l9H/Nocw+dj7k3PdZKnOsMWr/hzymbMBXwCC2Gl1Kbfz5En3Q5ivgPo72pWqD\nDCxuUn9u8IFoYkalX1GFYOdVboL+03PcrTqwR1KBESJ+mqJwZeqXN1T/n/tsqbA6\npwa7QAa4Dlwwa8yDOLj0AyNG/FafA9QtE3HchuWRIB9RuN0PLM7mntoLQzR5JKDX\n1hkuSuNxUTz0wEtxoJfVrj1gvrPJiuyHzy8BOweVfpXX8mSxoz9187DpioIV1bGG\njX/TtK1W1XgAUY94kfCcv0TCNbPGSOUwnn2n5r3hkl3JV4ElC6PxLaHBWQC87V9M\nVxrho9fIWMPcG3RIOGbc\n=nxeh\n-----END PGP SIGNATURE-----\n",
          "payload": "tree bef6eb54ac7d08289f09e2d8ae6519038dac4659\nparent d55a76728bec0bbe4ddc7f122e02daa48c694072\nauthor Sonali Kumari <kumsonali@google.com> 1752526784 +0530\ncommitter GitHub <noreply@github.com> 1752526784 -0700\n\nFix: Update SparseCategoricalCrossentropy example (#21427)\n\n",
          "verified_at": "2025-07-14T20:59:45Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/a9688b49cf9e16c548101787fe801107cd139c69",
      "html_url": "https://github.com/keras-team/keras/commit/a9688b49cf9e16c548101787fe801107cd139c69",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/a9688b49cf9e16c548101787fe801107cd139c69/comments",
      "author": {
        "login": "sonali-kumari1",
        "id": 180251223,
        "node_id": "U_kgDOCr5qVw",
        "avatar_url": "https://avatars.githubusercontent.com/u/180251223?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sonali-kumari1",
        "html_url": "https://github.com/sonali-kumari1",
        "followers_url": "https://api.github.com/users/sonali-kumari1/followers",
        "following_url": "https://api.github.com/users/sonali-kumari1/following{/other_user}",
        "gists_url": "https://api.github.com/users/sonali-kumari1/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sonali-kumari1/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sonali-kumari1/subscriptions",
        "organizations_url": "https://api.github.com/users/sonali-kumari1/orgs",
        "repos_url": "https://api.github.com/users/sonali-kumari1/repos",
        "events_url": "https://api.github.com/users/sonali-kumari1/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sonali-kumari1/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "d55a76728bec0bbe4ddc7f122e02daa48c694072",
          "url": "https://api.github.com/repos/keras-team/keras/commits/d55a76728bec0bbe4ddc7f122e02daa48c694072",
          "html_url": "https://github.com/keras-team/keras/commit/d55a76728bec0bbe4ddc7f122e02daa48c694072"
        }
      ]
    },
    {
      "sha": "d55a76728bec0bbe4ddc7f122e02daa48c694072",
      "node_id": "C_kwDOAffHH9oAKGQ1NWE3NjcyOGJlYzBiYmU0ZGRjN2YxMjJlMDJkYWE0OGM2OTQwNzI",
      "commit": {
        "author": {
          "name": "Mohamed Ashraf",
          "email": "117025882+Mohamed-Ashraf273@users.noreply.github.com",
          "date": "2025-07-14T16:33:09Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-14T16:33:09Z"
        },
        "message": "[OpenVINO backend] supporting mul with bools (#21411)",
        "tree": {
          "sha": "afa5f574187b790e35461fe0dd1f377193c02de0",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/afa5f574187b790e35461fe0dd1f377193c02de0"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/d55a76728bec0bbe4ddc7f122e02daa48c694072",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJodTFFCRC1aQ7uu5UhlAAApMUQAIW2T2Bs5ngrELO+GZxFx/Gk\nwSDtrpGRlz8vauPsmvcHAqCXUgbae1O47x5VujAn6zuBcZ5LFca7TOZutbHBlHDq\nvveCvuJbkS8uQwnCWmDwa9DJoyy3Y8fSNLVcGEawRaVQw84j1LquuT5kt5l0WY+K\nknNYZFTA51F0ya6xsq/0XnF4le8LtYWujkGU3KFNM/oY3pyhJsc2FHXVE82R9N0W\nq8Vvrwsu/zxTONbWN468b28oVEcxYWBCcjyuZnwS8SeSnc5Aq2/svKljutg7tzSr\nP2GY3vrMd9co7lz8D5xcB9VwDUIyFhtWkPdGSZShIjpazckhDbbYoeWEqJy3qjac\nxdqoxrwWMGI0lThw5Xj5pvQ8lc+0WLYIssC6f7Ql2FmgHYk+sP0BI7nrNw8bJ+NG\nBYxKk35XLT+PFQPObkUx7rljun2BoOYIMEB9OkSXJ4Xdmz4GNjccLvLcmdZHlmRF\nk6vbmU0l2mY88HxlR71BuwEc6N0v+AqGcSKRz6v9WQBnwCV7T7tdcnMMJbaru55f\niK9XhXitEwBcF1XRZmfCZ7kACQOIyXx3ibjXKdiLHLg8y8UPWyrB9qAohIZfDmeK\nsAN/BVyUmRb/oy++oPLyyJaruKOEFEugwEb9nLiFm/BUCwWfbBrL3udmPc6qNBoR\nn76F8glyg62vsNhwBrSK\n=O+p+\n-----END PGP SIGNATURE-----\n",
          "payload": "tree afa5f574187b790e35461fe0dd1f377193c02de0\nparent aab446a0e995a321424def8544af2dd7f90918de\nauthor Mohamed Ashraf <117025882+Mohamed-Ashraf273@users.noreply.github.com> 1752510789 +0300\ncommitter GitHub <noreply@github.com> 1752510789 -0700\n\n[OpenVINO backend] supporting mul with bools (#21411)\n\n",
          "verified_at": "2025-07-14T16:33:10Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/d55a76728bec0bbe4ddc7f122e02daa48c694072",
      "html_url": "https://github.com/keras-team/keras/commit/d55a76728bec0bbe4ddc7f122e02daa48c694072",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/d55a76728bec0bbe4ddc7f122e02daa48c694072/comments",
      "author": {
        "login": "Mohamed-Ashraf273",
        "id": 117025882,
        "node_id": "U_kgDOBvmsWg",
        "avatar_url": "https://avatars.githubusercontent.com/u/117025882?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Mohamed-Ashraf273",
        "html_url": "https://github.com/Mohamed-Ashraf273",
        "followers_url": "https://api.github.com/users/Mohamed-Ashraf273/followers",
        "following_url": "https://api.github.com/users/Mohamed-Ashraf273/following{/other_user}",
        "gists_url": "https://api.github.com/users/Mohamed-Ashraf273/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Mohamed-Ashraf273/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Mohamed-Ashraf273/subscriptions",
        "organizations_url": "https://api.github.com/users/Mohamed-Ashraf273/orgs",
        "repos_url": "https://api.github.com/users/Mohamed-Ashraf273/repos",
        "events_url": "https://api.github.com/users/Mohamed-Ashraf273/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Mohamed-Ashraf273/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "aab446a0e995a321424def8544af2dd7f90918de",
          "url": "https://api.github.com/repos/keras-team/keras/commits/aab446a0e995a321424def8544af2dd7f90918de",
          "html_url": "https://github.com/keras-team/keras/commit/aab446a0e995a321424def8544af2dd7f90918de"
        }
      ]
    },
    {
      "sha": "aab446a0e995a321424def8544af2dd7f90918de",
      "node_id": "C_kwDOAffHH9oAKGFhYjQ0NmEwZTk5NWEzMjE0MjRkZWY4NTQ0YWYyZGQ3ZjkwOTE4ZGU",
      "commit": {
        "author": {
          "name": "Mohamed Ashraf",
          "email": "117025882+Mohamed-Ashraf273@users.noreply.github.com",
          "date": "2025-07-14T16:32:33Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-14T16:32:33Z"
        },
        "message": "[OpenVINO backend] support top_k (#21436)",
        "tree": {
          "sha": "2a9a42bc73bc72adc4e92445b61aa4e05b66a229",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/2a9a42bc73bc72adc4e92445b61aa4e05b66a229"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/aab446a0e995a321424def8544af2dd7f90918de",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJodTEhCRC1aQ7uu5UhlAAAaKoQAIawWrhUiVSmritYAqAdQRIt\nL5ODBgV0I7uNEZ244pkSSrZPOl6/RYoF3dV+7vIYUqHucZzgqleACAfV3+Bzx9ty\n5Z3A8FK5FjcAiCYXo20Ygwv9fN1CB5Jy1mwJojrf6Jr1/v871jwrPJwUTqrHviV0\nMGOUttdG+3N1rYfRIfeD23Hqw5pWDkX8ueG95IyYG1yKLyEWmK/1O66H+23qjYsd\nOCtn0v0ju1kfz3lSwynhtYrXaGWdeQ+HLy4rPVDyu/zANDxcPE7JyfhnIIIx4fum\nZUU6cpy/a89AukHIufgPF6OYiXtgVTo0RnrgYBDpbtBh3YnO2Tjgiah/jASZsYOq\nmNrEQHTdovlR1hvOv6C5wKggPfANe4MS8KB7rePUt7ZBzyz20BBgYalbojcleEhT\nYYNd3A7deL8+D4spHeE5kYxfIuQ3rUbQIq/9XGlFwETtGk61eFWKdqihDyFOQQ7t\npz7S0G9pxGmOA53YybbqMWCJ2FwGHGXW0ALoK26lvi/Io/zYAWFaQWQEY/KYkmSD\nTgfBsLX1TCP29F3C1DEa9thhH6+UMo+i1UPBBOVPIfBmiZpmUMw3c/Nnf97vskHm\nY0ykVHCeJ83Eif77JBtom8bt1XLm0NBdPFy8Eic9r7sCeo57jscyqZnZDt0inTMi\n8zGIVjqLC1Kcq2PiJ/Mg\n=spgg\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 2a9a42bc73bc72adc4e92445b61aa4e05b66a229\nparent 2b394c6c0887b261aa121832b83d1fc068d78e19\nauthor Mohamed Ashraf <117025882+Mohamed-Ashraf273@users.noreply.github.com> 1752510753 +0300\ncommitter GitHub <noreply@github.com> 1752510753 -0700\n\n[OpenVINO backend] support top_k (#21436)\n\n",
          "verified_at": "2025-07-14T16:32:34Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/aab446a0e995a321424def8544af2dd7f90918de",
      "html_url": "https://github.com/keras-team/keras/commit/aab446a0e995a321424def8544af2dd7f90918de",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/aab446a0e995a321424def8544af2dd7f90918de/comments",
      "author": {
        "login": "Mohamed-Ashraf273",
        "id": 117025882,
        "node_id": "U_kgDOBvmsWg",
        "avatar_url": "https://avatars.githubusercontent.com/u/117025882?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Mohamed-Ashraf273",
        "html_url": "https://github.com/Mohamed-Ashraf273",
        "followers_url": "https://api.github.com/users/Mohamed-Ashraf273/followers",
        "following_url": "https://api.github.com/users/Mohamed-Ashraf273/following{/other_user}",
        "gists_url": "https://api.github.com/users/Mohamed-Ashraf273/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Mohamed-Ashraf273/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Mohamed-Ashraf273/subscriptions",
        "organizations_url": "https://api.github.com/users/Mohamed-Ashraf273/orgs",
        "repos_url": "https://api.github.com/users/Mohamed-Ashraf273/repos",
        "events_url": "https://api.github.com/users/Mohamed-Ashraf273/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Mohamed-Ashraf273/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "2b394c6c0887b261aa121832b83d1fc068d78e19",
          "url": "https://api.github.com/repos/keras-team/keras/commits/2b394c6c0887b261aa121832b83d1fc068d78e19",
          "html_url": "https://github.com/keras-team/keras/commit/2b394c6c0887b261aa121832b83d1fc068d78e19"
        }
      ]
    },
    {
      "sha": "2b394c6c0887b261aa121832b83d1fc068d78e19",
      "node_id": "C_kwDOAffHH9oAKDJiMzk0YzZjMDg4N2IyNjFhYTEyMTgzMmI4M2QxZmMwNjhkNzhlMTk",
      "commit": {
        "author": {
          "name": "RAHUL KUMAR",
          "email": "pctablet505@gmail.com",
          "date": "2025-07-14T16:30:04Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-14T16:30:04Z"
        },
        "message": "Pctablet505 fix map coordinates (#21473)\n\n* Update nn.py\n\n* Update nn.py\n\n* Update nn.py\n\n* Update nn.py\n\n* Update nn.py\n\nCorrected indentation in doc string\n\n* Update nn.py\n\n* Update random_grayscale.py\n\nFixed issue with passing a single image without batch dimension.\n\n* Update keras/src/layers/preprocessing/image_preprocessing/random_grayscale.py\n\nCo-authored-by: Jyotinder Singh <33001894+JyotinderSingh@users.noreply.github.com>\n\n* Update random_grayscale_test.py\n\nTest case for unbatched inputs\n\n* code reformat\n\n* Update random_grayscale_test.py\n\nTestcase for checking both unbatched and batched single image inputs.\n\n* changed compute_output_spec\n\nThere was a bug, and it was causing cycle in graph.\n\n* Update random_grayscale.py\n\nremoved the use of tree.map_structure\n\n* Reapply \"Fixed issue with dot_product_attention when using TPU.  (#21254)\" (#21329)\n\nThis reverts commit 81821e02486886436d10bb59bdfdf1715ebcca1a.\n\n* Improve error handling in _can_use_flash_attention for better debugging\n\nEnhanced the _can_use_flash_attention function to provide more detailed\nerror messages when flash attention compatibility checks fail.\n\nChanges:\n- Replace generic exception catching with specific error propagation\n- When raise_error=True, directly re-raise original exceptions from\n  check_layout() and check_is_flash_attention() functions\n- Preserve detailed error context from JAX internal validation functions\n- Maintain existing behavior when raise_error=False (returns False)\n\nThis improves debugging experience by surfacing specific technical details\nabout tensor layout incompatibilities, cuDNN version requirements, and\nother flash attention compatibility issues.\n\nRelates to keras-hub PR #2257 and addresses flash attention debugging needs.\n\n* Revert \"Improve error handling in _can_use_flash_attention for better debugging\"\n\nThis reverts commit 7a0c5473c3091a2c90db031515c1c3f8daae8e7a.\n\n* Fix JAX API compatibility and improve error handling in `_can_use_flash_attention`\n\nChanges:\n- Add missing q_offsets=None and kv_offsets=None parameters to check_layout()\n  call to match updated JAX function signature\n- Replace bare `except:` with `except Exception as e:` and `raise e` to\n  preserve detailed error messages from JAX validation functions\n- Maintain existing fallback behavior when raise_error=False\n\nThis resolves compatibility issues with newer JAX versions and improves\ndebugging experience by surfacing specific technical details about\nflash attention compatibility failures.\n\n* Updated `dot_product_attention`\n\nSimplified the check for `flasth_attention` by removing redundant checks that are already done in `_can_use_flash_attention`.\n\n* Update nn.py\n\n* Update nn.py\n\n* Update image.py\n\n* Update keras/src/backend/tensorflow/image.py\n\nCo-authored-by: gemini-code-assist[bot] <176961590+gemini-code-assist[bot]@users.noreply.github.com>\n\n* Revert \"Update keras/src/backend/tensorflow/image.py\"\n\nThis reverts commit cb7e95525e9ab372678992e9ede6f030fc5daba5.\n\n* Update image.py\n\n* Update image.py\n\n---------\n\nCo-authored-by: Jyotinder Singh <33001894+JyotinderSingh@users.noreply.github.com>\nCo-authored-by: gemini-code-assist[bot] <176961590+gemini-code-assist[bot]@users.noreply.github.com>",
        "tree": {
          "sha": "bfdce9e282f9334db6e3a5486797e9ccda2bbc91",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/bfdce9e282f9334db6e3a5486797e9ccda2bbc91"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/2b394c6c0887b261aa121832b83d1fc068d78e19",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJodTCMCRC1aQ7uu5UhlAAAR5kQAFt1yrrLJWlLoCsQwxA81yT8\nS2XcbTQunaNQX1Rg9qYBPwQgLMqI0g1n8HX/jFRQQpyqmL9fJrRWEkgTxQGu+cnK\nxphPuHMo26hlJDZpAX2oRTHA40/1hDDq8lrIb+IpaU5GxRozVSR/c5ueBY4eYabc\n0ULJgwc1mXtQmNrkGHRm4JcvUq9bp4v4g/M9oW9VMHdFhEV4M5dmzf/39fzMxewC\nKAKG2zGNKr4WkSIdUiwvCDSjnscgmuh2z3qoPGxMRWVewdz7Uk0kDnOtOP678M3k\nssg4dMS003u0jx+eu0PB41S21uCFfEpf+DIYd+VxaDt3Rott537dwM17kBk/YfQR\nuiAMMoaGzIVdI3VK0lyUG+ZWAcgQyp7fYMrADIth2XI120HAQBOve9BXR9RJivS4\nrwuWRsu3ZX4VH7uDYSnjQdP0QIR4WA25zejcgs8cGz+sr1lwA3k/+QB4uxRLuivZ\nN1WrB3zxP45R2BKKTe/NMawFPDu6ZZSprN3/YLbbfIMuMip6yDG9MUSljEv58Of+\nToWw9R/UMtmODksNBnzYoo+XE3zNDT60MCQ+r0Cx2ZGYxJcLkK7Gl5+FIlGw6d3k\nFPHJtsder7dU9VPTF02Z5L92AHhMSJyFedOLMgHu81+SN/ax3zNG/5nquTnLP8pO\nI8WpaLHcuzWFa4ulq2eD\n=Fbl0\n-----END PGP SIGNATURE-----\n",
          "payload": "tree bfdce9e282f9334db6e3a5486797e9ccda2bbc91\nparent ec83f72e269493f598b4219199a774cd9787f847\nauthor RAHUL KUMAR <pctablet505@gmail.com> 1752510604 +0530\ncommitter GitHub <noreply@github.com> 1752510604 -0700\n\nPctablet505 fix map coordinates (#21473)\n\n* Update nn.py\n\n* Update nn.py\n\n* Update nn.py\n\n* Update nn.py\n\n* Update nn.py\n\nCorrected indentation in doc string\n\n* Update nn.py\n\n* Update random_grayscale.py\n\nFixed issue with passing a single image without batch dimension.\n\n* Update keras/src/layers/preprocessing/image_preprocessing/random_grayscale.py\n\nCo-authored-by: Jyotinder Singh <33001894+JyotinderSingh@users.noreply.github.com>\n\n* Update random_grayscale_test.py\n\nTest case for unbatched inputs\n\n* code reformat\n\n* Update random_grayscale_test.py\n\nTestcase for checking both unbatched and batched single image inputs.\n\n* changed compute_output_spec\n\nThere was a bug, and it was causing cycle in graph.\n\n* Update random_grayscale.py\n\nremoved the use of tree.map_structure\n\n* Reapply \"Fixed issue with dot_product_attention when using TPU.  (#21254)\" (#21329)\n\nThis reverts commit 81821e02486886436d10bb59bdfdf1715ebcca1a.\n\n* Improve error handling in _can_use_flash_attention for better debugging\n\nEnhanced the _can_use_flash_attention function to provide more detailed\nerror messages when flash attention compatibility checks fail.\n\nChanges:\n- Replace generic exception catching with specific error propagation\n- When raise_error=True, directly re-raise original exceptions from\n  check_layout() and check_is_flash_attention() functions\n- Preserve detailed error context from JAX internal validation functions\n- Maintain existing behavior when raise_error=False (returns False)\n\nThis improves debugging experience by surfacing specific technical details\nabout tensor layout incompatibilities, cuDNN version requirements, and\nother flash attention compatibility issues.\n\nRelates to keras-hub PR #2257 and addresses flash attention debugging needs.\n\n* Revert \"Improve error handling in _can_use_flash_attention for better debugging\"\n\nThis reverts commit 7a0c5473c3091a2c90db031515c1c3f8daae8e7a.\n\n* Fix JAX API compatibility and improve error handling in `_can_use_flash_attention`\n\nChanges:\n- Add missing q_offsets=None and kv_offsets=None parameters to check_layout()\n  call to match updated JAX function signature\n- Replace bare `except:` with `except Exception as e:` and `raise e` to\n  preserve detailed error messages from JAX validation functions\n- Maintain existing fallback behavior when raise_error=False\n\nThis resolves compatibility issues with newer JAX versions and improves\ndebugging experience by surfacing specific technical details about\nflash attention compatibility failures.\n\n* Updated `dot_product_attention`\n\nSimplified the check for `flasth_attention` by removing redundant checks that are already done in `_can_use_flash_attention`.\n\n* Update nn.py\n\n* Update nn.py\n\n* Update image.py\n\n* Update keras/src/backend/tensorflow/image.py\n\nCo-authored-by: gemini-code-assist[bot] <176961590+gemini-code-assist[bot]@users.noreply.github.com>\n\n* Revert \"Update keras/src/backend/tensorflow/image.py\"\n\nThis reverts commit cb7e95525e9ab372678992e9ede6f030fc5daba5.\n\n* Update image.py\n\n* Update image.py\n\n---------\n\nCo-authored-by: Jyotinder Singh <33001894+JyotinderSingh@users.noreply.github.com>\nCo-authored-by: gemini-code-assist[bot] <176961590+gemini-code-assist[bot]@users.noreply.github.com>",
          "verified_at": "2025-07-14T16:30:05Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/2b394c6c0887b261aa121832b83d1fc068d78e19",
      "html_url": "https://github.com/keras-team/keras/commit/2b394c6c0887b261aa121832b83d1fc068d78e19",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/2b394c6c0887b261aa121832b83d1fc068d78e19/comments",
      "author": {
        "login": "pctablet505",
        "id": 55033230,
        "node_id": "MDQ6VXNlcjU1MDMzMjMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/55033230?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pctablet505",
        "html_url": "https://github.com/pctablet505",
        "followers_url": "https://api.github.com/users/pctablet505/followers",
        "following_url": "https://api.github.com/users/pctablet505/following{/other_user}",
        "gists_url": "https://api.github.com/users/pctablet505/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/pctablet505/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/pctablet505/subscriptions",
        "organizations_url": "https://api.github.com/users/pctablet505/orgs",
        "repos_url": "https://api.github.com/users/pctablet505/repos",
        "events_url": "https://api.github.com/users/pctablet505/events{/privacy}",
        "received_events_url": "https://api.github.com/users/pctablet505/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "ec83f72e269493f598b4219199a774cd9787f847",
          "url": "https://api.github.com/repos/keras-team/keras/commits/ec83f72e269493f598b4219199a774cd9787f847",
          "html_url": "https://github.com/keras-team/keras/commit/ec83f72e269493f598b4219199a774cd9787f847"
        }
      ]
    },
    {
      "sha": "ec83f72e269493f598b4219199a774cd9787f847",
      "node_id": "C_kwDOAffHH9oAKGVjODNmNzJlMjY5NDkzZjU5OGI0MjE5MTk5YTc3NGNkOTc4N2Y4NDc",
      "commit": {
        "author": {
          "name": "Hongyu, Chiu",
          "email": "20734616+james77777778@users.noreply.github.com",
          "date": "2025-07-14T16:24:46Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-14T16:24:46Z"
        },
        "message": "Pin onnxscript version. (#21475)",
        "tree": {
          "sha": "4557dadf99366c0cfbfc8d2d8c62cb11938ed1b2",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/4557dadf99366c0cfbfc8d2d8c62cb11938ed1b2"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/ec83f72e269493f598b4219199a774cd9787f847",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJodS9OCRC1aQ7uu5UhlAAALiEQAD7KcZmxF12shDt2PsGjJx++\npMCfCFoFr6Ak8lS7+xJXmRJo1/B2OtSk21jWLWeuZdQR4H9lZNn5oALRfxU674yr\nDlayLA8GGuUlFN2XeD2h2tvykIHqWpWpGgr510xbcpi60w1edrNQsxJ+iFjYHHHF\nbh7dMPPGuiBy2hYO6H2LWUamvLlkx64xVzFFgZ4tskvlEZ7vHwKlqpzCZ4brN64O\nRGoKkzZZHPXHH2hLJ4eVvEntKd1iZRmBaYgUGDV+ejXHIrWse6Hynx0wIDqBvHc6\n1CfrHFrEsJ6M3f9S+HEGRiHJxFd1DYpmf90e6fn8910R1M+Pdit6HUmUvhIIx92o\nLs6XFUn+JTmSWEtcFoxJiKxCzln+MG3CYjIPA17xuB5ekE59R8Gkx+3tbycwYiFi\nPoELF6y/05726xpV+KGY2DeJf0U9PZ3DsHvrrHg3fGXuqF/B63YjhZ4QWiO8tN0g\nRLLhv8eqZyVQayvRRl/CILxbc+ohRyHBEUysle0OeffeJDuKxp1ToAUPEO6e9zP/\nRwxeYcWf3lzvW+RexQrD/GlIYeYJQEKinyDHJWo9vw2BCai+qJ02O6TbJCZuODSB\nGa8FrjEe5vK0lvVRPonh8cp5wr5Z+NCul4EhI1mz9V+s/BDKVPnFi/woWRukIy0n\n/nZQXz5Te74H+7ZxUb+S\n=vDhU\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 4557dadf99366c0cfbfc8d2d8c62cb11938ed1b2\nparent 89d953e1631b72c5b44397388d85f2a46c3f6e42\nauthor Hongyu, Chiu <20734616+james77777778@users.noreply.github.com> 1752510286 +0800\ncommitter GitHub <noreply@github.com> 1752510286 -0700\n\nPin onnxscript version. (#21475)\n\n",
          "verified_at": "2025-07-14T16:24:46Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/ec83f72e269493f598b4219199a774cd9787f847",
      "html_url": "https://github.com/keras-team/keras/commit/ec83f72e269493f598b4219199a774cd9787f847",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/ec83f72e269493f598b4219199a774cd9787f847/comments",
      "author": {
        "login": "james77777778",
        "id": 20734616,
        "node_id": "MDQ6VXNlcjIwNzM0NjE2",
        "avatar_url": "https://avatars.githubusercontent.com/u/20734616?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/james77777778",
        "html_url": "https://github.com/james77777778",
        "followers_url": "https://api.github.com/users/james77777778/followers",
        "following_url": "https://api.github.com/users/james77777778/following{/other_user}",
        "gists_url": "https://api.github.com/users/james77777778/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/james77777778/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/james77777778/subscriptions",
        "organizations_url": "https://api.github.com/users/james77777778/orgs",
        "repos_url": "https://api.github.com/users/james77777778/repos",
        "events_url": "https://api.github.com/users/james77777778/events{/privacy}",
        "received_events_url": "https://api.github.com/users/james77777778/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "89d953e1631b72c5b44397388d85f2a46c3f6e42",
          "url": "https://api.github.com/repos/keras-team/keras/commits/89d953e1631b72c5b44397388d85f2a46c3f6e42",
          "html_url": "https://github.com/keras-team/keras/commit/89d953e1631b72c5b44397388d85f2a46c3f6e42"
        }
      ]
    },
    {
      "sha": "89d953e1631b72c5b44397388d85f2a46c3f6e42",
      "node_id": "C_kwDOAffHH9oAKDg5ZDk1M2UxNjMxYjcyYzViNDQzOTczODhkODVmMmE0NmMzZjZlNDI",
      "commit": {
        "author": {
          "name": "Jyotinder Singh",
          "email": "33001894+JyotinderSingh@users.noreply.github.com",
          "date": "2025-07-11T17:35:06Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-11T17:35:06Z"
        },
        "message": "Adds int4 Quantization Support (#21435)\n\n* int4 quantization support\n\n* refactor packing utils into quantizers\n\n* generalize int4 packing\n\n* restored pytest skip conditions\n\n* fixes 'tuple' object has no attribute 'rank' error\n\n* fix dtype check to work across backends\n\n* fixed torch compatibility\n\n* fixed jax compatibility\n\n* removes redundant self._orig_input_dim initialization\n\n* improves readability\n\n* W4A8\n\n* added _int4_call stub\n\n* Fix bug in unpack that promoted tensor to fp32\n\n* add missing dtype assertion to quantizer test\n\n* docstring fixes\n\n* docstring fixes\n\n* introduces fastpath for dense unpack\n\n* handle negative axis for pack/unpack\n\n* standardize docs formatting\n\n* fix docstring format\n\n* Reduce duplication in _get_kernel_with_merged_lora\n\n* remove unnecessary cast ops\n\n* removes unused var",
        "tree": {
          "sha": "b0b0bc370f11e9e00d125bdda830536a0709b609",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/b0b0bc370f11e9e00d125bdda830536a0709b609"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/89d953e1631b72c5b44397388d85f2a46c3f6e42",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJocUtLCRC1aQ7uu5UhlAAARgYQAIYg66f2t5QQYxvi2ZsDxsC/\ndzLZDZovv0rcjW5hei6KmMUh6a3t6jrl9mucjPSDDArW9xgtrS1hZyeopti9Pt+7\nzGvNpx+yZo7Yj43hmgIC/tFHlM2W7FOftsvJXKRCqqE2XPJCq49vjuDqAACCisVz\nWJmm4nRdC1rYNA+/X0R3QNRU9wIeWb+gTtWdn6Cl+u7LHs6SapHpUh02+IpeL0v6\nkbO/X6GK7CbEphMdesb8gKDsq0tYzUoylnMa5vO0tapnfz1/b/dS/4seANTwk4MD\n3tfKAPLa5XMtctiZX4UsWUiKEKI4hTCTtESNTAXGbH+gB5OncKOv3wfVoUrIbGHL\nX/xZ02AfrMazlMI2gpQGz1qPKyNOr00tCm1VFRF3RrzGadPidYtDYHAUDOTT81n1\nisHJ6Px+hUZyfSpPN7PnPrRiJhO2qvbnKbl0xwrgeNkN90RcueJfhBAgEWwIqNvj\nprrPFl1QzcEF+XQb7+uyTj/IMWwwRQG2UsNnA4S6prO/gjFMQCZibikdGJvgn2U7\nbOdjK8RX1jV9Ic1B23sh7Ge5A0E2lKRnCXyJSlywxXgnFah7FowGWinhwRRPWD0t\nBeu7votDxut3tYG081bJOtWZx4iBKGGlDwaR/u42M+h8eDAedV4hAI1vQgM6gSoJ\nQtLzNlN0EghUhjWyzND/\n=MA3A\n-----END PGP SIGNATURE-----\n",
          "payload": "tree b0b0bc370f11e9e00d125bdda830536a0709b609\nparent e233825bbd4e36ff8b74017156f2ecf9a32f0556\nauthor Jyotinder Singh <33001894+JyotinderSingh@users.noreply.github.com> 1752255306 +0530\ncommitter GitHub <noreply@github.com> 1752255306 -0700\n\nAdds int4 Quantization Support (#21435)\n\n* int4 quantization support\n\n* refactor packing utils into quantizers\n\n* generalize int4 packing\n\n* restored pytest skip conditions\n\n* fixes 'tuple' object has no attribute 'rank' error\n\n* fix dtype check to work across backends\n\n* fixed torch compatibility\n\n* fixed jax compatibility\n\n* removes redundant self._orig_input_dim initialization\n\n* improves readability\n\n* W4A8\n\n* added _int4_call stub\n\n* Fix bug in unpack that promoted tensor to fp32\n\n* add missing dtype assertion to quantizer test\n\n* docstring fixes\n\n* docstring fixes\n\n* introduces fastpath for dense unpack\n\n* handle negative axis for pack/unpack\n\n* standardize docs formatting\n\n* fix docstring format\n\n* Reduce duplication in _get_kernel_with_merged_lora\n\n* remove unnecessary cast ops\n\n* removes unused var",
          "verified_at": "2025-07-11T17:35:07Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/89d953e1631b72c5b44397388d85f2a46c3f6e42",
      "html_url": "https://github.com/keras-team/keras/commit/89d953e1631b72c5b44397388d85f2a46c3f6e42",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/89d953e1631b72c5b44397388d85f2a46c3f6e42/comments",
      "author": {
        "login": "JyotinderSingh",
        "id": 33001894,
        "node_id": "MDQ6VXNlcjMzMDAxODk0",
        "avatar_url": "https://avatars.githubusercontent.com/u/33001894?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JyotinderSingh",
        "html_url": "https://github.com/JyotinderSingh",
        "followers_url": "https://api.github.com/users/JyotinderSingh/followers",
        "following_url": "https://api.github.com/users/JyotinderSingh/following{/other_user}",
        "gists_url": "https://api.github.com/users/JyotinderSingh/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/JyotinderSingh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/JyotinderSingh/subscriptions",
        "organizations_url": "https://api.github.com/users/JyotinderSingh/orgs",
        "repos_url": "https://api.github.com/users/JyotinderSingh/repos",
        "events_url": "https://api.github.com/users/JyotinderSingh/events{/privacy}",
        "received_events_url": "https://api.github.com/users/JyotinderSingh/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "e233825bbd4e36ff8b74017156f2ecf9a32f0556",
          "url": "https://api.github.com/repos/keras-team/keras/commits/e233825bbd4e36ff8b74017156f2ecf9a32f0556",
          "html_url": "https://github.com/keras-team/keras/commit/e233825bbd4e36ff8b74017156f2ecf9a32f0556"
        }
      ]
    },
    {
      "sha": "e233825bbd4e36ff8b74017156f2ecf9a32f0556",
      "node_id": "C_kwDOAffHH9oAKGUyMzM4MjViYmQ0ZTM2ZmY4Yjc0MDE3MTU2ZjJlY2Y5YTMyZjA1NTY",
      "commit": {
        "author": {
          "name": "Sonali Kumari",
          "email": "kumsonali@google.com",
          "date": "2025-07-10T15:43:40Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-10T15:43:40Z"
        },
        "message": "Modified compute_output_shape function to handle broadcasting behavior in layers.Rescaling (#21351)\n\n* Modified compute_output_shape function to handle broadcasting behaviour in layers.Rescaling\n\n* Fixed indent and removed tensorflow dependency\n\n* Add test case for broadcast output shape\n\n* Fix Rescaling layer to handle broadcasting and both data formats correctly",
        "tree": {
          "sha": "967019863c10cbee6bdc4e49be08e8b5fc633aad",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/967019863c10cbee6bdc4e49be08e8b5fc633aad"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/e233825bbd4e36ff8b74017156f2ecf9a32f0556",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJob9+sCRC1aQ7uu5UhlAAApoUQAGWTKOmHGbQV3/PPUaJBJ8Cz\ntD4eH+nnREd0YeEgIikzNbrdic6X2SIcIWdOYd+G0/YcR4LnS+MkhIKqm14glYIW\nokpYujOl5GcVFeOAhyR0xBgK8Qx771Y5E9lVLQK4chZwxEGD8Lh/hoK2LmyOI/IH\nk+ouUNYvMZLTKHU67Ga5JHRUeXZxIR5sVbM6pTIAipjqU9rAGsX1hUJuul4FCf1o\nDBDFeb+j+MvLQjSQZZ6QIy6l41yG8fgxRUoJiqk7Sl/OgC+9Ew6txiXiWo4E1tCo\nvZX6niOI43506cMJCxNCdsp7Dsqnpy2i0vuuBDjHgt1fKkgjIFqzob9XlMHxrWuv\npDLNNue7+6Jf7whM6ZgYcUzrTVh23CU+nBzbCc4GHNk7WaPJpdTwevuOOabYuWfs\nYfK7FmdtuVFskpJ7E031/F+JDMsWi0AHVYMspMS46TwrpPogyERqBLWZf1Pe1CCS\nY3U6H4pf3KsPelfYgupWhOTc99XvWimQ/usiurqex/2IVkvMhRSype7yf/fKWDLn\nOUANGPo+ZcrNrRlJPc9wVrumK1xXh8PeSornY3f1XXaLwDG1p6k5JDB+vQc7pNxn\nNtHOekZYHQqN3DVis2qIgY6kXCo37Wg8plh5lMpcp1DEm0cMxWX1+9qhaOUCg0T6\nrIrYDf/5uiMlGIVj1F4Z\n=7N+W\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 967019863c10cbee6bdc4e49be08e8b5fc633aad\nparent 79685b6fb833b6ddf024651429a549279eda3354\nauthor Sonali Kumari <kumsonali@google.com> 1752162220 +0530\ncommitter GitHub <noreply@github.com> 1752162220 -0700\n\nModified compute_output_shape function to handle broadcasting behavior in layers.Rescaling (#21351)\n\n* Modified compute_output_shape function to handle broadcasting behaviour in layers.Rescaling\n\n* Fixed indent and removed tensorflow dependency\n\n* Add test case for broadcast output shape\n\n* Fix Rescaling layer to handle broadcasting and both data formats correctly",
          "verified_at": "2025-07-10T15:43:41Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/e233825bbd4e36ff8b74017156f2ecf9a32f0556",
      "html_url": "https://github.com/keras-team/keras/commit/e233825bbd4e36ff8b74017156f2ecf9a32f0556",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/e233825bbd4e36ff8b74017156f2ecf9a32f0556/comments",
      "author": {
        "login": "sonali-kumari1",
        "id": 180251223,
        "node_id": "U_kgDOCr5qVw",
        "avatar_url": "https://avatars.githubusercontent.com/u/180251223?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sonali-kumari1",
        "html_url": "https://github.com/sonali-kumari1",
        "followers_url": "https://api.github.com/users/sonali-kumari1/followers",
        "following_url": "https://api.github.com/users/sonali-kumari1/following{/other_user}",
        "gists_url": "https://api.github.com/users/sonali-kumari1/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sonali-kumari1/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sonali-kumari1/subscriptions",
        "organizations_url": "https://api.github.com/users/sonali-kumari1/orgs",
        "repos_url": "https://api.github.com/users/sonali-kumari1/repos",
        "events_url": "https://api.github.com/users/sonali-kumari1/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sonali-kumari1/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "79685b6fb833b6ddf024651429a549279eda3354",
          "url": "https://api.github.com/repos/keras-team/keras/commits/79685b6fb833b6ddf024651429a549279eda3354",
          "html_url": "https://github.com/keras-team/keras/commit/79685b6fb833b6ddf024651429a549279eda3354"
        }
      ]
    },
    {
      "sha": "79685b6fb833b6ddf024651429a549279eda3354",
      "node_id": "C_kwDOAffHH9oAKDc5Njg1YjZmYjgzM2I2ZGRmMDI0NjUxNDI5YTU0OTI3OWVkYTMzNTQ",
      "commit": {
        "author": {
          "name": "Hongyu, Chiu",
          "email": "20734616+james77777778@users.noreply.github.com",
          "date": "2025-07-09T21:57:17Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-09T21:57:17Z"
        },
        "message": "Refactor `ops.core` tests and update the backend. (#21466)",
        "tree": {
          "sha": "169714ae101f0006a62ecfad016bab4e9000e301",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/169714ae101f0006a62ecfad016bab4e9000e301"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/79685b6fb833b6ddf024651429a549279eda3354",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJobuW9CRC1aQ7uu5UhlAAAgZ0QADWNinVtNdYFOPvEz1ugvOc2\nXzBil7eaA33IteVt0lUjf1m8cRbhZvsrq7S/TtJxHKsFfBLpWmhqiG+MJSBNgmor\nx+DTWxl7HRGjoIOlzpd2+rmh+KXIf+ORpj3MWd+BW4+saX6/SxGlTOZEk4RacIey\nDVZ7OLJOVubs13VbQYXmmJdhiykcnGcZCCC+A34jMkI5UFt2du+HHPZVPBGnedqF\nRp6ANyE1oEBF6yJop2rSfoSEoLJIDDD/Qeonmu/33cUq3mM5GNc6/zP2xUiTuQBv\nKYOoU2dKzHR2zdCbU5j225RkubW6/iy7RZPODuXXpkWz3LnmflbGemyfUnW1VLYH\n/NCj4d4vQmVWObKzZT1b6mMjSVYYYJMmllL26LDCKO81OBEevv3C0QIQWVCM7/WY\nK0r3bPFi0Uit6om9gHzBss0yW1dq6DS2lrLZjCeZVjBn+WfWtXdgvG+mXvKWSxwF\nkqC6+ZX0dQKLMRYt6Et6vai7o12YFn8eEyhD6uk/zK6jHytx3dpeJtogvn8jX27U\nkgZDH1p6x73PWmYxKtrx/drnTZHyO5elH0UJheJA4UR402SAvjk7d3Rok6XaIkHL\nTRnxY5SDCM6D6PEDTziNri1HSpLKy++pynh+iuB4IqeMQ4N2T8xmfvWFL70osRWy\nft1j6irkRGaGQW0k6wNY\n=JZQT\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 169714ae101f0006a62ecfad016bab4e9000e301\nparent 5aef6e4e496009fae5c3dae5d8bae403303708ec\nauthor Hongyu, Chiu <20734616+james77777778@users.noreply.github.com> 1752098237 +0800\ncommitter GitHub <noreply@github.com> 1752098237 -0700\n\nRefactor `ops.core` tests and update the backend. (#21466)\n\n",
          "verified_at": "2025-07-09T21:57:18Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/79685b6fb833b6ddf024651429a549279eda3354",
      "html_url": "https://github.com/keras-team/keras/commit/79685b6fb833b6ddf024651429a549279eda3354",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/79685b6fb833b6ddf024651429a549279eda3354/comments",
      "author": {
        "login": "james77777778",
        "id": 20734616,
        "node_id": "MDQ6VXNlcjIwNzM0NjE2",
        "avatar_url": "https://avatars.githubusercontent.com/u/20734616?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/james77777778",
        "html_url": "https://github.com/james77777778",
        "followers_url": "https://api.github.com/users/james77777778/followers",
        "following_url": "https://api.github.com/users/james77777778/following{/other_user}",
        "gists_url": "https://api.github.com/users/james77777778/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/james77777778/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/james77777778/subscriptions",
        "organizations_url": "https://api.github.com/users/james77777778/orgs",
        "repos_url": "https://api.github.com/users/james77777778/repos",
        "events_url": "https://api.github.com/users/james77777778/events{/privacy}",
        "received_events_url": "https://api.github.com/users/james77777778/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "5aef6e4e496009fae5c3dae5d8bae403303708ec",
          "url": "https://api.github.com/repos/keras-team/keras/commits/5aef6e4e496009fae5c3dae5d8bae403303708ec",
          "html_url": "https://github.com/keras-team/keras/commit/5aef6e4e496009fae5c3dae5d8bae403303708ec"
        }
      ]
    },
    {
      "sha": "5aef6e4e496009fae5c3dae5d8bae403303708ec",
      "node_id": "C_kwDOAffHH9oAKDVhZWY2ZTRlNDk2MDA5ZmFlNWMzZGFlNWQ4YmFlNDAzMzAzNzA4ZWM",
      "commit": {
        "author": {
          "name": "Sonali Kumari",
          "email": "kumsonali@google.com",
          "date": "2025-07-09T21:56:20Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-09T21:56:20Z"
        },
        "message": "fix argument description for on_train_batch callbacks in LambdaCallback (#21464)",
        "tree": {
          "sha": "11cfe5a7c1be9b3ac3eb3e868b2741376f236bc4",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/11cfe5a7c1be9b3ac3eb3e868b2741376f236bc4"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/5aef6e4e496009fae5c3dae5d8bae403303708ec",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJobuWECRC1aQ7uu5UhlAAAFL8QAI+XTa7Mer53HweFjckhwMvL\nC1yXFg8LIuRqV+1O4MBT7mUMafNCkjuGK5v/LkEfFTkYu69k884A4T4YfwxByhrv\n3S907TN2/YuvqvqjCWVlPdlwe45GhpcXa0ReauSzNrg41LuKuwBMmWsq34iwE0RJ\nzDMeWF8JEAG18Z9pcJPEQ452HNzkvvwemRjyfTnIOUpyu/SomcefnNd9nQBwULfY\nxU6owU7HEz2WAob+G7I6AJKHYZyaW7Ds3xVVQEadbzs58JkYIYGvHTZvLGnJBeh0\nTEu/Cd9Oh3aMfgW6Fq2jpA0Gr7RzLBFZa821lQEBoIjCUD3svq05EirjuNwjBO7A\nILeuGOyIoTbLHwrC58Y1cczaxaW6bxAB0I7UHVdx+NXFBOAIpfaeudHF72B0zkCN\n6IS+cNgPNaYv1cXV2yKek9VwvIXxB5Ld39kIKyCdArpCiP8EU90XiViw9cH8Ums2\nQCYkPtGbNqMTdvMAEkIP2P0Fjoa8PGkfi+fjxkAiS+u+pSuFjohlW3ZPWd0rEuoh\n1WMtnK0ISMIYS4j3iQYzKxn2rQMJug3Tdq5bTj0/Zfk8sYDlJRvD1a8EBtkNb85I\nbnjaDL9s4GwGRq1PqgniZ43X4FuF5w2coi2RCYlmEZUKAGXwnKVzpLcaKtKgPBkQ\nb4BLtxRASMpCvGupk4Mq\n=4wfq\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 11cfe5a7c1be9b3ac3eb3e868b2741376f236bc4\nparent 5c50089211b8ccd366f3df3582fdfead53645ec3\nauthor Sonali Kumari <kumsonali@google.com> 1752098180 +0530\ncommitter GitHub <noreply@github.com> 1752098180 -0700\n\nfix argument description for on_train_batch callbacks in LambdaCallback (#21464)\n\n",
          "verified_at": "2025-07-09T21:56:21Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/5aef6e4e496009fae5c3dae5d8bae403303708ec",
      "html_url": "https://github.com/keras-team/keras/commit/5aef6e4e496009fae5c3dae5d8bae403303708ec",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/5aef6e4e496009fae5c3dae5d8bae403303708ec/comments",
      "author": {
        "login": "sonali-kumari1",
        "id": 180251223,
        "node_id": "U_kgDOCr5qVw",
        "avatar_url": "https://avatars.githubusercontent.com/u/180251223?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sonali-kumari1",
        "html_url": "https://github.com/sonali-kumari1",
        "followers_url": "https://api.github.com/users/sonali-kumari1/followers",
        "following_url": "https://api.github.com/users/sonali-kumari1/following{/other_user}",
        "gists_url": "https://api.github.com/users/sonali-kumari1/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sonali-kumari1/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sonali-kumari1/subscriptions",
        "organizations_url": "https://api.github.com/users/sonali-kumari1/orgs",
        "repos_url": "https://api.github.com/users/sonali-kumari1/repos",
        "events_url": "https://api.github.com/users/sonali-kumari1/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sonali-kumari1/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "5c50089211b8ccd366f3df3582fdfead53645ec3",
          "url": "https://api.github.com/repos/keras-team/keras/commits/5c50089211b8ccd366f3df3582fdfead53645ec3",
          "html_url": "https://github.com/keras-team/keras/commit/5c50089211b8ccd366f3df3582fdfead53645ec3"
        }
      ]
    },
    {
      "sha": "5c50089211b8ccd366f3df3582fdfead53645ec3",
      "node_id": "C_kwDOAffHH9oAKDVjNTAwODkyMTFiOGNjZDM2NmYzZGYzNTgyZmRmZWFkNTM2NDVlYzM",
      "commit": {
        "author": {
          "name": "Mohamed Ashraf",
          "email": "117025882+Mohamed-Ashraf273@users.noreply.github.com",
          "date": "2025-07-09T20:24:57Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-09T20:24:57Z"
        },
        "message": "[OpenVINO backend] fix ops.sum (#21463)",
        "tree": {
          "sha": "6c851bea8990f6bda689c69d1c8f7b85c71ace7e",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/6c851bea8990f6bda689c69d1c8f7b85c71ace7e"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/5c50089211b8ccd366f3df3582fdfead53645ec3",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJobtAZCRC1aQ7uu5UhlAAAczoQAG69VDOQxB7LnqNC6bWklakc\nojimC6z8jqtOQcYfuA1/O/yZx9JHux6fea81Srvv0kd8QKs9X6Uw8thtRgwjEkjh\nbqwVkZRbUz299f46SZvyEuGKJ56ASRHKP9xXLBuu2D0EmP4HEFfQJTavbFclSIHF\nN2/C7sMXBWq/wxumFNxEtTiJI9XMID57D9/5/9nqyEOv36Ffc+EWwhmhgjGNC2Ca\nAdaNeqWMYJCAP0Ix0J71Jwptztf80gr80yLF42CKaWr0Skgi0gzk5FFC+bWdkqbm\nmXFQuO2GpxmqJGkzWDymtivijJZbtZ+BoovcGtMgohgjpb7mJ2jikICdabx8yNye\napxKSkZ873J1JnI7RBHA80OCWI95IVuA4Gg8bUyIW0fsI4eKDxc4ldcCCbZmoPLW\ngSRHH0/JG4qxDu6VpDGCm+u/ZNgo1fLHmx0c79JrpD6C8nHP4BPQdhA6I/YJIcZY\nOQyT+XYJhVO8laNLpHvL7zAUkMrkqB/15bx+thlI8e1itf8QXaUfpYj8pQi0zMB6\nlLrSbOPWs6Cp1jKlWreuMIXXREmtX/N4zd3MVR1JeOON1zl9eG89EGuaTOxPPFsp\nGSttx/AW3ylW05EGuLm3+hleUOdqg+tkDwbZtszpy9fRhZVPllbUgsQsrErGQyrB\n3bzwUFEfkPmGMaZNpSdC\n=uvT0\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 6c851bea8990f6bda689c69d1c8f7b85c71ace7e\nparent fbb42aa4c83ee31bf80e264f9fad705d26733d63\nauthor Mohamed Ashraf <117025882+Mohamed-Ashraf273@users.noreply.github.com> 1752092697 +0300\ncommitter GitHub <noreply@github.com> 1752092697 -0700\n\n[OpenVINO backend] fix ops.sum (#21463)\n\n",
          "verified_at": "2025-07-09T20:24:58Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/5c50089211b8ccd366f3df3582fdfead53645ec3",
      "html_url": "https://github.com/keras-team/keras/commit/5c50089211b8ccd366f3df3582fdfead53645ec3",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/5c50089211b8ccd366f3df3582fdfead53645ec3/comments",
      "author": {
        "login": "Mohamed-Ashraf273",
        "id": 117025882,
        "node_id": "U_kgDOBvmsWg",
        "avatar_url": "https://avatars.githubusercontent.com/u/117025882?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Mohamed-Ashraf273",
        "html_url": "https://github.com/Mohamed-Ashraf273",
        "followers_url": "https://api.github.com/users/Mohamed-Ashraf273/followers",
        "following_url": "https://api.github.com/users/Mohamed-Ashraf273/following{/other_user}",
        "gists_url": "https://api.github.com/users/Mohamed-Ashraf273/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Mohamed-Ashraf273/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Mohamed-Ashraf273/subscriptions",
        "organizations_url": "https://api.github.com/users/Mohamed-Ashraf273/orgs",
        "repos_url": "https://api.github.com/users/Mohamed-Ashraf273/repos",
        "events_url": "https://api.github.com/users/Mohamed-Ashraf273/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Mohamed-Ashraf273/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "fbb42aa4c83ee31bf80e264f9fad705d26733d63",
          "url": "https://api.github.com/repos/keras-team/keras/commits/fbb42aa4c83ee31bf80e264f9fad705d26733d63",
          "html_url": "https://github.com/keras-team/keras/commit/fbb42aa4c83ee31bf80e264f9fad705d26733d63"
        }
      ]
    },
    {
      "sha": "fbb42aa4c83ee31bf80e264f9fad705d26733d63",
      "node_id": "C_kwDOAffHH9oAKGZiYjQyYWE0YzgzZWUzMWJmODBlMjY0ZjlmYWQ3MDVkMjY3MzNkNjM",
      "commit": {
        "author": {
          "name": "Przemyslaw Wysocki",
          "email": "przemyslaw.wysocki@intel.com",
          "date": "2025-07-09T00:09:28Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-09T00:09:28Z"
        },
        "message": "[OpenVINO backend] Update `ndim` behavior (#21317)\n\n* Change ndims behavior\n\n* Remove openvino.runtime\n\n* Switch to double ShapeOf\n\n* Reorder imports in core.py\n\n* Remove runtime changes",
        "tree": {
          "sha": "7013b274497330e624e7b22b14d9ddfa6058bc06",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/7013b274497330e624e7b22b14d9ddfa6058bc06"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/fbb42aa4c83ee31bf80e264f9fad705d26733d63",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJobbM4CRC1aQ7uu5UhlAAAyhsQACZMKCWIuk6EqKizGDcji7kc\n0FQT8SUG8XyqGViFDmApZF1noVDL2uRJnbYYMMaOv0WjHKJA+nCPcZkmW72ExwVX\n/mXSOJuoGQHvRZGdJt4KnyH0owJDJH43qRmQlooNlx8ZWAiVBfH76CoHhkCvPijg\nflJOzMewiqafNnHhGcS6OqvAYZ/CaeKhexxdc1utSAtvaqtoew3lS8aioVxZ2yno\nhcswQCPfn3++gIRdkz+vMOuXkeJuRH+t9301aPO5AzO636cIXAAR9yaRI9teo9UO\no8Sbob02hJxnZU7ofBYhPYLQxk2IAVo47rWcaQTPopDT3IcBwvKCvbB3BvX81w31\nyQHes+JW4KkEutvDWknLIMRsu8aCm4lu8U0CuhV4omDK96Z+lRQI8PDTDXQWNoxl\nEfoMo+VGQuPkWHNS8sCobIaYrKfbZntCbdalSc2HgArsEvhODECdhYIj0npgTNFS\nJsxyeLZDjFBRWRaVFCJzZlBTm0jj62eKuCtER0xe++CUHYRNbv7frukGPtlt8Ld2\nhU14Zcb5QRQyS0gVzAI+jORbJQQH/xNWCInGdTyYwLiXuwQLniKO6yK2T0gv8oZn\n5XkOlSn1i6r4U83DPGgMLyaUyYPEhJd19FK5EdicHg/oTLRmrGEf3c/IhaCJidbX\nzMZFlCP45RIW8mJjEkv/\n=+2da\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 7013b274497330e624e7b22b14d9ddfa6058bc06\nparent 376225f6fbe574075bb631a3cc08a420d6625aa1\nauthor Przemyslaw Wysocki <przemyslaw.wysocki@intel.com> 1752019768 +0200\ncommitter GitHub <noreply@github.com> 1752019768 -0700\n\n[OpenVINO backend] Update `ndim` behavior (#21317)\n\n* Change ndims behavior\n\n* Remove openvino.runtime\n\n* Switch to double ShapeOf\n\n* Reorder imports in core.py\n\n* Remove runtime changes",
          "verified_at": "2025-07-09T00:09:29Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/fbb42aa4c83ee31bf80e264f9fad705d26733d63",
      "html_url": "https://github.com/keras-team/keras/commit/fbb42aa4c83ee31bf80e264f9fad705d26733d63",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/fbb42aa4c83ee31bf80e264f9fad705d26733d63/comments",
      "author": {
        "login": "p-wysocki",
        "id": 55858107,
        "node_id": "MDQ6VXNlcjU1ODU4MTA3",
        "avatar_url": "https://avatars.githubusercontent.com/u/55858107?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/p-wysocki",
        "html_url": "https://github.com/p-wysocki",
        "followers_url": "https://api.github.com/users/p-wysocki/followers",
        "following_url": "https://api.github.com/users/p-wysocki/following{/other_user}",
        "gists_url": "https://api.github.com/users/p-wysocki/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/p-wysocki/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/p-wysocki/subscriptions",
        "organizations_url": "https://api.github.com/users/p-wysocki/orgs",
        "repos_url": "https://api.github.com/users/p-wysocki/repos",
        "events_url": "https://api.github.com/users/p-wysocki/events{/privacy}",
        "received_events_url": "https://api.github.com/users/p-wysocki/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "376225f6fbe574075bb631a3cc08a420d6625aa1",
          "url": "https://api.github.com/repos/keras-team/keras/commits/376225f6fbe574075bb631a3cc08a420d6625aa1",
          "html_url": "https://github.com/keras-team/keras/commit/376225f6fbe574075bb631a3cc08a420d6625aa1"
        }
      ]
    },
    {
      "sha": "376225f6fbe574075bb631a3cc08a420d6625aa1",
      "node_id": "C_kwDOAffHH9oAKDM3NjIyNWY2ZmJlNTc0MDc1YmI2MzFhM2NjMDhhNDIwZDY2MjVhYTE",
      "commit": {
        "author": {
          "name": "Hongyu, Chiu",
          "email": "20734616+james77777778@users.noreply.github.com",
          "date": "2025-07-09T00:06:01Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-09T00:06:01Z"
        },
        "message": "Fix torch's `convert_to_tensor` not respecting `dtype` when input is a `Variable` (#21452)\n\n* Fix torch's `convert_to_tensor` not respecting `dtype` when input is a `Variable`.\n\n* Fix openvino backend.\n\n* Revert the casting and use variables for the tests.",
        "tree": {
          "sha": "c1985d3adbaa738d1235c0c692c8f35526eb5c45",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/c1985d3adbaa738d1235c0c692c8f35526eb5c45"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/376225f6fbe574075bb631a3cc08a420d6625aa1",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJobbJpCRC1aQ7uu5UhlAAA0YkQAEDzQv0H0eFOnQ41zJ/iz1Ns\nZmJtKUiFGbMS624rdfjHRO/+WdRBU1C983qHhZN0yuNqok/tPNxq7QJWM3C8WxP3\nvl6L0hw7oLU36C9d/aL2ytcbzpioGXQhu39MuAepXRHBJHxE/5fXjbuPaKj16i4P\nEG/tTJnDtK0W8rKeRnTJDEl1uv4xi3dDPT1vztwkhq8DeDAsh33Te1IVzswGHKwB\nJStGyp6ONYf+r8wZi2iFzYFnRUwhMdEY622YgIx3dMgaVtn7ftoYAx+TlxpsqDVe\nrTn+ehsJRmo6VqoXkk27qCsWe1jz2xwn2XrbFLJzOHtIuZdH91Clr6L4B8HpydUR\nn4v66f0RhnEVOSDgz7HxSyLjT0cbkDyQBQJQfYk+43vTsrgKpAhm2GdgRxbVeuVL\nirVDfXd4DrXEu94DU/NuGh9xYfpt2XcNz80vvbwA3JTnzhxFatoJo/pkcEfTzd0G\ntEMiER5NEK641VR9IgsFJL0vIl7amBgDTkvXuV+QGRNaWD4dkz/JcuxUETean9h/\n48A0nZDW0qEp6AiQKemaGii6w9nSufBqjJB5BIRshkgVADwRzsiZZiV60jkT5hAZ\njirV7lY1ywcVPvmRXurkSg2ORlQlc8Pdm3Kc1oNH3Oo8Oz/iR0TI34PpHQ+E6E0F\nPUDCKtmg3jx7Boor4JcD\n=pvDJ\n-----END PGP SIGNATURE-----\n",
          "payload": "tree c1985d3adbaa738d1235c0c692c8f35526eb5c45\nparent 22ab5a33484cf9a39e7a07f24ddfb2072f0da698\nauthor Hongyu, Chiu <20734616+james77777778@users.noreply.github.com> 1752019561 +0800\ncommitter GitHub <noreply@github.com> 1752019561 -0700\n\nFix torch's `convert_to_tensor` not respecting `dtype` when input is a `Variable` (#21452)\n\n* Fix torch's `convert_to_tensor` not respecting `dtype` when input is a `Variable`.\n\n* Fix openvino backend.\n\n* Revert the casting and use variables for the tests.",
          "verified_at": "2025-07-09T00:06:02Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/376225f6fbe574075bb631a3cc08a420d6625aa1",
      "html_url": "https://github.com/keras-team/keras/commit/376225f6fbe574075bb631a3cc08a420d6625aa1",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/376225f6fbe574075bb631a3cc08a420d6625aa1/comments",
      "author": {
        "login": "james77777778",
        "id": 20734616,
        "node_id": "MDQ6VXNlcjIwNzM0NjE2",
        "avatar_url": "https://avatars.githubusercontent.com/u/20734616?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/james77777778",
        "html_url": "https://github.com/james77777778",
        "followers_url": "https://api.github.com/users/james77777778/followers",
        "following_url": "https://api.github.com/users/james77777778/following{/other_user}",
        "gists_url": "https://api.github.com/users/james77777778/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/james77777778/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/james77777778/subscriptions",
        "organizations_url": "https://api.github.com/users/james77777778/orgs",
        "repos_url": "https://api.github.com/users/james77777778/repos",
        "events_url": "https://api.github.com/users/james77777778/events{/privacy}",
        "received_events_url": "https://api.github.com/users/james77777778/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "22ab5a33484cf9a39e7a07f24ddfb2072f0da698",
          "url": "https://api.github.com/repos/keras-team/keras/commits/22ab5a33484cf9a39e7a07f24ddfb2072f0da698",
          "html_url": "https://github.com/keras-team/keras/commit/22ab5a33484cf9a39e7a07f24ddfb2072f0da698"
        }
      ]
    },
    {
      "sha": "22ab5a33484cf9a39e7a07f24ddfb2072f0da698",
      "node_id": "C_kwDOAffHH9oAKDIyYWI1YTMzNDg0Y2Y5YTM5ZTdhMDdmMjRkZGZiMjA3MmYwZGE2OTg",
      "commit": {
        "author": {
          "name": "Sonali Kumari",
          "email": "kumsonali@google.com",
          "date": "2025-07-07T21:04:22Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-07T21:04:22Z"
        },
        "message": "Improve error message for class_weight with PyTorch DataLoaders (#21414)\n\n* Improve error message for class_weight with PyTorch DataLoaders\n\n* Improve error message for class_weight with PyTorch DataLoaders",
        "tree": {
          "sha": "53462fb39c0c1885686135a2d44c57df1aba14da",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/53462fb39c0c1885686135a2d44c57df1aba14da"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/22ab5a33484cf9a39e7a07f24ddfb2072f0da698",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJobDZWCRC1aQ7uu5UhlAAAgjMQAITDYXMIsB6rCoLVcqFkoPfU\nVOnDpkMf5WvXyirVJwpuCYuChajU2Kb0RRVamMrOnLrlrtYHcRdsxolrkIECUWcC\n5sxJJMC2ZD8lk503TT2jmTzlaO39qZdgWgbTBwPt57d4v+FoQG0YpMWZKKu7YFZB\nYWo7HfJck03cbvXRBK6fipTah8/y1DVzuAEEw03nSKCZxg5edGIktvbjLcK6fJbE\nfVPiuYbo2hxDhOMbTvuNVCJ+8Qv03d3Ooqs3X9b29JqsvPe/XJmqY/6CV4+Er/jo\nE4sIRAuPQYBKYq90C1i85OEvMGSLVcbgVoa2gimoXuq++9Z4E5YRuCEQaCKd0giZ\nTW8xerX8f6GAHi3G8bLxeswZFfYQ+nF76nokDXLHaZaJL+VrPKZrRA0tZtv0doQB\noyf4lIAxom/a+inETimuAk6ZH3XS7zKHIWu49aXH8CYgRFhCFWF6R1sd+h5jyiqi\n3Kefx9PGzdVuxWVSZWIPg+I3A9EbgODz2VXrgSVP9V5T1rBFCmzuqkaWyuhkPuXd\nYe1vS/b6tPSWf8nWialqLtdy9XbOx3X1jGtbUe+N3fNrli+9UkFeY70jYZVzcroi\ndrYCCV60+/omxOgZ33UEzMNOiLFaDG5H2DoDTRMO/4hK7xHstDyLqE6kMKulTw3S\n+1LlVeptgIDVZokKU+y/\n=8QQA\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 53462fb39c0c1885686135a2d44c57df1aba14da\nparent e32175a6448945a2ce32d1061f0b0a1a3bc6dddf\nauthor Sonali Kumari <kumsonali@google.com> 1751922262 +0530\ncommitter GitHub <noreply@github.com> 1751922262 -0700\n\nImprove error message for class_weight with PyTorch DataLoaders (#21414)\n\n* Improve error message for class_weight with PyTorch DataLoaders\n\n* Improve error message for class_weight with PyTorch DataLoaders",
          "verified_at": "2025-07-07T21:04:23Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/22ab5a33484cf9a39e7a07f24ddfb2072f0da698",
      "html_url": "https://github.com/keras-team/keras/commit/22ab5a33484cf9a39e7a07f24ddfb2072f0da698",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/22ab5a33484cf9a39e7a07f24ddfb2072f0da698/comments",
      "author": {
        "login": "sonali-kumari1",
        "id": 180251223,
        "node_id": "U_kgDOCr5qVw",
        "avatar_url": "https://avatars.githubusercontent.com/u/180251223?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sonali-kumari1",
        "html_url": "https://github.com/sonali-kumari1",
        "followers_url": "https://api.github.com/users/sonali-kumari1/followers",
        "following_url": "https://api.github.com/users/sonali-kumari1/following{/other_user}",
        "gists_url": "https://api.github.com/users/sonali-kumari1/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sonali-kumari1/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sonali-kumari1/subscriptions",
        "organizations_url": "https://api.github.com/users/sonali-kumari1/orgs",
        "repos_url": "https://api.github.com/users/sonali-kumari1/repos",
        "events_url": "https://api.github.com/users/sonali-kumari1/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sonali-kumari1/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "e32175a6448945a2ce32d1061f0b0a1a3bc6dddf",
          "url": "https://api.github.com/repos/keras-team/keras/commits/e32175a6448945a2ce32d1061f0b0a1a3bc6dddf",
          "html_url": "https://github.com/keras-team/keras/commit/e32175a6448945a2ce32d1061f0b0a1a3bc6dddf"
        }
      ]
    },
    {
      "sha": "e32175a6448945a2ce32d1061f0b0a1a3bc6dddf",
      "node_id": "C_kwDOAffHH9oAKGUzMjE3NWE2NDQ4OTQ1YTJjZTMyZDEwNjFmMGIwYTFhM2JjNmRkZGY",
      "commit": {
        "author": {
          "name": "Mohamed Ashraf",
          "email": "117025882+Mohamed-Ashraf273@users.noreply.github.com",
          "date": "2025-07-07T20:56:14Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-07T20:56:14Z"
        },
        "message": "[OpenVINO backend] add a check for getitem (#21407)",
        "tree": {
          "sha": "7c39caf373389c87c362fe44952547582ae94306",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/7c39caf373389c87c362fe44952547582ae94306"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/e32175a6448945a2ce32d1061f0b0a1a3bc6dddf",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJobDRuCRC1aQ7uu5UhlAAAjGMQAJTq+lVaNACsNn3+KpwhCh4s\nJKV/CrxGd+nZxZMiNx4mt+qh4Yt/K+anNLz+nYubSMmmUQeSFuznDxvq96MMN/Eg\njHc4SjVWu0o3aPk+PR0DCM768Fq7hCC5/FF4EUueC780+kOzD0U4DVJt0WTx+v60\nqqOL6CxcuJcqe9Sr5Mev8SGPLr2h2CXmS39oQ1/ZehoMZ0rpFL1ui8HKf/qzbjQ4\na7IpcOR9YuSSjA5MznXgN0k4ewhMHF6ACowZ8b0LfuL0uplYIatjM89LZIv7pTPs\n5Q0vmNEf3MZjB1I5inpsPhntGeKCTcBlo10HB0I464WPBWbjQwmlXu3YKWZZGVdK\ni1aSGIvA0dotVAxGQDY35mXlCDrXxvZuhbx1IKZLzXwFQezflhu9YgOsbl3DTmQW\nEgoijUNo9i1ozV5fyt0oLZKdXaNSwnXGUAa2D+OuBJhfrvNh+2g1i30ix1sZJxlf\nSpKwumH9S6eek4bffnV30jk4fdxgNSmH4DgxH1FqpaONt+XKtYLz+9EClhM928tG\n1yGbK2p2ozR2CBNKueel3KeQk5fTIO8ouUp2TBOW2QqVlZBlb+G0a7GHMMiB9Qug\nksg8nnFynLBnQCQVvLuEukZlVN5OS94BGi6WWdM2KPJLHZnV+so9iYUuhliZi2zG\n1BTi4MWvLIbKgYE66lLi\n=1FSH\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 7c39caf373389c87c362fe44952547582ae94306\nparent 157f6535d2102990fba5d4ce414d4e256c4d7d35\nauthor Mohamed Ashraf <117025882+Mohamed-Ashraf273@users.noreply.github.com> 1751921774 +0300\ncommitter GitHub <noreply@github.com> 1751921774 -0700\n\n[OpenVINO backend] add a check for getitem (#21407)\n\n",
          "verified_at": "2025-07-07T20:56:14Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/e32175a6448945a2ce32d1061f0b0a1a3bc6dddf",
      "html_url": "https://github.com/keras-team/keras/commit/e32175a6448945a2ce32d1061f0b0a1a3bc6dddf",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/e32175a6448945a2ce32d1061f0b0a1a3bc6dddf/comments",
      "author": {
        "login": "Mohamed-Ashraf273",
        "id": 117025882,
        "node_id": "U_kgDOBvmsWg",
        "avatar_url": "https://avatars.githubusercontent.com/u/117025882?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Mohamed-Ashraf273",
        "html_url": "https://github.com/Mohamed-Ashraf273",
        "followers_url": "https://api.github.com/users/Mohamed-Ashraf273/followers",
        "following_url": "https://api.github.com/users/Mohamed-Ashraf273/following{/other_user}",
        "gists_url": "https://api.github.com/users/Mohamed-Ashraf273/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Mohamed-Ashraf273/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Mohamed-Ashraf273/subscriptions",
        "organizations_url": "https://api.github.com/users/Mohamed-Ashraf273/orgs",
        "repos_url": "https://api.github.com/users/Mohamed-Ashraf273/repos",
        "events_url": "https://api.github.com/users/Mohamed-Ashraf273/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Mohamed-Ashraf273/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "157f6535d2102990fba5d4ce414d4e256c4d7d35",
          "url": "https://api.github.com/repos/keras-team/keras/commits/157f6535d2102990fba5d4ce414d4e256c4d7d35",
          "html_url": "https://github.com/keras-team/keras/commit/157f6535d2102990fba5d4ce414d4e256c4d7d35"
        }
      ]
    },
    {
      "sha": "157f6535d2102990fba5d4ce414d4e256c4d7d35",
      "node_id": "C_kwDOAffHH9oAKDE1N2Y2NTM1ZDIxMDI5OTBmYmE1ZDRjZTQxNGQ0ZTI1NmM0ZDdkMzU",
      "commit": {
        "author": {
          "name": "Ugeun Park",
          "email": "pwg2004@gmail.com",
          "date": "2025-07-07T20:53:55Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-07T20:53:55Z"
        },
        "message": "Implement cbrt function in keras.ops (#21453)\n\n* Add cbrt implementation for ops\n\n* Add test case for cbrt\n\n* Update excluded_concrete_tests.txt",
        "tree": {
          "sha": "044a9758617d1951eaabb37f5bbc4afb32683632",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/044a9758617d1951eaabb37f5bbc4afb32683632"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/157f6535d2102990fba5d4ce414d4e256c4d7d35",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJobDPjCRC1aQ7uu5UhlAAA0CYQADKnxrfZ/ntyP1Rtc1CDKk/t\nbv4xHuF/Wrh7T6odjaCnOgd7/vhIp86/wNfD2uVKlAxh63/PlNj3ZCFykKFmffYp\n6wxS+2wEHTZRopHvcDyMTDcUgNulZ4FkkTocoegjonSPQl2ekCWLAX9AZvM70T8Z\nYBbftsqyZO/w2zXaSqepwYhrW7M2gyUSR29ynwey+Dt2Mx2Yf1zuMnXLBe1Er3HN\nPubPOAIbdUTT4Qh3eyqOIug7fIAVBVwZ9crpgA1IbEVPxSryqi/BqCDu8BcG1/gJ\nrEdvb8vTB9iVJTIoGCOIwcwoF5LfcRtL0yzJtCy3CGhSkQcPm1/V0tCsJqeSBSyR\nM0/JcesuLELPRyethOh9O+L7O8JyK+3f2qLJk4kw/t2fTNVxn2TqZuCFdQgL1Aez\nh6uWqyZvwYhy/HwMQa5MqL8sjwY8BQiKJtOqGUrSJzlDK9RJ7L3SsdnOEdMGMi2B\n6CbGWBRr3cAFchkSrsK3diBn44XNbYDDvfUmhn5hqeyBpfdkbKTtoh8sjKBhDPmd\n0KW4SAr75rmrujbjFQamORYcIs0WRGIpb/9S4Xx0E90EM1oTNgeLsZGNTawqk0o5\nI6917crXFAcrIz2DHvK6WCgbbgOLnYZ1hbYrEMXc8H3fqIUVF7IVp3qhsrooWjwq\nWVUn2pHpTI/2HhTktx2Q\n=q6T/\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 044a9758617d1951eaabb37f5bbc4afb32683632\nparent e5c45f073639d5af68929f80470793be95635926\nauthor Ugeun Park <pwg2004@gmail.com> 1751921635 +0900\ncommitter GitHub <noreply@github.com> 1751921635 -0700\n\nImplement cbrt function in keras.ops (#21453)\n\n* Add cbrt implementation for ops\n\n* Add test case for cbrt\n\n* Update excluded_concrete_tests.txt",
          "verified_at": "2025-07-07T20:53:55Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/157f6535d2102990fba5d4ce414d4e256c4d7d35",
      "html_url": "https://github.com/keras-team/keras/commit/157f6535d2102990fba5d4ce414d4e256c4d7d35",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/157f6535d2102990fba5d4ce414d4e256c4d7d35/comments",
      "author": {
        "login": "shashaka",
        "id": 37043543,
        "node_id": "MDQ6VXNlcjM3MDQzNTQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/37043543?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shashaka",
        "html_url": "https://github.com/shashaka",
        "followers_url": "https://api.github.com/users/shashaka/followers",
        "following_url": "https://api.github.com/users/shashaka/following{/other_user}",
        "gists_url": "https://api.github.com/users/shashaka/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/shashaka/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/shashaka/subscriptions",
        "organizations_url": "https://api.github.com/users/shashaka/orgs",
        "repos_url": "https://api.github.com/users/shashaka/repos",
        "events_url": "https://api.github.com/users/shashaka/events{/privacy}",
        "received_events_url": "https://api.github.com/users/shashaka/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "e5c45f073639d5af68929f80470793be95635926",
          "url": "https://api.github.com/repos/keras-team/keras/commits/e5c45f073639d5af68929f80470793be95635926",
          "html_url": "https://github.com/keras-team/keras/commit/e5c45f073639d5af68929f80470793be95635926"
        }
      ]
    },
    {
      "sha": "e5c45f073639d5af68929f80470793be95635926",
      "node_id": "C_kwDOAffHH9oAKGU1YzQ1ZjA3MzYzOWQ1YWY2ODkyOWY4MDQ3MDc5M2JlOTU2MzU5MjY",
      "commit": {
        "author": {
          "name": "Hongyu, Chiu",
          "email": "20734616+james77777778@users.noreply.github.com",
          "date": "2025-07-06T20:03:43Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-06T20:03:43Z"
        },
        "message": "Improve `load_weights` and the test coverage. (#21454)",
        "tree": {
          "sha": "2b8818078c3c8f07dce684a9ad01ff0ca95f2423",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/2b8818078c3c8f07dce684a9ad01ff0ca95f2423"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/e5c45f073639d5af68929f80470793be95635926",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoatafCRC1aQ7uu5UhlAAAgAEQABUnlNoE15MIeyjDt2nlSzwl\nq3n8o5uuXE9wP9tI8ULJf0aMpvgPSkk9AV5w4/R0Jvfpr9Dt66Is6oL6LZ6lr0rZ\n7SsIu2kgV+3egPyievmo5ZgC2mPiRypvGINfZssqnCu2WZBPnBEfHZrGRbotwE8k\nc51jiaM6477zTge5wVkQnmkkw32FPxyLkiUMgmWZQ9al16Oc47SsFznioS9p/zcv\nV0hI4B9uIyMYD4fG3ICxMo6qprAUrYOFl52PHNhHMEdFy5oeBrGnrLDO4RZonRJC\nOSVwANfkBFynbhA+T35WzFuLwGtVZaKoqJ9tF7oGk8jVmYAO+mjz9Xij+qy7UY+U\nkiO7E/rQe4M9VlOUhR3AKG3pbVWvXNqjEozIqmHEcT2chxnCxeTqNRlo78ezjsEh\nLhZe80+SmMzdmHPa6ZLi/NUQ5Km2YBHCDm2SPwVCbsYAe68FCU7oZ0FFLBJbr5mR\nQWPKHLEAfEvqB3BhcSvWdjWt7yFKKHpi64R1XxdMF8TIZcm0gqRYk+RxbiauBHmo\nQPPcWBHYfht/WaOM16yEYe2VAL8URsKuYnjuDu85ldzKyPronADVtb26NZBPQCVP\n1vyxxAvkN5NgT1a7wOatDByi0LHIRVTq54VXVx9wwcCSOlm3P9EMlcogUbtc0fVm\nC4XrsRzN650VfK2CUidC\n=kVbe\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 2b8818078c3c8f07dce684a9ad01ff0ca95f2423\nparent 18ab46252cedb7393a2a79c5e36845277b67024e\nauthor Hongyu, Chiu <20734616+james77777778@users.noreply.github.com> 1751832223 +0800\ncommitter GitHub <noreply@github.com> 1751832223 -0700\n\nImprove `load_weights` and the test coverage. (#21454)\n\n",
          "verified_at": "2025-07-06T20:03:44Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/e5c45f073639d5af68929f80470793be95635926",
      "html_url": "https://github.com/keras-team/keras/commit/e5c45f073639d5af68929f80470793be95635926",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/e5c45f073639d5af68929f80470793be95635926/comments",
      "author": {
        "login": "james77777778",
        "id": 20734616,
        "node_id": "MDQ6VXNlcjIwNzM0NjE2",
        "avatar_url": "https://avatars.githubusercontent.com/u/20734616?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/james77777778",
        "html_url": "https://github.com/james77777778",
        "followers_url": "https://api.github.com/users/james77777778/followers",
        "following_url": "https://api.github.com/users/james77777778/following{/other_user}",
        "gists_url": "https://api.github.com/users/james77777778/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/james77777778/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/james77777778/subscriptions",
        "organizations_url": "https://api.github.com/users/james77777778/orgs",
        "repos_url": "https://api.github.com/users/james77777778/repos",
        "events_url": "https://api.github.com/users/james77777778/events{/privacy}",
        "received_events_url": "https://api.github.com/users/james77777778/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "18ab46252cedb7393a2a79c5e36845277b67024e",
          "url": "https://api.github.com/repos/keras-team/keras/commits/18ab46252cedb7393a2a79c5e36845277b67024e",
          "html_url": "https://github.com/keras-team/keras/commit/18ab46252cedb7393a2a79c5e36845277b67024e"
        }
      ]
    },
    {
      "sha": "18ab46252cedb7393a2a79c5e36845277b67024e",
      "node_id": "C_kwDOAffHH9oAKDE4YWI0NjI1MmNlZGI3MzkzYTJhNzljNWUzNjg0NTI3N2I2NzAyNGU",
      "commit": {
        "author": {
          "name": "Ugeun Park",
          "email": "pwg2004@gmail.com",
          "date": "2025-07-03T19:37:23Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-03T19:37:23Z"
        },
        "message": "Implement deg2rad function in keras.ops (#21444)\n\n* Add deg2rad function for numpy\n\n* Add deg2rad for ops\n\n* Patch for numpy_test\n\n* update numpy.py for torch\n\n* update numpy_test\n\n* update tensorflow numpy.py\n\n* fix test case failed\n\n* Update excluded_concrete_tests.txt\n\n* Fix openvino test failed\n\n* Update the code by review",
        "tree": {
          "sha": "919f85901e1a0e2c9597d0289198643c4bee8eaa",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/919f85901e1a0e2c9597d0289198643c4bee8eaa"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/18ab46252cedb7393a2a79c5e36845277b67024e",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoZtvzCRC1aQ7uu5UhlAAAw8kQAF+Ge5ZmIWeqd3DADBrs4V1z\nuP3BhZ/zT7GKdsjDUJywoyx+rhwNFSG6QCF62wqYBGY+vwVI5Yn8Z3lcXX5EEiZn\nYbOHB0Qv1MTeGHX1UOX3gwGgHqr7tXA7wK3V+c524z74802aVXDgiViFOcXRxuUm\ndjk8mQDml2pQetEL+UdMRoqAJ1nyaJshQKBSim6UKfCPaqNJvb3zjTd/p0fUJUbf\n0by4zddHIDHy8+QweyycfAAHQ8rxkBJTUCHhaG3RWIEIkNqbsau7PIWqv6emBC3Z\nM6cxHHDnyz2vTErzvNcA97n7aTgrIY5bNe2oz788F0Jbi/huZQo2+5n1iOSySALy\nGwcALFUk0qEzmI2Z9pAk4FrWkQwfBjXzmIv5aXcyc7IQ93AFH8aN8bz4maFfc0wz\nGVbmIUUoZUeBvZLMGhDM0QlrtdGpx7wv+F8b+bhwyNE8pVMraMyQmhDi8QohQ8pn\na8XANcrxbgl9nJ8y1qXHeTw7U8+uB5HmVhMMvJltuuECTPUjqxrU8/De6P9HZe3x\n4A0UwVsV3niEw9ZMt2SjZTjZEH9q6seRmel/ydkh4/kq5j3e8Zr1jjLcvF0uWq1X\nVUDzYooOSm3v/H8mQy+izpSU67mBiPkmHhgWqS14WAfNq93YfVyIVjsT3ELlqhzn\nN2gYHGGfH+gT3tcLwnR5\n=4ZZ+\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 919f85901e1a0e2c9597d0289198643c4bee8eaa\nparent b855c4217bfcc485fc710e50df95fa4bd0cb9ca4\nauthor Ugeun Park <pwg2004@gmail.com> 1751571443 +0900\ncommitter GitHub <noreply@github.com> 1751571443 -0700\n\nImplement deg2rad function in keras.ops (#21444)\n\n* Add deg2rad function for numpy\n\n* Add deg2rad for ops\n\n* Patch for numpy_test\n\n* update numpy.py for torch\n\n* update numpy_test\n\n* update tensorflow numpy.py\n\n* fix test case failed\n\n* Update excluded_concrete_tests.txt\n\n* Fix openvino test failed\n\n* Update the code by review",
          "verified_at": "2025-07-03T19:37:24Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/18ab46252cedb7393a2a79c5e36845277b67024e",
      "html_url": "https://github.com/keras-team/keras/commit/18ab46252cedb7393a2a79c5e36845277b67024e",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/18ab46252cedb7393a2a79c5e36845277b67024e/comments",
      "author": {
        "login": "shashaka",
        "id": 37043543,
        "node_id": "MDQ6VXNlcjM3MDQzNTQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/37043543?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shashaka",
        "html_url": "https://github.com/shashaka",
        "followers_url": "https://api.github.com/users/shashaka/followers",
        "following_url": "https://api.github.com/users/shashaka/following{/other_user}",
        "gists_url": "https://api.github.com/users/shashaka/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/shashaka/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/shashaka/subscriptions",
        "organizations_url": "https://api.github.com/users/shashaka/orgs",
        "repos_url": "https://api.github.com/users/shashaka/repos",
        "events_url": "https://api.github.com/users/shashaka/events{/privacy}",
        "received_events_url": "https://api.github.com/users/shashaka/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "b855c4217bfcc485fc710e50df95fa4bd0cb9ca4",
          "url": "https://api.github.com/repos/keras-team/keras/commits/b855c4217bfcc485fc710e50df95fa4bd0cb9ca4",
          "html_url": "https://github.com/keras-team/keras/commit/b855c4217bfcc485fc710e50df95fa4bd0cb9ca4"
        }
      ]
    },
    {
      "sha": "b855c4217bfcc485fc710e50df95fa4bd0cb9ca4",
      "node_id": "C_kwDOAffHH9oAKGI4NTVjNDIxN2JmY2M0ODVmYzcxMGU1MGRmOTVmYTRiZDBjYjljYTQ",
      "commit": {
        "author": {
          "name": "Jyotinder Singh",
          "email": "33001894+JyotinderSingh@users.noreply.github.com",
          "date": "2025-07-03T19:36:49Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-03T19:36:49Z"
        },
        "message": "Ensures explicit mask keyword argument is used for output mask propagation (#21449)",
        "tree": {
          "sha": "10c126b6bfe424df0754a3416b545b4e4064be65",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/10c126b6bfe424df0754a3416b545b4e4064be65"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/b855c4217bfcc485fc710e50df95fa4bd0cb9ca4",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoZtvRCRC1aQ7uu5UhlAAAA/EQADztK9KgBKqlJdK96GNAtgQw\nU9JiuH62zrRW/E3GiprTPXsdAEa+L9Xk224Lxqs0wRW/CnDn6aCdMWP9xWTCRcLb\nLUXeNKsLSF7my6ExJYsy5lm1YNRCZCb7LRFFJAdaaY5FoHsrN200pfG+52y1OlAu\nznbt4OJoy4RqdvWH7je1xVS+FHzCUqIxYOpP+CJEiMyATnG6DDrg11TAb/tLpIvb\nUQkZ6rH7JuvaAEvc4dAYgqLNxhUaiSUAOKhSWOejFoBsUQdHxRD+5gIFCwC9Adbc\nmjAZptGI0Yft8ePLVZ/zvkc+rOMYQ0+uOgudX7PlGQ2TiElmLHH0eWaqO+dxlXy/\nWiXR/2EoqFJGCAYscF/q1Chz32lIp/Fvs1nBNZb540sEZSMGYlBFe11yGrTQ/F5M\ngSRQCxRWB6i0x5CRDNaT4euOeV4Y5iiBWquHqxqNK4GSytW+Y3oVg6FjT/LgVgbB\nUxtblcR1ejmN1yuaHFoxZy3/tqW1en8aSnNJRlNcdP75iT/j0jimvynaYsbt4tEZ\ndPs2rHJrqqFyI4ROeAZrncOfr9+QrgRntg/7zo6X+YUTOLjIG5tA/0nkdteDgSDF\n0ZXaW2KpHcFLViNxnuoKvMz2v/AEA5KRIQewX4KaxPT5961eScBTuU7G5is1mIHF\nAaOzrFJ5YJ/LEJJB3dw2\n=wD1Y\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 10c126b6bfe424df0754a3416b545b4e4064be65\nparent 6a54c3627d34eb323889a82efc9c7c62c948dbd7\nauthor Jyotinder Singh <33001894+JyotinderSingh@users.noreply.github.com> 1751571409 +0530\ncommitter GitHub <noreply@github.com> 1751571409 -0700\n\nEnsures explicit mask keyword argument is used for output mask propagation (#21449)\n\n",
          "verified_at": "2025-07-03T19:36:50Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/b855c4217bfcc485fc710e50df95fa4bd0cb9ca4",
      "html_url": "https://github.com/keras-team/keras/commit/b855c4217bfcc485fc710e50df95fa4bd0cb9ca4",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/b855c4217bfcc485fc710e50df95fa4bd0cb9ca4/comments",
      "author": {
        "login": "JyotinderSingh",
        "id": 33001894,
        "node_id": "MDQ6VXNlcjMzMDAxODk0",
        "avatar_url": "https://avatars.githubusercontent.com/u/33001894?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/JyotinderSingh",
        "html_url": "https://github.com/JyotinderSingh",
        "followers_url": "https://api.github.com/users/JyotinderSingh/followers",
        "following_url": "https://api.github.com/users/JyotinderSingh/following{/other_user}",
        "gists_url": "https://api.github.com/users/JyotinderSingh/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/JyotinderSingh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/JyotinderSingh/subscriptions",
        "organizations_url": "https://api.github.com/users/JyotinderSingh/orgs",
        "repos_url": "https://api.github.com/users/JyotinderSingh/repos",
        "events_url": "https://api.github.com/users/JyotinderSingh/events{/privacy}",
        "received_events_url": "https://api.github.com/users/JyotinderSingh/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "6a54c3627d34eb323889a82efc9c7c62c948dbd7",
          "url": "https://api.github.com/repos/keras-team/keras/commits/6a54c3627d34eb323889a82efc9c7c62c948dbd7",
          "html_url": "https://github.com/keras-team/keras/commit/6a54c3627d34eb323889a82efc9c7c62c948dbd7"
        }
      ]
    },
    {
      "sha": "6a54c3627d34eb323889a82efc9c7c62c948dbd7",
      "node_id": "C_kwDOAffHH9oAKDZhNTRjMzYyN2QzNGViMzIzODg5YTgyZWZjOWM3YzYyYzk0OGRiZDc",
      "commit": {
        "author": {
          "name": "Hongyu, Chiu",
          "email": "20734616+james77777778@users.noreply.github.com",
          "date": "2025-07-03T19:35:33Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-03T19:35:33Z"
        },
        "message": "Update `rms_normalization` and `layer_normalization`. (#21438)\n\n- Add tests.\n- Fix the numeric stability issue in half precision training.\n- Update the signature of the Operation.",
        "tree": {
          "sha": "fd900a00ac3b8c791c77851f92c9e7e726291f18",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/fd900a00ac3b8c791c77851f92c9e7e726291f18"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/6a54c3627d34eb323889a82efc9c7c62c948dbd7",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoZtuFCRC1aQ7uu5UhlAAAxigQAF2/b4i2Scgp9Re/GwJVyoY6\nNw7oFC3hkwNMeHcaTzpTcJnBeNMB9h7o75QIv2EFBxQXMmaJnJqUOTJMIO4rPGG5\nsi6Hu0sG1n+C5pA5hVbfB3uvbVtrAhze0QClaozbnEeIrlP2dJa7M8Af4kK/Q+/n\nopJkyt8CMdQ+2jxZwd9no7jSu0KngGwF4eHdFignpnKMgLxg3Ki8cUkiz/xjRYZG\nKRwUBRHqveuJG2zK52OzxMS5F5fUaARFPPTsTkECLFtqAvjg/gzOMRPrxVX8rbYB\nxy/6JfBOiQnOSA2+xgwVb8QIqy0hAQarCxWl5uI/9IPy3gJtiyjEjL/ydG2x7oWr\n2CM8+g3A9FcMlFRXEOxI/sJu+yj0+J4bG0B+nWfDr26oYDcjh9gM5KxPlHO2KnWG\nG9zdpKJ2t/gLzuQo15Gqevm5ozUfxBmKRD2yGIfLboO6xyJbCJ9zKLNbOj9VNyAG\nqoKjsbHc6FGm50E3wVmNjfperv3zN2JUWfVxUIBRIeuqVoKRkMgYmIRCh8+UPt4j\n34WUq91OswkB6TqpFiPcEgLFK3iAJi9KICHOKGLOYOfNB/YbBh6sMOJhjb54tZDx\nUX3lKbFuG1HcU83K1dftnNCAKa26x6YwBP75vg47I1dPptYXzbMeMGSH2GBPeGwf\n23Har8MvPUFtarB/kWBT\n=MzXS\n-----END PGP SIGNATURE-----\n",
          "payload": "tree fd900a00ac3b8c791c77851f92c9e7e726291f18\nparent ff17868ee6d0f8223c7a017ad10323f8e73e1dfa\nauthor Hongyu, Chiu <20734616+james77777778@users.noreply.github.com> 1751571333 +0800\ncommitter GitHub <noreply@github.com> 1751571333 -0700\n\nUpdate `rms_normalization` and `layer_normalization`. (#21438)\n\n- Add tests.\n- Fix the numeric stability issue in half precision training.\n- Update the signature of the Operation.",
          "verified_at": "2025-07-03T19:35:33Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/6a54c3627d34eb323889a82efc9c7c62c948dbd7",
      "html_url": "https://github.com/keras-team/keras/commit/6a54c3627d34eb323889a82efc9c7c62c948dbd7",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/6a54c3627d34eb323889a82efc9c7c62c948dbd7/comments",
      "author": {
        "login": "james77777778",
        "id": 20734616,
        "node_id": "MDQ6VXNlcjIwNzM0NjE2",
        "avatar_url": "https://avatars.githubusercontent.com/u/20734616?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/james77777778",
        "html_url": "https://github.com/james77777778",
        "followers_url": "https://api.github.com/users/james77777778/followers",
        "following_url": "https://api.github.com/users/james77777778/following{/other_user}",
        "gists_url": "https://api.github.com/users/james77777778/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/james77777778/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/james77777778/subscriptions",
        "organizations_url": "https://api.github.com/users/james77777778/orgs",
        "repos_url": "https://api.github.com/users/james77777778/repos",
        "events_url": "https://api.github.com/users/james77777778/events{/privacy}",
        "received_events_url": "https://api.github.com/users/james77777778/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "ff17868ee6d0f8223c7a017ad10323f8e73e1dfa",
          "url": "https://api.github.com/repos/keras-team/keras/commits/ff17868ee6d0f8223c7a017ad10323f8e73e1dfa",
          "html_url": "https://github.com/keras-team/keras/commit/ff17868ee6d0f8223c7a017ad10323f8e73e1dfa"
        }
      ]
    },
    {
      "sha": "ff17868ee6d0f8223c7a017ad10323f8e73e1dfa",
      "node_id": "C_kwDOAffHH9oAKGZmMTc4NjhlZTZkMGY4MjIzYzdhMDE3YWQxMDMyM2Y4ZTczZTFkZmE",
      "commit": {
        "author": {
          "name": "dependabot[bot]",
          "email": "49699333+dependabot[bot]@users.noreply.github.com",
          "date": "2025-07-01T22:09:40Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-01T22:09:40Z"
        },
        "message": "Bump github/codeql-action in the github-actions group (#21446)\n\nBumps the github-actions group with 1 update: [github/codeql-action](https://github.com/github/codeql-action).\n\n\nUpdates `github/codeql-action` from 3.28.18 to 3.29.2\n- [Release notes](https://github.com/github/codeql-action/releases)\n- [Changelog](https://github.com/github/codeql-action/blob/main/CHANGELOG.md)\n- [Commits](https://github.com/github/codeql-action/compare/ff0a06e83cb2de871e5a09832bc6a81e7276941f...181d5eefc20863364f96762470ba6f862bdef56b)\n\n---\nupdated-dependencies:\n- dependency-name: github/codeql-action\n  dependency-version: 3.29.2\n  dependency-type: direct:production\n  update-type: version-update:semver-minor\n  dependency-group: github-actions\n...\n\nSigned-off-by: dependabot[bot] <support@github.com>\nCo-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",
        "tree": {
          "sha": "cfd17ea4cdef0d6316ab59ff8d0426ed407df29e",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/cfd17ea4cdef0d6316ab59ff8d0426ed407df29e"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/ff17868ee6d0f8223c7a017ad10323f8e73e1dfa",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoZFykCRC1aQ7uu5UhlAAAZCcQAGIp0fOp+5TwHWu/qru83QEP\nRe62G3Qc19I79anHYN7afaZ0JBDYl0g1aT6WSvYcFnVMCY+YEXgh7QfNgMDd6TRw\nCDOlRjwm4dXOgZY+Pj55ckGR26aQ/QTVjbdfHCiziO9HVg+0iIMErrMt14OPDme0\nTE9ocKu8kvoEqkocj4Zgc8Ut7o8UqAYh0D2Imeh+PZrFw5TQVy8KaKWW3zPrEFpW\n/H2I8drPYn+Wmyv+qfjDC+AjK9y7eXRP7H2nSRbIgSjrxFIXbu0Hf5rNUJGQRh97\n5VQO/0jgWL6gnAsPLFjdncpiL/YjuFsfaE3rAdHek8T0jZEhinPtVFgRpAacDukh\nndTwNhxY9Tj5E10DOi8IkpcjiBVOVIIBlZ04Xt/bfQB1WIrXETkh4zAa9wg3tNDY\noD45cIK2DjgKEa3DSKzY7Oput0lJQ1kSjCf8pfUw4Imd3RDsOoV+aOU7CXHKJNCe\niEPTsZiKHT7ZJzNZtz+jRMiylIIiJJVAnc3wMDwOJX+bSW2kQGzaObjKa4iA/BY5\nk4t+RdqhvvYOeKFzM0pdufyepWh5A08w39+XAXGFjc05kuuPqJRa53iVYC3IPPmc\n8nOjSA1YHFu/EFW/ZZsUhoZYpzy+Yq2X9Oa0MdGAOZobEvQuzmSbL4ysAhzEhUny\nqupzXkf9cmib8Y+hC628\n=qM0c\n-----END PGP SIGNATURE-----\n",
          "payload": "tree cfd17ea4cdef0d6316ab59ff8d0426ed407df29e\nparent 191491f737f6531ccda74cab2ad1f973e67ee824\nauthor dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com> 1751407780 -0700\ncommitter GitHub <noreply@github.com> 1751407780 -0700\n\nBump github/codeql-action in the github-actions group (#21446)\n\nBumps the github-actions group with 1 update: [github/codeql-action](https://github.com/github/codeql-action).\n\n\nUpdates `github/codeql-action` from 3.28.18 to 3.29.2\n- [Release notes](https://github.com/github/codeql-action/releases)\n- [Changelog](https://github.com/github/codeql-action/blob/main/CHANGELOG.md)\n- [Commits](https://github.com/github/codeql-action/compare/ff0a06e83cb2de871e5a09832bc6a81e7276941f...181d5eefc20863364f96762470ba6f862bdef56b)\n\n---\nupdated-dependencies:\n- dependency-name: github/codeql-action\n  dependency-version: 3.29.2\n  dependency-type: direct:production\n  update-type: version-update:semver-minor\n  dependency-group: github-actions\n...\n\nSigned-off-by: dependabot[bot] <support@github.com>\nCo-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",
          "verified_at": "2025-07-01T22:09:40Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/ff17868ee6d0f8223c7a017ad10323f8e73e1dfa",
      "html_url": "https://github.com/keras-team/keras/commit/ff17868ee6d0f8223c7a017ad10323f8e73e1dfa",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/ff17868ee6d0f8223c7a017ad10323f8e73e1dfa/comments",
      "author": {
        "login": "dependabot[bot]",
        "id": 49699333,
        "node_id": "MDM6Qm90NDk2OTkzMzM=",
        "avatar_url": "https://avatars.githubusercontent.com/in/29110?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dependabot%5Bbot%5D",
        "html_url": "https://github.com/apps/dependabot",
        "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers",
        "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}",
        "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions",
        "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs",
        "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos",
        "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}",
        "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events",
        "type": "Bot",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "191491f737f6531ccda74cab2ad1f973e67ee824",
          "url": "https://api.github.com/repos/keras-team/keras/commits/191491f737f6531ccda74cab2ad1f973e67ee824",
          "html_url": "https://github.com/keras-team/keras/commit/191491f737f6531ccda74cab2ad1f973e67ee824"
        }
      ]
    },
    {
      "sha": "191491f737f6531ccda74cab2ad1f973e67ee824",
      "node_id": "C_kwDOAffHH9oAKDE5MTQ5MWY3MzdmNjUzMWNjZGE3NGNhYjJhZDFmOTczZTY3ZWU4MjQ",
      "commit": {
        "author": {
          "name": "Francois Chollet",
          "email": "francois.chollet@gmail.com",
          "date": "2025-07-01T00:12:04Z"
        },
        "committer": {
          "name": "Francois Chollet",
          "email": "francois.chollet@gmail.com",
          "date": "2025-07-01T00:12:04Z"
        },
        "message": "Skip failing TF test on GPU",
        "tree": {
          "sha": "239e4ddb84ee7aa78d554d396bac6b81c91c976d",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/239e4ddb84ee7aa78d554d396bac6b81c91c976d"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/191491f737f6531ccda74cab2ad1f973e67ee824",
        "comment_count": 0,
        "verification": {
          "verified": false,
          "reason": "unsigned",
          "signature": null,
          "payload": null,
          "verified_at": null
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/191491f737f6531ccda74cab2ad1f973e67ee824",
      "html_url": "https://github.com/keras-team/keras/commit/191491f737f6531ccda74cab2ad1f973e67ee824",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/191491f737f6531ccda74cab2ad1f973e67ee824/comments",
      "author": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "fchollet",
        "id": 710255,
        "node_id": "MDQ6VXNlcjcxMDI1NQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/710255?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fchollet",
        "html_url": "https://github.com/fchollet",
        "followers_url": "https://api.github.com/users/fchollet/followers",
        "following_url": "https://api.github.com/users/fchollet/following{/other_user}",
        "gists_url": "https://api.github.com/users/fchollet/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fchollet/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fchollet/subscriptions",
        "organizations_url": "https://api.github.com/users/fchollet/orgs",
        "repos_url": "https://api.github.com/users/fchollet/repos",
        "events_url": "https://api.github.com/users/fchollet/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fchollet/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "3801dcdfab90c9cc6c4a175058e3daa9fd58117e",
          "url": "https://api.github.com/repos/keras-team/keras/commits/3801dcdfab90c9cc6c4a175058e3daa9fd58117e",
          "html_url": "https://github.com/keras-team/keras/commit/3801dcdfab90c9cc6c4a175058e3daa9fd58117e"
        }
      ]
    },
    {
      "sha": "3801dcdfab90c9cc6c4a175058e3daa9fd58117e",
      "node_id": "C_kwDOAffHH9oAKDM4MDFkY2RmYWI5MGM5Y2M2YzRhMTc1MDU4ZTNkYWE5ZmQ1ODExN2U",
      "commit": {
        "author": {
          "name": "Mohamed Ashraf",
          "email": "117025882+Mohamed-Ashraf273@users.noreply.github.com",
          "date": "2025-06-30T20:30:55Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-30T20:30:55Z"
        },
        "message": "[OpenVINO backend] support bool for convert_to_tensor (#21423)",
        "tree": {
          "sha": "53535712389c905049ac1e5b59dfb500ea780d19",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/53535712389c905049ac1e5b59dfb500ea780d19"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/3801dcdfab90c9cc6c4a175058e3daa9fd58117e",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoYvP/CRC1aQ7uu5UhlAAAMbQQACMMUWWhNFpwBZ6YAphoE2mM\nt0vWQLQKoZrBrVO5eHPZzHxDEuFDxwh8j3q0l+ZoWlKLfyht/QqnJXlMeuN9wMzG\nbyxb+l18Fm88riAN125/0vtUmuRufED5wpTM/bKvmhOmuQS9mtePemlg+H2le7NS\ntYNvoWUXtZixv8rSCpC4mAUuHLhFVds0yTKbXJQmlhbhH0kSAMEdyGkIjG7lFFg2\nvarGVCGcj/RXGFW06PY/apJDLYDvLLs5L4v++vuWMNcGPllojac135UNoFi+iQEl\nZrqtxTm+IiZfwAG8Zlz8UeEVhTdwSs7rlcAcrIoDHTGJ2w+csVQhWYof6qySb97e\nPu5VJOdq8m+vPh3tdNR8OvL4LTkTVWisXGGIAflGxMvpbtmBkXnUKupcr7AU/+Q+\nkyA5V4hA7znK+gieqCaMlU76ptmeIV2QjOB952x87yXJJLvhvoYDkbTjx4djlAi5\ngLJhcFZDDjlvuh1okSMXShRqtiFrX3QBj03gtfGyqE4zI4s07j7qXhe3msOHdKfq\ne8ZgESqLVmBL3kyVjchwEu2m95H8DLhgSUrrOfvc5AV74NC18RUOFGHBip1pg50G\n2/m/tSdCnc5/fyNOIHH5rNggLk4jICN/fWwesDFqDK+fvvQrlxoWZR9Zi0r0jfxY\neMqeoJjtmMBV//vfdujv\n=XCBZ\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 53535712389c905049ac1e5b59dfb500ea780d19\nparent 6c41fc877926db73f669a91ad153faf160351489\nauthor Mohamed Ashraf <117025882+Mohamed-Ashraf273@users.noreply.github.com> 1751315455 +0300\ncommitter GitHub <noreply@github.com> 1751315455 -0700\n\n[OpenVINO backend] support bool for convert_to_tensor (#21423)\n\n",
          "verified_at": "2025-06-30T20:30:56Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/3801dcdfab90c9cc6c4a175058e3daa9fd58117e",
      "html_url": "https://github.com/keras-team/keras/commit/3801dcdfab90c9cc6c4a175058e3daa9fd58117e",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/3801dcdfab90c9cc6c4a175058e3daa9fd58117e/comments",
      "author": {
        "login": "Mohamed-Ashraf273",
        "id": 117025882,
        "node_id": "U_kgDOBvmsWg",
        "avatar_url": "https://avatars.githubusercontent.com/u/117025882?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Mohamed-Ashraf273",
        "html_url": "https://github.com/Mohamed-Ashraf273",
        "followers_url": "https://api.github.com/users/Mohamed-Ashraf273/followers",
        "following_url": "https://api.github.com/users/Mohamed-Ashraf273/following{/other_user}",
        "gists_url": "https://api.github.com/users/Mohamed-Ashraf273/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Mohamed-Ashraf273/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Mohamed-Ashraf273/subscriptions",
        "organizations_url": "https://api.github.com/users/Mohamed-Ashraf273/orgs",
        "repos_url": "https://api.github.com/users/Mohamed-Ashraf273/repos",
        "events_url": "https://api.github.com/users/Mohamed-Ashraf273/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Mohamed-Ashraf273/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "6c41fc877926db73f669a91ad153faf160351489",
          "url": "https://api.github.com/repos/keras-team/keras/commits/6c41fc877926db73f669a91ad153faf160351489",
          "html_url": "https://github.com/keras-team/keras/commit/6c41fc877926db73f669a91ad153faf160351489"
        }
      ]
    },
    {
      "sha": "6c41fc877926db73f669a91ad153faf160351489",
      "node_id": "C_kwDOAffHH9oAKDZjNDFmYzg3NzkyNmRiNzNmNjY5YTkxYWQxNTNmYWYxNjAzNTE0ODk",
      "commit": {
        "author": {
          "name": "Hongyu, Chiu",
          "email": "20734616+james77777778@users.noreply.github.com",
          "date": "2025-06-30T20:30:23Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-30T20:30:23Z"
        },
        "message": "Fix torch LSTM onnx export issue. (#21434)",
        "tree": {
          "sha": "83b93b8a9951b3d097ecab2febedc086b45acfec",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/83b93b8a9951b3d097ecab2febedc086b45acfec"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/6c41fc877926db73f669a91ad153faf160351489",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoYvPfCRC1aQ7uu5UhlAAAIQAQAJ4UHRXlaP2EKlA+TH2DT/fw\nBQxJmMM0f0WYdool8NuIbqOZWUQmU3hVamgsNbr5Uq4GbRPp5vOS/P1uge21kM1O\nZlq/ap8eST2RAe6Ej1BZTTj6auSd65qaH7SXUdKc1aJKBLLLcQR4ffCpJdKtmyui\nsa09zaQ5w8fa9G22hoIz7EFectaXOuiF/qBbExAZOXSijA3TGjiSvhkeqGGU9BhD\npAUEZ+yCGuIsrdoaSDLeMb48XrwXARIaQjO1F9pbX98CvqTZpQUEdW5ZWSj7yKOz\nyKzfV1WVxLIw5pA+huGbfzDm+ZL5mLT/K1PYSbAPGsS9iVGIO/25lpp+Lwa53YT7\nlocx64vOsKa0CjGu6Bd8Nh+0q1BLfKeHsJ323UNktN8XxA7Jt9VqaisVqf54iFrM\nE2Wq+RpQ3DIss8AmVgP5UOcNuxE0irtoOHX9DJBUfv7hBPWD8vosC1C3JQuz0gEz\nnv0PJARhC016Tq1+tIr4lxhTFMEXD/+GMkSyMZW0k9fPp89EK3AJjx71yt5+UQcs\neBwqUf0eYDXyo6CzwDeEKIpz6n3lMb3fuE36d/LFYbDmGhRzJEpb6UVaO59B8Mkv\naFFqVHVMd9xpsVkVIQRHDRkpUslu3BCkShyJVSd39ibIbrvRJKRowVD/v+9xwdSK\nHxfsXTzybG4d/rn043RR\n=T96K\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 83b93b8a9951b3d097ecab2febedc086b45acfec\nparent cdcd5b33397691abb850124c1a908abbcf5aadee\nauthor Hongyu, Chiu <20734616+james77777778@users.noreply.github.com> 1751315423 +0800\ncommitter GitHub <noreply@github.com> 1751315423 -0700\n\nFix torch LSTM onnx export issue. (#21434)\n\n",
          "verified_at": "2025-06-30T20:30:24Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/6c41fc877926db73f669a91ad153faf160351489",
      "html_url": "https://github.com/keras-team/keras/commit/6c41fc877926db73f669a91ad153faf160351489",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/6c41fc877926db73f669a91ad153faf160351489/comments",
      "author": {
        "login": "james77777778",
        "id": 20734616,
        "node_id": "MDQ6VXNlcjIwNzM0NjE2",
        "avatar_url": "https://avatars.githubusercontent.com/u/20734616?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/james77777778",
        "html_url": "https://github.com/james77777778",
        "followers_url": "https://api.github.com/users/james77777778/followers",
        "following_url": "https://api.github.com/users/james77777778/following{/other_user}",
        "gists_url": "https://api.github.com/users/james77777778/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/james77777778/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/james77777778/subscriptions",
        "organizations_url": "https://api.github.com/users/james77777778/orgs",
        "repos_url": "https://api.github.com/users/james77777778/repos",
        "events_url": "https://api.github.com/users/james77777778/events{/privacy}",
        "received_events_url": "https://api.github.com/users/james77777778/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "cdcd5b33397691abb850124c1a908abbcf5aadee",
          "url": "https://api.github.com/repos/keras-team/keras/commits/cdcd5b33397691abb850124c1a908abbcf5aadee",
          "html_url": "https://github.com/keras-team/keras/commit/cdcd5b33397691abb850124c1a908abbcf5aadee"
        }
      ]
    },
    {
      "sha": "cdcd5b33397691abb850124c1a908abbcf5aadee",
      "node_id": "C_kwDOAffHH9oAKGNkY2Q1YjMzMzk3NjkxYWJiODUwMTI0YzFhOTA4YWJiY2Y1YWFkZWU",
      "commit": {
        "author": {
          "name": "C. Antonio S\u00e1nchez",
          "email": "cantonios@users.noreply.github.com",
          "date": "2025-06-30T20:22:33Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-30T20:22:33Z"
        },
        "message": "Support non-tf.data.Dataset instances in multi-host setting. (#21430)\n\nIt is assumed that the data is already pre-sharded across hosts.\n\nIf `distribution.auto_shard_dataset` is `True` but the input\ndataset isn't a tf.data.Dataset, will error out as before.\nSetting `auto_shard_dataset` to `False` will allow any\ndataset type to be used.\n\nUnfortunately we can't add a test for this in OSS since we don't\nhave a multi-process test fixture.  However, this was tested\ninternally.",
        "tree": {
          "sha": "f668c8ee56180c308c048cee3377cf64fe2a3cba",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/f668c8ee56180c308c048cee3377cf64fe2a3cba"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/cdcd5b33397691abb850124c1a908abbcf5aadee",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoYvIJCRC1aQ7uu5UhlAAAPCgQAFM9ttzwPdyrKh1AAlh2gkXB\nlD2pf20z47MBbCI1mF5LrkCDp+XpTzvl7aoalU1K5pPsJ3ptFk7Fit0u9ddp48PG\nx0MChRk/okv+kvQQu1lOEW+yX+bhpak/29rWUWU+cLFiKyP/GW5nppEEzltTfA4O\nYBC3J4ACctqwMX+6a7cOzRA5Ou0S2py6iP5Ap1xi92tTmoquAjUbDn7pAet1cOGr\nlriDCBeSOKMOBIBEOl3vbUuNBO7MSExJSnXzZBoxDgHQ7UUBlU/vsM3h8qQD7KcC\nhLfjSTOKnVEhyZxyq2/q0/NukBUJJQ2lUGMsViNtW4otkfvCn1rlef4fD8v52kH1\nTyy44gbGSzjk52BxHOdT54H5cAOBIORrEvI1qycJKvgAuczsuwUVQgO1ry9LWFAu\nMV0/VGOxUmmVPbPDWmMkDsfTsVx3hrr94Bs5Q5i5+jTueRLfYrGE9HmCIltUBq70\nElILbFJLHUCqUOL/3u1cTVqzI55/VgUOsDdsvvnGtRGF9M8J4BHbAP90KSqjG0br\nGQLfrr7ynuk8H/Y9RLgUepP+wBWUnnrlyM7U3K/+0YO7Y9S8LHFNeww2iHKMg810\ni8xoJsPOTi+siV5vIFuQREYA1UELAdgaLMWgC7b5z17LwuHE3SAeqg6DHMOzn9ef\nXVv1hTKATKfRqOZcCV+o\n=52p0\n-----END PGP SIGNATURE-----\n",
          "payload": "tree f668c8ee56180c308c048cee3377cf64fe2a3cba\nparent 713172ab56b864e59e2aa79b1a51b0e728bba858\nauthor C. Antonio S\u00e1nchez <cantonios@users.noreply.github.com> 1751314953 -0700\ncommitter GitHub <noreply@github.com> 1751314953 -0700\n\nSupport non-tf.data.Dataset instances in multi-host setting. (#21430)\n\nIt is assumed that the data is already pre-sharded across hosts.\n\nIf `distribution.auto_shard_dataset` is `True` but the input\ndataset isn't a tf.data.Dataset, will error out as before.\nSetting `auto_shard_dataset` to `False` will allow any\ndataset type to be used.\n\nUnfortunately we can't add a test for this in OSS since we don't\nhave a multi-process test fixture.  However, this was tested\ninternally.",
          "verified_at": "2025-06-30T20:22:33Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/cdcd5b33397691abb850124c1a908abbcf5aadee",
      "html_url": "https://github.com/keras-team/keras/commit/cdcd5b33397691abb850124c1a908abbcf5aadee",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/cdcd5b33397691abb850124c1a908abbcf5aadee/comments",
      "author": {
        "login": "cantonios",
        "id": 2538739,
        "node_id": "MDQ6VXNlcjI1Mzg3Mzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2538739?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cantonios",
        "html_url": "https://github.com/cantonios",
        "followers_url": "https://api.github.com/users/cantonios/followers",
        "following_url": "https://api.github.com/users/cantonios/following{/other_user}",
        "gists_url": "https://api.github.com/users/cantonios/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cantonios/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cantonios/subscriptions",
        "organizations_url": "https://api.github.com/users/cantonios/orgs",
        "repos_url": "https://api.github.com/users/cantonios/repos",
        "events_url": "https://api.github.com/users/cantonios/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cantonios/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "713172ab56b864e59e2aa79b1a51b0e728bba858",
          "url": "https://api.github.com/repos/keras-team/keras/commits/713172ab56b864e59e2aa79b1a51b0e728bba858",
          "html_url": "https://github.com/keras-team/keras/commit/713172ab56b864e59e2aa79b1a51b0e728bba858"
        }
      ]
    },
    {
      "sha": "713172ab56b864e59e2aa79b1a51b0e728bba858",
      "node_id": "C_kwDOAffHH9oAKDcxMzE3MmFiNTZiODY0ZTU5ZTJhYTc5YjFhNTFiMGU3MjhiYmE4NTg",
      "commit": {
        "author": {
          "name": "hertschuh",
          "email": "1091026+hertschuh@users.noreply.github.com",
          "date": "2025-06-29T17:32:40Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-29T17:32:40Z"
        },
        "message": "Only allow deserialization of `KerasSaveable`s by module and name. (#21429)\n\nArbitrary functions and classes are not allowed.\n\n- Made `Operation` extend `KerasSaveable`, this required moving imports to avoid circular imports\n- `Layer` no longer need to extend `KerasSaveable` directly\n- Made feature space `Cross` and `Feature` extend `KerasSaveable`\n- Also dissallow public function `enable_unsafe_deserialization`",
        "tree": {
          "sha": "68418b94345ed29bafc8eeec62c592c1c8e8e7f5",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/68418b94345ed29bafc8eeec62c592c1c8e8e7f5"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/713172ab56b864e59e2aa79b1a51b0e728bba858",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoYXi4CRC1aQ7uu5UhlAAAqcUQACcp+Z//i5oMdWt1eGABROJf\nm/znzs3Y/5iWowKmJI6n4QVlDfcZTsj243BZmlHiwXAuCZ6FGZN4MtN1ji/qRrmz\nbx3m9UR3Vf9kIO1l1YQC+KTgd3vWr4+oAtx45v5FRBPUkbPSAZ+RsuLSEaBfTlFH\nDbGbL9PvQiF7OlcsIK5F+cmYrAhFemJefh6IST0RVeCANa+3cqg2xSL250jwQTFg\nUJZRqww6GZ3hk9P+gCpVvLAtmFyxfKQNOWdije9YESKcWtsSIz4UM0bnRuGkPOTT\nNYTHnmX8lOceipQT7oLL447BPOf/IbifEHz7T8+ac8ug+gXv4a7jd2M/k1t8EdQj\nA2JRmKEFQBBcZ3ovKBr3KobvMk5DXF0qPGl52g8P89sdY6Ijkehj2p4Mr9EjrzQL\nOGWW+jKOYChuRtUi7kCkH+tpGOO3y8U6924doiZsGLnKMgw6ysvzuJjglOwZYLq9\nypUivDASw3k3TG0FaQ3MT/gvvwKJ+XZwJv3dJ0LwrVXwYtie6o53d7/hI86OgVAh\nPtirw/CixIuCn02uc3Dj1iBZGVbFZeIDh+N93cTbdj9wbn14HJ+teJZ2+w26gxBo\nRayIM1jYQ8xjpYbYSmB3G53KpsbsRf6xeZNDbtKFlQdFvrQ8DqcLK8DKlZFXVhmj\nLwzqtvmGFw7MoToCIt8l\n=4Kh8\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 68418b94345ed29bafc8eeec62c592c1c8e8e7f5\nparent 744b8beb58ff0e162271dce4c69876ed211e774a\nauthor hertschuh <1091026+hertschuh@users.noreply.github.com> 1751218360 -0700\ncommitter GitHub <noreply@github.com> 1751218360 -0700\n\nOnly allow deserialization of `KerasSaveable`s by module and name. (#21429)\n\nArbitrary functions and classes are not allowed.\n\n- Made `Operation` extend `KerasSaveable`, this required moving imports to avoid circular imports\n- `Layer` no longer need to extend `KerasSaveable` directly\n- Made feature space `Cross` and `Feature` extend `KerasSaveable`\n- Also dissallow public function `enable_unsafe_deserialization`",
          "verified_at": "2025-06-29T17:32:41Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/713172ab56b864e59e2aa79b1a51b0e728bba858",
      "html_url": "https://github.com/keras-team/keras/commit/713172ab56b864e59e2aa79b1a51b0e728bba858",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/713172ab56b864e59e2aa79b1a51b0e728bba858/comments",
      "author": {
        "login": "hertschuh",
        "id": 1091026,
        "node_id": "MDQ6VXNlcjEwOTEwMjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1091026?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hertschuh",
        "html_url": "https://github.com/hertschuh",
        "followers_url": "https://api.github.com/users/hertschuh/followers",
        "following_url": "https://api.github.com/users/hertschuh/following{/other_user}",
        "gists_url": "https://api.github.com/users/hertschuh/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hertschuh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hertschuh/subscriptions",
        "organizations_url": "https://api.github.com/users/hertschuh/orgs",
        "repos_url": "https://api.github.com/users/hertschuh/repos",
        "events_url": "https://api.github.com/users/hertschuh/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hertschuh/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "744b8beb58ff0e162271dce4c69876ed211e774a",
          "url": "https://api.github.com/repos/keras-team/keras/commits/744b8beb58ff0e162271dce4c69876ed211e774a",
          "html_url": "https://github.com/keras-team/keras/commit/744b8beb58ff0e162271dce4c69876ed211e774a"
        }
      ]
    },
    {
      "sha": "744b8beb58ff0e162271dce4c69876ed211e774a",
      "node_id": "C_kwDOAffHH9oAKDc0NGI4YmViNThmZjBlMTYyMjcxZGNlNGM2OTg3NmVkMjExZTc3NGE",
      "commit": {
        "author": {
          "name": "hertschuh",
          "email": "1091026+hertschuh@users.noreply.github.com",
          "date": "2025-06-27T19:11:36Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-27T19:11:36Z"
        },
        "message": "Fix symbolic call of `logsumexp` with int axis. (#21428)\n\nUsing `keras.ops.math.logsumexp` with an int for `axis` in a functional model would throw an error.",
        "tree": {
          "sha": "f12a2b9890c9678b3a386d17eb20833f3c7552d0",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/f12a2b9890c9678b3a386d17eb20833f3c7552d0"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/744b8beb58ff0e162271dce4c69876ed211e774a",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoXuzoCRC1aQ7uu5UhlAAAJrcQAEAyojvWrFXv8NOod3tBzTVr\n7HRNVobXoBeBF44hzMFw3DbjfCDDmotUbj3m9AWFzRLLMcLfkS81O9oIamYlQ4SM\nzWszwqc7q3no0hjPvPrg6VfcRTjEnIz0mrOj0alTlR55O4K+w+y2j/184XhVSgm7\nkO4MdkXJQ4/wEjRd+rD32u8ZbRRYSFduXWyIHuFDDauhzD+beXLYugoVyif+Tbp5\ntainVCaCnDsSHdPusAN1XqNWtNWrkVe3aEXC7LcupN3KMtBPBiYhuMUZa+JeHrOs\nl4UTUKDBtQZaFrFHKTDLWmoNXCH8WQ0tKuomUs860ViCI0dkUfl2qid2gEXGfOtR\npCnT3b6WnrZHn5MSPCF11L1XqWASEK//Qh0Yqv6gbulRUc9dgwCUlYjgLIEuAOL4\n35KJBvffnI1tXHTcv5PR0y293elfBM5u8zV2aA4flGK9pM7SbDGoZA7HNDPZ+aIo\ncNifpB7SQvD3XKFrbW+hytPGMKi86XrUib2GxG8lpEg96I7AttU2ra29TLg9i43a\nkOYT0j6vDx3xoVCKRh5oGAwLCwQ0BWr1siIq8H71UbsUkEpJGCDLKtiDSMasIUEq\nTuKfWfeDNOJSazpFUHOH0JNiY2B3EFqJLl9JMTEPFZ++aJc/ez8zy6Y6cWooj/r4\n+WFRF0HrZlrMycsNW1SK\n=MZjb\n-----END PGP SIGNATURE-----\n",
          "payload": "tree f12a2b9890c9678b3a386d17eb20833f3c7552d0\nparent df58ec940ef6beb4b30b559a6c49ca3fca3a9990\nauthor hertschuh <1091026+hertschuh@users.noreply.github.com> 1751051496 -0700\ncommitter GitHub <noreply@github.com> 1751051496 -0700\n\nFix symbolic call of `logsumexp` with int axis. (#21428)\n\nUsing `keras.ops.math.logsumexp` with an int for `axis` in a functional model would throw an error.",
          "verified_at": "2025-06-27T19:11:36Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/744b8beb58ff0e162271dce4c69876ed211e774a",
      "html_url": "https://github.com/keras-team/keras/commit/744b8beb58ff0e162271dce4c69876ed211e774a",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/744b8beb58ff0e162271dce4c69876ed211e774a/comments",
      "author": {
        "login": "hertschuh",
        "id": 1091026,
        "node_id": "MDQ6VXNlcjEwOTEwMjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1091026?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hertschuh",
        "html_url": "https://github.com/hertschuh",
        "followers_url": "https://api.github.com/users/hertschuh/followers",
        "following_url": "https://api.github.com/users/hertschuh/following{/other_user}",
        "gists_url": "https://api.github.com/users/hertschuh/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hertschuh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hertschuh/subscriptions",
        "organizations_url": "https://api.github.com/users/hertschuh/orgs",
        "repos_url": "https://api.github.com/users/hertschuh/repos",
        "events_url": "https://api.github.com/users/hertschuh/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hertschuh/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "df58ec940ef6beb4b30b559a6c49ca3fca3a9990",
          "url": "https://api.github.com/repos/keras-team/keras/commits/df58ec940ef6beb4b30b559a6c49ca3fca3a9990",
          "html_url": "https://github.com/keras-team/keras/commit/df58ec940ef6beb4b30b559a6c49ca3fca3a9990"
        }
      ]
    },
    {
      "sha": "df58ec940ef6beb4b30b559a6c49ca3fca3a9990",
      "node_id": "C_kwDOAffHH9oAKGRmNThlYzk0MGVmNmJlYjRiMzBiNTU5YTZjNDljYTNmY2EzYTk5OTA",
      "commit": {
        "author": {
          "name": "hertschuh",
          "email": "1091026+hertschuh@users.noreply.github.com",
          "date": "2025-06-26T16:51:18Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-26T16:51:18Z"
        },
        "message": "Progress bar now handles `steps_per_execution`. (#21422)\n\nProgress bar would always report the starting batch + 1 at the end of the batch. Now it takes into account `steps_per_execution` for the last batch reported.\n\nFixes https://github.com/keras-team/keras/issues/20861",
        "tree": {
          "sha": "4fceba8b0b091abf484c3e4fe7e1115e49a2d8a5",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/4fceba8b0b091abf484c3e4fe7e1115e49a2d8a5"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/df58ec940ef6beb4b30b559a6c49ca3fca3a9990",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoXXqGCRC1aQ7uu5UhlAAAdG8QAKBPg3DexThLvNV2tJCOtaEn\nYKAlUFW3Mc2Bbwu0wv/vhnvJKQ/j6cNVuQixnk/ETFS7CL347ND1CAgNiZaUNBRt\nB9ZONx/DBfk6vgUdbyyc5Z2Ssx69ilhNIkCPIYzhhaALKE3U44EwI8K3te17k/mO\njORp0ZF9SlCFBmjYWwMTHHChGWPfB8+LgHsUw9N+z0qpe74vV4HaVuQudXdlf3QQ\njWAfhGP7rnM66+MC/5ja/WizPARXmj4FvAm8WINpIF2oT/ftEd2X7O4HxToNHso/\nImoPSn0FAjPUPy9ohjjFAUR+IjnCPKNuLR2ETzeQv7BfKOvtf1Y119fMMS8mXoUg\nIxF2Q8IXEPfmwgzC5AoqJqd6sYxujsD5eG2hzaw/S9ZAqHHze0v+70evz/BFS9gv\nqDT4gxYudUPzGa5FbIi4qRQCWUrRQrjZdkR8wQYvYtljkW5zMLAM61zxrnoDhTn9\ns0CLq99RNlv0R8ZhbWz2JS0vRym2slmAN505RrmSWtkJYVEm/qZr4JjXwo/wB0sH\nkWkD6lH61bazAAoEfc04DCKj0SwjGoSXZ5/qoG815tmEklD0nBuYhXxO+/ap7cqE\nZUVYjfUkDYhyYux8vi7KP2WxKEYmrKuctBhc1LII87Iuun17rRSGm5MKRtwPHBf0\nv2gwBdfRB4ZOjuGbAnrZ\n=HODx\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 4fceba8b0b091abf484c3e4fe7e1115e49a2d8a5\nparent 3a111325502c0bc92d27fe6ed9f315966e5318c3\nauthor hertschuh <1091026+hertschuh@users.noreply.github.com> 1750956678 -0700\ncommitter GitHub <noreply@github.com> 1750956678 -0700\n\nProgress bar now handles `steps_per_execution`. (#21422)\n\nProgress bar would always report the starting batch + 1 at the end of the batch. Now it takes into account `steps_per_execution` for the last batch reported.\n\nFixes https://github.com/keras-team/keras/issues/20861",
          "verified_at": "2025-06-26T16:51:19Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/df58ec940ef6beb4b30b559a6c49ca3fca3a9990",
      "html_url": "https://github.com/keras-team/keras/commit/df58ec940ef6beb4b30b559a6c49ca3fca3a9990",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/df58ec940ef6beb4b30b559a6c49ca3fca3a9990/comments",
      "author": {
        "login": "hertschuh",
        "id": 1091026,
        "node_id": "MDQ6VXNlcjEwOTEwMjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1091026?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hertschuh",
        "html_url": "https://github.com/hertschuh",
        "followers_url": "https://api.github.com/users/hertschuh/followers",
        "following_url": "https://api.github.com/users/hertschuh/following{/other_user}",
        "gists_url": "https://api.github.com/users/hertschuh/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hertschuh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hertschuh/subscriptions",
        "organizations_url": "https://api.github.com/users/hertschuh/orgs",
        "repos_url": "https://api.github.com/users/hertschuh/repos",
        "events_url": "https://api.github.com/users/hertschuh/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hertschuh/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "3a111325502c0bc92d27fe6ed9f315966e5318c3",
          "url": "https://api.github.com/repos/keras-team/keras/commits/3a111325502c0bc92d27fe6ed9f315966e5318c3",
          "html_url": "https://github.com/keras-team/keras/commit/3a111325502c0bc92d27fe6ed9f315966e5318c3"
        }
      ]
    },
    {
      "sha": "3a111325502c0bc92d27fe6ed9f315966e5318c3",
      "node_id": "C_kwDOAffHH9oAKDNhMTExMzI1NTAyYzBiYzkyZDI3ZmU2ZWQ5ZjMxNTk2NmU1MzE4YzM",
      "commit": {
        "author": {
          "name": "Matt Watson",
          "email": "1389937+mattdangerw@users.noreply.github.com",
          "date": "2025-06-25T02:40:07Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-25T02:40:07Z"
        },
        "message": "Fix nan istft flakiness in different backends in math_test.py (#21419)",
        "tree": {
          "sha": "3a8c73b64060f6f2af3a9d8f443db90611883723",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/3a8c73b64060f6f2af3a9d8f443db90611883723"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/3a111325502c0bc92d27fe6ed9f315966e5318c3",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoW2GICRC1aQ7uu5UhlAAAsLEQAIsLjPIUJq/0Vmcbe54hDX7/\nEuOEHejvqo/kYF7CWtFOnxgmBq11C5ZZYdcn3TAeR8j2/+WjFvlIGfUfb0XT7+KH\nPAIklw1eyiZzIeH42sqvyq0B4ZQrmkutaEaUAwhYkEBQxu8yhEIqHks8b6ExbBV/\num59coz4a6wfCZAW6MmBU1GIdXaTLyXuArFg5/PDu5oOWc8mQmIx5K8d+L6lRK3Q\nezPbE4N1/TC/1hlrzCkrRJMr5PDK4Myy+TFQYO75zgddzCu2zCwvM2HXQpb74aGk\nCsp7t277R56uJcbZnZkk3VSTqoNKiled61s5Wrd0I4SsfAFfzdFiJmhzQG8ZLXoH\nnI7FYvZFaHUmLoXU5Z4P0UsPtgm3oTMKgQ6nDGFKEuAMEE+8YkKWc/u8GluPtm3W\nbkmhWA9E2QZS0LIbcCjG02aTlAb/ssG/zVHjIhcVLTbSlagyu51T5XvhynfbrBl7\nrX+1AO7foW2fmGx95BWco82NZ7kr0m5XoLgcawdy7bBSGbHsz2hB+A/xrm0i2QJE\n8UtmIgnq1vz3VzxUNZjotCdBYmMpND8FsZP1YMSPj4JFXi77lNaAu5kC58pQyM6/\nmuR2wTOIV423yJIg8Jodced177cFYxbNcR/1KevGVoAebTTiZzeGMFZpY7CfRwFH\npGgCLIQRoaAJTNdGpKFS\n=Y2RE\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 3a8c73b64060f6f2af3a9d8f443db90611883723\nparent 6ff1cdb0322c7258bad2f7b7da81fc279e441593\nauthor Matt Watson <1389937+mattdangerw@users.noreply.github.com> 1750819207 -0700\ncommitter GitHub <noreply@github.com> 1750819207 -0700\n\nFix nan istft flakiness in different backends in math_test.py (#21419)\n\n",
          "verified_at": "2025-06-25T02:40:08Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/3a111325502c0bc92d27fe6ed9f315966e5318c3",
      "html_url": "https://github.com/keras-team/keras/commit/3a111325502c0bc92d27fe6ed9f315966e5318c3",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/3a111325502c0bc92d27fe6ed9f315966e5318c3/comments",
      "author": {
        "login": "mattdangerw",
        "id": 1389937,
        "node_id": "MDQ6VXNlcjEzODk5Mzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1389937?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mattdangerw",
        "html_url": "https://github.com/mattdangerw",
        "followers_url": "https://api.github.com/users/mattdangerw/followers",
        "following_url": "https://api.github.com/users/mattdangerw/following{/other_user}",
        "gists_url": "https://api.github.com/users/mattdangerw/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mattdangerw/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mattdangerw/subscriptions",
        "organizations_url": "https://api.github.com/users/mattdangerw/orgs",
        "repos_url": "https://api.github.com/users/mattdangerw/repos",
        "events_url": "https://api.github.com/users/mattdangerw/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mattdangerw/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "6ff1cdb0322c7258bad2f7b7da81fc279e441593",
          "url": "https://api.github.com/repos/keras-team/keras/commits/6ff1cdb0322c7258bad2f7b7da81fc279e441593",
          "html_url": "https://github.com/keras-team/keras/commit/6ff1cdb0322c7258bad2f7b7da81fc279e441593"
        }
      ]
    },
    {
      "sha": "6ff1cdb0322c7258bad2f7b7da81fc279e441593",
      "node_id": "C_kwDOAffHH9oAKDZmZjFjZGIwMzIyYzcyNThiYWQyZjdiN2RhODFmYzI3OWU0NDE1OTM",
      "commit": {
        "author": {
          "name": "hertschuh",
          "email": "1091026+hertschuh@users.noreply.github.com",
          "date": "2025-06-24T16:23:08Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-24T16:23:08Z"
        },
        "message": "Fix JAX GPU tests. (#21402)\n\nUpgraded JAX version to 0.6.2.",
        "tree": {
          "sha": "87f51166b3ed608c24eef5bd760be23f50a344e6",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/87f51166b3ed608c24eef5bd760be23f50a344e6"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/6ff1cdb0322c7258bad2f7b7da81fc279e441593",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoWtDsCRC1aQ7uu5UhlAAAGsUQAFBj2OsxTmTVC0miwvWt9f7m\nyDPbGkqRp4pzGJ2wrlVGfVMIJFjH1WDPWL0pxOLKNngfshvEHeezYrkxpeJKeWZU\nxS2Wy+RVxh34G/+0KKmfhGPC8aGPRL3LintafNRLUxR4VvOCBIBVgpTN2mKWMay6\nYt4tt7ZH/CUCKclb67HftjpzCR62fmWIn3mYu4DWXhc77W/4BJoDWNFCwvUtg02i\nQUgU/Ks+CKe1XGETb4MKxcWUrX6VwVv3FjRRri+2nW1f7d3pT4s9Mp7+TXQT5o3M\nm9Qwe2n3rPov0Ee8ThGJx/neqxQScPl8RA/w0xT4rQ1nZOkPaOTgi698JHKMBe26\nRhVe/yr78jmEdtPsH4M9aimINUMkrehJXg4zRequ4P7vWSA5XDZ8/Q6NAwLKdOBg\nDnYWpga/B11WazSvi3jk+TK8rg2RPAX3NKFflVIl76JpdEvjG9YA1AyRqa6QqaZY\n14cihhu/E9JdaxUQTYRsnzmJYOOqB/IzwFGFfO8Dc0EUSY0/csL2g8+h84OwSpjf\nFP7ehekuqldgCnXTwec/SlaNx7Xca8Ep5jQCEwVhy8LHgwBdka+mHmn+DsWJ9JUY\ndpyqI0iXXWeUWh+fa91s8TSvxopoNWdGk9+BMl4TL9fPW2cq9VpZbrT8GWtk8xKy\n2cHQrl5vvqSoZL7M/em0\n=NAov\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 87f51166b3ed608c24eef5bd760be23f50a344e6\nparent 3d6022ab4b79367911cede68a550bfd5b61e2f6d\nauthor hertschuh <1091026+hertschuh@users.noreply.github.com> 1750782188 -0700\ncommitter GitHub <noreply@github.com> 1750782188 -0700\n\nFix JAX GPU tests. (#21402)\n\nUpgraded JAX version to 0.6.2.",
          "verified_at": "2025-06-24T16:23:09Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/6ff1cdb0322c7258bad2f7b7da81fc279e441593",
      "html_url": "https://github.com/keras-team/keras/commit/6ff1cdb0322c7258bad2f7b7da81fc279e441593",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/6ff1cdb0322c7258bad2f7b7da81fc279e441593/comments",
      "author": {
        "login": "hertschuh",
        "id": 1091026,
        "node_id": "MDQ6VXNlcjEwOTEwMjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1091026?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hertschuh",
        "html_url": "https://github.com/hertschuh",
        "followers_url": "https://api.github.com/users/hertschuh/followers",
        "following_url": "https://api.github.com/users/hertschuh/following{/other_user}",
        "gists_url": "https://api.github.com/users/hertschuh/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hertschuh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hertschuh/subscriptions",
        "organizations_url": "https://api.github.com/users/hertschuh/orgs",
        "repos_url": "https://api.github.com/users/hertschuh/repos",
        "events_url": "https://api.github.com/users/hertschuh/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hertschuh/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "3d6022ab4b79367911cede68a550bfd5b61e2f6d",
          "url": "https://api.github.com/repos/keras-team/keras/commits/3d6022ab4b79367911cede68a550bfd5b61e2f6d",
          "html_url": "https://github.com/keras-team/keras/commit/3d6022ab4b79367911cede68a550bfd5b61e2f6d"
        }
      ]
    },
    {
      "sha": "3d6022ab4b79367911cede68a550bfd5b61e2f6d",
      "node_id": "C_kwDOAffHH9oAKDNkNjAyMmFiNGI3OTM2NzkxMWNlZGU2OGE1NTBiZmQ1YjYxZTJmNmQ",
      "commit": {
        "author": {
          "name": "hertschuh",
          "email": "1091026+hertschuh@users.noreply.github.com",
          "date": "2025-06-24T01:36:47Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-24T01:36:47Z"
        },
        "message": "Disable loading functions within deserialization. (#21412)\n\nLoading files while loading a model is not allowed.",
        "tree": {
          "sha": "eca27cd7d892d41ad497f53d00c573af7f3df703",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/eca27cd7d892d41ad497f53d00c573af7f3df703"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/3d6022ab4b79367911cede68a550bfd5b61e2f6d",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoWgEvCRC1aQ7uu5UhlAAAldYQAJARVRlbgjNehRVzqPN6CiYb\nIRX5xuawsUqRq/RZ3gFiySQg8O9FHOwvGt7NLNZfG28GLnzVkyaJu7VraHbisKFt\nWhIawyrOm2e23P7oTknnkIr6Natq/KEUxFGGCFbZ6CGL9j2C7dAQbJPZXfc880KF\nBAGi7SAICXjFCif8taCmhJsFFK80j5dGVhd568OkuBp+dfjVyLA3/5dC8ZTIGAed\n+hlIe9JrGkFLxPVgiV42nEuS1r+EOWMp2uDUkn+KFIPL7yELAgsPSEjJK8cTaphy\nn2K3u6jFw39p1c/HWAMPObApUGvr+ru2zHQVGz7dAQMvpyJtWzx2Okh7nsMnrG6j\nENyRv4XSWl4E839SxT1S37nB7pbPDgto9arrGOw9n71RdW82Mx1X2RCvFkGVIaeg\nxdCMeKRJt9Tgu6nPHWcTGCK69NHd6puVNkegWFdXHNii1YuJgfPpO1brFHcGR7bO\nZTqt+DkxTzKg+fdNHXxk9zJGoVpiGVUy1s4RBWrPT1cWSmzYq+S+D7oB/VKM3WRy\n2S/jpjuE6RbDZUIvf0bDdVGTboI/uY3wjaqlzeWcMo+X8VPWwABTWwKEvRSIskRT\nzgxcUdTGhwOlGbYxLnhrs4WkAyxty7MNA/VIbh4VRVet7NVncAuqoCs7mDBhj0FP\nve8eC9gZQwwlNvyj4PMy\n=9Rkb\n-----END PGP SIGNATURE-----\n",
          "payload": "tree eca27cd7d892d41ad497f53d00c573af7f3df703\nparent be9b00227b3110aabb229859524cf4f5620eb275\nauthor hertschuh <1091026+hertschuh@users.noreply.github.com> 1750729007 -0700\ncommitter GitHub <noreply@github.com> 1750729007 -0700\n\nDisable loading functions within deserialization. (#21412)\n\nLoading files while loading a model is not allowed.",
          "verified_at": "2025-06-24T01:36:48Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/3d6022ab4b79367911cede68a550bfd5b61e2f6d",
      "html_url": "https://github.com/keras-team/keras/commit/3d6022ab4b79367911cede68a550bfd5b61e2f6d",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/3d6022ab4b79367911cede68a550bfd5b61e2f6d/comments",
      "author": {
        "login": "hertschuh",
        "id": 1091026,
        "node_id": "MDQ6VXNlcjEwOTEwMjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1091026?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hertschuh",
        "html_url": "https://github.com/hertschuh",
        "followers_url": "https://api.github.com/users/hertschuh/followers",
        "following_url": "https://api.github.com/users/hertschuh/following{/other_user}",
        "gists_url": "https://api.github.com/users/hertschuh/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hertschuh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hertschuh/subscriptions",
        "organizations_url": "https://api.github.com/users/hertschuh/orgs",
        "repos_url": "https://api.github.com/users/hertschuh/repos",
        "events_url": "https://api.github.com/users/hertschuh/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hertschuh/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "be9b00227b3110aabb229859524cf4f5620eb275",
          "url": "https://api.github.com/repos/keras-team/keras/commits/be9b00227b3110aabb229859524cf4f5620eb275",
          "html_url": "https://github.com/keras-team/keras/commit/be9b00227b3110aabb229859524cf4f5620eb275"
        }
      ]
    },
    {
      "sha": "be9b00227b3110aabb229859524cf4f5620eb275",
      "node_id": "C_kwDOAffHH9oAKGJlOWIwMDIyN2IzMTEwYWFiYjIyOTg1OTUyNGNmNGY1NjIwZWIyNzU",
      "commit": {
        "author": {
          "name": "C. Antonio S\u00e1nchez",
          "email": "cantonios@users.noreply.github.com",
          "date": "2025-06-20T19:28:48Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-20T19:28:48Z"
        },
        "message": "Add \"format\" support for latest JAX. (#21406)\n\nThe `jax.experimental.layout.Format` configuration has a `\"format\"` attribute\nrather than a `\"layout\"` attribute.",
        "tree": {
          "sha": "585b6bc0819cddacfa52f8bb9aac4afd24635b8b",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/585b6bc0819cddacfa52f8bb9aac4afd24635b8b"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/be9b00227b3110aabb229859524cf4f5620eb275",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoVbZwCRC1aQ7uu5UhlAAAnUwQABwDaj82iuQxNUrsDDjEpafB\nbv9ydpuWYZFYeN26Lcs6h20gXU4FQqgaJQW80XkB4jBSJ06aIWAn+Cbm1coVyOUO\nEXsrBLZcpYBDnaD3sZE6KBxL1ds7LbVHGeEHb5+s0JaY0efjn8kQpUW8mslHkUTD\n04z5iQ8TDJpSfHg3gu/G3xYu8EDgtO9t7DdtdJ144KybSc/St2bGIFSYO31P7bhx\nuaOMb1YZHYUBAql2GZBIRYpI5r4FYdyuoepi9ZW3e2gSU+EDNNnQEI4KItDVFzP4\nbdOGShT/gXly57reTsgg/O/2R9rhEnAFlzJ/Re3dvYW3qJSmz+tBnFimVkMImklt\nvicmTp0RqI+FrtS+6p611gvGXgZIiO3hQ8P8E9t/K7xmwj4TTut329HttmwY5wwA\npA3CFnLDH5O7f4orzPfhei2wVbATM4VwVrqk6kZcITk6PuaQjdbdpk6oGPzer6bx\nQW2OcdROyYt23fvzZfQLSHWM5gw6ESv1m+t6twmXBPEgbbGnYTrcAFfgReHoSBFp\ntoqWEkp0zjkMHkfPToRKprhvEmp34ahYEyCVrUEvEDutbudgpWJaw8AB/CT4f7uf\nheMDgtPUWEG9yRpoiYh7EoOtHY/aL52NP9/H32yiOEOGxDfadtGPkNlkWHWGPGKJ\n12Ldmo9cHILf+uiaa6XS\n=0kXv\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 585b6bc0819cddacfa52f8bb9aac4afd24635b8b\nparent d16424e6ff2862ef19b42f976d40e5aaacf22f41\nauthor C. Antonio S\u00e1nchez <cantonios@users.noreply.github.com> 1750447728 -0700\ncommitter GitHub <noreply@github.com> 1750447728 -0700\n\nAdd \"format\" support for latest JAX. (#21406)\n\nThe `jax.experimental.layout.Format` configuration has a `\"format\"` attribute\nrather than a `\"layout\"` attribute.",
          "verified_at": "2025-06-20T19:28:49Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/be9b00227b3110aabb229859524cf4f5620eb275",
      "html_url": "https://github.com/keras-team/keras/commit/be9b00227b3110aabb229859524cf4f5620eb275",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/be9b00227b3110aabb229859524cf4f5620eb275/comments",
      "author": {
        "login": "cantonios",
        "id": 2538739,
        "node_id": "MDQ6VXNlcjI1Mzg3Mzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2538739?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cantonios",
        "html_url": "https://github.com/cantonios",
        "followers_url": "https://api.github.com/users/cantonios/followers",
        "following_url": "https://api.github.com/users/cantonios/following{/other_user}",
        "gists_url": "https://api.github.com/users/cantonios/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cantonios/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cantonios/subscriptions",
        "organizations_url": "https://api.github.com/users/cantonios/orgs",
        "repos_url": "https://api.github.com/users/cantonios/repos",
        "events_url": "https://api.github.com/users/cantonios/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cantonios/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "d16424e6ff2862ef19b42f976d40e5aaacf22f41",
          "url": "https://api.github.com/repos/keras-team/keras/commits/d16424e6ff2862ef19b42f976d40e5aaacf22f41",
          "html_url": "https://github.com/keras-team/keras/commit/d16424e6ff2862ef19b42f976d40e5aaacf22f41"
        }
      ]
    },
    {
      "sha": "d16424e6ff2862ef19b42f976d40e5aaacf22f41",
      "node_id": "C_kwDOAffHH9oAKGQxNjQyNGU2ZmYyODYyZWYxOWI0MmY5NzZkNDBlNWFhYWNmMjJmNDE",
      "commit": {
        "author": {
          "name": "Mohamed Ashraf",
          "email": "117025882+Mohamed-Ashraf273@users.noreply.github.com",
          "date": "2025-06-20T17:13:44Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-20T17:13:44Z"
        },
        "message": "[OpenVINO Backend] update __getitem__ (#21359)\n\n* [OpenVINO Backend] update getitem\n\n* [OpenVINO backend] update getitem",
        "tree": {
          "sha": "742bfa67fa8eb39d375e923d0479035829986d12",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/742bfa67fa8eb39d375e923d0479035829986d12"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/d16424e6ff2862ef19b42f976d40e5aaacf22f41",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoVZbICRC1aQ7uu5UhlAAAPXoQACs6CTujlC5FPuJ0744+raG+\nwQVRMfl+412O+OcdFrxb8ILtHe9u3JN8RCqlhbMyV7+PS0ru/Deh9O3CGj6VOHeX\n47WjHg9yKwghmc0tvC7ffcPGVkE+zNnPgRFXUC/Wa4MUQ1Eyz6nU8U/7kx2TiC5I\n1/PhskgNeyXDI0LhwBkXRtklfWel2DFccgv7slKX4hsGD3J5xOjCT2mmm2JqXhrq\nNZZagwoL7HJr66JD6fH7cGAgLqdyRM76EwUubnO3IuNI8PvPpnPN2CYPy+QxUTlI\nq/I5yOCo2Nq8rO5nP8WApsx7broMt5UfrKWoFSxf0EwrCYoZCcwsfzWwARyRM+0z\nBkUR3RfWIYQ6AVureXaB+Ncp4dasgiB31q0SChsn6OIuwyVp7pxxNf9E/9IeTjjw\ngdnGmjTnj0c1lNV0/gg+QLybI+rFqMuqySql5H3Y6xdMyFqgpXbHew6DlIS4kf5D\nQKHOA6lxeUt48iaZX4KeKXlglRbOsayXBqM+vI0Nu8D2zebkHnhuAKZ73+494n1N\nizgjFlwx5e1PfKRoW5R3P1Hi/Ubr/S0N8VcJmMtwDyv4gcNArQKDXwsdiHlEkRSZ\nqJ5oFNqHmypYVwA4s7xsuDrnLSUlFb9GFfSsr5E8O+7qKadE/0fiqLlP3p5dbCkO\nJX4BORDgD+e/mrH8dQmJ\n=qjTv\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 742bfa67fa8eb39d375e923d0479035829986d12\nparent fa3e8df5a98797572df57309cc5d5011634f129a\nauthor Mohamed Ashraf <117025882+Mohamed-Ashraf273@users.noreply.github.com> 1750439624 +0300\ncommitter GitHub <noreply@github.com> 1750439624 -0700\n\n[OpenVINO Backend] update __getitem__ (#21359)\n\n* [OpenVINO Backend] update getitem\n\n* [OpenVINO backend] update getitem",
          "verified_at": "2025-06-20T17:13:44Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/d16424e6ff2862ef19b42f976d40e5aaacf22f41",
      "html_url": "https://github.com/keras-team/keras/commit/d16424e6ff2862ef19b42f976d40e5aaacf22f41",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/d16424e6ff2862ef19b42f976d40e5aaacf22f41/comments",
      "author": {
        "login": "Mohamed-Ashraf273",
        "id": 117025882,
        "node_id": "U_kgDOBvmsWg",
        "avatar_url": "https://avatars.githubusercontent.com/u/117025882?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Mohamed-Ashraf273",
        "html_url": "https://github.com/Mohamed-Ashraf273",
        "followers_url": "https://api.github.com/users/Mohamed-Ashraf273/followers",
        "following_url": "https://api.github.com/users/Mohamed-Ashraf273/following{/other_user}",
        "gists_url": "https://api.github.com/users/Mohamed-Ashraf273/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Mohamed-Ashraf273/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Mohamed-Ashraf273/subscriptions",
        "organizations_url": "https://api.github.com/users/Mohamed-Ashraf273/orgs",
        "repos_url": "https://api.github.com/users/Mohamed-Ashraf273/repos",
        "events_url": "https://api.github.com/users/Mohamed-Ashraf273/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Mohamed-Ashraf273/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "fa3e8df5a98797572df57309cc5d5011634f129a",
          "url": "https://api.github.com/repos/keras-team/keras/commits/fa3e8df5a98797572df57309cc5d5011634f129a",
          "html_url": "https://github.com/keras-team/keras/commit/fa3e8df5a98797572df57309cc5d5011634f129a"
        }
      ]
    },
    {
      "sha": "fa3e8df5a98797572df57309cc5d5011634f129a",
      "node_id": "C_kwDOAffHH9oAKGZhM2U4ZGY1YTk4Nzk3NTcyZGY1NzMwOWNjNWQ1MDExNjM0ZjEyOWE",
      "commit": {
        "author": {
          "name": "Mohamed Ashraf",
          "email": "117025882+Mohamed-Ashraf273@users.noreply.github.com",
          "date": "2025-06-20T17:13:23Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-20T17:13:23Z"
        },
        "message": "[OpenVINO Backend] support while loop (#21369)",
        "tree": {
          "sha": "38b51e2d08c62e0231384fe6cb397f8f2e627922",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/38b51e2d08c62e0231384fe6cb397f8f2e627922"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/fa3e8df5a98797572df57309cc5d5011634f129a",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoVZazCRC1aQ7uu5UhlAAAxuYQAGJVsvkDb5SORdxZSKee9qw8\nNVt8IpY/mwEDjo0WMIgBF2ly2Q7r9eGGghfRmFE3wC3+LJMoK4i/6mn/h3fMMX6P\nhrIdhpJgU9Ae1fg/KGDuWAWhht1r+CmBTTxYg9vufCDf8JolhCxcJoRpbsUbFsv6\na8heuoc+IjLKG7NhU/X5jZtVlJCBYHyHKKobLe1KeFONIoSJZ0FBA7ykKuYUYXRq\ntHj4EGsm4/tREGcrKrg7nx8VBXxolhVidx1/ytkCguAhQlDqbtmEDZOZuKLyj64V\nzpAfnZX9px8R4PyY4bBkbXkDI0XaSrAEBoS2CcSgmXhPNJt/pRw5CgsrsfAujqrN\nsA4ZMlbnCRt6ME9FnW1QASfejp8rHy/Lc/OjaoX18LZKwHFyfp9qono311XkdsL5\nZji8Cojaqukr9+0qkVgnQYQY/KELhMIxQKQ3069iSBdvrORwULkPrNEZbJJ6ZCks\nJHWLTB6sYjt6L7+dSnchgwhTcMmlGlqoZzXWZha0kQcG9B0JLNEKYuP/3DecJ5PY\n41l6h2JaKXZl+JEErv1ndmOhY0Z4RRA9xS3C7ka+3SOWJtJGVhfPxR06HondoE91\n7ea98Dvx7DXu+0VjOoLSH+MHX05D4XbdNsIbxfKaE2rs22UamR+8geKAkbNLx0A2\nft8Un50Hpa16d7wm8uNh\n=w0F0\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 38b51e2d08c62e0231384fe6cb397f8f2e627922\nparent 9205298f1b49c3feb375879d25efa84720860746\nauthor Mohamed Ashraf <117025882+Mohamed-Ashraf273@users.noreply.github.com> 1750439603 +0300\ncommitter GitHub <noreply@github.com> 1750439603 -0700\n\n[OpenVINO Backend] support while loop (#21369)\n\n",
          "verified_at": "2025-06-20T17:13:23Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/fa3e8df5a98797572df57309cc5d5011634f129a",
      "html_url": "https://github.com/keras-team/keras/commit/fa3e8df5a98797572df57309cc5d5011634f129a",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/fa3e8df5a98797572df57309cc5d5011634f129a/comments",
      "author": {
        "login": "Mohamed-Ashraf273",
        "id": 117025882,
        "node_id": "U_kgDOBvmsWg",
        "avatar_url": "https://avatars.githubusercontent.com/u/117025882?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Mohamed-Ashraf273",
        "html_url": "https://github.com/Mohamed-Ashraf273",
        "followers_url": "https://api.github.com/users/Mohamed-Ashraf273/followers",
        "following_url": "https://api.github.com/users/Mohamed-Ashraf273/following{/other_user}",
        "gists_url": "https://api.github.com/users/Mohamed-Ashraf273/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Mohamed-Ashraf273/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Mohamed-Ashraf273/subscriptions",
        "organizations_url": "https://api.github.com/users/Mohamed-Ashraf273/orgs",
        "repos_url": "https://api.github.com/users/Mohamed-Ashraf273/repos",
        "events_url": "https://api.github.com/users/Mohamed-Ashraf273/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Mohamed-Ashraf273/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "9205298f1b49c3feb375879d25efa84720860746",
          "url": "https://api.github.com/repos/keras-team/keras/commits/9205298f1b49c3feb375879d25efa84720860746",
          "html_url": "https://github.com/keras-team/keras/commit/9205298f1b49c3feb375879d25efa84720860746"
        }
      ]
    },
    {
      "sha": "9205298f1b49c3feb375879d25efa84720860746",
      "node_id": "C_kwDOAffHH9oAKDkyMDUyOThmMWI0OWMzZmViMzc1ODc5ZDI1ZWZhODQ3MjA4NjA3NDY",
      "commit": {
        "author": {
          "name": "S. M. Mohiuddin Khan Shiam",
          "email": "147746955+mohiuddin-khan-shiam@users.noreply.github.com",
          "date": "2025-06-18T23:34:48Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-18T23:34:48Z"
        },
        "message": "Fix crash when `sys.stdout.encoding` is `None` (#21392)\n\n[print_msg](cci:1://file:///d:/Github/keras/keras/src/utils/io_utils.py:91:0-112:29) now defaults to UTF-8 when `sys.stdout.encoding` is unset, preventing a `TypeError` during logging in non-interactive or redirected-output environments.",
        "tree": {
          "sha": "70fe388aa1bd9265e729b23fcb42c251bb68207e",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/70fe388aa1bd9265e729b23fcb42c251bb68207e"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/9205298f1b49c3feb375879d25efa84720860746",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoU00YCRC1aQ7uu5UhlAAAuGUQAHu0fKz6c0VGy5Bh0TEy4RzJ\nDzRMDQKOkzRoeQR2ICuBpgTvwp48tluZLai4MG4Fv+7PFm/IECQD6A8FmT3l+HuZ\ns4JO7Dv4aGF5AST47QspGexUboAQIZG+nSiZOZMICEuOt8H10mIKcvHg0T96gIm9\nyFNsWg48UomOpA/G17oOHtIu6ueAgS5wB1/8hapERMMf4XcafOKk2rbZK4VyWCJ1\nlfzKmSO3N/EAnuFyOVuibJWBBzot9q+GvPCe18u1ASXiWE7PZw/UyDcoqB2wuFtO\nha0Sl6t/Uz7KLxRztHtwDwrBKdp9Hj9EVg8AjNqXWPCk5euHpsK7ia+H7OsqKkOc\nhhlaKWs3neBqRM9X9OmUOTZZT+WrBL42ROCD/KuWX/3uIApuopD5yWV3/OZ6ae5x\nE5P0OrWqAR1s9Wr5/Ihwwdx+l29POJIN51E5IzsvfRfvUGqr94N3pY98zTOg2Lm4\nJzWMDy2r21xgDG8OpDcinYZfHRR4XVSqamrBxIYvKRIIMNMJowdK7A66nbHF9xDy\nd7ZFk0dlw93ZFOQ9U1hkCT4iE/cWdCf0VJHB6FZHxCFLBJvRu0nCwRtZWnQlhDFj\nZ1efunqnhb5VNIogPRvY1Ezr4DjHVX/kmBysKFLs9CQhJH7gKnTx61xo4FurtI8P\npW0iixAGEaoN6/e7uExl\n=Uq2v\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 70fe388aa1bd9265e729b23fcb42c251bb68207e\nparent e0bf7f8bd8a73ea48f10689a8015937be1d0f47e\nauthor S. M. Mohiuddin Khan Shiam <147746955+mohiuddin-khan-shiam@users.noreply.github.com> 1750289688 +0600\ncommitter GitHub <noreply@github.com> 1750289688 -0700\n\nFix crash when `sys.stdout.encoding` is `None` (#21392)\n\n[print_msg](cci:1://file:///d:/Github/keras/keras/src/utils/io_utils.py:91:0-112:29) now defaults to UTF-8 when `sys.stdout.encoding` is unset, preventing a `TypeError` during logging in non-interactive or redirected-output environments.",
          "verified_at": "2025-06-18T23:34:49Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/9205298f1b49c3feb375879d25efa84720860746",
      "html_url": "https://github.com/keras-team/keras/commit/9205298f1b49c3feb375879d25efa84720860746",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/9205298f1b49c3feb375879d25efa84720860746/comments",
      "author": {
        "login": "mohiuddin-khan-shiam",
        "id": 147746955,
        "node_id": "U_kgDOCM5wiw",
        "avatar_url": "https://avatars.githubusercontent.com/u/147746955?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mohiuddin-khan-shiam",
        "html_url": "https://github.com/mohiuddin-khan-shiam",
        "followers_url": "https://api.github.com/users/mohiuddin-khan-shiam/followers",
        "following_url": "https://api.github.com/users/mohiuddin-khan-shiam/following{/other_user}",
        "gists_url": "https://api.github.com/users/mohiuddin-khan-shiam/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mohiuddin-khan-shiam/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mohiuddin-khan-shiam/subscriptions",
        "organizations_url": "https://api.github.com/users/mohiuddin-khan-shiam/orgs",
        "repos_url": "https://api.github.com/users/mohiuddin-khan-shiam/repos",
        "events_url": "https://api.github.com/users/mohiuddin-khan-shiam/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mohiuddin-khan-shiam/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "e0bf7f8bd8a73ea48f10689a8015937be1d0f47e",
          "url": "https://api.github.com/repos/keras-team/keras/commits/e0bf7f8bd8a73ea48f10689a8015937be1d0f47e",
          "html_url": "https://github.com/keras-team/keras/commit/e0bf7f8bd8a73ea48f10689a8015937be1d0f47e"
        }
      ]
    },
    {
      "sha": "e0bf7f8bd8a73ea48f10689a8015937be1d0f47e",
      "node_id": "C_kwDOAffHH9oAKGUwYmY3ZjhiZDhhNzNlYTQ4ZjEwNjg5YTgwMTU5MzdiZTFkMGY0N2U",
      "commit": {
        "author": {
          "name": "C. Antonio S\u00e1nchez",
          "email": "cantonios@users.noreply.github.com",
          "date": "2025-06-18T23:10:07Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-18T23:10:07Z"
        },
        "message": "Remove references to jax.experimental.layout.Layout. (#21400)\n\nIt is being renamed to jax.experimental.layout.Format.  The comments\ncan be kept generic anyways to support other layout instances\nin the future.",
        "tree": {
          "sha": "32384ba0b1c481ef7cc266967a3149aa8f9b056b",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/32384ba0b1c481ef7cc266967a3149aa8f9b056b"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/e0bf7f8bd8a73ea48f10689a8015937be1d0f47e",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoU0dPCRC1aQ7uu5UhlAAA9SAQADOZtyIeJlxWgHd5+TtdCWpE\nEGAg2QED4Kr9SfozlNcMha8DH9HIKW+86SkODXXWj+aIKC/Arb+jptZ98FivioMc\nM6n739Z4h/OLlShZLBerZQz2vZnKJeBjA4HLrNV/oN9DW0xMp6iIvVM433xEoE+M\nzjqla+cSnlrw7PbAeIkKONy0Gdn1tjiWl4k511ZZIypmqf2zXzR+ttA/XrTHQrLe\nOqb7eE1QFhKtvyEm0BEA2GFDYHfUhirNKCYDlJ6zuJm9vTCvvp2tlcG91DiGI3x2\n9qR31Bil8a3TRPdGg4SZ1uKmj95Jr9T3Z7brRLAs2TkeQv+9ld/S7jUsZ/YyizIl\n76a8fJzA8L0YFTSP5BbyxgkLv8ldswcDTYekOS4im1c4F19BJXvH8V3lxQfwBIXe\nJmrcCGDGrLEInrhyJAGI5WeulyemeE27PxEAXfMdUe463V3OiShBV/ZA/fYHCUV0\n4OcTgnCHEdfxAOlYzQiBXgELbv6usAuUrj2lbV+HtzooQSSaZ/+nORDIWLJHD9QQ\n6dAqYqrxbU9IgERo4YhB46Ug//tWIAmsBPTD0n79PwbuYdKD6tcp304q1pMy/1s5\nzavq46FRFI3AszlA0uTYZjIL7kshJGxiokLSES+4i8anq0lVenF0dT4/A9W+lYS9\nUJ0xRcHD7rkNulhP+OTx\n=rIPY\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 32384ba0b1c481ef7cc266967a3149aa8f9b056b\nparent e99164e92a164e9e1afed64cacc7c468e63d85e0\nauthor C. Antonio S\u00e1nchez <cantonios@users.noreply.github.com> 1750288207 -0700\ncommitter GitHub <noreply@github.com> 1750288207 -0700\n\nRemove references to jax.experimental.layout.Layout. (#21400)\n\nIt is being renamed to jax.experimental.layout.Format.  The comments\ncan be kept generic anyways to support other layout instances\nin the future.",
          "verified_at": "2025-06-18T23:10:07Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/e0bf7f8bd8a73ea48f10689a8015937be1d0f47e",
      "html_url": "https://github.com/keras-team/keras/commit/e0bf7f8bd8a73ea48f10689a8015937be1d0f47e",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/e0bf7f8bd8a73ea48f10689a8015937be1d0f47e/comments",
      "author": {
        "login": "cantonios",
        "id": 2538739,
        "node_id": "MDQ6VXNlcjI1Mzg3Mzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2538739?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cantonios",
        "html_url": "https://github.com/cantonios",
        "followers_url": "https://api.github.com/users/cantonios/followers",
        "following_url": "https://api.github.com/users/cantonios/following{/other_user}",
        "gists_url": "https://api.github.com/users/cantonios/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cantonios/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cantonios/subscriptions",
        "organizations_url": "https://api.github.com/users/cantonios/orgs",
        "repos_url": "https://api.github.com/users/cantonios/repos",
        "events_url": "https://api.github.com/users/cantonios/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cantonios/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "e99164e92a164e9e1afed64cacc7c468e63d85e0",
          "url": "https://api.github.com/repos/keras-team/keras/commits/e99164e92a164e9e1afed64cacc7c468e63d85e0",
          "html_url": "https://github.com/keras-team/keras/commit/e99164e92a164e9e1afed64cacc7c468e63d85e0"
        }
      ]
    },
    {
      "sha": "e99164e92a164e9e1afed64cacc7c468e63d85e0",
      "node_id": "C_kwDOAffHH9oAKGU5OTE2NGU5MmExNjRlOWUxYWZlZDY0Y2FjYzdjNDY4ZTYzZDg1ZTA",
      "commit": {
        "author": {
          "name": "Timo van der Kuil",
          "email": "5330531+timovdk@users.noreply.github.com",
          "date": "2025-06-18T20:52:09Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-18T20:52:09Z"
        },
        "message": "Fix missing and fragile scikit-learn imports in Keras sklearn wrappers (#21387)\n\n* Fix sklearn imports\n\n* remove sklearn import\n\n* fix formatting and imports\n\n* Remove internal API import\n\n* Resolve review comments",
        "tree": {
          "sha": "75700daaf8da88f579a5f3d08aa037cf687d7272",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/75700daaf8da88f579a5f3d08aa037cf687d7272"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/e99164e92a164e9e1afed64cacc7c468e63d85e0",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoUyb5CRC1aQ7uu5UhlAAAQCwQACHhgXluTheq50I36dqienYf\nvyAdxAik6KUo93zcvvWhEFRK1fuXe2Pf55iJ6/R2R/PNjohv75wy6zJ9vHSt0vO6\nS1CsSboLDd3v5eubs5CWRtkf+0jGypXT3AHGjGcRaFoiymCUyOXvzPl91BocNy2T\n15GYtqmY+ZOHDYRnLwIOuTwD/lOZF962KjNinmVNxa1CzkrsmBSjBaICNqhM7ApN\nXIhTIXkjoC3eOEabbYoZfnlkDrdYk7+2mv5f+WYigignU5TlIVQEk1qH+Pu8NfWR\ndRuJjvjy+BCSnyDsNTjPyqTr2mrZ6ONjJHBpBWAbEtshy5MSvHUi1QUf7CQkxk7K\nFrqDNk5RdsFwzt31Wr7oH48dtONtcFg/Xvjx/+xy5n2k3qOIDIbDfqZdwIX4Dg29\nCOj4t5qku+NJdAePLSHBdecqBJ5n8mzQHFbUxsUiVnUCzwu8KRKgvj+qrycr6O7t\neWDHrhxUArEFIrtOBtlegq5JRQ3+nsQTIpmN7UBH0m1OU8wvSGp4R2qqJY/VvRqe\naRYfExi3+FlBA+KzzGvhlXL5aEiyjPF6XymHv3QqipufHu03kb0P1RMxgA2hK2uD\nc0vgd0aCarkc0DmzqChtFIzxH2oQuO9oDU4q2MBpzSgbBqQ0VbYlqGoIVZ6azsvg\n7I8GHuzHfBPU7/zdSYEZ\n=poCl\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 75700daaf8da88f579a5f3d08aa037cf687d7272\nparent f85e044c3415aa0698c160eff7f84a1fc04f3acf\nauthor Timo van der Kuil <5330531+timovdk@users.noreply.github.com> 1750279929 +0200\ncommitter GitHub <noreply@github.com> 1750279929 -0700\n\nFix missing and fragile scikit-learn imports in Keras sklearn wrappers (#21387)\n\n* Fix sklearn imports\n\n* remove sklearn import\n\n* fix formatting and imports\n\n* Remove internal API import\n\n* Resolve review comments",
          "verified_at": "2025-06-18T20:52:10Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/e99164e92a164e9e1afed64cacc7c468e63d85e0",
      "html_url": "https://github.com/keras-team/keras/commit/e99164e92a164e9e1afed64cacc7c468e63d85e0",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/e99164e92a164e9e1afed64cacc7c468e63d85e0/comments",
      "author": {
        "login": "timovdk",
        "id": 5330531,
        "node_id": "MDQ6VXNlcjUzMzA1MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5330531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/timovdk",
        "html_url": "https://github.com/timovdk",
        "followers_url": "https://api.github.com/users/timovdk/followers",
        "following_url": "https://api.github.com/users/timovdk/following{/other_user}",
        "gists_url": "https://api.github.com/users/timovdk/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/timovdk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/timovdk/subscriptions",
        "organizations_url": "https://api.github.com/users/timovdk/orgs",
        "repos_url": "https://api.github.com/users/timovdk/repos",
        "events_url": "https://api.github.com/users/timovdk/events{/privacy}",
        "received_events_url": "https://api.github.com/users/timovdk/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "f85e044c3415aa0698c160eff7f84a1fc04f3acf",
          "url": "https://api.github.com/repos/keras-team/keras/commits/f85e044c3415aa0698c160eff7f84a1fc04f3acf",
          "html_url": "https://github.com/keras-team/keras/commit/f85e044c3415aa0698c160eff7f84a1fc04f3acf"
        }
      ]
    },
    {
      "sha": "f85e044c3415aa0698c160eff7f84a1fc04f3acf",
      "node_id": "C_kwDOAffHH9oAKGY4NWUwNDRjMzQxNWFhMDY5OGMxNjBlZmY3Zjg0YTFmYzA0ZjNhY2Y",
      "commit": {
        "author": {
          "name": "hertschuh",
          "email": "1091026+hertschuh@users.noreply.github.com",
          "date": "2025-06-18T20:36:29Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-18T20:36:29Z"
        },
        "message": "Add support for multiple dynamic dimensions to `Flatten` layer on TF. (#21399)\n\nWith TensorFlow, when both the batch size and some other dimensions are dynamic, we need to use the dynamic batch size that comes from `ops.shape` instead of None / -1, otherwise there are two Nones / -1s passed to `ops.reshape`.\n\nFixes https://github.com/keras-team/keras/issues/21380",
        "tree": {
          "sha": "a2921763ecb63b7351e2fd9f6411460828ba3d47",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/a2921763ecb63b7351e2fd9f6411460828ba3d47"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/f85e044c3415aa0698c160eff7f84a1fc04f3acf",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoUyNNCRC1aQ7uu5UhlAAABH4QAGL5IrVYrbSWhgwj6V88hbVx\niE0kqP5BNHQFsOvDO66WAr6G20++G8z+o5fHnadl3d1Dkv4UhZkJyg2RDpW0Gjho\nQvq3qkSiKh/p6BCaay0192kcC+lTZzIVd2db/aqXzoC819eBDmUPET0puiWpldGH\nBEpqzWl77tPFVqxyW3S6wY3iTd0qtBxngXBlOjgZXJQujJ7aUYQdqIqeSuICa9SX\nqYUAWQUbmGBHYtbxZ6rv3mw7BwuCpdoPCN9bbPqnSNusi9uytMjippFHfgMjV33q\nNaPzE/rbdhrQujGeI+WIRt/3Zhea99x2P+Mk+nR//w0DUcdKsQzu1+TwRxc6L7Wr\nJEhnNvJRtfOxlfza+npYlTPSrJ24a2RkaqVxX5YN1qKuxD1i5AQjvONIxBwPru7M\nCm8tO/x8muV5ILAQxigp1Pm69M2DV/f1D0eUwZexhVvwr3RzNfW6M0gyyUehI62N\nVazrh5bq4pqy9pwjSXnRJ+E4Yz2fiSlqNExvEji2DoJtCFUiSzyfMFpinqWhRBTI\nkFNGffv0w8jqF4oiiJ0hnL7lbKVWx/BU0xaQZgwYJkHS43v5VEBpG+Y8Lf6Z4RWm\n/utWMHqp7vxVUm3diP5xdeqs/cG8+oBD7YSxAGEsUBENcU3+2tPYwWqAt+vmxIIk\np2SNyRCUucecTlTwQcw/\n=V/a+\n-----END PGP SIGNATURE-----\n",
          "payload": "tree a2921763ecb63b7351e2fd9f6411460828ba3d47\nparent e4bca84e125f731021270286d895fefcba89aaae\nauthor hertschuh <1091026+hertschuh@users.noreply.github.com> 1750278989 -0700\ncommitter GitHub <noreply@github.com> 1750278989 -0700\n\nAdd support for multiple dynamic dimensions to `Flatten` layer on TF. (#21399)\n\nWith TensorFlow, when both the batch size and some other dimensions are dynamic, we need to use the dynamic batch size that comes from `ops.shape` instead of None / -1, otherwise there are two Nones / -1s passed to `ops.reshape`.\n\nFixes https://github.com/keras-team/keras/issues/21380",
          "verified_at": "2025-06-18T20:36:29Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/f85e044c3415aa0698c160eff7f84a1fc04f3acf",
      "html_url": "https://github.com/keras-team/keras/commit/f85e044c3415aa0698c160eff7f84a1fc04f3acf",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/f85e044c3415aa0698c160eff7f84a1fc04f3acf/comments",
      "author": {
        "login": "hertschuh",
        "id": 1091026,
        "node_id": "MDQ6VXNlcjEwOTEwMjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1091026?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hertschuh",
        "html_url": "https://github.com/hertschuh",
        "followers_url": "https://api.github.com/users/hertschuh/followers",
        "following_url": "https://api.github.com/users/hertschuh/following{/other_user}",
        "gists_url": "https://api.github.com/users/hertschuh/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hertschuh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hertschuh/subscriptions",
        "organizations_url": "https://api.github.com/users/hertschuh/orgs",
        "repos_url": "https://api.github.com/users/hertschuh/repos",
        "events_url": "https://api.github.com/users/hertschuh/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hertschuh/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "e4bca84e125f731021270286d895fefcba89aaae",
          "url": "https://api.github.com/repos/keras-team/keras/commits/e4bca84e125f731021270286d895fefcba89aaae",
          "html_url": "https://github.com/keras-team/keras/commit/e4bca84e125f731021270286d895fefcba89aaae"
        }
      ]
    },
    {
      "sha": "e4bca84e125f731021270286d895fefcba89aaae",
      "node_id": "C_kwDOAffHH9oAKGU0YmNhODRlMTI1ZjczMTAyMTI3MDI4NmQ4OTVmZWZjYmE4OWFhYWU",
      "commit": {
        "author": {
          "name": "Divyashree Sreepathihalli",
          "email": "divyashreepathihalli@gmail.com",
          "date": "2025-06-17T23:48:27Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-17T23:48:27Z"
        },
        "message": "Fix numpy upgrade error  (#21393)\n\n* Update rnn.py",
        "tree": {
          "sha": "f487d3f32b5fae690dddd7e1b71a151fa3e6ec4f",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/f487d3f32b5fae690dddd7e1b71a151fa3e6ec4f"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/e4bca84e125f731021270286d895fefcba89aaae",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoUf7LCRC1aQ7uu5UhlAAAZKMQACAXcLEUHvdKHbmu7LY/wEHU\nAkQR0js5ne2gbRjFlCWdCOxQtL/FPb+tcm+1bwsOU8yrozUNTTLcuVb09yRtaMLn\nf5vqxgoF/NnCSiBZlUpj2vR/qQzG0hCMm1fx3JLBeiH4ww3R0WrmHzNqz36Y62Lf\nHgIjAOYz5X05WOKp62uriIk9VKnS6e3agl9BPnTTbG/SwPMe2WAdeMJn+C4CfoRN\n6d2Xlk4DDwGbzB9ZclmF/IneGdGpeqMWxOkrjVe2MvTgwmdYknqZQBm4bcu6GX9+\n4Q4AZCDoHMAkrxbO8smAsZgyFq8HJwOu8WDIVHY3hQBByqmMKioUaamY5Q0d5Qmz\no80uuUYAWULUDMYwEmLmUGUe1ugA39ncQ8xU6hM6vT8ZEMFn8HlXpLgN3idopsrf\nTwJNQaYvsdCv1jP/zvCuw10HvD9ipwgTPYnbahDnZ8+gXGG2ZyL/NdXLRLT9KhdB\nw6aGOZZZJL0n5Om4JIOf4Ky6PGVtYsLCrwm+wUoBLVfcBKAQ4ZXVpsmE9r1e6Rpy\nGeQIcTo5U9yVC0pvwCpTH+8R9q/Qh7ogbpoYP9JcMBduB2n0yicczSYK7RrExmNQ\nsVEwG36fIliuad1RW2i9mjK3aBxFM1qmrLECbmmPCvAkd/ZGbvf+y4pl/izlHksR\ng7fqjVM7+ZMlO2Ax10ig\n=mFOa\n-----END PGP SIGNATURE-----\n",
          "payload": "tree f487d3f32b5fae690dddd7e1b71a151fa3e6ec4f\nparent 92bfff0d7b2f0442e69af3ed3f0fb6c5eb6dc5c4\nauthor Divyashree Sreepathihalli <divyashreepathihalli@gmail.com> 1750204107 -0700\ncommitter GitHub <noreply@github.com> 1750204107 -0700\n\nFix numpy upgrade error  (#21393)\n\n* Update rnn.py\n",
          "verified_at": "2025-06-17T23:48:27Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/e4bca84e125f731021270286d895fefcba89aaae",
      "html_url": "https://github.com/keras-team/keras/commit/e4bca84e125f731021270286d895fefcba89aaae",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/e4bca84e125f731021270286d895fefcba89aaae/comments",
      "author": {
        "login": "divyashreepathihalli",
        "id": 78194266,
        "node_id": "MDQ6VXNlcjc4MTk0MjY2",
        "avatar_url": "https://avatars.githubusercontent.com/u/78194266?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/divyashreepathihalli",
        "html_url": "https://github.com/divyashreepathihalli",
        "followers_url": "https://api.github.com/users/divyashreepathihalli/followers",
        "following_url": "https://api.github.com/users/divyashreepathihalli/following{/other_user}",
        "gists_url": "https://api.github.com/users/divyashreepathihalli/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/divyashreepathihalli/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/divyashreepathihalli/subscriptions",
        "organizations_url": "https://api.github.com/users/divyashreepathihalli/orgs",
        "repos_url": "https://api.github.com/users/divyashreepathihalli/repos",
        "events_url": "https://api.github.com/users/divyashreepathihalli/events{/privacy}",
        "received_events_url": "https://api.github.com/users/divyashreepathihalli/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "92bfff0d7b2f0442e69af3ed3f0fb6c5eb6dc5c4",
          "url": "https://api.github.com/repos/keras-team/keras/commits/92bfff0d7b2f0442e69af3ed3f0fb6c5eb6dc5c4",
          "html_url": "https://github.com/keras-team/keras/commit/92bfff0d7b2f0442e69af3ed3f0fb6c5eb6dc5c4"
        }
      ]
    },
    {
      "sha": "92bfff0d7b2f0442e69af3ed3f0fb6c5eb6dc5c4",
      "node_id": "C_kwDOAffHH9oAKDkyYmZmZjBkN2IyZjA0NDJlNjlhZjNlZDNmMGZiNmM1ZWI2ZGM1YzQ",
      "commit": {
        "author": {
          "name": "Sonali Kumari",
          "email": "kumsonali@google.com",
          "date": "2025-06-17T16:47:33Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-17T16:47:33Z"
        },
        "message": "Update output_padding argument in convolution transpose layer (#21383)",
        "tree": {
          "sha": "db2283616703a803fd6977b178638358ef4cc7bf",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/db2283616703a803fd6977b178638358ef4cc7bf"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/92bfff0d7b2f0442e69af3ed3f0fb6c5eb6dc5c4",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoUZwlCRC1aQ7uu5UhlAAAUawQABbg+awssh2UFnXDJYgswfAn\nDhDjHMED8J12h5KoxjbFZfn9QIrdkTdI1wN7+42sYVN0EXXhAHFAuXc/LnUVPhzk\nXhoNXRTBH0HrNkaBM+m8iNeM3FCTj1NeI/uvi+6SLGkCFNHayPxolyNTTkObDN0b\nP9NW0ets7f2W2KWoWeT0EVgd8W7jH0jCV4JraIqmmRBckSr9PlV6yu0H7JjiqwNC\nDKvNRAIWCrNbCL8piJN3QNdyVRoUhm85jl2oKs5gdFnuEln9XxfCEQ/QiA5houO7\npViVXgoeN7Zsh1MH8xwewcMac8CC359kOS1Gettoc1Lw46jOy8Od9xkqj+R7Y242\ntDxnRJIaGyRK1kJKsjJLvFfRfd+XY8VqG9JP8weUC8dj3o13giaomJoVXXaWSp4k\nEuJPTorrucDw0Xy0oXS6NAhU1XHejNxSOtTRbltOCYSUDHTp9OFW/9wja5C6TgNt\n5/YEa1I0i5loBROa82x09LVxRbyYgmaNimFI6VlONUDra39OtGjAPgNgxzObX5Fy\nEvythQPyqA9Vj3v+xxMaBOlx1ZEeRN4bWTgT6d0a0XzUj11q1OXycwz4VUSvGBTS\n/1bqkRd5LErQPR+chDrsMh+85bgxkf50z5BKAtI/SCvkEPEq8n7dvKa1waOLsphk\nP2zwmfTOQMm8IlRD2Apq\n=c5vY\n-----END PGP SIGNATURE-----\n",
          "payload": "tree db2283616703a803fd6977b178638358ef4cc7bf\nparent 6361d73c9778416d859750c9dc5e51471351f9d3\nauthor Sonali Kumari <kumsonali@google.com> 1750178853 +0530\ncommitter GitHub <noreply@github.com> 1750178853 -0700\n\nUpdate output_padding argument in convolution transpose layer (#21383)\n\n",
          "verified_at": "2025-06-17T16:47:34Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/92bfff0d7b2f0442e69af3ed3f0fb6c5eb6dc5c4",
      "html_url": "https://github.com/keras-team/keras/commit/92bfff0d7b2f0442e69af3ed3f0fb6c5eb6dc5c4",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/92bfff0d7b2f0442e69af3ed3f0fb6c5eb6dc5c4/comments",
      "author": {
        "login": "sonali-kumari1",
        "id": 180251223,
        "node_id": "U_kgDOCr5qVw",
        "avatar_url": "https://avatars.githubusercontent.com/u/180251223?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sonali-kumari1",
        "html_url": "https://github.com/sonali-kumari1",
        "followers_url": "https://api.github.com/users/sonali-kumari1/followers",
        "following_url": "https://api.github.com/users/sonali-kumari1/following{/other_user}",
        "gists_url": "https://api.github.com/users/sonali-kumari1/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sonali-kumari1/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sonali-kumari1/subscriptions",
        "organizations_url": "https://api.github.com/users/sonali-kumari1/orgs",
        "repos_url": "https://api.github.com/users/sonali-kumari1/repos",
        "events_url": "https://api.github.com/users/sonali-kumari1/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sonali-kumari1/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "6361d73c9778416d859750c9dc5e51471351f9d3",
          "url": "https://api.github.com/repos/keras-team/keras/commits/6361d73c9778416d859750c9dc5e51471351f9d3",
          "html_url": "https://github.com/keras-team/keras/commit/6361d73c9778416d859750c9dc5e51471351f9d3"
        }
      ]
    },
    {
      "sha": "6361d73c9778416d859750c9dc5e51471351f9d3",
      "node_id": "C_kwDOAffHH9oAKDYzNjFkNzNjOTc3ODQxNmQ4NTk3NTBjOWRjNWU1MTQ3MTM1MWY5ZDM",
      "commit": {
        "author": {
          "name": "Timo van der Kuil",
          "email": "5330531+timovdk@users.noreply.github.com",
          "date": "2025-06-17T16:45:51Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-17T16:45:51Z"
        },
        "message": "Fix SKLearnClassifier and SKLearnRegressor examples (#21385)\n\n* fix imports and make_classification call\n\n* Update examples\n\n* Fix transformer example\n\n* Remove unnecessary lists and add a clarifying comment\n\n* Revert transformer changes\n\n* use linear activation for regression",
        "tree": {
          "sha": "212e15a0394eca9392bdc26943faf4b649d54f06",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/212e15a0394eca9392bdc26943faf4b649d54f06"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/6361d73c9778416d859750c9dc5e51471351f9d3",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoUZu/CRC1aQ7uu5UhlAAA+MQQAJPM5n/VGs2yIhGo64vQUDoT\njngJrSvrQONueObOQxsTmBQkpQpINM+AXn+MjIM/NtBvNcuE2F7952ZIqSRQygim\nyjloZAhxb8B/2zSD+qXeE/OqiFfzQ0UN9X13mFKlsa7JLbv3Eybx7AyrScTg4r02\nmckFHv2/c+e6hdcEaimfqDYqzvF3v6Lp/CXqC7eq4MAcs7P4Iav3k5tx/xqDsk8Q\nYtCXwcS/V3/rji918uf46fX6mv45AsDHAiFsmnk5W5qzyNhCrBOzR/ByzJ/jDSC5\nXr942SIkr2YSOj8d+taqCFcXdtR2VAql/OZ2/2EO99e8+5Fwf0yWm/uoKYjuk9uK\nDo5hkl6Lop+Ava2Ia7ryTZvE8VkxqizbslYiNCPd0I3DA5YcLy+f/GIlA9PrbNtt\nFpPsjDzJEmuadbk9HsxNhiArv7u5yI85rRS+NPnTMPi5QefLs/tO7llSijkuR/C8\nkp+H+z3mpdW8N2xYjAgLBPrAiPcq/FO1a3iqYdyntWDYoimx5x3YwOe77crcmeVC\nT1Vhf67+Wfxo5rBneCP7BAdEwTRkeQDl1CWJ+ew1IsvtWMvigxP4MDKBz7wFfAUT\n5TAd7buDFlJ/lTzbZ9gVQFlOEDphg2y7vLxaqMeWSBmluSAIH+wxpn6570qu34fi\n3WUQvk3ZcOk6I/paZkEq\n=xzQS\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 212e15a0394eca9392bdc26943faf4b649d54f06\nparent 764ed95651c1c7dfa71ca523287f6eeb514ccf77\nauthor Timo van der Kuil <5330531+timovdk@users.noreply.github.com> 1750178751 +0200\ncommitter GitHub <noreply@github.com> 1750178751 -0700\n\nFix SKLearnClassifier and SKLearnRegressor examples (#21385)\n\n* fix imports and make_classification call\n\n* Update examples\n\n* Fix transformer example\n\n* Remove unnecessary lists and add a clarifying comment\n\n* Revert transformer changes\n\n* use linear activation for regression",
          "verified_at": "2025-06-17T16:45:52Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/6361d73c9778416d859750c9dc5e51471351f9d3",
      "html_url": "https://github.com/keras-team/keras/commit/6361d73c9778416d859750c9dc5e51471351f9d3",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/6361d73c9778416d859750c9dc5e51471351f9d3/comments",
      "author": {
        "login": "timovdk",
        "id": 5330531,
        "node_id": "MDQ6VXNlcjUzMzA1MzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5330531?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/timovdk",
        "html_url": "https://github.com/timovdk",
        "followers_url": "https://api.github.com/users/timovdk/followers",
        "following_url": "https://api.github.com/users/timovdk/following{/other_user}",
        "gists_url": "https://api.github.com/users/timovdk/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/timovdk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/timovdk/subscriptions",
        "organizations_url": "https://api.github.com/users/timovdk/orgs",
        "repos_url": "https://api.github.com/users/timovdk/repos",
        "events_url": "https://api.github.com/users/timovdk/events{/privacy}",
        "received_events_url": "https://api.github.com/users/timovdk/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "764ed95651c1c7dfa71ca523287f6eeb514ccf77",
          "url": "https://api.github.com/repos/keras-team/keras/commits/764ed95651c1c7dfa71ca523287f6eeb514ccf77",
          "html_url": "https://github.com/keras-team/keras/commit/764ed95651c1c7dfa71ca523287f6eeb514ccf77"
        }
      ]
    },
    {
      "sha": "764ed95651c1c7dfa71ca523287f6eeb514ccf77",
      "node_id": "C_kwDOAffHH9oAKDc2NGVkOTU2NTFjMWM3ZGZhNzFjYTUyMzI4N2Y2ZWViNTE0Y2NmNzc",
      "commit": {
        "author": {
          "name": "Abheesht",
          "email": "abheesht@google.com",
          "date": "2025-06-13T18:33:18Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-13T18:33:18Z"
        },
        "message": "Raise warning when rms_scaling = True (#21352)\n\n* Fix rms_scaling in LayerNormalization\n\n* Fix numerics UT\n\n* Fix numerics UT (1)\n\n* Fix numerics UT (2)\n\n* Add warning for rms_scaling = True\n\n* Add warning to LayerNormalization layer\n\n* Remove unnecessary comments",
        "tree": {
          "sha": "b8cbec0bcaacb7c6c3aa93be80d35ecc62b08e77",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/b8cbec0bcaacb7c6c3aa93be80d35ecc62b08e77"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/764ed95651c1c7dfa71ca523287f6eeb514ccf77",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoTG7uCRC1aQ7uu5UhlAAANGgQAIez5EUAC6AfsI+c/yRCD+4S\nhhr6G7kr2dIPw86HBPY6kTLs1U3uU8ATqisP5cAQUmD7cjCpWadUsXdDPwCy/In+\nLNmBkn1jBEzvU3ePQ5HBwU7e4/scV8LjJnvQlGBr7lG75ATv8kRUrl/fBbKk1AcJ\n0P6Tywna9cZo3nPgJ7wkOuIdZYctRj4E+anoQF08CLjNk5+vCLkJnuSdvQqQYNvu\n37T4imHPV5Gfy6ystpGffbW4/adRhK2JRqUXfNLC/8+/FyOpJqqLAqtLogdcNjkG\nfRN9KNLQn2cGNmC+P6CMJxL7fT4ic0DL2KrQ4KRgwz3CUdxwdaqTF/O9CNAN3zYL\nitJ30rvzLV96e1zKXyiRcen0JjaIjr92gB2h7TTGH2fqGlI8HvFoWax5X0Folyve\nEvYak4bN580cJlENL8QZOcJY1DTDylewszrrhzDkBpWVh64j1zY71TtyKlvUwyJC\nKgRNEwh0dnuTX8KvfvsNTfT0eXR39vkVWxSV11Cq1P2xBTXi41J2u5M04rFv/JZj\nVXT4Ez9cxeWvq2QG/R57ouvh+xTtC0myZ2baufGvYYaw1XVPVs/q2nZ4Y0GJ7Ugg\n+Ug5gzYGwtKdifDr7ViIzYuXXKAVk+x838r8VhP6r4dImse/AutcZ1bQkt+Beypa\nHflNBu8quxlVvVxiIyoy\n=gIA7\n-----END PGP SIGNATURE-----\n",
          "payload": "tree b8cbec0bcaacb7c6c3aa93be80d35ecc62b08e77\nparent 6fd736cead0e1bb829fe9b26e814c05ab7b4b2be\nauthor Abheesht <abheesht@google.com> 1749839598 +0530\ncommitter GitHub <noreply@github.com> 1749839598 -0700\n\nRaise warning when rms_scaling = True (#21352)\n\n* Fix rms_scaling in LayerNormalization\n\n* Fix numerics UT\n\n* Fix numerics UT (1)\n\n* Fix numerics UT (2)\n\n* Add warning for rms_scaling = True\n\n* Add warning to LayerNormalization layer\n\n* Remove unnecessary comments",
          "verified_at": "2025-06-13T18:33:21Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/764ed95651c1c7dfa71ca523287f6eeb514ccf77",
      "html_url": "https://github.com/keras-team/keras/commit/764ed95651c1c7dfa71ca523287f6eeb514ccf77",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/764ed95651c1c7dfa71ca523287f6eeb514ccf77/comments",
      "author": {
        "login": "abheesht17",
        "id": 31360468,
        "node_id": "MDQ6VXNlcjMxMzYwNDY4",
        "avatar_url": "https://avatars.githubusercontent.com/u/31360468?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/abheesht17",
        "html_url": "https://github.com/abheesht17",
        "followers_url": "https://api.github.com/users/abheesht17/followers",
        "following_url": "https://api.github.com/users/abheesht17/following{/other_user}",
        "gists_url": "https://api.github.com/users/abheesht17/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/abheesht17/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/abheesht17/subscriptions",
        "organizations_url": "https://api.github.com/users/abheesht17/orgs",
        "repos_url": "https://api.github.com/users/abheesht17/repos",
        "events_url": "https://api.github.com/users/abheesht17/events{/privacy}",
        "received_events_url": "https://api.github.com/users/abheesht17/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "6fd736cead0e1bb829fe9b26e814c05ab7b4b2be",
          "url": "https://api.github.com/repos/keras-team/keras/commits/6fd736cead0e1bb829fe9b26e814c05ab7b4b2be",
          "html_url": "https://github.com/keras-team/keras/commit/6fd736cead0e1bb829fe9b26e814c05ab7b4b2be"
        }
      ]
    },
    {
      "sha": "6fd736cead0e1bb829fe9b26e814c05ab7b4b2be",
      "node_id": "C_kwDOAffHH9oAKDZmZDczNmNlYWQwZTFiYjgyOWZlOWIyNmU4MTRjMDVhYjdiNGIyYmU",
      "commit": {
        "author": {
          "name": "Ugeun Park",
          "email": "pwg2004@gmail.com",
          "date": "2025-06-13T18:32:49Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-13T18:32:49Z"
        },
        "message": "Implement corrcoef function in keras.ops (#21372)\n\n* Add corrcoef for ops\n\n* Update method for complex case\n\n* Add init.py for corrcoef\n\n* Update code for test case\n\n* Update excluded_concrete_tests.txt for openvino\n\n* Update axis for corrcoef on tf\n\n* update docstrings",
        "tree": {
          "sha": "2de31a5b41e9ebf30aa1f7300adfd048a94a604c",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/2de31a5b41e9ebf30aa1f7300adfd048a94a604c"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/6fd736cead0e1bb829fe9b26e814c05ab7b4b2be",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoTG7RCRC1aQ7uu5UhlAAAFNYQAII/Nq+NH/k5Ao2siTUnJ0ph\n0zDelfOESfwR1unwOkrIVRHHjRYT1ji58ODElkZfGnTAh3lWKuaPt+CNiuckMojX\nrwWRYLz/+MekuHOJUMBn97YYXNzm7vb20ZZ/rsDDRvjVNVATAbDi5aCkBEaFwb3+\nLuTQLd85qkjOQL8zZTmNQ1/DG3hFLChPhWNWFZRhCz9C95ZLJc6O9C0XKc9kVAQC\nQ496DavqFR8VX/o0BpVK+3z+QSAu7xVCaQ/MpwJPQlPji6zoTy6csaWLPsSrlKSA\nLJd9J7DI5A6mvgG9UBUhV6kYCCZ/C/qZAFNgc5No0kiuKUX9oDYoAsX4TvFrMmZa\nhhs0NUK81mZIONw34MQBIPHeQ/L45qekS3t8RCaaUQDcdS3uK2p5Vj739Qxd4ES3\nxnTDMDws1SSBNWYRngNLYP0XzTV6ebxRY1MUDDqkoTq4VKDd5KKGSpLa4O1MciUw\ndDETotvV5sa0v6peSrJTV/9zcFDoemAuGDnwGNgiBLGCNKJgH8WOyKAgfX54HFEE\ntZ3mdu4wkKiuEDNnAef8iuHsfmW2CVUt2LhQ5uRMHdM9gcpeCbY4DjNGAH7A5bQa\nCZSkWbbyrB6EGSeLbx7RFFhfa5z1xr0ltjcMzQTMhdfvpcNn+y2vuQ/YuMbK0w9d\n2C8gqU6OObJ35PklA3NL\n=otQ0\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 2de31a5b41e9ebf30aa1f7300adfd048a94a604c\nparent fa31fa74ea69099dd513e59e4f8b36c18a35746b\nauthor Ugeun Park <pwg2004@gmail.com> 1749839569 +0900\ncommitter GitHub <noreply@github.com> 1749839569 -0700\n\nImplement corrcoef function in keras.ops (#21372)\n\n* Add corrcoef for ops\n\n* Update method for complex case\n\n* Add init.py for corrcoef\n\n* Update code for test case\n\n* Update excluded_concrete_tests.txt for openvino\n\n* Update axis for corrcoef on tf\n\n* update docstrings",
          "verified_at": "2025-06-13T18:32:52Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/6fd736cead0e1bb829fe9b26e814c05ab7b4b2be",
      "html_url": "https://github.com/keras-team/keras/commit/6fd736cead0e1bb829fe9b26e814c05ab7b4b2be",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/6fd736cead0e1bb829fe9b26e814c05ab7b4b2be/comments",
      "author": {
        "login": "shashaka",
        "id": 37043543,
        "node_id": "MDQ6VXNlcjM3MDQzNTQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/37043543?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shashaka",
        "html_url": "https://github.com/shashaka",
        "followers_url": "https://api.github.com/users/shashaka/followers",
        "following_url": "https://api.github.com/users/shashaka/following{/other_user}",
        "gists_url": "https://api.github.com/users/shashaka/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/shashaka/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/shashaka/subscriptions",
        "organizations_url": "https://api.github.com/users/shashaka/orgs",
        "repos_url": "https://api.github.com/users/shashaka/repos",
        "events_url": "https://api.github.com/users/shashaka/events{/privacy}",
        "received_events_url": "https://api.github.com/users/shashaka/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "fa31fa74ea69099dd513e59e4f8b36c18a35746b",
          "url": "https://api.github.com/repos/keras-team/keras/commits/fa31fa74ea69099dd513e59e4f8b36c18a35746b",
          "html_url": "https://github.com/keras-team/keras/commit/fa31fa74ea69099dd513e59e4f8b36c18a35746b"
        }
      ]
    },
    {
      "sha": "fa31fa74ea69099dd513e59e4f8b36c18a35746b",
      "node_id": "C_kwDOAffHH9oAKGZhMzFmYTc0ZWE2OTA5OWRkNTEzZTU5ZTRmOGIzNmMxOGEzNTc0NmI",
      "commit": {
        "author": {
          "name": "hertschuh",
          "email": "1091026+hertschuh@users.noreply.github.com",
          "date": "2025-06-11T23:25:08Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-11T23:25:08Z"
        },
        "message": "Add `name` parameter to the `__init__` of all op classes. (#21376)\n\nFollow up of https://github.com/keras-team/keras/pull/21373\n\nThis is to solve an inconsistency in the saving / reloading of ops. Some ops behave differently.\n\nConsider this code:\n\n```python\ninput = keras.layers.Input(shape=(4,), dtype=\"float32\")\noutput = keras.ops.abs(input)\nmodel = keras.models.Model(input, output)\n\njson = model.to_json()\nreloaded_model = keras.models.model_from_json(json)\nreloaded_json = reloaded_model.to_json()\n```\n\nThe reloaded model JSON is the same as the original model JSON. The `abs` op is serialized as\n\n- `{\"module\": \"keras.src.ops.numpy\", \"class_name\": \"Absolute\", \"config\": {\"name\": \"absolute\"}, \"registered_name\": \"Absolute\", \"name\": \"absolute\", ...}`\n\nConsider the same code with `abs` replaced with `sum`:\n\n```python\ninput = keras.layers.Input(shape=(4,), dtype=\"float32\")\noutput = keras.ops.abs(input)\nmodel = keras.models.Model(input, output)\n\njson = model.to_json()\nreloaded_model = keras.models.model_from_json(json)\nreloaded_json = reloaded_model.to_json()\n```\n\nThe reloaded model JSON is different from the original JSON.\n\n- `{\"module\": \"keras.src.ops.numpy\", \"class_name\": \"Sum\", \"config\": {\"axis\": null, \"keepdims\": false}, \"registered_name\": \"Sum\", \"name\": \"sum\", ...}`\n- `{\"module\": \"keras.src.ops.numpy\", \"class_name\": \"Sum\", \"config\": {\"axis\": null, \"keepdims\": false}, \"registered_name\": \"Sum\", \"name\": \"sum_1\", ...}`\n\nThe reloaded `sum` op now has a name `\"sum_1\"` instead of `\"sum\"`.\n\nThis is because:\n- `Abs` does not define `__init__` and inherits the `Operation.__init__` that has a `name` parameter.\n- `Sum` defines `__init__` without a `name` parameter.\n\nWe want saving / reloading to be idempotent. Even though users cannot control the name of ops (although it would be easy to add), the auto-assigned names should be saved and reloaded. For this, `name` has to be supported in `__init__`.\n\nThis PR adds a `name` parameter to all existing `__init__` of op classes, which is passed to `super().__init__()`. Note that it is defined as a keyword only argument for forward compatibility in case more parameters get added in the feature.\n\nEmpty `__init__`s were removed.\n\nFix `UnravelIndex.__init__` which was not calling `super().__init__()`.",
        "tree": {
          "sha": "7c0ff19fc0f3a35a80d7112c3c1f48358333cc09",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/7c0ff19fc0f3a35a80d7112c3c1f48358333cc09"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/fa31fa74ea69099dd513e59e4f8b36c18a35746b",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoShBUCRC1aQ7uu5UhlAAA4gwQADYpNsLoncvZRecq0Ro5WxpG\nv7jHQErJ7z9p29S1uw9RXrhnMG0sp+K4UEA4O34W+mTH61Bbx/iZ1HI15C5CbkuK\nrDKOfeYnmuWFEAbjRKflnbUx+MF71jdSXJL21QCtQsNvFWotfmQHeua/jklkRnO0\nqRH+Bz20c62mKnMcJIPRKmBw4xib6NCwzGFNogTKceE+Rv2s/OoMR5P3kQ4RZmsg\n9o+hVOiRihL0YYyhoAtY/09p587dNNhcf95Hs9x2H75CZ/HwiqlbsRsiIPT99mp3\n39Q0s8cSTXPXvsYfOembhz5iHAOfHjjUbq03gzLxtEm3PvjVNy252UN5doBnx6je\n/5zEIcloJpSFSl9wiauXhzUJrlQ6FadGSPO6JeqxFL091TNeX9VwEaPdgKYyk9+k\n8cIrVZM2onsyQDsTYRKAsT6pHTGRaWhORrKrGA9m+1yC1A+iRDLXSLy2HFI50Zev\nRa81JexoYWo1rjmhp039B2LcPNSIjZ3usyZpgzJzuUycOpUwv+V+N2+whZFSG99l\nczIUDUvLS1UTQFYtnOqCUuD8zGOUM+ArCXW+qtvBUlUu27YPwHCysPJ5sl+mjg5L\niKpXrHraoYXmdlCKqc5yYzFGAfTiTvxy85tXvl6tcY4iujaJorDgVbEo7JtI6NkU\nkUw3Phcby9f6s/Lg/Ni+\n=nyP1\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 7c0ff19fc0f3a35a80d7112c3c1f48358333cc09\nparent fb0b1e62a3e6d3907f67f3ddbf8a9782b3cc47ff\nauthor hertschuh <1091026+hertschuh@users.noreply.github.com> 1749684308 -0700\ncommitter GitHub <noreply@github.com> 1749684308 -0700\n\nAdd `name` parameter to the `__init__` of all op classes. (#21376)\n\nFollow up of https://github.com/keras-team/keras/pull/21373\n\nThis is to solve an inconsistency in the saving / reloading of ops. Some ops behave differently.\n\nConsider this code:\n\n```python\ninput = keras.layers.Input(shape=(4,), dtype=\"float32\")\noutput = keras.ops.abs(input)\nmodel = keras.models.Model(input, output)\n\njson = model.to_json()\nreloaded_model = keras.models.model_from_json(json)\nreloaded_json = reloaded_model.to_json()\n```\n\nThe reloaded model JSON is the same as the original model JSON. The `abs` op is serialized as\n\n- `{\"module\": \"keras.src.ops.numpy\", \"class_name\": \"Absolute\", \"config\": {\"name\": \"absolute\"}, \"registered_name\": \"Absolute\", \"name\": \"absolute\", ...}`\n\nConsider the same code with `abs` replaced with `sum`:\n\n```python\ninput = keras.layers.Input(shape=(4,), dtype=\"float32\")\noutput = keras.ops.abs(input)\nmodel = keras.models.Model(input, output)\n\njson = model.to_json()\nreloaded_model = keras.models.model_from_json(json)\nreloaded_json = reloaded_model.to_json()\n```\n\nThe reloaded model JSON is different from the original JSON.\n\n- `{\"module\": \"keras.src.ops.numpy\", \"class_name\": \"Sum\", \"config\": {\"axis\": null, \"keepdims\": false}, \"registered_name\": \"Sum\", \"name\": \"sum\", ...}`\n- `{\"module\": \"keras.src.ops.numpy\", \"class_name\": \"Sum\", \"config\": {\"axis\": null, \"keepdims\": false}, \"registered_name\": \"Sum\", \"name\": \"sum_1\", ...}`\n\nThe reloaded `sum` op now has a name `\"sum_1\"` instead of `\"sum\"`.\n\nThis is because:\n- `Abs` does not define `__init__` and inherits the `Operation.__init__` that has a `name` parameter.\n- `Sum` defines `__init__` without a `name` parameter.\n\nWe want saving / reloading to be idempotent. Even though users cannot control the name of ops (although it would be easy to add), the auto-assigned names should be saved and reloaded. For this, `name` has to be supported in `__init__`.\n\nThis PR adds a `name` parameter to all existing `__init__` of op classes, which is passed to `super().__init__()`. Note that it is defined as a keyword only argument for forward compatibility in case more parameters get added in the feature.\n\nEmpty `__init__`s were removed.\n\nFix `UnravelIndex.__init__` which was not calling `super().__init__()`.",
          "verified_at": "2025-06-11T23:25:11Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/fa31fa74ea69099dd513e59e4f8b36c18a35746b",
      "html_url": "https://github.com/keras-team/keras/commit/fa31fa74ea69099dd513e59e4f8b36c18a35746b",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/fa31fa74ea69099dd513e59e4f8b36c18a35746b/comments",
      "author": {
        "login": "hertschuh",
        "id": 1091026,
        "node_id": "MDQ6VXNlcjEwOTEwMjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1091026?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hertschuh",
        "html_url": "https://github.com/hertschuh",
        "followers_url": "https://api.github.com/users/hertschuh/followers",
        "following_url": "https://api.github.com/users/hertschuh/following{/other_user}",
        "gists_url": "https://api.github.com/users/hertschuh/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hertschuh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hertschuh/subscriptions",
        "organizations_url": "https://api.github.com/users/hertschuh/orgs",
        "repos_url": "https://api.github.com/users/hertschuh/repos",
        "events_url": "https://api.github.com/users/hertschuh/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hertschuh/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "fb0b1e62a3e6d3907f67f3ddbf8a9782b3cc47ff",
          "url": "https://api.github.com/repos/keras-team/keras/commits/fb0b1e62a3e6d3907f67f3ddbf8a9782b3cc47ff",
          "html_url": "https://github.com/keras-team/keras/commit/fb0b1e62a3e6d3907f67f3ddbf8a9782b3cc47ff"
        }
      ]
    },
    {
      "sha": "fb0b1e62a3e6d3907f67f3ddbf8a9782b3cc47ff",
      "node_id": "C_kwDOAffHH9oAKGZiMGIxZTYyYTNlNmQzOTA3ZjY3ZjNkZGJmOGE5NzgyYjNjYzQ3ZmY",
      "commit": {
        "author": {
          "name": "hertschuh",
          "email": "1091026+hertschuh@users.noreply.github.com",
          "date": "2025-06-11T21:28:56Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-11T21:28:56Z"
        },
        "message": "Fix operations which had static parameter passed as dynamic parameters. (#21374)\n\nSwitched many parameters in ops from being dynamic (passed to `call` method) to being static (passed to `__init__`). These parameters should be static because they cannot be tensors. The most commonly changed parameters were `shape` and `dtype`.\n\nStandardized the way `dtype` parameters are handled, in particular when they can be `None`.\n\nRemoved unused op classes: `Empty`, `Eye`, `Identity`, `Ones`, `Tri`, `Zeros`. These ops only have static parameters and no tensor inputs, they therefore cannot be part of a functional graph. They were missing the standard `if any_symbolic_tensors(...)`, which is why the class was dead code and only instantiated explicitly by unit tests.\n\nFixed `arange` and `full` ops. The code was missing the standard `if any_symbolic_tensors(...)`, which means that adding them to a functional graph would fail before and the op class was dead code until now.",
        "tree": {
          "sha": "a7dd40a34689b296e56b6f187dd413a716434758",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/a7dd40a34689b296e56b6f187dd413a716434758"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/fb0b1e62a3e6d3907f67f3ddbf8a9782b3cc47ff",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoSfUYCRC1aQ7uu5UhlAAAClwQABjWsFFel3RAZhZVIYRnA6gk\nplW1YPJNxDSpXamMJiZVlVwMK9q4N2xLupdNMQgxFbsLobaf82NVLEP6MP7n+BpW\nQFtxSES7HCqwjZKYZl9XvRGhYby8zYemxWMH3XsaQFxZKzdOlSqpXAWiAhfOrwF5\nMyTIWjlD3nFMuL4sDbdwoa85m64BFka0cnWxQX4PNkdxRMP8KM4QWABOiLLaBSy/\nWhBX+jnzFNYg1/MWa3MhbLzKkHl70Y9R4ywTvHRANhiAfgX6p7RGBNUedsl3iesU\n6jwN1feaMsd0l9zz86mo7Qtu909afLmGec5Om0PVBbXVTFRDEncqRxrvVwU8w4d5\no8NNZ3WOs7BwYMoi6Gq8EJGr18LnSJ1acU+vHl0lv6DOGoBxY1f9PM2eRVpWqzCn\nem2bz5GM2+ILjJQIrlbpp8j2FsuqkTenrFnVPszEkR5aHoG3bqkXJB6F6XSBf+3Q\n7BXlZmgID9MxcqOnaAR8nKOBvOM9jEAEHUXaS/kn5Tfa2KPguAw8krdzo5aeBC1w\nbnsIUZkKRwwV9b/qV/MVVtJpM0vH3p7zZjdwS0xjt3BNOazzb4SZ2EWyTEzFmj10\nT76kj2k7hqo35VEcekpkAe7lj74iEHVVxJ/rp6t2KUVe1oaJpTrc8idhT7J1b5Bg\nOKLEAc0IzhjRhgjZujcm\n=etd8\n-----END PGP SIGNATURE-----\n",
          "payload": "tree a7dd40a34689b296e56b6f187dd413a716434758\nparent 11f737ea3192ffc25227adac3e331cca1357ef4b\nauthor hertschuh <1091026+hertschuh@users.noreply.github.com> 1749677336 -0700\ncommitter GitHub <noreply@github.com> 1749677336 -0700\n\nFix operations which had static parameter passed as dynamic parameters. (#21374)\n\nSwitched many parameters in ops from being dynamic (passed to `call` method) to being static (passed to `__init__`). These parameters should be static because they cannot be tensors. The most commonly changed parameters were `shape` and `dtype`.\n\nStandardized the way `dtype` parameters are handled, in particular when they can be `None`.\n\nRemoved unused op classes: `Empty`, `Eye`, `Identity`, `Ones`, `Tri`, `Zeros`. These ops only have static parameters and no tensor inputs, they therefore cannot be part of a functional graph. They were missing the standard `if any_symbolic_tensors(...)`, which is why the class was dead code and only instantiated explicitly by unit tests.\n\nFixed `arange` and `full` ops. The code was missing the standard `if any_symbolic_tensors(...)`, which means that adding them to a functional graph would fail before and the op class was dead code until now.",
          "verified_at": "2025-06-11T21:28:59Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/fb0b1e62a3e6d3907f67f3ddbf8a9782b3cc47ff",
      "html_url": "https://github.com/keras-team/keras/commit/fb0b1e62a3e6d3907f67f3ddbf8a9782b3cc47ff",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/fb0b1e62a3e6d3907f67f3ddbf8a9782b3cc47ff/comments",
      "author": {
        "login": "hertschuh",
        "id": 1091026,
        "node_id": "MDQ6VXNlcjEwOTEwMjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1091026?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hertschuh",
        "html_url": "https://github.com/hertschuh",
        "followers_url": "https://api.github.com/users/hertschuh/followers",
        "following_url": "https://api.github.com/users/hertschuh/following{/other_user}",
        "gists_url": "https://api.github.com/users/hertschuh/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hertschuh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hertschuh/subscriptions",
        "organizations_url": "https://api.github.com/users/hertschuh/orgs",
        "repos_url": "https://api.github.com/users/hertschuh/repos",
        "events_url": "https://api.github.com/users/hertschuh/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hertschuh/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "11f737ea3192ffc25227adac3e331cca1357ef4b",
          "url": "https://api.github.com/repos/keras-team/keras/commits/11f737ea3192ffc25227adac3e331cca1357ef4b",
          "html_url": "https://github.com/keras-team/keras/commit/11f737ea3192ffc25227adac3e331cca1357ef4b"
        }
      ]
    },
    {
      "sha": "11f737ea3192ffc25227adac3e331cca1357ef4b",
      "node_id": "C_kwDOAffHH9oAKDExZjczN2VhMzE5MmZmYzI1MjI3YWRhYzNlMzMxY2NhMTM1N2VmNGI",
      "commit": {
        "author": {
          "name": "hertschuh",
          "email": "1091026+hertschuh@users.noreply.github.com",
          "date": "2025-06-11T18:57:39Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-11T18:57:39Z"
        },
        "message": "Add consistent support for name serialization of `Operation`s. (#21373)\n\nThis is to solve an inconsistency in the saving / reloading of ops. Some ops behave differently.\n\nConsider this code:\n\n```python\ninput = keras.layers.Input(shape=(4,), dtype=\"float32\")\noutput = keras.ops.abs(input)\nmodel = keras.models.Model(input, output)\n\njson = model.to_json()\nreloaded_model = keras.models.model_from_json(json)\nreloaded_json = reloaded_model.to_json()\n```\n\nThe reloaded model JSON is the same as the original model JSON. The `abs` op is serialized as\n\n- `{\"module\": \"keras.src.ops.numpy\", \"class_name\": \"Absolute\", \"config\": {\"name\": \"absolute\"}, \"registered_name\": \"Absolute\", \"name\": \"absolute\", ...}`\n\nConsider the same code with `abs` replaced with `sum`:\n\n```python\ninput = keras.layers.Input(shape=(4,), dtype=\"float32\")\noutput = keras.ops.abs(input)\nmodel = keras.models.Model(input, output)\n\njson = model.to_json()\nreloaded_model = keras.models.model_from_json(json)\nreloaded_json = reloaded_model.to_json()\n```\n\nThe reloaded model JSON is different from the original JSON.\n\n- `{\"module\": \"keras.src.ops.numpy\", \"class_name\": \"Sum\", \"config\": {\"axis\": null, \"keepdims\": false}, \"registered_name\": \"Sum\", \"name\": \"sum\", ...}`\n- `{\"module\": \"keras.src.ops.numpy\", \"class_name\": \"Sum\", \"config\": {\"axis\": null, \"keepdims\": false}, \"registered_name\": \"Sum\", \"name\": \"sum_1\", ...}`\n\nThe reloaded `sum` op now has a name `\"sum_1\"` instead of `\"sum\"`.\n\nThis is because:\n- `Abs` does not define `__init__` and inherits the `Operation.__init__` that has a `name` parameter.\n- `Sum` defines `__init__` without a `name` parameter.\n\nWe want saving / reloading to be idempotent. Even though users cannot control the name of ops (although it would be easy to add), the auto-assigned names should be saved and reloaded. For this, `name` has to be supported in `__init__`.\n\nThis PR changes the behavior of serialization from `_auto_config` to allow `name` to be returned when the `__init__` signature has `name` or `**kwargs`. The existing logic had a bug. Also switched to `inspect.signature` which is the recommended API in Python 3.\n\nNote that adding `name` as a parameter to all ops `__init__`s will be done as a separate PR.",
        "tree": {
          "sha": "6493909ef85aac27d7ba3d2020955b343329d3b1",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/6493909ef85aac27d7ba3d2020955b343329d3b1"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/11f737ea3192ffc25227adac3e331cca1357ef4b",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoSdGjCRC1aQ7uu5UhlAAAkXoQAInkwiRyDfyAvfaj9tKsThYT\nPsGR1UBm7O0XYOABbn0dGsBDG6QU/60AXHKhFhIE9vsUnpMxD9QfitGQrmvFPc6c\nMwKwGfhGaaK71odU4u24y0DCjnJTD76Q7biE1YROiX4l/DYMwWZpkcaTRDR4Jhds\nwt5/a2UggORXLpMKIPec0IwL1iYuG4C4t2deGSBQpqqClanR8pvaU1TH4nY69sHO\njCGKUINbvBNiQPaduP/yDOZWAvDGGdlV5uW/cCRtV2Wlsd1lfzcY4kUSyYjBDQ24\nQmuSyLGNRmTgviJfIoVrolJvsdJDICqyRXf+1X7SP6NLgDnbRcd9oCuly4PeZN3e\nIideAxmsR0+h1dPywuStq/rILknasmtBJMcnzkTdVvTkpPRjeTQ9LC+2+uQHbael\nVpkJFJ3Wvv6Qr40RLiLRvH+r+Qndge3qD68KmQWEh5sIMf43q4Lk65a9t6UJKHW4\nr+bFvyEuP5s5IygIywBbgtYZDRT2T1pHhbq3qSNKx2sgIMF2xXf5FcXEmJxYlniz\nZMyzVG4Dj15ONnhm1KLNfnARrwYMinqNE+PIjTUpoa1J925KYltnQn5yOoubkkQH\nISNN3Vbt6rP1cXG+2S1+ubmSmjQVmZWWpeHMiRZIFH8PXK10I787bm0prVTpmlY0\nYPjX2qRqz1TUQ92Hh32V\n=2ype\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 6493909ef85aac27d7ba3d2020955b343329d3b1\nparent 08ad93b77488f911328da6a676f04709b6e9f788\nauthor hertschuh <1091026+hertschuh@users.noreply.github.com> 1749668259 -0700\ncommitter GitHub <noreply@github.com> 1749668259 -0700\n\nAdd consistent support for name serialization of `Operation`s. (#21373)\n\nThis is to solve an inconsistency in the saving / reloading of ops. Some ops behave differently.\n\nConsider this code:\n\n```python\ninput = keras.layers.Input(shape=(4,), dtype=\"float32\")\noutput = keras.ops.abs(input)\nmodel = keras.models.Model(input, output)\n\njson = model.to_json()\nreloaded_model = keras.models.model_from_json(json)\nreloaded_json = reloaded_model.to_json()\n```\n\nThe reloaded model JSON is the same as the original model JSON. The `abs` op is serialized as\n\n- `{\"module\": \"keras.src.ops.numpy\", \"class_name\": \"Absolute\", \"config\": {\"name\": \"absolute\"}, \"registered_name\": \"Absolute\", \"name\": \"absolute\", ...}`\n\nConsider the same code with `abs` replaced with `sum`:\n\n```python\ninput = keras.layers.Input(shape=(4,), dtype=\"float32\")\noutput = keras.ops.abs(input)\nmodel = keras.models.Model(input, output)\n\njson = model.to_json()\nreloaded_model = keras.models.model_from_json(json)\nreloaded_json = reloaded_model.to_json()\n```\n\nThe reloaded model JSON is different from the original JSON.\n\n- `{\"module\": \"keras.src.ops.numpy\", \"class_name\": \"Sum\", \"config\": {\"axis\": null, \"keepdims\": false}, \"registered_name\": \"Sum\", \"name\": \"sum\", ...}`\n- `{\"module\": \"keras.src.ops.numpy\", \"class_name\": \"Sum\", \"config\": {\"axis\": null, \"keepdims\": false}, \"registered_name\": \"Sum\", \"name\": \"sum_1\", ...}`\n\nThe reloaded `sum` op now has a name `\"sum_1\"` instead of `\"sum\"`.\n\nThis is because:\n- `Abs` does not define `__init__` and inherits the `Operation.__init__` that has a `name` parameter.\n- `Sum` defines `__init__` without a `name` parameter.\n\nWe want saving / reloading to be idempotent. Even though users cannot control the name of ops (although it would be easy to add), the auto-assigned names should be saved and reloaded. For this, `name` has to be supported in `__init__`.\n\nThis PR changes the behavior of serialization from `_auto_config` to allow `name` to be returned when the `__init__` signature has `name` or `**kwargs`. The existing logic had a bug. Also switched to `inspect.signature` which is the recommended API in Python 3.\n\nNote that adding `name` as a parameter to all ops `__init__`s will be done as a separate PR.",
          "verified_at": "2025-06-11T18:57:42Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/11f737ea3192ffc25227adac3e331cca1357ef4b",
      "html_url": "https://github.com/keras-team/keras/commit/11f737ea3192ffc25227adac3e331cca1357ef4b",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/11f737ea3192ffc25227adac3e331cca1357ef4b/comments",
      "author": {
        "login": "hertschuh",
        "id": 1091026,
        "node_id": "MDQ6VXNlcjEwOTEwMjY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1091026?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hertschuh",
        "html_url": "https://github.com/hertschuh",
        "followers_url": "https://api.github.com/users/hertschuh/followers",
        "following_url": "https://api.github.com/users/hertschuh/following{/other_user}",
        "gists_url": "https://api.github.com/users/hertschuh/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hertschuh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hertschuh/subscriptions",
        "organizations_url": "https://api.github.com/users/hertschuh/orgs",
        "repos_url": "https://api.github.com/users/hertschuh/repos",
        "events_url": "https://api.github.com/users/hertschuh/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hertschuh/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "08ad93b77488f911328da6a676f04709b6e9f788",
          "url": "https://api.github.com/repos/keras-team/keras/commits/08ad93b77488f911328da6a676f04709b6e9f788",
          "html_url": "https://github.com/keras-team/keras/commit/08ad93b77488f911328da6a676f04709b6e9f788"
        }
      ]
    },
    {
      "sha": "08ad93b77488f911328da6a676f04709b6e9f788",
      "node_id": "C_kwDOAffHH9oAKDA4YWQ5M2I3NzQ4OGY5MTEzMjhkYTZhNjc2ZjA0NzA5YjZlOWY3ODg",
      "commit": {
        "author": {
          "name": "Mauro",
          "email": "mauro.iazzi@gmail.com",
          "date": "2025-06-10T19:13:50Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-10T19:13:50Z"
        },
        "message": "Add implementation of precision-recall gain AUC (#21370)\n\n* Remove dead code in the confusion metrics\n\n* Add PRGAIN enum for AUC metric types\n\n* Add implementation of precision-recall gain AUC\n\nBased on\nhttps://research-information.bris.ac.uk/files/72164009/5867_precision_recall_gain_curves_pr_analysis_done_right.pdf",
        "tree": {
          "sha": "0ba304d1f717255c48d80b0f66c46aea4c1f14c4",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/0ba304d1f717255c48d80b0f66c46aea4c1f14c4"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/08ad93b77488f911328da6a676f04709b6e9f788",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoSIPuCRC1aQ7uu5UhlAAA2AsQAA4kqFjY1TJR5fQb6r22wM1i\n6pN0CZwztMyn6jN/nIE9gdAewoaWzMvt3RCqbnhH/qn1zInNiRL+b51HGOHC+4P5\nKzjWzXh4W3/ZZCOwaXUlAO//pItdgIHnDvtXHAJzc/d+SmZQ9xjQBz7adErtYGHO\njLdzBfYZCvuMwzPSmXyhlG7d0prmIj9/nN+DdkMC3O+bJfGD4jGMBAqViOHviFqd\nLBJZ2PN/gIXTNuXQsCD6fW5FsaAvDZ7stVp01oEMMSqy753B6ekf58UrsU7DBcsJ\nZz/WJc0weIkhbspJcOSlwzMwaB5JxVxkrg5bbNCbBQ8a9zzhM4HkgjPU+Sa1Utvk\nmQwRHoXqcpgWOPQhCc9KdmISPmRJeLCn+ilmYv3vY4I54mLkOy2Xa7Q/5g2Llvsv\nT8+YIzxRRXitNslbeRVfaRKf6WzlJJZv4OLfrzqUsvvevajoljV5Rr/nmshLUmXc\nGhyNsjxdF1YUjTOa1ke+K0/5UCzDZ587CLPT/GME+QzUznwFNOx9OILBrGH0KuT5\n0DtF64qeR8LQXwcZlPjgs2INEkNzmIAURvy5Flyqv2SMgzoFq2jEbFo0d9CSPhuj\nT508m8fohMduYe12qQ7yzZ4W9lnEjN4HDU3OtdmfH2M4K8LbuvePeiyr3C2TYW5X\ny6tuG0wPDJwVYYu+oFwn\n=3QVj\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 0ba304d1f717255c48d80b0f66c46aea4c1f14c4\nparent 0c0ec1a42dcc4c34247b1fb6d54fc96402ef6d51\nauthor Mauro <mauro.iazzi@gmail.com> 1749582830 +0200\ncommitter GitHub <noreply@github.com> 1749582830 -0700\n\nAdd implementation of precision-recall gain AUC (#21370)\n\n* Remove dead code in the confusion metrics\n\n* Add PRGAIN enum for AUC metric types\n\n* Add implementation of precision-recall gain AUC\n\nBased on\nhttps://research-information.bris.ac.uk/files/72164009/5867_precision_recall_gain_curves_pr_analysis_done_right.pdf",
          "verified_at": "2025-06-10T19:13:53Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/08ad93b77488f911328da6a676f04709b6e9f788",
      "html_url": "https://github.com/keras-team/keras/commit/08ad93b77488f911328da6a676f04709b6e9f788",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/08ad93b77488f911328da6a676f04709b6e9f788/comments",
      "author": {
        "login": "iazzi",
        "id": 336238,
        "node_id": "MDQ6VXNlcjMzNjIzOA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/336238?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/iazzi",
        "html_url": "https://github.com/iazzi",
        "followers_url": "https://api.github.com/users/iazzi/followers",
        "following_url": "https://api.github.com/users/iazzi/following{/other_user}",
        "gists_url": "https://api.github.com/users/iazzi/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/iazzi/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/iazzi/subscriptions",
        "organizations_url": "https://api.github.com/users/iazzi/orgs",
        "repos_url": "https://api.github.com/users/iazzi/repos",
        "events_url": "https://api.github.com/users/iazzi/events{/privacy}",
        "received_events_url": "https://api.github.com/users/iazzi/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "0c0ec1a42dcc4c34247b1fb6d54fc96402ef6d51",
          "url": "https://api.github.com/repos/keras-team/keras/commits/0c0ec1a42dcc4c34247b1fb6d54fc96402ef6d51",
          "html_url": "https://github.com/keras-team/keras/commit/0c0ec1a42dcc4c34247b1fb6d54fc96402ef6d51"
        }
      ]
    },
    {
      "sha": "0c0ec1a42dcc4c34247b1fb6d54fc96402ef6d51",
      "node_id": "C_kwDOAffHH9oAKDBjMGVjMWE0MmRjYzRjMzQyNDdiMWZiNmQ1NGZjOTY0MDJlZjZkNTE",
      "commit": {
        "author": {
          "name": "RAHUL KUMAR",
          "email": "pctablet505@gmail.com",
          "date": "2025-06-10T17:54:08Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-06-10T17:54:08Z"
        },
        "message": "Re-apply Fixed issue with dot_product_attention when using TPU. #21254 after addressing cuDNN/FlashAttention API updates (#21333)\n\n* Update nn.py\n\n* Update nn.py\n\n* Update nn.py\n\n* Update nn.py\n\n* Update nn.py\n\nCorrected indentation in doc string\n\n* Update nn.py\n\n* Update random_grayscale.py\n\nFixed issue with passing a single image without batch dimension.\n\n* Update keras/src/layers/preprocessing/image_preprocessing/random_grayscale.py\n\nCo-authored-by: Jyotinder Singh <33001894+JyotinderSingh@users.noreply.github.com>\n\n* Update random_grayscale_test.py\n\nTest case for unbatched inputs\n\n* code reformat\n\n* Update random_grayscale_test.py\n\nTestcase for checking both unbatched and batched single image inputs.\n\n* changed compute_output_spec\n\nThere was a bug, and it was causing cycle in graph.\n\n* Update random_grayscale.py\n\nremoved the use of tree.map_structure\n\n* Reapply \"Fixed issue with dot_product_attention when using TPU.  (#21254)\" (#21329)\n\nThis reverts commit 81821e02486886436d10bb59bdfdf1715ebcca1a.\n\n* Improve error handling in _can_use_flash_attention for better debugging\n\nEnhanced the _can_use_flash_attention function to provide more detailed\nerror messages when flash attention compatibility checks fail.\n\nChanges:\n- Replace generic exception catching with specific error propagation\n- When raise_error=True, directly re-raise original exceptions from\n  check_layout() and check_is_flash_attention() functions\n- Preserve detailed error context from JAX internal validation functions\n- Maintain existing behavior when raise_error=False (returns False)\n\nThis improves debugging experience by surfacing specific technical details\nabout tensor layout incompatibilities, cuDNN version requirements, and\nother flash attention compatibility issues.\n\nRelates to keras-hub PR #2257 and addresses flash attention debugging needs.\n\n* Revert \"Improve error handling in _can_use_flash_attention for better debugging\"\n\nThis reverts commit 7a0c5473c3091a2c90db031515c1c3f8daae8e7a.\n\n* Fix JAX API compatibility and improve error handling in `_can_use_flash_attention`\n\nChanges:\n- Add missing q_offsets=None and kv_offsets=None parameters to check_layout()\n  call to match updated JAX function signature\n- Replace bare `except:` with `except Exception as e:` and `raise e` to\n  preserve detailed error messages from JAX validation functions\n- Maintain existing fallback behavior when raise_error=False\n\nThis resolves compatibility issues with newer JAX versions and improves\ndebugging experience by surfacing specific technical details about\nflash attention compatibility failures.\n\n* Updated `dot_product_attention`\n\nSimplified the check for `flasth_attention` by removing redundant checks that are already done in `_can_use_flash_attention`.\n\n* Update nn.py\n\n* Update nn.py\n\n---------\n\nCo-authored-by: Jyotinder Singh <33001894+JyotinderSingh@users.noreply.github.com>",
        "tree": {
          "sha": "b75335d4b33ff0c82bf6d62ef68d9852d8c73463",
          "url": "https://api.github.com/repos/keras-team/keras/git/trees/b75335d4b33ff0c82bf6d62ef68d9852d8c73463"
        },
        "url": "https://api.github.com/repos/keras-team/keras/git/commits/0c0ec1a42dcc4c34247b1fb6d54fc96402ef6d51",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoSHFACRC1aQ7uu5UhlAAAevoQAHAFmqB9sklT4iVezlWTTi43\nga5XTPgCsmvOsAnrgw9G4Wawaz+QX/Gp7CDGWDMNQQnoUBi3qwBWHB/vwYN6uHNV\nxBuGX6cF3XRyWvNvqKURx95NFX/irJKvHZfH+gPN6VB7ZqaNZ2ACzAIyCXiu23zA\nYFw1xu7J3HDL9uanOGh7Po71n82gKElj0MVkoVc9s7DfV1JqGOMpKSGtK7m7hXJ1\noFqY9En+Gvm8FlX2VlGKsDuc8YxeSum5HzLWvs4FsHR+ja/R6k1WaJFdF5hsRBj4\nE1VfJxJt5DWJh3P3xAITvAVdnSQczl5TvClUrePYHVPwScNYDjp5WCkEA+EfQGaJ\n5VkF9AvydmhD1pl5ldToch4G1uStBz8alRzNj0wdUQbuNluIES5ZUtK3W8KTQsjT\nKA7RS00FHsAj1UOFNj7kB93n7KDJFa3h07XLEGO9mvXoISmzD1JOe/W5qCo00Fch\nGPBCz8TdiuqsDt/OsJzZ8jSOiDOsqPm/C/y7sgZvPY4EplpqN+RM0pJ+5SF0nMF6\nQE6IWzqojgeEBs8RkETCBQcrcXHrRpr60qx3LG3g1AaKlhws0Pk2BMvL4APuDZ6h\ng5oxtzJiHYkU+7aSbfRuDvc5wrFTNjpBeYAMm6W+CNifxyBeh6hOGqHXnfN/cDtE\nQjaHA9AQiihF82lKxlJx\n=XOX6\n-----END PGP SIGNATURE-----\n",
          "payload": "tree b75335d4b33ff0c82bf6d62ef68d9852d8c73463\nparent 9286df3460cb980992c392e9f0fa65f72ba010ba\nauthor RAHUL KUMAR <pctablet505@gmail.com> 1749578048 +0530\ncommitter GitHub <noreply@github.com> 1749578048 -0700\n\nRe-apply Fixed issue with dot_product_attention when using TPU. #21254 after addressing cuDNN/FlashAttention API updates (#21333)\n\n* Update nn.py\n\n* Update nn.py\n\n* Update nn.py\n\n* Update nn.py\n\n* Update nn.py\n\nCorrected indentation in doc string\n\n* Update nn.py\n\n* Update random_grayscale.py\n\nFixed issue with passing a single image without batch dimension.\n\n* Update keras/src/layers/preprocessing/image_preprocessing/random_grayscale.py\n\nCo-authored-by: Jyotinder Singh <33001894+JyotinderSingh@users.noreply.github.com>\n\n* Update random_grayscale_test.py\n\nTest case for unbatched inputs\n\n* code reformat\n\n* Update random_grayscale_test.py\n\nTestcase for checking both unbatched and batched single image inputs.\n\n* changed compute_output_spec\n\nThere was a bug, and it was causing cycle in graph.\n\n* Update random_grayscale.py\n\nremoved the use of tree.map_structure\n\n* Reapply \"Fixed issue with dot_product_attention when using TPU.  (#21254)\" (#21329)\n\nThis reverts commit 81821e02486886436d10bb59bdfdf1715ebcca1a.\n\n* Improve error handling in _can_use_flash_attention for better debugging\n\nEnhanced the _can_use_flash_attention function to provide more detailed\nerror messages when flash attention compatibility checks fail.\n\nChanges:\n- Replace generic exception catching with specific error propagation\n- When raise_error=True, directly re-raise original exceptions from\n  check_layout() and check_is_flash_attention() functions\n- Preserve detailed error context from JAX internal validation functions\n- Maintain existing behavior when raise_error=False (returns False)\n\nThis improves debugging experience by surfacing specific technical details\nabout tensor layout incompatibilities, cuDNN version requirements, and\nother flash attention compatibility issues.\n\nRelates to keras-hub PR #2257 and addresses flash attention debugging needs.\n\n* Revert \"Improve error handling in _can_use_flash_attention for better debugging\"\n\nThis reverts commit 7a0c5473c3091a2c90db031515c1c3f8daae8e7a.\n\n* Fix JAX API compatibility and improve error handling in `_can_use_flash_attention`\n\nChanges:\n- Add missing q_offsets=None and kv_offsets=None parameters to check_layout()\n  call to match updated JAX function signature\n- Replace bare `except:` with `except Exception as e:` and `raise e` to\n  preserve detailed error messages from JAX validation functions\n- Maintain existing fallback behavior when raise_error=False\n\nThis resolves compatibility issues with newer JAX versions and improves\ndebugging experience by surfacing specific technical details about\nflash attention compatibility failures.\n\n* Updated `dot_product_attention`\n\nSimplified the check for `flasth_attention` by removing redundant checks that are already done in `_can_use_flash_attention`.\n\n* Update nn.py\n\n* Update nn.py\n\n---------\n\nCo-authored-by: Jyotinder Singh <33001894+JyotinderSingh@users.noreply.github.com>",
          "verified_at": "2025-06-10T17:54:12Z"
        }
      },
      "url": "https://api.github.com/repos/keras-team/keras/commits/0c0ec1a42dcc4c34247b1fb6d54fc96402ef6d51",
      "html_url": "https://github.com/keras-team/keras/commit/0c0ec1a42dcc4c34247b1fb6d54fc96402ef6d51",
      "comments_url": "https://api.github.com/repos/keras-team/keras/commits/0c0ec1a42dcc4c34247b1fb6d54fc96402ef6d51/comments",
      "author": {
        "login": "pctablet505",
        "id": 55033230,
        "node_id": "MDQ6VXNlcjU1MDMzMjMw",
        "avatar_url": "https://avatars.githubusercontent.com/u/55033230?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/pctablet505",
        "html_url": "https://github.com/pctablet505",
        "followers_url": "https://api.github.com/users/pctablet505/followers",
        "following_url": "https://api.github.com/users/pctablet505/following{/other_user}",
        "gists_url": "https://api.github.com/users/pctablet505/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/pctablet505/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/pctablet505/subscriptions",
        "organizations_url": "https://api.github.com/users/pctablet505/orgs",
        "repos_url": "https://api.github.com/users/pctablet505/repos",
        "events_url": "https://api.github.com/users/pctablet505/events{/privacy}",
        "received_events_url": "https://api.github.com/users/pctablet505/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "9286df3460cb980992c392e9f0fa65f72ba010ba",
          "url": "https://api.github.com/repos/keras-team/keras/commits/9286df3460cb980992c392e9f0fa65f72ba010ba",
          "html_url": "https://github.com/keras-team/keras/commit/9286df3460cb980992c392e9f0fa65f72ba010ba"
        }
      ]
    }
  ]
}
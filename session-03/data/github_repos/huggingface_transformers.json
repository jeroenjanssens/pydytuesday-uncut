{
  "metadata": {
    "id": 155220641,
    "node_id": "MDEwOlJlcG9zaXRvcnkxNTUyMjA2NDE=",
    "name": "transformers",
    "full_name": "huggingface/transformers",
    "private": false,
    "owner": {
      "login": "huggingface",
      "id": 25720743,
      "node_id": "MDEyOk9yZ2FuaXphdGlvbjI1NzIwNzQz",
      "avatar_url": "https://avatars.githubusercontent.com/u/25720743?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huggingface",
      "html_url": "https://github.com/huggingface",
      "followers_url": "https://api.github.com/users/huggingface/followers",
      "following_url": "https://api.github.com/users/huggingface/following{/other_user}",
      "gists_url": "https://api.github.com/users/huggingface/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huggingface/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huggingface/subscriptions",
      "organizations_url": "https://api.github.com/users/huggingface/orgs",
      "repos_url": "https://api.github.com/users/huggingface/repos",
      "events_url": "https://api.github.com/users/huggingface/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huggingface/received_events",
      "type": "Organization",
      "user_view_type": "public",
      "site_admin": false
    },
    "html_url": "https://github.com/huggingface/transformers",
    "description": "\ud83e\udd17 Transformers: the model-definition framework for state-of-the-art machine learning models in text, vision, audio, and multimodal models, for both inference and training. ",
    "fork": false,
    "url": "https://api.github.com/repos/huggingface/transformers",
    "forks_url": "https://api.github.com/repos/huggingface/transformers/forks",
    "keys_url": "https://api.github.com/repos/huggingface/transformers/keys{/key_id}",
    "collaborators_url": "https://api.github.com/repos/huggingface/transformers/collaborators{/collaborator}",
    "teams_url": "https://api.github.com/repos/huggingface/transformers/teams",
    "hooks_url": "https://api.github.com/repos/huggingface/transformers/hooks",
    "issue_events_url": "https://api.github.com/repos/huggingface/transformers/issues/events{/number}",
    "events_url": "https://api.github.com/repos/huggingface/transformers/events",
    "assignees_url": "https://api.github.com/repos/huggingface/transformers/assignees{/user}",
    "branches_url": "https://api.github.com/repos/huggingface/transformers/branches{/branch}",
    "tags_url": "https://api.github.com/repos/huggingface/transformers/tags",
    "blobs_url": "https://api.github.com/repos/huggingface/transformers/git/blobs{/sha}",
    "git_tags_url": "https://api.github.com/repos/huggingface/transformers/git/tags{/sha}",
    "git_refs_url": "https://api.github.com/repos/huggingface/transformers/git/refs{/sha}",
    "trees_url": "https://api.github.com/repos/huggingface/transformers/git/trees{/sha}",
    "statuses_url": "https://api.github.com/repos/huggingface/transformers/statuses/{sha}",
    "languages_url": "https://api.github.com/repos/huggingface/transformers/languages",
    "stargazers_url": "https://api.github.com/repos/huggingface/transformers/stargazers",
    "contributors_url": "https://api.github.com/repos/huggingface/transformers/contributors",
    "subscribers_url": "https://api.github.com/repos/huggingface/transformers/subscribers",
    "subscription_url": "https://api.github.com/repos/huggingface/transformers/subscription",
    "commits_url": "https://api.github.com/repos/huggingface/transformers/commits{/sha}",
    "git_commits_url": "https://api.github.com/repos/huggingface/transformers/git/commits{/sha}",
    "comments_url": "https://api.github.com/repos/huggingface/transformers/comments{/number}",
    "issue_comment_url": "https://api.github.com/repos/huggingface/transformers/issues/comments{/number}",
    "contents_url": "https://api.github.com/repos/huggingface/transformers/contents/{+path}",
    "compare_url": "https://api.github.com/repos/huggingface/transformers/compare/{base}...{head}",
    "merges_url": "https://api.github.com/repos/huggingface/transformers/merges",
    "archive_url": "https://api.github.com/repos/huggingface/transformers/{archive_format}{/ref}",
    "downloads_url": "https://api.github.com/repos/huggingface/transformers/downloads",
    "issues_url": "https://api.github.com/repos/huggingface/transformers/issues{/number}",
    "pulls_url": "https://api.github.com/repos/huggingface/transformers/pulls{/number}",
    "milestones_url": "https://api.github.com/repos/huggingface/transformers/milestones{/number}",
    "notifications_url": "https://api.github.com/repos/huggingface/transformers/notifications{?since,all,participating}",
    "labels_url": "https://api.github.com/repos/huggingface/transformers/labels{/name}",
    "releases_url": "https://api.github.com/repos/huggingface/transformers/releases{/id}",
    "deployments_url": "https://api.github.com/repos/huggingface/transformers/deployments",
    "created_at": "2018-10-29T13:56:00Z",
    "updated_at": "2025-07-21T01:18:52Z",
    "pushed_at": "2025-07-18T22:56:23Z",
    "git_url": "git://github.com/huggingface/transformers.git",
    "ssh_url": "git@github.com:huggingface/transformers.git",
    "clone_url": "https://github.com/huggingface/transformers.git",
    "svn_url": "https://github.com/huggingface/transformers",
    "homepage": "https://huggingface.co/transformers",
    "size": 336351,
    "stargazers_count": 147217,
    "watchers_count": 147217,
    "language": "Python",
    "has_issues": true,
    "has_projects": true,
    "has_downloads": true,
    "has_wiki": true,
    "has_pages": false,
    "has_discussions": false,
    "forks_count": 29721,
    "mirror_url": null,
    "archived": false,
    "disabled": false,
    "open_issues_count": 1887,
    "license": {
      "key": "apache-2.0",
      "name": "Apache License 2.0",
      "spdx_id": "Apache-2.0",
      "url": "https://api.github.com/licenses/apache-2.0",
      "node_id": "MDc6TGljZW5zZTI="
    },
    "allow_forking": true,
    "is_template": false,
    "web_commit_signoff_required": false,
    "topics": [
      "audio",
      "deep-learning",
      "deepseek",
      "gemma",
      "glm",
      "hacktoberfest",
      "llm",
      "machine-learning",
      "model-hub",
      "natural-language-processing",
      "nlp",
      "pretrained-models",
      "python",
      "pytorch",
      "pytorch-transformers",
      "qwen",
      "speech-recognition",
      "transformer",
      "vlm"
    ],
    "visibility": "public",
    "forks": 29721,
    "open_issues": 1887,
    "watchers": 147217,
    "default_branch": "main",
    "permissions": {
      "admin": false,
      "maintain": false,
      "push": false,
      "triage": false,
      "pull": true
    },
    "score": 1.0
  },
  "scraped_at": "2025-07-20T20:27:22.747905",
  "issues": [
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/21785/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/21785/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/21785/events",
      "html_url": "https://github.com/huggingface/transformers/pull/21785",
      "id": 1598610618,
      "node_id": "PR_kwDOCUB6oc5KsxQL",
      "number": 21785,
      "title": "Add Pop2Piano",
      "user": {
        "login": "susnato",
        "id": 56069179,
        "node_id": "MDQ6VXNlcjU2MDY5MTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/susnato",
        "html_url": "https://github.com/susnato",
        "followers_url": "https://api.github.com/users/susnato/followers",
        "following_url": "https://api.github.com/users/susnato/following{/other_user}",
        "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
        "organizations_url": "https://api.github.com/users/susnato/orgs",
        "repos_url": "https://api.github.com/users/susnato/repos",
        "events_url": "https://api.github.com/users/susnato/events{/privacy}",
        "received_events_url": "https://api.github.com/users/susnato/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 49,
      "created_at": "2023-02-24T13:15:23Z",
      "updated_at": "2023-08-21T15:35:01Z",
      "closed_at": "2023-08-21T15:35:00Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/21785",
        "html_url": "https://github.com/huggingface/transformers/pull/21785",
        "diff_url": "https://github.com/huggingface/transformers/pull/21785.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/21785.patch",
        "merged_at": "2023-08-21T15:35:00Z"
      },
      "body": "# What does this PR do?\r\n\r\n<!--\r\nCongratulations! You've made it this far! You're not quite done yet though.\r\n\r\nOnce merged, your PR is going to appear in the release notes with the title you set, so make sure it's a great title that fully reflects the extent of your awesome contribution.\r\n\r\nThen, please replace this with a description of the change and which issue is fixed (if applicable). Please also include relevant motivation and context. List any dependencies (if any) that are required for this change.\r\n\r\nOnce you're done, someone will review your PR shortly (see the section \"Who can review?\" below to tag some potential reviewers). They may suggest changes to make the code even better. If no one reviewed your PR after a week has passed, don't hesitate to post a new comment @-mentioning the same persons---sometimes notifications get lost.\r\n-->\r\n\r\n<!-- Remove if not applicable -->\r\n\r\nAdds Pop2Piano model to HuggingFace.\r\n\r\nFixes #20126\r\n\r\n\r\n## Before submitting\r\n- [ ] This PR fixes a typo or improves the docs (you can dismiss the other checks if that's the case).\r\n- [x] Did you read the [contributor guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#start-contributing-pull-requests),\r\n      Pull Request section?\r\n- [x] Was this discussed/approved via a Github issue or the [forum](https://discuss.huggingface.co/)? Please add a [link](https://github.com/huggingface/transformers/issues/20126)\r\n      to it if that's the case.\r\n- [ ] Did you make sure to update the documentation with your changes? Here are the\r\n      [documentation guidelines](https://github.com/huggingface/transformers/tree/main/docs), and\r\n      [here are tips on formatting docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).\r\n- [ ] Did you write any new necessary tests?\r\n\r\n\r\n## Who can review?\r\n\r\nAnyone in the community is free to review the PR once the tests have passed. Feel free to tag\r\nmembers/contributors who may be interested in your PR.\r\n\r\n@ArthurZucker \r\n<!-- Your PR will be replied to more quickly if you can figure out the right person to tag with @\r\n\r\n If you know how to use git blame, that is the easiest way, otherwise, here is a rough guide of **who to tag**.\r\n Please tag fewer than 3 people.\r\n\r\nModels:\r\n\r\n- text models: @ArthurZucker and @younesbelkada\r\n- vision models: @amyeroberts\r\n- speech models: @sanchit-gandhi\r\n- graph models: @clefourrier\r\n\r\nLibrary:\r\n\r\n- flax: @sanchit-gandhi\r\n- generate: @gante\r\n- pipelines: @Narsil\r\n- tensorflow: @gante and @Rocketknight1\r\n- tokenizers: @ArthurZucker\r\n- trainer: @sgugger\r\n\r\nIntegrations:\r\n\r\n- deepspeed: HF Trainer: @stas00, Accelerate: @pacman100\r\n- ray/raytune: @richardliaw, @amogkam\r\n\r\nDocumentation: @sgugger, @stevhliu and @MKhalusova\r\n\r\nHF projects:\r\n\r\n- accelerate: [different repo](https://github.com/huggingface/accelerate)\r\n- datasets: [different repo](https://github.com/huggingface/datasets)\r\n- diffusers: [different repo](https://github.com/huggingface/diffusers)\r\n- rust tokenizers: [different repo](https://github.com/huggingface/tokenizers)\r\n\r\nMaintained examples (not research project or legacy):\r\n\r\n- Flax: @sanchit-gandhi\r\n- PyTorch: @sgugger\r\n- TensorFlow: @Rocketknight1\r\n\r\n -->\r\n",
      "closed_by": {
        "login": "amyeroberts",
        "id": 22614925,
        "node_id": "MDQ6VXNlcjIyNjE0OTI1",
        "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amyeroberts",
        "html_url": "https://github.com/amyeroberts",
        "followers_url": "https://api.github.com/users/amyeroberts/followers",
        "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
        "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
        "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
        "repos_url": "https://api.github.com/users/amyeroberts/repos",
        "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
        "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/21785/reactions",
        "total_count": 1,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 1,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/21785/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1466401522",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1466401522",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1466401522,
          "node_id": "IC_kwDOCUB6oc5XZ4Ly",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-13T15:47:29Z",
          "updated_at": "2023-03-19T14:32:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker the implementation is almost ready(also tests) but I feel that the way I implemented this model is not a descent level, thats why I want you to take a look at the `Pop2PianoModel` structure. \r\nJust to be clear with the feature extractor, the `Pop2PianoFeatureExtractor` takes raw_audio as input and generates variable length output(`10, 50000`, `15, 62200`), even if I pad the raw_audio at start, it will still produce different results for different audio files, so I used lists to stack them and then wrapped them through `BatchFeature`. \r\n\r\nPlease don't mind about docs I will change them afterwards \r\n\r\n**EDIT : Please ignore this** ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1466401522/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1475253337",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1475253337",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1475253337,
          "node_id": "IC_kwDOCUB6oc5X7pRZ",
          "user": {
            "login": "sweetcocoa",
            "id": 12545380,
            "node_id": "MDQ6VXNlcjEyNTQ1Mzgw",
            "avatar_url": "https://avatars.githubusercontent.com/u/12545380?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sweetcocoa",
            "html_url": "https://github.com/sweetcocoa",
            "followers_url": "https://api.github.com/users/sweetcocoa/followers",
            "following_url": "https://api.github.com/users/sweetcocoa/following{/other_user}",
            "gists_url": "https://api.github.com/users/sweetcocoa/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sweetcocoa/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sweetcocoa/subscriptions",
            "organizations_url": "https://api.github.com/users/sweetcocoa/orgs",
            "repos_url": "https://api.github.com/users/sweetcocoa/repos",
            "events_url": "https://api.github.com/users/sweetcocoa/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sweetcocoa/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-19T13:18:14Z",
          "updated_at": "2023-03-19T13:18:14Z",
          "author_association": "CONTRIBUTOR",
          "body": "*(Here is the author of pop2piano)* \r\nThank you for doing this PR. It seems that this was implemented by understanding the original code better than me! Please feel free to ask me if there is anything I can check or do.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1475253337/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1475285056",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1475285056",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1475285056,
          "node_id": "IC_kwDOCUB6oc5X7xBA",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-19T15:02:58Z",
          "updated_at": "2023-03-19T15:02:58Z",
          "author_association": "CONTRIBUTOR",
          "body": "@sweetcocoa Thanks for you comments, HF team has helped me a lot in this integration.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1475285056/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1476021451",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1476021451",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1476021451,
          "node_id": "IC_kwDOCUB6oc5X-kzL",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-20T11:01:57Z",
          "updated_at": "2023-03-20T11:01:57Z",
          "author_association": "COLLABORATOR",
          "body": "For solving the import issues, you have to create a `require_xxx` with the name of the package. Look for example at the [`require_accelerate`](https://github.com/ArthurZucker/transformers/blob/c3a10a5dace55657a639789ad41fb4ded80e96fe/src/transformers/testing_utils.py#L259) in the `testing_utils.py`! \ud83d\ude09 \r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1476021451/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1476133286",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1476133286",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1476133286,
          "node_id": "IC_kwDOCUB6oc5X_AGm",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-20T12:24:29Z",
          "updated_at": "2023-03-20T12:24:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker thanks for you comment!\r\nBut I have already created `require_xxx` in `testing_utils.py` regarding `essentia` and `pretty_midi` and also I have used them in `transformers/src/transformers/models/pop2piano/__init__.py`. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1476133286/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1480659128",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1480659128",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1480659128,
          "node_id": "IC_kwDOCUB6oc5YQRC4",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-23T06:21:09Z",
          "updated_at": "2023-03-23T06:21:09Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_21785). All of your documentation changes will be reflected on that endpoint.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1480659128/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1481122336",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1481122336",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1481122336,
          "node_id": "IC_kwDOCUB6oc5YSCIg",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-23T12:37:13Z",
          "updated_at": "2023-03-23T14:21:18Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker sorry for the delay but the tests are green now! please review it.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1481122336/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1501732761",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1501732761",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1501732761,
          "node_id": "IC_kwDOCUB6oc5Zgp-Z",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-04-10T11:56:19Z",
          "updated_at": "2023-04-10T12:00:46Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker , sorry for the huge delay, I have made most of the changes that you asked. Also there are some changes that I didn't do these are below - \r\n1. I managed to remove dependency on soundfile and torchaudio but not librosa, since raw_audio is used 2 times first time in `extract_rhythm` which takes audio with original sampling_rate and the second time in `single_preprocess` which first upscales/downscales raw_audio to sampling_rate of 22050 and then uses it. And preloading raw_audio with sampling_rate of 22050(not with native sampling_rate) was giving very bad results! I tried to use scipy.resample but since it uses fft it is relatively slow and less accurate.\r\n2. As you suggested to pad the feature_extractor outputs with silence, I tried to do that but I found that different audio files with same length have input_features of different shapes! For example one was having shape of [7, 38, 512] and another one of [6, 42, 512], both were 10s audios. I could pad them and use them in a batch but then I need to keep track of their shapes which would introduce another variable, what do you suggest? Should I leave them or try to pad and keep track of shapes?   \r\n\r\nThe [licensing page](https://essentia.upf.edu/licensing_information.html) of `essentia` says - \"Essentia is available under an open license, [Affero GPLv3](http://www.gnu.org/licenses/agpl.html), for non-commercial applications, thus it is possible to test the library before deciding to licence it under a comercial licence.\" I don't know much about licensing so I will leave it upto you to decide what to change in the headings.  \r\n\r\n\r\nAlso please forgive me if I missed something, I will change them in the future commit.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1501732761/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1503838338",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1503838338",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1503838338,
          "node_id": "IC_kwDOCUB6oc5ZosCC",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-04-11T17:48:07Z",
          "updated_at": "2023-04-11T17:48:07Z",
          "author_association": "COLLABORATOR",
          "body": "Hey! Will try to have a look asap",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1503838338/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1520270338",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1520270338",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1520270338,
          "node_id": "IC_kwDOCUB6oc5anXwC",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-04-24T14:26:35Z",
          "updated_at": "2023-04-24T14:26:35Z",
          "author_association": "COLLABORATOR",
          "body": "Pinging @sanchit-gandhi for a review too! ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1520270338/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1528009958",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1528009958",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1528009958,
          "node_id": "IC_kwDOCUB6oc5bE5Tm",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-04-28T19:42:07Z",
          "updated_at": "2023-04-28T19:42:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker In have made the changes you requested except the resample one (I have mentioned the reason [here](https://github.com/huggingface/transformers/pull/21785#discussion_r1180702087)), let me know if more changes are needed or not.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1528009958/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1537057422",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1537057422",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1537057422,
          "node_id": "IC_kwDOCUB6oc5bnaKO",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-05-06T05:36:50Z",
          "updated_at": "2023-05-06T05:36:50Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @sanchit-gandhi thanks for your comments! and sorry for the late reply, the batching is not working for these reasons  - \r\n\r\n1. **feature_extractor** -  The output of the feature extractor varies from music to music! For example - music1.mp3(10 seconds long) can have a feature extractor output of shape - [7, 38, 512] and music2.mp3(also 10 seconds long) can have a feature extractor output of shape - [6, 42, 512] . So if a user tries to process multiple music files in batch it will be very hard to batch them! \r\n- `truncation` - Truncating both of them to say [5, 25, 512] gives pretty bad results! \r\n - `padding` - One way we can overcome this is, we can take the maximum dimensions on each axis and pad them, but then we must unpad them or get their original shapes back, otherwise the the tokenizer won't work! So we can make a variable just to  record the shapes of the tensors before padding. We can do this approach if you want.\r\n \r\nI tried other approaches such as `torch.nested.nested_tensor` but there the user wont be able to use `.to(\"cuda\") or .to(\"cpu\")` on feature_extractor outputs because they are not supported!\r\n\r\n2. **model** - The model.generate can take inputs of (dim1, dim2, dim3) but as we have (dim1, dim2, dim3) shapes for each input we may need to use a for loop  if we are to support batching!   \r\n\r\nAlso should I make a new PR regarding the assert for T5?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1537057422/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1539023009",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1539023009",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1539023009,
          "node_id": "IC_kwDOCUB6oc5bu6Ch",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-05-08T20:41:43Z",
          "updated_at": "2023-05-14T16:22:17Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @sanchit-gandhi, I pushed the modifications, tests which are failing are mostly due to internal errors(Connection to HF hub, TF installation etc).\r\nPlease ignore the all checkpoints as those are temporary. I will change all of them just before the merge.\r\nAlso please tell me if any more modifications are needed or not and also if I have missed any or not.\r\n\r\nAnd in meantime I will make a PR regarding the change of T5 assert to except, I think maybe we should wait until that gets merged and then we will change the blocks to except here too? \r\n\r\n**EDIT** : pushed the change with the T5 modification.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1539023009/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1546937094",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1546937094",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1546937094,
          "node_id": "IC_kwDOCUB6oc5cNGMG",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-05-14T16:20:04Z",
          "updated_at": "2023-05-14T16:20:15Z",
          "author_association": "CONTRIBUTOR",
          "body": "pushed the change with the `T5` modification.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1546937094/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1550085428",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1550085428",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1550085428,
          "node_id": "IC_kwDOCUB6oc5cZG00",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-05-16T17:30:04Z",
          "updated_at": "2023-05-16T17:30:04Z",
          "author_association": "CONTRIBUTOR",
          "body": "Also requesting review from @hollance!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1550085428/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1556176916",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1556176916",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1556176916,
          "node_id": "IC_kwDOCUB6oc5cwWAU",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-05-21T13:11:07Z",
          "updated_at": "2023-05-21T13:11:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @hollance, I have made those changes you requested. And Hi @sanchit-gandhi, please review the batching part(except the checkpoint part as we discussed in slack if want to move them to a separate org or not), let me know if more code changes are required or not.\r\nbtw I was automatically removed from slack channel as it says `susnatodhar10@gmail.com\u2019s Workspace\u2019s free trial of Slack Pro has ended. Any channels with people outside your company \u2014 such as #pop2piano-integration \u2014 have been disconnected.`  \r\nIf anymore work is needed such as transferring the files to organization checkpoint, updating the HF Space for Pop2Piano ... please let me know I would be happy to do that!  ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1556176916/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1556872943",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1556872943",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1556872943,
          "node_id": "IC_kwDOCUB6oc5cy_7v",
          "user": {
            "login": "hollance",
            "id": 346853,
            "node_id": "MDQ6VXNlcjM0Njg1Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/346853?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hollance",
            "html_url": "https://github.com/hollance",
            "followers_url": "https://api.github.com/users/hollance/followers",
            "following_url": "https://api.github.com/users/hollance/following{/other_user}",
            "gists_url": "https://api.github.com/users/hollance/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hollance/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hollance/subscriptions",
            "organizations_url": "https://api.github.com/users/hollance/orgs",
            "repos_url": "https://api.github.com/users/hollance/repos",
            "events_url": "https://api.github.com/users/hollance/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hollance/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-05-22T09:27:23Z",
          "updated_at": "2023-05-22T09:27:23Z",
          "author_association": "CONTRIBUTOR",
          "body": "@susnato \r\n\r\n> btw I was automatically removed from slack channel as it says `susnatodhar10@gmail.com\u2019s Workspace\u2019s free trial of Slack Pro has ended. Any channels with people outside your company \u2014 such as #pop2piano-integration \u2014 have been disconnected.`\r\n\r\nI added you back as a guest to the pop2piano-integration channel. You should be able to use this using regular Slack (not Pro). Let me know if that doesn't work.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1556872943/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1578169921",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1578169921",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1578169921,
          "node_id": "IC_kwDOCUB6oc5eEPZB",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-06T08:25:52Z",
          "updated_at": "2023-06-06T08:26:04Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @sanchit-gandhi, I have pushed the new changes.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1578169921/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1579195776",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1579195776",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1579195776,
          "node_id": "IC_kwDOCUB6oc5eIJ2A",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-06T17:40:17Z",
          "updated_at": "2023-06-06T17:40:17Z",
          "author_association": "CONTRIBUTOR",
          "body": "Alright nice! And you've verified that the outputs are the same with/without padding? Requesting review from @ArthurZucker and @hollance to kick-off the last round of reviews :)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1579195776/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1579203678",
          "html_url": "https://github.com/huggingface/transformers/pull/21785#issuecomment-1579203678",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21785",
          "id": 1579203678,
          "node_id": "IC_kwDOCUB6oc5eILxe",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-06T17:46:29Z",
          "updated_at": "2023-06-06T17:46:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "yes I did check for 3 types - 1. single audio + no_attention_mask, 2.single audio + attention_mask, 3. 2 audios + attention_mask and the outputs were same. Since you just said, I will still add a test for that in the next commit(after last round of reviews). ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1579203678/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/22289/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/22289/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/22289/events",
      "html_url": "https://github.com/huggingface/transformers/pull/22289",
      "id": 1633591008,
      "node_id": "PR_kwDOCUB6oc5Mh2Ny",
      "number": 22289,
      "title": "Add Beit3 model",
      "user": {
        "login": "raghavanone",
        "id": 115454562,
        "node_id": "U_kgDOBuGyYg",
        "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/raghavanone",
        "html_url": "https://github.com/raghavanone",
        "followers_url": "https://api.github.com/users/raghavanone/followers",
        "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
        "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
        "organizations_url": "https://api.github.com/users/raghavanone/orgs",
        "repos_url": "https://api.github.com/users/raghavanone/repos",
        "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
        "received_events_url": "https://api.github.com/users/raghavanone/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 42,
      "created_at": "2023-03-21T10:13:30Z",
      "updated_at": "2024-12-04T04:11:56Z",
      "closed_at": "2024-03-20T08:09:14Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/22289",
        "html_url": "https://github.com/huggingface/transformers/pull/22289",
        "diff_url": "https://github.com/huggingface/transformers/pull/22289.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/22289.patch",
        "merged_at": null
      },
      "body": "Fixes #22178 ",
      "closed_by": {
        "login": "github-actions[bot]",
        "id": 41898282,
        "node_id": "MDM6Qm90NDE4OTgyODI=",
        "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/github-actions%5Bbot%5D",
        "html_url": "https://github.com/apps/github-actions",
        "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
        "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
        "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
        "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
        "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
        "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
        "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
        "type": "Bot",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/22289/reactions",
        "total_count": 6,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 6,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/22289/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1477595361",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1477595361",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1477595361,
          "node_id": "IC_kwDOCUB6oc5YElDh",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-21T10:28:36Z",
          "updated_at": "2023-03-21T10:28:36Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_22289). All of your documentation changes will be reflected on that endpoint.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1477595361/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1480130451",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1480130451",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1480130451,
          "node_id": "IC_kwDOCUB6oc5YOP-T",
          "user": {
            "login": "MetaB0y",
            "id": 95353780,
            "node_id": "U_kgDOBa77tA",
            "avatar_url": "https://avatars.githubusercontent.com/u/95353780?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MetaB0y",
            "html_url": "https://github.com/MetaB0y",
            "followers_url": "https://api.github.com/users/MetaB0y/followers",
            "following_url": "https://api.github.com/users/MetaB0y/following{/other_user}",
            "gists_url": "https://api.github.com/users/MetaB0y/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MetaB0y/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MetaB0y/subscriptions",
            "organizations_url": "https://api.github.com/users/MetaB0y/orgs",
            "repos_url": "https://api.github.com/users/MetaB0y/repos",
            "events_url": "https://api.github.com/users/MetaB0y/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MetaB0y/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-22T19:20:46Z",
          "updated_at": "2023-03-22T19:20:46Z",
          "author_association": "NONE",
          "body": "I don't know much about the details of the transformers library but isn't it confusing that it refers to the model as microsoft/beit-base-patch16-224-pt22k etc which is the name for beit v1, not beit v3?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1480130451/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1483743599",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1483743599",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1483743599,
          "node_id": "IC_kwDOCUB6oc5YcCFv",
          "user": {
            "login": "raghavanone",
            "id": 115454562,
            "node_id": "U_kgDOBuGyYg",
            "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavanone",
            "html_url": "https://github.com/raghavanone",
            "followers_url": "https://api.github.com/users/raghavanone/followers",
            "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavanone/orgs",
            "repos_url": "https://api.github.com/users/raghavanone/repos",
            "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavanone/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-25T06:45:39Z",
          "updated_at": "2023-03-25T06:45:39Z",
          "author_association": "CONTRIBUTOR",
          "body": "> \r\n\r\nHi @MetaB0y , All I have done is to pull in different modules needed for beit3 into single file. I will start working on cleaning it up. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1483743599/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1497162166",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1497162166",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1497162166,
          "node_id": "IC_kwDOCUB6oc5ZPOG2",
          "user": {
            "login": "atharvakavitkar",
            "id": 42333156,
            "node_id": "MDQ6VXNlcjQyMzMzMTU2",
            "avatar_url": "https://avatars.githubusercontent.com/u/42333156?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/atharvakavitkar",
            "html_url": "https://github.com/atharvakavitkar",
            "followers_url": "https://api.github.com/users/atharvakavitkar/followers",
            "following_url": "https://api.github.com/users/atharvakavitkar/following{/other_user}",
            "gists_url": "https://api.github.com/users/atharvakavitkar/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/atharvakavitkar/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/atharvakavitkar/subscriptions",
            "organizations_url": "https://api.github.com/users/atharvakavitkar/orgs",
            "repos_url": "https://api.github.com/users/atharvakavitkar/repos",
            "events_url": "https://api.github.com/users/atharvakavitkar/events{/privacy}",
            "received_events_url": "https://api.github.com/users/atharvakavitkar/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-04-05T09:06:46Z",
          "updated_at": "2023-04-05T09:06:46Z",
          "author_association": "NONE",
          "body": "Hi @raghavanone, just wanted to know updates on this PR. If required, I would like to help.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1497162166/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1497677270",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1497677270",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1497677270,
          "node_id": "IC_kwDOCUB6oc5ZRL3W",
          "user": {
            "login": "raghavanone",
            "id": 115454562,
            "node_id": "U_kgDOBuGyYg",
            "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavanone",
            "html_url": "https://github.com/raghavanone",
            "followers_url": "https://api.github.com/users/raghavanone/followers",
            "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavanone/orgs",
            "repos_url": "https://api.github.com/users/raghavanone/repos",
            "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavanone/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-04-05T15:23:49Z",
          "updated_at": "2023-04-05T15:23:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Hi @raghavanone, just wanted to know updates on this PR. If required, I would like to help.\r\n\r\n@atharvakavitkar You can for sure contribute, I am out till mid of april, will pick this up if not done by anyone else by that time . Start a new PR, if you wanted to work on this .",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1497677270/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1517675085",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1517675085",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1517675085,
          "node_id": "IC_kwDOCUB6oc5adeJN",
          "user": {
            "login": "JonathanRayner",
            "id": 30149293,
            "node_id": "MDQ6VXNlcjMwMTQ5Mjkz",
            "avatar_url": "https://avatars.githubusercontent.com/u/30149293?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JonathanRayner",
            "html_url": "https://github.com/JonathanRayner",
            "followers_url": "https://api.github.com/users/JonathanRayner/followers",
            "following_url": "https://api.github.com/users/JonathanRayner/following{/other_user}",
            "gists_url": "https://api.github.com/users/JonathanRayner/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/JonathanRayner/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JonathanRayner/subscriptions",
            "organizations_url": "https://api.github.com/users/JonathanRayner/orgs",
            "repos_url": "https://api.github.com/users/JonathanRayner/repos",
            "events_url": "https://api.github.com/users/JonathanRayner/events{/privacy}",
            "received_events_url": "https://api.github.com/users/JonathanRayner/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-04-21T11:19:27Z",
          "updated_at": "2023-04-21T11:19:27Z",
          "author_association": "NONE",
          "body": "Hey @raghavanone , I was thinking about working on this this weekend and see that you have a WIP already and are probably back now. Would it help if I contributed on this PR or better to leave it to you?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1517675085/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1517920282",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1517920282",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1517920282,
          "node_id": "IC_kwDOCUB6oc5aeaAa",
          "user": {
            "login": "raghavanone",
            "id": 115454562,
            "node_id": "U_kgDOBuGyYg",
            "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavanone",
            "html_url": "https://github.com/raghavanone",
            "followers_url": "https://api.github.com/users/raghavanone/followers",
            "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavanone/orgs",
            "repos_url": "https://api.github.com/users/raghavanone/repos",
            "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavanone/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-04-21T14:28:11Z",
          "updated_at": "2023-04-21T14:28:11Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Hey @raghavanone , I was thinking about working on this this weekend and see that you have a WIP already and are probably back now. Would it help if I contributed on this PR or better to leave it to you?\r\n\r\nHey @JonathanRayner , Thanks for asking, I have some changes locally, making changes to MOE layers are bit tricky. We can collaborate in this PR, But we have to find a way to communicate (use HF slack maybe) .",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1517920282/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1520254383",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1520254383",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1520254383,
          "node_id": "IC_kwDOCUB6oc5anT2v",
          "user": {
            "login": "sgugger",
            "id": 35901082,
            "node_id": "MDQ6VXNlcjM1OTAxMDgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/35901082?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sgugger",
            "html_url": "https://github.com/sgugger",
            "followers_url": "https://api.github.com/users/sgugger/followers",
            "following_url": "https://api.github.com/users/sgugger/following{/other_user}",
            "gists_url": "https://api.github.com/users/sgugger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sgugger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sgugger/subscriptions",
            "organizations_url": "https://api.github.com/users/sgugger/orgs",
            "repos_url": "https://api.github.com/users/sgugger/repos",
            "events_url": "https://api.github.com/users/sgugger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sgugger/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-04-24T14:19:36Z",
          "updated_at": "2023-04-24T14:19:36Z",
          "author_association": "COLLABORATOR",
          "body": "cc @alaradirik so you can help when needed.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1520254383/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1529072485",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1529072485",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1529072485,
          "node_id": "IC_kwDOCUB6oc5bI8tl",
          "user": {
            "login": "alaradirik",
            "id": 8944735,
            "node_id": "MDQ6VXNlcjg5NDQ3MzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8944735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alaradirik",
            "html_url": "https://github.com/alaradirik",
            "followers_url": "https://api.github.com/users/alaradirik/followers",
            "following_url": "https://api.github.com/users/alaradirik/following{/other_user}",
            "gists_url": "https://api.github.com/users/alaradirik/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/alaradirik/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/alaradirik/subscriptions",
            "organizations_url": "https://api.github.com/users/alaradirik/orgs",
            "repos_url": "https://api.github.com/users/alaradirik/repos",
            "events_url": "https://api.github.com/users/alaradirik/events{/privacy}",
            "received_events_url": "https://api.github.com/users/alaradirik/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-04-30T16:38:20Z",
          "updated_at": "2023-04-30T16:39:51Z",
          "author_association": "CONTRIBUTOR",
          "body": "> > Hey @raghavanone , I was thinking about working on this this weekend and see that you have a WIP already and are probably back now. Would it help if I contributed on this PR or better to leave it to you?\r\n> \r\n> Hey @JonathanRayner , Thanks for asking, I have some changes locally, making changes to MOE layers are bit tricky. We can collaborate in this PR, But we have to find a way to communicate (use HF slack maybe) .\r\n\r\nHi @raghavanone, thanks for working on this! The easiest way to collaborate would be to add @JonathanRayner as a collaborator to your forked transformers repo. I'd also be happy to create a Slack channel and invite you both to make it easier to communicate.\r\n\r\nI took a quick look at the PR and it'd be great if you could follow naming conventions in line with Beit such that the class and folder names are Beit3 and beit3 respectively. Other than this, BEiT-3 is a multi-modal model so you'll need to create `image_processing_beit3.py`, `tokenizer_beit3.py` and `processing_beit3.py` scripts, where the latter wraps the text and image preprocessor classes into a single class. BEiT-3 uses the transformers `XLMRobertaTokenizer` class to preprocess text so you can use that instead of creating `tokenizer_beit3.py`. You can refer to [OWL-ViT](https://github.com/huggingface/transformers/tree/v4.28.1/src/transformers/models/owlvit) to see an example of a multi-modal model that uses an existing tokenizer class (`CLIPTokenizer`).\r\n\r\nIn order to check if the PR passes the CI tests, you can run the following commands:\r\n```\r\nmake style\r\nmake quality\r\nmake repo-consistency\r\n\r\npytest tests/models/beit3/test_image_processor_beit3.py\r\npytest tests/models/beit3/test_processor_beit3.py\r\nRUN_SLOW=True pytest tests/models/beit3/test_modeling_beit3.py\r\n```\r\n\r\nHope this helps, I can add invite you to Slack if you send me your email addresses :)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1529072485/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1529719409",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1529719409",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1529719409,
          "node_id": "IC_kwDOCUB6oc5bLapx",
          "user": {
            "login": "raghavanone",
            "id": 115454562,
            "node_id": "U_kgDOBuGyYg",
            "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavanone",
            "html_url": "https://github.com/raghavanone",
            "followers_url": "https://api.github.com/users/raghavanone/followers",
            "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavanone/orgs",
            "repos_url": "https://api.github.com/users/raghavanone/repos",
            "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavanone/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-05-01T13:39:25Z",
          "updated_at": "2023-05-02T08:40:02Z",
          "author_association": "CONTRIBUTOR",
          "body": "> > > Hey @raghavanone , I was thinking about working on this this weekend and see that you have a WIP already and are probably back now. Would it help if I contributed on this PR or better to leave it to you?\r\n> > \r\n> > \r\n> > Hey @JonathanRayner , Thanks for asking, I have some changes locally, making changes to MOE layers are bit tricky. We can collaborate in this PR, But we have to find a way to communicate (use HF slack maybe) .\r\n> \r\n> Hi @raghavanone, thanks for working on this! The easiest way to collaborate would be to add @JonathanRayner as a collaborator to your forked transformers repo. I'd also be happy to create a Slack channel and invite you both to make it easier to communicate.\r\n> \r\n> I took a quick look at the PR and it'd be great if you could follow naming conventions in line with Beit such that the class and folder names are Beit3 and beit3 respectively. Other than this, BEiT-3 is a multi-modal model so you'll need to create `image_processing_beit3.py`, `tokenizer_beit3.py` and `processing_beit3.py` scripts, where the latter wraps the text and image preprocessor classes into a single class. BEiT-3 uses the transformers `XLMRobertaTokenizer` class to preprocess text so you can use that instead of creating `tokenizer_beit3.py`. You can refer to [OWL-ViT](https://github.com/huggingface/transformers/tree/v4.28.1/src/transformers/models/owlvit) to see an example of a multi-modal model that uses an existing tokenizer class (`CLIPTokenizer`).\r\n> \r\n> In order to check if the PR passes the CI tests, you can run the following commands:\r\n> \r\n> ```\r\n> make style\r\n> make quality\r\n> make repo-consistency\r\n> \r\n> pytest tests/models/beit3/test_image_processor_beit3.py\r\n> pytest tests/models/beit3/test_processor_beit3.py\r\n> RUN_SLOW=True pytest tests/models/beit3/test_modeling_beit3.py\r\n> ```\r\n> \r\n> Hope this helps, I can add invite you to Slack if you send me your email addresses :)\r\n\r\nThanks @alaradirik , The PR is almost ready. I am already in HF slack under email oneraghavan@gmail.com / username Raghavan . I have some questions, please ping me in slack. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1529719409/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1531507535",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1531507535",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1531507535,
          "node_id": "IC_kwDOCUB6oc5bSPNP",
          "user": {
            "login": "raghavanone",
            "id": 115454562,
            "node_id": "U_kgDOBuGyYg",
            "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavanone",
            "html_url": "https://github.com/raghavanone",
            "followers_url": "https://api.github.com/users/raghavanone/followers",
            "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavanone/orgs",
            "repos_url": "https://api.github.com/users/raghavanone/repos",
            "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavanone/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-05-02T13:45:35Z",
          "updated_at": "2023-05-02T13:45:35Z",
          "author_association": "CONTRIBUTOR",
          "body": "@alaradirik  I am unable to understand the purpose of a processor, the Beit3 model takes in token ids and image as tensor. Please help me understand this more. \r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1531507535/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1534435890",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1534435890",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1534435890,
          "node_id": "IC_kwDOCUB6oc5bdaIy",
          "user": {
            "login": "alaradirik",
            "id": 8944735,
            "node_id": "MDQ6VXNlcjg5NDQ3MzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8944735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alaradirik",
            "html_url": "https://github.com/alaradirik",
            "followers_url": "https://api.github.com/users/alaradirik/followers",
            "following_url": "https://api.github.com/users/alaradirik/following{/other_user}",
            "gists_url": "https://api.github.com/users/alaradirik/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/alaradirik/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/alaradirik/subscriptions",
            "organizations_url": "https://api.github.com/users/alaradirik/orgs",
            "repos_url": "https://api.github.com/users/alaradirik/repos",
            "events_url": "https://api.github.com/users/alaradirik/events{/privacy}",
            "received_events_url": "https://api.github.com/users/alaradirik/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-05-04T09:48:37Z",
          "updated_at": "2023-05-04T09:48:37Z",
          "author_association": "CONTRIBUTOR",
          "body": "> @alaradirik I am unable to understand the purpose of a processor, the Beit3 model takes in token ids and image as tensor. Please help me understand this more.\r\n\r\nHi @raghavanone, the models expect the input images to be preprocessed. Hence, the image_processing_beit3.py script should contain the `Beit3ImageProcessor` class that takes in the raw input image and preprocesses it to the format expected as input to the model (resizing to a fixed input size, normalization, cropping, etc.). \r\n\r\nprocessing_beit3.py script should contain the `Beit3Processor` class that wraps this image processor class and tokenizer class into a single instance such that users can use it preprocess text or images or both. Please take a look at other multi-modal model processors such as OWL-ViT and CLIP to see how that works.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1534435890/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1535992938",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1535992938",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1535992938,
          "node_id": "IC_kwDOCUB6oc5bjWRq",
          "user": {
            "login": "raghavanone",
            "id": 115454562,
            "node_id": "U_kgDOBuGyYg",
            "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavanone",
            "html_url": "https://github.com/raghavanone",
            "followers_url": "https://api.github.com/users/raghavanone/followers",
            "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavanone/orgs",
            "repos_url": "https://api.github.com/users/raghavanone/repos",
            "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavanone/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-05-05T09:36:37Z",
          "updated_at": "2023-05-05T09:36:37Z",
          "author_association": "CONTRIBUTOR",
          "body": "> > @alaradirik I am unable to understand the purpose of a processor, the Beit3 model takes in token ids and image as tensor. Please help me understand this more.\r\n> \r\n> Hi @raghavanone, the models expect the input images to be preprocessed. Hence, the image_processing_beit3.py script should contain the `Beit3ImageProcessor` class that takes in the raw input image and preprocesses it to the format expected as input to the model (resizing to a fixed input size, normalization, cropping, etc.).\r\n> \r\n> processing_beit3.py script should contain the `Beit3Processor` class that wraps this image processor class and tokenizer class into a single instance such that users can use it preprocess text or images or both. Please take a look at other multi-modal model processors such as OWL-ViT and CLIP to see how that works.\r\n\r\n@alaradirik  Thanks, I have added both the class and added tests for them . Requesting you to review the PR.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1535992938/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1552837577",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1552837577",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1552837577,
          "node_id": "IC_kwDOCUB6oc5cjmvJ",
          "user": {
            "login": "raghavanone",
            "id": 115454562,
            "node_id": "U_kgDOBuGyYg",
            "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavanone",
            "html_url": "https://github.com/raghavanone",
            "followers_url": "https://api.github.com/users/raghavanone/followers",
            "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavanone/orgs",
            "repos_url": "https://api.github.com/users/raghavanone/repos",
            "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavanone/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-05-18T10:12:41Z",
          "updated_at": "2023-05-18T10:12:41Z",
          "author_association": "CONTRIBUTOR",
          "body": "> \r\n\r\n@alaradirik  All the PR feedbacks has been resolved. There are few open and I have put my questions in the comment. On the conversion script I have following questions :\r\n\r\n- There are 22 variations of model checkpoints released, should I test out for each of them ?\r\n- How to upload the checkpoints to hf ? ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1552837577/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1568507541",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1568507541",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1568507541,
          "node_id": "IC_kwDOCUB6oc5dfYaV",
          "user": {
            "login": "raghavanone",
            "id": 115454562,
            "node_id": "U_kgDOBuGyYg",
            "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavanone",
            "html_url": "https://github.com/raghavanone",
            "followers_url": "https://api.github.com/users/raghavanone/followers",
            "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavanone/orgs",
            "repos_url": "https://api.github.com/users/raghavanone/repos",
            "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavanone/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-05-30T14:11:00Z",
          "updated_at": "2023-05-30T14:11:00Z",
          "author_association": "CONTRIBUTOR",
          "body": "@NielsRogge Following are the open questions to be resolved :\r\n\r\nQ1. How should be the config uploaded ? \r\nQ2. How should be the checkpoints uploaded ? \r\nQ3. Comment from Alara : \"Passing a module to the class is not very optimal. I see that you are initializing and passing various modules in Beit3EncoderLayer and MultiheadAttention to MultiwayNetwork and creating deep copies.\r\n\r\nI think it'd make more sense to create separate classes (e.g. Beit3Dense, Beit3FeedForwardNetwork) as variable names such as first and second are confusing and make the code more difficult to be adapted for works that build upon this.\r\n\r\nI'm cc'ing @sgugger for his opinion.\"\r\n\r\nFor reference look at here https://github.com/huggingface/transformers/blob/1cda50bd12d7d454f56fbdd9f8fe32aee1eae5b3/src/transformers/models/beit3/modeling_beit3.py#L382",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1568507541/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1568518848",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1568518848",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1568518848,
          "node_id": "IC_kwDOCUB6oc5dfbLA",
          "user": {
            "login": "sgugger",
            "id": 35901082,
            "node_id": "MDQ6VXNlcjM1OTAxMDgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/35901082?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sgugger",
            "html_url": "https://github.com/sgugger",
            "followers_url": "https://api.github.com/users/sgugger/followers",
            "following_url": "https://api.github.com/users/sgugger/following{/other_user}",
            "gists_url": "https://api.github.com/users/sgugger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sgugger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sgugger/subscriptions",
            "organizations_url": "https://api.github.com/users/sgugger/orgs",
            "repos_url": "https://api.github.com/users/sgugger/repos",
            "events_url": "https://api.github.com/users/sgugger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sgugger/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-05-30T14:17:42Z",
          "updated_at": "2023-05-30T14:17:42Z",
          "author_association": "COLLABORATOR",
          "body": "cc @amyeroberts ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1568518848/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1568773837",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1568773837",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1568773837,
          "node_id": "IC_kwDOCUB6oc5dgZbN",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-05-30T17:01:20Z",
          "updated_at": "2023-05-30T17:01:20Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @raghavanone, \r\n\r\nI'll try to answer your questions as best as possible. For future Q's it's best to ping me rather than @NielsRogge or @sgugger.\r\n\r\n1. When you say 'uploaded' - are you referring to uploading onto the hub e.g. [like this for bert](https://huggingface.co/bert-base-uncased/blob/main/config.json)? If so, this should be uploaded alongside the model weights. When calling `model.push_to_hub(repo_path)`, both the model's checkpoint and configuration will be uploaded. You can look at some of the conversion scripts to see the weight loading / converting / uploading logic e.g. [here](https://github.com/huggingface/transformers/blob/main/src/transformers/models/swin/convert_swin_simmim_to_pytorch.py). Whilst the PR is still underdevelopment, I suggest having the models under a personal repo. Then, once ready to merge, we can transfer the weights and configs to under the official orgs'.\r\n2. See above.\r\n3. What's the question? Are you asking what @alaradirik's comment means, or asking whether this is something that should be done? \r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1568773837/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1572161864",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1572161864",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1572161864,
          "node_id": "IC_kwDOCUB6oc5dtUlI",
          "user": {
            "login": "raghavanone",
            "id": 115454562,
            "node_id": "U_kgDOBuGyYg",
            "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavanone",
            "html_url": "https://github.com/raghavanone",
            "followers_url": "https://api.github.com/users/raghavanone/followers",
            "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavanone/orgs",
            "repos_url": "https://api.github.com/users/raghavanone/repos",
            "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavanone/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-01T14:27:23Z",
          "updated_at": "2023-06-01T14:27:23Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Hi @raghavanone,\r\n> \r\n> I'll try to answer your questions as best as possible. For future Q's it's best to ping me rather than @NielsRogge or @sgugger.\r\n> \r\n> 1. When you say 'uploaded' - are you referring to uploading onto the hub e.g. [like this for bert](https://huggingface.co/bert-base-uncased/blob/main/config.json)? If so, this should be uploaded alongside the model weights. When calling `model.push_to_hub(repo_path)`, both the model's checkpoint and configuration will be uploaded. You can look at some of the conversion scripts to see the weight loading / converting / uploading logic e.g. [here](https://github.com/huggingface/transformers/blob/main/src/transformers/models/swin/convert_swin_simmim_to_pytorch.py). Whilst the PR is still underdevelopment, I suggest having the models under a personal repo. Then, once ready to merge, we can transfer the weights and configs to under the official orgs'.\r\n> 2. See above.\r\n> 3. What's the question? Are you asking what @alaradirik's comment means, or asking whether this is something that should be done?\r\n\r\nThanks for the answers, for Q3 , I am not sure how to incorporate the feedback, I need some support on what needs to be done .",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1572161864/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1572622751",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1572622751",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1572622751,
          "node_id": "IC_kwDOCUB6oc5dvFGf",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-01T19:02:33Z",
          "updated_at": "2023-06-01T19:02:33Z",
          "author_association": "COLLABORATOR",
          "body": "@raghavanone  For 3. what I believe Alara was saying (and I agree with) is that the layer `Beit3MultiwayNetwork` is trying to do too much, resulting in patterns which don't match with the rest of the library and is less interpretable. We should instead implement individual blocks which avoids hacky tricks like copying then reseting layer parameters. \r\n\r\nTo be explicit, an example would be for `self.self_attn_layer_norm = Beit3MultiwayNetwork(LayerNorm(self.embed_dim, eps=config.layernorm_eps))` on L491. Instead of using `Beit3MultiwayNetwork` we could instead define a model specific layernorm layer:\r\n\r\n```python\r\nclass Beit3LayerNorm(nn.Module):\r\n    def __init__(self, config):\r\n        super().__init__()\r\n        self.layernorm_1 = nn.LayerNorm(config.embed_dim, eps=self.config.layernorm_eps)\r\n        self.layernorm_2 = nn.LayerNorm(config.embed_dim, eps=self.config.layernorm_eps)\r\n\r\n    def forward(self, hidden_states, split_position=-1):\r\n        if split_position == -1:\r\n            return self.layernorm_1(hidden_states)\r\n        \r\n        if split_position == 0:\r\n            return self.layernorm_2(hidden_states)\r\n        \r\n        text_hidden, image_hidden = torch.split(\r\n            hidden_states, [split_position, hidden_states.size(1) - split_position], dim=1,\r\n        )\r\n        text_hidden = self.layernorm_1(text_hidden)\r\n        image_hidden = self.layernorm_2(image_hidden)\r\n        hidden_states = torch.cat([text_hidden, image_hidden], dim=1)\r\n        return hidden_states\r\n```\r\n\r\nAnd then L491 would become:\r\n\r\n```python\r\nself.self_attn_layer_norm = Beit3LayerNorm(config)\r\n```\r\n\r\nIt's OK for us to have some of the `if split_position` logic repeated if it means a clearer architecture and having layers take the config to instantiate themselves. \r\n\r\nA note regarding the general design of the layer above: \r\n* The `set_split_position` is very hacky and requires iterating over all of the layer of the model each time we do a forward pass with `multiway_split_position` set. Instead, lets pass this to the layers in the forward pass\r\n* The layers shouldn't accept arbitary *args or **kwargs in their methods\r\n* AFAICT `dim` was never changed or set, so we can remove this attribute. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1572622751/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1607673925",
          "html_url": "https://github.com/huggingface/transformers/pull/22289#issuecomment-1607673925",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/22289",
          "id": 1607673925,
          "node_id": "IC_kwDOCUB6oc5f0yhF",
          "user": {
            "login": "github-actions[bot]",
            "id": 41898282,
            "node_id": "MDM6Qm90NDE4OTgyODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions%5Bbot%5D",
            "html_url": "https://github.com/apps/github-actions",
            "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
            "type": "Bot",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-26T15:03:11Z",
          "updated_at": "2023-06-26T15:03:11Z",
          "author_association": "CONTRIBUTOR",
          "body": "This issue has been automatically marked as stale because it has not had recent activity. If you think this still needs to be addressed please comment on this thread.\n\nPlease note that issues that do not follow the [contributing guidelines](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md) are likely to be ignored.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1607673925/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/15682",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/15682/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/15682/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/15682/events",
      "html_url": "https://github.com/huggingface/transformers/pull/15682",
      "id": 1139979598,
      "node_id": "PR_kwDOCUB6oc4y7J67",
      "number": 15682,
      "title": "Maskformer",
      "user": {
        "login": "FrancescoSaverioZuppichini",
        "id": 15908060,
        "node_id": "MDQ6VXNlcjE1OTA4MDYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/15908060?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/FrancescoSaverioZuppichini",
        "html_url": "https://github.com/FrancescoSaverioZuppichini",
        "followers_url": "https://api.github.com/users/FrancescoSaverioZuppichini/followers",
        "following_url": "https://api.github.com/users/FrancescoSaverioZuppichini/following{/other_user}",
        "gists_url": "https://api.github.com/users/FrancescoSaverioZuppichini/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/FrancescoSaverioZuppichini/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/FrancescoSaverioZuppichini/subscriptions",
        "organizations_url": "https://api.github.com/users/FrancescoSaverioZuppichini/orgs",
        "repos_url": "https://api.github.com/users/FrancescoSaverioZuppichini/repos",
        "events_url": "https://api.github.com/users/FrancescoSaverioZuppichini/events{/privacy}",
        "received_events_url": "https://api.github.com/users/FrancescoSaverioZuppichini/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 2,
      "created_at": "2022-02-16T12:51:21Z",
      "updated_at": "2022-03-02T14:49:25Z",
      "closed_at": "2022-03-02T14:48:20Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/15682",
        "html_url": "https://github.com/huggingface/transformers/pull/15682",
        "diff_url": "https://github.com/huggingface/transformers/pull/15682.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/15682.patch",
        "merged_at": "2022-03-02T14:48:20Z"
      },
      "body": "# What does this PR do?\r\nThis WIP PR adds [MaskFormer](https://arxiv.org/abs/2107.06278) a new model for any segmentation task. This model ranks [on the top 10 of almost every task](https://paperswithcode.com/paper/per-pixel-classification-is-not-all-you-need)\r\n\r\n\r\nA total of 8 pre-trained checkpoints will be available, which are the checkpoints discussed in the official MaskFormer paper. They are not yet available on the hub but tested locally. The weights are all pairs of combinations between the 4 Swin Transformer variants (tiny, small, base and large) and two datasets ([ade20k-150](https://groups.csail.mit.edu/vision/datasets/ADE20K/) and [coco-panoptic](https://cocodataset.org/#home))\r\n\r\nTODOs\r\n  - [x] converting script should be self-contained\r\n    - currently, the job of downloading the weights and configuration files is outsourced to the end-user\r\n  - [x] feature extractor\r\n    - all the parameters needed are there, but the class is missing\r\n    - the resizing needed is tricky, originally [ResizeShortestEdge](https://detectron2.readthedocs.io/en/latest/modules/data_transforms.html#detectron2.data.transforms.ResizeShortestEdge) from detectron is used \r\n    - all the post processing should be inside it\r\n  - [x] backbone\r\n    - recently we added [Swin Transformer](https://github.com/huggingface/transformers/pull/15085), the backbone should depend on that implementation\r\n    - ported inside maskformer with the required changes\r\n  - [x] loss\r\n    - originally, the loss is computed by passing a list of dictionaries representing targets. However, this approach is subefficient since different targets may have different sizes making it hard to process the batch in a single go.\r\n  - [x] padding\r\n    - padding is handled in the forward pass using `NestedTensor`, this is a well know class used in a lot of implementations. This should be handled by the `FeatureExtractor` following [Niels implementation](https://github.com/huggingface/transformers/blob/c15bb3fe19b0b6c69a727812cdd3cd5597014667/src/transformers/models/detr/feature_extraction_detr.py#L633)\r\n  - [x] auxiliary loss is not yet implemented\r\n  - [x] output_hidden_states\r\n  - [x] doc\r\n  - [x] tests:\r\n    - [x] FeatureExtractor\r\n    - [x] MaskFormer\r\n        \r\nCurrently, the model can be used as follows\r\n\r\n```python\r\nimport torch\r\n\r\nfrom transformers import (\r\n    MaskFormerModel,\r\n    MaskFormerForInstanceSegmentation,\r\n    MaskFormerConfig,\r\n    MaskFormerFeatureExtractor,\r\n)\r\n\r\nimport numpy as np\r\n\r\nfeature_extractor = MaskFormerFeatureExtractor(do_resize=True)\r\n\r\ninputs = feature_extractor(\r\n    [np.zeros((3, 400, 1200)), np.zeros((3, 750, 384))],\r\n    return_tensors=\"pt\",\r\n    pad_and_return_pixel_mask=True,\r\n)\r\n\r\nconfig = MaskFormerConfig()\r\nmask_former = MaskFormerModel(config=config)\r\nout = mask_former(**inputs)\r\n# out contains the hidden states of each submodule\r\nmask_former = MaskFormerForInstanceSegmentation(config=config)\r\nout = mask_former(**inputs)\r\n# out contains the logits\r\nseg = feature_extractor.post_process_segmentation(out)\r\n# get the instance panoptic mask + segments\r\nseg = feature_extractor.post_process_panoptic_segmentation(out)\r\n```\r\n",
      "closed_by": {
        "login": "FrancescoSaverioZuppichini",
        "id": 15908060,
        "node_id": "MDQ6VXNlcjE1OTA4MDYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/15908060?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/FrancescoSaverioZuppichini",
        "html_url": "https://github.com/FrancescoSaverioZuppichini",
        "followers_url": "https://api.github.com/users/FrancescoSaverioZuppichini/followers",
        "following_url": "https://api.github.com/users/FrancescoSaverioZuppichini/following{/other_user}",
        "gists_url": "https://api.github.com/users/FrancescoSaverioZuppichini/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/FrancescoSaverioZuppichini/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/FrancescoSaverioZuppichini/subscriptions",
        "organizations_url": "https://api.github.com/users/FrancescoSaverioZuppichini/orgs",
        "repos_url": "https://api.github.com/users/FrancescoSaverioZuppichini/repos",
        "events_url": "https://api.github.com/users/FrancescoSaverioZuppichini/events{/privacy}",
        "received_events_url": "https://api.github.com/users/FrancescoSaverioZuppichini/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/15682/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/15682/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1041462259",
          "html_url": "https://github.com/huggingface/transformers/pull/15682#issuecomment-1041462259",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/15682",
          "id": 1041462259,
          "node_id": "IC_kwDOCUB6oc4-E3Pz",
          "user": {
            "login": "HuggingFaceDocBuilder",
            "id": 97597362,
            "node_id": "U_kgDOBdE3sg",
            "avatar_url": "https://avatars.githubusercontent.com/u/97597362?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilder",
            "html_url": "https://github.com/HuggingFaceDocBuilder",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilder/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilder/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilder/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilder/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilder/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilder/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilder/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilder/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilder/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-02-16T12:53:50Z",
          "updated_at": "2022-02-16T12:53:50Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_15682). All of your documentation changes will be reflected on that endpoint.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1041462259/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1055726566",
          "html_url": "https://github.com/huggingface/transformers/pull/15682#issuecomment-1055726566",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/15682",
          "id": 1055726566,
          "node_id": "IC_kwDOCUB6oc4-7Rvm",
          "user": {
            "login": "FrancescoSaverioZuppichini",
            "id": 15908060,
            "node_id": "MDQ6VXNlcjE1OTA4MDYw",
            "avatar_url": "https://avatars.githubusercontent.com/u/15908060?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/FrancescoSaverioZuppichini",
            "html_url": "https://github.com/FrancescoSaverioZuppichini",
            "followers_url": "https://api.github.com/users/FrancescoSaverioZuppichini/followers",
            "following_url": "https://api.github.com/users/FrancescoSaverioZuppichini/following{/other_user}",
            "gists_url": "https://api.github.com/users/FrancescoSaverioZuppichini/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/FrancescoSaverioZuppichini/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/FrancescoSaverioZuppichini/subscriptions",
            "organizations_url": "https://api.github.com/users/FrancescoSaverioZuppichini/orgs",
            "repos_url": "https://api.github.com/users/FrancescoSaverioZuppichini/repos",
            "events_url": "https://api.github.com/users/FrancescoSaverioZuppichini/events{/privacy}",
            "received_events_url": "https://api.github.com/users/FrancescoSaverioZuppichini/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-03-01T18:20:27Z",
          "updated_at": "2022-03-01T18:20:27Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for the comments. Changed all instances of `detr_**` to `decoder_**` in the config + minor fixes and typos. Currently uploading the new weights and testing if everything is correct",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1055726566/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/29886/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/29886/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/29886/events",
      "html_url": "https://github.com/huggingface/transformers/pull/29886",
      "id": 2209350379,
      "node_id": "PR_kwDOCUB6oc5q2dV7",
      "number": 29886,
      "title": "Add SuperGlue model",
      "user": {
        "login": "sbucaille",
        "id": 24275548,
        "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
        "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sbucaille",
        "html_url": "https://github.com/sbucaille",
        "followers_url": "https://api.github.com/users/sbucaille/followers",
        "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
        "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
        "organizations_url": "https://api.github.com/users/sbucaille/orgs",
        "repos_url": "https://api.github.com/users/sbucaille/repos",
        "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sbucaille/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1843244711,
          "node_id": "MDU6TGFiZWwxODQzMjQ0NzEx",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/New%20model",
          "name": "New model",
          "color": "fbca04",
          "default": false,
          "description": ""
        },
        {
          "id": 5769473378,
          "node_id": "LA_kwDOCUB6oc8AAAABV-MtYg",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/Vision",
          "name": "Vision",
          "color": "C079EF",
          "default": false,
          "description": ""
        },
        {
          "id": 6886428489,
          "node_id": "LA_kwDOCUB6oc8AAAABmnaPSQ",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/run-slow",
          "name": "run-slow",
          "color": "E1D519",
          "default": false,
          "description": ""
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 58,
      "created_at": "2024-03-26T21:20:04Z",
      "updated_at": "2025-01-20T14:29:54Z",
      "closed_at": "2025-01-20T10:32:40Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/29886",
        "html_url": "https://github.com/huggingface/transformers/pull/29886",
        "diff_url": "https://github.com/huggingface/transformers/pull/29886.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/29886.patch",
        "merged_at": "2025-01-20T10:32:40Z"
      },
      "body": "# What does this PR do?\r\n\r\n<!--\r\nCongratulations! You've made it this far! You're not quite done yet though.\r\n\r\nOnce merged, your PR is going to appear in the release notes with the title you set, so make sure it's a great title that fully reflects the extent of your awesome contribution.\r\n\r\nThen, please replace this with a description of the change and which issue is fixed (if applicable). Please also include relevant motivation and context. List any dependencies (if any) that are required for this change.\r\n\r\nOnce you're done, someone will review your PR shortly (see the section \"Who can review?\" below to tag some potential reviewers). They may suggest changes to make the code even better. If no one reviewed your PR after a week has passed, don't hesitate to post a new comment @-mentioning the same persons---sometimes notifications get lost.\r\n-->\r\n\r\n<!-- Remove if not applicable -->\r\n\r\nFixes #25489 \r\nThis PR is the next step after implementing [SuperPoint](https://github.com/huggingface/transformers/pull/28966) to implement image matching through keypoint matching.\r\n\r\n**Colab notebook with inference example:**\r\nhttps://colab.research.google.com/drive/1NhwofZFzy7IMN4irN-jC-9LZy7dx_GZ2?usp=sharing\r\n\r\n## Who can review?\r\n\r\n@amyeroberts \r\n",
      "closed_by": {
        "login": "qubvel",
        "id": 31920396,
        "node_id": "MDQ6VXNlcjMxOTIwMzk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/qubvel",
        "html_url": "https://github.com/qubvel",
        "followers_url": "https://api.github.com/users/qubvel/followers",
        "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
        "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
        "organizations_url": "https://api.github.com/users/qubvel/orgs",
        "repos_url": "https://api.github.com/users/qubvel/repos",
        "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
        "received_events_url": "https://api.github.com/users/qubvel/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/29886/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/29886/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2021589987",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2021589987",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2021589987,
          "node_id": "IC_kwDOCUB6oc54fwPj",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-03-26T22:40:22Z",
          "updated_at": "2024-03-26T22:40:22Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts Alright, the PR is opened, even though the branch is still a bit of a mess but the code contained in the `superglue` folder is more or less what it would look like in the end I guess.\r\nAlthough, I have several questions / problems :\r\n1. I tried to follow the LlaVA example, which takes an arbitrary vision config for the vision task and implemented the same way in SuperGlue, but when I instantiate my `keypoint_detector` using `AutoModel.from_config`, SuperPoint weights are not loaded. So I need to force the instantiation using `AutoModelForKeypointDetection` with the `keypoint_detection_config.name_or_path`, is this the intended use ? (line 390 of `modeling_superglue.py`)\r\n2. What SuperGlue models should be implemented ? A `SuperGlueForImageMatching` containing an `AutoModelForKeypointDetection` with inputs in forward as regular `pixel_values` ? A `SuperGlueForKeypointMatching`  without keypoint detector included but with inputs of the forward as the keypoints, scores and descriptors of 2 images ?\r\n3. In the example of `SuperGlueForImageMatching` , how should we treat pixel_values ? For now I raise an error of the batch size if not modulo 2 (the remaining code does not cover batching yet)\r\n4. About the SuperPoint PR, I couldn't see it in the release note, is it a mistake ? \ud83d\ude2c ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2021589987/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2046102928",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2046102928",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2046102928,
          "node_id": "IC_kwDOCUB6oc559Q2Q",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-09T21:47:52Z",
          "updated_at": "2024-04-09T21:48:40Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ydshieh Hey, got a weird bug when I try to run `make fix-copies` in order to ensure SuperGlue is imported in all the necessary files and it crashes there : \r\n````\r\n\u276f make fix-copies\r\npython utils/check_copies.py --fix_and_overwrite\r\nTraceback (most recent call last):\r\n  File \"/home/steven/transformers_fork/transformers/utils/check_copies.py\", line 315, in split_code_into_blocks\r\n    ).groups()[0]\r\nAttributeError: 'NoneType' object has no attribute 'groups'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/steven/transformers_fork/transformers/utils/check_copies.py\", line 1218, in <module>\r\n    check_copies(args.fix_and_overwrite, args.file)\r\n  File \"/home/steven/transformers_fork/transformers/utils/check_copies.py\", line 852, in check_copies\r\n    new_diffs = is_copy_consistent(filename, overwrite, buffer)\r\n  File \"/home/steven/transformers_fork/transformers/utils/check_copies.py\", line 675, in is_copy_consistent\r\n    target_lines, theoretical_code, theoretical_code_splits = find_code_and_splits(\r\n  File \"/home/steven/transformers_fork/transformers/utils/check_copies.py\", line 529, in find_code_and_splits\r\n    code_splits = split_code_into_blocks(\r\n  File \"/home/steven/transformers_fork/transformers/utils/check_copies.py\", line 319, in split_code_into_blocks\r\n    raise ValueError(\r\nValueError: Tried to split a class or function. It did not work. Error comes from line -1: \r\n```\r\n        help=\"Name of the model you'd like to convert.\",\r\n    )\r\n    parser.add_argument(\r\n        \"--pytorch_dump_folder_path\", default=None, type=str, help=\"Path to the output PyTorch model directory.\"\r\n    )\r\n    parser.add_argument(\r\n        \"--push_to_hub\", action=\"store_true\", help=\"Whether or not to push the converted model to the \ud83e\udd17 hub.\"\r\n    )\r\n\r\n    args = parser.parse_args()\r\n    convert_dinov2_checkpoint(args.model_name, args.pytorch_dump_folder_path, args.push_to_hub)\r\n```\r\n\r\nmake: *** [Makefile:84: fix-copies] Error 1\r\n\r\n````\r\n\r\nThis seems to come from `dinov2/convert_dinov2_to_hf.py` which makes no sense. Any idea ?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2046102928/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2048071997",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2048071997",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2048071997,
          "node_id": "IC_kwDOCUB6oc56Exk9",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-10T17:08:36Z",
          "updated_at": "2024-04-10T17:08:36Z",
          "author_association": "COLLABORATOR",
          "body": "@sbucaille Apologies for the delay in my response. I've answered your initial questions below - let me know if anything isn't clear\r\n\r\n> I tried to follow the LlaVA example, which takes an arbitrary vision config for the vision task and implemented the same way in SuperGlue, but when I instantiate my keypoint_detector using AutoModel.from_config, SuperPoint weights are not loaded. So I need to force the instantiation using AutoModelForKeypointDetection with the keypoint_detection_config.name_or_path, is this the intended use ? (line 390 of modeling_superglue.py)\r\n\r\nThis shouldn't be necessary. Doing: \r\n\r\n```py\r\nself.keypoint_detector = AutoModelForKeypointDetection.from_config(config.keypoint_detector_config)\r\n```\r\n\r\nis the correct way to go. If the weights are all newly initialized, then first thing I'd suspect is that the checkpoint being used doesn't contain the SuperPoint weights. \r\n\r\n> What SuperGlue models should be implemented ? A SuperGlueForImageMatching containing an AutoModelForKeypointDetection with inputs in forward as regular pixel_values ? A SuperGlueForKeypointMatching without keypoint detector included but with inputs of the forward as the keypoints, scores and descriptors of 2 images ?\r\n\r\nSuperGlueForImageMatching taking `pixel_values`. I'll think about the name to see if there's something better we can use. \"ImageMatching\" is a bit ambiguous. \r\n\r\n> In the example of SuperGlueForImageMatching , how should we treat pixel_values ? For now I raise an error of the batch size if not modulo 2 (the remaining code does not cover batching yet)\r\n\r\nIn this case, are the images to be pair interleaved? e.g. the sequence goes [image_1_a, image_1_b, image_2_a, image_2_b, ...]\r\n\r\nI think I would do something more similar to sentence similarity for text models: \r\n* The image processor take a pair of images or a list of pair of images\r\n* The images are processed and returned as a tensor of shape (B, 2, C, H, W)\r\n\r\n> About the SuperPoint PR, I couldn't see it in the release note, is it a mistake ? \ud83d\ude2c\r\n\r\nThis is just an oversight, sorry, as the model as added last minute as a patch after the branch was already cut for release. I'll update the notes. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2048071997/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2048546630",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2048546630",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2048546630,
          "node_id": "IC_kwDOCUB6oc56GldG",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-10T22:34:32Z",
          "updated_at": "2024-04-10T22:34:32Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ydshieh Nevermind, found the problem, it came from a left ouf `# Copied from transformers.models.dinov2.convert_dinov2_to_hf` above a function, sorry for the inconvenience.\r\n\r\n@amyeroberts Everything is clear, I fixed the embedded `keypoint_detector` state dict loading in the `convert_superglue_to_hf.py` script. So we agree that saving a `SuperGlueForImageMatching` weights in a new Hub repo necessarily means we also save the `keypoint_detector` weights with it right ? Is this how it is implemented in LlaVa ?\r\n\r\nI'll implement the new `SuperGlueImageProcessor` later, but I was trying out inferences, I noticed a difference in terms of result with the way we read an image. \r\nIn SuperPoint it was not that noticeable, but for example, with the two images I've added in this PR, using the `SuperPointImageProcessor` (which uses `PIL.Image.open()`) ends up having SuperGlue matching 144 points where using the original authors code for reading (see below in the post), ends up having SuperGlue matching 175 points (I reach this number whether I run their original code or when I added it in the `convert_superglue_to_hf.py` script). Since their implementation uses OpenCV instead of PIL, should we change the `SuperPointImageProcessor` ? What is the convention in transformers for image reading libraries ? This difference has a negative snowball effect on the performance, although I haven't tried on many examples.\r\n\r\nThe original read_image function from authors : \r\n```python\r\ndef frame2tensor(frame, device):\r\n    return torch.from_numpy(frame/255.).float()[None, None].to(device)\r\n\r\n\r\ndef read_image(path, device, resize, rotation, resize_float):\r\n    image = cv2.imread(str(path), cv2.IMREAD_GRAYSCALE)\r\n    if image is None:\r\n        return None, None, None\r\n    w, h = image.shape[1], image.shape[0]\r\n    w_new, h_new = process_resize(w, h, resize)\r\n    scales = (float(w) / float(w_new), float(h) / float(h_new))\r\n\r\n    if resize_float:\r\n        image = cv2.resize(image.astype('float32'), (w_new, h_new))\r\n    else:\r\n        image = cv2.resize(image, (w_new, h_new)).astype('float32')\r\n\r\n    if rotation != 0:\r\n        image = np.rot90(image, k=rotation)\r\n        if rotation % 2:\r\n            scales = scales[::-1]\r\n\r\n    inp = frame2tensor(image, device)\r\n    return image, inp, scales\r\n```\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2048546630/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2049669768",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2049669768",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2049669768,
          "node_id": "IC_kwDOCUB6oc56K3qI",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-11T13:14:39Z",
          "updated_at": "2024-04-11T13:14:39Z",
          "author_association": "COLLABORATOR",
          "body": "> So we agree that saving a SuperGlueForImageMatching weights in a new Hub repo necessarily means we also save the keypoint_detector weights with it right ? Is this how it is implemented in LlaVa ?\r\n\r\nYep, that's how it's done in Llava and other composite models. You can check this by inspecting the safetensor weight names on the hub for a checkpoint: https://huggingface.co/llava-hf/llava-v1.6-mistral-7b-hf/tree/main (Click on this symbol: <img width=\"44\" alt=\"image\" src=\"https://github.com/huggingface/transformers/assets/22614925/db320671-7c36-4292-8151-2df97cbf85aa\">)\r\n\r\n> In SuperPoint it was not that noticeable, but for example, with the two images I've added in this PR, using the SuperPointImageProcessor (which uses PIL.Image.open())\r\n\r\nNone of our image processors should be using `PIL.Image.open`. They should take already opened images. I can't see [where it's used in the image processor](https://github.com/huggingface/transformers/blob/6cdbd73e01a9719bfaec07d91fd108e8d932bbbb/src/transformers/models/superpoint/image_processing_superpoint.py#L4)? \r\n\r\nThe image processors accept `PIL.Image.Image`, `torch.tensor`, `jax.array`, `tf.tensor` or `np.array`, but it's not responsible for loading / opening images. If for testing the port you want to use cv and then convert the images to one of these formats, that should be OK. \r\n\r\nIt would be interesting to know what the difference is between the two images after loading from PIL vs cv2 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2049669768/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2050615025",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2050615025",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2050615025,
          "node_id": "IC_kwDOCUB6oc56Oebx",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-11T21:49:17Z",
          "updated_at": "2024-04-11T21:54:41Z",
          "author_association": "CONTRIBUTOR",
          "body": " @amyeroberts Indeed there is no such thing of reading an image in the image processors, I was mistaken. \r\n> The image processors accept `PIL.Image.Image`, `torch.tensor`, `jax.array`, `tf.tensor` or `np.array`, but it's not responsible for loading / opening images. If for testing the port you want to use cv and then convert the images to one of these formats, that should be OK.\r\n> It would be interesting to know what the difference is between the two images after loading from PIL vs cv2\r\n\r\nAbout that, I've modified the `convert_superglue_to_hf.py` script and added multiple ways of reading the image. After some experiment, it looks like reading the image with `PIL.Image.open()`, `cv2.imread(..., cv2.IMREAD_GRAYSCALE)` or `cv2.imread(..., cv2.IMREAD_COLOR)` (with conversion from BGR to RGB) results in the same number of matching. I haven't looked at the images themselves but the only difference now resides in the way images are resized, in the original code it is done with cv2 whereas in transformers it is done with PIL by default. As I said earlier, I haven't tried on many images so maybe this pair of images is indeed impacted in terms of performance, maybe in other cases it won't. How strict is the policy regarding the performance of models being replicated when implemented in transformers ?\r\n\r\nOn additional notes : \r\n- I've added the SuperGlueImageProcessor. For obvious reasons, I made this object instantiate a SuperPointImageProcessor as the processing in terms of grayscale is exactly the same. SuperGlueImageProcessor will only make sure there is a pair number of images and pair them interleaved as you suggested. I was also thinking about a \"pairing mode\" where the user could give an arbitrary number of images and the processor would group them based on the mode. For example, with combinations, having [im0, im1, im2] would result in [(im0, im1), (im0, im2), (im1, im2)] ?\r\n- I've implemented batching in SuperGlue similarly to SuperPoint with a masked output.\r\n- How should `hidden_states` be handled in SuperGlue ? Should it be SuperPoint `hidden_states` or something referring the `keypoint_encoder` or the `gnn` ?\r\n- Also, as a suggestion for the naming, ImageKeypointMatching could be better than just ImageMatching ? And maybe should we rename KeypointDetection references to ImageKeypointDetection ?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2050615025/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2057829422",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2057829422",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2057829422,
          "node_id": "IC_kwDOCUB6oc56p_wu",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-15T21:20:24Z",
          "updated_at": "2024-05-19T15:37:47Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts Me again, I had time to write some tests, but I ended up with a very verbose implementation of the forward method. The reason is because in order to cover all tests about hidden states, we need to output 2 variables (`last_hidden_state`, `hidden_states`), but these variables can't be stacked easily as SuperGlue states are sparse tensors and their last dimension depends on the number of keypoints, so we need to store these states for each image, hence we have 4 variables throughout the method (`last_hidden_state_0`, `last_hidden_state_1`, `hidden_states_0`, `hidden_states_1`). In the end, we have 2 variables but these need to be padded tensors like `matches` and `matching_scores`.\r\nThis is just the beginning as SuperGlue also includes attention, so these tensors will also need to be taken care of. But considering the current state of the forward method, I preferred to keep it like that and get your opinion on this.\r\n\r\nOn different tests I have issues :\r\n - Every tests related to torchscript fail because it is allocating too much memory in my GPU when reaching einsum instructions, is there known issues of einsum with these torchscript tests ?\r\n```\r\n>           return _VF.einsum(equation, operands)  # type: ignore[attr-defined]\r\nE           torch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 82.88 GiB. GPU 0 has a total capacty of 15.99 GiB of which 12.28 GiB is free. Including non-PyTorch memory, this process has 17179869184.00 GiB memory in use. Of the allocated memory 1.09 GiB is allocated by PyTorch, and 85.38 MiB is reserved by PyTorch but unallocated. If reserved but unallocated memory is large try setting max_split_size_mb to avoid fragmentation.  See documentation for Memory Management and PYTORCH_CUDA_ALLOC_CONF\r\n```\r\n- The last test not passing is about initialization, where weight values are not getting the proper value, but the following statement is a bit odd :\r\n```\r\nfor name, param in model.named_parameters():\r\n                if param.requires_grad:\r\n>                   self.assertIn(\r\n                        ((param.data.mean() * 1e9).round() / 1e9).item(),\r\n                        [0.0, 1.0],\r\n                        msg=f\"Parameter {name} of model {model_class} seems not properly initialized\",\r\n                    )\r\nE                   AssertionError: 0.06238596513867378 not found in [0.0, 1.0] : Parameter keypoint_encoder.encoder.layers.0.weight of model <class 'transformers.models.superglue.modeling_superglue.SuperGlueForImageMatching'> seems not properly initialized\r\n```\r\n\r\nLast test to write is the one related to the pretrained model and checking whether the model outputs the proper values.\r\nAlso some docs missing here and there.\r\n\r\n_EDIT : problem fixed_ ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2057829422/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2106032154",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2106032154",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2106032154,
          "node_id": "IC_kwDOCUB6oc59h4Aa",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-11T21:10:47Z",
          "updated_at": "2024-05-19T15:37:35Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @amyeroberts \r\nFollowing up on the PR, I adapted the code to the recent changes of the main branch and noticed several new tests that are not passing on my side (`test_save_load_low_cpu...` ones) with the following error : \r\n```\r\n        for p1, p2 in zip(model_low_usage.parameters(), model_non_low_usage.parameters()):\r\n>           self.assertEquals(p1.data.ne(p2.data).sum(), 0)\r\nE           RuntimeError: Expected all tensors to be on the same device, but found at least two devices, cuda:0 and cpu!\r\n\r\ntests/test_modeling_common.py:504: RuntimeError\r\n```\r\nIs it a known problem from the main branch (I tried with the superpoint tests and ended with the same result) or something on my part ?\r\n\r\n_EDIT : problem fixed_ ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2106032154/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2119282472",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2119282472",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2119282472,
          "node_id": "IC_kwDOCUB6oc5-Ua8o",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-19T15:50:05Z",
          "updated_at": "2024-05-19T15:50:05Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts Hey, you can disregard the last two posts I made as I found the origin of the problems.\r\nAlthough I have a question regarding returning hidden_states and attentions. In SuperPoint, hidden_states are returned up to the point before we have sparse tensors with an arbitrary number of keypoints detected. In SuperGlue, everything computed after the keypoint detector has the same arbitrary dimension depending on the number of keypoints detected. I worked on [this commit](https://github.com/huggingface/transformers/pull/29886/commits/5b3b669c927fce36e2ee7023c07561fe598f606d) for several hours before realizing it \ud83d\ude05. And the tests actually pass since we make sure to have a fixed number of keypoints returned, so all hidden_states and attentions are properly concatenated together, but adding `output_hidden_states=True` to an inference with different number of keypoints per image would crash. But adapting this code for arbitrary number of keypoints will lead to having a lot of lines of code dedicated for creating a mask tensor and filling it with the tensors (which represent already a big portion of the code just for the matches and matching scores).\r\nSo, now a question worth asking is : is it relevant to returns such states from SuperGlue ? I would say it makes sense of the model would act just like a backbone but it is far from it in my opinion.\r\nIf yes, then I can always implement it, no worries. If no then I'll revert the commit and we can consider the model as fully implemented and we could start the review process and make a final pass on it.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2119282472/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2120905869",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2120905869",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2120905869,
          "node_id": "IC_kwDOCUB6oc5-anSN",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-20T17:40:27Z",
          "updated_at": "2024-05-20T17:40:27Z",
          "author_association": "COLLABORATOR",
          "body": "@sbucaille Apologies for the delay in my response on this PR. \r\n\r\nIf I've understood correctly, you're asking about whether we should return the hidden states from the SuperPoint model when calling SuperGlue, is that right? \r\n\r\nIf so, I'd say no, we don't need to return them and I agree it can act as if it were a backbone. As, technically, any keypoint detection model can feed into super glue, we can't make the assumption about all of them having the same kind of hidden states. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2120905869/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2121314962",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2121314962",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2121314962,
          "node_id": "IC_kwDOCUB6oc5-cLKS",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-20T22:22:55Z",
          "updated_at": "2024-05-20T22:22:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts Hey ! No worries at all !!\r\nPart of the question was indeed whether SuperGlue should return SuperPoint hidden_states yes. But the other part of the question regarded SuperGlue's hidden states itself, should it return hidden states and/or attention as it involves some MLP's and attention layers ? I assumed no and reverted my changes and SuperGlue does not return anything other than the matches, matching_scores and keypoints along with the mask.\r\nOther previously points need to be addressed : \r\n- Regarding the `SuperGlueImageProcessor`, I currently copied the behavior from the `SuperPointImageProcessor`, should that rather be instantiated in the `SuperGlueImageProcessor` ?\r\n- Still on the `SuperGlueImageProcessor`, I currently batched images as you suggested : taking a list of images `[image0, image1, ..., image{n-1}, image{n}]` into `[[image0, image1], ..., [image{n-1}, image{n}]]` as a `[B, 2, C, H, W]` tensor, BUT if `n` is odd then the last image is doubled so we still have a pair of images and code is not crashing.\r\n-  For the concern you had about the naming for the model and output with `ImageMatching`, I suggest `ImageKeypointMatching`. And maybe we could rename KeypointDetection references to ImageKeypointDetection ?\r\n\r\nAll tests passed, should we move onto a first review ?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2121314962/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2123270505",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2123270505",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2123270505,
          "node_id": "IC_kwDOCUB6oc5-jolp",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-21T19:07:11Z",
          "updated_at": "2024-05-21T19:07:11Z",
          "author_association": "COLLABORATOR",
          "body": "@sbucaille Ah, OK, I see. Regarding returning hidden_states and attentions, yes, the model should return these. It's fine if the dimension here varies depending on the number of points detected, as long as not all of the dimensions vary (if that makes sense?). That is, for each \"block\" of the model, there should be an associated hidden_states and attentions tensor which is returned if `output_hidden_states` and `output_attentions` are True. \r\n\r\nFor the other points: \r\n* Regarding the SuperGlueImageProcessor, I currently copied the behavior from the SuperPointImageProcessor, should that rather be instantiated in the SuperGlueImageProcessor ?\r\n\r\nCould you clarify this a bit? Specifically instantiation of what and where?\r\n\r\n* Still on the SuperGlueImageProcessor, I currently batched images as you suggested : taking a list of images [image0, image1, ..., image{n-1}, image{n}] into [[image0, image1], ..., [image{n-1}, image{n}]] as a [B, 2, C, H, W] tensor, BUT if n is odd then the last image is doubled so we still have a pair of images and code is not crashing.\r\n\r\nIs there any valid input to SuperGlue which involves one image? If not, then we can raise an exception when the image processor is called if the number of images isn't even\r\n\r\n* For the concern you had about the naming for the model and output with ImageMatching, I suggest ImageKeypointMatching. And maybe we could rename KeypointDetection references to ImageKeypointDetection ?\r\n\r\n`ImageKeypointMatching` sounds good to me! Or just `KeypointMatching`\r\n\r\nWe could, although renaming models should be done lightly as this would be a breaking change. I don't think the `Image` prefix adds much. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2123270505/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2123563642",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2123563642",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2123563642,
          "node_id": "IC_kwDOCUB6oc5-kwJ6",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-21T22:57:22Z",
          "updated_at": "2024-05-21T22:57:22Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @amyeroberts,\r\n\r\n\r\n> @sbucaille Ah, OK, I see. Regarding returning hidden_states and attentions, yes, the model should return these. It's fine if the dimension here varies depending on the number of points detected, as long as not all of the dimensions vary (if that makes sense?). That is, for each \"block\" of the model, there should be an associated hidden_states and attentions tensor which is returned if `output_hidden_states` and `output_attentions` are True.\r\n\r\nAlright I made the changes to output the hidden states and attentions, in hidden states only the last dimension is \"masked\" and equals the highest number of keypoints in all the images, same for attentions for the last and 2nd to last.\r\n\r\n> * Regarding the SuperGlueImageProcessor, I currently copied the behavior from the SuperPointImageProcessor, should that rather be instantiated in the SuperGlueImageProcessor ?\r\n> \r\n> Could you clarify this a bit? Specifically instantiation of what and where?\r\n\r\nSince SuperGlue uses SuperPoint as its keypoint detector, the `SuperGlueImageProcessor` needs to process images such that SuperPoint can process them, so for now I copied the part where `SuperPointImageProcessor` turns the images into grey scaled tensors, and added the logic of batching images into pairs after that, my question is should `SuperGlueImageProcessor` use the `SuperPointImageProcessor` as a first \"internal\" processor so that images complies with SuperPoint requirements and then add the image pair batching logic after or should I keep it like that ? (you can find the code [here](https://github.com/huggingface/transformers/pull/29886/files#diff-de55754b00d62b5234a4e2de9ad9b24b75d4cc16fee3ca7458d7ef05c574e9b4:~:text=class%20SuperGlueImageProcessor(BaseImageProcessor)%3A))\r\n\r\n> * Still on the SuperGlueImageProcessor, I currently batched images as you suggested : taking a list of images [image0, image1, ..., image{n-1}, image{n}] into [[image0, image1], ..., [image{n-1}, image{n}]] as a [B, 2, C, H, W] tensor, BUT if n is odd then the last image is doubled so we still have a pair of images and code is not crashing.\r\n> \r\n> Is there any valid input to SuperGlue which involves one image? If not, then we can raise an exception when the image processor is called if the number of images isn't even\r\n\r\nMade these changes and changed tests accordingly\r\n\r\n> * For the concern you had about the naming for the model and output with ImageMatching, I suggest ImageKeypointMatching. And maybe we could rename KeypointDetection references to ImageKeypointDetection ?\r\n> \r\n> `ImageKeypointMatching` sounds good to me! Or just `KeypointMatching`\r\n> \r\n> We could, although renaming models should be done lightly as this would be a breaking change. I don't think the `Image` prefix adds much.\r\n\r\nI've renamed ImageMatching occurences into KeypointMatching\r\n\r\nI need to make a last pass on the code to check for quality, refactoring, naming and commenting problems in the code but overall I'd say we have everything\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2123563642/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2132274848",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2132274848",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2132274848,
          "node_id": "IC_kwDOCUB6oc5_F-6g",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-26T16:15:25Z",
          "updated_at": "2024-05-26T16:15:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @amyeroberts ,\r\nI addressed the review comments.\r\nI am sorry for the offence regarding the naming of the images of the Tower Bridge, but in my defense, I just copied it from the [original repo](https://github.com/magicleap/SuperGluePretrainedNetwork/tree/master/assets/phototourism_sample_images) \ud83d\ude2c ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2132274848/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2145287224",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2145287224",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2145287224,
          "node_id": "IC_kwDOCUB6oc5_3nw4",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-03T14:02:52Z",
          "updated_at": "2024-06-03T14:02:52Z",
          "author_association": "COLLABORATOR",
          "body": "> I am sorry for the offence regarding the naming of the images of the Tower Bridge, but in my defense, I just copied it from the [original repo](https://github.com/magicleap/SuperGluePretrainedNetwork/tree/master/assets/phototourism_sample_images) \ud83d\ude2c\r\n\r\n@sbucaille No offence taken! It's a very common mistake \ud83d\ude04 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2145287224/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2156081670",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2156081670",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2156081670,
          "node_id": "IC_kwDOCUB6oc6AgzIG",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-08T15:44:22Z",
          "updated_at": "2024-06-08T15:44:22Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @amyeroberts \r\nAddressed most of the issues, answered some of your confusions. There are still a few points to be addressed \ud83d\ude04 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2156081670/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2171894688",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2171894688",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2171894688,
          "node_id": "IC_kwDOCUB6oc6BdHug",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-16T21:33:02Z",
          "updated_at": "2024-06-16T21:33:02Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @amyeroberts \r\nJust made another pass on the code and tackled some remaining typing and docs issues.\r\nI have created the custom image matching dataset to be used in the tests [here](https://huggingface.co/datasets/stevenbucaille/image_matching_fixtures), ready to be copied.\r\nI also completed the model docs of both models of SuperGlue ([here](https://huggingface.co/stevenbucaille/superglue_outdoor) and [here](https://huggingface.co/stevenbucaille/superglue_indoor), also ready to be copied I think. \r\nLet me know if there is still things to do",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2171894688/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2198597733",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2198597733",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2198597733,
          "node_id": "IC_kwDOCUB6oc6DC_Bl",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-30T15:26:53Z",
          "updated_at": "2024-06-30T15:26:53Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @amyeroberts , just a gentle bump here\r\nAlso, as my LightGlue's implementation is coming close to the SuperGlue's state in terms of progress, I've created a [PR](https://github.com/huggingface/transformers/pull/31718) for it",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2198597733/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2241165784",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2241165784",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2241165784,
          "node_id": "IC_kwDOCUB6oc6FlXnY",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-20T14:19:05Z",
          "updated_at": "2024-07-20T14:19:05Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @amyeroberts \r\nI've done a pass on the suggestions, let me recap it here since quite a lot of code changed : \r\n- the `concat`, `stack` and `batch` functions for the hidden states and attention probabilities have been refactored together.\r\n- the list of matching variables have been removed, the detection is done on all the images first, then we compute the maximum number of keypoints found in these images, which tells us the required dimensions for the matching outputs, which we fill as we are matching each images together.\r\n- the `SuperGlueImageProcessor` have been reworked to cover all the failing input use cases you mentionned. This part might need some refinement but a dedicated test have been wrote to be as exhaustive as possible.\r\n- all inconsistencies on variable names have been taking care of, let me know if you still find one.\r\n- SuperGlue docs have been updated to be more clear and to the point. Also got rid of opencv\r\n\r\nLast question I asked in the review comments is about dividing SuperGlueModel and SuperGlueForKeypointMatching. From the different more traditional models like ViT or other feature extractors, such model is necessary when we can do multiple tasks with the model like classification, segmentation etc, based on the same features. But here, SuperGlue \"is already\" a specific task we apply to SuperPoint. I don't know what could someone do with just the output of the GNN ? And even if they want it, they can retrieve it using `output_hidden_states=True`. Is it more out of convention to have such separated model or what is the motivation behind ?\r\n\r\nHave a great week-end !",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2241165784/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2323038364",
          "html_url": "https://github.com/huggingface/transformers/pull/29886#issuecomment-2323038364",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29886",
          "id": 2323038364,
          "node_id": "IC_kwDOCUB6oc6KdsCc",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-31T20:41:30Z",
          "updated_at": "2024-09-03T12:21:53Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts gentle bump here with a simple rebase on main.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2323038364/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/20725/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/20725/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/20725/events",
      "html_url": "https://github.com/huggingface/transformers/pull/20725",
      "id": 1489721665,
      "node_id": "PR_kwDOCUB6oc5FEojQ",
      "number": 20725,
      "title": "Add TVLT",
      "user": {
        "login": "zinengtang",
        "id": 82334223,
        "node_id": "MDQ6VXNlcjgyMzM0MjIz",
        "avatar_url": "https://avatars.githubusercontent.com/u/82334223?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zinengtang",
        "html_url": "https://github.com/zinengtang",
        "followers_url": "https://api.github.com/users/zinengtang/followers",
        "following_url": "https://api.github.com/users/zinengtang/following{/other_user}",
        "gists_url": "https://api.github.com/users/zinengtang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/zinengtang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zinengtang/subscriptions",
        "organizations_url": "https://api.github.com/users/zinengtang/orgs",
        "repos_url": "https://api.github.com/users/zinengtang/repos",
        "events_url": "https://api.github.com/users/zinengtang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/zinengtang/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 30,
      "created_at": "2022-12-11T09:26:41Z",
      "updated_at": "2023-02-15T18:13:33Z",
      "closed_at": "2023-02-15T18:10:30Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/20725",
        "html_url": "https://github.com/huggingface/transformers/pull/20725",
        "diff_url": "https://github.com/huggingface/transformers/pull/20725.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/20725.patch",
        "merged_at": "2023-02-15T18:10:30Z"
      },
      "body": "# What does this PR do?\r\n\r\nAdd TVLT to transformers. This PR implements a original version of the TVLT: Textless Vision-Language Transformer from the original paper from https://arxiv.org/abs/2209.14156\r\nI have provided the model weights here https://huggingface.co/TVLT/tvlt-base\r\n\r\n# Before submitting\r\n- [ ] This PR fixes a typo or improves the docs (you can dismiss the other checks if that's the case).\r\n- [x] Did you read the [contributor guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#start-contributing-pull-requests), Yes.\r\nPull Request section?\r\n- [x] Was this discussed/approved via a Github issue or the [forum](https://discuss.huggingface.co/)? It is discussed on slack.\r\n- [x] Did you make sure to update the documentation with your changes? I have added the documentation. Please check if they make sense.\r\n- [x] Did you write any new necessary tests? Yes. Please check if they make sense.\r\n# Who can review?\r\nAnyone.",
      "closed_by": {
        "login": "amyeroberts",
        "id": 22614925,
        "node_id": "MDQ6VXNlcjIyNjE0OTI1",
        "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amyeroberts",
        "html_url": "https://github.com/amyeroberts",
        "followers_url": "https://api.github.com/users/amyeroberts/followers",
        "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
        "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
        "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
        "repos_url": "https://api.github.com/users/amyeroberts/repos",
        "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
        "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/20725/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/20725/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1346634786",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1346634786",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1346634786,
          "node_id": "IC_kwDOCUB6oc5QRAQi",
          "user": {
            "login": "sgugger",
            "id": 35901082,
            "node_id": "MDQ6VXNlcjM1OTAxMDgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/35901082?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sgugger",
            "html_url": "https://github.com/sgugger",
            "followers_url": "https://api.github.com/users/sgugger/followers",
            "following_url": "https://api.github.com/users/sgugger/following{/other_user}",
            "gists_url": "https://api.github.com/users/sgugger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sgugger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sgugger/subscriptions",
            "organizations_url": "https://api.github.com/users/sgugger/orgs",
            "repos_url": "https://api.github.com/users/sgugger/repos",
            "events_url": "https://api.github.com/users/sgugger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sgugger/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-12T14:48:04Z",
          "updated_at": "2022-12-12T14:48:04Z",
          "author_association": "COLLABORATOR",
          "body": "Thanks a lot for contributing this model! One first remark is that we tried to avoid all-capitals now in model classes to make all model names consistent across the library, so could you rename your classes to `TvltModel`, `TvltConfig` etc... (like `BertModel`, `BertConfig`).\r\n\r\nLeaving you in the hands of @sanchit-gandhi and @ArthurZucker to finish cleaning the PR and all the tests.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1346634786/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1356273414",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1356273414",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1356273414,
          "node_id": "IC_kwDOCUB6oc5Q1xcG",
          "user": {
            "login": "zinengtang",
            "id": 82334223,
            "node_id": "MDQ6VXNlcjgyMzM0MjIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/82334223?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zinengtang",
            "html_url": "https://github.com/zinengtang",
            "followers_url": "https://api.github.com/users/zinengtang/followers",
            "following_url": "https://api.github.com/users/zinengtang/following{/other_user}",
            "gists_url": "https://api.github.com/users/zinengtang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zinengtang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zinengtang/subscriptions",
            "organizations_url": "https://api.github.com/users/zinengtang/orgs",
            "repos_url": "https://api.github.com/users/zinengtang/repos",
            "events_url": "https://api.github.com/users/zinengtang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zinengtang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-17T14:08:09Z",
          "updated_at": "2022-12-17T14:08:09Z",
          "author_association": "CONTRIBUTOR",
          "body": "@NielsRogge @ArthurZucker \r\nI have a question. \r\nI converted the pixel_feature_extractor to imageprocessor class. Should I write a tester for imageprocessor but I couldn't find any example of it from other models.\r\nFeature extractor will be deprecated in v5 so I don't have to create one with mother class imageprocessor?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1356273414/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1356316756",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1356316756",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1356316756,
          "node_id": "IC_kwDOCUB6oc5Q18BU",
          "user": {
            "login": "zinengtang",
            "id": 82334223,
            "node_id": "MDQ6VXNlcjgyMzM0MjIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/82334223?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zinengtang",
            "html_url": "https://github.com/zinengtang",
            "followers_url": "https://api.github.com/users/zinengtang/followers",
            "following_url": "https://api.github.com/users/zinengtang/following{/other_user}",
            "gists_url": "https://api.github.com/users/zinengtang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zinengtang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zinengtang/subscriptions",
            "organizations_url": "https://api.github.com/users/zinengtang/orgs",
            "repos_url": "https://api.github.com/users/zinengtang/repos",
            "events_url": "https://api.github.com/users/zinengtang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zinengtang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-17T15:57:42Z",
          "updated_at": "2022-12-17T15:59:47Z",
          "author_association": "CONTRIBUTOR",
          "body": "Another question is that ProcessorMixin is multimodal processor but initialization requires tokenizer\r\nBut TVLT only takes in vision and audio. Is there anyway or a processor that can handle this?\r\nWould it be good to propose to support combinations of two feature extractor in initialization of ProcessorMixin?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1356316756/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1357597584",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1357597584",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1357597584,
          "node_id": "IC_kwDOCUB6oc5Q60uQ",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-19T12:28:03Z",
          "updated_at": "2022-12-19T12:28:03Z",
          "author_association": "COLLABORATOR",
          "body": "Hey! \r\n1. With regards to testing, you should indeed add a tester. While the `FeatureExctractor` were replaced with `ImageProcessors` I think we are still using the `test_feature_extraction_...` \r\n2. I think it indeed makes sense to support multiple `FeatureExtractors`, and it might also be good to support multiple tokenizers. We could also create a `MultiModalProcessorMixin` class, but it might be a bit too big for this PR. \r\nI think the best solution for now is to just make your class inherit from `PushToHubMixin` and copy the relevant functions accordingly! ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1357597584/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1357685421",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1357685421",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1357685421,
          "node_id": "IC_kwDOCUB6oc5Q7KKt",
          "user": {
            "login": "NielsRogge",
            "id": 48327001,
            "node_id": "MDQ6VXNlcjQ4MzI3MDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/48327001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NielsRogge",
            "html_url": "https://github.com/NielsRogge",
            "followers_url": "https://api.github.com/users/NielsRogge/followers",
            "following_url": "https://api.github.com/users/NielsRogge/following{/other_user}",
            "gists_url": "https://api.github.com/users/NielsRogge/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NielsRogge/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NielsRogge/subscriptions",
            "organizations_url": "https://api.github.com/users/NielsRogge/orgs",
            "repos_url": "https://api.github.com/users/NielsRogge/repos",
            "events_url": "https://api.github.com/users/NielsRogge/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NielsRogge/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-19T13:36:18Z",
          "updated_at": "2022-12-19T13:36:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "> With regards to testing, you should indeed add a tester. While the FeatureExctractor were replaced with ImageProcessors I think we are still using the test_feature_extraction_...\r\n\r\nWe can call them `test_image_processing_xxx.py` now, see #20716 as an example\r\n\r\n> I think it indeed makes sense to support multiple FeatureExtractors, and it might also be good to support multiple tokenizers. We could also create a MultiModalProcessorMixin class, but it might be a bit too big for this PR.\r\nI think the best solution for now is to just make your class inherit from PushToHubMixin and copy the relevant functions accordingly!\r\n\r\nThere's no need for a MultiModalProcessorMixin class I think, as the Processor class is exactly meant for multi-modal models. I think we just need to update processing_utils.py to handle the audio modality as well, cc @amyeroberts ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1357685421/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1359215098",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1359215098",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1359215098,
          "node_id": "IC_kwDOCUB6oc5RA_n6",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-20T11:28:02Z",
          "updated_at": "2022-12-20T11:28:02Z",
          "author_association": "COLLABORATOR",
          "body": "@NielsRogge @zinengtang Yes, a single `TVLTProcessor` class is the way to go to handle processing of multiple modalities. These processor classes already handle audio e.g. [wav2vec2](https://github.com/huggingface/transformers/blob/d1d3ac94033b6ea1702b203dcd74beab68d42d83/src/transformers/models/wav2vec2/processing_wav2vec2.py#L62) so I don't think anything needs to be done to the `ProcessorMixin`. It should work provided `attributes` is modified e.g. [for CLIPProcessor](https://github.com/huggingface/transformers/blob/d1d3ac94033b6ea1702b203dcd74beab68d42d83/src/transformers/models/clip/processing_clip.py#L38). ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1359215098/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1364102544",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1364102544",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1364102544,
          "node_id": "IC_kwDOCUB6oc5RTo2Q",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-23T16:35:30Z",
          "updated_at": "2023-02-15T18:13:33Z",
          "author_association": "NONE",
          "body": "_The documentation is not available anymore as the PR was closed or merged._",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1364102544/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1365257894",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1365257894",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1365257894,
          "node_id": "IC_kwDOCUB6oc5RYC6m",
          "user": {
            "login": "zinengtang",
            "id": 82334223,
            "node_id": "MDQ6VXNlcjgyMzM0MjIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/82334223?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zinengtang",
            "html_url": "https://github.com/zinengtang",
            "followers_url": "https://api.github.com/users/zinengtang/followers",
            "following_url": "https://api.github.com/users/zinengtang/following{/other_user}",
            "gists_url": "https://api.github.com/users/zinengtang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zinengtang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zinengtang/subscriptions",
            "organizations_url": "https://api.github.com/users/zinengtang/orgs",
            "repos_url": "https://api.github.com/users/zinengtang/repos",
            "events_url": "https://api.github.com/users/zinengtang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zinengtang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-26T15:51:11Z",
          "updated_at": "2022-12-30T16:08:50Z",
          "author_association": "CONTRIBUTOR",
          "body": "A summary of what I have committed following the comments:\r\n\r\n1. I addressed the comments by all reviewers. (Let me know if I miss anything.)\r\n2. Checked all files and makefile and passed the auto checks.\r\n3. Currently, the model input names are _pixel_value_ and _audio_value_. But audio models seem to be all using _input_features_. Should we update to _input_features_? But this makes inputs names combo a little more confusing. But I am good with either options.\r\n4. I added TvltForAudioVisualClassification. AudioVisualClassification could be good for many tasks like video emotion analysis or video-audio retrieval. For this, I am thinking about adding it as a new task. Audiovisual models is a growing community. This could be good for new audiovisual or vision+audio models in the future.\r\n\r\nLet me know if you have any suggestions. @ydshieh @ArthurZucker @NielsRogge ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1365257894/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1383196441",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1383196441",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1383196441,
          "node_id": "IC_kwDOCUB6oc5ScecZ",
          "user": {
            "login": "zinengtang",
            "id": 82334223,
            "node_id": "MDQ6VXNlcjgyMzM0MjIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/82334223?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zinengtang",
            "html_url": "https://github.com/zinengtang",
            "followers_url": "https://api.github.com/users/zinengtang/followers",
            "following_url": "https://api.github.com/users/zinengtang/following{/other_user}",
            "gists_url": "https://api.github.com/users/zinengtang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zinengtang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zinengtang/subscriptions",
            "organizations_url": "https://api.github.com/users/zinengtang/orgs",
            "repos_url": "https://api.github.com/users/zinengtang/repos",
            "events_url": "https://api.github.com/users/zinengtang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zinengtang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-15T16:41:55Z",
          "updated_at": "2023-01-15T16:41:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "> This is astounding work, @zinengtang!\r\n> \r\n> You seem to be very familiar with the Transformers code base already :D amazing job.\r\n> \r\n> I'll let @amyeroberts review the image processor, and asking our audio experts @sanchit-gandhi @ArthurZucker regarding the naming of the audio modality (whether we can go for audio_values or whether we should use something else).\r\n> \r\n> After that should be good to merge!\r\n\r\nThanks for the review! :)\r\nYou mentioned ViTMAE is more similar but it does not implement attention masks arguments. So, I reverted back to ViLT.\r\nLet me know if you have any other suggestions",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1383196441/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1384642715",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1384642715",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1384642715,
          "node_id": "IC_kwDOCUB6oc5Sh_ib",
          "user": {
            "login": "zinengtang",
            "id": 82334223,
            "node_id": "MDQ6VXNlcjgyMzM0MjIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/82334223?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zinengtang",
            "html_url": "https://github.com/zinengtang",
            "followers_url": "https://api.github.com/users/zinengtang/followers",
            "following_url": "https://api.github.com/users/zinengtang/following{/other_user}",
            "gists_url": "https://api.github.com/users/zinengtang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zinengtang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zinengtang/subscriptions",
            "organizations_url": "https://api.github.com/users/zinengtang/orgs",
            "repos_url": "https://api.github.com/users/zinengtang/repos",
            "events_url": "https://api.github.com/users/zinengtang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zinengtang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-16T22:54:19Z",
          "updated_at": "2023-01-16T22:54:19Z",
          "author_association": "CONTRIBUTOR",
          "body": "> @zinengtang Thanks for this PR and adding this model! I've just made a few comments regarding the image processor. Overall looks good, mainly just a few formatting points.\r\n\r\nThanks so much for your review. They look good to me! I resolved all changes and you may check if you want. :)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1384642715/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1387030273",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1387030273",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1387030273,
          "node_id": "IC_kwDOCUB6oc5SrGcB",
          "user": {
            "login": "NielsRogge",
            "id": 48327001,
            "node_id": "MDQ6VXNlcjQ4MzI3MDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/48327001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NielsRogge",
            "html_url": "https://github.com/NielsRogge",
            "followers_url": "https://api.github.com/users/NielsRogge/followers",
            "following_url": "https://api.github.com/users/NielsRogge/following{/other_user}",
            "gists_url": "https://api.github.com/users/NielsRogge/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NielsRogge/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NielsRogge/subscriptions",
            "organizations_url": "https://api.github.com/users/NielsRogge/orgs",
            "repos_url": "https://api.github.com/users/NielsRogge/repos",
            "events_url": "https://api.github.com/users/NielsRogge/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NielsRogge/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-18T12:58:13Z",
          "updated_at": "2023-01-18T12:58:13Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @zinengtang, could you push a commit to trigger the CI? Seems like not all tests are run and many are failing.\r\n\r\nAfter that, I'll assign one team member for a final review.\r\n\r\nThanks!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1387030273/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1387724663",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1387724663",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1387724663,
          "node_id": "IC_kwDOCUB6oc5Stv93",
          "user": {
            "login": "j-min",
            "id": 18069263,
            "node_id": "MDQ6VXNlcjE4MDY5MjYz",
            "avatar_url": "https://avatars.githubusercontent.com/u/18069263?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/j-min",
            "html_url": "https://github.com/j-min",
            "followers_url": "https://api.github.com/users/j-min/followers",
            "following_url": "https://api.github.com/users/j-min/following{/other_user}",
            "gists_url": "https://api.github.com/users/j-min/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/j-min/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/j-min/subscriptions",
            "organizations_url": "https://api.github.com/users/j-min/orgs",
            "repos_url": "https://api.github.com/users/j-min/repos",
            "events_url": "https://api.github.com/users/j-min/events{/privacy}",
            "received_events_url": "https://api.github.com/users/j-min/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-18T20:18:41Z",
          "updated_at": "2023-01-18T20:18:41Z",
          "author_association": "NONE",
          "body": "Hi @zinengtang, thanks for the amazing job! Btw I guess that some files were accidentally added in the vilt model directory (https://github.com/huggingface/transformers/pull/20725/files#diff-5342d82acaa480e404377ccc91a49b5203a3119b02c0dac89bcf147cb32e950e). Could you please check?\r\n\r\n<img width=\"370\" alt=\"image\" src=\"https://user-images.githubusercontent.com/18069263/213285759-fd9aab68-1df9-4ad9-99c8-f7ac9ea4f5f9.png\">\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1387724663/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1404064710",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1404064710",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1404064710,
          "node_id": "IC_kwDOCUB6oc5TsFPG",
          "user": {
            "login": "zinengtang",
            "id": 82334223,
            "node_id": "MDQ6VXNlcjgyMzM0MjIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/82334223?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zinengtang",
            "html_url": "https://github.com/zinengtang",
            "followers_url": "https://api.github.com/users/zinengtang/followers",
            "following_url": "https://api.github.com/users/zinengtang/following{/other_user}",
            "gists_url": "https://api.github.com/users/zinengtang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zinengtang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zinengtang/subscriptions",
            "organizations_url": "https://api.github.com/users/zinengtang/orgs",
            "repos_url": "https://api.github.com/users/zinengtang/repos",
            "events_url": "https://api.github.com/users/zinengtang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zinengtang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-25T18:43:49Z",
          "updated_at": "2023-01-25T18:43:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Please make your sure you address all comments (if there is a reason they don't work, please reply!) otherwise we won't be able to merge this.\r\n\r\nRegarding this issue, I replied earlier that vitmae does not have implementation of attention_mask and similar models like videomae/vit also do not have. Therefore, I used ViLT.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1404064710/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1405417093",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1405417093",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1405417093,
          "node_id": "IC_kwDOCUB6oc5TxPaF",
          "user": {
            "login": "zinengtang",
            "id": 82334223,
            "node_id": "MDQ6VXNlcjgyMzM0MjIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/82334223?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zinengtang",
            "html_url": "https://github.com/zinengtang",
            "followers_url": "https://api.github.com/users/zinengtang/followers",
            "following_url": "https://api.github.com/users/zinengtang/following{/other_user}",
            "gists_url": "https://api.github.com/users/zinengtang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zinengtang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zinengtang/subscriptions",
            "organizations_url": "https://api.github.com/users/zinengtang/orgs",
            "repos_url": "https://api.github.com/users/zinengtang/repos",
            "events_url": "https://api.github.com/users/zinengtang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zinengtang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-26T18:22:19Z",
          "updated_at": "2023-01-26T18:22:19Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Regarding this issue, I replied earlier that vitmae does not have implementation of attention_mask and similar models like videomae/vit also do not have. Therefore, I used ViLT.\r\n\r\n@amyeroberts here is my older comments. Let me know if you have any questions.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1405417093/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1406594323",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1406594323",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1406594323,
          "node_id": "IC_kwDOCUB6oc5T1u0T",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-27T14:41:06Z",
          "updated_at": "2023-01-27T14:41:06Z",
          "author_association": "COLLABORATOR",
          "body": "@zinengtang Great, thank you for clarifying :) ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1406594323/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1409848839",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1409848839",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1409848839,
          "node_id": "IC_kwDOCUB6oc5UCJYH",
          "user": {
            "login": "zinengtang",
            "id": 82334223,
            "node_id": "MDQ6VXNlcjgyMzM0MjIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/82334223?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zinengtang",
            "html_url": "https://github.com/zinengtang",
            "followers_url": "https://api.github.com/users/zinengtang/followers",
            "following_url": "https://api.github.com/users/zinengtang/following{/other_user}",
            "gists_url": "https://api.github.com/users/zinengtang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zinengtang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zinengtang/subscriptions",
            "organizations_url": "https://api.github.com/users/zinengtang/orgs",
            "repos_url": "https://api.github.com/users/zinengtang/repos",
            "events_url": "https://api.github.com/users/zinengtang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zinengtang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-31T06:45:09Z",
          "updated_at": "2023-01-31T06:45:09Z",
          "author_association": "CONTRIBUTOR",
          "body": "@sanchit-gandhi I have a question. How is it possible to move all masking code to TvltForPreTraining? The masking is done in encoding phase and therefore can only be done in TvltModel.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1409848839/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1409855900",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1409855900",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1409855900,
          "node_id": "IC_kwDOCUB6oc5UCLGc",
          "user": {
            "login": "zinengtang",
            "id": 82334223,
            "node_id": "MDQ6VXNlcjgyMzM0MjIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/82334223?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zinengtang",
            "html_url": "https://github.com/zinengtang",
            "followers_url": "https://api.github.com/users/zinengtang/followers",
            "following_url": "https://api.github.com/users/zinengtang/following{/other_user}",
            "gists_url": "https://api.github.com/users/zinengtang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zinengtang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zinengtang/subscriptions",
            "organizations_url": "https://api.github.com/users/zinengtang/orgs",
            "repos_url": "https://api.github.com/users/zinengtang/repos",
            "events_url": "https://api.github.com/users/zinengtang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zinengtang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-31T06:53:40Z",
          "updated_at": "2023-01-31T06:53:40Z",
          "author_association": "CONTRIBUTOR",
          "body": "Another question is that @amyeroberts suggests me to put the random part in feature extractor. But it seems [wav2vec](https://github.com/huggingface/transformers/blob/f0fc7912980234f3711b261f13b4e77fa7a43fb5/src/transformers/models/wav2vec2/modeling_wav2vec2.py#L133), as @sanchit-gandhi suggests, uses random in model forward phase. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1409855900/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1410788507",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1410788507",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1410788507,
          "node_id": "IC_kwDOCUB6oc5UFuyb",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-31T17:31:57Z",
          "updated_at": "2023-01-31T17:31:57Z",
          "author_association": "COLLABORATOR",
          "body": "@zinengtang My suggestion was to make sure any randomness in the image processor could be controlled by the user -- a seed could be passed in and each instance has its own state -- however the randomness was already there. I agree with @sanchit-gandhi that moving it out into the modeling stage would be better and should make things cleaner :) ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1410788507/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1411864557",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1411864557",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1411864557,
          "node_id": "IC_kwDOCUB6oc5UJ1ft",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-02-01T10:57:38Z",
          "updated_at": "2023-02-01T10:57:54Z",
          "author_association": "CONTRIBUTOR",
          "body": "Full motivations for moving the stochastic MAE masking into the modelling code can be found here: https://github.com/huggingface/transformers/pull/20725#discussion_r1090692949\r\n\r\n@zinengtang I see your point! So the way we can arrange it is:\r\n* We compute all the masks/permutations inside `TvltForPreTraining` \r\n* We pass these masks/permutations to `TvltModel`\r\n\r\nIn general, we can try and keep **as much** of the MAE training code in `TvltForPreTraining`. Where we require it in `TvltModel`, we can add it accordingly!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1411864557/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1413065677",
          "html_url": "https://github.com/huggingface/transformers/pull/20725#issuecomment-1413065677",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20725",
          "id": 1413065677,
          "node_id": "IC_kwDOCUB6oc5UOavN",
          "user": {
            "login": "zinengtang",
            "id": 82334223,
            "node_id": "MDQ6VXNlcjgyMzM0MjIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/82334223?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zinengtang",
            "html_url": "https://github.com/zinengtang",
            "followers_url": "https://api.github.com/users/zinengtang/followers",
            "following_url": "https://api.github.com/users/zinengtang/following{/other_user}",
            "gists_url": "https://api.github.com/users/zinengtang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zinengtang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zinengtang/subscriptions",
            "organizations_url": "https://api.github.com/users/zinengtang/orgs",
            "repos_url": "https://api.github.com/users/zinengtang/repos",
            "events_url": "https://api.github.com/users/zinengtang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zinengtang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-02-02T02:34:00Z",
          "updated_at": "2023-02-02T02:34:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks @NielsRogge I have addressed the comments. For audio-based VQA, it kinda depends on the users on how to use them but usually audio input should be the query/question.\r\n@amyeroberts @sanchit-gandhi thanks for the explanation! I have moved the masking generation to inside modeling file. Feel free to check if they match your expectation.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1413065677/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/29077/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/29077/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/29077/events",
      "html_url": "https://github.com/huggingface/transformers/pull/29077",
      "id": 2139899107,
      "node_id": "PR_kwDOCUB6oc5nKCnG",
      "number": 29077,
      "title": "New model support RTDETR",
      "user": {
        "login": "SangbumChoi",
        "id": 34004152,
        "node_id": "MDQ6VXNlcjM0MDA0MTUy",
        "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SangbumChoi",
        "html_url": "https://github.com/SangbumChoi",
        "followers_url": "https://api.github.com/users/SangbumChoi/followers",
        "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
        "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
        "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
        "repos_url": "https://api.github.com/users/SangbumChoi/repos",
        "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
        "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1843244711,
          "node_id": "MDU6TGFiZWwxODQzMjQ0NzEx",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/New%20model",
          "name": "New model",
          "color": "fbca04",
          "default": false,
          "description": ""
        },
        {
          "id": 6886428489,
          "node_id": "LA_kwDOCUB6oc8AAAABmnaPSQ",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/run-slow",
          "name": "run-slow",
          "color": "E1D519",
          "default": false,
          "description": ""
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 42,
      "created_at": "2024-02-17T08:34:49Z",
      "updated_at": "2024-06-24T13:55:59Z",
      "closed_at": "2024-06-21T16:50:08Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/29077",
        "html_url": "https://github.com/huggingface/transformers/pull/29077",
        "diff_url": "https://github.com/huggingface/transformers/pull/29077.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/29077.patch",
        "merged_at": "2024-06-21T16:50:08Z"
      },
      "body": "# What does this PR do?\r\n\r\nThis is the new model for RTDETR that is complete version from https://github.com/huggingface/transformers/pull/27247\r\n\r\nThere are several TO DOs\r\n\r\n- [X] reslove conflicts\r\n- [X] weight files for other 7 RTDETR\r\n- [X] Edit testing script\r\n- [X] (optional) enable training\r\n\r\n## Before submitting\r\n- [ ] This PR fixes a typo or improves the docs (you can dismiss the other checks if that's the case).\r\n- [X] Did you read the [contributor guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#create-a-pull-request),\r\n      Pull Request section?\r\n- [ ] Was this discussed/approved via a Github issue or the [forum](https://discuss.huggingface.co/)? Please add a link\r\n      to it if that's the case.\r\n- [X] Did you make sure to update the documentation with your changes? Here are the\r\n      [documentation guidelines](https://github.com/huggingface/transformers/tree/main/docs), and\r\n      [here are tips on formatting docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).\r\n- [X] Did you write any new necessary tests?\r\n\r\n\r\n## Who can review?\r\n\r\nAnyone in the community is free to review the PR once the tests have passed. Feel free to tag\r\nmembers/contributors who may be interested in your PR.\r\n\r\n<!-- Your PR will be replied to more quickly if you can figure out the right person to tag with @\r\n\r\n If you know how to use git blame, that is the easiest way, otherwise, here is a rough guide of **who to tag**.\r\n Please tag fewer than 3 people.\r\n\r\nModels:\r\n\r\n- text models: @ArthurZucker and @younesbelkada\r\n- vision models: @amyeroberts\r\n- speech models: @sanchit-gandhi\r\n- graph models: @clefourrier\r\n\r\nLibrary:\r\n\r\n- flax: @sanchit-gandhi\r\n- generate: @gante\r\n- pipelines: @Narsil\r\n- tensorflow: @gante and @Rocketknight1\r\n- tokenizers: @ArthurZucker\r\n- trainer: @muellerzr and @pacman100\r\n\r\nIntegrations:\r\n\r\n- deepspeed: HF Trainer/Accelerate: @pacman100\r\n- ray/raytune: @richardliaw, @amogkam\r\n- Big Model Inference: @SunMarc\r\n- quantization (bitsandbytes, autogpt): @SunMarc and @younesbelkada\r\n\r\nDocumentation: @stevhliu and @MKhalusova\r\n\r\nHF projects:\r\n\r\n- accelerate: [different repo](https://github.com/huggingface/accelerate)\r\n- datasets: [different repo](https://github.com/huggingface/datasets)\r\n- diffusers: [different repo](https://github.com/huggingface/diffusers)\r\n- rust tokenizers: [different repo](https://github.com/huggingface/tokenizers)\r\n\r\nMaintained examples (not research project or legacy):\r\n\r\n- Flax: @sanchit-gandhi\r\n- PyTorch: See Models above and tag the person corresponding to the modality of the example.\r\n- TensorFlow: @Rocketknight1\r\n\r\n -->\r\n\r\n@amyeroberts @NielsRogge",
      "closed_by": {
        "login": "amyeroberts",
        "id": 22614925,
        "node_id": "MDQ6VXNlcjIyNjE0OTI1",
        "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amyeroberts",
        "html_url": "https://github.com/amyeroberts",
        "followers_url": "https://api.github.com/users/amyeroberts/followers",
        "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
        "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
        "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
        "repos_url": "https://api.github.com/users/amyeroberts/repos",
        "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
        "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/29077/reactions",
        "total_count": 1,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 1,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/29077/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1953017600",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-1953017600",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 1953017600,
          "node_id": "IC_kwDOCUB6oc50aK8A",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-02-19T18:49:28Z",
          "updated_at": "2024-02-19T18:49:28Z",
          "author_association": "COLLABORATOR",
          "body": "Looking good @SangbumChoi! Let us know when the PR is ready for review \ud83e\udd17 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1953017600/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1975149222",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-1975149222",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 1975149222,
          "node_id": "IC_kwDOCUB6oc51umKm",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-03-03T12:46:38Z",
          "updated_at": "2024-03-03T12:46:38Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts Hi amy! I think I can pass all the test in this week. Similar to other last PRs that I opened, I resolved conversation which is very simple or fixed as your comment. However, I did not resolved conversation which might need you to confirm or TO DOs.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1975149222/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1983568106",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-1983568106",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 1983568106,
          "node_id": "IC_kwDOCUB6oc52Otjq",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-03-07T14:00:57Z",
          "updated_at": "2024-03-07T14:00:57Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts Hi amy, Finally I have passed all the mandatory pass for this model. I think it is a good timing for to request 2nd review for the PR! Personally I think there are 3 things to check.\r\n1. deepcopy issue\r\n2. postprocessing logic in image test\r\n3. modeloutput, objectdetection output order.\r\n\r\nAlso is it possible to have difference local pytest and ci test ?\r\nBelow is my test for local pytest\r\n==================================== 55 passed, 52 skipped, 8 warnings in 39.38s =====================================",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1983568106/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1999069978",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-1999069978",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 1999069978,
          "node_id": "IC_kwDOCUB6oc53J2Ma",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-03-15T07:17:44Z",
          "updated_at": "2024-03-15T07:17:44Z",
          "author_association": "CONTRIBUTOR",
          "body": "========================================= 55 passed, 52 skipped, 8 warnings in 43.14s =========================================\r\n\r\nHowever, intermediate commit or suggestion made slight difference in conversion.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1999069978/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2005642680",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-2005642680",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 2005642680,
          "node_id": "IC_kwDOCUB6oc53i624",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-03-19T02:38:33Z",
          "updated_at": "2024-03-19T08:44:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "It is weird that local pytest pass the all pass but ci seems to be failed\r\nfound out that error is related to https://github.com/huggingface/transformers/pull/26849/files\r\n\r\n(Turns out not merge the latset branch was the problem?)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2005642680/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2006394504",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-2006394504",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 2006394504,
          "node_id": "IC_kwDOCUB6oc53lyaI",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-03-19T09:01:15Z",
          "updated_at": "2024-03-19T09:01:15Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts Finally, I have passed the all test. However, there are few comments that is still not resolved could you review it again?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2006394504/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2021726051",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-2021726051",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 2021726051,
          "node_id": "IC_kwDOCUB6oc54gRdj",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-03-27T00:52:13Z",
          "updated_at": "2024-03-27T00:53:06Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts Hi amy! Finally, I think I have modified all the changes. Thanks again\r\nNow it is time for real final review (You can see the unresolved comments also) :)\r\n\r\nHere are the some future TO DOs that other contributors including myself for developing RT-DETR.\r\n1. Adding more models beside r-50 backbone.\r\n2. stablizing fine-tuning process (or might fix some bugs in fine-tuning)\r\n\r\nBTW, I think we can close following PRs if we merge this in to main branch!\r\nhttps://github.com/huggingface/transformers/pull/27247\r\nhttps://github.com/huggingface/transformers/issues/26742",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2021726051/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2031955594",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-2031955594",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 2031955594,
          "node_id": "IC_kwDOCUB6oc55HS6K",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-02T12:48:24Z",
          "updated_at": "2024-04-02T12:48:24Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts ping again for reminder!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2031955594/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2045639154",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-2045639154",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 2045639154,
          "node_id": "IC_kwDOCUB6oc557fny",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-09T16:44:23Z",
          "updated_at": "2024-04-09T16:44:23Z",
          "author_association": "COLLABORATOR",
          "body": "@NielsRogge Could you do a first (final) review? ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2045639154/reactions",
            "total_count": 3,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 3,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2050962687",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-2050962687",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 2050962687,
          "node_id": "IC_kwDOCUB6oc56PzT_",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-12T04:41:55Z",
          "updated_at": "2024-04-12T04:41:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "@NielsRogge Thanks for the first final review. I have addressed all the suggestion!\r\nHowever, I did not change about the image processor part especially related to panoptic. It is true that RT-DETR does not use the panoptic annotation currently. However, IMO that removing all the panoptic related changes need to remove all the copied from other DETR which I thought it was hard to keep track the originality. Do you still want to remove the panoptic related parts?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2050962687/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2060117734",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-2060117734",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 2060117734,
          "node_id": "IC_kwDOCUB6oc56yubm",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-17T00:33:46Z",
          "updated_at": "2024-04-17T00:33:46Z",
          "author_association": "CONTRIBUTOR",
          "body": "@NielsRogge Could you do second final review and share some thoughts about https://github.com/huggingface/transformers/pull/29077#issuecomment-2050962687 ?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2060117734/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2103327841",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-2103327841",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 2103327841,
          "node_id": "IC_kwDOCUB6oc59Xjxh",
          "user": {
            "login": "NielsRogge",
            "id": 48327001,
            "node_id": "MDQ6VXNlcjQ4MzI3MDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/48327001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NielsRogge",
            "html_url": "https://github.com/NielsRogge",
            "followers_url": "https://api.github.com/users/NielsRogge/followers",
            "following_url": "https://api.github.com/users/NielsRogge/following{/other_user}",
            "gists_url": "https://api.github.com/users/NielsRogge/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NielsRogge/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NielsRogge/subscriptions",
            "organizations_url": "https://api.github.com/users/NielsRogge/orgs",
            "repos_url": "https://api.github.com/users/NielsRogge/repos",
            "events_url": "https://api.github.com/users/NielsRogge/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NielsRogge/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-09T19:59:56Z",
          "updated_at": "2024-05-09T19:59:56Z",
          "author_association": "CONTRIBUTOR",
          "body": "Sorry made a mistake, thought I assigned Amy for review but apparently I removed the request.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2103327841/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2103780926",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-2103780926",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 2103780926,
          "node_id": "IC_kwDOCUB6oc59ZSY-",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-10T03:13:33Z",
          "updated_at": "2024-05-10T03:13:33Z",
          "author_association": "CONTRIBUTOR",
          "body": "@jasonkit Do you also have logits for original RTDETR for comparison?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2103780926/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2103787570",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-2103787570",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 2103787570,
          "node_id": "IC_kwDOCUB6oc59ZUAy",
          "user": {
            "login": "jasonkit",
            "id": 359788,
            "node_id": "MDQ6VXNlcjM1OTc4OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/359788?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jasonkit",
            "html_url": "https://github.com/jasonkit",
            "followers_url": "https://api.github.com/users/jasonkit/followers",
            "following_url": "https://api.github.com/users/jasonkit/following{/other_user}",
            "gists_url": "https://api.github.com/users/jasonkit/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jasonkit/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jasonkit/subscriptions",
            "organizations_url": "https://api.github.com/users/jasonkit/orgs",
            "repos_url": "https://api.github.com/users/jasonkit/repos",
            "events_url": "https://api.github.com/users/jasonkit/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jasonkit/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-10T03:22:31Z",
          "updated_at": "2024-05-10T03:22:31Z",
          "author_association": "CONTRIBUTOR",
          "body": "@SangbumChoi \r\n> Do you also have logits for original RTDETR for comparison?\r\n\r\nUnfortunately no, I want to ask you for that actually.\r\n\r\nFor my conversion, I just skip the check (however the output look correct when compare to `rtdetr_50vd` 's result, just difference in the ordering)\r\n\r\nI can share my **Converted (NOT the original) model's output** on`rtdetr_r101vd` here for your reference\r\n```\r\nlogits:\r\ntensor([[-4.6162, -4.9189, -4.6656],\r\n        [-4.4701, -4.4997, -4.9658],\r\n        [-5.6641, -7.9000, -5.0725]])\r\n        \r\nboxes:\r\ntensor([[0.7707, 0.4124, 0.4585],\r\n        [0.2589, 0.5492, 0.4735],\r\n        [0.1688, 0.1993, 0.2108]])\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2103787570/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2103789109",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-2103789109",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 2103789109,
          "node_id": "IC_kwDOCUB6oc59ZUY1",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-10T03:24:51Z",
          "updated_at": "2024-05-10T03:24:51Z",
          "author_association": "CONTRIBUTOR",
          "body": "@jasonkit Let me check on that part after work!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2103789109/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2104441714",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-2104441714",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 2104441714,
          "node_id": "IC_kwDOCUB6oc59bzty",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-10T11:26:16Z",
          "updated_at": "2024-05-10T11:27:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "@jasonkit This is the original result which is same as the prediction :)\r\n```\r\n(tensor([[[-4.6162, -4.9189, -4.6656],\r\n          [-4.4701, -4.4997, -4.9659],\r\n          [-5.6641, -7.9000, -5.0725]]], device='cuda:0',\r\n        grad_fn=<SliceBackward0>),\r\n tensor([[[0.7707, 0.4124, 0.4585],\r\n          [0.2589, 0.5492, 0.4735],\r\n          [0.1688, 0.1993, 0.2108]]], device='cuda:0', grad_fn=<SliceBackward0>))\r\n```\r\n[rt_detr.ipynb.zip](https://github.com/huggingface/transformers/files/15274407/rt_detr.ipynb.zip)\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2104441714/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2104456121",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-2104456121",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 2104456121,
          "node_id": "IC_kwDOCUB6oc59b3O5",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-10T11:37:13Z",
          "updated_at": "2024-05-10T11:37:13Z",
          "author_association": "CONTRIBUTOR",
          "body": "@jasonkit Thanks for the help, https://huggingface.co/sbchoi I uploaded two R101 network \ud83d\udc4d\ud83c\udffc ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2104456121/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2104459087",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-2104459087",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 2104459087,
          "node_id": "IC_kwDOCUB6oc59b39P",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-10T11:39:33Z",
          "updated_at": "2024-05-10T11:39:33Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts Hi amy, jasonkit also helped to enhance this PR! FYI, fine-tuning on custom dataset quality has been more stabilized and also two other pretrained networks which are [R101, R101-O365](https://huggingface.co/sbchoi) has been added!\r\n\r\nI think it is the final request for the reviewing PR.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2104459087/reactions",
            "total_count": 3,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 3,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2117655419",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-2117655419",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 2117655419,
          "node_id": "IC_kwDOCUB6oc5-ONt7",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-17T13:50:42Z",
          "updated_at": "2024-05-17T13:50:42Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_29077). All of your documentation changes will be reflected on that endpoint. The docs are available until 30 days after the last update.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2117655419/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2117712672",
          "html_url": "https://github.com/huggingface/transformers/pull/29077#issuecomment-2117712672",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29077",
          "id": 2117712672,
          "node_id": "IC_kwDOCUB6oc5-Obsg",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-17T14:16:57Z",
          "updated_at": "2024-05-17T14:16:57Z",
          "author_association": "CONTRIBUTOR",
          "body": "@NielsRogge Hi niels!\r\n> Only thing left to do is update the checkpoints and have a final slow model tests run on these\r\n\r\nCan you help me on this task?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2117712672/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/24745/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/24745/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/24745/events",
      "html_url": "https://github.com/huggingface/transformers/pull/24745",
      "id": 1798336665,
      "node_id": "PR_kwDOCUB6oc5VK5yb",
      "number": 24745,
      "title": "Add CLVP",
      "user": {
        "login": "susnato",
        "id": 56069179,
        "node_id": "MDQ6VXNlcjU2MDY5MTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/susnato",
        "html_url": "https://github.com/susnato",
        "followers_url": "https://api.github.com/users/susnato/followers",
        "following_url": "https://api.github.com/users/susnato/following{/other_user}",
        "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
        "organizations_url": "https://api.github.com/users/susnato/orgs",
        "repos_url": "https://api.github.com/users/susnato/repos",
        "events_url": "https://api.github.com/users/susnato/events{/privacy}",
        "received_events_url": "https://api.github.com/users/susnato/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 35,
      "created_at": "2023-07-11T07:50:32Z",
      "updated_at": "2023-11-10T13:49:11Z",
      "closed_at": "2023-11-10T13:49:10Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/24745",
        "html_url": "https://github.com/huggingface/transformers/pull/24745",
        "diff_url": "https://github.com/huggingface/transformers/pull/24745.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/24745.patch",
        "merged_at": "2023-11-10T13:49:10Z"
      },
      "body": "# What does this PR do?\r\n\r\n<!--\r\nCongratulations! You've made it this far! You're not quite done yet though.\r\n\r\nOnce merged, your PR is going to appear in the release notes with the title you set, so make sure it's a great title that fully reflects the extent of your awesome contribution.\r\n\r\nThen, please replace this with a description of the change and which issue is fixed (if applicable). Please also include relevant motivation and context. List any dependencies (if any) that are required for this change.\r\n\r\nOnce you're done, someone will review your PR shortly (see the section \"Who can review?\" below to tag some potential reviewers). They may suggest changes to make the code even better. If no one reviewed your PR after a week has passed, don't hesitate to post a new comment @-mentioning the same persons---sometimes notifications get lost.\r\n-->\r\n\r\n<!-- Remove if not applicable -->\r\n\r\nAdds CLVP, which is an integral part of `tortoise-tts`. \r\nRequired for `tortoise-tts` integration in HF diffusers(Please see [this issue](https://github.com/huggingface/diffusers/issues/3891)). \r\n\r\n\r\n## Before submitting\r\n- [ ] This PR fixes a typo or improves the docs (you can dismiss the other checks if that's the case).\r\n- [x] Did you read the [contributor guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#start-contributing-pull-requests),\r\n      Pull Request section?\r\n- [x] Was this discussed/approved via a Github issue or the [forum](https://discuss.huggingface.co/)? Please add a link\r\n      to it if that's the case. ([link](https://github.com/huggingface/diffusers/issues/3891))\r\n- [x] Did you make sure to update the documentation with your changes? Here are the\r\n      [documentation guidelines](https://github.com/huggingface/transformers/tree/main/docs), and\r\n      [here are tips on formatting docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).\r\n- [x] Did you write any new necessary tests?\r\n\r\n\r\n## Who can review?\r\n\r\nAnyone in the community is free to review the PR once the tests have passed. Feel free to tag\r\nmembers/contributors who may be interested in your PR.\r\n\r\n<!-- Your PR will be replied to more quickly if you can figure out the right person to tag with @\r\n\r\n If you know how to use git blame, that is the easiest way, otherwise, here is a rough guide of **who to tag**.\r\n Please tag fewer than 3 people.\r\n\r\nModels:\r\n\r\n- text models: @ArthurZucker and @younesbelkada\r\n- vision models: @amyeroberts\r\n- speech models: @sanchit-gandhi\r\n- graph models: @clefourrier\r\n\r\nLibrary:\r\n\r\n- flax: @sanchit-gandhi\r\n- generate: @gante\r\n- pipelines: @Narsil\r\n- tensorflow: @gante and @Rocketknight1\r\n- tokenizers: @ArthurZucker\r\n- trainer: @sgugger\r\n\r\nIntegrations:\r\n\r\n- deepspeed: HF Trainer/Accelerate: @pacman100\r\n- ray/raytune: @richardliaw, @amogkam\r\n\r\nDocumentation: @sgugger, @stevhliu and @MKhalusova\r\n\r\nHF projects:\r\n\r\n- accelerate: [different repo](https://github.com/huggingface/accelerate)\r\n- datasets: [different repo](https://github.com/huggingface/datasets)\r\n- diffusers: [different repo](https://github.com/huggingface/diffusers)\r\n- rust tokenizers: [different repo](https://github.com/huggingface/tokenizers)\r\n\r\nMaintained examples (not research project or legacy):\r\n\r\n- Flax: @sanchit-gandhi\r\n- PyTorch: @sgugger\r\n- TensorFlow: @Rocketknight1\r\n\r\n -->",
      "closed_by": {
        "login": "amyeroberts",
        "id": 22614925,
        "node_id": "MDQ6VXNlcjIyNjE0OTI1",
        "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amyeroberts",
        "html_url": "https://github.com/amyeroberts",
        "followers_url": "https://api.github.com/users/amyeroberts/followers",
        "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
        "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
        "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
        "repos_url": "https://api.github.com/users/amyeroberts/repos",
        "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
        "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/24745/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/24745/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1630327533",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1630327533",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1630327533,
          "node_id": "IC_kwDOCUB6oc5hLNLt",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-11T07:51:09Z",
          "updated_at": "2023-07-11T07:51:09Z",
          "author_association": "CONTRIBUTOR",
          "body": "cc: @sanchit-gandhi, @dg845",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1630327533/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 2,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1634166191",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1634166191",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1634166191,
          "node_id": "IC_kwDOCUB6oc5hZ2Wv",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-13T12:34:49Z",
          "updated_at": "2023-07-13T12:34:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "Very cool @susnato! Let me know if you have any questions / queries - more than happy to lend a hand here!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1634166191/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1636429716",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1636429716",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1636429716,
          "node_id": "IC_kwDOCUB6oc5hie-U",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-14T20:55:50Z",
          "updated_at": "2023-07-14T20:55:50Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_24745). All of your documentation changes will be reflected on that endpoint.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1636429716/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1636440297",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1636440297",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1636440297,
          "node_id": "IC_kwDOCUB6oc5hihjp",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-14T21:01:05Z",
          "updated_at": "2023-07-21T05:47:51Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @sanchit-gandhi, this PR is ready for review!\r\n\r\nSome notes related to this design I wanted to mention - \r\n1. Although CLIP has both tokenizer and Image Processor, in tortoise the text is encoded and pushed into both the autoregressive model and the CLVP model so I think its better to have only one tokenizer(for tortoise) and encoding the text one time and pushing it to both of the models rather than defining a seperate tokenization_clvp.py.\r\n2. Instead of processing Images and checking which image fits the description(from text) best, CLVP compares Speech Token Candidates and text. The speech tokens come from the output of the auto-regressive model itself, so we don't need the Image Processor too!\r\n3. CLVP uses Rotary Position Embeddings.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1636440297/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1666535733",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1666535733",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1666535733,
          "node_id": "IC_kwDOCUB6oc5jVVE1",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-08-05T15:34:29Z",
          "updated_at": "2023-08-05T15:45:38Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hello @sanchit-gandhi I have - \r\n-  pushed the changed that you asked.\r\n- implemented the tokenizer and respective tests.\r\n\r\nFor the `Feature Extractor` I wanted to ask some things before going forward - \r\n\r\n`CLVP` compares the text embeddings generated by the tokenizer and the latent speech embeddings generated by an autoregressive model(here `gpt2`),  So IMO we need a Feature Extractor which generates latent embeddings, in other words the feature extractor must take the tokenizer's outputs and then apply a gpt2 model on it and then give us the output. But I don't think that it complies with the design of the library. (I don't know any Feature Extractor which uses another transformer model for processing. :(  )\r\n\r\nIn CLIP it was reasonable to use a Feature Extractor to just read images but I don't think it will be straight forward in this case.\r\n\r\nSo how should we design the Feature Extractor and what are your thoughts on this?   ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1666535733/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1677814881",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1677814881",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1677814881,
          "node_id": "IC_kwDOCUB6oc5kAWxh",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-08-14T17:54:52Z",
          "updated_at": "2023-08-14T17:59:15Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ylacombe thanks a lot for the guidance!\r\n\r\nI have a small doubt/question about the `Prenet` part - \r\nI believe that we must add an autoregressive model in the prenet after the MEL encoder. The reasons are that \r\n\r\n- The speech inputs(mel spectrograms) will be passed to the prenet and then to the speech transformer(`feature extractor->prenet->speech transformer`) and since the speech transformer has an embedding layer at the front, it will give us error if we directly pass the outputs of the [mel encoder](https://github.com/neonbjb/tortoise-tts/blob/3c4d9c51316cd2421cc2dea11ac3a7a2d3394acd/tortoise/models/autoregressive.py#L198) to the transformer. So we must use the autoregressive model to convert the outputs of the `mel encoder` into `codes` and then pass it to the `speech transformer`. \r\n- Also the CLVP speech transformer was trained to differentiate between `text tokens `and the `codes` generated by an `gpt2` so it only makes sense to have the `gpt2` model in the pipeline.   \r\n\r\n\r\nSo to wrap it up I would suggest something like - \r\n\r\n```python\r\nfrom transformers import GPT2LMHeadModel    # the autoregressive model\r\n\r\nclass CLVPPrenet(nn.Module):\r\n    def __init__(cfg):\r\n        super().__init__()\r\n        self.mel_encoder = CLVPMelEncoder(cfg)\r\n        self.autoreg = GPT2LMHeadModel(cfg)\r\n   def forward(self, voice_mel_spectrograms, text_tokens):\r\n       x = self.mel_encoder(voice_mel_spectrograms)\r\n       # similar to this line - https://github.com/neonbjb/tortoise-tts/blob/3c4d9c51316cd2421cc2dea11ac3a7a2d3394acd/tortoise/api.py#L416\r\n       codes = self.autoreg.generate(x, text_tokens)\r\n       \r\n       return codes\r\n```\r\n\r\nAnd the `CLVPFeatureExtractor` will only care about outputting `mel spectrograms` as you said.\r\n\r\nPlease let me know what do you think of this design.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1677814881/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1678578741",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1678578741",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1678578741,
          "node_id": "IC_kwDOCUB6oc5kDRQ1",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-08-15T08:20:39Z",
          "updated_at": "2023-08-15T08:20:39Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @susnato,\r\nIndeed, it makes sense to add all the submodels that are used by the model, so I agree to add them to your modeling code.\r\n\r\nOne note though: you shouldn't mix forward and generate in your forward pass, as this mixes two different concepts and as users might want to pass some specific generate kwargs when generating.\r\n\r\nA possible solution for that is to bypass the use of the `CLVPPrenet` and to directly use `CLVPMelEncoder` and `GPT2LMHeadModel` in your final model.  (and at the end of the day, using them during the final model.generate)\r\n\r\nTwo last things to consider is that:\r\n1. you should check that the gpt2 model of the original code indeed corresponds to our `GPT2LMHeadModel` before using it\r\n2. If it corresponds, you might want to load it with the `AutoModel` class (which will load `GPT2LMHeadModel` if the config is correctly set!)\r\n\r\n\r\nLet me know if you have more questions!\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1678578741/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1695666326",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1695666326",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1695666326,
          "node_id": "IC_kwDOCUB6oc5lEdCW",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-08-28T13:05:06Z",
          "updated_at": "2023-08-28T13:05:06Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ylacombe first of all apologies for the huge delay. I have pushed some major changes - \r\n\r\n- Added Feature Extractor and the tests\r\n- Added Processor and the tests\r\n- Added `CLVPAutoRegressiveLMHeadModel` which is just a `GPT2LMHeadModel` but with changes to make sure that the outputs are same\r\n- Added a `generate()` method to the `CLVPModel` which calls the `CLVPAutoRegressiveLMHeadModel`'s generate method to get `speech_ids` and then processes it using the speech model.\r\n- reworked the tests.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1695666326/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1709199897",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1709199897",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1709199897,
          "node_id": "IC_kwDOCUB6oc5l4FIZ",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-06T22:18:24Z",
          "updated_at": "2023-09-07T12:11:44Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ylacombe , I have addressed all of your comments except these 3 - \r\n- For [this](https://github.com/huggingface/transformers/pull/24745#discussion_r1313185072) and [this](https://github.com/huggingface/transformers/pull/24745#discussion_r1314639079) I am still waiting for the views/thoughts of  @ArthurZucker, @sanchit-gandhi and @amyeroberts before proceeding.\r\n- For the [comment](https://github.com/huggingface/transformers/pull/24745#discussion_r1312992773) related to adding `CLVPTokenizerFast`, I have asked some additional questions in that thread.\r\n\r\nPlease review it and let me know if more changes are needed or not other than those 3.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1709199897/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1720076734",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1720076734",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1720076734,
          "node_id": "IC_kwDOCUB6oc5mhkm-",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-14T20:11:20Z",
          "updated_at": "2023-09-14T20:21:16Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ylacombe, I have pushed the changes you asked in your last review and answered the questions in their respective thread.\r\n> Anyways, I left some small comments, mostly nits. My last request would be to verify that your model also work when passing multiple audio inputs, since I only code snippets with mostly one sample. Does batching correctly work with CLVP ?\r\n\r\nAs I see this, there are 4 possible batching scenarios :\r\n- [x] 1 Text vs N Audios \r\nHere we just repeat the text tokens N times, such that we are generating different responses of the same text with different voices.\r\n- [x] N Texts vs 1 Audio\r\nHere we just repeat the audio N times, such that we are generating responses for multiple texts with the same voice.\r\n- [x] N Texts vs N Audios\r\nHere we generate the response in a way that the 2nd response will be generated using the 2nd text and the 2nd audio.\r\n- [ ] N Texts vs M Audio\r\nThis is where it gets messy. We throw a [Value error here](https://github.com/susnato/transformers/blob/fbbff32b5d611a08804c1be7a63498901040753a/src/transformers/models/clvp/modeling_clvp.py#L520) because we don't know which text correspond to which audio. We can improve this by considering that each text corresponds to every audio and generating N*M speech candidates and comparing them with N Texts.\r\n\r\nSo , yes the batching works for CLVP except the last scenario(as of now).",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1720076734/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1721395103",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1721395103",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1721395103,
          "node_id": "IC_kwDOCUB6oc5mmmef",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-15T14:41:39Z",
          "updated_at": "2023-09-15T14:41:39Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker, just to be clear on the naming part - \r\nWe will have 3 configs - `ClvpTextAndSpeechConfig`, `ClvpDecoderConfig` and `ClvpConfig` to bind them. \r\n\r\nFor the models we will have `ClvpTextAndSpeechModel` (which is the `CLVPTransformerWithProjection`), `ClvpDecoder`,  `ClvpDecoderLMHead` and will keep the `ClvpModel` as it is.\r\n\r\nDo you approve these naming? ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1721395103/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1721712679",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1721712679",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1721712679,
          "node_id": "IC_kwDOCUB6oc5mn0An",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-15T18:57:38Z",
          "updated_at": "2023-09-15T18:57:38Z",
          "author_association": "COLLABORATOR",
          "body": "Let's forget about the `TextAndSpeech` it's just a general transformers. We could just have a `ClvpEncoderConfig`  (encoder that can be used for both the speech and the text encoder)  `ClvpDecoderConfig` and the `ClvpConfig`. \r\nRegarding the modeling, `ClvpEncoder`, `ClvpDecoder` ,  `ClvpPretrainedModel`, ,`ClvpModel` and `ClvpModelForConditionalGeneration` . You should really have a look at `MusicGen`'s modelling code \ud83d\ude09 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1721712679/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1727983800",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1727983800",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1727983800,
          "node_id": "IC_kwDOCUB6oc5m_vC4",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-20T15:44:51Z",
          "updated_at": "2023-09-20T15:44:51Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker, I have refactored both the `modeling` code and `checkpoint conversion` code and worked on your comments. \r\nFor the modeling code I have taken inspiration from the `MusicGen` and for the checkpoint script I have followed the `Whisper` (as you suggested). ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1727983800/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1739390857",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1739390857",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1739390857,
          "node_id": "IC_kwDOCUB6oc5nrP-J",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-28T14:37:37Z",
          "updated_at": "2023-09-28T14:37:37Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ylacombe, I have pushed the changes and answered the remaining question [here](https://github.com/huggingface/transformers/pull/24745#discussion_r1340236251). ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1739390857/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1739452501",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1739452501",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1739452501,
          "node_id": "IC_kwDOCUB6oc5nrfBV",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-28T14:57:56Z",
          "updated_at": "2023-09-28T14:57:56Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @susnato, let's discuss the remaining question [here](https://github.com/huggingface/transformers/pull/24745#discussion_r1340236251) before asking @ArthurZucker to review!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1739452501/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1744626261",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1744626261",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1744626261,
          "node_id": "IC_kwDOCUB6oc5n_OJV",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-03T09:55:04Z",
          "updated_at": "2023-10-03T09:55:04Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @susnato - would you mind marking all completed conversations as 'resolved'? This greatly helps the next reviewer know which parts of the PR are still pending, and which are complete. I'll endeavour to provide you with a review as soon as possible after this! Ping me as soon as you've done so and I'll get you a review \ud83e\udd17",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1744626261/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1744674226",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1744674226",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1744674226,
          "node_id": "IC_kwDOCUB6oc5n_Z2y",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-03T10:24:27Z",
          "updated_at": "2023-10-03T10:24:27Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @sanchit-gandhi , I have marked all completed conversations as 'resolved'. Here is a brief explanation about the changes from your last review - \r\n- Feature Extractor and Tokenizer of `tortoise-tts` have been implemented for this model.\r\n- we have incorporated the `autoregressive model` and `conditional_encoder` from `tortoise-tts` here. They are called `ClvpDecoder` and `ClvpConditioningEncoder` respectively. Also we have introduced `ClvpDecoderConfig` to store the configs for decoder.\r\n- The Clvp text and speech model's have been squeezed into a single `ClvpEncoder` to reduce reduncancy also their configs(`clvptextconfig` and `clvpspeechconfig`) have been reduced to `ClvpEncoderConfig`.\r\n- We have implemented a single model `ClvpForConditionalGeneration` which takes care for the decoder and encoder models. `ClvpForConditionalGeneration.generate()` first calls the generate of the `ClvpDecoder`(`autoregressive_model`) and generates the `speech_candidates` and right after that it applies the both text and speech encoders (`ClvpEncoder`) to filter out the best candidates (just as clvp does.)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1744674226/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1747101069",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1747101069",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1747101069,
          "node_id": "IC_kwDOCUB6oc5oIqWN",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-04T15:14:56Z",
          "updated_at": "2023-10-05T16:59:41Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @sanchit-gandhi , I have pushed the changes except [this](https://github.com/huggingface/transformers/pull/24745#discussion_r1344603740), [this](https://github.com/huggingface/transformers/pull/24745#discussion_r1344246928) and [this](https://github.com/huggingface/transformers/pull/24745#discussion_r1343917195).\r\nI have mentioned the reasons in their respective threads.\r\n\r\nAlso I have marked all implemented comments as resolved.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1747101069/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1751181163",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1751181163",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1751181163,
          "node_id": "IC_kwDOCUB6oc5oYOdr",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-06T17:46:30Z",
          "updated_at": "2023-10-06T17:46:30Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @sanchit-gandhi , I have modified the tokenizer to output two sets of `input_ids`. Let me know if you are ok with the change.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1751181163/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1761074265",
          "html_url": "https://github.com/huggingface/transformers/pull/24745#issuecomment-1761074265",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24745",
          "id": 1761074265,
          "node_id": "IC_kwDOCUB6oc5o99xZ",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-13T07:57:34Z",
          "updated_at": "2023-10-13T07:57:34Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker, I have pushed the changes that you requested in the last review.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1761074265/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/26087/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/26087/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/26087/events",
      "html_url": "https://github.com/huggingface/transformers/pull/26087",
      "id": 1889611853,
      "node_id": "PR_kwDOCUB6oc5Z-bhu",
      "number": 26087,
      "title": "Adding grounding dino",
      "user": {
        "login": "EduardoPach",
        "id": 69953243,
        "node_id": "MDQ6VXNlcjY5OTUzMjQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/EduardoPach",
        "html_url": "https://github.com/EduardoPach",
        "followers_url": "https://api.github.com/users/EduardoPach/followers",
        "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
        "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
        "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
        "repos_url": "https://api.github.com/users/EduardoPach/repos",
        "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
        "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 42,
      "created_at": "2023-09-11T04:04:20Z",
      "updated_at": "2024-04-11T07:32:16Z",
      "closed_at": "2024-04-11T07:32:16Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/26087",
        "html_url": "https://github.com/huggingface/transformers/pull/26087",
        "diff_url": "https://github.com/huggingface/transformers/pull/26087.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/26087.patch",
        "merged_at": "2024-04-11T07:32:16Z"
      },
      "body": "# What does this PR do?\r\n\r\nThis PR adds Grounding DINO\r\n\r\nFixes https://github.com/huggingface/transformers/issues/25423\r\n\r\nTo-Do's:\r\n\r\n- [x] Port vision backbone \r\n- [x] Port Text Backbone\r\n- [x] Port Encoder\r\n- [x] Port Decoder\r\n- [x] Port tokenizer\r\n- [x] Port Image processing\r\n- [x] Validate results\r\n- [x] Check documentation\r\n",
      "closed_by": {
        "login": "amyeroberts",
        "id": 22614925,
        "node_id": "MDQ6VXNlcjIyNjE0OTI1",
        "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amyeroberts",
        "html_url": "https://github.com/amyeroberts",
        "followers_url": "https://api.github.com/users/amyeroberts/followers",
        "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
        "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
        "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
        "repos_url": "https://api.github.com/users/amyeroberts/repos",
        "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
        "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/26087/reactions",
        "total_count": 1,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 1
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/26087/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1715613124",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1715613124",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1715613124,
          "node_id": "IC_kwDOCUB6oc5mQi3E",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-12T12:16:31Z",
          "updated_at": "2023-09-12T12:16:31Z",
          "author_association": "COLLABORATOR",
          "body": "@EduardoPach Thanks for opening this model PR! From next week, I'll be away for a few weeks. If you need a review in that time please ping @rafaelpadilla. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1715613124/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1727964630",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1727964630",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1727964630,
          "node_id": "IC_kwDOCUB6oc5m_qXW",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-20T15:33:43Z",
          "updated_at": "2023-09-20T15:33:43Z",
          "author_association": "CONTRIBUTOR",
          "body": "@rafaelpadilla hey, so I've finished implementing the model and validated with the original implementation. Still have to clean up some things and make sure the documentation is correct. \n\nMy main question is about pushing the model to the hub, because the authors uploaded already the checkpoints (two checkpoints in the same repo) they made available to the model, but it's under an user instead of their org (IDEA-Research), what is usually done in this case?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1727964630/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1730005964",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1730005964",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1730005964,
          "node_id": "IC_kwDOCUB6oc5nHcvM",
          "user": {
            "login": "rafaelpadilla",
            "id": 31217453,
            "node_id": "MDQ6VXNlcjMxMjE3NDUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/31217453?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rafaelpadilla",
            "html_url": "https://github.com/rafaelpadilla",
            "followers_url": "https://api.github.com/users/rafaelpadilla/followers",
            "following_url": "https://api.github.com/users/rafaelpadilla/following{/other_user}",
            "gists_url": "https://api.github.com/users/rafaelpadilla/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rafaelpadilla/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rafaelpadilla/subscriptions",
            "organizations_url": "https://api.github.com/users/rafaelpadilla/orgs",
            "repos_url": "https://api.github.com/users/rafaelpadilla/repos",
            "events_url": "https://api.github.com/users/rafaelpadilla/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rafaelpadilla/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-21T17:26:11Z",
          "updated_at": "2023-09-21T17:26:11Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @EduardoPach ,\r\n\r\nAre you referring to `groundingdino_swinb_cogcoor.pth` and `groundingdino_swint_ogc.pth`, placed [here](https://huggingface.co/ShilongLiu/GroundingDINO/tree/main), right?\r\n\r\nIn this case, let's consult @ArthurZucker and @younesbelkada. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1730005964/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1730053017",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1730053017",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1730053017,
          "node_id": "IC_kwDOCUB6oc5nHoOZ",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-21T18:00:00Z",
          "updated_at": "2023-09-21T18:00:00Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Hi @EduardoPach ,\n> \n> \n> \n> Are you referring to `groundingdino_swinb_cogcoor.pth` and `groundingdino_swint_ogc.pth`, placed [here](https://huggingface.co/ShilongLiu/GroundingDINO/tree/main), right?\n> \n> \n> \n> In this case, let's consult @ArthurZucker and @younesbelkada. \n\nPrecisely, I'm asking this because I had the impression that model repos contain only one checkpoint and also the IDEA-Research group has other models that we've could add to the transformers library later on so it might be helpful if there was an account for this org.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1730053017/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1730580501",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1730580501",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1730580501,
          "node_id": "IC_kwDOCUB6oc5nJpAV",
          "user": {
            "login": "rafaelpadilla",
            "id": 31217453,
            "node_id": "MDQ6VXNlcjMxMjE3NDUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/31217453?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rafaelpadilla",
            "html_url": "https://github.com/rafaelpadilla",
            "followers_url": "https://api.github.com/users/rafaelpadilla/followers",
            "following_url": "https://api.github.com/users/rafaelpadilla/following{/other_user}",
            "gists_url": "https://api.github.com/users/rafaelpadilla/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rafaelpadilla/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rafaelpadilla/subscriptions",
            "organizations_url": "https://api.github.com/users/rafaelpadilla/orgs",
            "repos_url": "https://api.github.com/users/rafaelpadilla/repos",
            "events_url": "https://api.github.com/users/rafaelpadilla/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rafaelpadilla/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-22T00:57:18Z",
          "updated_at": "2023-09-22T00:57:18Z",
          "author_association": "CONTRIBUTOR",
          "body": "> > Hi @EduardoPach ,\r\n> > Are you referring to `groundingdino_swinb_cogcoor.pth` and `groundingdino_swint_ogc.pth`, placed [here](https://huggingface.co/ShilongLiu/GroundingDINO/tree/main), right?\r\n> > In this case, let's consult @ArthurZucker and @younesbelkada.\r\n> \r\n> Precisely, I'm asking this because I had the impression that model repos contain only one checkpoint and also the IDEA-Research group has other models that we've could add to the transformers library later on so it might be helpful if there was an account for this org.\r\n\r\nFor now, you can upload weights to the hub under your own personal profile and use them until this PR is ready to merge. \r\nAfterwards, we'll move the weights under the organization on the hub, and update all the paths to point to those.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1730580501/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1733564548",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1733564548",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1733564548,
          "node_id": "IC_kwDOCUB6oc5nVBiE",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-25T12:10:07Z",
          "updated_at": "2023-09-25T12:10:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @EduardoPach \r\nI second what @rafaelpadilla said, for the `groundingdino_swinb_cogcoor.pth` and `groundingdino_swint_ogc.pth` you can create two different repositories under your personal name space with a suffix that is distinguishable (e.g. `yournamespace/groundingdino-swinb-cogcoor` and `yournamespace/groundingdino-swint-ogc`,  and make sure the files has been renamed to `pytorch_model.bin`",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1733564548/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1747770872",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1747770872",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1747770872,
          "node_id": "IC_kwDOCUB6oc5oLN34",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-04T23:12:21Z",
          "updated_at": "2023-10-04T23:12:21Z",
          "author_association": "CONTRIBUTOR",
          "body": "@rafaelpadilla Hey! Could you help me out with these questions?\r\n\r\n1. The `ImageProcessor` from the original implementation is exactly the same as we have in `DeformableDetr`. Should I copy the `ImageProcessor` and just remove the segmentation-related things? (Since `GroundingDINO` is used only for Object Detection)\r\n2. Their tokenizer is the same as `Bert` with a few extra steps after tokenizing so I copied and added this step, but I'm unsure how to push the pre-trained tokenizer to the hub\r\n3. My implementation of `GroundingDINOConfig` has an attribute called `text_backbone_config` which is a `GroundingDINOTextPrenetConfig` which is just a copy of Bert config. However, after pushing the model to the hub when I try to instantiate the model with `.from_pretrained` I get an error saying:\r\n\r\n```\r\nValueError: Parameter config in `GroundingDINOTextPrenet(config)` should be an instance of class `PretrainedConfig`. To create a model from a pretrained model use `model = GroundingDINOTextPrenet.from_pretrained(PRETRAINED_MODEL_NAME)`\r\n```\r\nand when I do  `AutoConfig.from_pretrained(\"EduardoPacheco/grounding-dino-base\").text_backbone_config` I get `{'model_type': 'grounding-dino-text-prenet'}` is there anything different that I need to do to have a config as an attribute? I've tried to look at `CLIP`'s configuration to get some idea of how to do it, but I'm unsure why I am not getting the full `GroundingDINOTextPrenetConfig` after pushing the model to the hub",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1747770872/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1748604343",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1748604343",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1748604343,
          "node_id": "IC_kwDOCUB6oc5oOZW3",
          "user": {
            "login": "rafaelpadilla",
            "id": 31217453,
            "node_id": "MDQ6VXNlcjMxMjE3NDUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/31217453?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rafaelpadilla",
            "html_url": "https://github.com/rafaelpadilla",
            "followers_url": "https://api.github.com/users/rafaelpadilla/followers",
            "following_url": "https://api.github.com/users/rafaelpadilla/following{/other_user}",
            "gists_url": "https://api.github.com/users/rafaelpadilla/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rafaelpadilla/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rafaelpadilla/subscriptions",
            "organizations_url": "https://api.github.com/users/rafaelpadilla/orgs",
            "repos_url": "https://api.github.com/users/rafaelpadilla/repos",
            "events_url": "https://api.github.com/users/rafaelpadilla/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rafaelpadilla/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-05T10:19:26Z",
          "updated_at": "2023-10-05T10:19:26Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @EduardoPach ,\r\n\r\nIf your `ImageProcessor` is an exact copy from another model you must include the `#Copied from`. If somehow your `ImageProcessor` uses parts of other code, it would be good to have a `#Modified from` comment.\r\n\r\nIf I understood correctly, you have already generated the tokens using the newly extra steps, right? For pushing your tokens to the hub you could could use the hub api. See an example [here](https://huggingface.co/docs/huggingface_hub/guides/upload#upload-a-file)\r\n\r\nI'm not sure if the problem is regarding `AutoConfig`, as it could not load correctly your `GroundingDINOConfig`. Have you tried loading it directly with `GroundingDINOTextPrenet.from_pretrained(\"EduardoPacheco/grounding-dino-base\")`?\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1748604343/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1751109579",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1751109579",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1751109579,
          "node_id": "IC_kwDOCUB6oc5oX8_L",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-06T16:57:01Z",
          "updated_at": "2023-10-06T19:23:00Z",
          "author_association": "CONTRIBUTOR",
          "body": "@rafaelpadilla the `ImageProcessor` is precisely the same, but the `DeformableDetr` one works for object detection and segmentation. Right now I've copied the processor and just removed the segmentation stuff, is that okay?\r\n\r\nAlso, about the config, sorry I had forgotten to push the modifications I've done to the `configuration_grounding_dino.py` file\r\n\r\n**EDIT**\r\n\r\nI figured out what the issue was haha it was somewhat dumb. Either way, I wasn't aware that when we push the config to the hub the config class is then converted to a config.json, and any Nested configuration is also modified to a dictionary so I only had to change my `GroundingDINOConfig` implementation a bit when creating the attribute `text_backbone_config`",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1751109579/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1761361233",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1761361233",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1761361233,
          "node_id": "IC_kwDOCUB6oc5o_D1R",
          "user": {
            "login": "NielsRogge",
            "id": 48327001,
            "node_id": "MDQ6VXNlcjQ4MzI3MDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/48327001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NielsRogge",
            "html_url": "https://github.com/NielsRogge",
            "followers_url": "https://api.github.com/users/NielsRogge/followers",
            "following_url": "https://api.github.com/users/NielsRogge/following{/other_user}",
            "gists_url": "https://api.github.com/users/NielsRogge/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NielsRogge/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NielsRogge/subscriptions",
            "organizations_url": "https://api.github.com/users/NielsRogge/orgs",
            "repos_url": "https://api.github.com/users/NielsRogge/repos",
            "events_url": "https://api.github.com/users/NielsRogge/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NielsRogge/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-13T11:30:28Z",
          "updated_at": "2023-10-13T11:30:28Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @EduardoPach do you need any help in finishing this PR? Really great to see you're leveraging `Copied from` for the text encoder and all parts taken from Deformable DETR. Also, if the image processor is exactly the same as Deformable DETR, then we typically don't add a new image processor to the library, but rather just add a line in [image_processing_auto](https://github.com/huggingface/transformers/blob/main/src/transformers/models/auto/image_processing_auto.py#L55), which will allow people to do:\r\n```\r\nfrom transformers import AutoImageProcessor\r\n\r\nimage_processor = AutoImageProcessor.from_pretrained(\"sensetime/grounding-dino-base\")\r\n```\r\n\r\nthis will then automatically create a `DeformableDetrImageProcessor`.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1761361233/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1762067846",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1762067846",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1762067846,
          "node_id": "IC_kwDOCUB6oc5pBwWG",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-13T19:20:29Z",
          "updated_at": "2023-10-13T19:21:06Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Hi @EduardoPach do you need any help in finishing this PR? Really great to see you're leveraging `Copied from` for the text encoder and all parts taken from Deformable DETR. Also, if the image processor is exactly the same as Deformable DETR, then we typically don't add a new image processor to the library, but rather just add a line in [image_processing_auto](https://github.com/huggingface/transformers/blob/main/src/transformers/models/auto/image_processing_auto.py#L55), which will allow people to do:\r\n> \r\n> ```\r\n> from transformers import AutoImageProcessor\r\n> \r\n> image_processor = AutoImageProcessor.from_pretrained(\"sensetime/grounding-dino-base\")\r\n> ```\r\n> \r\n> this will then automatically create a `DeformableDetrImageProcessor`.\r\n\r\nWriting here just for record\r\n\r\nAs we discussed through Discord I'll make that and will do the same for the `Tokenizer` part and will just create a `GroundingDINOProcessor`. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1762067846/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1762971238",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1762971238",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1762971238,
          "node_id": "IC_kwDOCUB6oc5pFM5m",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-14T15:31:43Z",
          "updated_at": "2023-10-14T15:31:43Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_26087). All of your documentation changes will be reflected on that endpoint.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1762971238/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1780348556",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1780348556",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1780348556,
          "node_id": "IC_kwDOCUB6oc5qHfaM",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-26T03:13:07Z",
          "updated_at": "2023-10-26T03:13:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @rafaelpadilla  or @NielsRogge right now I'm missing only the `test_tied_weights_keys` would love some help on this one. \r\n\r\nAlso, for some reason when I try to run `make fixup` it throws an error so code quality tests are falling as well not sure if you could run this command @NielsRogge, since you already have the write permission to the branch. \r\n\r\nDefinitely, after the test is fixed I'll have to review the modeling documentation to make sure everything is correct",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1780348556/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1781965305",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1781965305",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1781965305,
          "node_id": "IC_kwDOCUB6oc5qNqH5",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-26T22:16:01Z",
          "updated_at": "2023-10-26T22:16:01Z",
          "author_association": "CONTRIBUTOR",
          "body": "@NielsRogge it looks good now! All tests are fine and I improved the docstrings. I think you're good to go to start the review process",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1781965305/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1785492845",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1785492845",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1785492845,
          "node_id": "IC_kwDOCUB6oc5qbHVt",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-30T15:41:23Z",
          "updated_at": "2023-10-30T15:41:23Z",
          "author_association": "CONTRIBUTOR",
          "body": "@NielsRogge or @rafaelpadilla or even @amyeroberts Do I need to add anything else?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1785492845/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1785798844",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1785798844",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1785798844,
          "node_id": "IC_kwDOCUB6oc5qcSC8",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-30T18:19:40Z",
          "updated_at": "2023-10-30T18:19:40Z",
          "author_association": "COLLABORATOR",
          "body": "@rafaelpadilla @NielsRogge could you give another round of review? ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1785798844/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1794989604",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1794989604",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1794989604,
          "node_id": "IC_kwDOCUB6oc5q_V4k",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-06T14:44:10Z",
          "updated_at": "2023-11-06T14:44:10Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @NielsRogge just tagging you here as a reminder ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1794989604/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1808401288",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1808401288",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1808401288,
          "node_id": "IC_kwDOCUB6oc5rygOI",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-13T15:38:52Z",
          "updated_at": "2023-11-13T15:38:52Z",
          "author_association": "COLLABORATOR",
          "body": "@NielsRogge @EduardoPach Thanks for adding this model! As a core maintainer I get a lot of PR review requests so will only do a final review once another person has approved (@NielsRogge I'm assuming your approval here because you're committing) and all tests are passing. Some failing tests look unrelated, but some model specific tests one are still failing. Let me know if you need help getting them to pass! ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1808401288/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1810154628",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1810154628",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1810154628,
          "node_id": "IC_kwDOCUB6oc5r5MSE",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-14T12:56:17Z",
          "updated_at": "2023-11-16T17:28:01Z",
          "author_association": "CONTRIBUTOR",
          "body": "> @NielsRogge @EduardoPach Thanks for adding this model! As a core maintainer I get a lot of PR review requests so will only do a final review once another person has approved (@NielsRogge I'm assuming your approval here because you're committing) and all tests are passing. Some failing tests look unrelated, but some model specific tests one are still failing. Let me know if you need help getting them to pass!\r\n\r\nThe model-specific tests that are failing in the `test_pr_documentation` is due to the missing repo_id `idea-research/grounding-dino-tiny`. Right now the model is under my account at `EduardoPacheco/grounding-dino-tiny` and the idea was to change ownership of the checkpoint either to one account created for the research lab or maybe to one of the authors since I believe [this account](https://huggingface.co/ShilongLiu/GroundingDINO) belongs to one of them.\r\n\r\nc.c. @amyeroberts ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1810154628/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1847588521",
          "html_url": "https://github.com/huggingface/transformers/pull/26087#issuecomment-1847588521",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26087",
          "id": 1847588521,
          "node_id": "IC_kwDOCUB6oc5uH_ap",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-12-08T17:49:12Z",
          "updated_at": "2023-12-08T17:49:12Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @ArthurZucker, fixed the main points you brought up ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1847588521/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/25693",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/25693/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/25693/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/25693/events",
      "html_url": "https://github.com/huggingface/transformers/pull/25693",
      "id": 1863744026,
      "node_id": "PR_kwDOCUB6oc5YnrWy",
      "number": 25693,
      "title": "Add Seamless M4T model",
      "user": {
        "login": "ylacombe",
        "id": 52246514,
        "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ylacombe",
        "html_url": "https://github.com/ylacombe",
        "followers_url": "https://api.github.com/users/ylacombe/followers",
        "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
        "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
        "organizations_url": "https://api.github.com/users/ylacombe/orgs",
        "repos_url": "https://api.github.com/users/ylacombe/repos",
        "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ylacombe/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 11,
      "created_at": "2023-08-23T17:32:03Z",
      "updated_at": "2023-10-23T12:50:17Z",
      "closed_at": "2023-10-23T12:49:49Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/25693",
        "html_url": "https://github.com/huggingface/transformers/pull/25693",
        "diff_url": "https://github.com/huggingface/transformers/pull/25693.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/25693.patch",
        "merged_at": "2023-10-23T12:49:48Z"
      },
      "body": "# What does this PR do?\r\n\r\nMeta recently introduced [Seamless M4T](https://ai.meta.com/blog/seamless-m4t/),  a collection of models designed to provide high quality translation, allowing people from different linguistic communities to communicate effortlessly through speech and text. \r\n\r\nSeamlessM4T supports multiple audio and/or translation tasks, namely S2TT, S2ST, T2TT, T2ST, where the last T stands for translation. \r\nIn other words, this model _seamlessly_ supports audio|text to translated audio|text.\r\n\r\nSeamlessM4T weights are already available on the hub ([large](https://huggingface.co/facebook/seamless-m4t-large) and [medium](https://huggingface.co/facebook/seamless-m4t-medium)) and the code is available on the [seamless_communication git repo](https://github.com/facebookresearch/seamless_communication).\r\n\r\nIn terms of architecture, and after having discussed with @sanchit-gandhi, I've came up with 4 differents models for the 4 tasks and one model that can do each task.\r\n\r\nI've been working on the integration for a couple of days already. At the moment, the converting script is more or less ready and the different models can generate.\r\n\r\nHere is a TODO of what's left to be done:\r\n\r\n- [x] Agree on the current architecture and some modeling details (for example what outputs)\r\n- [x] integrate feature extraction (fbank) and tokenizer (similar to NLLB)\r\n- [x] Integrate their vocoder\r\n- [x] Write and format docstrings\r\n- [x] Do integration tests - there's probably some modeling discrepancy at the moment (except for the speech encoder with a one-to-one correspondance)\r\n- [x] Finish regular tests\r\n- [x] There's probably some work to be done for the optimal generation config \r\n\r\ncc @sanchit-gandhi and @ArthurZucker !",
      "closed_by": {
        "login": "ylacombe",
        "id": 52246514,
        "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ylacombe",
        "html_url": "https://github.com/ylacombe",
        "followers_url": "https://api.github.com/users/ylacombe/followers",
        "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
        "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
        "organizations_url": "https://api.github.com/users/ylacombe/orgs",
        "repos_url": "https://api.github.com/users/ylacombe/repos",
        "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ylacombe/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/25693/reactions",
        "total_count": 3,
        "+1": 2,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 1,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/25693/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1717550134",
          "html_url": "https://github.com/huggingface/transformers/pull/25693#issuecomment-1717550134",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25693",
          "id": 1717550134,
          "node_id": "IC_kwDOCUB6oc5mX7w2",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-13T12:38:35Z",
          "updated_at": "2023-10-23T12:50:17Z",
          "author_association": "NONE",
          "body": "_The documentation is not available anymore as the PR was closed or merged._",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1717550134/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1724909243",
          "html_url": "https://github.com/huggingface/transformers/pull/25693#issuecomment-1724909243",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25693",
          "id": 1724909243,
          "node_id": "IC_kwDOCUB6oc5m0Aa7",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-19T06:35:18Z",
          "updated_at": "2023-09-19T12:42:42Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @sanchit-gandhi, thanks for your thorough review! I've addressed or answered almost every comment, except your request on the nested configuration. \r\n\r\nFor the moment being, I'd rather use a formatting with clear delimitation, a bit like the one you can find on the [PretrainedConfig doc](https://huggingface.co/docs/transformers/v4.33.2/en/main_classes/configuration#transformers.PretrainedConfig). Here is how it looks like with my config: [docs](https://moon-ci-docs.huggingface.co/docs/transformers/pr_25693/en/model_doc/seamless_m4t#transformers.SeamlessM4TConfig). I believe that it renders pretty well, and avoid the complexity of adding a nested config to an already pretty heavy PR. WDYT ?\r\n\r\nI would really like @ArthurZucker point of view on that! This is also the opportunity to ask @ArthurZucker for a review!\r\n\r\nEDIT: Rebased and modified on the new tokenizer PR (#23909)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1724909243/reactions",
            "total_count": 2,
            "+1": 1,
            "-1": 0,
            "laugh": 1,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1727729475",
          "html_url": "https://github.com/huggingface/transformers/pull/25693#issuecomment-1727729475",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25693",
          "id": 1727729475,
          "node_id": "IC_kwDOCUB6oc5m-w9D",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-20T13:26:23Z",
          "updated_at": "2023-09-20T13:26:23Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ydshieh! \r\n\r\nIt seems that the [documentation tests](https://github.com/huggingface/transformers/pull/26212) fail because it tries running `src/transformers/models/seamless_m4t/convert_fairseq2_to_hf.py`.\r\nI saw that you addressed a similar issue in #26212, and I was wondering if that was a normal behavior ! I believe that precedent PRs didn't try running the converting script.\r\n\r\nI'll update `utils/not_doctested.txt` if this is the expected fix!\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1727729475/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1727803961",
          "html_url": "https://github.com/huggingface/transformers/pull/25693#issuecomment-1727803961",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25693",
          "id": 1727803961,
          "node_id": "IC_kwDOCUB6oc5m_DI5",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-20T14:05:00Z",
          "updated_at": "2023-09-20T14:05:00Z",
          "author_association": "COLLABORATOR",
          "body": "Hi\r\n\r\nUsually, if the script has `__main__`, it should be fine. But here is an import error, and put it under `utils/not_doctested.txt` is the way to go.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1727803961/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1729577173",
          "html_url": "https://github.com/huggingface/transformers/pull/25693#issuecomment-1729577173",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25693",
          "id": 1729577173,
          "node_id": "IC_kwDOCUB6oc5nF0DV",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-21T13:21:35Z",
          "updated_at": "2023-09-21T13:21:35Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ydshieh, thanks for your help. The script had  `__main__` but was still throwing some errors, so I added it to `utils/not_doctested.txt`",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1729577173/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1731185386",
          "html_url": "https://github.com/huggingface/transformers/pull/25693#issuecomment-1731185386",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25693",
          "id": 1731185386,
          "node_id": "IC_kwDOCUB6oc5nL8rq",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-22T10:27:36Z",
          "updated_at": "2023-09-22T10:27:36Z",
          "author_association": "CONTRIBUTOR",
          "body": "Following #26182 merging, I've updated the FE, thus removing dependency to torchaudio. \r\n\r\nBTW, this is also a gentle reminder to review this PR when you have time @ArthurZucker :hugs: ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1731185386/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1739747949",
          "html_url": "https://github.com/huggingface/transformers/pull/25693#issuecomment-1739747949",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25693",
          "id": 1739747949,
          "node_id": "IC_kwDOCUB6oc5nsnJt",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-28T17:35:05Z",
          "updated_at": "2023-09-28T17:35:05Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @sanchit-gandhi , thanks for your review, I've corrected everything!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1739747949/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1754875023",
          "html_url": "https://github.com/huggingface/transformers/pull/25693#issuecomment-1754875023",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25693",
          "id": 1754875023,
          "node_id": "IC_kwDOCUB6oc5omUSP",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-10T10:07:53Z",
          "updated_at": "2023-10-10T10:16:48Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for the quick review, I'll address most your comments this morning.\r\n\r\nI still have this pending questions if you have time:\r\n- https://github.com/huggingface/transformers/pull/25693#discussion_r1350681175\r\n- That one's for @ydshieh : https://github.com/huggingface/transformers/pull/25693#discussion_r1350682649\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1754875023/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1755070829",
          "html_url": "https://github.com/huggingface/transformers/pull/25693#issuecomment-1755070829",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25693",
          "id": 1755070829,
          "node_id": "IC_kwDOCUB6oc5onEFt",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-10T11:05:47Z",
          "updated_at": "2023-10-10T11:05:47Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @ArthurZucker, your suggestions made it even cleaner! I've also added some copied from statements! Thanks for that!\r\n\r\nDo you think you can review a bit more thoroughly the modeling code soon ?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1755070829/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1756015314",
          "html_url": "https://github.com/huggingface/transformers/pull/25693#issuecomment-1756015314",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25693",
          "id": 1756015314,
          "node_id": "IC_kwDOCUB6oc5oqqrS",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-10T18:38:23Z",
          "updated_at": "2023-10-10T18:38:23Z",
          "author_association": "COLLABORATOR",
          "body": "on it tomorrow! ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1756015314/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1768462092",
          "html_url": "https://github.com/huggingface/transformers/pull/25693#issuecomment-1768462092",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25693",
          "id": 1768462092,
          "node_id": "IC_kwDOCUB6oc5paJcM",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-18T13:28:01Z",
          "updated_at": "2023-10-20T09:31:37Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for the last review @ArthurZucker! \r\nTwo last things to address before merging:\r\n1.~~`SeamlessM4TConfig` formatting: https://github.com/huggingface/transformers/pull/25693#discussion_r1362184879 - cc @ydshieh , could you take a look at it?~~\r\n2. ~~Assisted generation test: I can't seem to pass `SeamlessM4TModelWithTextInputTest::test_assisted_decoding_sample` and this might be out of my scope. Could you take a look at it @gante ? It's basically testing with SeamlessM4TForTextToText which is a basic seq2seq model!~~ [UPDATE: ignore test after offline discusions]",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1768462092/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/30530/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/30530/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/30530/events",
      "html_url": "https://github.com/huggingface/transformers/pull/30530",
      "id": 2267789714,
      "node_id": "PR_kwDOCUB6oc5t8mbs",
      "number": 30530,
      "title": "Add ViTPose",
      "user": {
        "login": "NielsRogge",
        "id": 48327001,
        "node_id": "MDQ6VXNlcjQ4MzI3MDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48327001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NielsRogge",
        "html_url": "https://github.com/NielsRogge",
        "followers_url": "https://api.github.com/users/NielsRogge/followers",
        "following_url": "https://api.github.com/users/NielsRogge/following{/other_user}",
        "gists_url": "https://api.github.com/users/NielsRogge/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/NielsRogge/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/NielsRogge/subscriptions",
        "organizations_url": "https://api.github.com/users/NielsRogge/orgs",
        "repos_url": "https://api.github.com/users/NielsRogge/repos",
        "events_url": "https://api.github.com/users/NielsRogge/events{/privacy}",
        "received_events_url": "https://api.github.com/users/NielsRogge/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1843244711,
          "node_id": "MDU6TGFiZWwxODQzMjQ0NzEx",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/New%20model",
          "name": "New model",
          "color": "fbca04",
          "default": false,
          "description": ""
        },
        {
          "id": 5769473378,
          "node_id": "LA_kwDOCUB6oc8AAAABV-MtYg",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/Vision",
          "name": "Vision",
          "color": "C079EF",
          "default": false,
          "description": ""
        },
        {
          "id": 6886428489,
          "node_id": "LA_kwDOCUB6oc8AAAABmnaPSQ",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/run-slow",
          "name": "run-slow",
          "color": "E1D519",
          "default": false,
          "description": ""
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 46,
      "created_at": "2024-04-28T20:01:37Z",
      "updated_at": "2025-01-08T16:53:07Z",
      "closed_at": "2025-01-08T16:02:15Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/30530",
        "html_url": "https://github.com/huggingface/transformers/pull/30530",
        "diff_url": "https://github.com/huggingface/transformers/pull/30530.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/30530.patch",
        "merged_at": "2025-01-08T16:02:14Z"
      },
      "body": "# What does this PR do?\r\n\r\nThis PR adds ViTPose as introduced in [ViTPose: Simple Vision Transformer Baselines for Human Pose Estimation](https://arxiv.org/abs/2204.12484).\r\n\r\nHere's a demo notebook - note that the API might change: \r\n - https://colab.research.google.com/drive/15_3gjcC0wtKSH85k76zewt81eUJIEWWA?usp=sharing.\r\n - https://colab.research.google.com/drive/1e8fcby5rhKZWcr9LSN8mNbQ0TU4Dxxpo?usp=sharing (supervision visualization)\r\n\r\nTo do:\r\n\r\n- [x] get rid of cv2 dependency (?)",
      "closed_by": {
        "login": "qubvel",
        "id": 31920396,
        "node_id": "MDQ6VXNlcjMxOTIwMzk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/qubvel",
        "html_url": "https://github.com/qubvel",
        "followers_url": "https://api.github.com/users/qubvel/followers",
        "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
        "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
        "organizations_url": "https://api.github.com/users/qubvel/orgs",
        "repos_url": "https://api.github.com/users/qubvel/repos",
        "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
        "received_events_url": "https://api.github.com/users/qubvel/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/30530/reactions",
        "total_count": 5,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 5,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/30530/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2082189476",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2082189476",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2082189476,
          "node_id": "IC_kwDOCUB6oc58G7Ck",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-29T08:52:47Z",
          "updated_at": "2024-04-29T08:52:47Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_30530). All of your documentation changes will be reflected on that endpoint. The docs are available until 30 days after the last update.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2082189476/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2084127138",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2084127138",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2084127138,
          "node_id": "IC_kwDOCUB6oc58OUGi",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-30T01:48:07Z",
          "updated_at": "2024-04-30T01:48:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "@NielsRogge Hi Niels! Does this current PR works properly? (I want to do some test for this)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2084127138/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2101277403",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2101277403",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2101277403,
          "node_id": "IC_kwDOCUB6oc59PvLb",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-08T19:26:27Z",
          "updated_at": "2024-05-08T19:26:27Z",
          "author_association": "COLLABORATOR",
          "body": "Thanks for working on this @NielsRogge! \r\n\r\nI can see there's a few bits unfinished e.g. tests. Is there a particular bit of code you'd like me to look at for a maintainers perspective? \r\n\r\nFor the issue description, there's a related model request is here: #24915",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2101277403/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2109606031",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2109606031",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2109606031,
          "node_id": "IC_kwDOCUB6oc59vgiP",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-14T08:38:04Z",
          "updated_at": "2024-05-14T08:38:04Z",
          "author_association": "COLLABORATOR",
          "body": "@NielsRogge I'm unsubscribing atm, so that I don't get notifications on every new push. You just need to ping me again with my username when it's ready for review and I'll get notified ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2109606031/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2114123170",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2114123170",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2114123170,
          "node_id": "IC_kwDOCUB6oc5-AvWi",
          "user": {
            "login": "NielsRogge",
            "id": 48327001,
            "node_id": "MDQ6VXNlcjQ4MzI3MDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/48327001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NielsRogge",
            "html_url": "https://github.com/NielsRogge",
            "followers_url": "https://api.github.com/users/NielsRogge/followers",
            "following_url": "https://api.github.com/users/NielsRogge/following{/other_user}",
            "gists_url": "https://api.github.com/users/NielsRogge/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NielsRogge/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NielsRogge/subscriptions",
            "organizations_url": "https://api.github.com/users/NielsRogge/orgs",
            "repos_url": "https://api.github.com/users/NielsRogge/repos",
            "events_url": "https://api.github.com/users/NielsRogge/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NielsRogge/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-16T06:23:54Z",
          "updated_at": "2024-05-20T14:32:11Z",
          "author_association": "CONTRIBUTOR",
          "body": "It would be great to have a first round of review as the PR is in a ready state. @amyeroberts ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2114123170/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2196364597",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2196364597",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2196364597,
          "node_id": "IC_kwDOCUB6oc6C6d01",
          "user": {
            "login": "github-actions[bot]",
            "id": 41898282,
            "node_id": "MDM6Qm90NDE4OTgyODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions%5Bbot%5D",
            "html_url": "https://github.com/apps/github-actions",
            "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
            "type": "Bot",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-28T08:04:23Z",
          "updated_at": "2024-06-28T08:04:23Z",
          "author_association": "CONTRIBUTOR",
          "body": "This issue has been automatically marked as stale because it has not had recent activity. If you think this still needs to be addressed please comment on this thread.\n\nPlease note that issues that do not follow the [contributing guidelines](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md) are likely to be ignored.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2196364597/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": {
            "id": 15368,
            "client_id": "Iv1.05c79e9ad1f6bdfa",
            "slug": "github-actions",
            "node_id": "MDM6QXBwMTUzNjg=",
            "owner": {
              "login": "github",
              "id": 9919,
              "node_id": "MDEyOk9yZ2FuaXphdGlvbjk5MTk=",
              "avatar_url": "https://avatars.githubusercontent.com/u/9919?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/github",
              "html_url": "https://github.com/github",
              "followers_url": "https://api.github.com/users/github/followers",
              "following_url": "https://api.github.com/users/github/following{/other_user}",
              "gists_url": "https://api.github.com/users/github/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/github/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/github/subscriptions",
              "organizations_url": "https://api.github.com/users/github/orgs",
              "repos_url": "https://api.github.com/users/github/repos",
              "events_url": "https://api.github.com/users/github/events{/privacy}",
              "received_events_url": "https://api.github.com/users/github/received_events",
              "type": "Organization",
              "user_view_type": "public",
              "site_admin": false
            },
            "name": "GitHub Actions",
            "description": "Automate your workflow from idea to production",
            "external_url": "https://help.github.com/en/actions",
            "html_url": "https://github.com/apps/github-actions",
            "created_at": "2018-07-30T09:30:17Z",
            "updated_at": "2025-03-07T16:35:00Z",
            "permissions": {
              "actions": "write",
              "administration": "read",
              "attestations": "write",
              "checks": "write",
              "contents": "write",
              "deployments": "write",
              "discussions": "write",
              "issues": "write",
              "merge_queues": "write",
              "metadata": "read",
              "models": "read",
              "packages": "write",
              "pages": "write",
              "pull_requests": "write",
              "repository_hooks": "write",
              "repository_projects": "write",
              "security_events": "write",
              "statuses": "write",
              "vulnerability_alerts": "read"
            },
            "events": [
              "branch_protection_rule",
              "check_run",
              "check_suite",
              "create",
              "delete",
              "deployment",
              "deployment_status",
              "discussion",
              "discussion_comment",
              "fork",
              "gollum",
              "issues",
              "issue_comment",
              "label",
              "merge_group",
              "milestone",
              "page_build",
              "project",
              "project_card",
              "project_column",
              "public",
              "pull_request",
              "pull_request_review",
              "pull_request_review_comment",
              "push",
              "registry_package",
              "release",
              "repository",
              "repository_dispatch",
              "status",
              "watch",
              "workflow_dispatch",
              "workflow_run"
            ]
          }
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2196897494",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2196897494",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2196897494,
          "node_id": "IC_kwDOCUB6oc6C8f7W",
          "user": {
            "login": "NielsRogge",
            "id": 48327001,
            "node_id": "MDQ6VXNlcjQ4MzI3MDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/48327001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NielsRogge",
            "html_url": "https://github.com/NielsRogge",
            "followers_url": "https://api.github.com/users/NielsRogge/followers",
            "following_url": "https://api.github.com/users/NielsRogge/following{/other_user}",
            "gists_url": "https://api.github.com/users/NielsRogge/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NielsRogge/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NielsRogge/subscriptions",
            "organizations_url": "https://api.github.com/users/NielsRogge/orgs",
            "repos_url": "https://api.github.com/users/NielsRogge/repos",
            "events_url": "https://api.github.com/users/NielsRogge/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NielsRogge/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-28T13:24:39Z",
          "updated_at": "2024-06-28T13:24:39Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts this implementation requires preprocessing functions such as `cv2.warpAffine` and `cv2.GaussianBlur` which do not have a non-cv2 equivalent implementation. Shoud we proceed with adding a `requires_cv2` dependency checker?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2196897494/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2197477151",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2197477151",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2197477151,
          "node_id": "IC_kwDOCUB6oc6C-tcf",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-28T19:05:44Z",
          "updated_at": "2024-06-28T19:05:44Z",
          "author_association": "COLLABORATOR",
          "body": "> which do not have a non-cv2 equivalent implementation\r\n\r\nAn affine transformation is just a linear one, so it should be easy for us to add a numpy equivalent. OpenCV have an example on how to add in numpy: https://theailearner.com/tag/cv2-warpaffine/\r\n\r\nFor gaussian blur, I think there's a scipy guassian filter we could use. \r\n\r\nAnother equivalent is just adding the [fast image processor equivalent](https://github.com/huggingface/transformers/pull/28847#issuecomment-1924674183) for the model and using torchvision. \r\n\r\nWe should try to avoid adding another vision library dependency as much as possible ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2197477151/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2266381846",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2266381846",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2266381846,
          "node_id": "IC_kwDOCUB6oc6HFj4W",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-03T05:28:46Z",
          "updated_at": "2024-08-03T07:57:15Z",
          "author_association": "CONTRIBUTOR",
          "body": "[Inference_with_ViTPose_for_human_pose_estimation_ipynb.ipynb.zip](https://github.com/user-attachments/files/16478046/Inference_with_ViTPose_for_human_pose_estimation_ipynb.ipynb.zip)\r\n\r\n@amyeroberts Hi amy this is the overall descriptions easy for you to look in major change (Skipped explaining minor changes like typo.)\r\n1. https://github.com/huggingface/transformers/pull/30530/commits/1b439e20be2c07527ea89a54e4e0a749facad6be \r\n- Made the function to accept more variable\r\n3. https://github.com/huggingface/transformers/pull/30530/commits/bbd534c53a9afc335875d5a142372a3728303d7d \r\n- Add more test, originally the `prepare_img` was just for the cat image which is not appropriate for this model (Since it is human pose estimation). Changed to human image in COCO. \r\n- Also made the output return of `post_process` result as tensor.\r\n\r\nIMO, we can some more testing function if it is needed.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2266381846/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2266635986",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2266635986",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2266635986,
          "node_id": "IC_kwDOCUB6oc6HGh7S",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-03T08:21:56Z",
          "updated_at": "2024-08-03T08:21:56Z",
          "author_association": "CONTRIBUTOR",
          "body": "cc. @NielsRogge For additional review request",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2266635986/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2283856376",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2283856376",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2283856376,
          "node_id": "IC_kwDOCUB6oc6IIOH4",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-12T12:35:33Z",
          "updated_at": "2024-08-12T12:35:33Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts @NielsRogge Ping for the reminder",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2283856376/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2295492312",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2295492312",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2295492312,
          "node_id": "IC_kwDOCUB6oc6I0m7Y",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-19T01:13:09Z",
          "updated_at": "2024-08-19T01:13:09Z",
          "author_association": "CONTRIBUTOR",
          "body": "@NielsRogge Requesting for second review (Need some answer for 2-3 questions)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2295492312/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2328326523",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2328326523",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2328326523,
          "node_id": "IC_kwDOCUB6oc6Kx3F7",
          "user": {
            "login": "danbochman",
            "id": 40274004,
            "node_id": "MDQ6VXNlcjQwMjc0MDA0",
            "avatar_url": "https://avatars.githubusercontent.com/u/40274004?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/danbochman",
            "html_url": "https://github.com/danbochman",
            "followers_url": "https://api.github.com/users/danbochman/followers",
            "following_url": "https://api.github.com/users/danbochman/following{/other_user}",
            "gists_url": "https://api.github.com/users/danbochman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/danbochman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/danbochman/subscriptions",
            "organizations_url": "https://api.github.com/users/danbochman/orgs",
            "repos_url": "https://api.github.com/users/danbochman/repos",
            "events_url": "https://api.github.com/users/danbochman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/danbochman/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-04T09:10:35Z",
          "updated_at": "2024-09-04T09:37:55Z",
          "author_association": "NONE",
          "body": "Looking forward to this\r\n@SangbumChoi thanks for doing this\r\n@amyeroberts you're a great code reviewer ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2328326523/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2333402875",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2333402875",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2333402875,
          "node_id": "IC_kwDOCUB6oc6LFOb7",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-06T07:14:59Z",
          "updated_at": "2024-09-06T07:14:59Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts @NielsRogge Fortunately, every comments from both review was clear enough me to understand and modify to appropriate way. (Also fixed ViT -> Vit) Asking for second final review :)\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2333402875/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2347537837",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2347537837",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2347537837,
          "node_id": "IC_kwDOCUB6oc6L7JWt",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-13T00:24:09Z",
          "updated_at": "2024-09-13T00:24:09Z",
          "author_association": "CONTRIBUTOR",
          "body": "current CI fail is unrelated for this PR",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2347537837/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2373926365",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2373926365",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2373926365,
          "node_id": "IC_kwDOCUB6oc6Nfz3d",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-25T12:18:27Z",
          "updated_at": "2024-09-25T12:18:27Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts Hi amy thanks again for the detail review. I have addressed all the suggestions except for removing `MoE`. We can remove the MoE logic but it is designed in the original code. Do we really need to remove it? Otherwise it is good to go.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2373926365/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2382398568",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2382398568",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2382398568,
          "node_id": "IC_kwDOCUB6oc6OAIRo",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-30T08:06:57Z",
          "updated_at": "2024-09-30T08:06:57Z",
          "author_association": "CONTRIBUTOR",
          "body": "cc. @qubvel @NielsRogge For to request PR review instead of amy",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2382398568/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2382878988",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2382878988",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2382878988,
          "node_id": "IC_kwDOCUB6oc6OB9kM",
          "user": {
            "login": "qubvel",
            "id": 31920396,
            "node_id": "MDQ6VXNlcjMxOTIwMzk2",
            "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qubvel",
            "html_url": "https://github.com/qubvel",
            "followers_url": "https://api.github.com/users/qubvel/followers",
            "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
            "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
            "organizations_url": "https://api.github.com/users/qubvel/orgs",
            "repos_url": "https://api.github.com/users/qubvel/repos",
            "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qubvel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-30T11:06:11Z",
          "updated_at": "2024-09-30T11:06:11Z",
          "author_association": "MEMBER",
          "body": "@SangbumChoi sorry for the delay, I will review this week!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2382878988/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2423700674",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2423700674",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2423700674,
          "node_id": "IC_kwDOCUB6oc6QdrzC",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-10-19T08:53:31Z",
          "updated_at": "2024-10-19T08:53:46Z",
          "author_association": "CONTRIBUTOR",
          "body": "@qubvel @NielsRogge Requesting for the final review :)\r\nI left some comment you should look on.\r\n1. https://github.com/huggingface/transformers/pull/30530#discussion_r1788991621\r\n2. https://github.com/huggingface/transformers/pull/30530#discussion_r1807240536",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2423700674/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2453398483",
          "html_url": "https://github.com/huggingface/transformers/pull/30530#issuecomment-2453398483",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30530",
          "id": 2453398483,
          "node_id": "IC_kwDOCUB6oc6SO-PT",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-03T11:50:48Z",
          "updated_at": "2024-11-03T11:50:48Z",
          "author_association": "CONTRIBUTOR",
          "body": "@qubvel Hi pavel I finished suggestion without this comment https://github.com/huggingface/transformers/pull/30530#discussion_r1822397840.\r\n\r\nWhich I suggest the idea if we remove the `show_keypoint_weight` option which is not in supervision library. Pure code itself will be a lot easier. I prefer to give user advanced version of documentation, but I can erase that argument if it seems to complex. WDYT?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2453398483/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/31843",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/31843/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/31843/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/31843/events",
      "html_url": "https://github.com/huggingface/transformers/pull/31843",
      "id": 2396003641,
      "node_id": "PR_kwDOCUB6oc50txFP",
      "number": 31843,
      "title": "Add OmDet-Turbo",
      "user": {
        "login": "yonigozlan",
        "id": 74535834,
        "node_id": "MDQ6VXNlcjc0NTM1ODM0",
        "avatar_url": "https://avatars.githubusercontent.com/u/74535834?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yonigozlan",
        "html_url": "https://github.com/yonigozlan",
        "followers_url": "https://api.github.com/users/yonigozlan/followers",
        "following_url": "https://api.github.com/users/yonigozlan/following{/other_user}",
        "gists_url": "https://api.github.com/users/yonigozlan/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/yonigozlan/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yonigozlan/subscriptions",
        "organizations_url": "https://api.github.com/users/yonigozlan/orgs",
        "repos_url": "https://api.github.com/users/yonigozlan/repos",
        "events_url": "https://api.github.com/users/yonigozlan/events{/privacy}",
        "received_events_url": "https://api.github.com/users/yonigozlan/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 6886428489,
          "node_id": "LA_kwDOCUB6oc8AAAABmnaPSQ",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/run-slow",
          "name": "run-slow",
          "color": "E1D519",
          "default": false,
          "description": ""
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 4,
      "created_at": "2024-07-08T15:55:28Z",
      "updated_at": "2024-09-25T17:26:28Z",
      "closed_at": "2024-09-25T17:26:28Z",
      "author_association": "MEMBER",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/31843",
        "html_url": "https://github.com/huggingface/transformers/pull/31843",
        "diff_url": "https://github.com/huggingface/transformers/pull/31843.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/31843.patch",
        "merged_at": "2024-09-25T17:26:28Z"
      },
      "body": "# What does this PR do?\r\n\r\n<!--\r\nCongratulations! You've made it this far! You're not quite done yet though.\r\n\r\nOnce merged, your PR is going to appear in the release notes with the title you set, so make sure it's a great title that fully reflects the extent of your awesome contribution.\r\n\r\nThen, please replace this with a description of the change and which issue is fixed (if applicable). Please also include relevant motivation and context. List any dependencies (if any) that are required for this change.\r\n\r\nOnce you're done, someone will review your PR shortly (see the section \"Who can review?\" below to tag some potential reviewers). They may suggest changes to make the code even better. If no one reviewed your PR after a week has passed, don't hesitate to post a new comment @-mentioning the same persons---sometimes notifications get lost.\r\n-->\r\n\r\nThis PR adds support for [OmDet-Turbo](https://github.com/om-ai-lab/OmDet), an open-vocabulary detection model from Om Research Lab.\r\n\r\n\r\n\r\n<!-- Remove if not applicable -->\r\n\r\n## Who can review?\r\n\r\n@amyeroberts @qubvel \r\n\r\n<!-- Your PR will be replied to more quickly if you can figure out the right person to tag with @\r\n\r\n If you know how to use git blame, that is the easiest way, otherwise, here is a rough guide of **who to tag**.\r\n Please tag fewer than 3 people.\r\n\r\nModels:\r\n\r\n- text models: @ArthurZucker\r\n- vision models: @amyeroberts\r\n- speech models: @sanchit-gandhi\r\n- graph models: @clefourrier\r\n\r\nLibrary:\r\n\r\n- flax: @sanchit-gandhi\r\n- generate: @zucchini-nlp (visual-language models) or @gante (all others)\r\n- pipelines: @Narsil\r\n- tensorflow: @gante and @Rocketknight1\r\n- tokenizers: @ArthurZucker\r\n- trainer: @muellerzr and @SunMarc\r\n\r\nIntegrations:\r\n\r\n- deepspeed: HF Trainer/Accelerate: @muellerzr\r\n- ray/raytune: @richardliaw, @amogkam\r\n- Big Model Inference: @SunMarc\r\n- quantization (bitsandbytes, autogpt): @SunMarc \r\n\r\nDocumentation: @stevhliu and @MKhalusova\r\n\r\nHF projects:\r\n\r\n- accelerate: [different repo](https://github.com/huggingface/accelerate)\r\n- datasets: [different repo](https://github.com/huggingface/datasets)\r\n- diffusers: [different repo](https://github.com/huggingface/diffusers)\r\n- rust tokenizers: [different repo](https://github.com/huggingface/tokenizers)\r\n\r\nMaintained examples (not research project or legacy):\r\n\r\n- Flax: @sanchit-gandhi\r\n- PyTorch: See Models above and tag the person corresponding to the modality of the example.\r\n- TensorFlow: @Rocketknight1\r\n\r\n -->\r\n",
      "closed_by": {
        "login": "yonigozlan",
        "id": 74535834,
        "node_id": "MDQ6VXNlcjc0NTM1ODM0",
        "avatar_url": "https://avatars.githubusercontent.com/u/74535834?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yonigozlan",
        "html_url": "https://github.com/yonigozlan",
        "followers_url": "https://api.github.com/users/yonigozlan/followers",
        "following_url": "https://api.github.com/users/yonigozlan/following{/other_user}",
        "gists_url": "https://api.github.com/users/yonigozlan/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/yonigozlan/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yonigozlan/subscriptions",
        "organizations_url": "https://api.github.com/users/yonigozlan/orgs",
        "repos_url": "https://api.github.com/users/yonigozlan/repos",
        "events_url": "https://api.github.com/users/yonigozlan/events{/privacy}",
        "received_events_url": "https://api.github.com/users/yonigozlan/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/31843/reactions",
        "total_count": 1,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 1
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/31843/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2214575319",
          "html_url": "https://github.com/huggingface/transformers/pull/31843#issuecomment-2214575319",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31843",
          "id": 2214575319,
          "node_id": "IC_kwDOCUB6oc6D_7zX",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-08T16:14:34Z",
          "updated_at": "2024-07-08T16:14:34Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_31843). All of your documentation changes will be reflected on that endpoint. The docs are available until 30 days after the last update.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2214575319/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2234429170",
          "html_url": "https://github.com/huggingface/transformers/pull/31843#issuecomment-2234429170",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31843",
          "id": 2234429170,
          "node_id": "IC_kwDOCUB6oc6FLq7y",
          "user": {
            "login": "yonigozlan",
            "id": 74535834,
            "node_id": "MDQ6VXNlcjc0NTM1ODM0",
            "avatar_url": "https://avatars.githubusercontent.com/u/74535834?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yonigozlan",
            "html_url": "https://github.com/yonigozlan",
            "followers_url": "https://api.github.com/users/yonigozlan/followers",
            "following_url": "https://api.github.com/users/yonigozlan/following{/other_user}",
            "gists_url": "https://api.github.com/users/yonigozlan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yonigozlan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yonigozlan/subscriptions",
            "organizations_url": "https://api.github.com/users/yonigozlan/orgs",
            "repos_url": "https://api.github.com/users/yonigozlan/repos",
            "events_url": "https://api.github.com/users/yonigozlan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yonigozlan/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-17T22:10:34Z",
          "updated_at": "2024-07-18T02:25:32Z",
          "author_association": "MEMBER",
          "body": "Hey @amyeroberts @qubvel !\r\nI think this PR is ready for a first review. What's missing for now is adding/modifying tests (current ones are for Grounding Dino and not adapted to this model).\r\nShort-terms TODOs left:\r\n - Tests\r\n - Docs, examples and some docstrings left to modify\r\n\r\nLonger-terms TODOs:\r\n- Add support for training",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2234429170/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 1
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2243909465",
          "html_url": "https://github.com/huggingface/transformers/pull/31843#issuecomment-2243909465",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31843",
          "id": 2243909465,
          "node_id": "IC_kwDOCUB6oc6Fv1dZ",
          "user": {
            "login": "yonigozlan",
            "id": 74535834,
            "node_id": "MDQ6VXNlcjc0NTM1ODM0",
            "avatar_url": "https://avatars.githubusercontent.com/u/74535834?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yonigozlan",
            "html_url": "https://github.com/yonigozlan",
            "followers_url": "https://api.github.com/users/yonigozlan/followers",
            "following_url": "https://api.github.com/users/yonigozlan/following{/other_user}",
            "gists_url": "https://api.github.com/users/yonigozlan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yonigozlan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yonigozlan/subscriptions",
            "organizations_url": "https://api.github.com/users/yonigozlan/orgs",
            "repos_url": "https://api.github.com/users/yonigozlan/repos",
            "events_url": "https://api.github.com/users/yonigozlan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yonigozlan/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-22T22:21:12Z",
          "updated_at": "2024-07-22T22:21:12Z",
          "author_association": "MEMBER",
          "body": "Hi @amyeroberts and @qubvel! When you have some time, could you please take another look at this PR? I've resolved your previous remarks and left the ones where I had questions open.\r\n\r\nAll the files I've modified are ready for review. I've commented out the modeling tests I haven't addressed yet (there's only one end-to-end integration test for now), but the processor tests are ready for review.\r\n\r\nI'd like to highlight a significant issue: the `OmDetTurboMultiheadAttention` in the `OmDetTurboEncoderLayer` module. It reproduces the original model's behavior, but this one appears to be incorrectly implemented for batch inference. This issue makes the whole model unusable for batch inference if we want to use the original model weights and be consistent with the original model outputs.\r\n\r\nThanks in advance!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2243909465/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2293985196",
          "html_url": "https://github.com/huggingface/transformers/pull/31843#issuecomment-2293985196",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31843",
          "id": 2293985196,
          "node_id": "IC_kwDOCUB6oc6Iu2-s",
          "user": {
            "login": "yonigozlan",
            "id": 74535834,
            "node_id": "MDQ6VXNlcjc0NTM1ODM0",
            "avatar_url": "https://avatars.githubusercontent.com/u/74535834?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yonigozlan",
            "html_url": "https://github.com/yonigozlan",
            "followers_url": "https://api.github.com/users/yonigozlan/followers",
            "following_url": "https://api.github.com/users/yonigozlan/following{/other_user}",
            "gists_url": "https://api.github.com/users/yonigozlan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yonigozlan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yonigozlan/subscriptions",
            "organizations_url": "https://api.github.com/users/yonigozlan/orgs",
            "repos_url": "https://api.github.com/users/yonigozlan/repos",
            "events_url": "https://api.github.com/users/yonigozlan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yonigozlan/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-16T18:42:13Z",
          "updated_at": "2024-08-16T18:42:13Z",
          "author_association": "MEMBER",
          "body": "Thanks for the review @qubvel ! For the `OmdetTurboModel`, the task specific part of the model starts at the very beginning of the decoder, where there are two heads defined, one for the object detection scores and the other for the bboxes coordinates. So it is quite difficult to define a non task-specific `OmdetTurboModel`. It wouldn't be the first model not to have a `FooModel`, for example [LLaVaNext](https://github.com/huggingface/transformers/blob/8ec028adeda29fce81cf6c50fcfa2259beaea6cc/src/transformers/models/llava_next/modeling_llava_next.py#L227) doesn't have one either, maybe for the same reason? \r\n@amyeroberts if you think not having  `OmdetTurboModel` is ok, I think this should be ready for you to review! Sorry I probably pinged you for a final review too early before, but I'm hopeful it's better this time :) ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2293985196/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/24086",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/24086/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/24086/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/24086/events",
      "html_url": "https://github.com/huggingface/transformers/pull/24086",
      "id": 1746295084,
      "node_id": "PR_kwDOCUB6oc5Sb137",
      "number": 24086,
      "title": "Add bark",
      "user": {
        "login": "ylacombe",
        "id": 52246514,
        "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ylacombe",
        "html_url": "https://github.com/ylacombe",
        "followers_url": "https://api.github.com/users/ylacombe/followers",
        "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
        "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
        "organizations_url": "https://api.github.com/users/ylacombe/orgs",
        "repos_url": "https://api.github.com/users/ylacombe/repos",
        "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ylacombe/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 18,
      "created_at": "2023-06-07T16:39:33Z",
      "updated_at": "2023-08-08T13:48:55Z",
      "closed_at": "2023-07-17T16:53:25Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/24086",
        "html_url": "https://github.com/huggingface/transformers/pull/24086",
        "diff_url": "https://github.com/huggingface/transformers/pull/24086.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/24086.patch",
        "merged_at": "2023-07-17T16:53:25Z"
      },
      "body": "This PR aims at integrating Bark, a TTS model, to `transformers`.\r\n`Bark` was designed and trained by [Suno-AI team](https://github.com/suno-ai/bark) and is made of 4 main components:\r\n\r\n- A `semantic model ` (also named `text model`), i.e a causal autoregressive transformer (GPT2-like), which takes into input a tokenized text\r\n- A `coarse acoustics model` (also named `coarse model`), also a causal autoregressive transformer, taking into input the results of the last model. It aims at regressing the first two audio codebooks necessary to `encodec`.\r\n- A `fine acoustics model` (`fine model`), this time a non-causal autoencoder transformer, which iteratively predicts the 6 last codebooks based on the sum of the previous codebooks embeddings.\r\n- having predicted 8 codebooks channels of `encodec`, Bark uses `encodec` to generate the output audio array.\r\n\r\nNote that each of the first 3 modules can take optional conditional speaker embeddings aiming at conditioning the output audio according to `specific preset voices.",
      "closed_by": {
        "login": "amyeroberts",
        "id": 22614925,
        "node_id": "MDQ6VXNlcjIyNjE0OTI1",
        "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amyeroberts",
        "html_url": "https://github.com/amyeroberts",
        "followers_url": "https://api.github.com/users/amyeroberts/followers",
        "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
        "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
        "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
        "repos_url": "https://api.github.com/users/amyeroberts/repos",
        "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
        "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/24086/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/24086/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1581206690",
          "html_url": "https://github.com/huggingface/transformers/pull/24086#issuecomment-1581206690",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24086",
          "id": 1581206690,
          "node_id": "IC_kwDOCUB6oc5eP0yi",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-07T17:01:01Z",
          "updated_at": "2023-07-17T16:53:54Z",
          "author_association": "NONE",
          "body": "_The documentation is not available anymore as the PR was closed or merged._",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1581206690/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1582366897",
          "html_url": "https://github.com/huggingface/transformers/pull/24086#issuecomment-1582366897",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24086",
          "id": 1582366897,
          "node_id": "IC_kwDOCUB6oc5eUQCx",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-08T10:55:05Z",
          "updated_at": "2023-06-08T10:55:05Z",
          "author_association": "COLLABORATOR",
          "body": "cc @sanchit-gandhi ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1582366897/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1587667712",
          "html_url": "https://github.com/huggingface/transformers/pull/24086#issuecomment-1587667712",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24086",
          "id": 1587667712,
          "node_id": "IC_kwDOCUB6oc5eoeMA",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-12T16:27:48Z",
          "updated_at": "2023-06-12T16:27:48Z",
          "author_association": "CONTRIBUTOR",
          "body": "PR supersedes #23375",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1587667712/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1614877123",
          "html_url": "https://github.com/huggingface/transformers/pull/24086#issuecomment-1614877123",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24086",
          "id": 1614877123,
          "node_id": "IC_kwDOCUB6oc5gQRHD",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-30T16:11:31Z",
          "updated_at": "2023-06-30T16:11:31Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @sanchit-gandhi , I think it's finally time for the final review! You might want to check the refactoring of `generate_text_semantic`, `generate_coarse`, `generate_fine`, but otherwise, sounds good!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1614877123/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1614887792",
          "html_url": "https://github.com/huggingface/transformers/pull/24086#issuecomment-1614887792",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24086",
          "id": 1614887792,
          "node_id": "IC_kwDOCUB6oc5gQTtw",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-30T16:21:25Z",
          "updated_at": "2023-06-30T16:21:25Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @amyeroberts, the PR is ready for review ! I'd be delighted to get your feedback on this when you have a chance. Let me know if I can help with anything!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1614887792/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1614907772",
          "html_url": "https://github.com/huggingface/transformers/pull/24086#issuecomment-1614907772",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24086",
          "id": 1614907772,
          "node_id": "IC_kwDOCUB6oc5gQYl8",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-30T16:40:34Z",
          "updated_at": "2023-06-30T16:40:34Z",
          "author_association": "COLLABORATOR",
          "body": "@ylacombe Great! Could you resolve the conflicts? Once that's done I'll review \ud83d\udc4d ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1614907772/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1620161782",
          "html_url": "https://github.com/huggingface/transformers/pull/24086#issuecomment-1620161782",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24086",
          "id": 1620161782,
          "node_id": "IC_kwDOCUB6oc5gkbT2",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-04T12:29:45Z",
          "updated_at": "2023-07-04T12:29:45Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @amyeroberts, as demanded, I resolved the merge conflicts! I've also updated the `speaker_embeddings` processing in `BarkProcessor`. Could you take a look when you have time ? \r\nThanks! ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1620161782/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1620510075",
          "html_url": "https://github.com/huggingface/transformers/pull/24086#issuecomment-1620510075",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24086",
          "id": 1620510075,
          "node_id": "IC_kwDOCUB6oc5glwV7",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-04T16:23:46Z",
          "updated_at": "2023-07-04T16:23:46Z",
          "author_association": "COLLABORATOR",
          "body": "Before I start a full review of this model, could you explain why the model was written in this structure - with no `forward` method and no task specific model e.g. `BarkForTextToSpeech`? ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1620510075/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1620542317",
          "html_url": "https://github.com/huggingface/transformers/pull/24086#issuecomment-1620542317",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24086",
          "id": 1620542317,
          "node_id": "IC_kwDOCUB6oc5gl4Nt",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-04T17:01:35Z",
          "updated_at": "2023-07-04T17:01:35Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Before I start a full review of this model, could you explain why the model was written in this structure - with no `forward` method and no task specific model e.g. `BarkForTextToSpeech`?\r\n\r\nOf course! \r\n\r\nYou can't really `forward` through `BarkModel` because it uses the `generate` methods of its sub-models, each one with its one `GenerationConfig`.\r\n\r\nTo be a little bit more specific,  `BarkModel` is a nested model composed of 4 sub-models.\r\n\r\nThe first 3 submodels follow a classic `transformer` architecture - hence the existence of a `forward` method for these submodels. However, when used by `BarkModel` in `generate_speech`, they are used in a non-traditional way (sliding windows, addition of input vectors alongside dimensions) and directly with their `generate` methods, model by model.\r\n\r\nTo be more in line with  `transformers` paradigm, we decided to keep the classical architecture for the 3 sub-models (the fourth, [`Encodec`](https://huggingface.co/docs/transformers/main/model_doc/encodec), being already implemented) and to provide a `generate_speech` method for the final model, with nested configs and nested generation configs.\r\n\r\nUsing `forward` would have meant a much messier and probably slightly more confusing path, since it's not actually a matter of `forwarding` a list of tokens to generate new audio tokens one by one, but of generating the audio all at once!\r\n\r\n@sanchit-gandhi, I might have missed some arguments here, feel free to contribute!\r\n\r\n@amyeroberts, let me know if this answers your question!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1620542317/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1620553314",
          "html_url": "https://github.com/huggingface/transformers/pull/24086#issuecomment-1620553314",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24086",
          "id": 1620553314,
          "node_id": "IC_kwDOCUB6oc5gl65i",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-04T17:16:24Z",
          "updated_at": "2023-07-04T17:16:24Z",
          "author_association": "CONTRIBUTOR",
          "body": "Regarding the last part of your question, the `BarkModel` architecture can't really be used for anything other than this specific task, so it's a kind of single-purpose model.\r\n\r\nWe considered adding task-specific sub-models, since the two first sub-models are GPT2-like auto-regressive models, but we decided not to move forward, for multiple reasons imo:\r\n\r\n1. The first two sub-models, `BarkSemanticModel` and `BarkCoarseModel` could have had task-specific sub-classes, but I think this complicates both the code and users' understanding of the model architecture. What's more, although their architecture is general, it's only used here with an `lm_head`, and I can't think of any other use for them.\r\n2. The third sub-model, `BarkFineModel`, needs [multiple embeddings  layers and lm_heads](https://github.com/ylacombe/transformers/blob/33081dc7e3650ff07f2c766c3aa69bc7b6c82351/src/transformers/models/bark/modeling_bark.py#L968C2-L985), one per codebook channels of `Encodec`. So it's a non-regular type of task.\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1620553314/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1620555118",
          "html_url": "https://github.com/huggingface/transformers/pull/24086#issuecomment-1620555118",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24086",
          "id": 1620555118,
          "node_id": "IC_kwDOCUB6oc5gl7Vu",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-04T17:18:57Z",
          "updated_at": "2023-08-08T13:48:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "In reality, the Bark TTS model is just three auto-regressive models concatenated together.\r\n\r\nTo generate with the Bark TTS model, you first have to generate **all** the ids for the first model. You then forward **all** of these ids to the coarse model to generate a new set of ids. You subsequently forward **all** of these generated ids to the third model to get your audio code outputs. So we can't just define one `forward` call and then auto-regressively generate with it (this would only get you one set of ids, not the three stages that you need).\r\n\r\n-> for this reason it doesn't really make sense to have a `forward` call for the `BarkModel`, since the model is just a placeholder to hold the three submodes together, and pipe the generated outputs from one model into the next\r\n\r\nRegarding why this the model isn't called `BarkForTextToSpeech`, it's the same argument as VITS: https://github.com/huggingface/transformers/pull/24085#discussion_r1252222434\r\n\r\nHappy to rename to `BarkForTextToSpeech` if you feel that this gives a more unified API between models, but Bark can **only** do text-to-speech, so this part of the name is somewhat redundant",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1620555118/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1622060968",
          "html_url": "https://github.com/huggingface/transformers/pull/24086#issuecomment-1622060968",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24086",
          "id": 1622060968,
          "node_id": "IC_kwDOCUB6oc5grq-o",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-05T16:04:04Z",
          "updated_at": "2023-07-05T16:04:04Z",
          "author_association": "COLLABORATOR",
          "body": "@sanchit-gandhi @ylacombe Thanks for the detailed explanations! ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1622060968/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1623842225",
          "html_url": "https://github.com/huggingface/transformers/pull/24086#issuecomment-1623842225",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24086",
          "id": 1623842225,
          "node_id": "IC_kwDOCUB6oc5gyd2x",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-06T15:03:13Z",
          "updated_at": "2023-07-06T15:03:13Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @amyeroberts, you're welcome!\r\nHave you had time to look into the PR? I'd be happy to answer any questions you might have about my code, as it's a rather atypical model!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1623842225/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1628653924",
          "html_url": "https://github.com/huggingface/transformers/pull/24086#issuecomment-1628653924",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24086",
          "id": 1628653924,
          "node_id": "IC_kwDOCUB6oc5hE0lk",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-10T10:18:08Z",
          "updated_at": "2023-07-10T10:18:08Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @amyeroberts ,\r\nThanks for the comprehensive review!\r\nI've answered most of your comments, but there are still a few I've asked questions/clarifications about! \r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1628653924/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1634204082",
          "html_url": "https://github.com/huggingface/transformers/pull/24086#issuecomment-1634204082",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24086",
          "id": 1634204082,
          "node_id": "IC_kwDOCUB6oc5hZ_my",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-13T13:00:47Z",
          "updated_at": "2023-07-13T13:00:47Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @amyeroberts and @sgugger!\r\n\r\nMany thanks for the additional review (and thanks @sanchit-gandhi for your insights)!\r\nI've addressed most of your comments, especially those requiring more consistency with transformers regarding naming the `generate_xxx`. I still have a few comments to resolve, I'll wait for your returns on that!\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1634204082/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1634602338",
          "html_url": "https://github.com/huggingface/transformers/pull/24086#issuecomment-1634602338",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24086",
          "id": 1634602338,
          "node_id": "IC_kwDOCUB6oc5hbg1i",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-13T17:06:02Z",
          "updated_at": "2023-07-13T17:06:02Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @amyeroberts, \r\nthere was a time-out when executing the python snippet of the `generate` docstrings.\r\nI took advantage of this to [add the ability to specify sub-model specific parameters](https://github.com/huggingface/transformers/pull/24086/commits/97cdc38e66b600d3bc1d82c56099acf3cdc6a0f8) in `BarkModel.generate`. \r\n\r\nTo give a concrete example, you can specify now how many `max_new_tokens` you want for the `semantic` part of the model:\r\n```audio_array = model.generate(**inputs, semantic_max_new_tokens=100)```\r\n\r\nNow that it is done, there are still a few comments to resolve, so I look forward to hearing from you!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1634602338/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1637605095",
          "html_url": "https://github.com/huggingface/transformers/pull/24086#issuecomment-1637605095",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24086",
          "id": 1637605095,
          "node_id": "IC_kwDOCUB6oc5hm97n",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-17T08:34:33Z",
          "updated_at": "2023-07-17T08:34:33Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @amyeroberts,\r\nI've addressed your last remarks! Does that work with you?\r\nMany thanks!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1637605095/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1637866253",
          "html_url": "https://github.com/huggingface/transformers/pull/24086#issuecomment-1637866253",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24086",
          "id": 1637866253,
          "node_id": "IC_kwDOCUB6oc5hn9sN",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-17T10:45:38Z",
          "updated_at": "2023-07-17T10:45:38Z",
          "author_association": "COLLABORATOR",
          "body": "@ylacombe LGTM! I think we're good to merge \ud83d\udc4d ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1637866253/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/27247",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/27247/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/27247/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/27247/events",
      "html_url": "https://github.com/huggingface/transformers/pull/27247",
      "id": 1974650616,
      "node_id": "PR_kwDOCUB6oc5edF-X",
      "number": 27247,
      "title": "Add model RTDetr",
      "user": {
        "login": "rafaelpadilla",
        "id": 31217453,
        "node_id": "MDQ6VXNlcjMxMjE3NDUz",
        "avatar_url": "https://avatars.githubusercontent.com/u/31217453?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/rafaelpadilla",
        "html_url": "https://github.com/rafaelpadilla",
        "followers_url": "https://api.github.com/users/rafaelpadilla/followers",
        "following_url": "https://api.github.com/users/rafaelpadilla/following{/other_user}",
        "gists_url": "https://api.github.com/users/rafaelpadilla/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/rafaelpadilla/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/rafaelpadilla/subscriptions",
        "organizations_url": "https://api.github.com/users/rafaelpadilla/orgs",
        "repos_url": "https://api.github.com/users/rafaelpadilla/repos",
        "events_url": "https://api.github.com/users/rafaelpadilla/events{/privacy}",
        "received_events_url": "https://api.github.com/users/rafaelpadilla/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1843244711,
          "node_id": "MDU6TGFiZWwxODQzMjQ0NzEx",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/New%20model",
          "name": "New model",
          "color": "fbca04",
          "default": false,
          "description": ""
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 6,
      "created_at": "2023-11-02T16:44:37Z",
      "updated_at": "2024-07-05T05:50:12Z",
      "closed_at": "2024-07-05T05:50:12Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/27247",
        "html_url": "https://github.com/huggingface/transformers/pull/27247",
        "diff_url": "https://github.com/huggingface/transformers/pull/27247.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/27247.patch",
        "merged_at": null
      },
      "body": "# What does this PR do?\r\n\r\nAdds new model RTDetr. \r\n\r\nImage processing:\r\n- [x] preprocess \r\n- [x] post_process\r\n- [x] post_process_object_detection\r\n\r\nTests:\r\n- [x] image processing: test_image_processor_outputs\r\n- [x] image processing: test_multiple_images_processor_outputs \r\n- [x] model: logits and boxes match the original model\r\n- [ ] model: unit tests for `modeling_rt_detr.py` are passing\r\n\r\nBackbone:\r\n- [x] adjust backbone to be compatible with Timm\r\n- [x] convert backbone weights to be compatible with Timm \r\n\r\nGeneral:\r\n- [x] review docstrings\r\n- [x] check variable names\r\n- [x] check order of classes\r\n\r\nFixes #26742 \r\n\r\n## Before submitting\r\n- [ ] This PR fixes a typo or improves the docs (you can dismiss the other checks if that's the case).\r\n- [x] Did you read the [contributor guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#start-contributing-pull-requests),\r\n      Pull Request section?\r\n- [x] Was this discussed/approved via a Github issue or the [forum](https://discuss.huggingface.co/)? Please add a link\r\n      to it if that's the case.\r\n- [ ] Did you make sure to update the documentation with your changes? Here are the\r\n      [documentation guidelines](https://github.com/huggingface/transformers/tree/main/docs), and\r\n      [here are tips on formatting docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).\r\n- [x] Did you write any new necessary tests?\r\n\r\n\r\n## Who can review?\r\n\r\n@amyeroberts \r\n",
      "closed_by": {
        "login": "LysandreJik",
        "id": 30755778,
        "node_id": "MDQ6VXNlcjMwNzU1Nzc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/30755778?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LysandreJik",
        "html_url": "https://github.com/LysandreJik",
        "followers_url": "https://api.github.com/users/LysandreJik/followers",
        "following_url": "https://api.github.com/users/LysandreJik/following{/other_user}",
        "gists_url": "https://api.github.com/users/LysandreJik/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/LysandreJik/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/LysandreJik/subscriptions",
        "organizations_url": "https://api.github.com/users/LysandreJik/orgs",
        "repos_url": "https://api.github.com/users/LysandreJik/repos",
        "events_url": "https://api.github.com/users/LysandreJik/events{/privacy}",
        "received_events_url": "https://api.github.com/users/LysandreJik/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/27247/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/27247/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1791143502",
          "html_url": "https://github.com/huggingface/transformers/pull/27247#issuecomment-1791143502",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27247",
          "id": 1791143502,
          "node_id": "IC_kwDOCUB6oc5qwq5O",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-02T17:09:44Z",
          "updated_at": "2023-11-02T17:09:44Z",
          "author_association": "COLLABORATOR",
          "body": "@rafaelpadilla Nice work! Excited to get this model added to the library \ud83d\udcaa \r\n\r\nI'm removing the review request for Arthur, as you only need one core maintainer's approval. @NielsRogge if you have time, could you give this a quick review once tests are all passing? It would be good to get your thoughts especially as you've handled the other DETR ports. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1791143502/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1796990912",
          "html_url": "https://github.com/huggingface/transformers/pull/27247#issuecomment-1796990912",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27247",
          "id": 1796990912,
          "node_id": "IC_kwDOCUB6oc5rG-fA",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-06T22:53:27Z",
          "updated_at": "2023-11-06T22:53:27Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_27247). All of your documentation changes will be reflected on that endpoint.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1796990912/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1903322416",
          "html_url": "https://github.com/huggingface/transformers/pull/27247#issuecomment-1903322416",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27247",
          "id": 1903322416,
          "node_id": "IC_kwDOCUB6oc5xcmUw",
          "user": {
            "login": "brainer3220",
            "id": 40418544,
            "node_id": "MDQ6VXNlcjQwNDE4NTQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/40418544?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brainer3220",
            "html_url": "https://github.com/brainer3220",
            "followers_url": "https://api.github.com/users/brainer3220/followers",
            "following_url": "https://api.github.com/users/brainer3220/following{/other_user}",
            "gists_url": "https://api.github.com/users/brainer3220/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brainer3220/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brainer3220/subscriptions",
            "organizations_url": "https://api.github.com/users/brainer3220/orgs",
            "repos_url": "https://api.github.com/users/brainer3220/repos",
            "events_url": "https://api.github.com/users/brainer3220/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brainer3220/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-01-22T06:05:04Z",
          "updated_at": "2024-01-29T12:37:58Z",
          "author_association": "NONE",
          "body": "Doesn't more contribute?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1903322416/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2159459938",
          "html_url": "https://github.com/huggingface/transformers/pull/27247#issuecomment-2159459938",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27247",
          "id": 2159459938,
          "node_id": "IC_kwDOCUB6oc6Atr5i",
          "user": {
            "login": "roboserg",
            "id": 4758917,
            "node_id": "MDQ6VXNlcjQ3NTg5MTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4758917?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/roboserg",
            "html_url": "https://github.com/roboserg",
            "followers_url": "https://api.github.com/users/roboserg/followers",
            "following_url": "https://api.github.com/users/roboserg/following{/other_user}",
            "gists_url": "https://api.github.com/users/roboserg/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/roboserg/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/roboserg/subscriptions",
            "organizations_url": "https://api.github.com/users/roboserg/orgs",
            "repos_url": "https://api.github.com/users/roboserg/repos",
            "events_url": "https://api.github.com/users/roboserg/events{/privacy}",
            "received_events_url": "https://api.github.com/users/roboserg/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-10T23:11:52Z",
          "updated_at": "2024-06-10T23:11:52Z",
          "author_association": "NONE",
          "body": "Will this be reviewed?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2159459938/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2160228789",
          "html_url": "https://github.com/huggingface/transformers/pull/27247#issuecomment-2160228789",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27247",
          "id": 2160228789,
          "node_id": "IC_kwDOCUB6oc6Awnm1",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-11T09:25:31Z",
          "updated_at": "2024-06-11T09:25:31Z",
          "author_association": "COLLABORATOR",
          "body": "@roboserg There's an active PR adding this model here: #29077 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2160228789/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2209808925",
          "html_url": "https://github.com/huggingface/transformers/pull/27247#issuecomment-2209808925",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27247",
          "id": 2209808925,
          "node_id": "IC_kwDOCUB6oc6DtwId",
          "user": {
            "login": "SangbumChoi",
            "id": 34004152,
            "node_id": "MDQ6VXNlcjM0MDA0MTUy",
            "avatar_url": "https://avatars.githubusercontent.com/u/34004152?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SangbumChoi",
            "html_url": "https://github.com/SangbumChoi",
            "followers_url": "https://api.github.com/users/SangbumChoi/followers",
            "following_url": "https://api.github.com/users/SangbumChoi/following{/other_user}",
            "gists_url": "https://api.github.com/users/SangbumChoi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SangbumChoi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SangbumChoi/subscriptions",
            "organizations_url": "https://api.github.com/users/SangbumChoi/orgs",
            "repos_url": "https://api.github.com/users/SangbumChoi/repos",
            "events_url": "https://api.github.com/users/SangbumChoi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SangbumChoi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-05T01:15:59Z",
          "updated_at": "2024-07-05T01:15:59Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts I think we can close this :)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2209808925/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/32473/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/32473/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/32473/events",
      "html_url": "https://github.com/huggingface/transformers/pull/32473",
      "id": 2451171136,
      "node_id": "PR_kwDOCUB6oc53llW4",
      "number": 32473,
      "title": "Add Idefics 3!",
      "user": {
        "login": "andimarafioti",
        "id": 9143109,
        "node_id": "MDQ6VXNlcjkxNDMxMDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9143109?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andimarafioti",
        "html_url": "https://github.com/andimarafioti",
        "followers_url": "https://api.github.com/users/andimarafioti/followers",
        "following_url": "https://api.github.com/users/andimarafioti/following{/other_user}",
        "gists_url": "https://api.github.com/users/andimarafioti/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/andimarafioti/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/andimarafioti/subscriptions",
        "organizations_url": "https://api.github.com/users/andimarafioti/orgs",
        "repos_url": "https://api.github.com/users/andimarafioti/repos",
        "events_url": "https://api.github.com/users/andimarafioti/events{/privacy}",
        "received_events_url": "https://api.github.com/users/andimarafioti/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 6886428489,
          "node_id": "LA_kwDOCUB6oc8AAAABmnaPSQ",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/run-slow",
          "name": "run-slow",
          "color": "E1D519",
          "default": false,
          "description": ""
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": {
        "login": "andimarafioti",
        "id": 9143109,
        "node_id": "MDQ6VXNlcjkxNDMxMDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9143109?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andimarafioti",
        "html_url": "https://github.com/andimarafioti",
        "followers_url": "https://api.github.com/users/andimarafioti/followers",
        "following_url": "https://api.github.com/users/andimarafioti/following{/other_user}",
        "gists_url": "https://api.github.com/users/andimarafioti/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/andimarafioti/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/andimarafioti/subscriptions",
        "organizations_url": "https://api.github.com/users/andimarafioti/orgs",
        "repos_url": "https://api.github.com/users/andimarafioti/repos",
        "events_url": "https://api.github.com/users/andimarafioti/events{/privacy}",
        "received_events_url": "https://api.github.com/users/andimarafioti/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "assignees": [
        {
          "login": "andimarafioti",
          "id": 9143109,
          "node_id": "MDQ6VXNlcjkxNDMxMDk=",
          "avatar_url": "https://avatars.githubusercontent.com/u/9143109?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/andimarafioti",
          "html_url": "https://github.com/andimarafioti",
          "followers_url": "https://api.github.com/users/andimarafioti/followers",
          "following_url": "https://api.github.com/users/andimarafioti/following{/other_user}",
          "gists_url": "https://api.github.com/users/andimarafioti/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/andimarafioti/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/andimarafioti/subscriptions",
          "organizations_url": "https://api.github.com/users/andimarafioti/orgs",
          "repos_url": "https://api.github.com/users/andimarafioti/repos",
          "events_url": "https://api.github.com/users/andimarafioti/events{/privacy}",
          "received_events_url": "https://api.github.com/users/andimarafioti/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        }
      ],
      "milestone": null,
      "comments": 32,
      "created_at": "2024-08-06T15:30:35Z",
      "updated_at": "2024-11-21T13:49:56Z",
      "closed_at": "2024-09-25T19:28:49Z",
      "author_association": "MEMBER",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/32473",
        "html_url": "https://github.com/huggingface/transformers/pull/32473",
        "diff_url": "https://github.com/huggingface/transformers/pull/32473.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/32473.patch",
        "merged_at": "2024-09-25T19:28:49Z"
      },
      "body": "# What does this PR do?\r\nAdding the Idefics 3 model.\r\n\r\nThere are still a few things to do before merging this PR. The results are not exactly the same as with our codebase and the tests are not done. We are opening it to unblock our release. \r\n\r\n## Before submitting\r\n- [ ] This PR fixes a typo or improves the docs (you can dismiss the other checks if that's the case).\r\n- [x] Did you read the [contributor guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#create-a-pull-request),\r\n      Pull Request section?\r\n- [x] Was this discussed/approved via a Github issue or the [forum](https://discuss.huggingface.co/)? Please add a link\r\n      to it if that's the case.\r\n- [x] Did you make sure to update the documentation with your changes? Here are the\r\n      [documentation guidelines](https://github.com/huggingface/transformers/tree/main/docs), and\r\n      [here are tips on formatting docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).\r\n- [ ] Did you write any new necessary tests?\r\n\r\n\r\n## Who can review?\r\n\r\nModels:\r\n\r\n- vision models: @amyeroberts\r\n",
      "closed_by": {
        "login": "andimarafioti",
        "id": 9143109,
        "node_id": "MDQ6VXNlcjkxNDMxMDk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9143109?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/andimarafioti",
        "html_url": "https://github.com/andimarafioti",
        "followers_url": "https://api.github.com/users/andimarafioti/followers",
        "following_url": "https://api.github.com/users/andimarafioti/following{/other_user}",
        "gists_url": "https://api.github.com/users/andimarafioti/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/andimarafioti/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/andimarafioti/subscriptions",
        "organizations_url": "https://api.github.com/users/andimarafioti/orgs",
        "repos_url": "https://api.github.com/users/andimarafioti/repos",
        "events_url": "https://api.github.com/users/andimarafioti/events{/privacy}",
        "received_events_url": "https://api.github.com/users/andimarafioti/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/32473/reactions",
        "total_count": 11,
        "+1": 3,
        "-1": 0,
        "laugh": 0,
        "hooray": 3,
        "confused": 0,
        "heart": 0,
        "rocket": 5,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/32473/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2271615248",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2271615248",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2271615248,
          "node_id": "IC_kwDOCUB6oc6HZhkQ",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-06T15:50:19Z",
          "updated_at": "2024-08-06T15:50:19Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_32473). All of your documentation changes will be reflected on that endpoint. The docs are available until 30 days after the last update.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2271615248/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2291100275",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2291100275",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2291100275,
          "node_id": "IC_kwDOCUB6oc6Ij2pz",
          "user": {
            "login": "andimarafioti",
            "id": 9143109,
            "node_id": "MDQ6VXNlcjkxNDMxMDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9143109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andimarafioti",
            "html_url": "https://github.com/andimarafioti",
            "followers_url": "https://api.github.com/users/andimarafioti/followers",
            "following_url": "https://api.github.com/users/andimarafioti/following{/other_user}",
            "gists_url": "https://api.github.com/users/andimarafioti/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/andimarafioti/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/andimarafioti/subscriptions",
            "organizations_url": "https://api.github.com/users/andimarafioti/orgs",
            "repos_url": "https://api.github.com/users/andimarafioti/repos",
            "events_url": "https://api.github.com/users/andimarafioti/events{/privacy}",
            "received_events_url": "https://api.github.com/users/andimarafioti/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-15T11:22:23Z",
          "updated_at": "2024-08-15T11:22:23Z",
          "author_association": "MEMBER",
          "body": "updated main",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2291100275/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2291574543",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2291574543",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2291574543,
          "node_id": "IC_kwDOCUB6oc6IlqcP",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-15T15:45:21Z",
          "updated_at": "2024-08-15T15:45:21Z",
          "author_association": "COLLABORATOR",
          "body": "@andimarafioti I can see that you re-requested review, but there's still some debugging commits being pushed so will hold of reviewing until this has been resolved. I'm going to unsubscribe to prevent getting notifications for every push - as soon as you have a question or want to let me know it's ready, just ping me with `@amyeroberts` and I'll get a notification :) ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2291574543/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2293034080",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2293034080",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2293034080,
          "node_id": "IC_kwDOCUB6oc6IrOxg",
          "user": {
            "login": "andimarafioti",
            "id": 9143109,
            "node_id": "MDQ6VXNlcjkxNDMxMDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9143109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andimarafioti",
            "html_url": "https://github.com/andimarafioti",
            "followers_url": "https://api.github.com/users/andimarafioti/followers",
            "following_url": "https://api.github.com/users/andimarafioti/following{/other_user}",
            "gists_url": "https://api.github.com/users/andimarafioti/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/andimarafioti/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/andimarafioti/subscriptions",
            "organizations_url": "https://api.github.com/users/andimarafioti/orgs",
            "repos_url": "https://api.github.com/users/andimarafioti/repos",
            "events_url": "https://api.github.com/users/andimarafioti/events{/privacy}",
            "received_events_url": "https://api.github.com/users/andimarafioti/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-16T08:07:20Z",
          "updated_at": "2024-08-16T08:07:20Z",
          "author_association": "MEMBER",
          "body": "@amyeroberts ready to review! There is still the multi-gpu tests that is queued but if those fail I would skip them. They run OOM in the CI on single GPU and there is an issue open for the same on idefics2 https://github.com/huggingface/transformers/issues/32288. If my fix here works, I already opened a PR for that fix as well: https://github.com/huggingface/transformers/pull/32840 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2293034080/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2293448734",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2293448734",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2293448734,
          "node_id": "IC_kwDOCUB6oc6Is0Ae",
          "user": {
            "login": "andimarafioti",
            "id": 9143109,
            "node_id": "MDQ6VXNlcjkxNDMxMDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9143109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andimarafioti",
            "html_url": "https://github.com/andimarafioti",
            "followers_url": "https://api.github.com/users/andimarafioti/followers",
            "following_url": "https://api.github.com/users/andimarafioti/following{/other_user}",
            "gists_url": "https://api.github.com/users/andimarafioti/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/andimarafioti/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/andimarafioti/subscriptions",
            "organizations_url": "https://api.github.com/users/andimarafioti/orgs",
            "repos_url": "https://api.github.com/users/andimarafioti/repos",
            "events_url": "https://api.github.com/users/andimarafioti/events{/privacy}",
            "received_events_url": "https://api.github.com/users/andimarafioti/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-16T12:47:20Z",
          "updated_at": "2024-08-16T12:47:20Z",
          "author_association": "MEMBER",
          "body": "Talked to @molbap and he said that there is an issue with the multi-gpu workers getting stuck in the queue. But it's not related to this PR. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2293448734/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2298604383",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2298604383",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2298604383,
          "node_id": "IC_kwDOCUB6oc6JAetf",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-20T11:15:35Z",
          "updated_at": "2024-08-20T11:15:35Z",
          "author_association": "COLLABORATOR",
          "body": "@andimarafioti Yes, unfortunately we're having issues at the moment with single GPU and multi-GPU runners taking a long time to run / never running cc @ydshieh. \r\n\r\nIt looks like the multi GPU tests did eventually run and there's at least one test which is currently failing to be addressed ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2298604383/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2302230087",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2302230087",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2302230087,
          "node_id": "IC_kwDOCUB6oc6JOT5H",
          "user": {
            "login": "andimarafioti",
            "id": 9143109,
            "node_id": "MDQ6VXNlcjkxNDMxMDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9143109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andimarafioti",
            "html_url": "https://github.com/andimarafioti",
            "followers_url": "https://api.github.com/users/andimarafioti/followers",
            "following_url": "https://api.github.com/users/andimarafioti/following{/other_user}",
            "gists_url": "https://api.github.com/users/andimarafioti/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/andimarafioti/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/andimarafioti/subscriptions",
            "organizations_url": "https://api.github.com/users/andimarafioti/orgs",
            "repos_url": "https://api.github.com/users/andimarafioti/repos",
            "events_url": "https://api.github.com/users/andimarafioti/events{/privacy}",
            "received_events_url": "https://api.github.com/users/andimarafioti/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-21T14:45:23Z",
          "updated_at": "2024-08-21T14:45:23Z",
          "author_association": "MEMBER",
          "body": "rebased on main",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2302230087/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2314798975",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2314798975",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2314798975,
          "node_id": "IC_kwDOCUB6oc6J-Qd_",
          "user": {
            "login": "joris-sense",
            "id": 178779941,
            "node_id": "U_kgDOCqf3JQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/178779941?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joris-sense",
            "html_url": "https://github.com/joris-sense",
            "followers_url": "https://api.github.com/users/joris-sense/followers",
            "following_url": "https://api.github.com/users/joris-sense/following{/other_user}",
            "gists_url": "https://api.github.com/users/joris-sense/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joris-sense/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joris-sense/subscriptions",
            "organizations_url": "https://api.github.com/users/joris-sense/orgs",
            "repos_url": "https://api.github.com/users/joris-sense/repos",
            "events_url": "https://api.github.com/users/joris-sense/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joris-sense/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-28T09:24:37Z",
          "updated_at": "2024-08-28T09:41:25Z",
          "author_association": "NONE",
          "body": "Hi, I am trying to run this together with structured generation with outlines (which supports Vision Transformers in a package not yet in PyPI) and am having trouble with that. Crossposting this as an issue in Outlines [here](https://github.com/outlines-dev/outlines/issues/1123) as I am not sure who is supposed to change the code. I try the code below and get the error below that. With some print statements, I found that the \"<\" in \"Got <.\" in the error message is actually the first character of the prompt \"<image> detailed description:\", which means that each character in the prompt list gets misinterpreted as an image URL.\r\n\r\nRoughly following the instructions in the doc [here](https://outlines-dev.github.io/outlines/reference/models/transformers_vision/) (using `load_image` rather than the `image_from_url` as defined here), I am trying the following code:\r\n\r\n```\r\nimport outlines\r\nfrom transformers import Idefics3ForConditionalGeneration\r\n\r\nmodel = outlines.models.transformers_vision(\r\n    \"HuggingFaceM4/Idefics3-8B-Llama3\",\r\n    model_class=Idefics3ForConditionalGeneration,\r\n    device=\"cuda\",\r\n)\r\n\r\nfrom transformers.image_utils import load_image\r\n\r\ndescription_generator = outlines.generate.text(model)\r\ndescription_generator(\r\n    [\"<image> detailed description:\"],\r\n    [[load_image(\"https://upload.wikimedia.org/wikipedia/commons/2/25/Siam_lilacpoint.jpg\")]]\r\n)\r\n```\r\nI get the following error:\r\n```\r\n---------------------------------------------------------------------------\r\nUnidentifiedImageError                    Traceback (most recent call last)\r\nFile /opt/conda/lib/python3.10/site-packages/transformers/image_utils.py:372, in load_image(image, timeout)\r\n    371     b64 = base64.decodebytes(image.encode())\r\n--> 372     image = PIL.Image.open(BytesIO(b64))\r\n    373 except Exception as e:\r\n\r\nFile /opt/conda/lib/python3.10/site-packages/PIL/Image.py:3309, in open(fp, mode, formats)\r\n   3308 msg = \"cannot identify image file %r\" % (filename if filename else fp)\r\n-> 3309 raise UnidentifiedImageError(msg)\r\n\r\nUnidentifiedImageError: cannot identify image file <_io.BytesIO object at 0x7f2d007367f0>\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nValueError                                Traceback (most recent call last)\r\nCell In[9], line 4\r\n      1 from transformers.image_utils import load_image\r\n      3 description_generator = outlines.generate.text(model)\r\n----> 4 description_generator(\r\n      5     [\"<image> detailed description:\"],\r\n      6     [[load_image(\"https://upload.wikimedia.org/wikipedia/commons/2/25/Siam_lilacpoint.jpg\")]]\r\n      7 )\r\n\r\nFile /opt/conda/lib/python3.10/site-packages/outlines/generate/api.py:555, in VisionSequenceGeneratorAdapter.__call__(self, prompts, media, max_tokens, stop_at, seed, **model_specific_params)\r\n    549 prompts, media = self._validate_prompt_media_types(prompts, media)\r\n    551 generation_params = self.prepare_generation_parameters(\r\n    552     max_tokens, stop_at, seed\r\n    553 )\r\n--> 555 completions = self.model.generate(\r\n    556     prompts,\r\n    557     media,\r\n    558     generation_params,\r\n    559     self.logits_processor,\r\n    560     self.sampling_params,\r\n    561     **model_specific_params,\r\n    562 )\r\n    564 return self._format(completions)\r\n\r\nFile /opt/conda/lib/python3.10/site-packages/outlines/models/transformers_vision.py:46, in TransformersVision.generate(self, prompts, media, generation_parameters, logits_processor, sampling_parameters)\r\n     15 def generate(  # type: ignore\r\n     16     self,\r\n     17     prompts: Union[str, List[str]],\r\n   (...)\r\n     21     sampling_parameters: SamplingParameters,\r\n     22 ) -> Union[str, List[str], List[List[str]]]:\r\n     23     \"\"\"Generate text using `transformers`.\r\n     24 \r\n     25     Arguments\r\n   (...)\r\n     44     The generated text\r\n     45     \"\"\"\r\n---> 46     inputs = self.processor(prompts, media, padding=True, return_tensors=\"pt\").to(\r\n     47         self.model.device\r\n     48     )\r\n     50     generation_kwargs = self._get_generation_kwargs(\r\n     51         prompts,\r\n     52         generation_parameters,\r\n     53         logits_processor,\r\n     54         sampling_parameters,\r\n     55     )\r\n     56     generated_ids = self._generate_output_seq(prompts, inputs, **generation_kwargs)\r\n\r\nFile /opt/conda/lib/python3.10/site-packages/transformers/models/idefics3/processing_idefics3.py:288, in Idefics3Processor.__call__(self, images, text, audio, videos, **kwargs)\r\n    286             new_images[-1].append(im)  # already loaded\r\n    287         elif isinstance(im, str):\r\n--> 288             new_images[-1].append(load_image(im))\r\n    290 images = new_images\r\n    291 del new_images\r\n\r\nFile /opt/conda/lib/python3.10/site-packages/transformers/image_utils.py:374, in load_image(image, timeout)\r\n    372             image = PIL.Image.open(BytesIO(b64))\r\n    373         except Exception as e:\r\n--> 374             raise ValueError(\r\n    375                 f\"Incorrect image source. Must be a valid URL starting with `http://` or `https://`, a valid path to an image file, or a base64 encoded string. Got {image}. Failed with {e}\"\r\n    376             )\r\n    377 elif isinstance(image, PIL.Image.Image):\r\n    378     image = image\r\n\r\nValueError: Incorrect image source. Must be a valid URL starting with `http://` or `https://`, a valid path to an image file, or a base64 encoded string. Got <. Failed with cannot identify image file <_io.BytesIO object at 0x7f2d007367f0>\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2314798975/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2315480890",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2315480890",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2315480890,
          "node_id": "IC_kwDOCUB6oc6KA286",
          "user": {
            "login": "joris-sense",
            "id": 178779941,
            "node_id": "U_kgDOCqf3JQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/178779941?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joris-sense",
            "html_url": "https://github.com/joris-sense",
            "followers_url": "https://api.github.com/users/joris-sense/followers",
            "following_url": "https://api.github.com/users/joris-sense/following{/other_user}",
            "gists_url": "https://api.github.com/users/joris-sense/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joris-sense/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joris-sense/subscriptions",
            "organizations_url": "https://api.github.com/users/joris-sense/orgs",
            "repos_url": "https://api.github.com/users/joris-sense/repos",
            "events_url": "https://api.github.com/users/joris-sense/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joris-sense/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-28T14:22:25Z",
          "updated_at": "2024-08-28T14:26:38Z",
          "author_association": "NONE",
          "body": "I tracked down that my issue is due to swapping the order of images and text, see [here](https://github.com/huggingface/transformers/pull/32473/files#r1734779753). Swapping them back in the code makes it work for me, at least when passing a list of prompts and a list of lists of images.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2315480890/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2328782195",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2328782195",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2328782195,
          "node_id": "IC_kwDOCUB6oc6KzmVz",
          "user": {
            "login": "andimarafioti",
            "id": 9143109,
            "node_id": "MDQ6VXNlcjkxNDMxMDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9143109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andimarafioti",
            "html_url": "https://github.com/andimarafioti",
            "followers_url": "https://api.github.com/users/andimarafioti/followers",
            "following_url": "https://api.github.com/users/andimarafioti/following{/other_user}",
            "gists_url": "https://api.github.com/users/andimarafioti/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/andimarafioti/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/andimarafioti/subscriptions",
            "organizations_url": "https://api.github.com/users/andimarafioti/orgs",
            "repos_url": "https://api.github.com/users/andimarafioti/repos",
            "events_url": "https://api.github.com/users/andimarafioti/events{/privacy}",
            "received_events_url": "https://api.github.com/users/andimarafioti/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-04T12:01:32Z",
          "updated_at": "2024-09-04T12:01:32Z",
          "author_association": "MEMBER",
          "body": "@amyeroberts I'm back from your review :) ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2328782195/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2334325838",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2334325838",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2334325838,
          "node_id": "IC_kwDOCUB6oc6LIvxO",
          "user": {
            "login": "andimarafioti",
            "id": 9143109,
            "node_id": "MDQ6VXNlcjkxNDMxMDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9143109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andimarafioti",
            "html_url": "https://github.com/andimarafioti",
            "followers_url": "https://api.github.com/users/andimarafioti/followers",
            "following_url": "https://api.github.com/users/andimarafioti/following{/other_user}",
            "gists_url": "https://api.github.com/users/andimarafioti/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/andimarafioti/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/andimarafioti/subscriptions",
            "organizations_url": "https://api.github.com/users/andimarafioti/orgs",
            "repos_url": "https://api.github.com/users/andimarafioti/repos",
            "events_url": "https://api.github.com/users/andimarafioti/events{/privacy}",
            "received_events_url": "https://api.github.com/users/andimarafioti/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-06T15:34:51Z",
          "updated_at": "2024-09-06T15:34:51Z",
          "author_association": "MEMBER",
          "body": "@amyeroberts ready for re-review ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2334325838/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2337534229",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2337534229",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2337534229,
          "node_id": "IC_kwDOCUB6oc6LU_EV",
          "user": {
            "login": "efenocchi",
            "id": 32709108,
            "node_id": "MDQ6VXNlcjMyNzA5MTA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32709108?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/efenocchi",
            "html_url": "https://github.com/efenocchi",
            "followers_url": "https://api.github.com/users/efenocchi/followers",
            "following_url": "https://api.github.com/users/efenocchi/following{/other_user}",
            "gists_url": "https://api.github.com/users/efenocchi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/efenocchi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/efenocchi/subscriptions",
            "organizations_url": "https://api.github.com/users/efenocchi/orgs",
            "repos_url": "https://api.github.com/users/efenocchi/repos",
            "events_url": "https://api.github.com/users/efenocchi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/efenocchi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-09T08:58:06Z",
          "updated_at": "2024-09-09T13:46:23Z",
          "author_association": "NONE",
          "body": "Hi @andimarafioti @amyeroberts,\r\nWhen I load the processor with `processor.image_processor.do_image_splitting = False`, I encounter an error in the `pixel_shuffle` function located in `transformers/src/transformers/models/idefics3/modeling_idefics3.py`. \r\nThe error message states: \"shape '[1, 90, 90, 1152]' is invalid for input of size 9345024\" (line 581).\r\n\r\nIf I use a square image it breaks in `def input_merger()` in `modeling_idefics3.py` with a `shape mismatch` error.\r\n\r\nCould you please advise on how to resolve this bug?\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2337534229/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2338802419",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2338802419",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2338802419,
          "node_id": "IC_kwDOCUB6oc6LZ0rz",
          "user": {
            "login": "Quinn-Meyer-Sustainment",
            "id": 141066584,
            "node_id": "U_kgDOCGiBWA",
            "avatar_url": "https://avatars.githubusercontent.com/u/141066584?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Quinn-Meyer-Sustainment",
            "html_url": "https://github.com/Quinn-Meyer-Sustainment",
            "followers_url": "https://api.github.com/users/Quinn-Meyer-Sustainment/followers",
            "following_url": "https://api.github.com/users/Quinn-Meyer-Sustainment/following{/other_user}",
            "gists_url": "https://api.github.com/users/Quinn-Meyer-Sustainment/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Quinn-Meyer-Sustainment/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Quinn-Meyer-Sustainment/subscriptions",
            "organizations_url": "https://api.github.com/users/Quinn-Meyer-Sustainment/orgs",
            "repos_url": "https://api.github.com/users/Quinn-Meyer-Sustainment/repos",
            "events_url": "https://api.github.com/users/Quinn-Meyer-Sustainment/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Quinn-Meyer-Sustainment/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-09T18:24:30Z",
          "updated_at": "2024-09-09T18:37:51Z",
          "author_association": "NONE",
          "body": "I get the same error as @efenocchi when I use `image_splitting=False` in the Idefics3 processor.\r\n\r\nWhen I set `image_splitting=True` I get the following error during accelerated fine-tuning:\r\n\r\n```  \r\nFile \"/home/ec2-user/SageMaker/LLMs/VLM_fine-tuning/Idefics3/finetune.py\", line 135, in train\r\n    self.trainer.train()\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/transformers/trainer.py\", line 1955, in train\r\n    return inner_training_loop(\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/transformers/trainer.py\", line 2296, in _inner_training_loop\r\n    tr_loss_step = self.training_step(model, inputs)\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/transformers/trainer.py\", line 3380, in training_step\r\n    loss = self.compute_loss(model, inputs)\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/transformers/trainer.py\", line 3427, in compute_loss\r\n    outputs = model(**inputs)\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1511, in _wrapped_call_impl\r\n    return self._call_impl(*args, **kwargs)\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1520, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/torch/nn/parallel/distributed.py\", line 1523, in forward\r\n    else self._run_ddp_forward(*inputs, **kwargs)\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/torch/nn/parallel/distributed.py\", line 1359, in _run_ddp_forward\r\n    return self.module(*inputs, **kwargs)  # type: ignore[index]\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1511, in _wrapped_call_impl\r\n    return self._call_impl(*args, **kwargs)\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1520, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/accelerate/utils/operations.py\", line 820, in forward\r\n    return model_forward(*args, **kwargs)\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/accelerate/utils/operations.py\", line 808, in __call__\r\n    return convert_to_fp32(self.model_forward(*args, **kwargs))\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/torch/amp/autocast_mode.py\", line 16, in decorate_autocast\r\n    return func(*args, **kwargs)\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/accelerate/hooks.py\", line 170, in new_forward\r\n    output = module._old_forward(*args, **kwargs)\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/transformers/models/idefics3/modeling_idefics3.py\", line 1180, in forward\r\n    outputs = self.model(\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1511, in _wrapped_call_impl\r\n    return self._call_impl(*args, **kwargs)\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1520, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/accelerate/hooks.py\", line 170, in new_forward\r\n    output = module._old_forward(*args, **kwargs)\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/transformers/models/idefics3/modeling_idefics3.py\", line 1004, in forward\r\n    inputs_embeds = self.inputs_merger(\r\n  File \"/home/ec2-user/anaconda3/envs/pytorch_p310/lib/python3.10/site-packages/transformers/models/idefics3/modeling_idefics3.py\", line 896, in inputs_merger\r\n    inputs_embeds[special_image_token_mask] = reshaped_image_hidden_states\r\nRuntimeError: a leaf Variable that requires grad is being used in an in-place operation.\r\n```\r\n\r\nWhich could be related to #31373  Edited for formatting & context.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2338802419/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2340127696",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2340127696",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2340127696,
          "node_id": "IC_kwDOCUB6oc6Le4PQ",
          "user": {
            "login": "andimarafioti",
            "id": 9143109,
            "node_id": "MDQ6VXNlcjkxNDMxMDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9143109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andimarafioti",
            "html_url": "https://github.com/andimarafioti",
            "followers_url": "https://api.github.com/users/andimarafioti/followers",
            "following_url": "https://api.github.com/users/andimarafioti/following{/other_user}",
            "gists_url": "https://api.github.com/users/andimarafioti/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/andimarafioti/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/andimarafioti/subscriptions",
            "organizations_url": "https://api.github.com/users/andimarafioti/orgs",
            "repos_url": "https://api.github.com/users/andimarafioti/repos",
            "events_url": "https://api.github.com/users/andimarafioti/events{/privacy}",
            "received_events_url": "https://api.github.com/users/andimarafioti/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-10T09:21:03Z",
          "updated_at": "2024-09-10T09:21:03Z",
          "author_association": "MEMBER",
          "body": "The second one is probably why there was that input_embeds.clone \ud83d\udca1 I was asked and wasn't sure why that was there so I removed it, but the error certainly points towards that",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2340127696/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2340226015",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2340226015",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2340226015,
          "node_id": "IC_kwDOCUB6oc6LfQPf",
          "user": {
            "login": "andimarafioti",
            "id": 9143109,
            "node_id": "MDQ6VXNlcjkxNDMxMDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9143109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andimarafioti",
            "html_url": "https://github.com/andimarafioti",
            "followers_url": "https://api.github.com/users/andimarafioti/followers",
            "following_url": "https://api.github.com/users/andimarafioti/following{/other_user}",
            "gists_url": "https://api.github.com/users/andimarafioti/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/andimarafioti/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/andimarafioti/subscriptions",
            "organizations_url": "https://api.github.com/users/andimarafioti/orgs",
            "repos_url": "https://api.github.com/users/andimarafioti/repos",
            "events_url": "https://api.github.com/users/andimarafioti/events{/privacy}",
            "received_events_url": "https://api.github.com/users/andimarafioti/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-10T10:04:23Z",
          "updated_at": "2024-09-10T10:04:23Z",
          "author_association": "MEMBER",
          "body": "@Quinn-Meyer-Sustainment , the error you showed should be fixed with my last commit \ud83d\ude4f ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2340226015/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2340937406",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2340937406",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2340937406,
          "node_id": "IC_kwDOCUB6oc6Lh96-",
          "user": {
            "login": "Quinn-Meyer-Sustainment",
            "id": 141066584,
            "node_id": "U_kgDOCGiBWA",
            "avatar_url": "https://avatars.githubusercontent.com/u/141066584?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Quinn-Meyer-Sustainment",
            "html_url": "https://github.com/Quinn-Meyer-Sustainment",
            "followers_url": "https://api.github.com/users/Quinn-Meyer-Sustainment/followers",
            "following_url": "https://api.github.com/users/Quinn-Meyer-Sustainment/following{/other_user}",
            "gists_url": "https://api.github.com/users/Quinn-Meyer-Sustainment/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Quinn-Meyer-Sustainment/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Quinn-Meyer-Sustainment/subscriptions",
            "organizations_url": "https://api.github.com/users/Quinn-Meyer-Sustainment/orgs",
            "repos_url": "https://api.github.com/users/Quinn-Meyer-Sustainment/repos",
            "events_url": "https://api.github.com/users/Quinn-Meyer-Sustainment/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Quinn-Meyer-Sustainment/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-10T14:10:08Z",
          "updated_at": "2024-09-10T14:10:08Z",
          "author_association": "NONE",
          "body": "Thank you @andimarafioti for the super quick fix! Commenting to confirm that I can now finetune without error\ud83d\ude0a",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2340937406/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2341427169",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2341427169",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2341427169,
          "node_id": "IC_kwDOCUB6oc6Lj1fh",
          "user": {
            "login": "efenocchi",
            "id": 32709108,
            "node_id": "MDQ6VXNlcjMyNzA5MTA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32709108?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/efenocchi",
            "html_url": "https://github.com/efenocchi",
            "followers_url": "https://api.github.com/users/efenocchi/followers",
            "following_url": "https://api.github.com/users/efenocchi/following{/other_user}",
            "gists_url": "https://api.github.com/users/efenocchi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/efenocchi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/efenocchi/subscriptions",
            "organizations_url": "https://api.github.com/users/efenocchi/orgs",
            "repos_url": "https://api.github.com/users/efenocchi/repos",
            "events_url": "https://api.github.com/users/efenocchi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/efenocchi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-10T16:27:38Z",
          "updated_at": "2024-09-10T16:27:38Z",
          "author_association": "NONE",
          "body": "@andimarafioti any suggestions for the error I reported?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2341427169/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2353322552",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2353322552",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2353322552,
          "node_id": "IC_kwDOCUB6oc6MRNo4",
          "user": {
            "login": "andimarafioti",
            "id": 9143109,
            "node_id": "MDQ6VXNlcjkxNDMxMDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9143109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andimarafioti",
            "html_url": "https://github.com/andimarafioti",
            "followers_url": "https://api.github.com/users/andimarafioti/followers",
            "following_url": "https://api.github.com/users/andimarafioti/following{/other_user}",
            "gists_url": "https://api.github.com/users/andimarafioti/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/andimarafioti/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/andimarafioti/subscriptions",
            "organizations_url": "https://api.github.com/users/andimarafioti/orgs",
            "repos_url": "https://api.github.com/users/andimarafioti/repos",
            "events_url": "https://api.github.com/users/andimarafioti/events{/privacy}",
            "received_events_url": "https://api.github.com/users/andimarafioti/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-16T16:00:59Z",
          "updated_at": "2024-09-16T16:00:59Z",
          "author_association": "MEMBER",
          "body": "Hi @efenocchi , can you provide more information on your bug? A reproducible snippet would be ideal.\r\nThere is a test for not splitting the images which passes, so I'm wondering if the test is not catching your situation or if something else is happening. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2353322552/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2353329472",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2353329472",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2353329472,
          "node_id": "IC_kwDOCUB6oc6MRPVA",
          "user": {
            "login": "andimarafioti",
            "id": 9143109,
            "node_id": "MDQ6VXNlcjkxNDMxMDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9143109?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andimarafioti",
            "html_url": "https://github.com/andimarafioti",
            "followers_url": "https://api.github.com/users/andimarafioti/followers",
            "following_url": "https://api.github.com/users/andimarafioti/following{/other_user}",
            "gists_url": "https://api.github.com/users/andimarafioti/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/andimarafioti/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/andimarafioti/subscriptions",
            "organizations_url": "https://api.github.com/users/andimarafioti/orgs",
            "repos_url": "https://api.github.com/users/andimarafioti/repos",
            "events_url": "https://api.github.com/users/andimarafioti/events{/privacy}",
            "received_events_url": "https://api.github.com/users/andimarafioti/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-16T16:02:54Z",
          "updated_at": "2024-09-16T16:02:54Z",
          "author_association": "MEMBER",
          "body": "@amyeroberts back :) ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2353329472/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2354862452",
          "html_url": "https://github.com/huggingface/transformers/pull/32473#issuecomment-2354862452",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/32473",
          "id": 2354862452,
          "node_id": "IC_kwDOCUB6oc6MXFl0",
          "user": {
            "login": "woodfrog",
            "id": 13405255,
            "node_id": "MDQ6VXNlcjEzNDA1MjU1",
            "avatar_url": "https://avatars.githubusercontent.com/u/13405255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/woodfrog",
            "html_url": "https://github.com/woodfrog",
            "followers_url": "https://api.github.com/users/woodfrog/followers",
            "following_url": "https://api.github.com/users/woodfrog/following{/other_user}",
            "gists_url": "https://api.github.com/users/woodfrog/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/woodfrog/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/woodfrog/subscriptions",
            "organizations_url": "https://api.github.com/users/woodfrog/orgs",
            "repos_url": "https://api.github.com/users/woodfrog/repos",
            "events_url": "https://api.github.com/users/woodfrog/events{/privacy}",
            "received_events_url": "https://api.github.com/users/woodfrog/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-17T08:21:59Z",
          "updated_at": "2024-09-17T08:21:59Z",
          "author_association": "NONE",
          "body": "@andimarafioti  I can reproduce the same error reported by @efenocchi by setting:\r\n\r\n```\r\nself.processor = AutoProcessor.from_pretrained(\"HuggingFaceM4/Idefics3-8B-Llama3\", size= {\"longest_edge\": 2*364}, do_image_splitting = False)` \r\n```\r\nand then run the pretrained model. I guess this is not the right way to disable image splitting when running the pretrained model? \r\n\r\nSince my inputs contain multiple images, I basically want to disable the image splitting and also reduce the size of the image (not using the default 4x364). What is the right way to do here? Thanks!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2354862452/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/30803/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/30803/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/30803/events",
      "html_url": "https://github.com/huggingface/transformers/pull/30803",
      "id": 2295615109,
      "node_id": "PR_kwDOCUB6oc5vaNum",
      "number": 30803,
      "title": "Add DAB-DETR Object detection/segmentation model",
      "user": {
        "login": "conditionedstimulus",
        "id": 37246112,
        "node_id": "MDQ6VXNlcjM3MjQ2MTEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/37246112?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/conditionedstimulus",
        "html_url": "https://github.com/conditionedstimulus",
        "followers_url": "https://api.github.com/users/conditionedstimulus/followers",
        "following_url": "https://api.github.com/users/conditionedstimulus/following{/other_user}",
        "gists_url": "https://api.github.com/users/conditionedstimulus/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/conditionedstimulus/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/conditionedstimulus/subscriptions",
        "organizations_url": "https://api.github.com/users/conditionedstimulus/orgs",
        "repos_url": "https://api.github.com/users/conditionedstimulus/repos",
        "events_url": "https://api.github.com/users/conditionedstimulus/events{/privacy}",
        "received_events_url": "https://api.github.com/users/conditionedstimulus/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1843244711,
          "node_id": "MDU6TGFiZWwxODQzMjQ0NzEx",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/New%20model",
          "name": "New model",
          "color": "fbca04",
          "default": false,
          "description": ""
        },
        {
          "id": 5769473378,
          "node_id": "LA_kwDOCUB6oc8AAAABV-MtYg",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/Vision",
          "name": "Vision",
          "color": "C079EF",
          "default": false,
          "description": ""
        },
        {
          "id": 6886428489,
          "node_id": "LA_kwDOCUB6oc8AAAABmnaPSQ",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/run-slow",
          "name": "run-slow",
          "color": "E1D519",
          "default": false,
          "description": ""
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 81,
      "created_at": "2024-05-14T14:19:50Z",
      "updated_at": "2025-02-04T19:18:57Z",
      "closed_at": "2025-02-04T17:28:28Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/30803",
        "html_url": "https://github.com/huggingface/transformers/pull/30803",
        "diff_url": "https://github.com/huggingface/transformers/pull/30803.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/30803.patch",
        "merged_at": "2025-02-04T17:28:28Z"
      },
      "body": "# What does this PR do?\r\n\r\nAdd DAB-DETR Object detection model. Paper: https://arxiv.org/abs/2201.12329\r\nOriginal code repo: https://github.com/IDEA-Research/DAB-DETR\r\n\r\nFixes # (issue)\r\n[WIP] This model is part of how DETR models have evolved, alongside DN DETR (not part of this PR), to pave the way for newer and better models like Dino and Stable Dino in object detection\r\n\r\n\r\n## Who can review?\r\n@amyeroberts\r\n\r\n\r\n",
      "closed_by": {
        "login": "qubvel",
        "id": 31920396,
        "node_id": "MDQ6VXNlcjMxOTIwMzk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/qubvel",
        "html_url": "https://github.com/qubvel",
        "followers_url": "https://api.github.com/users/qubvel/followers",
        "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
        "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
        "organizations_url": "https://api.github.com/users/qubvel/orgs",
        "repos_url": "https://api.github.com/users/qubvel/repos",
        "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
        "received_events_url": "https://api.github.com/users/qubvel/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/30803/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/30803/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2112721648",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2112721648",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2112721648,
          "node_id": "IC_kwDOCUB6oc597ZLw",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-15T14:36:33Z",
          "updated_at": "2024-05-15T14:36:33Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @conditionedstimulus, thanks for opening a PR! \r\n\r\nJust skimming over the modeling files, it looks like all of the modules are copied from, or can be copied from conditional DETR. Are there any architectural changes this model brings? If not, then all we need to do is convert the checkpoints and upload those to the hub such that they can be loaded in ConditionalDETR directly ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2112721648/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2113416335",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2113416335",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2113416335,
          "node_id": "IC_kwDOCUB6oc59-CyP",
          "user": {
            "login": "conditionedstimulus",
            "id": 37246112,
            "node_id": "MDQ6VXNlcjM3MjQ2MTEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/37246112?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/conditionedstimulus",
            "html_url": "https://github.com/conditionedstimulus",
            "followers_url": "https://api.github.com/users/conditionedstimulus/followers",
            "following_url": "https://api.github.com/users/conditionedstimulus/following{/other_user}",
            "gists_url": "https://api.github.com/users/conditionedstimulus/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/conditionedstimulus/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/conditionedstimulus/subscriptions",
            "organizations_url": "https://api.github.com/users/conditionedstimulus/orgs",
            "repos_url": "https://api.github.com/users/conditionedstimulus/repos",
            "events_url": "https://api.github.com/users/conditionedstimulus/events{/privacy}",
            "received_events_url": "https://api.github.com/users/conditionedstimulus/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-15T20:38:01Z",
          "updated_at": "2024-05-15T20:38:01Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Hi @conditionedstimulus, thanks for opening a PR!\r\n> \r\n> Just skimming over the modeling files, it looks like all of the modules are copied from, or can be copied from conditional DETR. Are there any architectural changes this model brings? If not, then all we need to do is convert the checkpoints and upload those to the hub such that they can be loaded in ConditionalDETR directly\r\n\r\nHi Amy,\r\n\r\nI attached a photo comparing the cross-attention of the decoder in DETR, Conditional DETR, and DAB DETR, as this is the main architectural difference. I copied the code from Conditional DETR because this model is an extension/evolved version of Conditional DETR. I believe it would be cool and useful to include this model in the HF object detection collection.\r\n![Screenshot 2024-05-15 at 22 25 15](https://github.com/huggingface/transformers/assets/37246112/0eefc8af-b6cd-447a-9c2f-d4dc714ba019)\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2113416335/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2117442141",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2117442141",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2117442141,
          "node_id": "IC_kwDOCUB6oc5-NZpd",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-17T12:00:10Z",
          "updated_at": "2024-05-17T12:00:10Z",
          "author_association": "COLLABORATOR",
          "body": "@conditionedstimulus Thanks for sharing! OK, seems useful to have this available as an option as part of the DETR family in the library. Feel free to ping me when the PR is ready for review. \r\n\r\ncc @qubvel for reference ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2117442141/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2180451436",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2180451436",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2180451436,
          "node_id": "IC_kwDOCUB6oc6B9wxs",
          "user": {
            "login": "conditionedstimulus",
            "id": 37246112,
            "node_id": "MDQ6VXNlcjM3MjQ2MTEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/37246112?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/conditionedstimulus",
            "html_url": "https://github.com/conditionedstimulus",
            "followers_url": "https://api.github.com/users/conditionedstimulus/followers",
            "following_url": "https://api.github.com/users/conditionedstimulus/following{/other_user}",
            "gists_url": "https://api.github.com/users/conditionedstimulus/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/conditionedstimulus/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/conditionedstimulus/subscriptions",
            "organizations_url": "https://api.github.com/users/conditionedstimulus/orgs",
            "repos_url": "https://api.github.com/users/conditionedstimulus/repos",
            "events_url": "https://api.github.com/users/conditionedstimulus/events{/privacy}",
            "received_events_url": "https://api.github.com/users/conditionedstimulus/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-20T11:31:24Z",
          "updated_at": "2024-06-20T11:31:24Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @amyeroberts,\r\n\r\nI'm ready with version 0.1, but I've encountered some issues that require your assistance and guidance.\r\n\r\nI trained two models: \r\n- One on the CPPE-5 dataset following the HF Object Detection tutorial ([link to the notebook](https://github.com/conditionedstimulus/hf_media/blob/main/CPPE_5.ipynb)) (Results could be better)\r\n- The other on the balloon dataset as per the Transformers Tutorials [(link to the notebook)](https://github.com/conditionedstimulus/hf_media/blob/main/Fine_tuning_DAB_DETR_on_custom_dataset_(balloon).ipynb). (Results could be better)\r\n- Additionally, I forked the original implementation of the model to compare the outputs (with my implementation in HF) [(link to the notebook)](https://github.com/conditionedstimulus/DAB-DETR/blob/comparing_original_model_w_hf_model/inference_and_visualize.ipynb).\r\n\r\n\r\n**Issues**\r\n1. Segmentation Head\r\nUnfortunately, the segmentation head wasn't thoroughly tested. Due to this reason, it isn't currently included in the HF tests. (BTW, I left the copied code there.) I opened an [issue](https://github.com/IDEA-Research/DAB-DETR/issues/77) on their Github but I also found their [answer](https://github.com/IDEA-Research/DAB-DETR/issues/28) under a similar issue.\r\n\r\n2. Shared Weights\r\nDAB DETR utilizes shared weights, which has caused some challenges with the saving methods in HF. This has also led to similar saving issues in the HF trainer. I'm curious to know if you have any insights or solutions to address this problem. [This portion of the code is particularly relevant to this issue.](https://github.com/conditionedstimulus/transformers/blob/0151f654de3e7d058d53cb44e2ecf307f4fbc1db/src/transformers/models/dab_detr/modeling_dab_detr.py#L1520)\r\n\r\n3. Github Checks are failing. \r\nI attempted to investigate further, but I lack the necessary permissions to access the reasons for the failures.\r\n\r\n4. Image processor test fails.\r\nI probably didn't need to implement the ImageProcessor since it's identical to the one used in Conditional DETR, and AutoProcessor should handle it. However, I implemented it just in case.\r\n\r\nThe image processor test for the DAB DETR model is encountering some inconsistencies. When executed as a .py file, it fails to produce the desired results. However, upon running the command \"tests/models/dab_detr/test_image_processing_dab_detr.py::DABDETRImageProcessingTest,\" the test successfully passes. Interestingly, the regular DETR model's image processor test exhibits similar issues, indicating a potential broader problem. It's unclear whether this is specific to my local setup or a more widespread concern.\r\n\r\n**Changes and open questions**\r\n\r\n- Removed the DetrAttention module.\r\nI wasn't sure why this module is part of all DETR-based model implementations. After testing the models, I realized that the reason might be to track the gradient values of the encoder model's attention weights when the optional parameter output_attentions is set to True. In the original implementation, they used a simple torch.nn.MultiHeadAttention. I did the same because the code is much simpler, and the attention weights are still extractable for each layer, just like in the Hugging Face approach. The only difference is that the gradient values are not available in the original PyTorch implementation. Is this a significant issue?\r\n\r\n- Slightly 'hackish' transformation.\r\nSince I didn't use the DetrAttention module, I also avoided the [_prepare_4d_attention_mask](https://github.com/conditionedstimulus/transformers/blob/0151f654de3e7d058d53cb44e2ecf307f4fbc1db/src/transformers/models/conditional_detr/modeling_conditional_detr.py#L26) method, which handles pixel_masks transformation. In the original implementation, the image processor managed the pixels and padding in the opposite manner compared to Hugging Face (HF). Specifically, HF uses pixel_values: 1 and padding: 0, whereas the original implementation uses pixel_values: 0 and padding: 1. Consequently, in the HF universe, you need to transform these values as I [did](https://github.com/conditionedstimulus/transformers/blob/0151f654de3e7d058d53cb44e2ecf307f4fbc1db/src/transformers/models/dab_detr/modeling_dab_detr.py#L1617) or as it's done in [_prepare_4d_attention_mask](https://github.com/conditionedstimulus/transformers/blob/0151f654de3e7d058d53cb44e2ecf307f4fbc1db/src/transformers/modeling_attn_mask_utils.py#L184). It's not the most elegant solution, but it works. (Side note: Mine is a boolean tensor, while the HF one is already an Int or FloatTensor.)\r\n\r\n- Dropout in Encoder\r\nThere is a dropout step in line [1176](https://github.com/conditionedstimulus/transformers/blob/ffbb1dce4537f7dc8e74c90bddad668e7142cb91/src/transformers/models/dab_detr/modeling_dab_detr.py#L1176) that is not part of the original implementation (not even in Conditional DETR). I commented it out, but it might still be important for the training process.\r\n\r\n- Bbox Embed Initialization\r\nAlthough it's not the most elegant solution, it seems crucial to initialize these weights properly. Therefore, I added the [initialization](https://github.com/conditionedstimulus/transformers/blob/ffbb1dce4537f7dc8e74c90bddad668e7142cb91/src/transformers/models/dab_detr/modeling_dab_detr.py#L1514) to the self.post_init() method as shown, rather than leaving it solely in the DABDETRModel init function.\r\n\r\n- return_dict=False is messy.\r\nWhen there are many return variables then it gets messy.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2180451436/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2181094037",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2181094037",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2181094037,
          "node_id": "IC_kwDOCUB6oc6CANqV",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-20T16:26:38Z",
          "updated_at": "2024-06-20T16:26:38Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @conditionedstimulus, great! Glad the model is ready for its first review. \r\n\r\nWith regards to the issues, could you provide more details? Specifically what is the expected behaviour, what is being experienced, and ideally any errors with full error traceback. Statements like: \"which has caused some challenges with the saving methods in HF\" are under specified (there's infinite ways something can not work) so unfortunately can't help without more information. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2181094037/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2182353170",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2182353170",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2182353170,
          "node_id": "IC_kwDOCUB6oc6CFBES",
          "user": {
            "login": "conditionedstimulus",
            "id": 37246112,
            "node_id": "MDQ6VXNlcjM3MjQ2MTEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/37246112?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/conditionedstimulus",
            "html_url": "https://github.com/conditionedstimulus",
            "followers_url": "https://api.github.com/users/conditionedstimulus/followers",
            "following_url": "https://api.github.com/users/conditionedstimulus/following{/other_user}",
            "gists_url": "https://api.github.com/users/conditionedstimulus/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/conditionedstimulus/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/conditionedstimulus/subscriptions",
            "organizations_url": "https://api.github.com/users/conditionedstimulus/orgs",
            "repos_url": "https://api.github.com/users/conditionedstimulus/repos",
            "events_url": "https://api.github.com/users/conditionedstimulus/events{/privacy}",
            "received_events_url": "https://api.github.com/users/conditionedstimulus/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-21T09:14:26Z",
          "updated_at": "2024-06-21T09:21:48Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @amyeroberts,\r\n\r\n\r\nShared weights issue. I copied the full error traceback. The error is easy to reproduce since I skipped the following tests:\r\n- test_save_load\r\n- test_save_load_fast_init_from_base\r\n- test_model_weights_reload_no_missing_tied_weights\r\n- test_load_save_without_tied_weights\r\n\r\n```\r\n\r\n__________________________________________________________________________________________ DABDETRModelTest.test_save_load __________________________________________________________________________________________\r\n\r\nself = <tests.models.dab_detr.test_modeling_dab_detr.DABDETRModelTest testMethod=test_save_load>\r\n\r\n    def test_save_load(self):\r\n        config, inputs_dict = self.model_tester.prepare_config_and_inputs_for_common()\r\n    \r\n        def check_save_load(out1, out2):\r\n            # make sure we don't have nans\r\n            out_2 = out2.cpu().numpy()\r\n            out_2[np.isnan(out_2)] = 0\r\n    \r\n            out_1 = out1.cpu().numpy()\r\n            out_1[np.isnan(out_1)] = 0\r\n            max_diff = np.amax(np.abs(out_1 - out_2))\r\n            self.assertLessEqual(max_diff, 1e-5)\r\n    \r\n        for model_class in self.all_model_classes:\r\n            model = model_class(config)\r\n            model.to(torch_device)\r\n            model.eval()\r\n            with torch.no_grad():\r\n                first = model(**self._prepare_for_class(inputs_dict, model_class))[0]\r\n    \r\n            with tempfile.TemporaryDirectory() as tmpdirname:\r\n>               model.save_pretrained(tmpdirname)\r\n\r\ntests/test_modeling_common.py:266: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\nself = DABDETRModel(\r\n  (query_refpoint_embeddings): Embedding(12, 4)\r\n  (input_projection): Conv2d(40, 32, kernel_size=(1, 1),...ar(in_features=32, out_features=32, bias=True)\r\n      (2): Linear(in_features=32, out_features=4, bias=True)\r\n    )\r\n  )\r\n)\r\nsave_directory = '/var/folders/n9/k7bfnd3961v0l7nx7ld043sh0000gn/T/tmpq3y_y3ef', is_main_process = True\r\nstate_dict = OrderedDict({'query_refpoint_embeddings.weight': tensor([[-0.0194,  0.0063, -0.0108, -0.0017],\r\n        [ 0.0267,  0.02... 0., 0., 0., 0., 0.,\r\n         0., 0., 0., 0., 0., 0., 0., 0.]]), 'bbox_embed.layers.2.bias': tensor([0., 0., 0., 0.])})\r\nsave_function = <function save at 0x1183b8cc0>, push_to_hub = False, max_shard_size = '5GB', safe_serialization = True, variant = None, token = None, save_peft_format = True, kwargs = {}, use_auth_token = None\r\nignore_metadata_errors = False, _hf_peft_config_loaded = False, hf_quantizer = None, quantization_serializable = False\r\n\r\n    def save_pretrained(\r\n        self,\r\n        save_directory: Union[str, os.PathLike],\r\n        is_main_process: bool = True,\r\n        state_dict: Optional[dict] = None,\r\n        save_function: Callable = torch.save,\r\n        push_to_hub: bool = False,\r\n        max_shard_size: Union[int, str] = \"5GB\",\r\n        safe_serialization: bool = True,\r\n        variant: Optional[str] = None,\r\n        token: Optional[Union[str, bool]] = None,\r\n        save_peft_format: bool = True,\r\n        **kwargs,\r\n    ):\r\n        \"\"\"\r\n        Save a model and its configuration file to a directory, so that it can be re-loaded using the\r\n        [`~PreTrainedModel.from_pretrained`] class method.\r\n    \r\n        Arguments:\r\n            save_directory (`str` or `os.PathLike`):\r\n                Directory to which to save. Will be created if it doesn't exist.\r\n            is_main_process (`bool`, *optional*, defaults to `True`):\r\n                Whether the process calling this is the main process or not. Useful when in distributed training like\r\n                TPUs and need to call this function on all processes. In this case, set `is_main_process=True` only on\r\n                the main process to avoid race conditions.\r\n            state_dict (nested dictionary of `torch.Tensor`):\r\n                The state dictionary of the model to save. Will default to `self.state_dict()`, but can be used to only\r\n                save parts of the model or if special precautions need to be taken when recovering the state dictionary\r\n                of a model (like when using model parallelism).\r\n            save_function (`Callable`):\r\n                The function to use to save the state dictionary. Useful on distributed training like TPUs when one\r\n                need to replace `torch.save` by another method.\r\n            push_to_hub (`bool`, *optional*, defaults to `False`):\r\n                Whether or not to push your model to the Hugging Face model hub after saving it. You can specify the\r\n                repository you want to push to with `repo_id` (will default to the name of `save_directory` in your\r\n                namespace).\r\n            max_shard_size (`int` or `str`, *optional*, defaults to `\"5GB\"`):\r\n                The maximum size for a checkpoint before being sharded. Checkpoints shard will then be each of size\r\n                lower than this size. If expressed as a string, needs to be digits followed by a unit (like `\"5MB\"`).\r\n                We default it to 5GB in order for models to be able to run easily on free-tier google colab instances\r\n                without CPU OOM issues.\r\n    \r\n                <Tip warning={true}>\r\n    \r\n                If a single weight of the model is bigger than `max_shard_size`, it will be in its own checkpoint shard\r\n                which will be bigger than `max_shard_size`.\r\n    \r\n                </Tip>\r\n    \r\n            safe_serialization (`bool`, *optional*, defaults to `True`):\r\n                Whether to save the model using `safetensors` or the traditional PyTorch way (that uses `pickle`).\r\n            variant (`str`, *optional*):\r\n                If specified, weights are saved in the format pytorch_model.<variant>.bin.\r\n            token (`str` or `bool`, *optional*):\r\n                The token to use as HTTP bearer authorization for remote files. If `True`, or not specified, will use\r\n                the token generated when running `huggingface-cli login` (stored in `~/.huggingface`).\r\n            save_peft_format (`bool`, *optional*, defaults to `True`):\r\n                For backward compatibility with PEFT library, in case adapter weights are attached to the model, all\r\n                keys of the state dict of adapters needs to be pre-pended with `base_model.model`. Advanced users can\r\n                disable this behaviours by setting `save_peft_format` to `False`.\r\n            kwargs (`Dict[str, Any]`, *optional*):\r\n                Additional key word arguments passed along to the [`~utils.PushToHubMixin.push_to_hub`] method.\r\n        \"\"\"\r\n        use_auth_token = kwargs.pop(\"use_auth_token\", None)\r\n        ignore_metadata_errors = kwargs.pop(\"ignore_metadata_errors\", False)\r\n    \r\n        if use_auth_token is not None:\r\n            warnings.warn(\r\n                \"The `use_auth_token` argument is deprecated and will be removed in v5 of Transformers. Please use `token` instead.\",\r\n                FutureWarning,\r\n            )\r\n            if token is not None:\r\n                raise ValueError(\r\n                    \"`token` and `use_auth_token` are both specified. Please set only the argument `token`.\"\r\n                )\r\n            token = use_auth_token\r\n    \r\n        if token is not None:\r\n            kwargs[\"token\"] = token\r\n    \r\n        _hf_peft_config_loaded = getattr(self, \"_hf_peft_config_loaded\", False)\r\n    \r\n        hf_quantizer = getattr(self, \"hf_quantizer\", None)\r\n        quantization_serializable = (\r\n            hf_quantizer is not None and isinstance(hf_quantizer, HfQuantizer) and hf_quantizer.is_serializable\r\n        )\r\n    \r\n        if hf_quantizer is not None and not _hf_peft_config_loaded and not quantization_serializable:\r\n            raise ValueError(\r\n                f\"The model is quantized with {hf_quantizer.quantization_config.quant_method} and is not serializable - check out the warnings from\"\r\n                \" the logger on the traceback to understand the reason why the quantized model is not serializable.\"\r\n            )\r\n    \r\n        if \"save_config\" in kwargs:\r\n            warnings.warn(\r\n                \"`save_config` is deprecated and will be removed in v5 of Transformers. Use `is_main_process` instead.\"\r\n            )\r\n            is_main_process = kwargs.pop(\"save_config\")\r\n        if safe_serialization and not is_safetensors_available():\r\n            raise ImportError(\"`safe_serialization` requires the `safetensors library: `pip install safetensors`.\")\r\n    \r\n        if os.path.isfile(save_directory):\r\n            logger.error(f\"Provided path ({save_directory}) should be a directory, not a file\")\r\n            return\r\n    \r\n        os.makedirs(save_directory, exist_ok=True)\r\n    \r\n        if push_to_hub:\r\n            commit_message = kwargs.pop(\"commit_message\", None)\r\n            repo_id = kwargs.pop(\"repo_id\", save_directory.split(os.path.sep)[-1])\r\n            repo_id = self._create_repo(repo_id, **kwargs)\r\n            files_timestamps = self._get_files_timestamps(save_directory)\r\n    \r\n        # Only save the model itself if we are using distributed training\r\n        model_to_save = unwrap_model(self)\r\n    \r\n        # save the string version of dtype to the config, e.g. convert torch.float32 => \"float32\"\r\n        # we currently don't use this setting automatically, but may start to use with v5\r\n        dtype = get_parameter_dtype(model_to_save)\r\n        model_to_save.config.torch_dtype = str(dtype).split(\".\")[1]\r\n    \r\n        # Attach architecture to the config\r\n        model_to_save.config.architectures = [model_to_save.__class__.__name__]\r\n    \r\n        # If we have a custom model, we copy the file defining it in the folder and set the attributes so it can be\r\n        # loaded from the Hub.\r\n        if self._auto_class is not None:\r\n            custom_object_save(self, save_directory, config=self.config)\r\n    \r\n        # Save the config\r\n        if is_main_process:\r\n            if not _hf_peft_config_loaded:\r\n                model_to_save.config.save_pretrained(save_directory)\r\n            if self.can_generate():\r\n                # generation config built from the model config + the model config holds generation kwargs -> generate\r\n                # may revert to legacy behavior if the two don't match\r\n                if (\r\n                    model_to_save.generation_config._from_model_config\r\n                    and model_to_save.config._has_non_default_generation_parameters()\r\n                ):\r\n                    new_generation_config = GenerationConfig.from_model_config(model_to_save.config)\r\n                    if new_generation_config != model_to_save.generation_config:\r\n                        logger.warning(\r\n                            \"Your generation config was originally created from the model config, but the model \"\r\n                            \"config has changed since then. Unless you pass the `generation_config` argument to this \"\r\n                            \"model's `generate` calls, they will revert to the legacy behavior where the base \"\r\n                            \"`generate` parameterization is loaded from the model config instead. \"\r\n                            \"To avoid this behavior and this warning, we recommend you to overwrite the generation \"\r\n                            \"config model attribute before calling the model's `save_pretrained`, preferably also \"\r\n                            \"removing any generation kwargs from the model config. This warning will be raised to an \"\r\n                            \"exception in v4.41.\"\r\n                        )\r\n                model_to_save.generation_config.save_pretrained(save_directory)\r\n    \r\n            if _hf_peft_config_loaded:\r\n                logger.info(\r\n                    \"Detected adapters on the model, saving the model in the PEFT format, only adapter weights will be saved.\"\r\n                )\r\n                state_dict = model_to_save.get_adapter_state_dict()\r\n    \r\n                if save_peft_format:\r\n                    logger.info(\r\n                        \"To match the expected format of the PEFT library, all keys of the state dict of adapters will be pre-pended with `base_model.model`.\"\r\n                    )\r\n                    peft_state_dict = {}\r\n                    for key, value in state_dict.items():\r\n                        peft_state_dict[f\"base_model.model.{key}\"] = value\r\n                    state_dict = peft_state_dict\r\n    \r\n                active_adapter = self.active_adapters()\r\n    \r\n                if len(active_adapter) > 1:\r\n                    raise ValueError(\r\n                        \"Multiple active adapters detected, saving multiple active adapters is not supported yet. You can save adapters separately one by one \"\r\n                        \"by iteratively calling `model.set_adapter(adapter_name)` then `model.save_pretrained(...)`\"\r\n                    )\r\n                active_adapter = active_adapter[0]\r\n    \r\n                current_peft_config = self.peft_config[active_adapter]\r\n                current_peft_config.save_pretrained(save_directory)\r\n    \r\n        # for offloaded modules\r\n        module_map = {}\r\n    \r\n        # Save the model\r\n        if state_dict is None:\r\n            # if any model parameters are offloaded to the disk, make module map\r\n            if hasattr(self, \"hf_device_map\") and (\r\n                \"cpu\" in self.hf_device_map.values() or \"disk\" in self.hf_device_map.values()\r\n            ):\r\n                warnings.warn(\r\n                    \"Attempting to save a model with offloaded modules. Ensure that unallocated cpu memory exceeds the `shard_size` (5GB default)\"\r\n                )\r\n                for name, module in model_to_save.named_modules():\r\n                    if name == \"\":\r\n                        continue\r\n                    module_state_dict = module.state_dict()\r\n    \r\n                    for key in module_state_dict:\r\n                        module_map[name + f\".{key}\"] = module\r\n    \r\n            state_dict = model_to_save.state_dict()\r\n    \r\n        # Translate state_dict from smp to hf if saving with smp >= 1.10\r\n        if IS_SAGEMAKER_MP_POST_1_10:\r\n            for smp_to_hf, _ in smp.state.module_manager.translate_functions:\r\n                state_dict = smp_to_hf(state_dict)\r\n    \r\n        # Handle the case where some state_dict keys shouldn't be saved\r\n        if self._keys_to_ignore_on_save is not None:\r\n            for ignore_key in self._keys_to_ignore_on_save:\r\n                if ignore_key in state_dict.keys():\r\n                    del state_dict[ignore_key]\r\n        if safe_serialization:\r\n            # Safetensors does not allow tensor aliasing.\r\n            # We're going to remove aliases before saving\r\n            ptrs = collections.defaultdict(list)\r\n            for name, tensor in state_dict.items():\r\n                # Sometimes in the state_dict we have non-tensor objects.\r\n                # e.g. in bitsandbytes we have some `str` objects in the state_dict\r\n                if isinstance(tensor, torch.Tensor):\r\n                    ptrs[id_tensor_storage(tensor)].append(name)\r\n                else:\r\n                    # In the non-tensor case, fall back to the pointer of the object itself\r\n                    ptrs[id(tensor)].append(name)\r\n    \r\n            # These are all the pointers of shared tensors\r\n            if hasattr(self, \"hf_device_map\"):\r\n                # if the model has offloaded parameters, we must check using find_tied_parameters()\r\n                tied_params = find_tied_parameters(self)\r\n                if tied_params:\r\n                    tied_names = tied_params[0]\r\n                    shared_ptrs = {\r\n                        ptr: names for ptr, names in ptrs.items() if any(name in tied_names for name in names)\r\n                    }\r\n                else:\r\n                    shared_ptrs = {}\r\n            else:\r\n                shared_ptrs = {ptr: names for ptr, names in ptrs.items() if len(names) > 1}\r\n    \r\n            # Recursively descend to find tied weight keys\r\n            _tied_weights_keys = _get_tied_weight_keys(self)\r\n            error_names = []\r\n            to_delete_names = set()\r\n            for names in shared_ptrs.values():\r\n                # Removing the keys which are declared as known duplicates on\r\n                # load. This allows to make sure the name which is kept is consistent.\r\n                if _tied_weights_keys is not None:\r\n                    found = 0\r\n                    for name in sorted(names):\r\n                        matches_pattern = any(re.search(pat, name) for pat in _tied_weights_keys)\r\n                        if matches_pattern and name in state_dict:\r\n                            found += 1\r\n                            if found < len(names):\r\n                                to_delete_names.add(name)\r\n            # We are entering a place where the weights and the transformers configuration do NOT match.\r\n            shared_names, disjoint_names = _find_disjoint(shared_ptrs.values(), state_dict)\r\n            # Those are actually tensor sharing but disjoint from each other, we can safely clone them\r\n            # Reloaded won't have the same property, but it shouldn't matter in any meaningful way.\r\n            for name in disjoint_names:\r\n                state_dict[name] = state_dict[name].clone()\r\n    \r\n            # When not all duplicates have been cleaned, still remove those keys, but put a clear warning.\r\n            # If the link between tensors was done at runtime then `from_pretrained` will not get\r\n            # the key back leading to random tensor. A proper warning will be shown\r\n            # during reload (if applicable), but since the file is not necessarily compatible with\r\n            # the config, better show a proper warning.\r\n            shared_names, identical_names = _find_identical(shared_names, state_dict)\r\n            # delete tensors that have identical storage\r\n            for inames in identical_names:\r\n                known = inames.intersection(to_delete_names)\r\n                for name in known:\r\n                    del state_dict[name]\r\n                unknown = inames.difference(to_delete_names)\r\n                if len(unknown) > 1:\r\n                    error_names.append(unknown)\r\n    \r\n            if shared_names:\r\n                error_names.append(set(shared_names))\r\n    \r\n            if len(error_names) > 0:\r\n>               raise RuntimeError(\r\n                    f\"The weights trying to be saved contained shared tensors {error_names} that are mismatching the transformers base configuration. Try saving using `safe_serialization=False` or remove this tensor sharing.\",\r\n                )\r\nE               RuntimeError: The weights trying to be saved contained shared tensors [{'bbox_embed.layers.0.weight', 'decoder.bbox_embed.layers.0.weight'}, {'bbox_embed.layers.0.bias', 'decoder.bbox_embed.layers.0.bias'}, {'bbox_embed.layers.1.weight', 'decoder.bbox_embed.layers.1.weight'}, {'decoder.bbox_embed.layers.1.bias', 'bbox_embed.layers.1.bias'}, {'bbox_embed.layers.2.weight', 'decoder.bbox_embed.layers.2.weight'}, {'bbox_embed.layers.2.bias', 'decoder.bbox_embed.layers.2.bias'}] that are mismatching the transformers base configuration. Try saving using `safe_serialization=False` or remove this tensor sharing.\r\n\r\nsrc/transformers/modeling_utils.py:2616: RuntimeError\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2182353170/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2182364095",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2182364095",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2182364095,
          "node_id": "IC_kwDOCUB6oc6CFDu_",
          "user": {
            "login": "conditionedstimulus",
            "id": 37246112,
            "node_id": "MDQ6VXNlcjM3MjQ2MTEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/37246112?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/conditionedstimulus",
            "html_url": "https://github.com/conditionedstimulus",
            "followers_url": "https://api.github.com/users/conditionedstimulus/followers",
            "following_url": "https://api.github.com/users/conditionedstimulus/following{/other_user}",
            "gists_url": "https://api.github.com/users/conditionedstimulus/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/conditionedstimulus/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/conditionedstimulus/subscriptions",
            "organizations_url": "https://api.github.com/users/conditionedstimulus/orgs",
            "repos_url": "https://api.github.com/users/conditionedstimulus/repos",
            "events_url": "https://api.github.com/users/conditionedstimulus/events{/privacy}",
            "received_events_url": "https://api.github.com/users/conditionedstimulus/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-21T09:20:23Z",
          "updated_at": "2024-06-21T09:20:45Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts \r\n4. Image processor test error.\r\n\r\nAs I mentioned earlier, it only fails if I run it as: \r\n`RUN_SLOW=1 pytest tests/models/dab_detr/test_image_processing_dab_detr.py`\r\nIf I run it as: \r\n`RUN_SLOW=1 pytest tests/models/dab_detr/test_image_processing_dab_detr.py::DABDETRImageProcessingTest`\r\n, there are no issues\r\n\r\n\r\nError:\r\n```\r\n====================================================================================================== ERRORS =======================================================================================================\r\n_____________________________________________________________________ ERROR collecting tests/models/dab_detr/test_image_processing_dab_detr.py ______________________________________________________________________\r\n/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/case.py:511: in __hash__\r\n    return hash((type(self), self._testMethodName))\r\nE   AttributeError: 'DABDETRImageProcessingTester' object has no attribute '_testMethodName'\r\n================================================================================================= warnings summary ==================================================================================================\r\n.venv/lib/python3.12/site-packages/_pytest/config/__init__.py:1448\r\n  /Users/davidhajdu/Desktop/Projects/transformers/.venv/lib/python3.12/site-packages/_pytest/config/__init__.py:1448: PytestConfigWarning: Unknown config option: doctest_glob\r\n  \r\n    self._warn_or_fail_if_strict(f\"Unknown config option: {key}\\n\")\r\n\r\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\r\n============================================================================================== short test summary info ==============================================================================================\r\nERROR tests/models/dab_detr/test_image_processing_dab_detr.py::DABDETRImageProcessingTester - AttributeError: 'DABDETRImageProcessingTester' object has no attribute '_testMethodName'\r\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2182364095/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2185809376",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2185809376",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2185809376,
          "node_id": "IC_kwDOCUB6oc6CSM3g",
          "user": {
            "login": "qubvel",
            "id": 31920396,
            "node_id": "MDQ6VXNlcjMxOTIwMzk2",
            "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qubvel",
            "html_url": "https://github.com/qubvel",
            "followers_url": "https://api.github.com/users/qubvel/followers",
            "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
            "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
            "organizations_url": "https://api.github.com/users/qubvel/orgs",
            "repos_url": "https://api.github.com/users/qubvel/repos",
            "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qubvel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-24T07:33:11Z",
          "updated_at": "2024-06-24T07:43:01Z",
          "author_association": "MEMBER",
          "body": "Hi, @conditionedstimulus thanks for working on this model!\r\n\r\nRegarding the shared weights issue, you probably should add `_tied_weights_keys = [r\"bbox_embed\\.\\d+\"]` as a model class variable.\r\n\r\nFor example DETA code:\r\nhttps://github.com/huggingface/transformers/blob/dce253f645e3fce0e4f5d34740ba643ecd2e573d/src/transformers/models/deprecated/deta/modeling_deta.py#L1853\r\n\r\nRegarding errors with image processor testing. There was a similar question in [PR](https://github.com/huggingface/transformers/pull/30566), see the [comment](https://github.com/huggingface/transformers/pull/30566#issuecomment-2088589295). \r\n\r\nI hope that helps \ud83e\udd17 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2185809376/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2189166088",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2189166088",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2189166088,
          "node_id": "IC_kwDOCUB6oc6CfAYI",
          "user": {
            "login": "conditionedstimulus",
            "id": 37246112,
            "node_id": "MDQ6VXNlcjM3MjQ2MTEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/37246112?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/conditionedstimulus",
            "html_url": "https://github.com/conditionedstimulus",
            "followers_url": "https://api.github.com/users/conditionedstimulus/followers",
            "following_url": "https://api.github.com/users/conditionedstimulus/following{/other_user}",
            "gists_url": "https://api.github.com/users/conditionedstimulus/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/conditionedstimulus/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/conditionedstimulus/subscriptions",
            "organizations_url": "https://api.github.com/users/conditionedstimulus/orgs",
            "repos_url": "https://api.github.com/users/conditionedstimulus/repos",
            "events_url": "https://api.github.com/users/conditionedstimulus/events{/privacy}",
            "received_events_url": "https://api.github.com/users/conditionedstimulus/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-25T14:47:32Z",
          "updated_at": "2024-06-25T14:47:32Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @qubvel and @amyeroberts,\r\n\r\nThanks to @qubvel's hints, the issues with shared weights and the local testing environment have been resolved. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2189166088/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2189370207",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2189370207",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2189370207,
          "node_id": "IC_kwDOCUB6oc6CfyNf",
          "user": {
            "login": "conditionedstimulus",
            "id": 37246112,
            "node_id": "MDQ6VXNlcjM3MjQ2MTEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/37246112?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/conditionedstimulus",
            "html_url": "https://github.com/conditionedstimulus",
            "followers_url": "https://api.github.com/users/conditionedstimulus/followers",
            "following_url": "https://api.github.com/users/conditionedstimulus/following{/other_user}",
            "gists_url": "https://api.github.com/users/conditionedstimulus/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/conditionedstimulus/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/conditionedstimulus/subscriptions",
            "organizations_url": "https://api.github.com/users/conditionedstimulus/orgs",
            "repos_url": "https://api.github.com/users/conditionedstimulus/repos",
            "events_url": "https://api.github.com/users/conditionedstimulus/events{/privacy}",
            "received_events_url": "https://api.github.com/users/conditionedstimulus/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-25T16:09:23Z",
          "updated_at": "2024-06-25T16:11:28Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @amyeroberts,\r\n\r\n**EDIT: The issue might be due to using my forked transformers and the original transformers simultaneously.**\r\n\r\nThere is still an issue with saving the model in the safetensor format when using the Huggingface Trainer. This is puzzling because I was able to save the model without any issues, and all the save/load tests were successful.\r\n\r\nI am fine-tuning the model again using the [HF Object Detection Tutorial Notebook](https://huggingface.co/docs/transformers/en/tasks/object_detection). The 'save_safetensors' parameter in TrainingArguments is set to 'True' by default.\r\n\r\nDespite this, I encountered the following error:\r\n\r\n```\r\nRuntimeError                              Traceback (most recent call last)\r\n[<ipython-input-19-4ca345dc2cd2>](https://localhost:8080/#) in <cell line: 13>()\r\n     11 )\r\n     12 \r\n---> 13 trainer.train()\r\n\r\n\r\n\r\n7 frames\r\n\r\n[/usr/local/lib/python3.10/dist-packages/transformers/trainer.py](https://localhost:8080/#) in train(self, resume_from_checkpoint, trial, ignore_keys_for_eval, **kwargs)\r\n   1874                 # Disable progress bars when uploading models during checkpoints to avoid polluting stdout\r\n   1875                 hf_hub_utils.disable_progress_bars()\r\n-> 1876                 return inner_training_loop(\r\n   1877                     args=args,\r\n   1878                     resume_from_checkpoint=resume_from_checkpoint,\r\n\r\n[/usr/local/lib/python3.10/dist-packages/transformers/trainer.py](https://localhost:8080/#) in _inner_training_loop(self, batch_size, args, resume_from_checkpoint, trial, ignore_keys_for_eval)\r\n   2309 \r\n   2310             self.control = self.callback_handler.on_epoch_end(args, self.state, self.control)\r\n-> 2311             self._maybe_log_save_evaluate(tr_loss, grad_norm, model, trial, epoch, ignore_keys_for_eval)\r\n   2312 \r\n   2313             if DebugOption.TPU_METRICS_DEBUG in self.args.debug:\r\n\r\n[/usr/local/lib/python3.10/dist-packages/transformers/trainer.py](https://localhost:8080/#) in _maybe_log_save_evaluate(self, tr_loss, grad_norm, model, trial, epoch, ignore_keys_for_eval)\r\n   2730 \r\n   2731         if self.control.should_save:\r\n-> 2732             self._save_checkpoint(model, trial, metrics=metrics)\r\n   2733             self.control = self.callback_handler.on_save(self.args, self.state, self.control)\r\n   2734 \r\n\r\n[/usr/local/lib/python3.10/dist-packages/transformers/trainer.py](https://localhost:8080/#) in _save_checkpoint(self, model, trial, metrics)\r\n   2809         run_dir = self._get_output_dir(trial=trial)\r\n   2810         output_dir = os.path.join(run_dir, checkpoint_folder)\r\n-> 2811         self.save_model(output_dir, _internal_call=True)\r\n   2812 \r\n   2813         if not self.args.save_only_model:\r\n\r\n[/usr/local/lib/python3.10/dist-packages/transformers/trainer.py](https://localhost:8080/#) in save_model(self, output_dir, _internal_call)\r\n   3353 \r\n   3354         elif self.args.should_save:\r\n-> 3355             self._save(output_dir)\r\n   3356 \r\n   3357         # Push to the Hub when `save_model` is called by the user.\r\n\r\n[/usr/local/lib/python3.10/dist-packages/transformers/trainer.py](https://localhost:8080/#) in _save(self, output_dir, state_dict)\r\n   3424                 logger.info(\"Trainer.model is not a `PreTrainedModel`, only saving its state dict.\")\r\n   3425                 if self.args.save_safetensors:\r\n-> 3426                     safetensors.torch.save_file(\r\n   3427                         state_dict, os.path.join(output_dir, SAFE_WEIGHTS_NAME), metadata={\"format\": \"pt\"}\r\n   3428                     )\r\n\r\n[/usr/local/lib/python3.10/dist-packages/safetensors/torch.py](https://localhost:8080/#) in save_file(tensors, filename, metadata)\r\n    282     ```\r\n    283     \"\"\"\r\n--> 284     serialize_file(_flatten(tensors), filename, metadata=metadata)\r\n    285 \r\n    286 \r\n\r\n[/usr/local/lib/python3.10/dist-packages/safetensors/torch.py](https://localhost:8080/#) in _flatten(tensors)\r\n    478 \r\n    479     if failing:\r\n--> 480         raise RuntimeError(\r\n    481             f\"\"\"\r\n    482             Some tensors share memory, this will lead to duplicate memory on disk and potential differences when loading them again: {failing}.\r\n\r\nRuntimeError: \r\n            Some tensors share memory, this will lead to duplicate memory on disk and potential differences when loading them again: [{'bbox_predictor.layers.0.weight', 'model.decoder.bbox_embed.layers.0.weight'}, {'model.decoder.bbox_embed.layers.0.bias', 'bbox_predictor.layers.0.bias'}, {'bbox_predictor.layers.1.weight', 'model.decoder.bbox_embed.layers.1.weight'}, {'model.decoder.bbox_embed.layers.1.bias', 'bbox_predictor.layers.1.bias'}, {'bbox_predictor.layers.2.weight', 'model.decoder.bbox_embed.layers.2.weight'}, {'model.decoder.bbox_embed.layers.2.bias', 'bbox_predictor.layers.2.bias'}].\r\n            A potential way to correctly save your model is to use `save_model`.\r\n            More information at https://huggingface.co/docs/safetensors/torch_shared_tensors\r\n```\r\n\r\nTrainingArguments (with save_safetensors=False it works):\r\n```\r\ntraining_args = TrainingArguments(\r\n    output_dir=\"dab_detr_finetuned_cppe5\",\r\n    num_train_epochs=30,\r\n    fp16=False,\r\n    per_device_train_batch_size=8,\r\n    dataloader_num_workers=4,\r\n    learning_rate=5e-5,\r\n    lr_scheduler_type=\"cosine\",\r\n    weight_decay=1e-4,\r\n    max_grad_norm=0.01,\r\n    metric_for_best_model=\"eval_map\",\r\n    greater_is_better=True,\r\n    load_best_model_at_end=True,\r\n    eval_strategy=\"epoch\",\r\n    save_strategy=\"epoch\",\r\n    save_total_limit=2,\r\n    remove_unused_columns=False,\r\n    eval_do_concat_batches=False,\r\n    save_safetensors=False,\r\n    push_to_hub=True,\r\n)\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2189370207/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2218201501",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2218201501",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2218201501,
          "node_id": "IC_kwDOCUB6oc6ENxGd",
          "user": {
            "login": "conditionedstimulus",
            "id": 37246112,
            "node_id": "MDQ6VXNlcjM3MjQ2MTEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/37246112?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/conditionedstimulus",
            "html_url": "https://github.com/conditionedstimulus",
            "followers_url": "https://api.github.com/users/conditionedstimulus/followers",
            "following_url": "https://api.github.com/users/conditionedstimulus/following{/other_user}",
            "gists_url": "https://api.github.com/users/conditionedstimulus/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/conditionedstimulus/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/conditionedstimulus/subscriptions",
            "organizations_url": "https://api.github.com/users/conditionedstimulus/orgs",
            "repos_url": "https://api.github.com/users/conditionedstimulus/repos",
            "events_url": "https://api.github.com/users/conditionedstimulus/events{/privacy}",
            "received_events_url": "https://api.github.com/users/conditionedstimulus/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-09T16:44:27Z",
          "updated_at": "2024-07-09T16:44:27Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @amyeroberts,\r\n\r\nJust wondering what's next for this pull request. I know there are higher priority tasks, so no rush. Whenever you get a chance, could you give me an update or an estimated timeline for the review?\r\nThank you!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2218201501/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2219943316",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2219943316",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2219943316,
          "node_id": "IC_kwDOCUB6oc6EUaWU",
          "user": {
            "login": "qubvel",
            "id": 31920396,
            "node_id": "MDQ6VXNlcjMxOTIwMzk2",
            "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qubvel",
            "html_url": "https://github.com/qubvel",
            "followers_url": "https://api.github.com/users/qubvel/followers",
            "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
            "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
            "organizations_url": "https://api.github.com/users/qubvel/orgs",
            "repos_url": "https://api.github.com/users/qubvel/repos",
            "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qubvel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-10T08:56:25Z",
          "updated_at": "2024-07-10T09:18:47Z",
          "author_association": "MEMBER",
          "body": "Hi @conditionedstimulus ~~it seems like the tied weights issue is not resolved, probably you should also add \"bbox_predictor\" pattern to the list.~~\r\n\r\nOh, I see it's already there...\r\n\r\nThere are also some quality tests failing, can you, please, fix them?\r\n```\r\nValueError: The model table in the `index.md` has not been updated. Run `make fix-copies` to fix this.\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2219943316/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2220685754",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2220685754",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2220685754,
          "node_id": "IC_kwDOCUB6oc6EXPm6",
          "user": {
            "login": "conditionedstimulus",
            "id": 37246112,
            "node_id": "MDQ6VXNlcjM3MjQ2MTEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/37246112?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/conditionedstimulus",
            "html_url": "https://github.com/conditionedstimulus",
            "followers_url": "https://api.github.com/users/conditionedstimulus/followers",
            "following_url": "https://api.github.com/users/conditionedstimulus/following{/other_user}",
            "gists_url": "https://api.github.com/users/conditionedstimulus/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/conditionedstimulus/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/conditionedstimulus/subscriptions",
            "organizations_url": "https://api.github.com/users/conditionedstimulus/orgs",
            "repos_url": "https://api.github.com/users/conditionedstimulus/repos",
            "events_url": "https://api.github.com/users/conditionedstimulus/events{/privacy}",
            "received_events_url": "https://api.github.com/users/conditionedstimulus/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-10T14:34:34Z",
          "updated_at": "2024-07-10T14:34:34Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Hi @conditionedstimulus ~it seems like the tied weights issue is not resolved, probably you should also add \"bbox_predictor\" pattern to the list.~\r\n> \r\n> Oh, I see it's already there...\r\n> \r\n> There are also some quality tests failing, can you, please, fix them?\r\n> \r\n> ```\r\n> ValueError: The model table in the `index.md` has not been updated. Run `make fix-copies` to fix this.\r\n> ```\r\n\r\nHi @qubvel,\r\n\r\nThank you for your feedback. I really needed to fix some parts! It's all good now.\r\n\r\nThanks!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2220685754/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2247607409",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2247607409",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2247607409,
          "node_id": "IC_kwDOCUB6oc6F98Rx",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-24T10:57:54Z",
          "updated_at": "2024-07-24T10:57:54Z",
          "author_association": "COLLABORATOR",
          "body": "@qubvel For first review if you have time ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2247607409/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2258784992",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2258784992",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2258784992,
          "node_id": "IC_kwDOCUB6oc6GolLg",
          "user": {
            "login": "conditionedstimulus",
            "id": 37246112,
            "node_id": "MDQ6VXNlcjM3MjQ2MTEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/37246112?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/conditionedstimulus",
            "html_url": "https://github.com/conditionedstimulus",
            "followers_url": "https://api.github.com/users/conditionedstimulus/followers",
            "following_url": "https://api.github.com/users/conditionedstimulus/following{/other_user}",
            "gists_url": "https://api.github.com/users/conditionedstimulus/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/conditionedstimulus/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/conditionedstimulus/subscriptions",
            "organizations_url": "https://api.github.com/users/conditionedstimulus/orgs",
            "repos_url": "https://api.github.com/users/conditionedstimulus/repos",
            "events_url": "https://api.github.com/users/conditionedstimulus/events{/privacy}",
            "received_events_url": "https://api.github.com/users/conditionedstimulus/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-30T16:47:28Z",
          "updated_at": "2024-07-30T17:06:51Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @qubvel,\r\n\r\nThank you for your review, suggestions, and highlights!\r\n\r\nI have addressed many of your comments and updated the code accordingly. However, there is still some confusion regarding DABDETRAttention. I\u2019ve provided more details in the comments and hope it clarifies the issues.\r\n\r\nThanks again, and I look forward to your response!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2258784992/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2274381424",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2274381424",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2274381424,
          "node_id": "IC_kwDOCUB6oc6HkE5w",
          "user": {
            "login": "conditionedstimulus",
            "id": 37246112,
            "node_id": "MDQ6VXNlcjM3MjQ2MTEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/37246112?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/conditionedstimulus",
            "html_url": "https://github.com/conditionedstimulus",
            "followers_url": "https://api.github.com/users/conditionedstimulus/followers",
            "following_url": "https://api.github.com/users/conditionedstimulus/following{/other_user}",
            "gists_url": "https://api.github.com/users/conditionedstimulus/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/conditionedstimulus/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/conditionedstimulus/subscriptions",
            "organizations_url": "https://api.github.com/users/conditionedstimulus/orgs",
            "repos_url": "https://api.github.com/users/conditionedstimulus/repos",
            "events_url": "https://api.github.com/users/conditionedstimulus/events{/privacy}",
            "received_events_url": "https://api.github.com/users/conditionedstimulus/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-07T21:29:00Z",
          "updated_at": "2024-08-07T21:29:00Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @qubvel ,\r\n\r\nThank you for your review once again!\r\n\r\nI\u2019ve made the code modifications and answered your suggestions and requests in the comments.\r\n\r\n- I discovered an issue related to repo consistency and style. In the `DABDETRConfig` file, there are two variables essential for setting the backbone structure: `dilatation` and `num_channels`. Since these parameters are only used in the configuration file and not in the modeling code (which only utilizes `load_backbone`), the `repo-consistency` check fails because of this discrepancy. At the moment it fails on `make style` because I added them to DABDETRConvEncoder as unused parameters. \r\nAny suggestions, maybe I should refactor the whole backbone config in the configuration file?\r\n\r\n\r\n- There are config parameters, such as query_scale_type, that don\u2019t work with the pretrained structure. I'm wondering how you handle these issues, if at all.\r\n\r\nThanks again, and I look forward to your response!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2274381424/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2309901556",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2309901556",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2309901556,
          "node_id": "IC_kwDOCUB6oc6Jrkz0",
          "user": {
            "login": "conditionedstimulus",
            "id": 37246112,
            "node_id": "MDQ6VXNlcjM3MjQ2MTEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/37246112?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/conditionedstimulus",
            "html_url": "https://github.com/conditionedstimulus",
            "followers_url": "https://api.github.com/users/conditionedstimulus/followers",
            "following_url": "https://api.github.com/users/conditionedstimulus/following{/other_user}",
            "gists_url": "https://api.github.com/users/conditionedstimulus/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/conditionedstimulus/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/conditionedstimulus/subscriptions",
            "organizations_url": "https://api.github.com/users/conditionedstimulus/orgs",
            "repos_url": "https://api.github.com/users/conditionedstimulus/repos",
            "events_url": "https://api.github.com/users/conditionedstimulus/events{/privacy}",
            "received_events_url": "https://api.github.com/users/conditionedstimulus/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-26T10:41:05Z",
          "updated_at": "2024-08-26T10:41:05Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @qubvel ,\r\n\r\nHow are you doing?\r\nI merged the main branch and updated the config file. However, I'm not sure how to pass the tests with the dilation and num_channels parameters, since the style check fails if these are only used in the config file and not in the main file. \r\nDo you have any hints on how to pass the tests? \r\nAt the moment, they are hard-coded, but that's just a temporary solution to pass the tests.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2309901556/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2310291072",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2310291072",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2310291072,
          "node_id": "IC_kwDOCUB6oc6JtD6A",
          "user": {
            "login": "qubvel",
            "id": 31920396,
            "node_id": "MDQ6VXNlcjMxOTIwMzk2",
            "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qubvel",
            "html_url": "https://github.com/qubvel",
            "followers_url": "https://api.github.com/users/qubvel/followers",
            "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
            "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
            "organizations_url": "https://api.github.com/users/qubvel/orgs",
            "repos_url": "https://api.github.com/users/qubvel/repos",
            "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qubvel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-26T14:00:06Z",
          "updated_at": "2024-08-26T14:00:06Z",
          "author_association": "MEMBER",
          "body": "Hi @conditionedstimulus will have a look today/tomorrow!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2310291072/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2337311167",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2337311167",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2337311167,
          "node_id": "IC_kwDOCUB6oc6LUIm_",
          "user": {
            "login": "conditionedstimulus",
            "id": 37246112,
            "node_id": "MDQ6VXNlcjM3MjQ2MTEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/37246112?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/conditionedstimulus",
            "html_url": "https://github.com/conditionedstimulus",
            "followers_url": "https://api.github.com/users/conditionedstimulus/followers",
            "following_url": "https://api.github.com/users/conditionedstimulus/following{/other_user}",
            "gists_url": "https://api.github.com/users/conditionedstimulus/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/conditionedstimulus/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/conditionedstimulus/subscriptions",
            "organizations_url": "https://api.github.com/users/conditionedstimulus/orgs",
            "repos_url": "https://api.github.com/users/conditionedstimulus/repos",
            "events_url": "https://api.github.com/users/conditionedstimulus/events{/privacy}",
            "received_events_url": "https://api.github.com/users/conditionedstimulus/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-09T07:14:46Z",
          "updated_at": "2024-09-09T07:15:11Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @qubvel ,\r\n\r\nAny update?:)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2337311167/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2337926178",
          "html_url": "https://github.com/huggingface/transformers/pull/30803#issuecomment-2337926178",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30803",
          "id": 2337926178,
          "node_id": "IC_kwDOCUB6oc6LWewi",
          "user": {
            "login": "qubvel",
            "id": 31920396,
            "node_id": "MDQ6VXNlcjMxOTIwMzk2",
            "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qubvel",
            "html_url": "https://github.com/qubvel",
            "followers_url": "https://api.github.com/users/qubvel/followers",
            "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
            "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
            "organizations_url": "https://api.github.com/users/qubvel/orgs",
            "repos_url": "https://api.github.com/users/qubvel/repos",
            "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qubvel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-09T11:58:05Z",
          "updated_at": "2024-09-09T11:58:23Z",
          "author_association": "MEMBER",
          "body": "Hi @conditionedstimulus thanks for fixing the previous comments and sorry for the silence :)\r\n\r\n1. Do we need `dilation` and `num_channels` then? How is it handled in RT-DETR?\r\n2. Do you mean that `query_scale_type` will not work with other backbones? I suppose we might warn about it",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2337926178/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/17938",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/17938/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/17938/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/17938/events",
      "html_url": "https://github.com/huggingface/transformers/pull/17938",
      "id": 1288737423,
      "node_id": "PR_kwDOCUB6oc46kXGy",
      "number": 17938,
      "title": "Add OWL-ViT model for zero-shot object detection",
      "user": {
        "login": "alaradirik",
        "id": 8944735,
        "node_id": "MDQ6VXNlcjg5NDQ3MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8944735?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alaradirik",
        "html_url": "https://github.com/alaradirik",
        "followers_url": "https://api.github.com/users/alaradirik/followers",
        "following_url": "https://api.github.com/users/alaradirik/following{/other_user}",
        "gists_url": "https://api.github.com/users/alaradirik/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/alaradirik/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/alaradirik/subscriptions",
        "organizations_url": "https://api.github.com/users/alaradirik/orgs",
        "repos_url": "https://api.github.com/users/alaradirik/repos",
        "events_url": "https://api.github.com/users/alaradirik/events{/privacy}",
        "received_events_url": "https://api.github.com/users/alaradirik/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 3,
      "created_at": "2022-06-29T13:35:08Z",
      "updated_at": "2022-08-05T17:49:24Z",
      "closed_at": "2022-07-22T10:35:32Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/17938",
        "html_url": "https://github.com/huggingface/transformers/pull/17938",
        "diff_url": "https://github.com/huggingface/transformers/pull/17938.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/17938.patch",
        "merged_at": "2022-07-22T10:35:32Z"
      },
      "body": "# What does this PR do?\r\n- Adds OwlViT model for open-vocabulary object detection. Model takes in one or multiple text queries per image as input.\r\n\r\nOriginal repo:\r\nhttps://github.com/google-research/scenic/tree/a41d24676f64a2158bfcd7cb79b0a87673aa875b/scenic/projects/owl_vit\r\n\r\nTest notebook:\r\nhttps://colab.research.google.com/drive/1IMPWZcnlMy-tdnTDrUcOZU3oiGg-hTem?usp=sharing\r\n\r\n@sgugger could you review my draft PR, please?\r\n",
      "closed_by": {
        "login": "alaradirik",
        "id": 8944735,
        "node_id": "MDQ6VXNlcjg5NDQ3MzU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8944735?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/alaradirik",
        "html_url": "https://github.com/alaradirik",
        "followers_url": "https://api.github.com/users/alaradirik/followers",
        "following_url": "https://api.github.com/users/alaradirik/following{/other_user}",
        "gists_url": "https://api.github.com/users/alaradirik/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/alaradirik/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/alaradirik/subscriptions",
        "organizations_url": "https://api.github.com/users/alaradirik/orgs",
        "repos_url": "https://api.github.com/users/alaradirik/repos",
        "events_url": "https://api.github.com/users/alaradirik/events{/privacy}",
        "received_events_url": "https://api.github.com/users/alaradirik/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/17938/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/17938/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1180374392",
          "html_url": "https://github.com/huggingface/transformers/pull/17938#issuecomment-1180374392",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17938",
          "id": 1180374392,
          "node_id": "IC_kwDOCUB6oc5GWxV4",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-07-11T12:54:06Z",
          "updated_at": "2022-07-22T10:48:19Z",
          "author_association": "NONE",
          "body": "_The documentation is not available anymore as the PR was closed or merged._",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1180374392/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1206695011",
          "html_url": "https://github.com/huggingface/transformers/pull/17938#issuecomment-1206695011",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17938",
          "id": 1206695011,
          "node_id": "IC_kwDOCUB6oc5H7LRj",
          "user": {
            "login": "innat",
            "id": 17668390,
            "node_id": "MDQ6VXNlcjE3NjY4Mzkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/17668390?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/innat",
            "html_url": "https://github.com/innat",
            "followers_url": "https://api.github.com/users/innat/followers",
            "following_url": "https://api.github.com/users/innat/following{/other_user}",
            "gists_url": "https://api.github.com/users/innat/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/innat/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/innat/subscriptions",
            "organizations_url": "https://api.github.com/users/innat/orgs",
            "repos_url": "https://api.github.com/users/innat/repos",
            "events_url": "https://api.github.com/users/innat/events{/privacy}",
            "received_events_url": "https://api.github.com/users/innat/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-08-05T17:43:12Z",
          "updated_at": "2022-08-05T17:43:12Z",
          "author_association": "NONE",
          "body": "Any plan to extend it for TensorFlow version? \r\nThere seems to be [conversion script](https://github.com/google-research/scenic/tree/a41d24676f64a2158bfcd7cb79b0a87673aa875b/scenic/projects/owl_vit#conversion-to-tensorflow) officially. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1206695011/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1206701602",
          "html_url": "https://github.com/huggingface/transformers/pull/17938#issuecomment-1206701602",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17938",
          "id": 1206701602,
          "node_id": "IC_kwDOCUB6oc5H7M4i",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-08-05T17:49:23Z",
          "updated_at": "2022-08-05T17:49:23Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @innat. Yes, @alaradirik is already working on it! The PR is here: https://github.com/huggingface/transformers/pull/18450\r\n\r\nYou can find out which models are being implemented by searching the open issues and PRs [for example](https://github.com/huggingface/transformers/pulls?q=is%3Apr+is%3Aopen+owlvit)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1206701602/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/20775/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/20775/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/20775/events",
      "html_url": "https://github.com/huggingface/transformers/pull/20775",
      "id": 1497739031,
      "node_id": "PR_kwDOCUB6oc5FgljJ",
      "number": 20775,
      "title": "Add BridgeTower model",
      "user": {
        "login": "abhiwand",
        "id": 12353176,
        "node_id": "MDQ6VXNlcjEyMzUzMTc2",
        "avatar_url": "https://avatars.githubusercontent.com/u/12353176?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/abhiwand",
        "html_url": "https://github.com/abhiwand",
        "followers_url": "https://api.github.com/users/abhiwand/followers",
        "following_url": "https://api.github.com/users/abhiwand/following{/other_user}",
        "gists_url": "https://api.github.com/users/abhiwand/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/abhiwand/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/abhiwand/subscriptions",
        "organizations_url": "https://api.github.com/users/abhiwand/orgs",
        "repos_url": "https://api.github.com/users/abhiwand/repos",
        "events_url": "https://api.github.com/users/abhiwand/events{/privacy}",
        "received_events_url": "https://api.github.com/users/abhiwand/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 19,
      "created_at": "2022-12-15T03:52:04Z",
      "updated_at": "2023-01-25T19:47:04Z",
      "closed_at": "2023-01-25T19:04:33Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/20775",
        "html_url": "https://github.com/huggingface/transformers/pull/20775",
        "diff_url": "https://github.com/huggingface/transformers/pull/20775.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/20775.patch",
        "merged_at": "2023-01-25T19:04:33Z"
      },
      "body": "# What does this PR do?\r\n\r\nThis PR implements a HuggingFace Transformers version of **BridgeTower: Building Bridges Between Encoders in Vision-Language Representation Learning** from the paper https://arxiv.org/abs/2206.08657.pdf\r\n\r\nThis paper has been accepted to https://aaai.org/Conferences/AAAI-23/\r\n\r\nThe model's pre-trained checkpoints and configurations have been released here:\r\nhttps://huggingface.co/BridgeTower under:\r\n\r\n-  https://huggingface.co/BridgeTower/bridgetower-base-itm-mlm\r\n-  https://huggingface.co/BridgeTower/bridgetower-base\r\n\r\nThe following heads have been implemented:\r\n\r\n- BridgeTowerForMaskedLM\r\n- BridgeTowerForImageAndTextRetrieval\r\n\r\n## Before submitting\r\n- [ ] This PR fixes a typo or improves the docs (you can dismiss the other checks if that's the case).\r\n- [x] Did you read the [contributor guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#start-contributing-pull-requests),\r\n      Pull Request section?\r\n- [ ] Was this discussed/approved via a Github issue or the [forum](https://discuss.huggingface.co/)? Please add a link\r\n      to it if that's the case.\r\n- [x] Did you make sure to update the documentation with your changes? Here are the\r\n      [documentation guidelines](https://github.com/huggingface/transformers/tree/main/docs), and\r\n      [here are tips on formatting docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).\r\n- [x] Did you write any new necessary tests?\r\n\r\n@amyeroberts @NielsRogge @ArthurZucker could you please assist with review and feedback.\r\n\r\n@philschmid ",
      "closed_by": {
        "login": "sgugger",
        "id": 35901082,
        "node_id": "MDQ6VXNlcjM1OTAxMDgy",
        "avatar_url": "https://avatars.githubusercontent.com/u/35901082?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sgugger",
        "html_url": "https://github.com/sgugger",
        "followers_url": "https://api.github.com/users/sgugger/followers",
        "following_url": "https://api.github.com/users/sgugger/following{/other_user}",
        "gists_url": "https://api.github.com/users/sgugger/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sgugger/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sgugger/subscriptions",
        "organizations_url": "https://api.github.com/users/sgugger/orgs",
        "repos_url": "https://api.github.com/users/sgugger/repos",
        "events_url": "https://api.github.com/users/sgugger/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sgugger/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/20775/reactions",
        "total_count": 2,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 2,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/20775/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1352532504",
          "html_url": "https://github.com/huggingface/transformers/pull/20775#issuecomment-1352532504",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
          "id": 1352532504,
          "node_id": "IC_kwDOCUB6oc5QngIY",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-15T04:08:37Z",
          "updated_at": "2023-01-25T19:07:24Z",
          "author_association": "NONE",
          "body": "_The documentation is not available anymore as the PR was closed or merged._",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1352532504/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1352545103",
          "html_url": "https://github.com/huggingface/transformers/pull/20775#issuecomment-1352545103",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
          "id": 1352545103,
          "node_id": "IC_kwDOCUB6oc5QnjNP",
          "user": {
            "login": "abhiwand",
            "id": 12353176,
            "node_id": "MDQ6VXNlcjEyMzUzMTc2",
            "avatar_url": "https://avatars.githubusercontent.com/u/12353176?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abhiwand",
            "html_url": "https://github.com/abhiwand",
            "followers_url": "https://api.github.com/users/abhiwand/followers",
            "following_url": "https://api.github.com/users/abhiwand/following{/other_user}",
            "gists_url": "https://api.github.com/users/abhiwand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abhiwand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abhiwand/subscriptions",
            "organizations_url": "https://api.github.com/users/abhiwand/orgs",
            "repos_url": "https://api.github.com/users/abhiwand/repos",
            "events_url": "https://api.github.com/users/abhiwand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abhiwand/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-15T04:28:25Z",
          "updated_at": "2022-12-15T04:28:25Z",
          "author_association": "CONTRIBUTOR",
          "body": "The docs for the model here https://moon-ci-docs.huggingface.co/docs/transformers/pr_20775/en/model_doc/bridgetower\r\nshow up under Text Models. This needs to be under **Multimodal Models**. Can someone please assist?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1352545103/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1356111725",
          "html_url": "https://github.com/huggingface/transformers/pull/20775#issuecomment-1356111725",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
          "id": 1356111725,
          "node_id": "IC_kwDOCUB6oc5Q1J9t",
          "user": {
            "login": "abhiwand",
            "id": 12353176,
            "node_id": "MDQ6VXNlcjEyMzUzMTc2",
            "avatar_url": "https://avatars.githubusercontent.com/u/12353176?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abhiwand",
            "html_url": "https://github.com/abhiwand",
            "followers_url": "https://api.github.com/users/abhiwand/followers",
            "following_url": "https://api.github.com/users/abhiwand/following{/other_user}",
            "gists_url": "https://api.github.com/users/abhiwand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abhiwand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abhiwand/subscriptions",
            "organizations_url": "https://api.github.com/users/abhiwand/orgs",
            "repos_url": "https://api.github.com/users/abhiwand/repos",
            "events_url": "https://api.github.com/users/abhiwand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abhiwand/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-17T08:04:55Z",
          "updated_at": "2022-12-17T08:04:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks a lot for your review @younesbelkada \r\nWe have addressed your comments in our latest commits. We have cleaned up the code based on your feedback!\r\nWe do plan to upload some more to the hub once this PR is merged successfully. \r\n\r\nPlease do let us know if you have any more suggestions and feedback.\r\n\r\nAny help on the failing style checks and tests will be really appreciated.\r\n\r\n> Thanks so much for adding this new model into `transformers` and introducing another multimodal model on the ecosystem! The PR is in a very good shape! Very strong efforts on the integration side, we should be close merging this once the main comments will be addressed. I left a couple of comments, my main comments being code readability / structure comments:\r\n> \r\n> * Feature extractors are deprecated and should be replaced by Image Processors only. This would require a very minimal change. Check what is done in BLIP for instance: #20716\r\n> * From what I have understood only 2 models are uploaded on the Hub, therefore I think that the model initialization and forward functions of `FusionHead` and `LinkTower` can be much more simplified\r\n> * I understand that some layers needs to be freezed. You can wrap the freezing procedure in a class method, and call it only if the module is in a training model (i.e., if `self.training = True` )\r\n> * Please avoid using variable names such as `x`, `x1`, or `x1_` as it makes harder to understand what the variable is meant to be. Consider calling these variables `hidden_states`, or any. Same comments for variables such as `image_embeds` and `image_embeds_`.\r\n> * I think that there is no need to assert that the tokenizer in a Roberta tokenizer. Tokenization auto does it magically for you\r\n> * Let's wrap all the weights initialization methods in the method `_init_weights` and call `self.post_init()` at the end of the init method for each module that inherits from `BridgeTowerPreTrainedModel`.\r\n> * Regarding your question about documentation, you should add it together with CLIP, [here](https://github.com/huggingface/transformers/blob/1543cee7c8c95ef47f832b1f37625ba2923c4994/docs/source/en/_toctree.yml#L498) in the multi modal models section.\r\n>   Again thank you very much!\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1356111725/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1357702375",
          "html_url": "https://github.com/huggingface/transformers/pull/20775#issuecomment-1357702375",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
          "id": 1357702375,
          "node_id": "IC_kwDOCUB6oc5Q7OTn",
          "user": {
            "login": "NielsRogge",
            "id": 48327001,
            "node_id": "MDQ6VXNlcjQ4MzI3MDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/48327001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NielsRogge",
            "html_url": "https://github.com/NielsRogge",
            "followers_url": "https://api.github.com/users/NielsRogge/followers",
            "following_url": "https://api.github.com/users/NielsRogge/following{/other_user}",
            "gists_url": "https://api.github.com/users/NielsRogge/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NielsRogge/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NielsRogge/subscriptions",
            "organizations_url": "https://api.github.com/users/NielsRogge/orgs",
            "repos_url": "https://api.github.com/users/NielsRogge/repos",
            "events_url": "https://api.github.com/users/NielsRogge/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NielsRogge/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-19T13:50:19Z",
          "updated_at": "2022-12-19T13:50:26Z",
          "author_association": "CONTRIBUTOR",
          "body": "@abhiwand thanks a lot for your PR! Are you also planning to add classes for the downstream tasks (like VQA)?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1357702375/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1363465405",
          "html_url": "https://github.com/huggingface/transformers/pull/20775#issuecomment-1363465405",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
          "id": 1363465405,
          "node_id": "IC_kwDOCUB6oc5RRNS9",
          "user": {
            "login": "abhiwand",
            "id": 12353176,
            "node_id": "MDQ6VXNlcjEyMzUzMTc2",
            "avatar_url": "https://avatars.githubusercontent.com/u/12353176?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abhiwand",
            "html_url": "https://github.com/abhiwand",
            "followers_url": "https://api.github.com/users/abhiwand/followers",
            "following_url": "https://api.github.com/users/abhiwand/following{/other_user}",
            "gists_url": "https://api.github.com/users/abhiwand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abhiwand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abhiwand/subscriptions",
            "organizations_url": "https://api.github.com/users/abhiwand/orgs",
            "repos_url": "https://api.github.com/users/abhiwand/repos",
            "events_url": "https://api.github.com/users/abhiwand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abhiwand/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-23T00:24:01Z",
          "updated_at": "2022-12-23T00:24:01Z",
          "author_association": "CONTRIBUTOR",
          "body": "> @abhiwand thanks a lot for your PR! Are you also planning to add classes for the downstream tasks (like VQA)?\r\n\r\n@NielsRogge We are hoping to add VQA/other downstream tasks in the coming months and also release some more models to the model-hub. In this PR however, we won't be doing so.\r\nWe have addressed most of the review feedback. Could you please help merge this PR if you it looks good to you?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1363465405/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1363540945",
          "html_url": "https://github.com/huggingface/transformers/pull/20775#issuecomment-1363540945",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
          "id": 1363540945,
          "node_id": "IC_kwDOCUB6oc5RRfvR",
          "user": {
            "login": "abhiwand",
            "id": 12353176,
            "node_id": "MDQ6VXNlcjEyMzUzMTc2",
            "avatar_url": "https://avatars.githubusercontent.com/u/12353176?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abhiwand",
            "html_url": "https://github.com/abhiwand",
            "followers_url": "https://api.github.com/users/abhiwand/followers",
            "following_url": "https://api.github.com/users/abhiwand/following{/other_user}",
            "gists_url": "https://api.github.com/users/abhiwand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abhiwand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abhiwand/subscriptions",
            "organizations_url": "https://api.github.com/users/abhiwand/orgs",
            "repos_url": "https://api.github.com/users/abhiwand/repos",
            "events_url": "https://api.github.com/users/abhiwand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abhiwand/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-23T02:05:56Z",
          "updated_at": "2022-12-23T05:44:34Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts @NielsRogge @younesbelkada I think we've handled almost all your comments and simplified and streamlined the code significantly wherever possible.\r\n\r\nIf you'll approve, can you'll please merge this PR. You are welcome to make changes too. Thank you very much for your valuable feedback!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1363540945/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1366274664",
          "html_url": "https://github.com/huggingface/transformers/pull/20775#issuecomment-1366274664",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
          "id": 1366274664,
          "node_id": "IC_kwDOCUB6oc5Rb7Jo",
          "user": {
            "login": "abhiwand",
            "id": 12353176,
            "node_id": "MDQ6VXNlcjEyMzUzMTc2",
            "avatar_url": "https://avatars.githubusercontent.com/u/12353176?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abhiwand",
            "html_url": "https://github.com/abhiwand",
            "followers_url": "https://api.github.com/users/abhiwand/followers",
            "following_url": "https://api.github.com/users/abhiwand/following{/other_user}",
            "gists_url": "https://api.github.com/users/abhiwand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abhiwand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abhiwand/subscriptions",
            "organizations_url": "https://api.github.com/users/abhiwand/orgs",
            "repos_url": "https://api.github.com/users/abhiwand/repos",
            "events_url": "https://api.github.com/users/abhiwand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abhiwand/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-28T00:15:54Z",
          "updated_at": "2022-12-28T00:15:54Z",
          "author_association": "CONTRIBUTOR",
          "body": "> @amyeroberts @NielsRogge @younesbelkada I think we've handled almost all your comments and simplified and streamlined the code significantly wherever possible.\r\n> \r\n> If you'll approve, can you'll please merge this PR. You are welcome to make changes too. Thank you very much for your valuable feedback!\r\n\r\n@amyeroberts @NielsRogge @younesbelkada Could you please help merge this PR :) Thanks! Happy Holidays.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1366274664/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1370597590",
          "html_url": "https://github.com/huggingface/transformers/pull/20775#issuecomment-1370597590",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
          "id": 1370597590,
          "node_id": "IC_kwDOCUB6oc5RsajW",
          "user": {
            "login": "tileintel",
            "id": 97980157,
            "node_id": "U_kgDOBdcO_Q",
            "avatar_url": "https://avatars.githubusercontent.com/u/97980157?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tileintel",
            "html_url": "https://github.com/tileintel",
            "followers_url": "https://api.github.com/users/tileintel/followers",
            "following_url": "https://api.github.com/users/tileintel/following{/other_user}",
            "gists_url": "https://api.github.com/users/tileintel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tileintel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tileintel/subscriptions",
            "organizations_url": "https://api.github.com/users/tileintel/orgs",
            "repos_url": "https://api.github.com/users/tileintel/repos",
            "events_url": "https://api.github.com/users/tileintel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tileintel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-04T08:09:31Z",
          "updated_at": "2023-01-04T08:09:31Z",
          "author_association": "CONTRIBUTOR",
          "body": "@NielsRogge Thanks a lot for your review! We have addressed your review feedback as possible.  If it looks good to you, could you please help merge this PR.\r\nCould you also please merge https://huggingface.co/datasets/huggingface/documentation-images/discussions/28 PR - @abhiwand moved it to the right folder.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1370597590/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1387416051",
          "html_url": "https://github.com/huggingface/transformers/pull/20775#issuecomment-1387416051",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
          "id": 1387416051,
          "node_id": "IC_kwDOCUB6oc5Ssknz",
          "user": {
            "login": "tileintel",
            "id": 97980157,
            "node_id": "U_kgDOBdcO_Q",
            "avatar_url": "https://avatars.githubusercontent.com/u/97980157?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tileintel",
            "html_url": "https://github.com/tileintel",
            "followers_url": "https://api.github.com/users/tileintel/followers",
            "following_url": "https://api.github.com/users/tileintel/following{/other_user}",
            "gists_url": "https://api.github.com/users/tileintel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tileintel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tileintel/subscriptions",
            "organizations_url": "https://api.github.com/users/tileintel/orgs",
            "repos_url": "https://api.github.com/users/tileintel/repos",
            "events_url": "https://api.github.com/users/tileintel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tileintel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-18T17:03:34Z",
          "updated_at": "2023-01-18T17:03:34Z",
          "author_association": "CONTRIBUTOR",
          "body": "Dear @NielsRogge and @sgugger,\r\nThanks a lot for your review! We have addressed your review feedback as possible. If it looks good to you, could you please help merge this PR.\r\nSincerely,",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1387416051/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1396213226",
          "html_url": "https://github.com/huggingface/transformers/pull/20775#issuecomment-1396213226",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
          "id": 1396213226,
          "node_id": "IC_kwDOCUB6oc5TOIXq",
          "user": {
            "login": "abhiwand",
            "id": 12353176,
            "node_id": "MDQ6VXNlcjEyMzUzMTc2",
            "avatar_url": "https://avatars.githubusercontent.com/u/12353176?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abhiwand",
            "html_url": "https://github.com/abhiwand",
            "followers_url": "https://api.github.com/users/abhiwand/followers",
            "following_url": "https://api.github.com/users/abhiwand/following{/other_user}",
            "gists_url": "https://api.github.com/users/abhiwand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abhiwand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abhiwand/subscriptions",
            "organizations_url": "https://api.github.com/users/abhiwand/orgs",
            "repos_url": "https://api.github.com/users/abhiwand/repos",
            "events_url": "https://api.github.com/users/abhiwand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abhiwand/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-18T23:08:25Z",
          "updated_at": "2023-01-18T23:08:25Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Thanks for your work on adding this new model! There are still a few things to do before we can merge it:\r\n> \r\n> * the model type should not be used to make tests inside modeling code (see comments below)\r\n> * make sure all of the modules defined take the config for all arguments directly extracted from it\r\n> * make sure all of the modules defined are prefixed with `BridgeTower`\r\n> \r\n> I've added comments below.\r\n\r\n@sgugger Thanks a lot for your review! We have updated our code to reflect your suggestions. If it looks good to you can you please help merge the PR. Thanks again!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1396213226/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1399047198",
          "html_url": "https://github.com/huggingface/transformers/pull/20775#issuecomment-1399047198",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
          "id": 1399047198,
          "node_id": "IC_kwDOCUB6oc5TY8Qe",
          "user": {
            "login": "abhiwand",
            "id": 12353176,
            "node_id": "MDQ6VXNlcjEyMzUzMTc2",
            "avatar_url": "https://avatars.githubusercontent.com/u/12353176?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abhiwand",
            "html_url": "https://github.com/abhiwand",
            "followers_url": "https://api.github.com/users/abhiwand/followers",
            "following_url": "https://api.github.com/users/abhiwand/following{/other_user}",
            "gists_url": "https://api.github.com/users/abhiwand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abhiwand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abhiwand/subscriptions",
            "organizations_url": "https://api.github.com/users/abhiwand/orgs",
            "repos_url": "https://api.github.com/users/abhiwand/repos",
            "events_url": "https://api.github.com/users/abhiwand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abhiwand/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-20T22:56:09Z",
          "updated_at": "2023-01-20T22:56:09Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Just added last comments around the `device` use: there is no need to add a `device` property to some of the modules introduced in this PR, you should rely on the device of other tensors.\r\n\r\nThanks @sgugger, we have addressed your feedback in the latest commit!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1399047198/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1400932989",
          "html_url": "https://github.com/huggingface/transformers/pull/20775#issuecomment-1400932989",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
          "id": 1400932989,
          "node_id": "IC_kwDOCUB6oc5TgIp9",
          "user": {
            "login": "abhiwand",
            "id": 12353176,
            "node_id": "MDQ6VXNlcjEyMzUzMTc2",
            "avatar_url": "https://avatars.githubusercontent.com/u/12353176?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/abhiwand",
            "html_url": "https://github.com/abhiwand",
            "followers_url": "https://api.github.com/users/abhiwand/followers",
            "following_url": "https://api.github.com/users/abhiwand/following{/other_user}",
            "gists_url": "https://api.github.com/users/abhiwand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/abhiwand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/abhiwand/subscriptions",
            "organizations_url": "https://api.github.com/users/abhiwand/orgs",
            "repos_url": "https://api.github.com/users/abhiwand/repos",
            "events_url": "https://api.github.com/users/abhiwand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/abhiwand/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-23T20:24:39Z",
          "updated_at": "2023-01-23T20:24:39Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Nice work!\r\n> \r\n> Left a few comments, mostly nits. Only major comments are about removing `pad` from the image processing file and allowing `eps` to be configurable for the layer norm layers. Otherwise looks good to go for me :)\r\n\r\nThanks for your suggestions @amyeroberts and approval. I have addressed your changes in the PR. Can you please help merge the PR?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1400932989/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1403430498",
          "html_url": "https://github.com/huggingface/transformers/pull/20775#issuecomment-1403430498",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
          "id": 1403430498,
          "node_id": "IC_kwDOCUB6oc5TpqZi",
          "user": {
            "login": "tileintel",
            "id": 97980157,
            "node_id": "U_kgDOBdcO_Q",
            "avatar_url": "https://avatars.githubusercontent.com/u/97980157?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tileintel",
            "html_url": "https://github.com/tileintel",
            "followers_url": "https://api.github.com/users/tileintel/followers",
            "following_url": "https://api.github.com/users/tileintel/following{/other_user}",
            "gists_url": "https://api.github.com/users/tileintel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tileintel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tileintel/subscriptions",
            "organizations_url": "https://api.github.com/users/tileintel/orgs",
            "repos_url": "https://api.github.com/users/tileintel/repos",
            "events_url": "https://api.github.com/users/tileintel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tileintel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-25T10:58:31Z",
          "updated_at": "2023-01-25T10:58:31Z",
          "author_association": "CONTRIBUTOR",
          "body": "@NielsRogge Our PR keeps failing at tests/pipelines/test_pipelines_automatic_speech_recognition.py::AutomaticSpeechRecognitionPipelineTests::test_return_timestamps_in_preprocess. Would you please help to see if it is because of BridgeTower or because of something else? \r\nThanks a lot",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1403430498/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1403750036",
          "html_url": "https://github.com/huggingface/transformers/pull/20775#issuecomment-1403750036",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
          "id": 1403750036,
          "node_id": "IC_kwDOCUB6oc5Tq4aU",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-25T14:57:56Z",
          "updated_at": "2023-01-25T14:57:56Z",
          "author_association": "COLLABORATOR",
          "body": "@abhiwand @tileintel Thanks for address all of the comments! On Monday there were two PRs merged into main which added `test_image_processing_common.py` (#20785) and updated the feature extractor references in the `test_image_processing_xxx.py` files (#20768). Could you update `test_image_processing_bridgetower.py` to reflect these please? \r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1403750036/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1404019077",
          "html_url": "https://github.com/huggingface/transformers/pull/20775#issuecomment-1404019077",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
          "id": 1404019077,
          "node_id": "IC_kwDOCUB6oc5Tr6GF",
          "user": {
            "login": "tileintel",
            "id": 97980157,
            "node_id": "U_kgDOBdcO_Q",
            "avatar_url": "https://avatars.githubusercontent.com/u/97980157?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tileintel",
            "html_url": "https://github.com/tileintel",
            "followers_url": "https://api.github.com/users/tileintel/followers",
            "following_url": "https://api.github.com/users/tileintel/following{/other_user}",
            "gists_url": "https://api.github.com/users/tileintel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tileintel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tileintel/subscriptions",
            "organizations_url": "https://api.github.com/users/tileintel/orgs",
            "repos_url": "https://api.github.com/users/tileintel/repos",
            "events_url": "https://api.github.com/users/tileintel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tileintel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-25T18:02:00Z",
          "updated_at": "2023-01-25T18:02:00Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts We have updated test_image_processing_bridgetower.py as you suggested. Thanks for the suggestion.\r\n@NielsRogge @amyeroberts @sgugger We have addressed all of the comments. Thanks a lot for helping us to review and approve this. We are very looking forward to having this PR merged into main soon. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1404019077/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 2,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1404098672",
          "html_url": "https://github.com/huggingface/transformers/pull/20775#issuecomment-1404098672",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
          "id": 1404098672,
          "node_id": "IC_kwDOCUB6oc5TsNhw",
          "user": {
            "login": "sgugger",
            "id": 35901082,
            "node_id": "MDQ6VXNlcjM1OTAxMDgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/35901082?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sgugger",
            "html_url": "https://github.com/sgugger",
            "followers_url": "https://api.github.com/users/sgugger/followers",
            "following_url": "https://api.github.com/users/sgugger/following{/other_user}",
            "gists_url": "https://api.github.com/users/sgugger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sgugger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sgugger/subscriptions",
            "organizations_url": "https://api.github.com/users/sgugger/orgs",
            "repos_url": "https://api.github.com/users/sgugger/repos",
            "events_url": "https://api.github.com/users/sgugger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sgugger/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-25T19:04:42Z",
          "updated_at": "2023-01-25T19:04:42Z",
          "author_association": "COLLABORATOR",
          "body": "Thanks again for your contribution!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1404098672/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1404110214",
          "html_url": "https://github.com/huggingface/transformers/pull/20775#issuecomment-1404110214",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
          "id": 1404110214,
          "node_id": "IC_kwDOCUB6oc5TsQWG",
          "user": {
            "login": "tileintel",
            "id": 97980157,
            "node_id": "U_kgDOBdcO_Q",
            "avatar_url": "https://avatars.githubusercontent.com/u/97980157?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tileintel",
            "html_url": "https://github.com/tileintel",
            "followers_url": "https://api.github.com/users/tileintel/followers",
            "following_url": "https://api.github.com/users/tileintel/following{/other_user}",
            "gists_url": "https://api.github.com/users/tileintel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tileintel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tileintel/subscriptions",
            "organizations_url": "https://api.github.com/users/tileintel/orgs",
            "repos_url": "https://api.github.com/users/tileintel/repos",
            "events_url": "https://api.github.com/users/tileintel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tileintel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-25T19:15:13Z",
          "updated_at": "2023-01-25T19:15:44Z",
          "author_association": "CONTRIBUTOR",
          "body": "@sgugger Thank you for merging this PR. May I ask when BridgeTower model will go to HuggingFace's production and what release is that? \r\nThanks",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1404110214/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1404141716",
          "html_url": "https://github.com/huggingface/transformers/pull/20775#issuecomment-1404141716",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
          "id": 1404141716,
          "node_id": "IC_kwDOCUB6oc5TsYCU",
          "user": {
            "login": "sgugger",
            "id": 35901082,
            "node_id": "MDQ6VXNlcjM1OTAxMDgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/35901082?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sgugger",
            "html_url": "https://github.com/sgugger",
            "followers_url": "https://api.github.com/users/sgugger/followers",
            "following_url": "https://api.github.com/users/sgugger/following{/other_user}",
            "gists_url": "https://api.github.com/users/sgugger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sgugger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sgugger/subscriptions",
            "organizations_url": "https://api.github.com/users/sgugger/orgs",
            "repos_url": "https://api.github.com/users/sgugger/repos",
            "events_url": "https://api.github.com/users/sgugger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sgugger/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-25T19:44:57Z",
          "updated_at": "2023-01-25T19:44:57Z",
          "author_association": "COLLABORATOR",
          "body": "The next release will be in a month roughly (given the fast last release was yesterday).",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1404141716/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1404143741",
          "html_url": "https://github.com/huggingface/transformers/pull/20775#issuecomment-1404143741",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20775",
          "id": 1404143741,
          "node_id": "IC_kwDOCUB6oc5TsYh9",
          "user": {
            "login": "tileintel",
            "id": 97980157,
            "node_id": "U_kgDOBdcO_Q",
            "avatar_url": "https://avatars.githubusercontent.com/u/97980157?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tileintel",
            "html_url": "https://github.com/tileintel",
            "followers_url": "https://api.github.com/users/tileintel/followers",
            "following_url": "https://api.github.com/users/tileintel/following{/other_user}",
            "gists_url": "https://api.github.com/users/tileintel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tileintel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tileintel/subscriptions",
            "organizations_url": "https://api.github.com/users/tileintel/orgs",
            "repos_url": "https://api.github.com/users/tileintel/repos",
            "events_url": "https://api.github.com/users/tileintel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tileintel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-25T19:47:04Z",
          "updated_at": "2023-01-25T19:47:04Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thank @sgugger for letting us know.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1404143741/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/23439",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/23439/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/23439/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/23439/events",
      "html_url": "https://github.com/huggingface/transformers/pull/23439",
      "id": 1714711781,
      "node_id": "PR_kwDOCUB6oc5QwhcX",
      "number": 23439,
      "title": "Add FastSpeech2Conformer",
      "user": {
        "login": "connor-henderson",
        "id": 78612354,
        "node_id": "MDQ6VXNlcjc4NjEyMzU0",
        "avatar_url": "https://avatars.githubusercontent.com/u/78612354?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/connor-henderson",
        "html_url": "https://github.com/connor-henderson",
        "followers_url": "https://api.github.com/users/connor-henderson/followers",
        "following_url": "https://api.github.com/users/connor-henderson/following{/other_user}",
        "gists_url": "https://api.github.com/users/connor-henderson/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/connor-henderson/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/connor-henderson/subscriptions",
        "organizations_url": "https://api.github.com/users/connor-henderson/orgs",
        "repos_url": "https://api.github.com/users/connor-henderson/repos",
        "events_url": "https://api.github.com/users/connor-henderson/events{/privacy}",
        "received_events_url": "https://api.github.com/users/connor-henderson/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 18,
      "created_at": "2023-05-17T22:02:44Z",
      "updated_at": "2024-01-05T11:07:35Z",
      "closed_at": "2024-01-03T18:01:06Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/23439",
        "html_url": "https://github.com/huggingface/transformers/pull/23439",
        "diff_url": "https://github.com/huggingface/transformers/pull/23439.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/23439.patch",
        "merged_at": "2024-01-03T18:01:06Z"
      },
      "body": "# What does this PR do?\r\n\r\nAdds the TTS (text-to-speech) conformer version of the FastSpeech2 model. Closest related issue is [#15166](https://github.com/huggingface/transformers/issues/15166) though this implements ESPnet's conformer version instead of Fairseq's version as suggested in https://github.com/huggingface/transformers/pull/15773#issuecomment-1529558164.\r\n\r\n[FastSpeech2 paper (Microsoft)](https://arxiv.org/pdf/2006.04558.pdf)\r\n[Conformer version paper (ESPnet)](https://arxiv.org/pdf/2010.13956.pdf)\r\n\r\nConformer version code implementation: https://github.com/espnet/espnet/tree/master/espnet2/tts/fastspeech2\r\nAdditional conformer version code code implementation: https://github.com/DigitalPhonetics/IMS-Toucan/blob/ToucanTTS/TrainingInterfaces/Text_to_Spectrogram/FastSpeech2\r\n\r\nThe paper abstracts say most of this, but the main points of what makes this model an interesting addition are:\r\n- It's non auto-regressive, leading to faster inference since it doesn't have to make predictions sequentially (hence the name `FastSpeech`)\r\n- Uses a variance predictor in between the encoder and decoder to explicitly predict duration, pitch, and energy, leading to more accurate results\r\n- Conformer architectures have been shown to improve performance in text to speech tasks, with the convolutions learning close range speech patterns and transformer attention helping with understanding longer range contexts\r\n- There is currently only one other text-to-speech model in `transformers` (`SpeechT5ForTextToSpeech`)\r\n\r\n\r\n## To do\r\n- [x] Prepared \ud83e\udd17 Transformers dev environment\r\n- [x] Set up debugging environment of the original repository\r\n- [x] Created script that successfully runs the forward() pass using the original repository and checkpoint\r\n- [x] Successfully added the model skeleton to \ud83e\udd17 Transformers (+ vocoder)\r\n- [x] Successfully converted original checkpoint to \ud83e\udd17 Transformers checkpoint (+ vocoder)\r\n- [x] Successfully ran forward() pass in \ud83e\udd17 Transformers that gives identical output to original checkpoint (+ vocoder)\r\n- [x] Finished model tests in \ud83e\udd17 Transformers\r\n- [x] Successfully added tokenizer in \ud83e\udd17 Transformers\r\n- [x] Run end-to-end integration tests\r\n- [x] Finished docs\r\n- [x] Uploaded model weights to the Hub (will ask they're moved to just `fastspeech2_conformer` when ready)\r\n\r\n## Who can review?\r\n\r\nAnyone in the community is free to review the PR once the tests have passed. Feel free to tag\r\nmembers/contributors who may be interested in your PR.\r\n\r\n<!-- Your PR will be replied to more quickly if you can figure out the right person to tag with @\r\n\r\n If you know how to use git blame, that is the easiest way, otherwise, here is a rough guide of **who to tag**.\r\n Please tag fewer than 3 people.\r\n\r\nModels:\r\n\r\n- text models: @ArthurZucker and @younesbelkada\r\n- vision models: @amyeroberts\r\n- speech models: @sanchit-gandhi\r\n- graph models: @clefourrier\r\n\r\nLibrary:\r\n\r\n- flax: @sanchit-gandhi\r\n- generate: @gante\r\n- pipelines: @Narsil\r\n- tensorflow: @gante and @Rocketknight1\r\n- tokenizers: @ArthurZucker\r\n- trainer: @sgugger\r\n\r\nIntegrations:\r\n\r\n- deepspeed: HF Trainer: @stas00, Accelerate: @pacman100\r\n- ray/raytune: @richardliaw, @amogkam\r\n\r\nDocumentation: @sgugger, @stevhliu and @MKhalusova\r\n\r\nHF projects:\r\n\r\n- accelerate: [different repo](https://github.com/huggingface/accelerate)\r\n- datasets: [different repo](https://github.com/huggingface/datasets)\r\n- diffusers: [different repo](https://github.com/huggingface/diffusers)\r\n- rust tokenizers: [different repo](https://github.com/huggingface/tokenizers)\r\n\r\nMaintained examples (not research project or legacy):\r\n\r\n- Flax: @sanchit-gandhi\r\n- PyTorch: @sgugger\r\n- TensorFlow: @Rocketknight1\r\n\r\n -->\r\n@hollance @sanchit-gandhi ",
      "closed_by": {
        "login": "ylacombe",
        "id": 52246514,
        "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
        "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ylacombe",
        "html_url": "https://github.com/ylacombe",
        "followers_url": "https://api.github.com/users/ylacombe/followers",
        "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
        "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
        "organizations_url": "https://api.github.com/users/ylacombe/orgs",
        "repos_url": "https://api.github.com/users/ylacombe/repos",
        "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ylacombe/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/23439/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/23439/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1587365274",
          "html_url": "https://github.com/huggingface/transformers/pull/23439#issuecomment-1587365274",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23439",
          "id": 1587365274,
          "node_id": "IC_kwDOCUB6oc5enUWa",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-12T13:39:32Z",
          "updated_at": "2023-06-12T13:39:32Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_23439). All of your documentation changes will be reflected on that endpoint.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1587365274/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1606509847",
          "html_url": "https://github.com/huggingface/transformers/pull/23439#issuecomment-1606509847",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23439",
          "id": 1606509847,
          "node_id": "IC_kwDOCUB6oc5fwWUX",
          "user": {
            "login": "connor-henderson",
            "id": 78612354,
            "node_id": "MDQ6VXNlcjc4NjEyMzU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/78612354?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/connor-henderson",
            "html_url": "https://github.com/connor-henderson",
            "followers_url": "https://api.github.com/users/connor-henderson/followers",
            "following_url": "https://api.github.com/users/connor-henderson/following{/other_user}",
            "gists_url": "https://api.github.com/users/connor-henderson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/connor-henderson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/connor-henderson/subscriptions",
            "organizations_url": "https://api.github.com/users/connor-henderson/orgs",
            "repos_url": "https://api.github.com/users/connor-henderson/repos",
            "events_url": "https://api.github.com/users/connor-henderson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/connor-henderson/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-26T02:45:42Z",
          "updated_at": "2023-06-26T02:45:42Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for the review @hollance! Addressed the comments above, the only part that might need follow-up discussion is making the `labels` compatible with the `Trainer`\r\n>Re labels, FastSpeech2 is somewhat unique in that it takes in many labels (spectrograms, pitch, energy, and duration) for training. I'm not sure exactly what this means for compatibility with Trainer since I haven't had time to do a deeper dive, but for now I've changed the \"targets\" to include _labels in their name, left the training test as skipped, and planning to look into it more when I do the demo notebook.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1606509847/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1613775582",
          "html_url": "https://github.com/huggingface/transformers/pull/23439#issuecomment-1613775582",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23439",
          "id": 1613775582,
          "node_id": "IC_kwDOCUB6oc5gMELe",
          "user": {
            "login": "connor-henderson",
            "id": 78612354,
            "node_id": "MDQ6VXNlcjc4NjEyMzU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/78612354?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/connor-henderson",
            "html_url": "https://github.com/connor-henderson",
            "followers_url": "https://api.github.com/users/connor-henderson/followers",
            "following_url": "https://api.github.com/users/connor-henderson/following{/other_user}",
            "gists_url": "https://api.github.com/users/connor-henderson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/connor-henderson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/connor-henderson/subscriptions",
            "organizations_url": "https://api.github.com/users/connor-henderson/orgs",
            "repos_url": "https://api.github.com/users/connor-henderson/repos",
            "events_url": "https://api.github.com/users/connor-henderson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/connor-henderson/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-29T20:33:34Z",
          "updated_at": "2023-06-29T20:33:34Z",
          "author_association": "CONTRIBUTOR",
          "body": "Appreciate the comments @hollance, @ArthurZucker @sanchit-gandhi this should be ready for review for you now",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1613775582/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1652554206",
          "html_url": "https://github.com/huggingface/transformers/pull/23439#issuecomment-1652554206",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23439",
          "id": 1652554206,
          "node_id": "IC_kwDOCUB6oc5if_ne",
          "user": {
            "login": "connor-henderson",
            "id": 78612354,
            "node_id": "MDQ6VXNlcjc4NjEyMzU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/78612354?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/connor-henderson",
            "html_url": "https://github.com/connor-henderson",
            "followers_url": "https://api.github.com/users/connor-henderson/followers",
            "following_url": "https://api.github.com/users/connor-henderson/following{/other_user}",
            "gists_url": "https://api.github.com/users/connor-henderson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/connor-henderson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/connor-henderson/subscriptions",
            "organizations_url": "https://api.github.com/users/connor-henderson/orgs",
            "repos_url": "https://api.github.com/users/connor-henderson/repos",
            "events_url": "https://api.github.com/users/connor-henderson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/connor-henderson/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-26T21:58:25Z",
          "updated_at": "2023-07-26T21:58:25Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thank you for the review @sanchit-gandhi, comments should be addressed now. \r\n\r\nCentralizing a note on passing the config instead of args here since there were a few comments on that - the other modules mentioned are all instantiated twice with different arg values so they can\u2019t solely be passed the config.  Lmk if you think there\u2019s something I missed or if you\u2019d prefer something else like duplicating the modules in order to pass just the config.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1652554206/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1683834566",
          "html_url": "https://github.com/huggingface/transformers/pull/23439#issuecomment-1683834566",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23439",
          "id": 1683834566,
          "node_id": "IC_kwDOCUB6oc5kXUbG",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-08-18T12:17:12Z",
          "updated_at": "2023-08-18T12:17:12Z",
          "author_association": "COLLABORATOR",
          "body": "Reviewing now! ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1683834566/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1688734039",
          "html_url": "https://github.com/huggingface/transformers/pull/23439#issuecomment-1688734039",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23439",
          "id": 1688734039,
          "node_id": "IC_kwDOCUB6oc5kqAlX",
          "user": {
            "login": "connor-henderson",
            "id": 78612354,
            "node_id": "MDQ6VXNlcjc4NjEyMzU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/78612354?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/connor-henderson",
            "html_url": "https://github.com/connor-henderson",
            "followers_url": "https://api.github.com/users/connor-henderson/followers",
            "following_url": "https://api.github.com/users/connor-henderson/following{/other_user}",
            "gists_url": "https://api.github.com/users/connor-henderson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/connor-henderson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/connor-henderson/subscriptions",
            "organizations_url": "https://api.github.com/users/connor-henderson/orgs",
            "repos_url": "https://api.github.com/users/connor-henderson/repos",
            "events_url": "https://api.github.com/users/connor-henderson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/connor-henderson/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-08-22T18:45:35Z",
          "updated_at": "2023-08-22T18:45:35Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks @ArthurZucker for the review, your comments should be addressed now",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1688734039/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1692040518",
          "html_url": "https://github.com/huggingface/transformers/pull/23439#issuecomment-1692040518",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23439",
          "id": 1692040518,
          "node_id": "IC_kwDOCUB6oc5k2n1G",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-08-24T16:36:37Z",
          "updated_at": "2023-08-24T16:36:37Z",
          "author_association": "CONTRIBUTOR",
          "body": "Looking very clean, thanks for iterating @connor-henderson! Would be great to get a look from @ylacombe to check this model will be compatible with the new TTS pipeline (e.g. with the auto mapping names), alongside @ArthurZucker for the final review",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1692040518/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1719740953",
          "html_url": "https://github.com/huggingface/transformers/pull/23439#issuecomment-1719740953",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23439",
          "id": 1719740953,
          "node_id": "IC_kwDOCUB6oc5mgSoZ",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-14T16:06:47Z",
          "updated_at": "2023-09-14T16:06:47Z",
          "author_association": "COLLABORATOR",
          "body": "I'll review this today as well \ud83d\ude09 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1719740953/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 1,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1726542714",
          "html_url": "https://github.com/huggingface/transformers/pull/23439#issuecomment-1726542714",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23439",
          "id": 1726542714,
          "node_id": "IC_kwDOCUB6oc5m6PN6",
          "user": {
            "login": "connor-henderson",
            "id": 78612354,
            "node_id": "MDQ6VXNlcjc4NjEyMzU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/78612354?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/connor-henderson",
            "html_url": "https://github.com/connor-henderson",
            "followers_url": "https://api.github.com/users/connor-henderson/followers",
            "following_url": "https://api.github.com/users/connor-henderson/following{/other_user}",
            "gists_url": "https://api.github.com/users/connor-henderson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/connor-henderson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/connor-henderson/subscriptions",
            "organizations_url": "https://api.github.com/users/connor-henderson/orgs",
            "repos_url": "https://api.github.com/users/connor-henderson/repos",
            "events_url": "https://api.github.com/users/connor-henderson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/connor-henderson/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-19T21:43:49Z",
          "updated_at": "2023-09-19T21:43:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ArthurZucker comments are addressed, left two follow up questions: first one on if changes requested on `# Copied from \u2026` code in speecht5 hifigan should in fact be made, second one regarding self.training vs is_inference and checking for labels",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1726542714/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1729982293",
          "html_url": "https://github.com/huggingface/transformers/pull/23439#issuecomment-1729982293",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23439",
          "id": 1729982293,
          "node_id": "IC_kwDOCUB6oc5nHW9V",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-21T17:10:47Z",
          "updated_at": "2023-09-21T17:10:47Z",
          "author_association": "CONTRIBUTOR",
          "body": "Answered in-line! Thanks for iterating here @connor-henderson!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1729982293/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1730257956",
          "html_url": "https://github.com/huggingface/transformers/pull/23439#issuecomment-1730257956",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23439",
          "id": 1730257956,
          "node_id": "IC_kwDOCUB6oc5nIaQk",
          "user": {
            "login": "connor-henderson",
            "id": 78612354,
            "node_id": "MDQ6VXNlcjc4NjEyMzU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/78612354?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/connor-henderson",
            "html_url": "https://github.com/connor-henderson",
            "followers_url": "https://api.github.com/users/connor-henderson/followers",
            "following_url": "https://api.github.com/users/connor-henderson/following{/other_user}",
            "gists_url": "https://api.github.com/users/connor-henderson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/connor-henderson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/connor-henderson/subscriptions",
            "organizations_url": "https://api.github.com/users/connor-henderson/orgs",
            "repos_url": "https://api.github.com/users/connor-henderson/repos",
            "events_url": "https://api.github.com/users/connor-henderson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/connor-henderson/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-21T20:32:36Z",
          "updated_at": "2023-09-21T20:32:36Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for clarifying @sanchit-gandhi, addressed that. I believe the only lingering question is the one from this comment https://github.com/huggingface/transformers/pull/23439#discussion_r1302119798 around whether I should remove the tokenizer from the docstring examples to pass the doc tests since it requires g2p_en backend",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1730257956/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1738798865",
          "html_url": "https://github.com/huggingface/transformers/pull/23439#issuecomment-1738798865",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23439",
          "id": 1738798865,
          "node_id": "IC_kwDOCUB6oc5no_cR",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-28T09:27:10Z",
          "updated_at": "2023-09-28T09:27:10Z",
          "author_association": "COLLABORATOR",
          "body": "Hey! You can also add `g2p` to the list of package needed to run the PR documentation tests in the CI job! Do you need help with that? ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1738798865/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1739606468",
          "html_url": "https://github.com/huggingface/transformers/pull/23439#issuecomment-1739606468",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23439",
          "id": 1739606468,
          "node_id": "IC_kwDOCUB6oc5nsEnE",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-28T15:57:10Z",
          "updated_at": "2023-09-28T15:57:10Z",
          "author_association": "CONTRIBUTOR",
          "body": "See @ydshieh's comment for reference: https://github.com/huggingface/transformers/pull/23439#discussion_r1333918558",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1739606468/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1742361195",
          "html_url": "https://github.com/huggingface/transformers/pull/23439#issuecomment-1742361195",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23439",
          "id": 1742361195,
          "node_id": "IC_kwDOCUB6oc5n2lJr",
          "user": {
            "login": "connor-henderson",
            "id": 78612354,
            "node_id": "MDQ6VXNlcjc4NjEyMzU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/78612354?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/connor-henderson",
            "html_url": "https://github.com/connor-henderson",
            "followers_url": "https://api.github.com/users/connor-henderson/followers",
            "following_url": "https://api.github.com/users/connor-henderson/following{/other_user}",
            "gists_url": "https://api.github.com/users/connor-henderson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/connor-henderson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/connor-henderson/subscriptions",
            "organizations_url": "https://api.github.com/users/connor-henderson/orgs",
            "repos_url": "https://api.github.com/users/connor-henderson/repos",
            "events_url": "https://api.github.com/users/connor-henderson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/connor-henderson/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-02T03:43:09Z",
          "updated_at": "2023-10-02T03:43:09Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Hey! You can also add `g2p` to the list of package needed to run the PR documentation tests in the CI job! Do you need help with that?\r\n\r\n> See @ydshieh's comment for reference: https://github.com/huggingface/transformers/pull/23439#discussion_r1333918558\r\n\r\n@sanchit-gandhi @ArthurZucker all good thanks was on vacation, just added",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1742361195/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1793681242",
          "html_url": "https://github.com/huggingface/transformers/pull/23439#issuecomment-1793681242",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23439",
          "id": 1793681242,
          "node_id": "IC_kwDOCUB6oc5q6Wda",
          "user": {
            "login": "Vaibhavs10",
            "id": 18682411,
            "node_id": "MDQ6VXNlcjE4NjgyNDEx",
            "avatar_url": "https://avatars.githubusercontent.com/u/18682411?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Vaibhavs10",
            "html_url": "https://github.com/Vaibhavs10",
            "followers_url": "https://api.github.com/users/Vaibhavs10/followers",
            "following_url": "https://api.github.com/users/Vaibhavs10/following{/other_user}",
            "gists_url": "https://api.github.com/users/Vaibhavs10/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Vaibhavs10/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Vaibhavs10/subscriptions",
            "organizations_url": "https://api.github.com/users/Vaibhavs10/orgs",
            "repos_url": "https://api.github.com/users/Vaibhavs10/repos",
            "events_url": "https://api.github.com/users/Vaibhavs10/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Vaibhavs10/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-05T09:15:07Z",
          "updated_at": "2023-11-05T09:15:07Z",
          "author_association": "MEMBER",
          "body": "bump!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1793681242/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1795351993",
          "html_url": "https://github.com/huggingface/transformers/pull/23439#issuecomment-1795351993",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23439",
          "id": 1795351993,
          "node_id": "IC_kwDOCUB6oc5rAuW5",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-06T16:28:27Z",
          "updated_at": "2023-11-06T16:28:27Z",
          "author_association": "COLLABORATOR",
          "body": "I'll help to get this merge @connor-henderson as seen offline! I gotta finish catching up and should come back to this tomorrow ! Sorry again \ud83e\udd17 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1795351993/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1840605453",
          "html_url": "https://github.com/huggingface/transformers/pull/23439#issuecomment-1840605453",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23439",
          "id": 1840605453,
          "node_id": "IC_kwDOCUB6oc5ttWkN",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-12-05T11:39:27Z",
          "updated_at": "2023-12-05T11:39:27Z",
          "author_association": "COLLABORATOR",
          "body": "Here is [how I dealt with the `CLIPVisionModel` ](https://github.com/huggingface/transformers/pull/27662#discussion_r1415447950). In the PR I added the config and model to the config mappings and also the correct places to import, but not in the readmes or in the index file. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1840605453/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1875758503",
          "html_url": "https://github.com/huggingface/transformers/pull/23439#issuecomment-1875758503",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23439",
          "id": 1875758503,
          "node_id": "IC_kwDOCUB6oc5vzc2n",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-01-03T18:00:54Z",
          "updated_at": "2024-01-03T18:00:54Z",
          "author_association": "CONTRIBUTOR",
          "body": "It's been a long ride, but merging now!\r\n\r\nThanks again for the great work and your patience !",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1875758503/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/25856/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/25856/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/25856/events",
      "html_url": "https://github.com/huggingface/transformers/pull/25856",
      "id": 1873025189,
      "node_id": "PR_kwDOCUB6oc5ZGwve",
      "number": 25856,
      "title": "TVP model",
      "user": {
        "login": "jiqing-feng",
        "id": 107918818,
        "node_id": "U_kgDOBm614g",
        "avatar_url": "https://avatars.githubusercontent.com/u/107918818?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jiqing-feng",
        "html_url": "https://github.com/jiqing-feng",
        "followers_url": "https://api.github.com/users/jiqing-feng/followers",
        "following_url": "https://api.github.com/users/jiqing-feng/following{/other_user}",
        "gists_url": "https://api.github.com/users/jiqing-feng/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jiqing-feng/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jiqing-feng/subscriptions",
        "organizations_url": "https://api.github.com/users/jiqing-feng/orgs",
        "repos_url": "https://api.github.com/users/jiqing-feng/repos",
        "events_url": "https://api.github.com/users/jiqing-feng/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jiqing-feng/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 23,
      "created_at": "2023-08-30T06:43:08Z",
      "updated_at": "2023-11-22T01:48:00Z",
      "closed_at": "2023-11-21T16:41:55Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/25856",
        "html_url": "https://github.com/huggingface/transformers/pull/25856",
        "diff_url": "https://github.com/huggingface/transformers/pull/25856.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/25856.patch",
        "merged_at": "2023-11-21T16:41:55Z"
      },
      "body": "The TVP model was proposed in [Text-Visual Prompting for Efficient 2D Temporal Video Grounding](https://arxiv.org/abs/2303.04995) by Yimeng Zhang, Xin Chen, Jinghan Jia, Sijia Liu, Ke Ding. The goal of this model is to incorporate trainable prompts into both visual inputs and textual features for temporal video grounding(TVG) problems. It was introduced in [this paper](https://arxiv.org/pdf/2303.04995.pdf).\r\n\r\nThe current model hub has [Intel/tvp-base](https://huggingface.co/Intel/tvp-base) and [Intel/tvp-base-ANet](https://huggingface.co/Intel/tvp-base-ANet).\r\n\r\nBTW, the failed checks are weird because I can successfully run `pytest` under `tests/models/tvp` locally.",
      "closed_by": {
        "login": "amyeroberts",
        "id": 22614925,
        "node_id": "MDQ6VXNlcjIyNjE0OTI1",
        "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amyeroberts",
        "html_url": "https://github.com/amyeroberts",
        "followers_url": "https://api.github.com/users/amyeroberts/followers",
        "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
        "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
        "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
        "repos_url": "https://api.github.com/users/amyeroberts/repos",
        "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
        "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/25856/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/25856/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1698906222",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1698906222",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1698906222,
          "node_id": "IC_kwDOCUB6oc5lQ0Bu",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-08-30T10:30:12Z",
          "updated_at": "2023-08-30T10:30:12Z",
          "author_association": "COLLABORATOR",
          "body": "cc @rafaelpadilla for first review :) ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1698906222/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1700182049",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1700182049",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1700182049,
          "node_id": "IC_kwDOCUB6oc5lVrgh",
          "user": {
            "login": "jiqing-feng",
            "id": 107918818,
            "node_id": "U_kgDOBm614g",
            "avatar_url": "https://avatars.githubusercontent.com/u/107918818?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jiqing-feng",
            "html_url": "https://github.com/jiqing-feng",
            "followers_url": "https://api.github.com/users/jiqing-feng/followers",
            "following_url": "https://api.github.com/users/jiqing-feng/following{/other_user}",
            "gists_url": "https://api.github.com/users/jiqing-feng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jiqing-feng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jiqing-feng/subscriptions",
            "organizations_url": "https://api.github.com/users/jiqing-feng/orgs",
            "repos_url": "https://api.github.com/users/jiqing-feng/repos",
            "events_url": "https://api.github.com/users/jiqing-feng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jiqing-feng/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-08-31T01:23:03Z",
          "updated_at": "2023-08-31T01:23:03Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @rafaelpadilla . Thanks for your review!\r\n\r\nI have made the Intel/demo dataset public, now you can try again. I also fixed the two grammar error.\r\n\r\nHowever, I think it would be better to keep [test_image_processing_tvp.py](https://github.com/huggingface/transformers/pull/25856/files/7fbf413bae6784ffb8c1afd10af7b478999292a0#diff-36ed6889b91bcd24299bc53f06e3f56b7aef9193f9b7cc9d0965a3449c98e1a2) the same because [bridgetower](https://github.com/huggingface/transformers/blob/main/tests/models/bridgetower/test_image_processing_bridgetower.py#L43-L44), [clip](https://github.com/huggingface/transformers/blob/main/tests/models/clip/test_image_processing_clip.py#L43-L44), [videomae](https://github.com/huggingface/transformers/blob/main/tests/models/videomae/test_image_processing_videomae.py#L49-L50) do the same thing, and I could not ensure that `image_utils.OPENAI_CLIP_MEAN` will not change.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1700182049/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1705935138",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1705935138",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1705935138,
          "node_id": "IC_kwDOCUB6oc5lroEi",
          "user": {
            "login": "jiqing-feng",
            "id": 107918818,
            "node_id": "U_kgDOBm614g",
            "avatar_url": "https://avatars.githubusercontent.com/u/107918818?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jiqing-feng",
            "html_url": "https://github.com/jiqing-feng",
            "followers_url": "https://api.github.com/users/jiqing-feng/followers",
            "following_url": "https://api.github.com/users/jiqing-feng/following{/other_user}",
            "gists_url": "https://api.github.com/users/jiqing-feng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jiqing-feng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jiqing-feng/subscriptions",
            "organizations_url": "https://api.github.com/users/jiqing-feng/orgs",
            "repos_url": "https://api.github.com/users/jiqing-feng/repos",
            "events_url": "https://api.github.com/users/jiqing-feng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jiqing-feng/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-05T04:48:25Z",
          "updated_at": "2023-09-05T04:48:50Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @rafaelpadilla . I added some examples from [charades](https://prior.allenai.org/projects/charades) to my demo [datasets](https://huggingface.co/datasets/Intel/tvp_demo/tree/main), the corresponding text can see [here](https://huggingface.co/datasets/Intel/tvp_demo/blob/main/text-video.txt). You can run the script in this PR and replace the video and text to check the performance of this model.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1705935138/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1723575990",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1723575990",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1723575990,
          "node_id": "IC_kwDOCUB6oc5mu662",
          "user": {
            "login": "jiqing-feng",
            "id": 107918818,
            "node_id": "U_kgDOBm614g",
            "avatar_url": "https://avatars.githubusercontent.com/u/107918818?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jiqing-feng",
            "html_url": "https://github.com/jiqing-feng",
            "followers_url": "https://api.github.com/users/jiqing-feng/followers",
            "following_url": "https://api.github.com/users/jiqing-feng/following{/other_user}",
            "gists_url": "https://api.github.com/users/jiqing-feng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jiqing-feng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jiqing-feng/subscriptions",
            "organizations_url": "https://api.github.com/users/jiqing-feng/orgs",
            "repos_url": "https://api.github.com/users/jiqing-feng/repos",
            "events_url": "https://api.github.com/users/jiqing-feng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jiqing-feng/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-18T14:37:42Z",
          "updated_at": "2023-09-18T14:37:42Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @amyeroberts . I have fixed most issues, only https://github.com/huggingface/transformers/pull/25856#discussion_r1317128312 remains to be discussed. Once this issue is done, we can train a small TVP model and start to change the tests.\r\n\r\nThanks for your support!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1723575990/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1724613772",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1724613772",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1724613772,
          "node_id": "IC_kwDOCUB6oc5my4SM",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-18T23:27:09Z",
          "updated_at": "2023-09-18T23:27:28Z",
          "author_association": "COLLABORATOR",
          "body": "Hey! @amyeroberts will be OOO for a while  \ud83d\ude09 feel free to ping me or @rafaelpadilla if you need help ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1724613772/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1724728824",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1724728824",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1724728824,
          "node_id": "IC_kwDOCUB6oc5mzUX4",
          "user": {
            "login": "jiqing-feng",
            "id": 107918818,
            "node_id": "U_kgDOBm614g",
            "avatar_url": "https://avatars.githubusercontent.com/u/107918818?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jiqing-feng",
            "html_url": "https://github.com/jiqing-feng",
            "followers_url": "https://api.github.com/users/jiqing-feng/followers",
            "following_url": "https://api.github.com/users/jiqing-feng/following{/other_user}",
            "gists_url": "https://api.github.com/users/jiqing-feng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jiqing-feng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jiqing-feng/subscriptions",
            "organizations_url": "https://api.github.com/users/jiqing-feng/orgs",
            "repos_url": "https://api.github.com/users/jiqing-feng/repos",
            "events_url": "https://api.github.com/users/jiqing-feng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jiqing-feng/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-19T02:12:35Z",
          "updated_at": "2023-09-19T08:18:08Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi, @ArthurZucker . I have 3 plans for this [issue](https://github.com/huggingface/transformers/pull/25856#discussion_r1328819736) since `downsample_in_first_stage` does not work. \r\n\r\n1. Keep the TVP backbone as it has differences from the original ResNet backbone.\r\n2. Change the ResNet backbone API to support manipulating stride in some layers.\r\n3. Read the ResNet backbone first, and then change some conv layers' stride in the TVP initialization stage.\r\n\r\nWhich plan do you prefer? Would like to hear your opinion. Thx!\r\n\r\nBTW, I prefer option 3 because it is more convenient, we just need to add the following codes\r\n```python\r\nself.backbone = AutoBackbone.from_config(backbone_config)\r\nif backbone_config.model_type == \"resnet\" and backbone_config.layer_type == \"bottleneck\":\r\n    for i in range(1, len(backbone_config.depths)):\r\n        self.backbone.encoder.stages[i].layers[0].layer[0].convolution.stride = (2, 2)\r\n        self.backbone.encoder.stages[i].layers[0].layer[1].convolution.stride = (1, 1)\r\n```\r\nAnd I also see [detr](https://github.com/huggingface/transformers/blob/fe861e578f50dc9c06de33cd361d2f625017e624/src/transformers/models/detr/modeling_detr.py#L361) has the same operation that manipulates some layers in backbone, so I think it is a good way.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1724728824/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1731388201",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1731388201",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1731388201,
          "node_id": "IC_kwDOCUB6oc5nMuMp",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-22T13:08:14Z",
          "updated_at": "2023-09-22T13:08:14Z",
          "author_association": "COLLABORATOR",
          "body": "Hey! The list of models that have a backbone is the following:\r\n```python\r\n    [\r\n        # Backbone mapping\r\n        (\"bit\", \"BitBackbone\"),\r\n        (\"convnext\", \"ConvNextBackbone\"),\r\n        (\"convnextv2\", \"ConvNextV2Backbone\"),\r\n        (\"dinat\", \"DinatBackbone\"),\r\n        (\"dinov2\", \"Dinov2Backbone\"),\r\n        (\"focalnet\", \"FocalNetBackbone\"),\r\n        (\"maskformer-swin\", \"MaskFormerSwinBackbone\"),\r\n        (\"nat\", \"NatBackbone\"),\r\n        (\"resnet\", \"ResNetBackbone\"),\r\n        (\"swin\", \"SwinBackbone\"),\r\n        (\"timm_backbone\", \"TimmBackbone\"),\r\n        (\"vitdet\", \"VitDetBackbone\"),\r\n    ]\r\n```\r\nEither there is one that fits your need, or if the changes involved are too big you can go with 3, as there is a precedent for it. Not super fan of 3, and I believe 2 would be better if possible! ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1731388201/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1736937118",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1736937118",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1736937118,
          "node_id": "IC_kwDOCUB6oc5nh46e",
          "user": {
            "login": "jiqing-feng",
            "id": 107918818,
            "node_id": "U_kgDOBm614g",
            "avatar_url": "https://avatars.githubusercontent.com/u/107918818?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jiqing-feng",
            "html_url": "https://github.com/jiqing-feng",
            "followers_url": "https://api.github.com/users/jiqing-feng/followers",
            "following_url": "https://api.github.com/users/jiqing-feng/following{/other_user}",
            "gists_url": "https://api.github.com/users/jiqing-feng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jiqing-feng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jiqing-feng/subscriptions",
            "organizations_url": "https://api.github.com/users/jiqing-feng/orgs",
            "repos_url": "https://api.github.com/users/jiqing-feng/repos",
            "events_url": "https://api.github.com/users/jiqing-feng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jiqing-feng/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-27T08:25:34Z",
          "updated_at": "2023-09-27T08:25:34Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Hey! The list of models that have a backbone is the following:\r\n> \r\n> ```python\r\n>     [\r\n>         # Backbone mapping\r\n>         (\"bit\", \"BitBackbone\"),\r\n>         (\"convnext\", \"ConvNextBackbone\"),\r\n>         (\"convnextv2\", \"ConvNextV2Backbone\"),\r\n>         (\"dinat\", \"DinatBackbone\"),\r\n>         (\"dinov2\", \"Dinov2Backbone\"),\r\n>         (\"focalnet\", \"FocalNetBackbone\"),\r\n>         (\"maskformer-swin\", \"MaskFormerSwinBackbone\"),\r\n>         (\"nat\", \"NatBackbone\"),\r\n>         (\"resnet\", \"ResNetBackbone\"),\r\n>         (\"swin\", \"SwinBackbone\"),\r\n>         (\"timm_backbone\", \"TimmBackbone\"),\r\n>         (\"vitdet\", \"VitDetBackbone\"),\r\n>     ]\r\n> ```\r\n> \r\n> Either there is one that fits your need, or if the changes involved are too big you can go with 3, as there is a precedent for it. Not super fan of 3, and I believe 2 would be better if possible!\r\n\r\nHi @ArthurZucker . Thanks for your advice. Option 2 is now ready to be reviewed. Could you please have a look at [26374](https://github.com/huggingface/transformers/pull/26374). Thx!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1736937118/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1737585761",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1737585761",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1737585761,
          "node_id": "IC_kwDOCUB6oc5nkXRh",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-27T15:04:09Z",
          "updated_at": "2023-09-27T15:04:09Z",
          "author_association": "COLLABORATOR",
          "body": "Sure reviewing now! ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1737585761/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1757951014",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1757951014",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1757951014,
          "node_id": "IC_kwDOCUB6oc5oyDQm",
          "user": {
            "login": "jiqing-feng",
            "id": 107918818,
            "node_id": "U_kgDOBm614g",
            "avatar_url": "https://avatars.githubusercontent.com/u/107918818?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jiqing-feng",
            "html_url": "https://github.com/jiqing-feng",
            "followers_url": "https://api.github.com/users/jiqing-feng/followers",
            "following_url": "https://api.github.com/users/jiqing-feng/following{/other_user}",
            "gists_url": "https://api.github.com/users/jiqing-feng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jiqing-feng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jiqing-feng/subscriptions",
            "organizations_url": "https://api.github.com/users/jiqing-feng/orgs",
            "repos_url": "https://api.github.com/users/jiqing-feng/repos",
            "events_url": "https://api.github.com/users/jiqing-feng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jiqing-feng/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-11T15:25:00Z",
          "updated_at": "2023-10-11T15:25:00Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker @rafaelpadilla \r\n\r\nWould you please help me review these new changes? Thx!\r\n\r\nBTW, would you please help me check the failed tests? It seems failed on init weights and `transformers.models.tvp.modeling_tvp.TvpForVideoGrounding.forward`, but no detailed information. Thx!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1757951014/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1761068657",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1761068657",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1761068657,
          "node_id": "IC_kwDOCUB6oc5o98Zx",
          "user": {
            "login": "jiqing-feng",
            "id": 107918818,
            "node_id": "U_kgDOBm614g",
            "avatar_url": "https://avatars.githubusercontent.com/u/107918818?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jiqing-feng",
            "html_url": "https://github.com/jiqing-feng",
            "followers_url": "https://api.github.com/users/jiqing-feng/followers",
            "following_url": "https://api.github.com/users/jiqing-feng/following{/other_user}",
            "gists_url": "https://api.github.com/users/jiqing-feng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jiqing-feng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jiqing-feng/subscriptions",
            "organizations_url": "https://api.github.com/users/jiqing-feng/orgs",
            "repos_url": "https://api.github.com/users/jiqing-feng/repos",
            "events_url": "https://api.github.com/users/jiqing-feng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jiqing-feng/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-13T07:52:59Z",
          "updated_at": "2023-10-13T07:58:34Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker @rafaelpadilla \r\n\r\nI have fixed some failed tests, but there are still two failed tests. The first indicates `worker 'gw0' crashed while running 'src/transformers/models/tvp/modeling_tvp.py::transformers.models.tvp.modeling_tvp.TvpForVideoGrounding.forward'`, the second indicates `test_push_to_hub - KeyError: 'url'`. \r\n\r\nWould you please help me take a look at the failed tests since there is no detailed information? Thx!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1761068657/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1761096422",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1761096422",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1761096422,
          "node_id": "IC_kwDOCUB6oc5o-DLm",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-13T08:14:00Z",
          "updated_at": "2023-10-13T08:14:00Z",
          "author_association": "COLLABORATOR",
          "body": "For the key error url you should rebase on main! For the forward pass, the model might be too big so the PR documentation test is not able to run it.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1761096422/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1767601156",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1767601156",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1767601156,
          "node_id": "IC_kwDOCUB6oc5pW3QE",
          "user": {
            "login": "jiqing-feng",
            "id": 107918818,
            "node_id": "U_kgDOBm614g",
            "avatar_url": "https://avatars.githubusercontent.com/u/107918818?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jiqing-feng",
            "html_url": "https://github.com/jiqing-feng",
            "followers_url": "https://api.github.com/users/jiqing-feng/followers",
            "following_url": "https://api.github.com/users/jiqing-feng/following{/other_user}",
            "gists_url": "https://api.github.com/users/jiqing-feng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jiqing-feng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jiqing-feng/subscriptions",
            "organizations_url": "https://api.github.com/users/jiqing-feng/orgs",
            "repos_url": "https://api.github.com/users/jiqing-feng/repos",
            "events_url": "https://api.github.com/users/jiqing-feng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jiqing-feng/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-18T04:03:02Z",
          "updated_at": "2023-10-18T04:03:02Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker , thanks for your review. I think I have fixed all the issues, would you please review it again? Thx!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1767601156/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1775168264",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1775168264",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1775168264,
          "node_id": "IC_kwDOCUB6oc5pzusI",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-23T13:14:44Z",
          "updated_at": "2023-10-23T13:14:44Z",
          "author_association": "COLLABORATOR",
          "body": "Ok! \r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1775168264/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1784046867",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1784046867",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1784046867,
          "node_id": "IC_kwDOCUB6oc5qVmUT",
          "user": {
            "login": "jiqing-feng",
            "id": 107918818,
            "node_id": "U_kgDOBm614g",
            "avatar_url": "https://avatars.githubusercontent.com/u/107918818?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jiqing-feng",
            "html_url": "https://github.com/jiqing-feng",
            "followers_url": "https://api.github.com/users/jiqing-feng/followers",
            "following_url": "https://api.github.com/users/jiqing-feng/following{/other_user}",
            "gists_url": "https://api.github.com/users/jiqing-feng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jiqing-feng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jiqing-feng/subscriptions",
            "organizations_url": "https://api.github.com/users/jiqing-feng/orgs",
            "repos_url": "https://api.github.com/users/jiqing-feng/repos",
            "events_url": "https://api.github.com/users/jiqing-feng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jiqing-feng/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-29T09:31:49Z",
          "updated_at": "2023-10-29T09:31:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker . I think I have fixed all the issues, would you please help review it again? Thx!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1784046867/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1794264866",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1794264866",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1794264866,
          "node_id": "IC_kwDOCUB6oc5q8k8i",
          "user": {
            "login": "jiqing-feng",
            "id": 107918818,
            "node_id": "U_kgDOBm614g",
            "avatar_url": "https://avatars.githubusercontent.com/u/107918818?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jiqing-feng",
            "html_url": "https://github.com/jiqing-feng",
            "followers_url": "https://api.github.com/users/jiqing-feng/followers",
            "following_url": "https://api.github.com/users/jiqing-feng/following{/other_user}",
            "gists_url": "https://api.github.com/users/jiqing-feng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jiqing-feng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jiqing-feng/subscriptions",
            "organizations_url": "https://api.github.com/users/jiqing-feng/orgs",
            "repos_url": "https://api.github.com/users/jiqing-feng/repos",
            "events_url": "https://api.github.com/users/jiqing-feng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jiqing-feng/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-06T08:03:04Z",
          "updated_at": "2023-11-06T08:03:04Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker @amyeroberts , would you please review the new changes? Thx",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1794264866/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1803249741",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1803249741",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1803249741,
          "node_id": "IC_kwDOCUB6oc5re2hN",
          "user": {
            "login": "jiqing-feng",
            "id": 107918818,
            "node_id": "U_kgDOBm614g",
            "avatar_url": "https://avatars.githubusercontent.com/u/107918818?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jiqing-feng",
            "html_url": "https://github.com/jiqing-feng",
            "followers_url": "https://api.github.com/users/jiqing-feng/followers",
            "following_url": "https://api.github.com/users/jiqing-feng/following{/other_user}",
            "gists_url": "https://api.github.com/users/jiqing-feng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jiqing-feng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jiqing-feng/subscriptions",
            "organizations_url": "https://api.github.com/users/jiqing-feng/orgs",
            "repos_url": "https://api.github.com/users/jiqing-feng/repos",
            "events_url": "https://api.github.com/users/jiqing-feng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jiqing-feng/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-09T06:44:11Z",
          "updated_at": "2023-11-09T07:37:10Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker @amyeroberts . Thanks for your review. Most of the comments have been resolved. There are still 2 main issues:\r\n1. [get_resize_size](https://github.com/huggingface/transformers/pull/25856#discussion_r1379049821) was a member function in TvpProcessor in the first version but it was rejected by @amyeroberts , so I am not sure where this function should be in.\r\n2. The sequence length in TVP consists of text input ids length, text prompt length, and visual input length. So I need to change the `test_hidden_states` and `test_attention_outputs`\r\n\r\nOther issues are related to model doc and arg comments, please see the unresolved conversations. Thx!\r\nBTW, the failed CI are not related to my changes",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1803249741/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1809395536",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1809395536",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1809395536,
          "node_id": "IC_kwDOCUB6oc5r2S9Q",
          "user": {
            "login": "jiqing-feng",
            "id": 107918818,
            "node_id": "U_kgDOBm614g",
            "avatar_url": "https://avatars.githubusercontent.com/u/107918818?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jiqing-feng",
            "html_url": "https://github.com/jiqing-feng",
            "followers_url": "https://api.github.com/users/jiqing-feng/followers",
            "following_url": "https://api.github.com/users/jiqing-feng/following{/other_user}",
            "gists_url": "https://api.github.com/users/jiqing-feng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jiqing-feng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jiqing-feng/subscriptions",
            "organizations_url": "https://api.github.com/users/jiqing-feng/orgs",
            "repos_url": "https://api.github.com/users/jiqing-feng/repos",
            "events_url": "https://api.github.com/users/jiqing-feng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jiqing-feng/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-14T01:28:11Z",
          "updated_at": "2023-11-14T01:30:33Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker @amyeroberts . The CI seems OK, would you please have a look at these unresolved comments? Thx ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1809395536/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1818569041",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1818569041",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1818569041,
          "node_id": "IC_kwDOCUB6oc5sZSlR",
          "user": {
            "login": "jiqing-feng",
            "id": 107918818,
            "node_id": "U_kgDOBm614g",
            "avatar_url": "https://avatars.githubusercontent.com/u/107918818?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jiqing-feng",
            "html_url": "https://github.com/jiqing-feng",
            "followers_url": "https://api.github.com/users/jiqing-feng/followers",
            "following_url": "https://api.github.com/users/jiqing-feng/following{/other_user}",
            "gists_url": "https://api.github.com/users/jiqing-feng/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jiqing-feng/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jiqing-feng/subscriptions",
            "organizations_url": "https://api.github.com/users/jiqing-feng/orgs",
            "repos_url": "https://api.github.com/users/jiqing-feng/repos",
            "events_url": "https://api.github.com/users/jiqing-feng/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jiqing-feng/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-20T09:26:07Z",
          "updated_at": "2023-11-20T09:26:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker @amyeroberts . Thanks for your review, I am clear about all comments now and have fixed all of them. Would you please review these changes? Thx!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1818569041/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1819462957",
          "html_url": "https://github.com/huggingface/transformers/pull/25856#issuecomment-1819462957",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25856",
          "id": 1819462957,
          "node_id": "IC_kwDOCUB6oc5scs0t",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-20T17:00:35Z",
          "updated_at": "2023-11-20T17:00:35Z",
          "author_association": "COLLABORATOR",
          "body": "@jiqing-feng For the quality checks, there was a recent update and we now use `ruff` for formatting our code. Could you update the formating libraries and relint? This should make the quality checks pass: \r\n* `pip uninstall black`\r\n* `pip install -e .[quality]`\r\n* `make fixup`",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1819462957/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/17202/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/17202/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/17202/events",
      "html_url": "https://github.com/huggingface/transformers/pull/17202",
      "id": 1233602765,
      "node_id": "PR_kwDOCUB6oc43s29H",
      "number": 17202,
      "title": "BLOOM",
      "user": {
        "login": "younesbelkada",
        "id": 49240599,
        "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
        "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/younesbelkada",
        "html_url": "https://github.com/younesbelkada",
        "followers_url": "https://api.github.com/users/younesbelkada/followers",
        "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
        "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
        "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
        "repos_url": "https://api.github.com/users/younesbelkada/repos",
        "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
        "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 29,
      "created_at": "2022-05-12T08:05:41Z",
      "updated_at": "2022-06-10T15:08:32Z",
      "closed_at": "2022-05-30T12:40:09Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/17202",
        "html_url": "https://github.com/huggingface/transformers/pull/17202",
        "diff_url": "https://github.com/huggingface/transformers/pull/17202.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/17202.patch",
        "merged_at": null
      },
      "body": "# What does this PR do?\r\n\r\nIntegrating BigScience converted models into HuggingFace library! \r\n\r\nOriginal PR: https://github.com/thomwolf/transformers/pull/2 that I directly moved here\r\n\r\n- [x] add a generation test with a small model pushed on the hub\r\n- [x] slow tests needs to be modified accordingly\r\n- [ ] add final credits to all reviewers\r\n\r\ncc @thomasw21 @thomwolf @sgugger @stas00 \r\n\r\nEDIT: PR moved at https://github.com/huggingface/transformers/pull/17474",
      "closed_by": {
        "login": "younesbelkada",
        "id": 49240599,
        "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
        "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/younesbelkada",
        "html_url": "https://github.com/younesbelkada",
        "followers_url": "https://api.github.com/users/younesbelkada/followers",
        "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
        "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
        "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
        "repos_url": "https://api.github.com/users/younesbelkada/repos",
        "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
        "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/17202/reactions",
        "total_count": 3,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 3,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/17202/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1124997977",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1124997977",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1124997977,
          "node_id": "IC_kwDOCUB6oc5DDhtZ",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-12T13:30:15Z",
          "updated_at": "2022-05-30T12:48:44Z",
          "author_association": "NONE",
          "body": "_The documentation is not available anymore as the PR was closed or merged._",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1124997977/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1125244954",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1125244954",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1125244954,
          "node_id": "IC_kwDOCUB6oc5DEeAa",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-12T17:23:58Z",
          "updated_at": "2022-05-12T17:23:58Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @stas00 !\r\n\r\nThank you very much for your comment !!\r\n1-\r\nYes it will be changed to BLOOM most probably in the next commit \r\n\r\n2-\r\nI like the idea of making it modulable (enable/disable alibi and embed norm) so that both models would work. But in this case 13b-en could be understood as a smaller version of BLOOM which is not the case. What do you think?\r\n\r\n3-\r\nI managed to convert the small models using this arch therefore should not be a problem to use this arch for them. There is still the question of the naming (should they still be named BLOOM?)  ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1125244954/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1125264953",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1125264953",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1125264953,
          "node_id": "IC_kwDOCUB6oc5DEi45",
          "user": {
            "login": "stas00",
            "id": 10676103,
            "node_id": "MDQ6VXNlcjEwNjc2MTAz",
            "avatar_url": "https://avatars.githubusercontent.com/u/10676103?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stas00",
            "html_url": "https://github.com/stas00",
            "followers_url": "https://api.github.com/users/stas00/followers",
            "following_url": "https://api.github.com/users/stas00/following{/other_user}",
            "gists_url": "https://api.github.com/users/stas00/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stas00/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stas00/subscriptions",
            "organizations_url": "https://api.github.com/users/stas00/orgs",
            "repos_url": "https://api.github.com/users/stas00/repos",
            "events_url": "https://api.github.com/users/stas00/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stas00/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-12T17:47:02Z",
          "updated_at": "2022-05-12T17:47:02Z",
          "author_association": "CONTRIBUTOR",
          "body": "> 1- Yes it will be changed to BLOOM most probably in the next commit\r\n\r\nPerfect!\r\n\r\n> 2- I like the idea of making it modulable (enable/disable alibi and embed norm) so that both models would work. But in this case 13b-en could be understood as a smaller version of BLOOM which is not the case. What do you think?\r\n\r\nThat's a good point. It's a sort of Pre-BLOOM :)\r\n\r\n> 3- I managed to convert the small models using this arch therefore should not be a problem to use this arch for them. There is still the question of the naming (should they still be named BLOOM?)\r\n\r\nOK, let's discuss the last 2 on slack\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1125264953/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1125494166",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1125494166",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1125494166,
          "node_id": "IC_kwDOCUB6oc5DFa2W",
          "user": {
            "login": "thomasw21",
            "id": 24695242,
            "node_id": "MDQ6VXNlcjI0Njk1MjQy",
            "avatar_url": "https://avatars.githubusercontent.com/u/24695242?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thomasw21",
            "html_url": "https://github.com/thomasw21",
            "followers_url": "https://api.github.com/users/thomasw21/followers",
            "following_url": "https://api.github.com/users/thomasw21/following{/other_user}",
            "gists_url": "https://api.github.com/users/thomasw21/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thomasw21/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thomasw21/subscriptions",
            "organizations_url": "https://api.github.com/users/thomasw21/orgs",
            "repos_url": "https://api.github.com/users/thomasw21/repos",
            "events_url": "https://api.github.com/users/thomasw21/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thomasw21/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-12T23:03:43Z",
          "updated_at": "2022-05-12T23:03:43Z",
          "author_association": "CONTRIBUTOR",
          "body": "2. Maybe something I don't understand is why make it modulable? It feels like having another GPT2 no? 13B should more of less fit inside GPT-2 no? ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1125494166/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1125496786",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1125496786",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1125496786,
          "node_id": "IC_kwDOCUB6oc5DFbfS",
          "user": {
            "login": "stas00",
            "id": 10676103,
            "node_id": "MDQ6VXNlcjEwNjc2MTAz",
            "avatar_url": "https://avatars.githubusercontent.com/u/10676103?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stas00",
            "html_url": "https://github.com/stas00",
            "followers_url": "https://api.github.com/users/stas00/followers",
            "following_url": "https://api.github.com/users/stas00/following{/other_user}",
            "gists_url": "https://api.github.com/users/stas00/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stas00/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stas00/subscriptions",
            "organizations_url": "https://api.github.com/users/stas00/orgs",
            "repos_url": "https://api.github.com/users/stas00/repos",
            "events_url": "https://api.github.com/users/stas00/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stas00/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-12T23:07:11Z",
          "updated_at": "2022-05-12T23:07:11Z",
          "author_association": "CONTRIBUTOR",
          "body": "> 13B should more of less fit inside GPT-2 no?\r\n\r\nWell, we have gone through this 6 months ago, you can definitely re-read the discussions. There were 3 things that needed to be changed in HF's GPT2, which wasn't producing the same output under fp16.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1125496786/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1125522385",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1125522385",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1125522385,
          "node_id": "IC_kwDOCUB6oc5DFhvR",
          "user": {
            "login": "thomasw21",
            "id": 24695242,
            "node_id": "MDQ6VXNlcjI0Njk1MjQy",
            "avatar_url": "https://avatars.githubusercontent.com/u/24695242?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thomasw21",
            "html_url": "https://github.com/thomasw21",
            "followers_url": "https://api.github.com/users/thomasw21/followers",
            "following_url": "https://api.github.com/users/thomasw21/following{/other_user}",
            "gists_url": "https://api.github.com/users/thomasw21/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thomasw21/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thomasw21/subscriptions",
            "organizations_url": "https://api.github.com/users/thomasw21/orgs",
            "repos_url": "https://api.github.com/users/thomasw21/repos",
            "events_url": "https://api.github.com/users/thomasw21/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thomasw21/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-12T23:46:48Z",
          "updated_at": "2022-05-12T23:46:48Z",
          "author_association": "CONTRIBUTOR",
          "body": "Yeah I read it, `layernorm` is fixed by torch, the other two can be implemented there the same way they are implemented here (you just need to make it modular as well no?).",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1125522385/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1125524549",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1125524549",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1125524549,
          "node_id": "IC_kwDOCUB6oc5DFiRF",
          "user": {
            "login": "stas00",
            "id": 10676103,
            "node_id": "MDQ6VXNlcjEwNjc2MTAz",
            "avatar_url": "https://avatars.githubusercontent.com/u/10676103?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stas00",
            "html_url": "https://github.com/stas00",
            "followers_url": "https://api.github.com/users/stas00/followers",
            "following_url": "https://api.github.com/users/stas00/following{/other_user}",
            "gists_url": "https://api.github.com/users/stas00/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stas00/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stas00/subscriptions",
            "organizations_url": "https://api.github.com/users/stas00/orgs",
            "repos_url": "https://api.github.com/users/stas00/repos",
            "events_url": "https://api.github.com/users/stas00/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stas00/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-12T23:49:47Z",
          "updated_at": "2022-05-12T23:49:47Z",
          "author_association": "CONTRIBUTOR",
          "body": "Unfortunately the `transformers`'s current policy is against making things modular. So we can't add anything to gpt2 \r\n\r\nI thought that perhaps Bloom could be an exception but I won't be surprised if this will not be allowed.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1125524549/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1125524995",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1125524995",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1125524995,
          "node_id": "IC_kwDOCUB6oc5DFiYD",
          "user": {
            "login": "thomasw21",
            "id": 24695242,
            "node_id": "MDQ6VXNlcjI0Njk1MjQy",
            "avatar_url": "https://avatars.githubusercontent.com/u/24695242?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thomasw21",
            "html_url": "https://github.com/thomasw21",
            "followers_url": "https://api.github.com/users/thomasw21/followers",
            "following_url": "https://api.github.com/users/thomasw21/following{/other_user}",
            "gists_url": "https://api.github.com/users/thomasw21/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thomasw21/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thomasw21/subscriptions",
            "organizations_url": "https://api.github.com/users/thomasw21/orgs",
            "repos_url": "https://api.github.com/users/thomasw21/repos",
            "events_url": "https://api.github.com/users/thomasw21/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thomasw21/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-12T23:50:57Z",
          "updated_at": "2022-05-12T23:52:32Z",
          "author_association": "CONTRIBUTOR",
          "body": "Okay actually the `badbmm` was implemented there as well. So really we're missing only one activation which is jitted `gelu_fast`. Well why would we make this one modular to the point of really being REALLLY close to `gpt-2` then? If so the other course of action is building a new skeleton (which seems overkill for a change in activation).",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1125524995/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1125525584",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1125525584",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1125525584,
          "node_id": "IC_kwDOCUB6oc5DFihQ",
          "user": {
            "login": "stas00",
            "id": 10676103,
            "node_id": "MDQ6VXNlcjEwNjc2MTAz",
            "avatar_url": "https://avatars.githubusercontent.com/u/10676103?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stas00",
            "html_url": "https://github.com/stas00",
            "followers_url": "https://api.github.com/users/stas00/followers",
            "following_url": "https://api.github.com/users/stas00/following{/other_user}",
            "gists_url": "https://api.github.com/users/stas00/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stas00/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stas00/subscriptions",
            "organizations_url": "https://api.github.com/users/stas00/orgs",
            "repos_url": "https://api.github.com/users/stas00/repos",
            "events_url": "https://api.github.com/users/stas00/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stas00/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-12T23:52:25Z",
          "updated_at": "2022-05-12T23:52:25Z",
          "author_association": "CONTRIBUTOR",
          "body": "yes already tried pushing for it - and it wasn't approved.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1125525584/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1126293203",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1126293203",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1126293203,
          "node_id": "IC_kwDOCUB6oc5DId7T",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-13T17:44:23Z",
          "updated_at": "2022-05-13T17:47:01Z",
          "author_association": "CONTRIBUTOR",
          "body": "@sgugger thank you very much for your comments!\r\nFor the tokenizer since the models has not been pushed yet on the hub, I had to \"hotfix\" this by explicitly giving the path to the [bigscience tokenizer](https://huggingface.co/bigscience/tokenizer). Do you think it is a good idea to push this tokenizer to the [debug model's hub](https://huggingface.co/bigscience/bigscience-small-testing) ?\r\nAlso I have notived that Bloom is the only model on HF that does not have a slow tokenizer *and* has a fast tokenizer (usually it is either both or only the slow tokenizer). ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1126293203/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1127683282",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1127683282",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1127683282,
          "node_id": "IC_kwDOCUB6oc5DNxTS",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-16T13:34:22Z",
          "updated_at": "2022-05-16T13:34:22Z",
          "author_association": "CONTRIBUTOR",
          "body": "5 more small tests and we should be good!!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1127683282/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1128739290",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1128739290",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1128739290,
          "node_id": "IC_kwDOCUB6oc5DRzHa",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-17T11:13:26Z",
          "updated_at": "2022-05-17T11:13:26Z",
          "author_association": "CONTRIBUTOR",
          "body": "1 test left!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1128739290/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1128954262",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1128954262",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1128954262,
          "node_id": "IC_kwDOCUB6oc5DSnmW",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-17T14:38:00Z",
          "updated_at": "2022-05-17T14:38:00Z",
          "author_association": "CONTRIBUTOR",
          "body": "All tests finally passed!! I'll refactor the code with the suggested final changes and may ping you for a new review",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1128954262/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 2,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1129620783",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1129620783",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1129620783,
          "node_id": "IC_kwDOCUB6oc5DVKUv",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-18T06:26:36Z",
          "updated_at": "2022-05-18T06:26:36Z",
          "author_association": "CONTRIBUTOR",
          "body": "I will need to modify the slow tests to add our custom ones",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1129620783/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1129644049",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1129644049",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1129644049,
          "node_id": "IC_kwDOCUB6oc5DVQAR",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-18T07:00:38Z",
          "updated_at": "2022-05-18T08:09:38Z",
          "author_association": "CONTRIBUTOR",
          "body": "Just a small note on a test. Due to some stochasticity (since we are taking a random slice) [this test](https://github.com/younesbelkada/transformers/blob/cdf41e8f309a6744f4e1488bffc7be76503ccd6d/tests/models/bloom/test_modeling_bloom.py#L215) does not always pass with `atol=4e-2` (sometimes it passes with `5e-2` or `6e-2`). Therefore I've put `atol=1e-1` to be sure it passes. How accurate are we expecting this test to be? I may be wrong but I think the operations could not match at 100% (due to tensor slicing for example)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1129644049/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1132529888",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1132529888",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1132529888,
          "node_id": "IC_kwDOCUB6oc5DgQjg",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-20T06:38:42Z",
          "updated_at": "2022-05-20T06:38:42Z",
          "author_association": "CONTRIBUTOR",
          "body": "EDIT: Slow tests seems to work fine on the GPU, but batched generation seem to not work, I have to investigate that!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1132529888/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1133415549",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1133415549",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1133415549,
          "node_id": "IC_kwDOCUB6oc5Djox9",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-20T21:52:31Z",
          "updated_at": "2022-05-20T21:52:31Z",
          "author_association": "CONTRIBUTOR",
          "body": "All tests are passing! Let me know if you need any more modification @LysandreJik @sgugger ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1133415549/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1135658440",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1135658440",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1135658440,
          "node_id": "IC_kwDOCUB6oc5DsMXI",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-24T09:36:16Z",
          "updated_at": "2022-05-24T09:36:16Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks @thomasw21 for the comments!\r\nAgreed with you, regarding the alibi positional embeddings. What I'll do I think is to create the positional embeddings on-the-fly on the forward pass (since you have access to the input sequence length there). I was just worried about the computational cost of it (re-computing alibi at each inference step is more costly than computing it once) - but for the reward we get (making the model agnostic to the sequence length) I think that it's worth it\r\n ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1135658440/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1136014773",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1136014773",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1136014773,
          "node_id": "IC_kwDOCUB6oc5DtjW1",
          "user": {
            "login": "stas00",
            "id": 10676103,
            "node_id": "MDQ6VXNlcjEwNjc2MTAz",
            "avatar_url": "https://avatars.githubusercontent.com/u/10676103?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stas00",
            "html_url": "https://github.com/stas00",
            "followers_url": "https://api.github.com/users/stas00/followers",
            "following_url": "https://api.github.com/users/stas00/following{/other_user}",
            "gists_url": "https://api.github.com/users/stas00/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stas00/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stas00/subscriptions",
            "organizations_url": "https://api.github.com/users/stas00/orgs",
            "repos_url": "https://api.github.com/users/stas00/repos",
            "events_url": "https://api.github.com/users/stas00/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stas00/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-24T14:37:28Z",
          "updated_at": "2022-05-24T14:37:28Z",
          "author_association": "CONTRIBUTOR",
          "body": ">What I'll do I think is to create the positional embeddings on-the-fly on the forward pass \r\n\r\nI wonder if this may break deepspeed zero-3. All params should be created when the model is created. But if it's not a param it probably should be fine.\r\n\r\nSee this issue: https://github.com/microsoft/DeepSpeed/issues/1757",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1136014773/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1136019430",
          "html_url": "https://github.com/huggingface/transformers/pull/17202#issuecomment-1136019430",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17202",
          "id": 1136019430,
          "node_id": "IC_kwDOCUB6oc5Dtkfm",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-05-24T14:41:16Z",
          "updated_at": "2022-05-24T14:41:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "If by param you mean torch.nn.Parameter then the alibi tensor is not a param. Since these embeddings are not learned you can just use them as a non param tensor. I think that it should be fine and will not break deepspeed zero-3",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1136019430/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/26247",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/26247/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/26247/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/26247/events",
      "html_url": "https://github.com/huggingface/transformers/pull/26247",
      "id": 1902340836,
      "node_id": "PR_kwDOCUB6oc5apPXg",
      "number": 26247,
      "title": "[Time series] Add PatchTSMixer",
      "user": {
        "login": "ajati",
        "id": 41211350,
        "node_id": "MDQ6VXNlcjQxMjExMzUw",
        "avatar_url": "https://avatars.githubusercontent.com/u/41211350?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ajati",
        "html_url": "https://github.com/ajati",
        "followers_url": "https://api.github.com/users/ajati/followers",
        "following_url": "https://api.github.com/users/ajati/following{/other_user}",
        "gists_url": "https://api.github.com/users/ajati/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ajati/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ajati/subscriptions",
        "organizations_url": "https://api.github.com/users/ajati/orgs",
        "repos_url": "https://api.github.com/users/ajati/repos",
        "events_url": "https://api.github.com/users/ajati/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ajati/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 17,
      "created_at": "2023-09-19T07:03:59Z",
      "updated_at": "2023-12-07T05:44:30Z",
      "closed_at": "2023-12-05T14:31:35Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/26247",
        "html_url": "https://github.com/huggingface/transformers/pull/26247",
        "diff_url": "https://github.com/huggingface/transformers/pull/26247.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/26247.patch",
        "merged_at": "2023-12-05T14:31:35Z"
      },
      "body": "[PatchTSMixer](https://arxiv.org/pdf/2306.09364.pdf) ([KDD 2023](https://dl.acm.org/doi/abs/10.1145/3580305.3599533)) is a lightweight time-series modeling approach based on the MLP-Mixer architecture. In this HuggingFace implementation, we provide PatchTSMixer's capabilities to effortlessly facilitate lightweight mixing across patches, channels, and hidden features for effective multivariate time-series modeling. It also supports various attention mechanisms starting from simple gated attention to more complex self-attention blocks that can be customized accordingly. The model can be pretrained and subsequently used for various downstream tasks such as forecasting, classification and regression.\r\n\r\n@kashif \r\n\r\nDone: ~~TODOs~~\r\n\r\n- [x] Add generate method\r\n- [x] Make pretrained dataset publicly available\r\n- [x] Make pretrained weights publicly available ",
      "closed_by": {
        "login": "kashif",
        "id": 8100,
        "node_id": "MDQ6VXNlcjgxMDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8100?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kashif",
        "html_url": "https://github.com/kashif",
        "followers_url": "https://api.github.com/users/kashif/followers",
        "following_url": "https://api.github.com/users/kashif/following{/other_user}",
        "gists_url": "https://api.github.com/users/kashif/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/kashif/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/kashif/subscriptions",
        "organizations_url": "https://api.github.com/users/kashif/orgs",
        "repos_url": "https://api.github.com/users/kashif/repos",
        "events_url": "https://api.github.com/users/kashif/events{/privacy}",
        "received_events_url": "https://api.github.com/users/kashif/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/26247/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/26247/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1748677977",
          "html_url": "https://github.com/huggingface/transformers/pull/26247#issuecomment-1748677977",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26247",
          "id": 1748677977,
          "node_id": "IC_kwDOCUB6oc5oOrVZ",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-05T11:13:20Z",
          "updated_at": "2023-10-05T11:13:20Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_26247). All of your documentation changes will be reflected on that endpoint.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1748677977/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1751004256",
          "html_url": "https://github.com/huggingface/transformers/pull/26247#issuecomment-1751004256",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26247",
          "id": 1751004256,
          "node_id": "IC_kwDOCUB6oc5oXjRg",
          "user": {
            "login": "kashif",
            "id": 8100,
            "node_id": "MDQ6VXNlcjgxMDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8100?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kashif",
            "html_url": "https://github.com/kashif",
            "followers_url": "https://api.github.com/users/kashif/followers",
            "following_url": "https://api.github.com/users/kashif/following{/other_user}",
            "gists_url": "https://api.github.com/users/kashif/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kashif/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kashif/subscriptions",
            "organizations_url": "https://api.github.com/users/kashif/orgs",
            "repos_url": "https://api.github.com/users/kashif/repos",
            "events_url": "https://api.github.com/users/kashif/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kashif/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-06T16:05:23Z",
          "updated_at": "2023-10-06T16:05:23Z",
          "author_association": "CONTRIBUTOR",
          "body": "depends on #25927 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1751004256/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1751071921",
          "html_url": "https://github.com/huggingface/transformers/pull/26247#issuecomment-1751071921",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26247",
          "id": 1751071921,
          "node_id": "IC_kwDOCUB6oc5oXzyx",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-06T16:33:28Z",
          "updated_at": "2023-10-06T16:33:28Z",
          "author_association": "COLLABORATOR",
          "body": "I am not sure I understand should I review this ? It's all red, while the other PR does not seem ready either (a lot of recent commits + red as well) ? \r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1751071921/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1751075071",
          "html_url": "https://github.com/huggingface/transformers/pull/26247#issuecomment-1751075071",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26247",
          "id": 1751075071,
          "node_id": "IC_kwDOCUB6oc5oX0j_",
          "user": {
            "login": "kashif",
            "id": 8100,
            "node_id": "MDQ6VXNlcjgxMDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8100?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kashif",
            "html_url": "https://github.com/kashif",
            "followers_url": "https://api.github.com/users/kashif/followers",
            "following_url": "https://api.github.com/users/kashif/following{/other_user}",
            "gists_url": "https://api.github.com/users/kashif/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kashif/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kashif/subscriptions",
            "organizations_url": "https://api.github.com/users/kashif/orgs",
            "repos_url": "https://api.github.com/users/kashif/repos",
            "events_url": "https://api.github.com/users/kashif/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kashif/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-06T16:34:48Z",
          "updated_at": "2023-10-06T16:34:48Z",
          "author_association": "CONTRIBUTOR",
          "body": "ok @ArthurZucker let me have a look! will ping you when ready",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1751075071/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1768620735",
          "html_url": "https://github.com/huggingface/transformers/pull/26247#issuecomment-1768620735",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26247",
          "id": 1768620735,
          "node_id": "IC_kwDOCUB6oc5pawK_",
          "user": {
            "login": "vijaye12",
            "id": 25958261,
            "node_id": "MDQ6VXNlcjI1OTU4MjYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25958261?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vijaye12",
            "html_url": "https://github.com/vijaye12",
            "followers_url": "https://api.github.com/users/vijaye12/followers",
            "following_url": "https://api.github.com/users/vijaye12/following{/other_user}",
            "gists_url": "https://api.github.com/users/vijaye12/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vijaye12/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vijaye12/subscriptions",
            "organizations_url": "https://api.github.com/users/vijaye12/orgs",
            "repos_url": "https://api.github.com/users/vijaye12/repos",
            "events_url": "https://api.github.com/users/vijaye12/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vijaye12/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-18T14:43:53Z",
          "updated_at": "2023-10-18T14:52:31Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Main comments:\r\n> \r\n> * updating docstrings to HF format\r\n> * use clear variable names everywhere\r\n> * use copied from wherever possible, especially after [[time series] Add PatchTST\u00a0#25927](https://github.com/huggingface/transformers/pull/25927) is merged\r\n> * do not use `context_values` if we already use the term `past_values` for all our time series models (keep in mind we can't change this afterwards)\r\n\r\nHi @NielsRogge - Thanks for your inputs. We have completed all the suggested changes. Requesting your review.  Feel free to let us know if any issue is missed out. Only pending step is \"copied from PatchTST\" which we will bring it back as soon as PatchTST is merged.. CC: @kashif @ajati @namctin ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1768620735/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1777062725",
          "html_url": "https://github.com/huggingface/transformers/pull/26247#issuecomment-1777062725",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26247",
          "id": 1777062725,
          "node_id": "IC_kwDOCUB6oc5p69NF",
          "user": {
            "login": "vijaye12",
            "id": 25958261,
            "node_id": "MDQ6VXNlcjI1OTU4MjYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25958261?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vijaye12",
            "html_url": "https://github.com/vijaye12",
            "followers_url": "https://api.github.com/users/vijaye12/followers",
            "following_url": "https://api.github.com/users/vijaye12/following{/other_user}",
            "gists_url": "https://api.github.com/users/vijaye12/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vijaye12/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vijaye12/subscriptions",
            "organizations_url": "https://api.github.com/users/vijaye12/orgs",
            "repos_url": "https://api.github.com/users/vijaye12/repos",
            "events_url": "https://api.github.com/users/vijaye12/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vijaye12/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-24T11:55:06Z",
          "updated_at": "2023-10-24T11:55:06Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @patrickvonplaten @NielsRogge - We have completed most of the requested code changes. Requesting your review and approval if things are in place. \r\n\r\nAll test-cases are passing now. \r\n\r\nCopied from PatchTST is still pending and will be done as soon as the PatchTST branch is merged.\r\n\r\nCC: @kashif @namctin @ajati ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1777062725/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1777113245",
          "html_url": "https://github.com/huggingface/transformers/pull/26247#issuecomment-1777113245",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26247",
          "id": 1777113245,
          "node_id": "IC_kwDOCUB6oc5p7Jid",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-24T12:30:26Z",
          "updated_at": "2023-10-24T12:30:26Z",
          "author_association": "COLLABORATOR",
          "body": "I'll review \ud83d\ude09 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1777113245/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 2,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1778592675",
          "html_url": "https://github.com/huggingface/transformers/pull/26247#issuecomment-1778592675",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26247",
          "id": 1778592675,
          "node_id": "IC_kwDOCUB6oc5qAyuj",
          "user": {
            "login": "vijaye12",
            "id": 25958261,
            "node_id": "MDQ6VXNlcjI1OTU4MjYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25958261?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vijaye12",
            "html_url": "https://github.com/vijaye12",
            "followers_url": "https://api.github.com/users/vijaye12/followers",
            "following_url": "https://api.github.com/users/vijaye12/following{/other_user}",
            "gists_url": "https://api.github.com/users/vijaye12/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vijaye12/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vijaye12/subscriptions",
            "organizations_url": "https://api.github.com/users/vijaye12/orgs",
            "repos_url": "https://api.github.com/users/vijaye12/repos",
            "events_url": "https://api.github.com/users/vijaye12/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vijaye12/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-25T06:24:33Z",
          "updated_at": "2023-10-25T06:24:33Z",
          "author_association": "CONTRIBUTOR",
          "body": "> I don't see a conversion script so I suppose the idea was to match 1-1 the original structure but let's avoid this if possible. The code would be a lot cleaner if we have 1 class for each mode mixing. Keep it simple and isolate what can be done in a single class, then use a mapping to get the properclass. Otherwise there is too much granularity, and too many if else controlled by config arguments. It's hard to follow and not really transformers like. It's fine when it's one layer but here it's for all forward all layers. `PatchTSMixerLinearHead` Is fine with me but there are ways to make it a bit readable\r\n> \r\n> Moreover depending on the mode it's most often just the input / output shape that changes. So for this we should control the linear with this arg see for example this function\r\n> \r\n> ```python\r\n>         if self.mode in [\"common_channel\", \"mix_channel\"]:\r\n>             self.base_pt_block = nn.Sequential(\r\n>                 nn.Dropout(head_dropout),\r\n>                 nn.Linear(num_features, patch_len),\r\n>             )\r\n>         else:\r\n>             self.base_pt_block = nn.Sequential(\r\n>                 nn.Dropout(head_dropout),\r\n>                 nn.Linear(num_features, patch_len * num_input_channels),\r\n>             )\r\n> ```\r\n> \r\n> Sorry for the time sensitivity and the late review! Open to discussions if these models are super good, would be a pity not to make them into a reference implementation!\r\n\r\nYes. We removed \"flatten\" mode which is just a baseline and not used mostly. Now, we do not have else-if block in every forward call. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1778592675/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1782171308",
          "html_url": "https://github.com/huggingface/transformers/pull/26247#issuecomment-1782171308",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26247",
          "id": 1782171308,
          "node_id": "IC_kwDOCUB6oc5qOcas",
          "user": {
            "login": "vijaye12",
            "id": 25958261,
            "node_id": "MDQ6VXNlcjI1OTU4MjYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25958261?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vijaye12",
            "html_url": "https://github.com/vijaye12",
            "followers_url": "https://api.github.com/users/vijaye12/followers",
            "following_url": "https://api.github.com/users/vijaye12/following{/other_user}",
            "gists_url": "https://api.github.com/users/vijaye12/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vijaye12/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vijaye12/subscriptions",
            "organizations_url": "https://api.github.com/users/vijaye12/orgs",
            "repos_url": "https://api.github.com/users/vijaye12/repos",
            "events_url": "https://api.github.com/users/vijaye12/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vijaye12/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-27T01:58:23Z",
          "updated_at": "2023-10-27T02:07:22Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker - We have addressed most of your comments and also the comments from other reviewers (@NielsRogge @patrickvonplaten)\r\n\r\n\r\nTODO: CopiedFrom from PatchTST pending after its merge.\r\n\r\nCC: @kashif @ajati @namctin ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1782171308/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1783635335",
          "html_url": "https://github.com/huggingface/transformers/pull/26247#issuecomment-1783635335",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26247",
          "id": 1783635335,
          "node_id": "IC_kwDOCUB6oc5qUB2H",
          "user": {
            "login": "vijaye12",
            "id": 25958261,
            "node_id": "MDQ6VXNlcjI1OTU4MjYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25958261?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vijaye12",
            "html_url": "https://github.com/vijaye12",
            "followers_url": "https://api.github.com/users/vijaye12/followers",
            "following_url": "https://api.github.com/users/vijaye12/following{/other_user}",
            "gists_url": "https://api.github.com/users/vijaye12/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vijaye12/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vijaye12/subscriptions",
            "organizations_url": "https://api.github.com/users/vijaye12/orgs",
            "repos_url": "https://api.github.com/users/vijaye12/repos",
            "events_url": "https://api.github.com/users/vijaye12/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vijaye12/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-28T00:26:56Z",
          "updated_at": "2023-10-28T00:26:56Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Looks a lot better thanks all for bearing with me \ud83e\udd17 In principle looks good to me, left a few nits and will have to wait for other PR to be merged. I'll let @amyeroberts handle the last review and merge as I'm off for next week! Good work!\r\n\r\nSure. Thank you @ArthurZucker for your comments. We will resolve the newer comments soon and will wait for the other PR to get merged.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1783635335/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1809731716",
          "html_url": "https://github.com/huggingface/transformers/pull/26247#issuecomment-1809731716",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26247",
          "id": 1809731716,
          "node_id": "IC_kwDOCUB6oc5r3lCE",
          "user": {
            "login": "vijaye12",
            "id": 25958261,
            "node_id": "MDQ6VXNlcjI1OTU4MjYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25958261?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vijaye12",
            "html_url": "https://github.com/vijaye12",
            "followers_url": "https://api.github.com/users/vijaye12/followers",
            "following_url": "https://api.github.com/users/vijaye12/following{/other_user}",
            "gists_url": "https://api.github.com/users/vijaye12/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vijaye12/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vijaye12/subscriptions",
            "organizations_url": "https://api.github.com/users/vijaye12/orgs",
            "repos_url": "https://api.github.com/users/vijaye12/repos",
            "events_url": "https://api.github.com/users/vijaye12/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vijaye12/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-14T08:20:40Z",
          "updated_at": "2023-11-14T08:20:40Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Main comments:\r\n> \r\n> * updating docstrings to HF format\r\n> * use clear variable names everywhere\r\n> * use copied from wherever possible, especially after [[time series] Add PatchTST\u00a0#25927](https://github.com/huggingface/transformers/pull/25927) is merged\r\n> * do not use `context_values` if we already use the term `past_values` for all our time series models (keep in mind we can't change this afterwards)\r\n\r\nAll corrections completed",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1809731716/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1810018381",
          "html_url": "https://github.com/huggingface/transformers/pull/26247#issuecomment-1810018381",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26247",
          "id": 1810018381,
          "node_id": "IC_kwDOCUB6oc5r4rBN",
          "user": {
            "login": "kashif",
            "id": 8100,
            "node_id": "MDQ6VXNlcjgxMDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8100?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kashif",
            "html_url": "https://github.com/kashif",
            "followers_url": "https://api.github.com/users/kashif/followers",
            "following_url": "https://api.github.com/users/kashif/following{/other_user}",
            "gists_url": "https://api.github.com/users/kashif/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kashif/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kashif/subscriptions",
            "organizations_url": "https://api.github.com/users/kashif/orgs",
            "repos_url": "https://api.github.com/users/kashif/repos",
            "events_url": "https://api.github.com/users/kashif/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kashif/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-14T11:20:43Z",
          "updated_at": "2023-11-14T11:20:43Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts ready for review",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1810018381/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1816662876",
          "html_url": "https://github.com/huggingface/transformers/pull/26247#issuecomment-1816662876",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26247",
          "id": 1816662876,
          "node_id": "IC_kwDOCUB6oc5sSBNc",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-17T15:45:41Z",
          "updated_at": "2023-11-17T15:45:41Z",
          "author_association": "COLLABORATOR",
          "body": "@kashif @ajati Holding off on a review until PatchTST has been merged. There's quite a few comments I would make e.g. removing the `PatchTSTTranspose` which have been [applied to PatchTST](https://github.com/huggingface/transformers/pull/25927#discussion_r1387015192) and will be reflected there after rebasing, running `make fix-copies` and updating the code. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1816662876/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1833228928",
          "html_url": "https://github.com/huggingface/transformers/pull/26247#issuecomment-1833228928",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26247",
          "id": 1833228928,
          "node_id": "IC_kwDOCUB6oc5tRNqA",
          "user": {
            "login": "vijaye12",
            "id": 25958261,
            "node_id": "MDQ6VXNlcjI1OTU4MjYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25958261?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vijaye12",
            "html_url": "https://github.com/vijaye12",
            "followers_url": "https://api.github.com/users/vijaye12/followers",
            "following_url": "https://api.github.com/users/vijaye12/following{/other_user}",
            "gists_url": "https://api.github.com/users/vijaye12/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vijaye12/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vijaye12/subscriptions",
            "organizations_url": "https://api.github.com/users/vijaye12/orgs",
            "repos_url": "https://api.github.com/users/vijaye12/repos",
            "events_url": "https://api.github.com/users/vijaye12/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vijaye12/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-30T07:17:30Z",
          "updated_at": "2023-11-30T07:17:30Z",
          "author_association": "CONTRIBUTOR",
          "body": "All the suggested changes from PatchTST, copied from are resolved in this branch too.. Ready for review and testcases passing now.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1833228928/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1834062109",
          "html_url": "https://github.com/huggingface/transformers/pull/26247#issuecomment-1834062109",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26247",
          "id": 1834062109,
          "node_id": "IC_kwDOCUB6oc5tUZEd",
          "user": {
            "login": "vijaye12",
            "id": 25958261,
            "node_id": "MDQ6VXNlcjI1OTU4MjYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25958261?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vijaye12",
            "html_url": "https://github.com/vijaye12",
            "followers_url": "https://api.github.com/users/vijaye12/followers",
            "following_url": "https://api.github.com/users/vijaye12/following{/other_user}",
            "gists_url": "https://api.github.com/users/vijaye12/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vijaye12/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vijaye12/subscriptions",
            "organizations_url": "https://api.github.com/users/vijaye12/orgs",
            "repos_url": "https://api.github.com/users/vijaye12/repos",
            "events_url": "https://api.github.com/users/vijaye12/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vijaye12/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-30T16:02:33Z",
          "updated_at": "2023-11-30T16:02:33Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts - Greetings! We have enabled all the changes suggested in PatchTST and also the corrections suggested in this PR from the past reviewers. Requesting your review and approval.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1834062109/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1838590109",
          "html_url": "https://github.com/huggingface/transformers/pull/26247#issuecomment-1838590109",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26247",
          "id": 1838590109,
          "node_id": "IC_kwDOCUB6oc5tlqid",
          "user": {
            "login": "vijaye12",
            "id": 25958261,
            "node_id": "MDQ6VXNlcjI1OTU4MjYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/25958261?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vijaye12",
            "html_url": "https://github.com/vijaye12",
            "followers_url": "https://api.github.com/users/vijaye12/followers",
            "following_url": "https://api.github.com/users/vijaye12/following{/other_user}",
            "gists_url": "https://api.github.com/users/vijaye12/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vijaye12/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vijaye12/subscriptions",
            "organizations_url": "https://api.github.com/users/vijaye12/orgs",
            "repos_url": "https://api.github.com/users/vijaye12/repos",
            "events_url": "https://api.github.com/users/vijaye12/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vijaye12/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-12-04T13:01:55Z",
          "updated_at": "2023-12-04T15:18:05Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker -Thanks for approving this PR. We have resolved all the final changes you mentioned. Please review and help with merge, if all good.\r\n\r\nPS: change with respect to adding segment names to docstring is the only one comment pending. When we add segment names in docstring following the syntax ssuggested - it getting auto removed during make fix-ups. Other than this - all other comments are resolved.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1838590109/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1844552773",
          "html_url": "https://github.com/huggingface/transformers/pull/26247#issuecomment-1844552773",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/26247",
          "id": 1844552773,
          "node_id": "IC_kwDOCUB6oc5t8aRF",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-12-07T05:44:29Z",
          "updated_at": "2023-12-07T05:44:29Z",
          "author_association": "COLLABORATOR",
          "body": "@vijaye12 thanks for bearing with us in this long review! and congrats for the merge! \ud83d\ude80 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1844552773/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/25927/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/25927/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/25927/events",
      "html_url": "https://github.com/huggingface/transformers/pull/25927",
      "id": 1878928931,
      "node_id": "PR_kwDOCUB6oc5Zamhv",
      "number": 25927,
      "title": "[time series] Add PatchTST",
      "user": {
        "login": "psinthong",
        "id": 4720928,
        "node_id": "MDQ6VXNlcjQ3MjA5Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4720928?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/psinthong",
        "html_url": "https://github.com/psinthong",
        "followers_url": "https://api.github.com/users/psinthong/followers",
        "following_url": "https://api.github.com/users/psinthong/following{/other_user}",
        "gists_url": "https://api.github.com/users/psinthong/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/psinthong/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/psinthong/subscriptions",
        "organizations_url": "https://api.github.com/users/psinthong/orgs",
        "repos_url": "https://api.github.com/users/psinthong/repos",
        "events_url": "https://api.github.com/users/psinthong/events{/privacy}",
        "received_events_url": "https://api.github.com/users/psinthong/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 20,
      "created_at": "2023-09-03T04:19:19Z",
      "updated_at": "2023-11-17T17:28:01Z",
      "closed_at": "2023-11-13T18:06:32Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/25927",
        "html_url": "https://github.com/huggingface/transformers/pull/25927",
        "diff_url": "https://github.com/huggingface/transformers/pull/25927.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/25927.patch",
        "merged_at": "2023-11-13T18:06:32Z"
      },
      "body": "# What does this PR do?\r\n\r\nAdding PatchTST model https://arxiv.org/abs/2211.14730\r\n\r\n@kashif \r\n\r\n## To-Do's:\r\n\r\n- [x] Add generate method\r\n- [x] Add additional integration test cases \r\n- [x] Make pretrained dataset publicly available \r\n- [ ] Make pretrained weights publicly available \r\n\r\n",
      "closed_by": {
        "login": "kashif",
        "id": 8100,
        "node_id": "MDQ6VXNlcjgxMDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8100?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kashif",
        "html_url": "https://github.com/kashif",
        "followers_url": "https://api.github.com/users/kashif/followers",
        "following_url": "https://api.github.com/users/kashif/following{/other_user}",
        "gists_url": "https://api.github.com/users/kashif/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/kashif/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/kashif/subscriptions",
        "organizations_url": "https://api.github.com/users/kashif/orgs",
        "repos_url": "https://api.github.com/users/kashif/repos",
        "events_url": "https://api.github.com/users/kashif/events{/privacy}",
        "received_events_url": "https://api.github.com/users/kashif/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/25927/reactions",
        "total_count": 2,
        "+1": 2,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/25927/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1718082037",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1718082037",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1718082037,
          "node_id": "IC_kwDOCUB6oc5mZ9n1",
          "user": {
            "login": "kashif",
            "id": 8100,
            "node_id": "MDQ6VXNlcjgxMDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8100?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kashif",
            "html_url": "https://github.com/kashif",
            "followers_url": "https://api.github.com/users/kashif/followers",
            "following_url": "https://api.github.com/users/kashif/following{/other_user}",
            "gists_url": "https://api.github.com/users/kashif/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kashif/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kashif/subscriptions",
            "organizations_url": "https://api.github.com/users/kashif/orgs",
            "repos_url": "https://api.github.com/users/kashif/repos",
            "events_url": "https://api.github.com/users/kashif/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kashif/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-13T18:00:45Z",
          "updated_at": "2023-09-13T18:00:45Z",
          "author_association": "CONTRIBUTOR",
          "body": "@psinthong  do you have a training script I can use?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1718082037/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1718187660",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1718187660",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1718187660,
          "node_id": "IC_kwDOCUB6oc5maXaM",
          "user": {
            "login": "psinthong",
            "id": 4720928,
            "node_id": "MDQ6VXNlcjQ3MjA5Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4720928?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/psinthong",
            "html_url": "https://github.com/psinthong",
            "followers_url": "https://api.github.com/users/psinthong/followers",
            "following_url": "https://api.github.com/users/psinthong/following{/other_user}",
            "gists_url": "https://api.github.com/users/psinthong/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/psinthong/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/psinthong/subscriptions",
            "organizations_url": "https://api.github.com/users/psinthong/orgs",
            "repos_url": "https://api.github.com/users/psinthong/repos",
            "events_url": "https://api.github.com/users/psinthong/events{/privacy}",
            "received_events_url": "https://api.github.com/users/psinthong/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-13T19:22:26Z",
          "updated_at": "2023-09-13T19:22:26Z",
          "author_association": "CONTRIBUTOR",
          "body": "@kashif, yes, I added an example training script on a dummy dataset for our forecasting model [here](https://github.com/namctin/transformers/blob/patchtst/src/transformers/models/patchtst/patchtst_forecast_test.py). ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1718187660/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1746342624",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1746342624",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1746342624,
          "node_id": "IC_kwDOCUB6oc5oFxLg",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-04T08:00:08Z",
          "updated_at": "2023-10-04T08:00:08Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_25927). All of your documentation changes will be reflected on that endpoint.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1746342624/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1751139248",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1751139248",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1751139248,
          "node_id": "IC_kwDOCUB6oc5oYEOw",
          "user": {
            "login": "kashif",
            "id": 8100,
            "node_id": "MDQ6VXNlcjgxMDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8100?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kashif",
            "html_url": "https://github.com/kashif",
            "followers_url": "https://api.github.com/users/kashif/followers",
            "following_url": "https://api.github.com/users/kashif/following{/other_user}",
            "gists_url": "https://api.github.com/users/kashif/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kashif/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kashif/subscriptions",
            "organizations_url": "https://api.github.com/users/kashif/orgs",
            "repos_url": "https://api.github.com/users/kashif/repos",
            "events_url": "https://api.github.com/users/kashif/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kashif/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-06T17:17:27Z",
          "updated_at": "2023-10-06T17:17:27Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ArthurZucker green!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1751139248/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1757561113",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1757561113",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1757561113,
          "node_id": "IC_kwDOCUB6oc5owkEZ",
          "user": {
            "login": "kashif",
            "id": 8100,
            "node_id": "MDQ6VXNlcjgxMDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8100?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kashif",
            "html_url": "https://github.com/kashif",
            "followers_url": "https://api.github.com/users/kashif/followers",
            "following_url": "https://api.github.com/users/kashif/following{/other_user}",
            "gists_url": "https://api.github.com/users/kashif/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kashif/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kashif/subscriptions",
            "organizations_url": "https://api.github.com/users/kashif/orgs",
            "repos_url": "https://api.github.com/users/kashif/repos",
            "events_url": "https://api.github.com/users/kashif/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kashif/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-11T12:15:05Z",
          "updated_at": "2023-10-11T12:15:05Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ArthurZucker the failing CI is due to the hub and i believe not related",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1757561113/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1776600855",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1776600855",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1776600855,
          "node_id": "IC_kwDOCUB6oc5p5McX",
          "user": {
            "login": "Hannibal046",
            "id": 38466901,
            "node_id": "MDQ6VXNlcjM4NDY2OTAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/38466901?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Hannibal046",
            "html_url": "https://github.com/Hannibal046",
            "followers_url": "https://api.github.com/users/Hannibal046/followers",
            "following_url": "https://api.github.com/users/Hannibal046/following{/other_user}",
            "gists_url": "https://api.github.com/users/Hannibal046/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Hannibal046/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Hannibal046/subscriptions",
            "organizations_url": "https://api.github.com/users/Hannibal046/orgs",
            "repos_url": "https://api.github.com/users/Hannibal046/repos",
            "events_url": "https://api.github.com/users/Hannibal046/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Hannibal046/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-24T06:23:10Z",
          "updated_at": "2023-10-24T06:25:43Z",
          "author_association": "NONE",
          "body": "Hi, it seems the attention in the PatchTST is not the vanilla attention. It uses `residual_attention` with `res_attention:bool=True`. https://github.com/yuqinie98/PatchTST/blob/204c21efe0b39603ad6e2ca640ef5896646ab1a9/PatchTST_supervised/layers/PatchTST_backbone.py#L16-L23",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1776600855/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1776694986",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1776694986",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1776694986,
          "node_id": "IC_kwDOCUB6oc5p5jbK",
          "user": {
            "login": "kashif",
            "id": 8100,
            "node_id": "MDQ6VXNlcjgxMDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8100?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kashif",
            "html_url": "https://github.com/kashif",
            "followers_url": "https://api.github.com/users/kashif/followers",
            "following_url": "https://api.github.com/users/kashif/following{/other_user}",
            "gists_url": "https://api.github.com/users/kashif/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kashif/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kashif/subscriptions",
            "organizations_url": "https://api.github.com/users/kashif/orgs",
            "repos_url": "https://api.github.com/users/kashif/repos",
            "events_url": "https://api.github.com/users/kashif/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kashif/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-24T07:47:43Z",
          "updated_at": "2023-10-24T07:47:43Z",
          "author_association": "CONTRIBUTOR",
          "body": "@Hannibal046 thats true that the official implementation had those two flags for learning the scale and RealFormer, but as far as I know those flags were always kept to `False` ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1776694986/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1776757080",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1776757080",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1776757080,
          "node_id": "IC_kwDOCUB6oc5p5ylY",
          "user": {
            "login": "Hannibal046",
            "id": 38466901,
            "node_id": "MDQ6VXNlcjM4NDY2OTAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/38466901?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Hannibal046",
            "html_url": "https://github.com/Hannibal046",
            "followers_url": "https://api.github.com/users/Hannibal046/followers",
            "following_url": "https://api.github.com/users/Hannibal046/following{/other_user}",
            "gists_url": "https://api.github.com/users/Hannibal046/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Hannibal046/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Hannibal046/subscriptions",
            "organizations_url": "https://api.github.com/users/Hannibal046/orgs",
            "repos_url": "https://api.github.com/users/Hannibal046/repos",
            "events_url": "https://api.github.com/users/Hannibal046/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Hannibal046/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-24T08:29:34Z",
          "updated_at": "2023-10-24T08:35:36Z",
          "author_association": "NONE",
          "body": "@kashif Hi, Thanks for replying! According to this [official script](https://github.com/yuqinie98/PatchTST/blob/main/PatchTST_supervised/scripts/PatchTST/traffic.sh) to launch a supervised PatchTST model for traffic dataset, the flag `res_attention` is set to the default value which is `True`.\r\n\r\nActually, there are two codebase in the official PatchTST repo, `PatchTST-self-supervised` and `PatchTST-supervised`. For the former, they didn't use `res_attention` but in the latter, the `res_attention` is the default and recommended setting.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1776757080/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1776774159",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1776774159",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1776774159,
          "node_id": "IC_kwDOCUB6oc5p52wP",
          "user": {
            "login": "kashif",
            "id": 8100,
            "node_id": "MDQ6VXNlcjgxMDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8100?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kashif",
            "html_url": "https://github.com/kashif",
            "followers_url": "https://api.github.com/users/kashif/followers",
            "following_url": "https://api.github.com/users/kashif/following{/other_user}",
            "gists_url": "https://api.github.com/users/kashif/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kashif/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kashif/subscriptions",
            "organizations_url": "https://api.github.com/users/kashif/orgs",
            "repos_url": "https://api.github.com/users/kashif/repos",
            "events_url": "https://api.github.com/users/kashif/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kashif/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-24T08:40:54Z",
          "updated_at": "2023-10-24T08:40:54Z",
          "author_association": "CONTRIBUTOR",
          "body": "@Hannibal046  can you check if the flag makes a big difference, they also didn't mention RealFormer in the paper either...",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1776774159/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1776790754",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1776790754",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1776790754,
          "node_id": "IC_kwDOCUB6oc5p56zi",
          "user": {
            "login": "Hannibal046",
            "id": 38466901,
            "node_id": "MDQ6VXNlcjM4NDY2OTAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/38466901?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Hannibal046",
            "html_url": "https://github.com/Hannibal046",
            "followers_url": "https://api.github.com/users/Hannibal046/followers",
            "following_url": "https://api.github.com/users/Hannibal046/following{/other_user}",
            "gists_url": "https://api.github.com/users/Hannibal046/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Hannibal046/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Hannibal046/subscriptions",
            "organizations_url": "https://api.github.com/users/Hannibal046/orgs",
            "repos_url": "https://api.github.com/users/Hannibal046/repos",
            "events_url": "https://api.github.com/users/Hannibal046/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Hannibal046/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-24T08:50:58Z",
          "updated_at": "2023-10-24T08:50:58Z",
          "author_association": "NONE",
          "body": "They indeed didn't mention RealFormer in the paper. I left an [issue](https://github.com/yuqinie98/PatchTST/issues/81) here and I think we should let the authors decide it is a bug or feature.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1776790754/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1777311545",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1777311545",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1777311545,
          "node_id": "IC_kwDOCUB6oc5p7585",
          "user": {
            "login": "Hannibal046",
            "id": 38466901,
            "node_id": "MDQ6VXNlcjM4NDY2OTAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/38466901?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Hannibal046",
            "html_url": "https://github.com/Hannibal046",
            "followers_url": "https://api.github.com/users/Hannibal046/followers",
            "following_url": "https://api.github.com/users/Hannibal046/following{/other_user}",
            "gists_url": "https://api.github.com/users/Hannibal046/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Hannibal046/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Hannibal046/subscriptions",
            "organizations_url": "https://api.github.com/users/Hannibal046/orgs",
            "repos_url": "https://api.github.com/users/Hannibal046/repos",
            "events_url": "https://api.github.com/users/Hannibal046/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Hannibal046/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-24T14:15:49Z",
          "updated_at": "2023-10-24T14:15:49Z",
          "author_association": "NONE",
          "body": "Hi, It seems that the current HF version of PatchTST doesn't include `Reversible Instance Normalization` as shown in the original repo:\r\nhttps://github.com/yuqinie98/PatchTST/blob/204c21efe0b39603ad6e2ca640ef5896646ab1a9/PatchTST_supervised/layers/PatchTST_backbone.py#L63-L65",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1777311545/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1777322057",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1777322057",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1777322057,
          "node_id": "IC_kwDOCUB6oc5p78hJ",
          "user": {
            "login": "kashif",
            "id": 8100,
            "node_id": "MDQ6VXNlcjgxMDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8100?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kashif",
            "html_url": "https://github.com/kashif",
            "followers_url": "https://api.github.com/users/kashif/followers",
            "following_url": "https://api.github.com/users/kashif/following{/other_user}",
            "gists_url": "https://api.github.com/users/kashif/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kashif/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kashif/subscriptions",
            "organizations_url": "https://api.github.com/users/kashif/orgs",
            "repos_url": "https://api.github.com/users/kashif/repos",
            "events_url": "https://api.github.com/users/kashif/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kashif/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-24T14:20:56Z",
          "updated_at": "2023-10-24T14:38:21Z",
          "author_association": "CONTRIBUTOR",
          "body": "@Hannibal046 I switched out the RevIN (instance norm) with the scaling heuristics originally from the DeepAR paper which essentially serves the same purpose... If I remember, PatchTST was not learning some affine transformation to the mu and std of the context window data so it should be the same... also as in the DeepAR paper, we should append the mean and sigma to the input encodings (which would be like the Non-stationary transformer paper) Note both the RevIN and NS-transformer paper didn't mention this prior, I believe related, work/technique... ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1777322057/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1777361237",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1777361237",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1777361237,
          "node_id": "IC_kwDOCUB6oc5p8GFV",
          "user": {
            "login": "Hannibal046",
            "id": 38466901,
            "node_id": "MDQ6VXNlcjM4NDY2OTAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/38466901?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Hannibal046",
            "html_url": "https://github.com/Hannibal046",
            "followers_url": "https://api.github.com/users/Hannibal046/followers",
            "following_url": "https://api.github.com/users/Hannibal046/following{/other_user}",
            "gists_url": "https://api.github.com/users/Hannibal046/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Hannibal046/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Hannibal046/subscriptions",
            "organizations_url": "https://api.github.com/users/Hannibal046/orgs",
            "repos_url": "https://api.github.com/users/Hannibal046/repos",
            "events_url": "https://api.github.com/users/Hannibal046/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Hannibal046/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-24T14:37:00Z",
          "updated_at": "2023-10-24T14:37:00Z",
          "author_association": "NONE",
          "body": "Thanks so much for the response! Now I understand it!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1777361237/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1777581326",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1777581326",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1777581326,
          "node_id": "IC_kwDOCUB6oc5p870O",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-24T16:17:49Z",
          "updated_at": "2023-10-24T16:17:49Z",
          "author_association": "COLLABORATOR",
          "body": "I'll review this one as well \ud83d\ude04 \r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1777581326/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1801993140",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1801993140",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1801993140,
          "node_id": "IC_kwDOCUB6oc5raDu0",
          "user": {
            "login": "namctin",
            "id": 8682412,
            "node_id": "MDQ6VXNlcjg2ODI0MTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8682412?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/namctin",
            "html_url": "https://github.com/namctin",
            "followers_url": "https://api.github.com/users/namctin/followers",
            "following_url": "https://api.github.com/users/namctin/following{/other_user}",
            "gists_url": "https://api.github.com/users/namctin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/namctin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/namctin/subscriptions",
            "organizations_url": "https://api.github.com/users/namctin/orgs",
            "repos_url": "https://api.github.com/users/namctin/repos",
            "events_url": "https://api.github.com/users/namctin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/namctin/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-08T14:24:36Z",
          "updated_at": "2023-11-08T14:24:36Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Most of the comments I did for the other PR also apply here, so no single letter variables, comments on the line above to not always split the line as it is not necessary, avoid sequential and dummy classes, as @NielsRogge suggested, use the config when args can be taken from the config, resolving all previous comments (answering or code changes). I can review again afterwards\r\n\r\nHi @ArthurZucker @NielsRogge , we have addressed all of your comments. Can you please review and let us know if there is anything that we have to resolve? ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1801993140/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1808094236",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1808094236",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1808094236,
          "node_id": "IC_kwDOCUB6oc5rxVQc",
          "user": {
            "login": "kashif",
            "id": 8100,
            "node_id": "MDQ6VXNlcjgxMDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8100?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kashif",
            "html_url": "https://github.com/kashif",
            "followers_url": "https://api.github.com/users/kashif/followers",
            "following_url": "https://api.github.com/users/kashif/following{/other_user}",
            "gists_url": "https://api.github.com/users/kashif/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kashif/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kashif/subscriptions",
            "organizations_url": "https://api.github.com/users/kashif/orgs",
            "repos_url": "https://api.github.com/users/kashif/repos",
            "events_url": "https://api.github.com/users/kashif/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kashif/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-13T12:42:06Z",
          "updated_at": "2023-11-13T12:42:06Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts  the failing tests are from the `test_run_semantic_segmentation` timing out",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1808094236/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1808096588",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1808096588",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1808096588,
          "node_id": "IC_kwDOCUB6oc5rxV1M",
          "user": {
            "login": "kashif",
            "id": 8100,
            "node_id": "MDQ6VXNlcjgxMDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8100?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kashif",
            "html_url": "https://github.com/kashif",
            "followers_url": "https://api.github.com/users/kashif/followers",
            "following_url": "https://api.github.com/users/kashif/following{/other_user}",
            "gists_url": "https://api.github.com/users/kashif/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kashif/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kashif/subscriptions",
            "organizations_url": "https://api.github.com/users/kashif/orgs",
            "repos_url": "https://api.github.com/users/kashif/repos",
            "events_url": "https://api.github.com/users/kashif/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kashif/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-13T12:43:45Z",
          "updated_at": "2023-11-13T12:43:45Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts  all the `foward` have a dedicated docstring now, so do we need to include the `add_start_docstrings_to_model_forward` decorator?\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1808096588/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1808830559",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1808830559",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1808830559,
          "node_id": "IC_kwDOCUB6oc5r0JBf",
          "user": {
            "login": "kashif",
            "id": 8100,
            "node_id": "MDQ6VXNlcjgxMDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8100?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kashif",
            "html_url": "https://github.com/kashif",
            "followers_url": "https://api.github.com/users/kashif/followers",
            "following_url": "https://api.github.com/users/kashif/following{/other_user}",
            "gists_url": "https://api.github.com/users/kashif/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kashif/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kashif/subscriptions",
            "organizations_url": "https://api.github.com/users/kashif/orgs",
            "repos_url": "https://api.github.com/users/kashif/repos",
            "events_url": "https://api.github.com/users/kashif/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kashif/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-13T19:02:29Z",
          "updated_at": "2023-11-13T19:02:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts I have made the doc fixes here #27476",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1808830559/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1816736869",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1816736869",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1816736869,
          "node_id": "IC_kwDOCUB6oc5sSTRl",
          "user": {
            "login": "namctin",
            "id": 8682412,
            "node_id": "MDQ6VXNlcjg2ODI0MTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8682412?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/namctin",
            "html_url": "https://github.com/namctin",
            "followers_url": "https://api.github.com/users/namctin/followers",
            "following_url": "https://api.github.com/users/namctin/following{/other_user}",
            "gists_url": "https://api.github.com/users/namctin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/namctin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/namctin/subscriptions",
            "organizations_url": "https://api.github.com/users/namctin/orgs",
            "repos_url": "https://api.github.com/users/namctin/repos",
            "events_url": "https://api.github.com/users/namctin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/namctin/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-17T16:35:08Z",
          "updated_at": "2023-11-17T16:35:08Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @amyeroberts, thank you for your details comments and requests. We have addressed all your concerns including adding examples on the use of these model in the modeling page. Can you please kindly review? CC @kashif @vijaye12 .",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1816736869/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1816816653",
          "html_url": "https://github.com/huggingface/transformers/pull/25927#issuecomment-1816816653",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25927",
          "id": 1816816653,
          "node_id": "IC_kwDOCUB6oc5sSmwN",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-17T17:27:59Z",
          "updated_at": "2023-11-17T17:27:59Z",
          "author_association": "COLLABORATOR",
          "body": "@namctin As this PR was merged it's closed and can't be reopened. Could you open a new PR for the review? ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1816816653/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/33217/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/33217/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/33217/events",
      "html_url": "https://github.com/huggingface/transformers/pull/33217",
      "id": 2497335802,
      "node_id": "PR_kwDOCUB6oc55-zS8",
      "number": 33217,
      "title": "Add propainter",
      "user": {
        "login": "RUFFY-369",
        "id": 66624139,
        "node_id": "MDQ6VXNlcjY2NjI0MTM5",
        "avatar_url": "https://avatars.githubusercontent.com/u/66624139?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RUFFY-369",
        "html_url": "https://github.com/RUFFY-369",
        "followers_url": "https://api.github.com/users/RUFFY-369/followers",
        "following_url": "https://api.github.com/users/RUFFY-369/following{/other_user}",
        "gists_url": "https://api.github.com/users/RUFFY-369/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/RUFFY-369/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/RUFFY-369/subscriptions",
        "organizations_url": "https://api.github.com/users/RUFFY-369/orgs",
        "repos_url": "https://api.github.com/users/RUFFY-369/repos",
        "events_url": "https://api.github.com/users/RUFFY-369/events{/privacy}",
        "received_events_url": "https://api.github.com/users/RUFFY-369/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 6886428489,
          "node_id": "LA_kwDOCUB6oc8AAAABmnaPSQ",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/run-slow",
          "name": "run-slow",
          "color": "E1D519",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 36,
      "created_at": "2024-08-30T14:03:33Z",
      "updated_at": "2024-10-31T10:54:55Z",
      "closed_at": null,
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/33217",
        "html_url": "https://github.com/huggingface/transformers/pull/33217",
        "diff_url": "https://github.com/huggingface/transformers/pull/33217.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/33217.patch",
        "merged_at": null
      },
      "body": "# What does this PR do?\r\nThis PR adds ProPainter, a Video Inpainting model with 5.4k stars and 635 forks [repo](https://github.com/sczhou/ProPainter). It fixes #26360 and resolve stale PR #26391 for the above issue from complete scratch to build on with transformers standard.\r\n\r\n## Before submitting\r\n- [ ] This PR fixes a typo or improves the docs (you can dismiss the other checks if that's the case).\r\n- [x] Did you read the [contributor guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#create-a-pull-request),\r\n      Pull Request section?\r\n- [x] Was this discussed/approved via a Github issue or the [forum](https://discuss.huggingface.co/)? Please add a link\r\n      to it if that's the case.\r\n- [x] Did you make sure to update the documentation with your changes? Here are the\r\n      [documentation guidelines](https://github.com/huggingface/transformers/tree/main/docs), and\r\n      [here are tips on formatting docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).\r\n- [x] Did you write any new necessary tests?\r\n\r\n\r\n## Who can review?\r\n\r\n@amyeroberts @ArthurZucker @NielsRogge (?)\r\n@rafaelpadilla(as he was the initial reviewer on the stale PR)\r\n\r\nAnyone in the community is free to review the PR once the tests have passed. Feel free to tag\r\nmembers/contributors who may be interested in your PR.\r\n\r\n#### The PR is more than ready for first pass of review!!!\r\n\r\n#### TODO(will be done in a fly :)):\r\n- [x] Fix all common test failures\r\n- [x] Update weights conversion scripts with the working one on local machine\r\n- [x] Review batching nits one more time in the applicable files\r\n- [x] Update docs in corresponding files\r\n- [x] Check for video 'outpainting' error\r\n\r\n#### Results:\r\nHere, I am attaching the GIFs for original video, original model's output for object removal through video inpainting and the current PR' HF model's output for object removal through video inpainting:\r\n\r\nOriginal video:\r\n![original](https://github.com/user-attachments/assets/7b768c66-4944-407b-8f6a-e10e7a53bdcb)\r\n\r\n\r\nOriginal model output:\r\n![original_removal](https://github.com/user-attachments/assets/eaa40751-9a04-4e0b-b87b-9302da3f259b)\r\n\r\nHF ported model output:\r\n\r\n![hf_removal](https://github.com/user-attachments/assets/126b6d45-78e9-400a-95a5-ac5575db5896)\r\n\r\n\r\n##### Example usage is provided in the doc file [here](https://github.com/RUFFY-369/transformers/blob/add_propainter/docs/source/en/model_doc/propainter.md)",
      "closed_by": null,
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/33217/reactions",
        "total_count": 2,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 1,
        "rocket": 1,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/33217/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2322539946",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2322539946",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2322539946,
          "node_id": "IC_kwDOCUB6oc6KbyWq",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-30T23:01:39Z",
          "updated_at": "2024-08-30T23:01:39Z",
          "author_association": "COLLABORATOR",
          "body": "(Sorry about the failures on the ci should be fixed now)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2322539946/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2323828659",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2323828659",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2323828659,
          "node_id": "IC_kwDOCUB6oc6Kgs-z",
          "user": {
            "login": "sczhou",
            "id": 14334509,
            "node_id": "MDQ6VXNlcjE0MzM0NTA5",
            "avatar_url": "https://avatars.githubusercontent.com/u/14334509?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sczhou",
            "html_url": "https://github.com/sczhou",
            "followers_url": "https://api.github.com/users/sczhou/followers",
            "following_url": "https://api.github.com/users/sczhou/following{/other_user}",
            "gists_url": "https://api.github.com/users/sczhou/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sczhou/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sczhou/subscriptions",
            "organizations_url": "https://api.github.com/users/sczhou/orgs",
            "repos_url": "https://api.github.com/users/sczhou/repos",
            "events_url": "https://api.github.com/users/sczhou/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sczhou/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-02T05:12:42Z",
          "updated_at": "2024-09-02T05:12:42Z",
          "author_association": "NONE",
          "body": "Thank you @RUFFY-369 @ArthurZucker @amyeroberts @NielsRogge all for your hard work in bringing our ProPainter model to the Hugging Face Transformers repository! I really appreciate your efforts to make it more accessible to the community. Cheers!\ud83c\udf89\ud83c\udf89\ud83c\udf89",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2323828659/reactions",
            "total_count": 5,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 3,
            "rocket": 2,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2334558210",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2334558210",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2334558210,
          "node_id": "IC_kwDOCUB6oc6LJogC",
          "user": {
            "login": "RUFFY-369",
            "id": 66624139,
            "node_id": "MDQ6VXNlcjY2NjI0MTM5",
            "avatar_url": "https://avatars.githubusercontent.com/u/66624139?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RUFFY-369",
            "html_url": "https://github.com/RUFFY-369",
            "followers_url": "https://api.github.com/users/RUFFY-369/followers",
            "following_url": "https://api.github.com/users/RUFFY-369/following{/other_user}",
            "gists_url": "https://api.github.com/users/RUFFY-369/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RUFFY-369/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RUFFY-369/subscriptions",
            "organizations_url": "https://api.github.com/users/RUFFY-369/orgs",
            "repos_url": "https://api.github.com/users/RUFFY-369/repos",
            "events_url": "https://api.github.com/users/RUFFY-369/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RUFFY-369/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-06T17:55:31Z",
          "updated_at": "2024-09-09T17:17:23Z",
          "author_association": "CONTRIBUTOR",
          "body": "cc @amyeroberts @NielsRogge , I have addressed all the suggested changes that were mentioned. Please check them out. ~~Only thing to add is the checkpoints conversion file and that will be also soon be added.~~ Update:This has also been done",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2334558210/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2338457678",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2338457678",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2338457678,
          "node_id": "IC_kwDOCUB6oc6LYghO",
          "user": {
            "login": "RUFFY-369",
            "id": 66624139,
            "node_id": "MDQ6VXNlcjY2NjI0MTM5",
            "avatar_url": "https://avatars.githubusercontent.com/u/66624139?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RUFFY-369",
            "html_url": "https://github.com/RUFFY-369",
            "followers_url": "https://api.github.com/users/RUFFY-369/followers",
            "following_url": "https://api.github.com/users/RUFFY-369/following{/other_user}",
            "gists_url": "https://api.github.com/users/RUFFY-369/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RUFFY-369/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RUFFY-369/subscriptions",
            "organizations_url": "https://api.github.com/users/RUFFY-369/orgs",
            "repos_url": "https://api.github.com/users/RUFFY-369/repos",
            "events_url": "https://api.github.com/users/RUFFY-369/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RUFFY-369/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-09T15:39:56Z",
          "updated_at": "2024-09-09T15:39:56Z",
          "author_association": "CONTRIBUTOR",
          "body": "Update: All the files I've modified are ready for review.\r\n\r\nHi @amyeroberts and @NielsRogge ! When you have some time, could you please take another look at this PR? I've resolved your previous remarks and left the ones where I had questions open (some are updated & closed from my side).\r\n\r\nThanks in advance! \r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2338457678/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2340253841",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2340253841",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2340253841,
          "node_id": "IC_kwDOCUB6oc6LfXCR",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-10T10:16:48Z",
          "updated_at": "2024-09-10T10:16:48Z",
          "author_association": "COLLABORATOR",
          "body": "@RUFFY-369 I can see that there's still commits being pushed. Could you address the failing tests first, and then ping when ready for review? Let us know if there's any areas of the PR you have specific questions about or need any help with resolving the tests ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2340253841/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2340267244",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2340267244",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2340267244,
          "node_id": "IC_kwDOCUB6oc6LfaTs",
          "user": {
            "login": "RUFFY-369",
            "id": 66624139,
            "node_id": "MDQ6VXNlcjY2NjI0MTM5",
            "avatar_url": "https://avatars.githubusercontent.com/u/66624139?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RUFFY-369",
            "html_url": "https://github.com/RUFFY-369",
            "followers_url": "https://api.github.com/users/RUFFY-369/followers",
            "following_url": "https://api.github.com/users/RUFFY-369/following{/other_user}",
            "gists_url": "https://api.github.com/users/RUFFY-369/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RUFFY-369/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RUFFY-369/subscriptions",
            "organizations_url": "https://api.github.com/users/RUFFY-369/orgs",
            "repos_url": "https://api.github.com/users/RUFFY-369/repos",
            "events_url": "https://api.github.com/users/RUFFY-369/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RUFFY-369/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-10T10:22:45Z",
          "updated_at": "2024-09-10T10:29:14Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts Thank you for your reply. Yeah I was working on solving the failing CI tests in these commits. And meanwhile, I also did some refactoring in the code by removing more of every hard coded values that remained by moving it to config file if code allows.\r\n\r\nI tagged you in one of the review conversation in this PR that I asked regarding the `VideoProcessor`\r\n\r\nI will ping you as soon as the tests are green :+1:  and may ask for help if I get stuck in it",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2340267244/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2343834049",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2343834049",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2343834049,
          "node_id": "IC_kwDOCUB6oc6LtBHB",
          "user": {
            "login": "RUFFY-369",
            "id": 66624139,
            "node_id": "MDQ6VXNlcjY2NjI0MTM5",
            "avatar_url": "https://avatars.githubusercontent.com/u/66624139?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RUFFY-369",
            "html_url": "https://github.com/RUFFY-369",
            "followers_url": "https://api.github.com/users/RUFFY-369/followers",
            "following_url": "https://api.github.com/users/RUFFY-369/following{/other_user}",
            "gists_url": "https://api.github.com/users/RUFFY-369/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RUFFY-369/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RUFFY-369/subscriptions",
            "organizations_url": "https://api.github.com/users/RUFFY-369/orgs",
            "repos_url": "https://api.github.com/users/RUFFY-369/repos",
            "events_url": "https://api.github.com/users/RUFFY-369/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RUFFY-369/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-11T14:24:51Z",
          "updated_at": "2024-09-11T22:27:58Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @amyeroberts , I need your help with the ~test_processors` test which is failing [here](https://circleci.com/gh/huggingface/transformers/1382859) as I think this isn't related to the PR and is related to the `main` branch.~\r\n\r\nUpdate: I noticed that it was fixed when I pushed my latest commits. :+1: ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2343834049/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2345685292",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2345685292",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2345685292,
          "node_id": "IC_kwDOCUB6oc6L0FEs",
          "user": {
            "login": "RUFFY-369",
            "id": 66624139,
            "node_id": "MDQ6VXNlcjY2NjI0MTM5",
            "avatar_url": "https://avatars.githubusercontent.com/u/66624139?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RUFFY-369",
            "html_url": "https://github.com/RUFFY-369",
            "followers_url": "https://api.github.com/users/RUFFY-369/followers",
            "following_url": "https://api.github.com/users/RUFFY-369/following{/other_user}",
            "gists_url": "https://api.github.com/users/RUFFY-369/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RUFFY-369/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RUFFY-369/subscriptions",
            "organizations_url": "https://api.github.com/users/RUFFY-369/orgs",
            "repos_url": "https://api.github.com/users/RUFFY-369/repos",
            "events_url": "https://api.github.com/users/RUFFY-369/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RUFFY-369/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-12T09:00:40Z",
          "updated_at": "2024-09-13T11:52:40Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @amyeroberts  . All the tests are green except one. I may need some advice and your help with this as this is the only one remaining. \r\n`tests_torch` is failing with this: `worker 'gw6' crashed while running 'tests/models/propainter/test_modeling_propainter.py::ProPainterModelTest::test_attention_outputs'`. And I have changed different config attributes in the test modeling file in the above commits to make it go as light as possible but it still happens.\r\n\r\nIf you could take a look at it then this remaining one test will be green and the PR will be ready for review.\r\n\r\nThank you :smile: \r\n\r\ncc: @NielsRogge , @ydshieh ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2345685292/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2346731466",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2346731466",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2346731466,
          "node_id": "IC_kwDOCUB6oc6L4EfK",
          "user": {
            "login": "RUFFY-369",
            "id": 66624139,
            "node_id": "MDQ6VXNlcjY2NjI0MTM5",
            "avatar_url": "https://avatars.githubusercontent.com/u/66624139?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RUFFY-369",
            "html_url": "https://github.com/RUFFY-369",
            "followers_url": "https://api.github.com/users/RUFFY-369/followers",
            "following_url": "https://api.github.com/users/RUFFY-369/following{/other_user}",
            "gists_url": "https://api.github.com/users/RUFFY-369/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RUFFY-369/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RUFFY-369/subscriptions",
            "organizations_url": "https://api.github.com/users/RUFFY-369/orgs",
            "repos_url": "https://api.github.com/users/RUFFY-369/repos",
            "events_url": "https://api.github.com/users/RUFFY-369/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RUFFY-369/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-12T16:20:33Z",
          "updated_at": "2024-09-12T16:20:33Z",
          "author_association": "CONTRIBUTOR",
          "body": "still failing on the same test",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2346731466/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2346747865",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2346747865",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2346747865,
          "node_id": "IC_kwDOCUB6oc6L4IfZ",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-12T16:27:13Z",
          "updated_at": "2024-09-12T16:27:13Z",
          "author_association": "COLLABORATOR",
          "body": "@RUFFY-369 Are you able to run the test locally? \r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2346747865/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2346755934",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2346755934",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2346755934,
          "node_id": "IC_kwDOCUB6oc6L4Kde",
          "user": {
            "login": "RUFFY-369",
            "id": 66624139,
            "node_id": "MDQ6VXNlcjY2NjI0MTM5",
            "avatar_url": "https://avatars.githubusercontent.com/u/66624139?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RUFFY-369",
            "html_url": "https://github.com/RUFFY-369",
            "followers_url": "https://api.github.com/users/RUFFY-369/followers",
            "following_url": "https://api.github.com/users/RUFFY-369/following{/other_user}",
            "gists_url": "https://api.github.com/users/RUFFY-369/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RUFFY-369/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RUFFY-369/subscriptions",
            "organizations_url": "https://api.github.com/users/RUFFY-369/orgs",
            "repos_url": "https://api.github.com/users/RUFFY-369/repos",
            "events_url": "https://api.github.com/users/RUFFY-369/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RUFFY-369/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-12T16:31:19Z",
          "updated_at": "2024-09-12T16:33:00Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts Yes, tests are running locally, all of them. \nAnd all are passed.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2346755934/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2348820580",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2348820580",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2348820580,
          "node_id": "IC_kwDOCUB6oc6MAChk",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-13T12:18:23Z",
          "updated_at": "2024-09-13T12:18:23Z",
          "author_association": "COLLABORATOR",
          "body": "Although my previous experience says it's likely OOM, but from the resource usage log it doesn't seem that case\r\n\r\n<img width=\"951\" alt=\"Screenshot 2024-09-13 141206\" src=\"https://github.com/user-attachments/assets/e6edf77a-fa96-4f58-976c-4e89e6a0659f\">\r\n\r\n> And I have changed different config attributes in the test modeling file in the above commits to make it go as light as possible but it still happens.\r\n\r\nI suggest you set a breakpoint, print the content of model's config and compare it to the default config's values.\r\n\r\nI would also be helpful to save the (created) model and see its size, and/or print the model `print(model)`\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2348820580/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2348910473",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2348910473",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2348910473,
          "node_id": "IC_kwDOCUB6oc6MAYeJ",
          "user": {
            "login": "RUFFY-369",
            "id": 66624139,
            "node_id": "MDQ6VXNlcjY2NjI0MTM5",
            "avatar_url": "https://avatars.githubusercontent.com/u/66624139?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RUFFY-369",
            "html_url": "https://github.com/RUFFY-369",
            "followers_url": "https://api.github.com/users/RUFFY-369/followers",
            "following_url": "https://api.github.com/users/RUFFY-369/following{/other_user}",
            "gists_url": "https://api.github.com/users/RUFFY-369/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RUFFY-369/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RUFFY-369/subscriptions",
            "organizations_url": "https://api.github.com/users/RUFFY-369/orgs",
            "repos_url": "https://api.github.com/users/RUFFY-369/repos",
            "events_url": "https://api.github.com/users/RUFFY-369/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RUFFY-369/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-13T13:01:52Z",
          "updated_at": "2024-09-13T13:01:52Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Although my previous experience says it's likely OOM, but from the resource usage log it doesn't seem that case\r\n> \r\n> <img alt=\"Screenshot 2024-09-13 141206\" width=\"951\" src=\"https://private-user-images.githubusercontent.com/2521628/367287980-e6edf77a-fa96-4f58-976c-4e89e6a0659f.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjYyMzAyMDYsIm5iZiI6MTcyNjIyOTkwNiwicGF0aCI6Ii8yNTIxNjI4LzM2NzI4Nzk4MC1lNmVkZjc3YS1mYTk2LTRmNTgtOTc2Yy00ZTg5ZTZhMDY1OWYucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDkxMyUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA5MTNUMTIxODI2WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YTMzZjQxZGQyNDkyMzU2MzBkOWU1MzlkMWM0NTg5ZGYxMjA1NjYxOTBiZTE1ZTE5MTY0NTY2MTliMjg4ZDM2NyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.BNAODeMqxQ3XC3cLPKVJCyfySp5Iy7mVf2DGT_dCJ9M\">\r\n> > And I have changed different config attributes in the test modeling file in the above commits to make it go as light as possible but it still happens.\r\n> \r\n> I suggest you set a breakpoint, print the content of model's config and compare it to the default config's values.\r\n> \r\n> I would also be helpful to save the (created) model and see its size, and/or print the model `print(model)`\r\n\r\n@ydshieh Thank you for your reply.\r\nInitially, I skipped the test which was crashing the worker but then the next test in run also failed, you can notice that in the latest test fails. It seems to be OOM but when I also checked the analytics they didn't point in that direction.\r\n\r\nI had already set the config attributes as low as possible in test file. And what points out it be OOM in my opinion was that all the tests are passing without any OOM in my own system.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2348910473/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2349039027",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2349039027",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2349039027,
          "node_id": "IC_kwDOCUB6oc6MA32z",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-13T14:01:50Z",
          "updated_at": "2024-09-13T14:02:03Z",
          "author_association": "COLLABORATOR",
          "body": "You can still  print the config of the default and the used config in full form and let's see what are the difference.\r\n\r\n ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2349039027/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2349065026",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2349065026",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2349065026,
          "node_id": "IC_kwDOCUB6oc6MA-NC",
          "user": {
            "login": "RUFFY-369",
            "id": 66624139,
            "node_id": "MDQ6VXNlcjY2NjI0MTM5",
            "avatar_url": "https://avatars.githubusercontent.com/u/66624139?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RUFFY-369",
            "html_url": "https://github.com/RUFFY-369",
            "followers_url": "https://api.github.com/users/RUFFY-369/followers",
            "following_url": "https://api.github.com/users/RUFFY-369/following{/other_user}",
            "gists_url": "https://api.github.com/users/RUFFY-369/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RUFFY-369/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RUFFY-369/subscriptions",
            "organizations_url": "https://api.github.com/users/RUFFY-369/orgs",
            "repos_url": "https://api.github.com/users/RUFFY-369/repos",
            "events_url": "https://api.github.com/users/RUFFY-369/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RUFFY-369/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-13T14:14:29Z",
          "updated_at": "2024-09-13T15:03:25Z",
          "author_association": "CONTRIBUTOR",
          "body": "> You can still print the config of the default and the used config in full form and let's see what are the difference.\r\n\r\n@ydshieh I think with default config you mean the config which is defined in the test file and model's config is what we will get with `model.config`, right? For example : [this](https://github.com/huggingface/transformers/blob/e7b0e04768fd1d88beece23470fd5e286960d588/tests/models/propainter/test_modeling_propainter.py#L182) and [this](https://github.com/huggingface/transformers/blob/e7b0e04768fd1d88beece23470fd5e286960d588/tests/models/propainter/test_modeling_propainter.py#L198) respectively\r\n\r\n\r\nPS If I understand correct then here they are respectively:\r\n```\r\nProPainterConfig {\r\n  \"adversarial_weight\": 0.01,\r\n  \"channels\": [\r\n    64,\r\n    96,\r\n    128\r\n  ],\r\n  \"corr_levels\": 4,\r\n  \"corr_radius\": 4,\r\n  \"dropout\": 0.0,\r\n  \"flow_weight_flow_complete_net\": 0.25,\r\n  \"gan_loss\": \"hinge\",\r\n  \"hidden_size\": 512,\r\n  \"hole_weight\": 1.0,\r\n  \"in_channels\": [\r\n    64,\r\n    64,\r\n    96\r\n  ],\r\n  \"initializer_range\": 0.02,\r\n  \"interp_mode\": \"nearest\",\r\n  \"kernel_size\": [\r\n    7,\r\n    7\r\n  ],\r\n  \"kernel_size_3d\": [\r\n    1,\r\n    3,\r\n    3\r\n  ],\r\n  \"kernel_size_3d_discriminator\": [\r\n    3,\r\n    5,\r\n    5\r\n  ],\r\n  \"model_type\": \"propainter\",\r\n  \"neighbor_length\": 10,\r\n  \"no_dis\": false,\r\n  \"norm_fn\": [\r\n    \"batch\",\r\n    \"group\",\r\n    \"instance\",\r\n    \"none\"\r\n  ],\r\n  \"num_attention_heads\": 1,\r\n  \"num_channels\": 128,\r\n  \"num_hidden_layers\": 2,\r\n  \"num_local_frames_flow_complete_net\": 8,\r\n  \"num_local_frames_propainter\": 8,\r\n  \"padding\": 1,\r\n  \"padding_inpaint_generator\": [\r\n    3,\r\n    3\r\n  ],\r\n  \"patch_size\": 3,\r\n  \"perceptual_weight\": 0.0,\r\n  \"pool_size\": [\r\n    4,\r\n    4\r\n  ],\r\n  \"raft_iter\": 20,\r\n  \"ref_stride\": 10,\r\n  \"stride\": [\r\n    3,\r\n    3\r\n  ],\r\n  \"stride_3d\": [\r\n    1,\r\n    1,\r\n    1\r\n  ],\r\n  \"strides\": [\r\n    1,\r\n    2,\r\n    2\r\n  ],\r\n  \"subvideo_length\": 80,\r\n  \"transformers_version\": \"4.45.0.dev0\",\r\n  \"valid_weight\": 1.0,\r\n  \"window_size\": [\r\n    5,\r\n    9\r\n  ]\r\n}\r\n```\r\n\r\n```\r\nProPainterConfig {\r\n  \"adversarial_weight\": 0.01,\r\n  \"channels\": [\r\n    64,\r\n    96,\r\n    128\r\n  ],\r\n  \"corr_levels\": 4,\r\n  \"corr_radius\": 4,\r\n  \"dropout\": 0.0,\r\n  \"flow_weight_flow_complete_net\": 0.25,\r\n  \"gan_loss\": \"hinge\",\r\n  \"hidden_size\": 512,\r\n  \"hole_weight\": 1.0,\r\n  \"in_channels\": [\r\n    64,\r\n    64,\r\n    96\r\n  ],\r\n  \"initializer_range\": 0.02,\r\n  \"interp_mode\": \"nearest\",\r\n  \"kernel_size\": [\r\n    7,\r\n    7\r\n  ],\r\n  \"kernel_size_3d\": [\r\n    1,\r\n    3,\r\n    3\r\n  ],\r\n  \"kernel_size_3d_discriminator\": [\r\n    3,\r\n    5,\r\n    5\r\n  ],\r\n  \"model_type\": \"propainter\",\r\n  \"neighbor_length\": 10,\r\n  \"no_dis\": false,\r\n  \"norm_fn\": [\r\n    \"batch\",\r\n    \"group\",\r\n    \"instance\",\r\n    \"none\"\r\n  ],\r\n  \"num_attention_heads\": 1,\r\n  \"num_channels\": 128,\r\n  \"num_hidden_layers\": 2,\r\n  \"num_local_frames_flow_complete_net\": 8,\r\n  \"num_local_frames_propainter\": 8,\r\n  \"padding\": 1,\r\n  \"padding_inpaint_generator\": [\r\n    3,\r\n    3\r\n  ],\r\n  \"patch_size\": 3,\r\n  \"perceptual_weight\": 0.0,\r\n  \"pool_size\": [\r\n    4,\r\n    4\r\n  ],\r\n  \"raft_iter\": 20,\r\n  \"ref_stride\": 10,\r\n  \"stride\": [\r\n    3,\r\n    3\r\n  ],\r\n  \"stride_3d\": [\r\n    1,\r\n    1,\r\n    1\r\n  ],\r\n  \"strides\": [\r\n    1,\r\n    2,\r\n    2\r\n  ],\r\n  \"subvideo_length\": 80,\r\n  \"transformers_version\": \"4.45.0.dev0\",\r\n  \"valid_weight\": 1.0,\r\n  \"window_size\": [\r\n    5,\r\n    9\r\n  ]\r\n}\r\n```\r\n\r\nand they are identical",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2349065026/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2349278761",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2349278761",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2349278761,
          "node_id": "IC_kwDOCUB6oc6MByYp",
          "user": {
            "login": "RUFFY-369",
            "id": 66624139,
            "node_id": "MDQ6VXNlcjY2NjI0MTM5",
            "avatar_url": "https://avatars.githubusercontent.com/u/66624139?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RUFFY-369",
            "html_url": "https://github.com/RUFFY-369",
            "followers_url": "https://api.github.com/users/RUFFY-369/followers",
            "following_url": "https://api.github.com/users/RUFFY-369/following{/other_user}",
            "gists_url": "https://api.github.com/users/RUFFY-369/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RUFFY-369/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RUFFY-369/subscriptions",
            "organizations_url": "https://api.github.com/users/RUFFY-369/orgs",
            "repos_url": "https://api.github.com/users/RUFFY-369/repos",
            "events_url": "https://api.github.com/users/RUFFY-369/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RUFFY-369/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-13T15:56:38Z",
          "updated_at": "2024-09-15T07:36:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "I did CPU profiling with `torch.profiler.profile` context manger while calculating the outputs in this [line](https://github.com/huggingface/transformers/blob/61de9599325b73cd31aff9d3a2669a7c1f227ea8/tests/models/propainter/test_modeling_propainter.py#L295) and this was the result of it:\r\n```\r\n-----------------------------------------------------  ------------  ------------  ------------  ------------  ------------  ------------  \r\n                                         aten::uniform_        46.82%        1.077s        46.82%        1.077s      29.121ms            37  \r\n                                       cudaLaunchKernel        23.84%     548.694ms        23.84%     548.694ms      44.264us         12396  \r\n                                      aten::convolution         0.18%       4.196ms        16.86%     387.925ms     352.019us          1102  \r\n                                     aten::_convolution         0.44%      10.180ms        16.68%     383.729ms     348.212us          1102  \r\n                                           aten::conv2d         0.11%       2.452ms        16.13%     371.109ms     350.765us          1058  \r\n                                aten::cudnn_convolution         8.29%     190.862ms        15.27%     351.484ms     318.951us          1102  \r\n                                            aten::copy_         4.51%     103.848ms         6.37%     146.647ms     152.758us           960  \r\n                                              aten::pow         0.12%       2.851ms         3.05%      70.158ms     449.729us           156  \r\n                                          aten::nonzero         0.02%     467.298us         2.31%      53.172ms       6.646ms             8  \r\n                                  cudaFuncGetAttributes         2.19%      50.410ms         2.19%      50.410ms       3.151ms            16  \r\n                                               aten::to         0.03%     776.032us         2.18%      50.269ms      74.142us           678  \r\n                                         aten::_to_copy         0.09%       2.185ms         2.15%      49.493ms     115.908us           427  \r\ncudaOccupancyMaxActiveBlocksPerMultiprocessorWithFla...         1.57%      36.145ms         1.57%      36.145ms     488.446us            74  \r\n                                  cudaStreamSynchronize         1.51%      34.656ms         1.51%      34.656ms     150.025us           231  \r\n                                              aten::cat         0.88%      20.281ms         1.39%      31.962ms      28.873us          1107  \r\n                                        aten::remainder         0.00%     113.288us         1.29%      29.800ms       7.450ms             4  \r\n                               aten::linalg_vector_norm         0.09%       2.159ms         1.24%      28.519ms     250.165us           114  \r\n                                          aten::softmax         0.01%     153.429us         1.24%      28.500ms     593.750us            48  \r\n                                         aten::_softmax         0.03%     732.581us         1.23%      28.347ms     590.554us            48  \r\n                                              aten::sub         0.41%       9.529ms         1.15%      26.554ms      34.219us           776  \r\n                                              aten::mul         0.66%      15.154ms         1.14%      26.187ms      22.712us          1153  \r\n                             torchvision::deform_conv2d         0.21%       4.721ms         1.02%      23.512ms     489.830us            48  \r\n                                     aten::grid_sampler         0.05%       1.086ms         1.02%      23.425ms      92.226us           254  \r\n                                              aten::div         0.42%       9.729ms         1.01%      23.292ms      31.390us           742  \r\n                                       aten::batch_norm         0.01%     203.242us         0.90%      20.699ms     344.990us            60  \r\n                           aten::_batch_norm_impl_index         0.01%     277.477us         0.89%      20.496ms     341.602us            60  \r\n                                           aten::conv3d         0.01%     189.311us         0.85%      19.635ms     446.239us            44  \r\n                                             aten::add_         0.54%      12.523ms         0.80%      18.451ms      17.116us          1078  \r\n                                             aten::flip         0.02%     406.855us         0.77%      17.812ms     614.206us            29  \r\n                                               aten::eq         0.01%     260.818us         0.77%      17.728ms       1.477ms            12  \r\n                                              aten::neg         0.01%     139.777us         0.67%      15.494ms       1.937ms             8  \r\n                                              aten::add         0.45%      10.315ms         0.63%      14.571ms      19.454us           749  \r\n          cudaOccupancyMaxActiveBlocksPerMultiprocessor         0.61%      14.033ms         0.61%      14.033ms      57.512us           244  \r\n                                            aten::relu_         0.04%     822.113us         0.60%      13.698ms      87.805us           156  \r\n                                           aten::arange         0.09%       1.987ms         0.58%      13.420ms      32.893us           408  \r\n                                    aten::instance_norm         0.01%     151.675us         0.57%      13.158ms     438.599us            30  \r\n                                       aten::clamp_min_         0.06%       1.343ms         0.56%      12.875ms      82.535us           156  \r\n                                          aten::reshape         0.13%       3.072ms         0.55%      12.681ms       8.387us          1512  \r\n                                aten::native_batch_norm         0.04%     929.592us         0.54%      12.315ms     410.515us            30  \r\n                               aten::cudnn_grid_sampler         0.29%       6.769ms         0.53%      12.197ms      50.821us           240  \r\n                                            aten::stack         0.09%       1.973ms         0.51%      11.804ms      32.340us           365  \r\n                                              aten::any         0.01%     169.477us         0.51%      11.746ms       1.958ms             6  \r\n                                            aten::round         0.00%      51.830us         0.49%      11.327ms       5.664ms             2  \r\n                                            aten::empty         0.48%      11.011ms         0.48%      11.011ms       5.533us          1990  \r\n                                            aten::clone         0.05%       1.213ms         0.46%      10.543ms      32.441us           325  \r\n                                              aten::sum         0.06%       1.441ms         0.45%      10.242ms     160.027us            64  \r\n                                              aten::min         0.00%      92.426us         0.44%      10.239ms       5.119ms             2  \r\n                                  aten::grid_sampler_2d         0.01%     184.281us         0.44%      10.142ms     724.442us            14  \r\n                                        aten::threshold         0.00%      61.058us         0.43%       9.929ms       4.964ms             2  \r\n                                              aten::max         0.00%      73.069us         0.41%       9.524ms       4.762ms             2  \r\n                                           aten::addmm_         0.07%       1.546ms         0.41%       9.408ms     196.010us            48  \r\n                                          aten::sigmoid         0.11%       2.637ms         0.40%       9.183ms      43.730us           210  \r\n                                             aten::mean         0.02%     499.139us         0.39%       9.010ms     391.741us            23  \r\n                                          aten::l1_loss         0.00%      48.459us         0.39%       8.907ms       1.485ms             6  \r\n                                            aten::atan2         0.00%      58.627us         0.38%       8.689ms       4.345ms             2  \r\n                                               aten::lt         0.02%     574.884us         0.33%       7.690ms     192.260us            40  \r\n                                 aten::cudnn_batch_norm         0.14%       3.218ms         0.33%       7.652ms     255.079us            30  \r\n                                      aten::leaky_relu_         0.13%       3.002ms         0.31%       7.177ms      25.542us           281  \r\n                                             aten::relu         0.04%     920.344us         0.30%       6.848ms      33.567us           204  \r\n                                              aten::abs         0.01%     203.165us         0.29%       6.692ms     278.846us            24  \r\n                                             aten::view         0.28%       6.346ms         0.28%       6.346ms       1.873us          3388  \r\n                                        aten::clamp_min         0.21%       4.835ms         0.26%       5.927ms      29.056us           204  \r\n                                       aten::empty_like         0.05%       1.259ms         0.26%       5.913ms       9.988us           592  \r\n                                           aten::im2col         0.07%       1.716ms         0.25%       5.829ms     126.719us            46  \r\n                                             aten::gelu         0.00%     111.354us         0.25%       5.818ms       1.455ms             4  \r\n                                            aten::slice         0.18%       4.206ms         0.24%       5.575ms       2.796us          1994  \r\n                                           aten::gather         0.01%     130.534us         0.24%       5.482ms       1.371ms             4  \r\n                                        cudaMemcpyAsync         0.23%       5.251ms         0.23%       5.251ms      15.675us           335  \r\n                                    aten::empty_strided         0.21%       4.737ms         0.22%       5.019ms       9.159us           548  \r\n                                       aten::as_strided         0.20%       4.667ms         0.20%       4.667ms       0.763us          6115  \r\n                                         aten::meshgrid         0.08%       1.845ms         0.20%       4.634ms      17.963us           258  \r\n                                        cudaEventRecord         0.19%       4.471ms         0.19%       4.471ms       1.716us          2606  \r\n                               aten::upsample_nearest2d         0.01%     123.315us         0.19%       4.438ms       1.110ms             4  \r\n                                              aten::pad         0.00%     113.255us         0.19%       4.429ms     170.363us            26  \r\n                                           aten::select         0.14%       3.197ms         0.18%       4.136ms       2.631us          1572  \r\n                                               cudaFree         0.18%       4.106ms         0.18%       4.106ms     513.260us             8  \r\n                                             aten::tanh         0.08%       1.838ms         0.17%       4.018ms      30.436us           132  \r\n                                            aten::where         0.03%     766.533us         0.17%       3.956ms      47.099us            84  \r\n                                           aten::linear         0.01%     294.243us         0.17%       3.813ms     105.929us            36  \r\n                                             aten::rsub         0.04%     906.408us         0.17%       3.802ms      23.324us           163  \r\n                                       aten::contiguous         0.01%     152.726us         0.17%       3.800ms      32.478us           117  \r\n                                             cudaMalloc         0.16%       3.783ms         0.16%       3.783ms     199.119us            19  \r\n                                            aten::zeros         0.02%     379.029us         0.16%       3.779ms      26.240us           144  \r\n                                            aten::fill_         0.08%       1.895ms         0.15%       3.549ms      10.754us           330  \r\n                                           aten::matmul         0.06%       1.395ms         0.15%       3.422ms     142.576us            24  \r\n                                         aten::linspace         0.08%       1.903ms         0.14%       3.312ms       5.175us           640  \r\n                                          aten::resize_         0.11%       2.634ms         0.14%       3.222ms       5.692us           566  \r\n                                             aten::roll         0.02%     538.465us         0.14%       3.185ms      33.179us            96  \r\n                                            aten::zero_         0.03%     693.011us         0.13%       3.042ms      15.212us           200  \r\n                                           aten::narrow         0.06%       1.453ms         0.13%       2.973ms       4.504us           660  \r\n                                          aten::type_as         0.01%     150.860us         0.13%       2.937ms      31.242us            94  \r\n                                           aten::repeat         0.03%     640.731us         0.11%       2.458ms      53.427us            46  \r\n                                            aten::index         0.05%       1.151ms         0.10%       2.210ms      42.503us            52  \r\n                                           aten::expand         0.07%       1.670ms         0.10%       2.195ms       3.346us           656  \r\n                                            aten::addmm         0.06%       1.447ms         0.09%       2.126ms      70.873us            30  \r\n                 aten::binary_cross_entropy_with_logits         0.00%      62.545us         0.08%       1.851ms     462.803us             4  \r\n                              aten::upsample_bilinear2d         0.01%     333.709us         0.08%       1.841ms     131.469us            14  \r\n                                aten::replication_pad3d         0.00%      71.759us         0.08%       1.832ms     915.865us             2  \r\n                                          aten::permute         0.05%       1.233ms         0.07%       1.670ms       5.353us           312  \r\n                                       aten::avg_pool2d         0.01%     130.910us         0.07%       1.666ms     277.674us             6 \r\n```\r\nmade some changes and pushed it above as those changes reduced the CPU usage to a level but still the worker crashes :disappointed_relieved:   \r\n\r\nThe above cpu profile was after the latest try at fixing it. Before that the main consumption component, i.e., ` aten::uniform_` had the following share:\r\n```\r\nName    Self CPU %      Self CPU   CPU total %     CPU total  CPU time avg       CPU Mem  Self CPU Mem    # of Calls  \r\n-------------------------------------------------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  \r\n                                         aten::uniform_        53.62%        2.068s        53.62%        2.068s      55.886ms           0 b           0 b            37  \r\n```\r\n\r\nFor benchmarking purposes I checked the same with other models per say I took `ViLT` and it just had `11.64%` max of CPU usage at a time unlike the above.\r\ncc @amyeroberts @ydshieh ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2349278761/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2353123266",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2353123266",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2353123266,
          "node_id": "IC_kwDOCUB6oc6MQc_C",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-16T14:41:34Z",
          "updated_at": "2024-09-16T14:41:34Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @RUFFY-369  Thank you for trying \u2764\ufe0f (and running with `torch.profiler.profile` too!)\r\n\r\n>  with default config you mean the config which is defined in the test file and model's config is what we will get with model.config, right?\r\n\r\nNo. What I suggest to compare is:\r\n\r\n- load the model from the Hub repository checkpoint (so the real model), and print its config `real_model.config`\r\n- the model created during a test, and print its config: `tested_model.confg`\r\n\r\nI can take a closer look if you can provide the above one.\r\n\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2353123266/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2356709030",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2356709030",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2356709030,
          "node_id": "IC_kwDOCUB6oc6MeIam",
          "user": {
            "login": "RUFFY-369",
            "id": 66624139,
            "node_id": "MDQ6VXNlcjY2NjI0MTM5",
            "avatar_url": "https://avatars.githubusercontent.com/u/66624139?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RUFFY-369",
            "html_url": "https://github.com/RUFFY-369",
            "followers_url": "https://api.github.com/users/RUFFY-369/followers",
            "following_url": "https://api.github.com/users/RUFFY-369/following{/other_user}",
            "gists_url": "https://api.github.com/users/RUFFY-369/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RUFFY-369/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RUFFY-369/subscriptions",
            "organizations_url": "https://api.github.com/users/RUFFY-369/orgs",
            "repos_url": "https://api.github.com/users/RUFFY-369/repos",
            "events_url": "https://api.github.com/users/RUFFY-369/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RUFFY-369/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-17T19:17:26Z",
          "updated_at": "2024-09-17T19:17:56Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Hi @RUFFY-369 Thank you for trying \u2764\ufe0f (and running with `torch.profiler.profile` too!)\r\n> \r\n> > with default config you mean the config which is defined in the test file and model's config is what we will get with model.config, right?\r\n> \r\n> No. What I suggest to compare is:\r\n> \r\n> * load the model from the Hub repository checkpoint (so the real model), and print its config `real_model.config`\r\n> * the model created during a test, and print its config: `tested_model.confg`\r\n> \r\n> I can take a closer look if you can provide the above one.\r\n\r\nHi @ydshieh , Thank you for your reply, help and the solution you proposed\u2764\ufe0f. We got it done, cheers for that first of all :smiling_face_with_tear: :smile: . Secondly, it was indeed OOM resulting in worker crash initially. I got it sorted out when I dived in a little more by pinpointing the memory gobbler with `torch.profiler.profile` and fixing it. This fix will help in general inference with the model as well.\r\n\r\ncc @amyeroberts @NielsRogge ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2356709030/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2356720407",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2356720407",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2356720407,
          "node_id": "IC_kwDOCUB6oc6MeLMX",
          "user": {
            "login": "RUFFY-369",
            "id": 66624139,
            "node_id": "MDQ6VXNlcjY2NjI0MTM5",
            "avatar_url": "https://avatars.githubusercontent.com/u/66624139?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RUFFY-369",
            "html_url": "https://github.com/RUFFY-369",
            "followers_url": "https://api.github.com/users/RUFFY-369/followers",
            "following_url": "https://api.github.com/users/RUFFY-369/following{/other_user}",
            "gists_url": "https://api.github.com/users/RUFFY-369/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RUFFY-369/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RUFFY-369/subscriptions",
            "organizations_url": "https://api.github.com/users/RUFFY-369/orgs",
            "repos_url": "https://api.github.com/users/RUFFY-369/repos",
            "events_url": "https://api.github.com/users/RUFFY-369/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RUFFY-369/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-17T19:24:00Z",
          "updated_at": "2024-09-18T05:15:59Z",
          "author_association": "CONTRIBUTOR",
          "body": "> @RUFFY-369 I can see that there's still commits being pushed. Could you address the failing tests first, and then ping when ready for review? Let us know if there's any areas of the PR you have specific questions about or need any help with resolving the tests\r\n\r\n@amyeroberts All the tests are GREEN :green_circle: and the PR is ready for review :+1: ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2356720407/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2359028056",
          "html_url": "https://github.com/huggingface/transformers/pull/33217#issuecomment-2359028056",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/33217",
          "id": 2359028056,
          "node_id": "IC_kwDOCUB6oc6Mm-lY",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-18T17:23:56Z",
          "updated_at": "2024-09-18T17:23:56Z",
          "author_association": "COLLABORATOR",
          "body": "Glad it works!\r\n\r\nCould you share what change fixed it?\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2359028056/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/34583/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/34583/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/34583/events",
      "html_url": "https://github.com/huggingface/transformers/pull/34583",
      "id": 2631004429,
      "node_id": "PR_kwDOCUB6oc6At7Il",
      "number": 34583,
      "title": "Add support for Apple's Depth-Pro",
      "user": {
        "login": "geetu040",
        "id": 90601662,
        "node_id": "MDQ6VXNlcjkwNjAxNjYy",
        "avatar_url": "https://avatars.githubusercontent.com/u/90601662?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/geetu040",
        "html_url": "https://github.com/geetu040",
        "followers_url": "https://api.github.com/users/geetu040/followers",
        "following_url": "https://api.github.com/users/geetu040/following{/other_user}",
        "gists_url": "https://api.github.com/users/geetu040/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/geetu040/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/geetu040/subscriptions",
        "organizations_url": "https://api.github.com/users/geetu040/orgs",
        "repos_url": "https://api.github.com/users/geetu040/repos",
        "events_url": "https://api.github.com/users/geetu040/events{/privacy}",
        "received_events_url": "https://api.github.com/users/geetu040/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1843244711,
          "node_id": "MDU6TGFiZWwxODQzMjQ0NzEx",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/New%20model",
          "name": "New model",
          "color": "fbca04",
          "default": false,
          "description": ""
        },
        {
          "id": 5769473378,
          "node_id": "LA_kwDOCUB6oc8AAAABV-MtYg",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/Vision",
          "name": "Vision",
          "color": "C079EF",
          "default": false,
          "description": ""
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 94,
      "created_at": "2024-11-03T06:20:30Z",
      "updated_at": "2025-02-19T12:18:02Z",
      "closed_at": "2025-02-10T11:32:46Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/34583",
        "html_url": "https://github.com/huggingface/transformers/pull/34583",
        "diff_url": "https://github.com/huggingface/transformers/pull/34583.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/34583.patch",
        "merged_at": "2025-02-10T11:32:46Z"
      },
      "body": "# What does this PR do?\r\n\r\nFixes #34020 \r\n\r\nThis PR adds Apple's Depth Pro model to Hugging Face Transformers. Depth Pro is a foundation model for zero-shot metric monocular depth estimation. It leverages a multi-scale vision transformer optimized for dense predictions. It downsamples an image at several scales. At each scale, it is split into patches, which are processed by a ViT-based (Dinov2) patch encoder, with weights shared across scales. Patches are merged into feature maps, upsampled, and fused via a DPT decoder.\r\n\r\nRelevant Links\r\n- Research Paper: [Depth Pro: Sharp Monocular Metric Depth in Less Than a Second](https://arxiv.org/pdf/2410.02073)\r\n- Authors: [Aleksei Bochkovskii](https://arxiv.org/search/cs?searchtype=author&query=Bochkovskii,+A), [Ama\u00ebl Delaunoy](https://arxiv.org/search/cs?searchtype=author&query=Delaunoy,+A), and others\r\n- Implementation: [apple/ml-depth-pro](https://github.com/apple/ml-depth-pro)\r\n- Models Weights: [apple/DepthPro](https://huggingface.co/apple/DepthPro)\r\n\r\n\r\n## Before submitting\r\n- [x] Did you read the [contributor guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#create-a-pull-request),\r\n      Pull Request section?\r\n- [x] Was this discussed/approved via a Github issue or the [forum](https://discuss.huggingface.co/)? Please add a link\r\n      to it if that's the case.\r\n- [x] Did you make sure to update the documentation with your changes? Here are the\r\n      [documentation guidelines](https://github.com/huggingface/transformers/tree/main/docs), and\r\n      [here are tips on formatting docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).\r\n- [x] Did you write any new necessary tests?\r\n\r\n\r\n## Who can review?\r\n\r\n@amyeroberts, @qubvel\r\n",
      "closed_by": {
        "login": "qubvel",
        "id": 31920396,
        "node_id": "MDQ6VXNlcjMxOTIwMzk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/qubvel",
        "html_url": "https://github.com/qubvel",
        "followers_url": "https://api.github.com/users/qubvel/followers",
        "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
        "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
        "organizations_url": "https://api.github.com/users/qubvel/orgs",
        "repos_url": "https://api.github.com/users/qubvel/repos",
        "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
        "received_events_url": "https://api.github.com/users/qubvel/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/34583/reactions",
        "total_count": 3,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 3,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/34583/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2453320525",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2453320525",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2453320525,
          "node_id": "IC_kwDOCUB6oc6SOrNN",
          "user": {
            "login": "geetu040",
            "id": 90601662,
            "node_id": "MDQ6VXNlcjkwNjAxNjYy",
            "avatar_url": "https://avatars.githubusercontent.com/u/90601662?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/geetu040",
            "html_url": "https://github.com/geetu040",
            "followers_url": "https://api.github.com/users/geetu040/followers",
            "following_url": "https://api.github.com/users/geetu040/following{/other_user}",
            "gists_url": "https://api.github.com/users/geetu040/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/geetu040/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/geetu040/subscriptions",
            "organizations_url": "https://api.github.com/users/geetu040/orgs",
            "repos_url": "https://api.github.com/users/geetu040/repos",
            "events_url": "https://api.github.com/users/geetu040/events{/privacy}",
            "received_events_url": "https://api.github.com/users/geetu040/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-03T06:59:29Z",
          "updated_at": "2024-11-03T06:59:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "I have implemented the foundational components of the model and manually loaded the weights to ensure that the architecture aligns with the original design and produces consistent output.\r\n\r\nBelow is a concise overview of the class hierarchy. I would greatly appreciate your feedback or any suggestions for improvements:\r\n\r\n```\r\nDepthProForDepthEstimation\r\n\u251c\u2500\u2500 depth_pro: DepthProModel\r\n\u2502   \u251c\u2500\u2500 encoder: DepthProEncoder\r\n\u2502   \u2502   \u251c\u2500\u2500 patch_encoder: DepthProViT\r\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 embeddings: DepthProViTEmbeddings\r\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 encoder: DepthProViTEncoder\r\n\u2502   \u2502   \u251c\u2500\u2500 image_encoder: DepthProViT\r\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 embeddings: DepthProViTEmbeddings\r\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 encoder: DepthProViTEncoder\r\n\u2502   \u251c\u2500\u2500 decoder: DepthProDecoder\r\n\u2502   \u2514\u2500\u2500 fov_model: DepthProFOVModel\r\n\u2502       \u251c\u2500\u2500 encoder: DepthProViT\r\n\u2502       \u2502   \u251c\u2500\u2500 embeddings: DepthProViTEmbeddings\r\n\u2502       \u2502   \u2514\u2500\u2500 encoder: DepthProViTEncoder\r\n\u2514\u2500\u2500 head: DepthProDepthEstimationHead\r\n```\r\n\r\nI have a couple of questions:\r\n\r\n1. The `encoder: DepthProEncoder` outputs features processed at various scales, including hidden states from the intermediate layers of `ViTEncoder`. Currently, I use `BaseModelOutput`, returning all features in the `last_hidden_state` argument. Should I create a dedicated `ModelOutput` class for `DepthProEncoder`? If so, it should reside in the same file as the DepthPro classes since it is specific to them.\r\n\r\n2. For handling the `FOV (Field of View)` output, would it be appropriate to create a class named `DepthEstimatorOutputWithFOV` in `transformers.modeling_outputs`, or should it also remain within the DepthPro context?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2453320525/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2454747533",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2454747533",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2454747533,
          "node_id": "IC_kwDOCUB6oc6SUHmN",
          "user": {
            "login": "Rocketknight1",
            "id": 12866554,
            "node_id": "MDQ6VXNlcjEyODY2NTU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/12866554?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Rocketknight1",
            "html_url": "https://github.com/Rocketknight1",
            "followers_url": "https://api.github.com/users/Rocketknight1/followers",
            "following_url": "https://api.github.com/users/Rocketknight1/following{/other_user}",
            "gists_url": "https://api.github.com/users/Rocketknight1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Rocketknight1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Rocketknight1/subscriptions",
            "organizations_url": "https://api.github.com/users/Rocketknight1/orgs",
            "repos_url": "https://api.github.com/users/Rocketknight1/repos",
            "events_url": "https://api.github.com/users/Rocketknight1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Rocketknight1/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-04T13:40:59Z",
          "updated_at": "2024-11-04T13:40:59Z",
          "author_association": "MEMBER",
          "body": "cc @pcuenca as well!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2454747533/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2456804501",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2456804501",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2456804501,
          "node_id": "IC_kwDOCUB6oc6Sb9yV",
          "user": {
            "login": "qubvel",
            "id": 31920396,
            "node_id": "MDQ6VXNlcjMxOTIwMzk2",
            "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qubvel",
            "html_url": "https://github.com/qubvel",
            "followers_url": "https://api.github.com/users/qubvel/followers",
            "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
            "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
            "organizations_url": "https://api.github.com/users/qubvel/orgs",
            "repos_url": "https://api.github.com/users/qubvel/repos",
            "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qubvel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-05T10:30:42Z",
          "updated_at": "2024-11-05T10:30:42Z",
          "author_association": "MEMBER",
          "body": "Hi @geetu040! Thanks for working on this model!\r\n\r\nRegarding model outputs they should be written if you want to add a new argument or write better docs. In case of intermediate outputs you can store them in `BaseModelOutput.hidden_states`, for example [mllama](https://github.com/huggingface/transformers/blob/5e1fd4e204d81f2f66f8c164433e62ea5f4d0467/src/transformers/models/mllama/modeling_mllama.py#L1454-L1459) set default `output_hidden_states=True` and then select required hidden states from vision transformer.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2456804501/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2466607626",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2466607626",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2466607626,
          "node_id": "IC_kwDOCUB6oc6TBXIK",
          "user": {
            "login": "geetu040",
            "id": 90601662,
            "node_id": "MDQ6VXNlcjkwNjAxNjYy",
            "avatar_url": "https://avatars.githubusercontent.com/u/90601662?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/geetu040",
            "html_url": "https://github.com/geetu040",
            "followers_url": "https://api.github.com/users/geetu040/followers",
            "following_url": "https://api.github.com/users/geetu040/following{/other_user}",
            "gists_url": "https://api.github.com/users/geetu040/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/geetu040/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/geetu040/subscriptions",
            "organizations_url": "https://api.github.com/users/geetu040/orgs",
            "repos_url": "https://api.github.com/users/geetu040/repos",
            "events_url": "https://api.github.com/users/geetu040/events{/privacy}",
            "received_events_url": "https://api.github.com/users/geetu040/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-10T06:27:52Z",
          "updated_at": "2024-11-10T06:27:52Z",
          "author_association": "CONTRIBUTOR",
          "body": "@qubvel @pcuenca  Thanks, I have updated the code for hidden_states.\r\n\r\nI still need an opinion with `fov` (field of view)\r\nDepthPro returns the `predicted_depth` as well as the `fov` which is a scaler value.\r\n\r\nThe existing `DepthEstimatorOutput` class in [transformers/src/transformers/modeling_outputs.py](https://github.com/huggingface/transformers/blob/5e1fd4e204d81f2f66f8c164433e62ea5f4d0467/src/transformers/modeling_outputs.py#L1319) looks like this:\r\n```py\r\nclass DepthEstimatorOutput(ModelOutput):\r\n    loss: Optional[torch.FloatTensor] = None\r\n    predicted_depth: torch.FloatTensor = None\r\n    hidden_states: Optional[Tuple[torch.FloatTensor, ...]] = None\r\n    attentions: Optional[Tuple[torch.FloatTensor, ...]] = None\r\n```\r\n\r\nQ1: Do I create a new class `DepthEstimatorOutputWithFOV` or update the existing class?\r\nQ2: User should be given the option to turn the `FOV` on or off because calculating `FOV` requires extra processing. In this case should this parameter be a part of model initialization `DepthProForDepthEstimation(config, return_fov=True)` or should it be kept inside config.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2466607626/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2468250863",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2468250863",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2468250863,
          "node_id": "IC_kwDOCUB6oc6THoTv",
          "user": {
            "login": "qubvel",
            "id": 31920396,
            "node_id": "MDQ6VXNlcjMxOTIwMzk2",
            "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qubvel",
            "html_url": "https://github.com/qubvel",
            "followers_url": "https://api.github.com/users/qubvel/followers",
            "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
            "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
            "organizations_url": "https://api.github.com/users/qubvel/orgs",
            "repos_url": "https://api.github.com/users/qubvel/repos",
            "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qubvel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-11T14:01:13Z",
          "updated_at": "2024-11-11T14:01:13Z",
          "author_association": "MEMBER",
          "body": "Thanks @geetu040 \r\n\r\nQ1:\r\n\r\n```python\r\nclass DepthProDepthEstimatorOutput(DepthEstimatorOutput):\r\n    fov: Optional[torch.FloatTensor] = None\r\n```\r\n\r\nThis output can be returned in both cases: `fov=None` and not `None`.\r\n\r\nQ2:\r\n\r\nYeah, this can be a parameter of the config, but also should be an argument in `forward` method to override the config parameter (similar to `output_hidden_states`)\r\n\r\nPlease, let me know if you have more questions!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2468250863/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2469604471",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2469604471",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2469604471,
          "node_id": "IC_kwDOCUB6oc6TMyx3",
          "user": {
            "login": "geetu040",
            "id": 90601662,
            "node_id": "MDQ6VXNlcjkwNjAxNjYy",
            "avatar_url": "https://avatars.githubusercontent.com/u/90601662?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/geetu040",
            "html_url": "https://github.com/geetu040",
            "followers_url": "https://api.github.com/users/geetu040/followers",
            "following_url": "https://api.github.com/users/geetu040/following{/other_user}",
            "gists_url": "https://api.github.com/users/geetu040/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/geetu040/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/geetu040/subscriptions",
            "organizations_url": "https://api.github.com/users/geetu040/orgs",
            "repos_url": "https://api.github.com/users/geetu040/repos",
            "events_url": "https://api.github.com/users/geetu040/events{/privacy}",
            "received_events_url": "https://api.github.com/users/geetu040/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-12T04:52:18Z",
          "updated_at": "2024-11-12T04:52:18Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Yeah, this can be a parameter of the config, but also should be an argument in `forward` method to override the config parameter (similar to `output_hidden_states`)\r\n\r\nThis needs to be done during `__init__`,  because it requires `fov_model` (another vision transformer) to be initialized.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2469604471/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2480117993",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2480117993",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2480117993,
          "node_id": "IC_kwDOCUB6oc6T05jp",
          "user": {
            "login": "qubvel",
            "id": 31920396,
            "node_id": "MDQ6VXNlcjMxOTIwMzk2",
            "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qubvel",
            "html_url": "https://github.com/qubvel",
            "followers_url": "https://api.github.com/users/qubvel/followers",
            "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
            "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
            "organizations_url": "https://api.github.com/users/qubvel/orgs",
            "repos_url": "https://api.github.com/users/qubvel/repos",
            "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qubvel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-15T23:21:09Z",
          "updated_at": "2024-11-15T23:21:09Z",
          "author_association": "MEMBER",
          "body": "OK, got it! Then it should be done with config! And anyone can just load a model as following:\r\n\r\n```python\r\nmodel = DepthProForDepthEstimation(checkpoint, fov_model=True)\r\n# or\r\nmodel = DepthProForDepthEstimation(checkpoint, fov_model=False)\r\n```\r\n\r\nWith such initialization `fov_model` param will be overridden in config",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2480117993/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2481996352",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2481996352",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2481996352,
          "node_id": "IC_kwDOCUB6oc6T8EJA",
          "user": {
            "login": "geetu040",
            "id": 90601662,
            "node_id": "MDQ6VXNlcjkwNjAxNjYy",
            "avatar_url": "https://avatars.githubusercontent.com/u/90601662?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/geetu040",
            "html_url": "https://github.com/geetu040",
            "followers_url": "https://api.github.com/users/geetu040/followers",
            "following_url": "https://api.github.com/users/geetu040/following{/other_user}",
            "gists_url": "https://api.github.com/users/geetu040/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/geetu040/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/geetu040/subscriptions",
            "organizations_url": "https://api.github.com/users/geetu040/orgs",
            "repos_url": "https://api.github.com/users/geetu040/repos",
            "events_url": "https://api.github.com/users/geetu040/events{/privacy}",
            "received_events_url": "https://api.github.com/users/geetu040/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-18T05:35:55Z",
          "updated_at": "2024-11-18T05:35:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "- currently an image is down-scaled to medium resolution (high / 2) and low resolution (high / 4)\r\n- then patches are created from high, medium and low and concatenated.\r\n\r\nI was wondering can we also give this option to the users to decide which scales to use, for example, a user tells in config to use these custom scales `image_scales=[0.6, 0.4, 0.3]`\r\n- now an image will downscale to these 3 scales\r\n- then patches are created from high and scaled images and concatenated.\r\n\r\n@qubvel  I have looked into the code how this can be implemented, it is do-able and I can easily make this option available and I would prefer that, but I have to ask you as well, do you think this option should be given to the users?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2481996352/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2482620617",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2482620617",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2482620617,
          "node_id": "IC_kwDOCUB6oc6T-cjJ",
          "user": {
            "login": "qubvel",
            "id": 31920396,
            "node_id": "MDQ6VXNlcjMxOTIwMzk2",
            "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qubvel",
            "html_url": "https://github.com/qubvel",
            "followers_url": "https://api.github.com/users/qubvel/followers",
            "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
            "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
            "organizations_url": "https://api.github.com/users/qubvel/orgs",
            "repos_url": "https://api.github.com/users/qubvel/repos",
            "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qubvel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-18T10:29:08Z",
          "updated_at": "2024-11-18T10:29:08Z",
          "author_association": "MEMBER",
          "body": "Hi @geetu040, we try to avoid overcomplicated code with lots of parameters, the general rule is to get rid of different code paths / unused params that are not different across pretrained checkpoints. For this particular case, feel free to add it, but only in case it will not introduce extra complexity to the modeling code.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2482620617/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2497099400",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2497099400",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2497099400,
          "node_id": "IC_kwDOCUB6oc6U1raI",
          "user": {
            "login": "geetu040",
            "id": 90601662,
            "node_id": "MDQ6VXNlcjkwNjAxNjYy",
            "avatar_url": "https://avatars.githubusercontent.com/u/90601662?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/geetu040",
            "html_url": "https://github.com/geetu040",
            "followers_url": "https://api.github.com/users/geetu040/followers",
            "following_url": "https://api.github.com/users/geetu040/following{/other_user}",
            "gists_url": "https://api.github.com/users/geetu040/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/geetu040/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/geetu040/subscriptions",
            "organizations_url": "https://api.github.com/users/geetu040/orgs",
            "repos_url": "https://api.github.com/users/geetu040/repos",
            "events_url": "https://api.github.com/users/geetu040/events{/privacy}",
            "received_events_url": "https://api.github.com/users/geetu040/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-25T07:36:09Z",
          "updated_at": "2024-11-25T11:37:45Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @qubvel  I have a question about the image processor.\r\n\r\nthe source code from `apple/depth-pro` preprocesses the image in this sequence `normalize -> resize`, however in conventional image processor for `vit and dpt`, the sequence is `resize -> normalize`\r\n\r\nthis causes the two outputs to be slightly different from each other.\r\n\r\ndo you suggest I stay with the convention and ignore the minor difference in output or I make the implementation exactly like the source code, I am not very sure how to do this because the original `resize` function gives an error if it is simply moved above normalization code and if I use `torch.nn.funtional.interpolate` that is also not very optimal, it requires data conversions.\r\n\r\nHere are the outputs\r\n<details>\r\n\r\n**Different in Outputs**\r\n\r\nthere is a slight difference, this happens because of how the image is pre-processed before being given to the model\r\n\r\nSource code results\r\n```\r\nic| depth: tensor([[0.9604, 0.9329, 0.8837,  ..., 3.0123, 2.9720, 2.9517],\r\n                   [0.9210, 0.8995, 0.8605,  ..., 3.0148, 3.0120, 3.0106],\r\n                   [0.8811, 0.8655, 0.8366,  ..., 3.0245, 3.0473, 3.0592],\r\n                   ...,\r\n                   [1.2283, 1.2263, 1.2225,  ..., 1.2698, 1.2818, 1.2881],\r\n                   [1.2228, 1.2241, 1.2266,  ..., 1.2679, 1.2806, 1.2872],\r\n                   [1.2167, 1.2223, 1.2333,  ..., 1.2655, 1.2757, 1.2810]])\r\nic| depth.shape: torch.Size([2268, 3024])\r\nic| focallength_px: tensor(3362.0200)\r\n```\r\n\r\nHF code results\r\n```\r\nic| predicted_depth: [tensor([[0.9727, 0.9443, 0.8937,  ..., 3.0023, 2.9608, 2.9399],\r\n                             [0.9320, 0.9097, 0.8693,  ..., 3.0045, 3.0006, 2.9987],\r\n                             [0.8899, 0.8737, 0.8439,  ..., 3.0129, 3.0352, 3.0469],\r\n                             ...,\r\n                             [1.2393, 1.2373, 1.2334,  ..., 1.2805, 1.2934, 1.3001],\r\n                             [1.2344, 1.2356, 1.2379,  ..., 1.2802, 1.2935, 1.3004],\r\n                             [1.2286, 1.2341, 1.2447,  ..., 1.2788, 1.2892, 1.2947]])]\r\nic| fov: [tensor(3383.9839)]\r\n```\r\n\r\n---\r\n\r\n**Difference in Output Image**\r\n\r\nvisually no difference in the 2 images\r\n\r\nInput Image\r\n![example](https://github.com/user-attachments/assets/a3892bfa-511e-4c71-8fe5-79ec3fed812b)\r\n\r\nSource code results\r\n![Figure_1](https://github.com/user-attachments/assets/48936816-0d69-49cc-a10a-ab59d9a3180e)\r\n\r\nHF code results\r\n![Figure_2](https://github.com/user-attachments/assets/1c3e14e0-2702-41aa-90df-5bb6cef3cdef)\r\n\r\n</details>",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2497099400/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2497138667",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2497138667",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2497138667,
          "node_id": "IC_kwDOCUB6oc6U10_r",
          "user": {
            "login": "geetu040",
            "id": 90601662,
            "node_id": "MDQ6VXNlcjkwNjAxNjYy",
            "avatar_url": "https://avatars.githubusercontent.com/u/90601662?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/geetu040",
            "html_url": "https://github.com/geetu040",
            "followers_url": "https://api.github.com/users/geetu040/followers",
            "following_url": "https://api.github.com/users/geetu040/following{/other_user}",
            "gists_url": "https://api.github.com/users/geetu040/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/geetu040/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/geetu040/subscriptions",
            "organizations_url": "https://api.github.com/users/geetu040/orgs",
            "repos_url": "https://api.github.com/users/geetu040/repos",
            "events_url": "https://api.github.com/users/geetu040/events{/privacy}",
            "received_events_url": "https://api.github.com/users/geetu040/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-25T07:54:39Z",
          "updated_at": "2024-11-25T07:54:39Z",
          "author_association": "CONTRIBUTOR",
          "body": "Also how does the weight conversion work?\r\n\r\nI have created the script for weight conversion, but when and who uploads that on huggingface? because I would need these converted weights for examples in docstring.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2497138667/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2497876480",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2497876480",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2497876480,
          "node_id": "IC_kwDOCUB6oc6U4pIA",
          "user": {
            "login": "qubvel",
            "id": 31920396,
            "node_id": "MDQ6VXNlcjMxOTIwMzk2",
            "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qubvel",
            "html_url": "https://github.com/qubvel",
            "followers_url": "https://api.github.com/users/qubvel/followers",
            "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
            "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
            "organizations_url": "https://api.github.com/users/qubvel/orgs",
            "repos_url": "https://api.github.com/users/qubvel/repos",
            "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qubvel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-25T12:24:16Z",
          "updated_at": "2024-11-25T12:25:21Z",
          "author_association": "MEMBER",
          "body": "Hi @geetu040! Thanks for the questions with examples!\r\n\r\n> do you suggest I stay with the convention and ignore the minor difference in output or I make the implementation exactly like the source code,\r\n\r\nWe usually reproduce input preprocessing as closely as possible. So its better to copy the code and add required modifications.\r\n\r\n> I am not very sure how to do this because the original resize function gives an error if it is simply moved above normalization code and if I use torch.nn.funtional.interpolate that is also not very optimal, it requires data conversions.\r\n\r\nThats interesting, we might need to fix it in a separate PR. Resize should work with and without normalization. Can you create a separate issue, please?\r\n\r\n> Also how does the weight conversion work?\r\nI have created the script for weight conversion, but when and who uploads that on huggingface? because I would need these converted weights for examples in docstring.\r\n\r\nFirst, you create all checkpoints in your personal HF hub account and list them here. Also in the code, you refer to your own checkpoints. When PR is going to be at the final stage we will move the checkpoint to Apple's arg account and then you can replace them in the code before merging.\r\nP.S. for conversion script format please refer to `mllama` model script.\r\n\r\n\r\nLet me know if you have any follow-up questions!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2497876480/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2498230756",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2498230756",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2498230756,
          "node_id": "IC_kwDOCUB6oc6U5_nk",
          "user": {
            "login": "geetu040",
            "id": 90601662,
            "node_id": "MDQ6VXNlcjkwNjAxNjYy",
            "avatar_url": "https://avatars.githubusercontent.com/u/90601662?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/geetu040",
            "html_url": "https://github.com/geetu040",
            "followers_url": "https://api.github.com/users/geetu040/followers",
            "following_url": "https://api.github.com/users/geetu040/following{/other_user}",
            "gists_url": "https://api.github.com/users/geetu040/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/geetu040/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/geetu040/subscriptions",
            "organizations_url": "https://api.github.com/users/geetu040/orgs",
            "repos_url": "https://api.github.com/users/geetu040/repos",
            "events_url": "https://api.github.com/users/geetu040/events{/privacy}",
            "received_events_url": "https://api.github.com/users/geetu040/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-25T14:50:02Z",
          "updated_at": "2024-11-25T14:50:41Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Thats interesting, we might need to fix it in a separate PR. Resize should work with and without normalization. Can you create a separate issue, please?\r\n\r\nI have created the issue here: https://github.com/huggingface/transformers/issues/34920\r\n\r\nsince this is a problem with `PIL`, can I use `torch interpolation` here instead? as I will be creating `ImageProcessorFast` as well that already uses `torch` and the original code also uses torch interpolation for resizing.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2498230756/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2498314649",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2498314649",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2498314649,
          "node_id": "IC_kwDOCUB6oc6U6UGZ",
          "user": {
            "login": "qubvel",
            "id": 31920396,
            "node_id": "MDQ6VXNlcjMxOTIwMzk2",
            "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qubvel",
            "html_url": "https://github.com/qubvel",
            "followers_url": "https://api.github.com/users/qubvel/followers",
            "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
            "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
            "organizations_url": "https://api.github.com/users/qubvel/orgs",
            "repos_url": "https://api.github.com/users/qubvel/repos",
            "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qubvel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-25T15:21:59Z",
          "updated_at": "2024-11-25T15:21:59Z",
          "author_association": "MEMBER",
          "body": "Thanks for opening the issue! Feel free to use torch interpolation for now. I will try to figure out the best solution for this problem. Thanks!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2498314649/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2500307585",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2500307585",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2500307585,
          "node_id": "IC_kwDOCUB6oc6VB6qB",
          "user": {
            "login": "geetu040",
            "id": 90601662,
            "node_id": "MDQ6VXNlcjkwNjAxNjYy",
            "avatar_url": "https://avatars.githubusercontent.com/u/90601662?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/geetu040",
            "html_url": "https://github.com/geetu040",
            "followers_url": "https://api.github.com/users/geetu040/followers",
            "following_url": "https://api.github.com/users/geetu040/following{/other_user}",
            "gists_url": "https://api.github.com/users/geetu040/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/geetu040/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/geetu040/subscriptions",
            "organizations_url": "https://api.github.com/users/geetu040/orgs",
            "repos_url": "https://api.github.com/users/geetu040/repos",
            "events_url": "https://api.github.com/users/geetu040/events{/privacy}",
            "received_events_url": "https://api.github.com/users/geetu040/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-26T11:00:36Z",
          "updated_at": "2024-11-26T11:00:36Z",
          "author_association": "CONTRIBUTOR",
          "body": "@qubvel another question regarding weight conversion script\r\n\r\nWhy do you insist on `mllama` script? the scripts from `vit`, `dinov2` and `dpt` look more familiar for `depth-pro`. Is it because the conventions followed in `mllama` are better and new?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2500307585/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2500875816",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2500875816",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2500875816,
          "node_id": "IC_kwDOCUB6oc6VEFYo",
          "user": {
            "login": "qubvel",
            "id": 31920396,
            "node_id": "MDQ6VXNlcjMxOTIwMzk2",
            "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qubvel",
            "html_url": "https://github.com/qubvel",
            "followers_url": "https://api.github.com/users/qubvel/followers",
            "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
            "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
            "organizations_url": "https://api.github.com/users/qubvel/orgs",
            "repos_url": "https://api.github.com/users/qubvel/repos",
            "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qubvel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-26T13:58:41Z",
          "updated_at": "2024-11-26T13:58:41Z",
          "author_association": "MEMBER",
          "body": "@geetu040 yes, please use `mllama`-like format, we are going to use it for all new models",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2500875816/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2503110979",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2503110979",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2503110979,
          "node_id": "IC_kwDOCUB6oc6VMnFD",
          "user": {
            "login": "geetu040",
            "id": 90601662,
            "node_id": "MDQ6VXNlcjkwNjAxNjYy",
            "avatar_url": "https://avatars.githubusercontent.com/u/90601662?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/geetu040",
            "html_url": "https://github.com/geetu040",
            "followers_url": "https://api.github.com/users/geetu040/followers",
            "following_url": "https://api.github.com/users/geetu040/following{/other_user}",
            "gists_url": "https://api.github.com/users/geetu040/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/geetu040/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/geetu040/subscriptions",
            "organizations_url": "https://api.github.com/users/geetu040/orgs",
            "repos_url": "https://api.github.com/users/geetu040/repos",
            "events_url": "https://api.github.com/users/geetu040/events{/privacy}",
            "received_events_url": "https://api.github.com/users/geetu040/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-27T07:29:55Z",
          "updated_at": "2024-11-27T07:29:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "@qubvel should I create `DepthProForSemanticSegmentation` class as well? In the paper they don't discuss segmentation tasks or segmentation datasets and no weights are available for this, but someone might want to try this, but they can use same depth estimation class for segmentation as well, shouldn't it work?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2503110979/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2503528810",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2503528810",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2503528810,
          "node_id": "IC_kwDOCUB6oc6VONFq",
          "user": {
            "login": "qubvel",
            "id": 31920396,
            "node_id": "MDQ6VXNlcjMxOTIwMzk2",
            "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qubvel",
            "html_url": "https://github.com/qubvel",
            "followers_url": "https://api.github.com/users/qubvel/followers",
            "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
            "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
            "organizations_url": "https://api.github.com/users/qubvel/orgs",
            "repos_url": "https://api.github.com/users/qubvel/repos",
            "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qubvel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-27T10:39:50Z",
          "updated_at": "2024-11-27T10:39:50Z",
          "author_association": "MEMBER",
          "body": "Hey @geetu040! Let's have only `ForDepthEstimation` if there are no checkpoints for segmentation.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2503528810/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2518676429",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2518676429",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2518676429,
          "node_id": "IC_kwDOCUB6oc6WH_PN",
          "user": {
            "login": "geetu040",
            "id": 90601662,
            "node_id": "MDQ6VXNlcjkwNjAxNjYy",
            "avatar_url": "https://avatars.githubusercontent.com/u/90601662?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/geetu040",
            "html_url": "https://github.com/geetu040",
            "followers_url": "https://api.github.com/users/geetu040/followers",
            "following_url": "https://api.github.com/users/geetu040/following{/other_user}",
            "gists_url": "https://api.github.com/users/geetu040/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/geetu040/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/geetu040/subscriptions",
            "organizations_url": "https://api.github.com/users/geetu040/orgs",
            "repos_url": "https://api.github.com/users/geetu040/repos",
            "events_url": "https://api.github.com/users/geetu040/events{/privacy}",
            "received_events_url": "https://api.github.com/users/geetu040/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-12-04T22:19:26Z",
          "updated_at": "2024-12-04T22:19:26Z",
          "author_association": "CONTRIBUTOR",
          "body": "https://github.com/huggingface/transformers/blob/1ed1de2fecdb5fe82f67e4fe742417f737370324/tests/test_modeling_common.py#L767-L774\r\n\r\n`cosine_similarity` doesnot work for tensors with just one item\r\n- `tensor1 = [0.4]` and `tensor2 = [0.8]` or let it be any non-zero number, the result is always 0\r\n- `tensor1 = [0.0]` or `tensor2 = [0.0]` and it always results in 1\r\n\r\nI am getting this error on `fov` which is a 1-D tensor of length batch_size\r\n\r\n@qubvel do you suggest, I make some changes in the `test_modeling_common.py`?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2518676429/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2519941309",
          "html_url": "https://github.com/huggingface/transformers/pull/34583#issuecomment-2519941309",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34583",
          "id": 2519941309,
          "node_id": "IC_kwDOCUB6oc6WM0C9",
          "user": {
            "login": "qubvel",
            "id": 31920396,
            "node_id": "MDQ6VXNlcjMxOTIwMzk2",
            "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qubvel",
            "html_url": "https://github.com/qubvel",
            "followers_url": "https://api.github.com/users/qubvel/followers",
            "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
            "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
            "organizations_url": "https://api.github.com/users/qubvel/orgs",
            "repos_url": "https://api.github.com/users/qubvel/repos",
            "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qubvel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-12-05T10:42:48Z",
          "updated_at": "2024-12-05T10:42:48Z",
          "author_association": "MEMBER",
          "body": "Hey @geetu040, I believe it's better to override this method in model-specific tests",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2519941309/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/29921/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/29921/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/29921/events",
      "html_url": "https://github.com/huggingface/transformers/pull/29921",
      "id": 2211970536,
      "node_id": "PR_kwDOCUB6oc5q_NJE",
      "number": 29921,
      "title": "Add DBRX Model",
      "user": {
        "login": "abhi-mosaic",
        "id": 77638579,
        "node_id": "MDQ6VXNlcjc3NjM4NTc5",
        "avatar_url": "https://avatars.githubusercontent.com/u/77638579?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/abhi-mosaic",
        "html_url": "https://github.com/abhi-mosaic",
        "followers_url": "https://api.github.com/users/abhi-mosaic/followers",
        "following_url": "https://api.github.com/users/abhi-mosaic/following{/other_user}",
        "gists_url": "https://api.github.com/users/abhi-mosaic/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/abhi-mosaic/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/abhi-mosaic/subscriptions",
        "organizations_url": "https://api.github.com/users/abhi-mosaic/orgs",
        "repos_url": "https://api.github.com/users/abhi-mosaic/repos",
        "events_url": "https://api.github.com/users/abhi-mosaic/events{/privacy}",
        "received_events_url": "https://api.github.com/users/abhi-mosaic/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1843244711,
          "node_id": "MDU6TGFiZWwxODQzMjQ0NzEx",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/New%20model",
          "name": "New model",
          "color": "fbca04",
          "default": false,
          "description": ""
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 42,
      "created_at": "2024-03-27T21:54:43Z",
      "updated_at": "2024-04-18T15:29:48Z",
      "closed_at": "2024-04-18T13:18:52Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/29921",
        "html_url": "https://github.com/huggingface/transformers/pull/29921",
        "diff_url": "https://github.com/huggingface/transformers/pull/29921.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/29921.patch",
        "merged_at": "2024-04-18T13:18:52Z"
      },
      "body": "# What does this PR do?\r\n\r\nAdd support for `DbrxConfig`, `DbrxModel`, and `DbrxForCausalLM`.\r\n\r\nhttps://huggingface.co/databricks/dbrx-base\r\nhttps://huggingface.co/databricks/dbrx-instruct\r\n\r\n## Before submitting\r\n- [ ] This PR fixes a typo or improves the docs (you can dismiss the other checks if that's the case).\r\n- [ ] Did you read the [contributor guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#create-a-pull-request),\r\n      Pull Request section?\r\n- [ ] Was this discussed/approved via a Github issue or the [forum](https://discuss.huggingface.co/)? Please add a link\r\n      to it if that's the case.\r\n- [ ] Did you make sure to update the documentation with your changes? Here are the\r\n      [documentation guidelines](https://github.com/huggingface/transformers/tree/main/docs), and\r\n      [here are tips on formatting docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).\r\n- [ ] Did you write any new necessary tests?\r\n\r\n\r\n## Who can review?\r\n\r\nAnyone in the community is free to review the PR once the tests have passed. Feel free to tag\r\nmembers/contributors who may be interested in your PR.\r\n\r\n<!-- Your PR will be replied to more quickly if you can figure out the right person to tag with @\r\n\r\n If you know how to use git blame, that is the easiest way, otherwise, here is a rough guide of **who to tag**.\r\n Please tag fewer than 3 people.\r\n\r\nModels:\r\n\r\n- text models: @ArthurZucker and @younesbelkada\r\n- vision models: @amyeroberts\r\n- speech models: @sanchit-gandhi\r\n- graph models: @clefourrier\r\n\r\nLibrary:\r\n\r\n- flax: @sanchit-gandhi\r\n- generate: @gante\r\n- pipelines: @Narsil\r\n- tensorflow: @gante and @Rocketknight1\r\n- tokenizers: @ArthurZucker\r\n- trainer: @muellerzr and @pacman100\r\n\r\nIntegrations:\r\n\r\n- deepspeed: HF Trainer/Accelerate: @pacman100\r\n- ray/raytune: @richardliaw, @amogkam\r\n- Big Model Inference: @SunMarc\r\n- quantization (bitsandbytes, autogpt): @SunMarc and @younesbelkada\r\n\r\nDocumentation: @stevhliu and @MKhalusova\r\n\r\nHF projects:\r\n\r\n- accelerate: [different repo](https://github.com/huggingface/accelerate)\r\n- datasets: [different repo](https://github.com/huggingface/datasets)\r\n- diffusers: [different repo](https://github.com/huggingface/diffusers)\r\n- rust tokenizers: [different repo](https://github.com/huggingface/tokenizers)\r\n\r\nMaintained examples (not research project or legacy):\r\n\r\n- Flax: @sanchit-gandhi\r\n- PyTorch: See Models above and tag the person corresponding to the modality of the example.\r\n- TensorFlow: @Rocketknight1\r\n\r\n -->\r\n",
      "closed_by": {
        "login": "LysandreJik",
        "id": 30755778,
        "node_id": "MDQ6VXNlcjMwNzU1Nzc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/30755778?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LysandreJik",
        "html_url": "https://github.com/LysandreJik",
        "followers_url": "https://api.github.com/users/LysandreJik/followers",
        "following_url": "https://api.github.com/users/LysandreJik/following{/other_user}",
        "gists_url": "https://api.github.com/users/LysandreJik/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/LysandreJik/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/LysandreJik/subscriptions",
        "organizations_url": "https://api.github.com/users/LysandreJik/orgs",
        "repos_url": "https://api.github.com/users/LysandreJik/repos",
        "events_url": "https://api.github.com/users/LysandreJik/events{/privacy}",
        "received_events_url": "https://api.github.com/users/LysandreJik/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/29921/reactions",
        "total_count": 8,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 5,
        "rocket": 3,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/29921/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2024151568",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2024151568",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2024151568,
          "node_id": "IC_kwDOCUB6oc54phoQ",
          "user": {
            "login": "giyaseddin",
            "id": 34009210,
            "node_id": "MDQ6VXNlcjM0MDA5MjEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/34009210?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/giyaseddin",
            "html_url": "https://github.com/giyaseddin",
            "followers_url": "https://api.github.com/users/giyaseddin/followers",
            "following_url": "https://api.github.com/users/giyaseddin/following{/other_user}",
            "gists_url": "https://api.github.com/users/giyaseddin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/giyaseddin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/giyaseddin/subscriptions",
            "organizations_url": "https://api.github.com/users/giyaseddin/orgs",
            "repos_url": "https://api.github.com/users/giyaseddin/repos",
            "events_url": "https://api.github.com/users/giyaseddin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/giyaseddin/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-03-27T23:31:03Z",
          "updated_at": "2024-03-27T23:31:03Z",
          "author_association": "NONE",
          "body": "Duplicate work here too https://github.com/huggingface/transformers/pull/29910",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2024151568/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2025510229",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2025510229",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2025510229,
          "node_id": "IC_kwDOCUB6oc54utVV",
          "user": {
            "login": "Rocketknight1",
            "id": 12866554,
            "node_id": "MDQ6VXNlcjEyODY2NTU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/12866554?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Rocketknight1",
            "html_url": "https://github.com/Rocketknight1",
            "followers_url": "https://api.github.com/users/Rocketknight1/followers",
            "following_url": "https://api.github.com/users/Rocketknight1/following{/other_user}",
            "gists_url": "https://api.github.com/users/Rocketknight1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Rocketknight1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Rocketknight1/subscriptions",
            "organizations_url": "https://api.github.com/users/Rocketknight1/orgs",
            "repos_url": "https://api.github.com/users/Rocketknight1/repos",
            "events_url": "https://api.github.com/users/Rocketknight1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Rocketknight1/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-03-28T15:33:04Z",
          "updated_at": "2024-03-28T15:33:04Z",
          "author_association": "MEMBER",
          "body": "Hey all! I'll be handling reviews for this model from here - it looks like you have enough to work with for now, but if you get stuck at any point, or you'd like help, please let me know! We're quite excited to get DBRX ported, so don't be shy about reaching out. You can ping me here, or I'm also Matt in the collaboration channel on Slack",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2025510229/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2027896437",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2027896437",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2027896437,
          "node_id": "IC_kwDOCUB6oc543z51",
          "user": {
            "login": "LagPixelLOL",
            "id": 60914079,
            "node_id": "MDQ6VXNlcjYwOTE0MDc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/60914079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/LagPixelLOL",
            "html_url": "https://github.com/LagPixelLOL",
            "followers_url": "https://api.github.com/users/LagPixelLOL/followers",
            "following_url": "https://api.github.com/users/LagPixelLOL/following{/other_user}",
            "gists_url": "https://api.github.com/users/LagPixelLOL/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/LagPixelLOL/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/LagPixelLOL/subscriptions",
            "organizations_url": "https://api.github.com/users/LagPixelLOL/orgs",
            "repos_url": "https://api.github.com/users/LagPixelLOL/repos",
            "events_url": "https://api.github.com/users/LagPixelLOL/events{/privacy}",
            "received_events_url": "https://api.github.com/users/LagPixelLOL/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-03-30T03:31:05Z",
          "updated_at": "2024-03-30T03:31:05Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hello, there are some issues in the original implementation of DBRX which I see is still in the codebase of this pull request, the issues only come out during training so I think they're hard to notice currently.\r\nFirst the function `_gradient_checkpointing_func` called at the `forward` function under `DbrxModel` doesn't support the use of kwargs, so it will throw an error if gradient checkpointing is enabled.\r\nSecond, the original repo(And in this pull request), the weights of the MLP experts are in a single tensor, this causes the VRAM usage to explode and go `CUDA Out of Memory` during `backward` through the MLP layer, it can be fixed by separating the weights into different tensors(Into a module list of linear layers). **Unfortunately this fix requires the weights to be converted thus will make it incompatible with the weights in the original huggingface repo of DBRX.**\r\nI tried these 2 fixes on my own implementation [here](https://huggingface.co/v2ray/dbrx-base-fixed), which I tested by fine-tuning it using LoRA with DeepSpeed ZeRO 3, and it worked fine without the above 2 issues.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2027896437/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 2,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2028182704",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2028182704",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2028182704,
          "node_id": "IC_kwDOCUB6oc5445yw",
          "user": {
            "login": "winglian",
            "id": 381258,
            "node_id": "MDQ6VXNlcjM4MTI1OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/381258?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/winglian",
            "html_url": "https://github.com/winglian",
            "followers_url": "https://api.github.com/users/winglian/followers",
            "following_url": "https://api.github.com/users/winglian/following{/other_user}",
            "gists_url": "https://api.github.com/users/winglian/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/winglian/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/winglian/subscriptions",
            "organizations_url": "https://api.github.com/users/winglian/orgs",
            "repos_url": "https://api.github.com/users/winglian/repos",
            "events_url": "https://api.github.com/users/winglian/events{/privacy}",
            "received_events_url": "https://api.github.com/users/winglian/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-03-30T16:03:43Z",
          "updated_at": "2024-03-30T16:03:43Z",
          "author_association": "CONTRIBUTOR",
          "body": "> it using LoRA with DeepSpeed ZeRO 3\r\n\r\nbtw, did you test quantized LoRA or keep the base weights in fp16/bf16?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2028182704/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2028475237",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2028475237",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2028475237,
          "node_id": "IC_kwDOCUB6oc546BNl",
          "user": {
            "login": "LagPixelLOL",
            "id": 60914079,
            "node_id": "MDQ6VXNlcjYwOTE0MDc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/60914079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/LagPixelLOL",
            "html_url": "https://github.com/LagPixelLOL",
            "followers_url": "https://api.github.com/users/LagPixelLOL/followers",
            "following_url": "https://api.github.com/users/LagPixelLOL/following{/other_user}",
            "gists_url": "https://api.github.com/users/LagPixelLOL/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/LagPixelLOL/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/LagPixelLOL/subscriptions",
            "organizations_url": "https://api.github.com/users/LagPixelLOL/orgs",
            "repos_url": "https://api.github.com/users/LagPixelLOL/repos",
            "events_url": "https://api.github.com/users/LagPixelLOL/events{/privacy}",
            "received_events_url": "https://api.github.com/users/LagPixelLOL/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-03-30T21:39:54Z",
          "updated_at": "2024-03-30T21:43:32Z",
          "author_association": "CONTRIBUTOR",
          "body": "@winglian It's not a quantized LoRA because DeepSpeed ZeRO 3 doesn't support BnB quantization.\r\nYeah also I didn't test QLoRA but I think it should just work.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2028475237/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2029222671",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2029222671",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2029222671,
          "node_id": "IC_kwDOCUB6oc5483sP",
          "user": {
            "login": "eitanturok",
            "id": 150733043,
            "node_id": "U_kgDOCPwA8w",
            "avatar_url": "https://avatars.githubusercontent.com/u/150733043?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/eitanturok",
            "html_url": "https://github.com/eitanturok",
            "followers_url": "https://api.github.com/users/eitanturok/followers",
            "following_url": "https://api.github.com/users/eitanturok/following{/other_user}",
            "gists_url": "https://api.github.com/users/eitanturok/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/eitanturok/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/eitanturok/subscriptions",
            "organizations_url": "https://api.github.com/users/eitanturok/orgs",
            "repos_url": "https://api.github.com/users/eitanturok/repos",
            "events_url": "https://api.github.com/users/eitanturok/events{/privacy}",
            "received_events_url": "https://api.github.com/users/eitanturok/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-01T06:08:14Z",
          "updated_at": "2024-04-01T06:08:14Z",
          "author_association": "CONTRIBUTOR",
          "body": "All tests pass for now, though I've got to add some more tests from \r\n```python\r\nfrom ...generation.test_utils import GenerationTesterMixin\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2029222671/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2029227452",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2029227452",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2029227452,
          "node_id": "IC_kwDOCUB6oc548428",
          "user": {
            "login": "eitanturok",
            "id": 150733043,
            "node_id": "U_kgDOCPwA8w",
            "avatar_url": "https://avatars.githubusercontent.com/u/150733043?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/eitanturok",
            "html_url": "https://github.com/eitanturok",
            "followers_url": "https://api.github.com/users/eitanturok/followers",
            "following_url": "https://api.github.com/users/eitanturok/following{/other_user}",
            "gists_url": "https://api.github.com/users/eitanturok/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/eitanturok/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/eitanturok/subscriptions",
            "organizations_url": "https://api.github.com/users/eitanturok/orgs",
            "repos_url": "https://api.github.com/users/eitanturok/repos",
            "events_url": "https://api.github.com/users/eitanturok/events{/privacy}",
            "received_events_url": "https://api.github.com/users/eitanturok/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-01T06:13:50Z",
          "updated_at": "2024-04-01T06:27:32Z",
          "author_association": "CONTRIBUTOR",
          "body": "Also, I commented out the doc-test for `DbrxForCausalLM.forward()`.\r\n\r\nThis doc-test is\r\n```python\r\n>>> from transformers import AutoTokenizer, DbrxForCausalLM\r\n\r\n>>> model = DbrxForCausalLM.from_pretrained(\"databricks/dbrx-instruct\")\r\n>>> tokenizer = AutoTokenizer.from_pretrained(\"databricks/dbrx-instruct\", trust_remote_code=True)\r\n\r\n>>> prompt = \"Hey, are you conscious? Can you talk to me?\"\r\n>>> inputs = tokenizer(prompt, return_tensors=\"pt\")\r\n\r\n>>> # Generate\r\n>>> generate_ids = model.generate(inputs.input_ids, max_length=30)\r\n>>> tokenizer.batch_decode(generate_ids, skip_special_tokens=True, clean_up_tokenization_spaces=False)[0]\r\n\"Hey, are you conscious? Can you talk to me?\\nI'm not conscious, but I can talk to you.\"\r\n```\r\n\r\nThis doc-test fails because `\"databricks/dbrx-instruct\"` is a gated-repo.\r\n\r\nHow can I grant circle.ci access to `\"databricks/dbrx-instruct\"`? Is there some place in circle.ci where I can pass a token? Is there a standard way of doing this? @Rocketknight1 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2029227452/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2029230667",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2029230667",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2029230667,
          "node_id": "IC_kwDOCUB6oc5485pL",
          "user": {
            "login": "eitanturok",
            "id": 150733043,
            "node_id": "U_kgDOCPwA8w",
            "avatar_url": "https://avatars.githubusercontent.com/u/150733043?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/eitanturok",
            "html_url": "https://github.com/eitanturok",
            "followers_url": "https://api.github.com/users/eitanturok/followers",
            "following_url": "https://api.github.com/users/eitanturok/following{/other_user}",
            "gists_url": "https://api.github.com/users/eitanturok/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/eitanturok/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/eitanturok/subscriptions",
            "organizations_url": "https://api.github.com/users/eitanturok/orgs",
            "repos_url": "https://api.github.com/users/eitanturok/repos",
            "events_url": "https://api.github.com/users/eitanturok/events{/privacy}",
            "received_events_url": "https://api.github.com/users/eitanturok/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-01T06:17:33Z",
          "updated_at": "2024-04-01T06:17:33Z",
          "author_association": "CONTRIBUTOR",
          "body": "@LagPixelLOL Gradient checkpointing should now work. We are working on fixing the fused weights of the MLP experts.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2029230667/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2029646384",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2029646384",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2029646384,
          "node_id": "IC_kwDOCUB6oc54-fIw",
          "user": {
            "login": "Rocketknight1",
            "id": 12866554,
            "node_id": "MDQ6VXNlcjEyODY2NTU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/12866554?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Rocketknight1",
            "html_url": "https://github.com/Rocketknight1",
            "followers_url": "https://api.github.com/users/Rocketknight1/followers",
            "following_url": "https://api.github.com/users/Rocketknight1/following{/other_user}",
            "gists_url": "https://api.github.com/users/Rocketknight1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Rocketknight1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Rocketknight1/subscriptions",
            "organizations_url": "https://api.github.com/users/Rocketknight1/orgs",
            "repos_url": "https://api.github.com/users/Rocketknight1/repos",
            "events_url": "https://api.github.com/users/Rocketknight1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Rocketknight1/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-01T11:56:36Z",
          "updated_at": "2024-04-01T12:03:20Z",
          "author_association": "MEMBER",
          "body": "Hi @eitanturok, `dbrx-instruct` is way too big for our doctest runner to load either way! We recommend replacing the `>>>` on each line with `>>` - this looks about the same for users, but our doctest runner won't try to run it. This is the approach we use for other architectures that don't have small checkpoints suitable for the doctest runner - you can see an example in the modeling code for [Command-R](https://github.com/huggingface/transformers/blob/main/src/transformers/models/cohere/modeling_cohere.py#L1074).",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2029646384/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2030386472",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2030386472",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2030386472,
          "node_id": "IC_kwDOCUB6oc55BT0o",
          "user": {
            "login": "mallorbc",
            "id": 39721523,
            "node_id": "MDQ6VXNlcjM5NzIxNTIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/39721523?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mallorbc",
            "html_url": "https://github.com/mallorbc",
            "followers_url": "https://api.github.com/users/mallorbc/followers",
            "following_url": "https://api.github.com/users/mallorbc/following{/other_user}",
            "gists_url": "https://api.github.com/users/mallorbc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mallorbc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mallorbc/subscriptions",
            "organizations_url": "https://api.github.com/users/mallorbc/orgs",
            "repos_url": "https://api.github.com/users/mallorbc/repos",
            "events_url": "https://api.github.com/users/mallorbc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mallorbc/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-01T19:14:01Z",
          "updated_at": "2024-04-01T19:14:01Z",
          "author_association": "NONE",
          "body": "Been following work here and in other places to train this model.  \r\n\r\nThis is the most feature-rich implementation, thanks for that.\r\n\r\nHowever, this implementation(at this time) does not support bitsandbytes int4 quantization.  My understanding for that is that DataBricks did not use nn.linear layers for their model and instead used something else.\r\n\r\nI have seen other model uploads that claim to fix this(and they do load with less memory), but those models do not work well with other software in the huggingface ecosystem.\r\n\r\nIn short, are you aware of the fact the bitsandbytes(and by extension Qlora) is not working with these models weights and is it planned to convert the weights to add support?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2030386472/reactions",
            "total_count": 2,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2030388986",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2030388986",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2030388986,
          "node_id": "IC_kwDOCUB6oc55BUb6",
          "user": {
            "login": "eitanturok",
            "id": 150733043,
            "node_id": "U_kgDOCPwA8w",
            "avatar_url": "https://avatars.githubusercontent.com/u/150733043?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/eitanturok",
            "html_url": "https://github.com/eitanturok",
            "followers_url": "https://api.github.com/users/eitanturok/followers",
            "following_url": "https://api.github.com/users/eitanturok/following{/other_user}",
            "gists_url": "https://api.github.com/users/eitanturok/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/eitanturok/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/eitanturok/subscriptions",
            "organizations_url": "https://api.github.com/users/eitanturok/orgs",
            "repos_url": "https://api.github.com/users/eitanturok/repos",
            "events_url": "https://api.github.com/users/eitanturok/events{/privacy}",
            "received_events_url": "https://api.github.com/users/eitanturok/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-01T19:15:47Z",
          "updated_at": "2024-04-01T19:15:47Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Been following work here and in other places to train this model.\r\n> \r\n> This is the most feature-rich implementation, thanks for that.\r\n> \r\n> However, this implementation(at this time) does not support bitsandbytes int4 quantization. My understanding for that is that DataBricks did not use nn.linear layers for their model and instead used something else.\r\n> \r\n> I have seen other model uploads that claim to fix this(and they do load with less memory), but those models do not work well with other software in the huggingface ecosystem.\r\n> \r\n> In short, are you aware of the fact the bitsandbytes(and by extension Qlora) is not working with these models weights and is it planned to convert the weights to add support?\r\n\r\nYes, we are working on addressing this.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2030388986/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2030398081",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2030398081",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2030398081,
          "node_id": "IC_kwDOCUB6oc55BWqB",
          "user": {
            "login": "mallorbc",
            "id": 39721523,
            "node_id": "MDQ6VXNlcjM5NzIxNTIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/39721523?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mallorbc",
            "html_url": "https://github.com/mallorbc",
            "followers_url": "https://api.github.com/users/mallorbc/followers",
            "following_url": "https://api.github.com/users/mallorbc/following{/other_user}",
            "gists_url": "https://api.github.com/users/mallorbc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mallorbc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mallorbc/subscriptions",
            "organizations_url": "https://api.github.com/users/mallorbc/orgs",
            "repos_url": "https://api.github.com/users/mallorbc/repos",
            "events_url": "https://api.github.com/users/mallorbc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mallorbc/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-01T19:20:38Z",
          "updated_at": "2024-04-01T19:20:38Z",
          "author_association": "NONE",
          "body": "> > Been following work here and in other places to train this model.\r\n> > This is the most feature-rich implementation, thanks for that.\r\n> > However, this implementation(at this time) does not support bitsandbytes int4 quantization. My understanding for that is that DataBricks did not use nn.linear layers for their model and instead used something else.\r\n> > I have seen other model uploads that claim to fix this(and they do load with less memory), but those models do not work well with other software in the huggingface ecosystem.\r\n> > In short, are you aware of the fact the bitsandbytes(and by extension Qlora) is not working with these models weights and is it planned to convert the weights to add support?\r\n> \r\n> Yes, we are working on addressing this.\r\n\r\nGreat!  Really looking forward to it!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2030398081/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2032582077",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2032582077",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2032582077,
          "node_id": "IC_kwDOCUB6oc55Jr29",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-02T16:59:20Z",
          "updated_at": "2024-04-02T16:59:20Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_29921). All of your documentation changes will be reflected on that endpoint. The docs are available until 30 days after the last update.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2032582077/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2032584711",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2032584711",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2032584711,
          "node_id": "IC_kwDOCUB6oc55JsgH",
          "user": {
            "login": "Rocketknight1",
            "id": 12866554,
            "node_id": "MDQ6VXNlcjEyODY2NTU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/12866554?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Rocketknight1",
            "html_url": "https://github.com/Rocketknight1",
            "followers_url": "https://api.github.com/users/Rocketknight1/followers",
            "following_url": "https://api.github.com/users/Rocketknight1/following{/other_user}",
            "gists_url": "https://api.github.com/users/Rocketknight1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Rocketknight1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Rocketknight1/subscriptions",
            "organizations_url": "https://api.github.com/users/Rocketknight1/orgs",
            "repos_url": "https://api.github.com/users/Rocketknight1/repos",
            "events_url": "https://api.github.com/users/Rocketknight1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Rocketknight1/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-02T17:00:57Z",
          "updated_at": "2024-04-02T17:00:57Z",
          "author_association": "MEMBER",
          "body": "Hey @eitanturok, tests are almost there! I pushed one last change to the toctree and now doctests pass. The remaining test failures are: \r\n\r\n- `test_new_cache_format`: We haven't ported LLaMA-like models to this format yet. For now, it's okay to skip this test! We'll update the DBRX code too when we do this update for related models.\r\n- `test_left_padding_compatibility`: This test is failing because `config.pad_token_id` is not set. Once that's set correctly then it should pass!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2032584711/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2032586071",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2032586071",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2032586071,
          "node_id": "IC_kwDOCUB6oc55Js1X",
          "user": {
            "login": "Rocketknight1",
            "id": 12866554,
            "node_id": "MDQ6VXNlcjEyODY2NTU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/12866554?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Rocketknight1",
            "html_url": "https://github.com/Rocketknight1",
            "followers_url": "https://api.github.com/users/Rocketknight1/followers",
            "following_url": "https://api.github.com/users/Rocketknight1/following{/other_user}",
            "gists_url": "https://api.github.com/users/Rocketknight1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Rocketknight1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Rocketknight1/subscriptions",
            "organizations_url": "https://api.github.com/users/Rocketknight1/orgs",
            "repos_url": "https://api.github.com/users/Rocketknight1/repos",
            "events_url": "https://api.github.com/users/Rocketknight1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Rocketknight1/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-02T17:01:47Z",
          "updated_at": "2024-04-02T17:01:47Z",
          "author_association": "MEMBER",
          "body": "Thank you to @gante for the diagnosis on those test failures!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2032586071/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 1,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2033057166",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2033057166",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2033057166,
          "node_id": "IC_kwDOCUB6oc55Lf2O",
          "user": {
            "login": "eitanturok",
            "id": 150733043,
            "node_id": "U_kgDOCPwA8w",
            "avatar_url": "https://avatars.githubusercontent.com/u/150733043?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/eitanturok",
            "html_url": "https://github.com/eitanturok",
            "followers_url": "https://api.github.com/users/eitanturok/followers",
            "following_url": "https://api.github.com/users/eitanturok/following{/other_user}",
            "gists_url": "https://api.github.com/users/eitanturok/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/eitanturok/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/eitanturok/subscriptions",
            "organizations_url": "https://api.github.com/users/eitanturok/orgs",
            "repos_url": "https://api.github.com/users/eitanturok/repos",
            "events_url": "https://api.github.com/users/eitanturok/events{/privacy}",
            "received_events_url": "https://api.github.com/users/eitanturok/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-02T20:43:57Z",
          "updated_at": "2024-04-02T20:43:57Z",
          "author_association": "CONTRIBUTOR",
          "body": "@Rocketknight1 Just fixed the errors you mentioned.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2033057166/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2033843909",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2033843909",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2033843909,
          "node_id": "IC_kwDOCUB6oc55Of7F",
          "user": {
            "login": "calmitchell617",
            "id": 33095819,
            "node_id": "MDQ6VXNlcjMzMDk1ODE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/33095819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/calmitchell617",
            "html_url": "https://github.com/calmitchell617",
            "followers_url": "https://api.github.com/users/calmitchell617/followers",
            "following_url": "https://api.github.com/users/calmitchell617/following{/other_user}",
            "gists_url": "https://api.github.com/users/calmitchell617/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/calmitchell617/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/calmitchell617/subscriptions",
            "organizations_url": "https://api.github.com/users/calmitchell617/orgs",
            "repos_url": "https://api.github.com/users/calmitchell617/repos",
            "events_url": "https://api.github.com/users/calmitchell617/events{/privacy}",
            "received_events_url": "https://api.github.com/users/calmitchell617/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-03T08:06:09Z",
          "updated_at": "2024-04-03T08:07:00Z",
          "author_association": "NONE",
          "body": "Hi, I have a question.\r\n\r\nWhy are we able to use DBRX with `AutoModelForCausalLM.from_pretrained()` when the model architecture hasn't yet hit the transformers lib? I understand that the weights are available for download, but doesn't the model's `forward()` method need to be in transformers for it to work?\r\n\r\nEDIT: This is on transformers 4.39.3",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2033843909/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2033912125",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2033912125",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2033912125,
          "node_id": "IC_kwDOCUB6oc55Owk9",
          "user": {
            "login": "mallorbc",
            "id": 39721523,
            "node_id": "MDQ6VXNlcjM5NzIxNTIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/39721523?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mallorbc",
            "html_url": "https://github.com/mallorbc",
            "followers_url": "https://api.github.com/users/mallorbc/followers",
            "following_url": "https://api.github.com/users/mallorbc/following{/other_user}",
            "gists_url": "https://api.github.com/users/mallorbc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mallorbc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mallorbc/subscriptions",
            "organizations_url": "https://api.github.com/users/mallorbc/orgs",
            "repos_url": "https://api.github.com/users/mallorbc/repos",
            "events_url": "https://api.github.com/users/mallorbc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mallorbc/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-03T08:33:24Z",
          "updated_at": "2024-04-03T08:33:24Z",
          "author_association": "NONE",
          "body": "> Hi, I have a question.\r\n> \r\n> Why are we able to use DBRX with `AutoModelForCausalLM.from_pretrained()` when the model architecture hasn't yet hit the transformers lib? I understand that the weights are available for download, but doesn't the model's `forward()` method need to be in transformers for it to work?\r\n> \r\n> EDIT: This is on transformers 4.39.3\r\n\r\ntrust_remote_code=True allows this.  The models out there now have implementations uploaded to their model folder and it uses that code to run the model.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2033912125/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2033940732",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2033940732",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2033940732,
          "node_id": "IC_kwDOCUB6oc55O3j8",
          "user": {
            "login": "calmitchell617",
            "id": 33095819,
            "node_id": "MDQ6VXNlcjMzMDk1ODE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/33095819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/calmitchell617",
            "html_url": "https://github.com/calmitchell617",
            "followers_url": "https://api.github.com/users/calmitchell617/followers",
            "following_url": "https://api.github.com/users/calmitchell617/following{/other_user}",
            "gists_url": "https://api.github.com/users/calmitchell617/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/calmitchell617/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/calmitchell617/subscriptions",
            "organizations_url": "https://api.github.com/users/calmitchell617/orgs",
            "repos_url": "https://api.github.com/users/calmitchell617/repos",
            "events_url": "https://api.github.com/users/calmitchell617/events{/privacy}",
            "received_events_url": "https://api.github.com/users/calmitchell617/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-03T08:45:53Z",
          "updated_at": "2024-04-03T08:45:53Z",
          "author_association": "NONE",
          "body": "Thank you for that explanation.\r\n\r\nIf anyone else came to this thread b/c they wanted to check out the model's architecture, and was wondering where modeling_dbrx is, it's here: https://github.com/databricks/dbrx/blob/main/model/modeling_dbrx.py",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2033940732/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2034415393",
          "html_url": "https://github.com/huggingface/transformers/pull/29921#issuecomment-2034415393",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29921",
          "id": 2034415393,
          "node_id": "IC_kwDOCUB6oc55Qrch",
          "user": {
            "login": "Rocketknight1",
            "id": 12866554,
            "node_id": "MDQ6VXNlcjEyODY2NTU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/12866554?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Rocketknight1",
            "html_url": "https://github.com/Rocketknight1",
            "followers_url": "https://api.github.com/users/Rocketknight1/followers",
            "following_url": "https://api.github.com/users/Rocketknight1/following{/other_user}",
            "gists_url": "https://api.github.com/users/Rocketknight1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Rocketknight1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Rocketknight1/subscriptions",
            "organizations_url": "https://api.github.com/users/Rocketknight1/orgs",
            "repos_url": "https://api.github.com/users/Rocketknight1/repos",
            "events_url": "https://api.github.com/users/Rocketknight1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Rocketknight1/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-03T12:13:33Z",
          "updated_at": "2024-04-03T12:56:46Z",
          "author_association": "MEMBER",
          "body": "cc @amyeroberts @ArthurZucker for core maintainer review at this point! (The failing test is flaky and unrelated to this PR)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2034415393/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/31711/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/31711/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/31711/events",
      "html_url": "https://github.com/huggingface/transformers/pull/31711",
      "id": 2381823024,
      "node_id": "PR_kwDOCUB6oc5z9zhn",
      "number": 31711,
      "title": "Support Kosmos-2.5",
      "user": {
        "login": "tic-top",
        "id": 78676563,
        "node_id": "MDQ6VXNlcjc4Njc2NTYz",
        "avatar_url": "https://avatars.githubusercontent.com/u/78676563?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tic-top",
        "html_url": "https://github.com/tic-top",
        "followers_url": "https://api.github.com/users/tic-top/followers",
        "following_url": "https://api.github.com/users/tic-top/following{/other_user}",
        "gists_url": "https://api.github.com/users/tic-top/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/tic-top/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/tic-top/subscriptions",
        "organizations_url": "https://api.github.com/users/tic-top/orgs",
        "repos_url": "https://api.github.com/users/tic-top/repos",
        "events_url": "https://api.github.com/users/tic-top/events{/privacy}",
        "received_events_url": "https://api.github.com/users/tic-top/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 6886428489,
          "node_id": "LA_kwDOCUB6oc8AAAABmnaPSQ",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/run-slow",
          "name": "run-slow",
          "color": "E1D519",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": {
        "login": "ydshieh",
        "id": 2521628,
        "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ydshieh",
        "html_url": "https://github.com/ydshieh",
        "followers_url": "https://api.github.com/users/ydshieh/followers",
        "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
        "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
        "organizations_url": "https://api.github.com/users/ydshieh/orgs",
        "repos_url": "https://api.github.com/users/ydshieh/repos",
        "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ydshieh/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "assignees": [
        {
          "login": "ydshieh",
          "id": 2521628,
          "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
          "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ydshieh",
          "html_url": "https://github.com/ydshieh",
          "followers_url": "https://api.github.com/users/ydshieh/followers",
          "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
          "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
          "organizations_url": "https://api.github.com/users/ydshieh/orgs",
          "repos_url": "https://api.github.com/users/ydshieh/repos",
          "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ydshieh/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        }
      ],
      "milestone": null,
      "comments": 27,
      "created_at": "2024-06-29T15:48:17Z",
      "updated_at": "2025-05-16T13:55:50Z",
      "closed_at": null,
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/31711",
        "html_url": "https://github.com/huggingface/transformers/pull/31711",
        "diff_url": "https://github.com/huggingface/transformers/pull/31711.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/31711.patch",
        "merged_at": null
      },
      "body": "# What does this PR do?\r\n#30877 Implementation of Kosmos-2.5 in transformers.\r\nhttps://huggingface.co/kirp/kosmos2_5/blob/main/README.md\r\n# Usage\r\n```python\r\nfrom PIL import Image\r\nimport requests\r\nimport torch\r\nfrom transformers import AutoProcessor, AutoModelForVision2Seq, AutoConfig\r\nimport re\r\n\r\nrepo = \"kirp/kosmos2_5\"\r\ndevice = \"cuda:0\"\r\nconfig = AutoConfig.from_pretrained(repo)\r\n\r\nNAME = {\r\n    \"f\" : \"flash_attention_2\",\r\n    \"s\" : \"sdpa\",\r\n    \"e\" : \"eager\",\r\n}\r\n\r\n# all sdpa fp16\r\ndtype = torch.float16\r\nconfig._attn_implementation = NAME[\"s\"]\r\nconfig.vision_config._attn_implementation = NAME[\"s\"]\r\nconfig.text_config._attn_implementation = NAME[\"s\"]\r\n\r\n# # all sdpa fp16\r\n# dtype = torch.float16\r\n# config._attn_implementation = NAME[\"s\"]\r\n# config.text_config._attn_implementation = NAME[\"s\"]\r\n# config.vision_config._attn_implementation = NAME[\"s\"]\r\n\r\n# # all eager bf16\r\n# dtype = torch.bfloat16\r\n# config._attn_implementation = NAME[\"e\"]\r\n# config.text_config._attn_implementation = NAME[\"e\"]\r\n# config.vision_config._attn_implementation = NAME[\"e\"]\r\n\r\n\r\nmodel = AutoModelForVision2Seq.from_pretrained(repo, device_map = device, torch_dtype=dtype, config=config)\r\nprocessor = AutoProcessor.from_pretrained(repo)\r\n\r\nurl = \"https://huggingface.co/kirp/kosmos2_5/resolve/main/receipt_00008.png\"\r\nimage = Image.open(requests.get(url, stream=True).raw)\r\nprompt = \"<ocr>\" # <md>\r\n\r\ninputs = processor(text=prompt, images=image, return_tensors=\"pt\")\r\nheight, width = inputs.pop(\"height\"), inputs.pop(\"width\")\r\nraw_width, raw_height = image.size\r\nscale_height = raw_height / height\r\nscale_width = raw_width / width\r\n\r\ninputs = {k: v.to(device) if v is not None else None for k, v in inputs.items()}\r\ninputs[\"flattened_patches\"] = inputs[\"flattened_patches\"].to(dtype)\r\n\r\ngenerated_ids = model.generate(\r\n    **inputs,\r\n    max_new_tokens=1024,\r\n)\r\ngenerated_text = processor.batch_decode(generated_ids, skip_special_tokens=True)\r\n\r\ndef postprocess(y, scale_height, scale_width):\r\n    y = y.replace(prompt, \"\")\r\n    if \"<md>\" in prompt:\r\n        return y\r\n    pattern = r\"<bbox><x_\\d+><y_\\d+><x_\\d+><y_\\d+></bbox>\"\r\n    bboxs_raw = re.findall(pattern, y)\r\n    lines = re.split(pattern, y)[1:]\r\n    bboxs = [re.findall(r\"\\d+\", i) for i in bboxs_raw]\r\n    bboxs = [[int(j) for j in i] for i in bboxs]\r\n    info = \"\"\r\n    for i in range(len(lines)):\r\n        box = bboxs[i]\r\n        x0, y0, x1, y1 = box\r\n        if not (x0 >= x1 or y0 >= y1):\r\n            x0 = int(x0 * scale_width)\r\n            y0 = int(y0 * scale_height)\r\n            x1 = int(x1 * scale_width)\r\n            y1 = int(y1 * scale_height)\r\n            info += f\"{x0},{y0},{x1},{y0},{x1},{y1},{x0},{y1},{lines[i]}\"\r\n    return info\r\n\r\noutput_text = postprocess(generated_text[0], scale_height, scale_width)\r\nprint(output_text)\r\n```",
      "closed_by": null,
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/31711/reactions",
        "total_count": 5,
        "+1": 5,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/31711/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2199752160",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2199752160",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2199752160,
          "node_id": "IC_kwDOCUB6oc6DHY3g",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-01T10:10:04Z",
          "updated_at": "2024-07-01T10:10:04Z",
          "author_association": "COLLABORATOR",
          "body": "cc @ydshieh ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2199752160/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2217958934",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2217958934",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2217958934,
          "node_id": "IC_kwDOCUB6oc6EM14W",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-09T15:01:05Z",
          "updated_at": "2024-07-09T15:01:05Z",
          "author_association": "COLLABORATOR",
          "body": "Thanks a lot for this hard work @tic-top. This is going to benefit the community \ud83e\udd17!  Check this tomorrow!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2217958934/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 2,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2220837560",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2220837560",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2220837560,
          "node_id": "IC_kwDOCUB6oc6EX0q4",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-10T15:32:46Z",
          "updated_at": "2024-07-10T15:32:46Z",
          "author_association": "COLLABORATOR",
          "body": "I will push an empty commit to trigger a CI running on GPU \ud83d\ude4f ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2220837560/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2231317321",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2231317321",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2231317321,
          "node_id": "IC_kwDOCUB6oc6E_zNJ",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-16T16:08:48Z",
          "updated_at": "2024-07-16T16:08:48Z",
          "author_association": "COLLABORATOR",
          "body": "No worry about the failing CI above. It's fine, and I checked the tests running on a `A10` that is \u2705 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2231317321/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2233620053",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2233620053",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2233620053,
          "node_id": "IC_kwDOCUB6oc6FIlZV",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-17T15:38:34Z",
          "updated_at": "2024-07-17T15:38:34Z",
          "author_association": "COLLABORATOR",
          "body": "Ah, I forgot. We should also have a test file (class `Kosmos2_5ImageProcessorTest`) for `class Kosmos2_5ImageProcessor`\r\n(similar to `Pix2StructImageProcessingTest`  for `Pix2StructImageProcessor`)\r\n\r\nIt should be easy: just copy `Pix2StructImageProcessingTest` and only a few changes to do.\r\n\r\n(But for this, you can wait - I still have a few things to review tomorrow)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2233620053/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2302101076",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2302101076",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2302101076,
          "node_id": "IC_kwDOCUB6oc6JN0ZU",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-21T13:45:52Z",
          "updated_at": "2024-08-21T14:20:36Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @amyeroberts \r\n\r\nThis PR is ready for a review for core maintainers \ud83d\ude4f .\r\n\r\nIt still uses the `# copied from` statement, I hope it doesn't cause too much trouble.\r\nI am happy to rework it to use the new mechanism (diff tool) but do you think we can review and merge as it is currently?\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2302101076/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2302262953",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2302262953",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2302262953,
          "node_id": "IC_kwDOCUB6oc6JOb6p",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-21T14:56:17Z",
          "updated_at": "2024-08-21T14:56:17Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_31711). All of your documentation changes will be reflected on that endpoint. The docs are available until 30 days after the last update.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2302262953/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2377039788",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2377039788",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2377039788,
          "node_id": "IC_kwDOCUB6oc6Nrr-s",
          "user": {
            "login": "Benvorth",
            "id": 13131335,
            "node_id": "MDQ6VXNlcjEzMTMxMzM1",
            "avatar_url": "https://avatars.githubusercontent.com/u/13131335?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Benvorth",
            "html_url": "https://github.com/Benvorth",
            "followers_url": "https://api.github.com/users/Benvorth/followers",
            "following_url": "https://api.github.com/users/Benvorth/following{/other_user}",
            "gists_url": "https://api.github.com/users/Benvorth/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Benvorth/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Benvorth/subscriptions",
            "organizations_url": "https://api.github.com/users/Benvorth/orgs",
            "repos_url": "https://api.github.com/users/Benvorth/repos",
            "events_url": "https://api.github.com/users/Benvorth/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Benvorth/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-26T13:51:40Z",
          "updated_at": "2024-09-26T13:51:40Z",
          "author_association": "NONE",
          "body": "Any plan on adding this? Would really be great... ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2377039788/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 2
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2384234556",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2384234556",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2384234556,
          "node_id": "IC_kwDOCUB6oc6OHIg8",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-30T21:55:15Z",
          "updated_at": "2024-09-30T21:55:15Z",
          "author_association": "NONE",
          "body": "Hey! \ud83e\udd17 Thanks for your contribution to the `transformers` library!\n\nBefore merging this pull request, slow tests CI should be triggered. To enable this:\n- Add the `run-slow` label to the PR\n- When your PR is ready for merge and all reviewers' comments have been addressed, push an empty commit with the command `[run-slow]` followed by a comma separated list of all the models to be tested, i.e. `[run_slow] model_to_test_1, model_to_test_2`\n  - If the pull request affects a lot of models, put at most 10 models in the commit message\n- A `transformers` maintainer will then approve the workflow to start the tests\n\n(For maintainers) The documentation for slow tests CI on PRs is [here](https://www.notion.so/huggingface2/CI-for-pull-requests-8335bd9217d24d1e8ed1d3a016f39804).",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2384234556/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2427266688",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2427266688",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2427266688,
          "node_id": "IC_kwDOCUB6oc6QrSaA",
          "user": {
            "login": "brandenkmurray",
            "id": 8684326,
            "node_id": "MDQ6VXNlcjg2ODQzMjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8684326?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brandenkmurray",
            "html_url": "https://github.com/brandenkmurray",
            "followers_url": "https://api.github.com/users/brandenkmurray/followers",
            "following_url": "https://api.github.com/users/brandenkmurray/following{/other_user}",
            "gists_url": "https://api.github.com/users/brandenkmurray/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brandenkmurray/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brandenkmurray/subscriptions",
            "organizations_url": "https://api.github.com/users/brandenkmurray/orgs",
            "repos_url": "https://api.github.com/users/brandenkmurray/repos",
            "events_url": "https://api.github.com/users/brandenkmurray/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brandenkmurray/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-10-21T17:02:57Z",
          "updated_at": "2024-10-21T17:02:57Z",
          "author_association": "NONE",
          "body": "Hey,\r\n\r\nI know you\u2019re all busy, but is there a timeline for when this might get merged? It looks like a lot of work has been put into it and it's been passing the CI tests for a few weeks now. Would love to see Kosmos-2.5 supported in `transformers`. \r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2427266688/reactions",
            "total_count": 4,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2435684835",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2435684835",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2435684835,
          "node_id": "IC_kwDOCUB6oc6RLZnj",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-10-24T16:01:25Z",
          "updated_at": "2024-10-24T16:01:25Z",
          "author_association": "COLLABORATOR",
          "body": "I'll let @Cyrilvallez do a first pass! \ud83e\udd17 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2435684835/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2444395216",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2444395216",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2444395216,
          "node_id": "IC_kwDOCUB6oc6RsoLQ",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-10-29T14:14:05Z",
          "updated_at": "2024-10-29T14:14:05Z",
          "author_association": "COLLABORATOR",
          "body": "@Cyrilvallez @ArthurZucker \r\n\r\nComments are addressed.\r\n\r\nThe failing tests are irrelevant, and one of them is treated in #34464\r\n\r\nWould love to have a final approval from @ArthurZucker so we can merge \ud83d\ude80 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2444395216/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2450066317",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2450066317",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2450066317,
          "node_id": "IC_kwDOCUB6oc6SCQuN",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-10-31T14:44:00Z",
          "updated_at": "2024-10-31T14:44:00Z",
          "author_association": "COLLABORATOR",
          "body": "@zucchini-nlp Good points on the recent changes. I will try to update this PR.\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2450066317/reactions",
            "total_count": 5,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 5,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2546075660",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2546075660",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2546075660,
          "node_id": "IC_kwDOCUB6oc6XwggM",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-12-16T16:24:38Z",
          "updated_at": "2024-12-16T17:08:16Z",
          "author_association": "COLLABORATOR",
          "body": "CI is finally \u2705 \ud83c\udf89 (sorry for the delay).\r\n\r\nHope a core maintainer would have the bandwidth to take a final look \ud83d\udc40 and let's go \ud83d\ude80 .\r\n\r\nIntegration tests on:\r\n\r\n- T4:   \u2705 \r\n- A10:\r\n  - without FA2: \u2705 \r\n  - with FA2: \u2705 \r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2546075660/reactions",
            "total_count": 4,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 2,
            "confused": 0,
            "heart": 2,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2549130631",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2549130631",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2549130631,
          "node_id": "IC_kwDOCUB6oc6X8KWH",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-12-17T17:35:12Z",
          "updated_at": "2024-12-17T17:43:54Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @zucchini-nlp Great reviews! Could you check the changes shown below? I think all comments addressed.\r\n\r\n(and also the removed `generate`)\r\n\r\nhttps://github.com/tic-top/transformers/compare/0ec499a841b35ce9c77e072362a09a20a287a2f5..8fc9699655c5b80b0c5cbb1fadfc4837daf1ad90",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2549130631/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2551258964",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2551258964",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2551258964,
          "node_id": "IC_kwDOCUB6oc6YER9U",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-12-18T12:57:42Z",
          "updated_at": "2024-12-18T12:57:42Z",
          "author_association": "COLLABORATOR",
          "body": "run slow",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2551258964/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2551260785",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2551260785",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2551260785,
          "node_id": "IC_kwDOCUB6oc6YESZx",
          "user": {
            "login": "github-actions[bot]",
            "id": 41898282,
            "node_id": "MDM6Qm90NDE4OTgyODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions%5Bbot%5D",
            "html_url": "https://github.com/apps/github-actions",
            "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
            "type": "Bot",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-12-18T12:58:35Z",
          "updated_at": "2024-12-18T12:58:35Z",
          "author_association": "CONTRIBUTOR",
          "body": "This comment contains run-slow, running the specified jobs: ['models/kosmos2_5'] ...",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2551260785/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": {
            "id": 15368,
            "client_id": "Iv1.05c79e9ad1f6bdfa",
            "slug": "github-actions",
            "node_id": "MDM6QXBwMTUzNjg=",
            "owner": {
              "login": "github",
              "id": 9919,
              "node_id": "MDEyOk9yZ2FuaXphdGlvbjk5MTk=",
              "avatar_url": "https://avatars.githubusercontent.com/u/9919?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/github",
              "html_url": "https://github.com/github",
              "followers_url": "https://api.github.com/users/github/followers",
              "following_url": "https://api.github.com/users/github/following{/other_user}",
              "gists_url": "https://api.github.com/users/github/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/github/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/github/subscriptions",
              "organizations_url": "https://api.github.com/users/github/orgs",
              "repos_url": "https://api.github.com/users/github/repos",
              "events_url": "https://api.github.com/users/github/events{/privacy}",
              "received_events_url": "https://api.github.com/users/github/received_events",
              "type": "Organization",
              "user_view_type": "public",
              "site_admin": false
            },
            "name": "GitHub Actions",
            "description": "Automate your workflow from idea to production",
            "external_url": "https://help.github.com/en/actions",
            "html_url": "https://github.com/apps/github-actions",
            "created_at": "2018-07-30T09:30:17Z",
            "updated_at": "2025-03-07T16:35:00Z",
            "permissions": {
              "actions": "write",
              "administration": "read",
              "attestations": "write",
              "checks": "write",
              "contents": "write",
              "deployments": "write",
              "discussions": "write",
              "issues": "write",
              "merge_queues": "write",
              "metadata": "read",
              "models": "read",
              "packages": "write",
              "pages": "write",
              "pull_requests": "write",
              "repository_hooks": "write",
              "repository_projects": "write",
              "security_events": "write",
              "statuses": "write",
              "vulnerability_alerts": "read"
            },
            "events": [
              "branch_protection_rule",
              "check_run",
              "check_suite",
              "create",
              "delete",
              "deployment",
              "deployment_status",
              "discussion",
              "discussion_comment",
              "fork",
              "gollum",
              "issues",
              "issue_comment",
              "label",
              "merge_group",
              "milestone",
              "page_build",
              "project",
              "project_card",
              "project_column",
              "public",
              "pull_request",
              "pull_request_review",
              "pull_request_review_comment",
              "push",
              "registry_package",
              "release",
              "repository",
              "repository_dispatch",
              "status",
              "watch",
              "workflow_dispatch",
              "workflow_run"
            ]
          }
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2636203758",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2636203758",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2636203758,
          "node_id": "IC_kwDOCUB6oc6dIUbu",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-05T09:34:12Z",
          "updated_at": "2025-02-05T09:34:12Z",
          "author_association": "COLLABORATOR",
          "body": "@ArthurZucker Would be great if you could take a final look \ud83d\ude4f and hope we can have this in the next release \ud83d\ude80 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2636203758/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2820752203",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2820752203",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2820752203,
          "node_id": "IC_kwDOCUB6oc6oIUNL",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-04-22T09:37:30Z",
          "updated_at": "2025-04-22T09:37:30Z",
          "author_association": "COLLABORATOR",
          "body": "Hi \u270b \r\n\r\n@zucchini-nlp If you can have another look to see if I miss any recent changes, that would be super \ud83d\ude4f \r\n@qubvel I apply your change for `return_dict`: see [changes](https://github.com/huggingface/transformers/compare/44bc32e909063a402ce5b83c034f3d074689969f...61b3a2a4ac2515e24a554e077da06730d2259b30). Let me know there is anything I should adopt too \ud83d\ude4f \r\n@yonigozlan Could you take a look on [the fast image processing](https://github.com/huggingface/transformers/blob/0ad75d706066fd45773b7e2205432ff79d20f87b/src/transformers/models/kosmos2_5/image_processing_kosmos2_5_fast.py) \ud83d\ude4f \r\n\r\nOnce I have some feedbacks and address them if any, I will request an review from Cyrilvallez ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2820752203/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2839275172",
          "html_url": "https://github.com/huggingface/transformers/pull/31711#issuecomment-2839275172",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/31711",
          "id": 2839275172,
          "node_id": "IC_kwDOCUB6oc6pO-ak",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-04-29T15:06:36Z",
          "updated_at": "2025-04-29T15:06:36Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @ArthurZucker @Cyrilvallez \r\n\r\nFinally this PR is ready for a final review from (at least one of) you \ud83d\ude4f \ud83e\udd1e .\r\n\r\nI have tried to keep up with recent changes. @qubvel is OK with `return_dict` and @zucchini-nlp approves overall.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2839275172/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/36053/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/36053/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/36053/events",
      "html_url": "https://github.com/huggingface/transformers/pull/36053",
      "id": 2833442515,
      "node_id": "PR_kwDOCUB6oc6KKtn5",
      "number": 36053,
      "title": "Add Janus model",
      "user": {
        "login": "yaswanth19",
        "id": 82788246,
        "node_id": "MDQ6VXNlcjgyNzg4MjQ2",
        "avatar_url": "https://avatars.githubusercontent.com/u/82788246?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yaswanth19",
        "html_url": "https://github.com/yaswanth19",
        "followers_url": "https://api.github.com/users/yaswanth19/followers",
        "following_url": "https://api.github.com/users/yaswanth19/following{/other_user}",
        "gists_url": "https://api.github.com/users/yaswanth19/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/yaswanth19/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yaswanth19/subscriptions",
        "organizations_url": "https://api.github.com/users/yaswanth19/orgs",
        "repos_url": "https://api.github.com/users/yaswanth19/repos",
        "events_url": "https://api.github.com/users/yaswanth19/events{/privacy}",
        "received_events_url": "https://api.github.com/users/yaswanth19/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1843244711,
          "node_id": "MDU6TGFiZWwxODQzMjQ0NzEx",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/New%20model",
          "name": "New model",
          "color": "fbca04",
          "default": false,
          "description": ""
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 75,
      "created_at": "2025-02-05T16:39:56Z",
      "updated_at": "2025-07-07T03:24:31Z",
      "closed_at": "2025-04-17T07:18:51Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/36053",
        "html_url": "https://github.com/huggingface/transformers/pull/36053",
        "diff_url": "https://github.com/huggingface/transformers/pull/36053.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/36053.patch",
        "merged_at": "2025-04-17T07:18:51Z"
      },
      "body": "# What does this PR do?\r\n\r\n<!--\r\nCongratulations! You've made it this far! You're not quite done yet though.\r\n\r\nOnce merged, your PR is going to appear in the release notes with the title you set, so make sure it's a great title that fully reflects the extent of your awesome contribution.\r\n\r\nThen, please replace this with a description of the change and which issue is fixed (if applicable). Please also include relevant motivation and context. List any dependencies (if any) that are required for this change.\r\n\r\nOnce you're done, someone will review your PR shortly (see the section \"Who can review?\" below to tag some potential reviewers). They may suggest changes to make the code even better. If no one reviewed your PR after a week has passed, don't hesitate to post a new comment @-mentioning the same persons---sometimes notifications get lost.\r\n-->\r\n\r\n<!-- Remove if not applicable -->\r\n\r\nFixes #35928 \r\n\r\n## Before submitting\r\n- [ ] This PR fixes a typo or improves the docs (you can dismiss the other checks if that's the case).\r\n- [ ] Did you read the [contributor guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#create-a-pull-request),\r\n      Pull Request section?\r\n- [ ] Was this discussed/approved via a Github issue or the [forum](https://discuss.huggingface.co/)? Please add a link\r\n      to it if that's the case.\r\n- [ ] Did you make sure to update the documentation with your changes? Here are the\r\n      [documentation guidelines](https://github.com/huggingface/transformers/tree/main/docs), and\r\n      [here are tips on formatting docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).\r\n- [ ] Did you write any new necessary tests?\r\n\r\n\r\n## Who can review?\r\n\r\nAnyone in the community is free to review the PR once the tests have passed. Feel free to tag\r\nmembers/contributors who may be interested in your PR.\r\n\r\n<!-- Your PR will be replied to more quickly if you can figure out the right person to tag with @\r\n\r\n If you know how to use git blame, that is the easiest way, otherwise, here is a rough guide of **who to tag**.\r\n Please tag fewer than 3 people.\r\n\r\nModels:\r\n\r\n- text models: @ArthurZucker\r\n- vision models: @amyeroberts, @qubvel\r\n- speech models: @ylacombe, @eustlb\r\n- graph models: @clefourrier\r\n\r\nLibrary:\r\n\r\n- flax: @sanchit-gandhi\r\n- generate: @zucchini-nlp (visual-language models) or @gante (all others)\r\n- pipelines: @Rocketknight1\r\n- tensorflow: @gante and @Rocketknight1\r\n- tokenizers: @ArthurZucker\r\n- trainer: @muellerzr and @SunMarc\r\n- chat templates: @Rocketknight1\r\n\r\nIntegrations:\r\n\r\n- deepspeed: HF Trainer/Accelerate: @muellerzr\r\n- ray/raytune: @richardliaw, @amogkam\r\n- Big Model Inference: @SunMarc\r\n- quantization (bitsandbytes, autogpt): @SunMarc @MekkCyber\r\n\r\nDocumentation: @stevhliu\r\n\r\nHF projects:\r\n\r\n- accelerate: [different repo](https://github.com/huggingface/accelerate)\r\n- datasets: [different repo](https://github.com/huggingface/datasets)\r\n- diffusers: [different repo](https://github.com/huggingface/diffusers)\r\n- rust tokenizers: [different repo](https://github.com/huggingface/tokenizers)\r\n\r\nMaintained examples (not research project or legacy):\r\n\r\n- Flax: @sanchit-gandhi\r\n- PyTorch: See Models above and tag the person corresponding to the modality of the example.\r\n- TensorFlow: @Rocketknight1\r\n\r\n -->\r\n",
      "closed_by": {
        "login": "zucchini-nlp",
        "id": 100715397,
        "node_id": "U_kgDOBgDLhQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/100715397?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zucchini-nlp",
        "html_url": "https://github.com/zucchini-nlp",
        "followers_url": "https://api.github.com/users/zucchini-nlp/followers",
        "following_url": "https://api.github.com/users/zucchini-nlp/following{/other_user}",
        "gists_url": "https://api.github.com/users/zucchini-nlp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/zucchini-nlp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zucchini-nlp/subscriptions",
        "organizations_url": "https://api.github.com/users/zucchini-nlp/orgs",
        "repos_url": "https://api.github.com/users/zucchini-nlp/repos",
        "events_url": "https://api.github.com/users/zucchini-nlp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/zucchini-nlp/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/36053/reactions",
        "total_count": 5,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 5,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/36053/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2637515753",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2637515753",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2637515753,
          "node_id": "IC_kwDOCUB6oc6dNUvp",
          "user": {
            "login": "yaswanth19",
            "id": 82788246,
            "node_id": "MDQ6VXNlcjgyNzg4MjQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/82788246?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yaswanth19",
            "html_url": "https://github.com/yaswanth19",
            "followers_url": "https://api.github.com/users/yaswanth19/followers",
            "following_url": "https://api.github.com/users/yaswanth19/following{/other_user}",
            "gists_url": "https://api.github.com/users/yaswanth19/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yaswanth19/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yaswanth19/subscriptions",
            "organizations_url": "https://api.github.com/users/yaswanth19/orgs",
            "repos_url": "https://api.github.com/users/yaswanth19/repos",
            "events_url": "https://api.github.com/users/yaswanth19/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yaswanth19/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-05T17:03:34Z",
          "updated_at": "2025-02-05T17:44:58Z",
          "author_association": "CONTRIBUTOR",
          "body": "@zucchini-nlp I\u2019ve started working on Janus and would love to get some guidance. Right now, I\u2019ve just created a skeleton and implemented the ImageProcessing class.\r\n\r\nMy first major hurdle is the CONFIG. The Janus config on the Hub is quite composite and non-standard. Standard values like `hidden_size`, `num_attention_heads`, etc., seem to be hardcoded in their implementation.\r\n\r\nFrom a testing perspective, how should I approach writing the config class? Loading this config directly using AutoConfig.from_pretrained() doesn\u2019t work.\r\n\r\nShall I write an ad hoc script to convert this config into a standard Hugging Face config (similar to convert_weights_to_hf.py, but for config)?\r\n\r\nConfig: https://huggingface.co/deepseek-ai/Janus-Pro-1B/blob/main/config.json",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2637515753/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2637739365",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2637739365",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2637739365,
          "node_id": "IC_kwDOCUB6oc6dOLVl",
          "user": {
            "login": "zucchini-nlp",
            "id": 100715397,
            "node_id": "U_kgDOBgDLhQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/100715397?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zucchini-nlp",
            "html_url": "https://github.com/zucchini-nlp",
            "followers_url": "https://api.github.com/users/zucchini-nlp/followers",
            "following_url": "https://api.github.com/users/zucchini-nlp/following{/other_user}",
            "gists_url": "https://api.github.com/users/zucchini-nlp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zucchini-nlp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zucchini-nlp/subscriptions",
            "organizations_url": "https://api.github.com/users/zucchini-nlp/orgs",
            "repos_url": "https://api.github.com/users/zucchini-nlp/repos",
            "events_url": "https://api.github.com/users/zucchini-nlp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zucchini-nlp/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-05T18:43:59Z",
          "updated_at": "2025-02-05T18:43:59Z",
          "author_association": "MEMBER",
          "body": "@yaswanth19 super cool to see a draft PR!\r\n\r\nYeah, that reminds me of Molmo is modeled, also with hardcoded values for configuration. I am not sure how you usually approach testing. If you will test by matching with the actual weights, then yes, converting a config will be helpful\r\n\r\nAs a first step, I'd suggest to make a working model code and then convert weights/config. The vision backbone should be very similar to existing CLIP models, and for VQ part feel free to look at Emu3 model [here](https://github.com/huggingface/transformers/tree/main/src/transformers/models/emu3). When the model is converted, we can try to match logits and see in which modules the logits start to diverge. LMK if you are stuck in any place and need help :)\r\n\r\nBtw, I would be very interested to see if Janus can handle interleaved generation of image + text in one go \ud83d\udc40  If that's possible, would be super super nice",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2637739365/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2638863212",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2638863212",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2638863212,
          "node_id": "IC_kwDOCUB6oc6dSdts",
          "user": {
            "login": "geetu040",
            "id": 90601662,
            "node_id": "MDQ6VXNlcjkwNjAxNjYy",
            "avatar_url": "https://avatars.githubusercontent.com/u/90601662?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/geetu040",
            "html_url": "https://github.com/geetu040",
            "followers_url": "https://api.github.com/users/geetu040/followers",
            "following_url": "https://api.github.com/users/geetu040/following{/other_user}",
            "gists_url": "https://api.github.com/users/geetu040/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/geetu040/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/geetu040/subscriptions",
            "organizations_url": "https://api.github.com/users/geetu040/orgs",
            "repos_url": "https://api.github.com/users/geetu040/repos",
            "events_url": "https://api.github.com/users/geetu040/events{/privacy}",
            "received_events_url": "https://api.github.com/users/geetu040/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-06T05:20:08Z",
          "updated_at": "2025-02-06T05:20:08Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @yaswanth19, this is really nice. I am also really interested in the model, do you think I can collaborate with you on this one? I can help with the implementation.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2638863212/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2638874896",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2638874896",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2638874896,
          "node_id": "IC_kwDOCUB6oc6dSgkQ",
          "user": {
            "login": "yaswanth19",
            "id": 82788246,
            "node_id": "MDQ6VXNlcjgyNzg4MjQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/82788246?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yaswanth19",
            "html_url": "https://github.com/yaswanth19",
            "followers_url": "https://api.github.com/users/yaswanth19/followers",
            "following_url": "https://api.github.com/users/yaswanth19/following{/other_user}",
            "gists_url": "https://api.github.com/users/yaswanth19/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yaswanth19/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yaswanth19/subscriptions",
            "organizations_url": "https://api.github.com/users/yaswanth19/orgs",
            "repos_url": "https://api.github.com/users/yaswanth19/repos",
            "events_url": "https://api.github.com/users/yaswanth19/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yaswanth19/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-06T05:31:18Z",
          "updated_at": "2025-02-06T05:31:18Z",
          "author_association": "CONTRIBUTOR",
          "body": "@geetu040 Thanks for your interest and for offering to collaborate! This is quite an ambitious PR for myself, and I\u2019d like to take on the challenge of tackling it myself. That said, I\u2019ll definitely reach out if I get stuck or unable to continue working on it :)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2638874896/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2640230714",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2640230714",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2640230714,
          "node_id": "IC_kwDOCUB6oc6dXrk6",
          "user": {
            "login": "geetu040",
            "id": 90601662,
            "node_id": "MDQ6VXNlcjkwNjAxNjYy",
            "avatar_url": "https://avatars.githubusercontent.com/u/90601662?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/geetu040",
            "html_url": "https://github.com/geetu040",
            "followers_url": "https://api.github.com/users/geetu040/followers",
            "following_url": "https://api.github.com/users/geetu040/following{/other_user}",
            "gists_url": "https://api.github.com/users/geetu040/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/geetu040/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/geetu040/subscriptions",
            "organizations_url": "https://api.github.com/users/geetu040/orgs",
            "repos_url": "https://api.github.com/users/geetu040/repos",
            "events_url": "https://api.github.com/users/geetu040/events{/privacy}",
            "received_events_url": "https://api.github.com/users/geetu040/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-06T15:58:29Z",
          "updated_at": "2025-02-06T15:58:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "> @geetu040 Thanks for your interest and for offering to collaborate! This is quite an ambitious PR for myself, and I\u2019d like to take on the challenge of tackling it myself. That said, I\u2019ll definitely reach out if I get stuck or unable to continue working on it :)\r\n\r\nSure, understood, I wish you a very Good Luck.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2640230714/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2642005909",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2642005909",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2642005909,
          "node_id": "IC_kwDOCUB6oc6dec-V",
          "user": {
            "login": "hsilva664",
            "id": 9905080,
            "node_id": "MDQ6VXNlcjk5MDUwODA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9905080?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hsilva664",
            "html_url": "https://github.com/hsilva664",
            "followers_url": "https://api.github.com/users/hsilva664/followers",
            "following_url": "https://api.github.com/users/hsilva664/following{/other_user}",
            "gists_url": "https://api.github.com/users/hsilva664/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hsilva664/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hsilva664/subscriptions",
            "organizations_url": "https://api.github.com/users/hsilva664/orgs",
            "repos_url": "https://api.github.com/users/hsilva664/repos",
            "events_url": "https://api.github.com/users/hsilva664/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hsilva664/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-07T05:52:47Z",
          "updated_at": "2025-02-07T05:52:47Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hello @yaswanth19. I understand that you want to do it by yourself. Yet, I'd like to insist on collaboration a bit further. I've spent a bit of time this week on reproducing their virtual environment and running their generative and understanding modes of Janus for 1B and 7B models on rented GPUs, as well as reading the original Janus paper, the SigLip paper (i.e. the \"understanding\" image encoder) and the LlamaGen paper (from which they take the generative image tokenizer). I was somewhat busy in this specific week, so did not have a lot of time for this. Still, I was about to start reading their code before trying to collaborate on integrating. As I've spent some time on this already, are you OK with trying to work together?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2642005909/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2643334639",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2643334639",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2643334639,
          "node_id": "IC_kwDOCUB6oc6djhXv",
          "user": {
            "login": "yaswanth19",
            "id": 82788246,
            "node_id": "MDQ6VXNlcjgyNzg4MjQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/82788246?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yaswanth19",
            "html_url": "https://github.com/yaswanth19",
            "followers_url": "https://api.github.com/users/yaswanth19/followers",
            "following_url": "https://api.github.com/users/yaswanth19/following{/other_user}",
            "gists_url": "https://api.github.com/users/yaswanth19/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yaswanth19/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yaswanth19/subscriptions",
            "organizations_url": "https://api.github.com/users/yaswanth19/orgs",
            "repos_url": "https://api.github.com/users/yaswanth19/repos",
            "events_url": "https://api.github.com/users/yaswanth19/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yaswanth19/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-07T16:01:26Z",
          "updated_at": "2025-02-07T16:01:26Z",
          "author_association": "CONTRIBUTOR",
          "body": "@hsilva664 Cool! since you have already made some progress IG we are on the same page. Let's start with implementing the Modular version. Janus has three components SigLip, VQ model, Llama - If I not wrong SigLip and Llama are staright forward with so I can pick those two and will create the structure and processor w.r.t. Now the middle part which is a VQ model ; you can start working on that. The reason I am insisting this way is that VQ model is a bit ambigous as I am not much familiar with that (Best case scenario we can inherit all the components for this model from existing ones :) ). Hence trying to code up the familiar part first and then iterate to match logits. WDYT?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2643334639/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2643394715",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2643394715",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2643394715,
          "node_id": "IC_kwDOCUB6oc6djwCb",
          "user": {
            "login": "hsilva664",
            "id": 9905080,
            "node_id": "MDQ6VXNlcjk5MDUwODA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9905080?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hsilva664",
            "html_url": "https://github.com/hsilva664",
            "followers_url": "https://api.github.com/users/hsilva664/followers",
            "following_url": "https://api.github.com/users/hsilva664/following{/other_user}",
            "gists_url": "https://api.github.com/users/hsilva664/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hsilva664/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hsilva664/subscriptions",
            "organizations_url": "https://api.github.com/users/hsilva664/orgs",
            "repos_url": "https://api.github.com/users/hsilva664/repos",
            "events_url": "https://api.github.com/users/hsilva664/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hsilva664/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-07T16:23:13Z",
          "updated_at": "2025-02-07T16:23:13Z",
          "author_association": "CONTRIBUTOR",
          "body": "That works. Also, on the Janus paper (the original one, not Janus pro), they state that they use DeepSeek-LLM (1.3B), not Llama, I think on Janus Pro they keep it that way, but change it to 7B. It is the VQ paper that uses Llama + the autoregressive decoder.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2643394715/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2655334259",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2655334259",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2655334259,
          "node_id": "IC_kwDOCUB6oc6eRS9z",
          "user": {
            "login": "hsilva664",
            "id": 9905080,
            "node_id": "MDQ6VXNlcjk5MDUwODA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9905080?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hsilva664",
            "html_url": "https://github.com/hsilva664",
            "followers_url": "https://api.github.com/users/hsilva664/followers",
            "following_url": "https://api.github.com/users/hsilva664/following{/other_user}",
            "gists_url": "https://api.github.com/users/hsilva664/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hsilva664/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hsilva664/subscriptions",
            "organizations_url": "https://api.github.com/users/hsilva664/orgs",
            "repos_url": "https://api.github.com/users/hsilva664/repos",
            "events_url": "https://api.github.com/users/hsilva664/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hsilva664/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-13T02:51:21Z",
          "updated_at": "2025-02-13T02:51:21Z",
          "author_association": "CONTRIBUTOR",
          "body": "@zucchini-nlp I've added a preliminary version of the VQ part to [a clone](https://github.com/hsilva664/transformers/tree/yaswanth19-add-janus-model) of @yaswanth19 branch and am trying to set up a simple test code that will be used for checking weights/activations consistency with the original Janus model in the future (still have to import their weight values). From what I can gather, it seems that in HF the common practice is to have a JINJA template to convert between a list of dicts such as:\r\n\r\n```\r\nconversation = [\r\n    {\r\n        \"role\": \"user\",\r\n        \"content\": [\r\n            {\"type\": \"image\"},\r\n            {\"type\": \"text\", \"text\": \"What\u2019s shown in this image?\"},\r\n            ],\r\n    },\r\n    {\r\n        \"role\": \"assistant\",\r\n        \"content\": [{\"type\": \"text\", \"text\": \"This image shows a red stop sign.\"},]\r\n    },\r\n    {\r\n\r\n        \"role\": \"user\",\r\n        \"content\": [\r\n            {\"type\": \"text\", \"text\": \"Describe the image in more details.\"},\r\n        ],\r\n    },\r\n]\r\n```\r\n\r\nTo the processed string that will then be tokenized. This template seems to usually be stored on the hub, in JSON files like [this one](https://huggingface.co/llava-hf/llava-1.5-7b-hf/blob/main/chat_template.json). On their codebase, they have this conversion done by a Python module instead (see [here](https://github.com/deepseek-ai/Janus/blob/main/janus/utils/conversation.py), they use the template called \"deepseek\"). Just to confirm, should I change that format to a JINJA template, or would it be something \"normal\" to keep it like what they are doing (they call a function manually to convert the list inside the processor)? Was something similar to this done somewhere, so I can base myself on it (it is OK if not)?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2655334259/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2655800120",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2655800120",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2655800120,
          "node_id": "IC_kwDOCUB6oc6eTEs4",
          "user": {
            "login": "yaswanth19",
            "id": 82788246,
            "node_id": "MDQ6VXNlcjgyNzg4MjQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/82788246?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yaswanth19",
            "html_url": "https://github.com/yaswanth19",
            "followers_url": "https://api.github.com/users/yaswanth19/followers",
            "following_url": "https://api.github.com/users/yaswanth19/following{/other_user}",
            "gists_url": "https://api.github.com/users/yaswanth19/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yaswanth19/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yaswanth19/subscriptions",
            "organizations_url": "https://api.github.com/users/yaswanth19/orgs",
            "repos_url": "https://api.github.com/users/yaswanth19/repos",
            "events_url": "https://api.github.com/users/yaswanth19/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yaswanth19/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-13T08:03:20Z",
          "updated_at": "2025-02-13T08:04:06Z",
          "author_association": "CONTRIBUTOR",
          "body": "@hsilva664 We have to create the jinja template. I have created one just for model testing purposes and it needs some corrections.\r\n\r\n```\r\n{\r\n    \"chat_template\": \"{% for message in messages %}{{ message['role'].capitalize() + ': '}}{% for content in message['content'] %}{% if content['type'] == 'text' %}{{ content['text'] }}{% endif %}{% endfor %}{% if not loop.last %}\\n\\n{% endif %}{% endfor %}\"\r\n  }\r\n```\r\n\r\nMy testing Conversation = [{\"role\":\"User\",\r\n  \"content\":[{'type':\"text\",\"text\":\"<image_placeholder>\\nConvert the formula into latex code.\\n\"}]},\r\n  {\"role\": \"Assistant\", \"content\": \" \"},\r\n]  \r\n\r\nFirst of all this template doesn't account for new line chars before and after applying to conv. In the sense- to match the input_ids with original implementation we have to hackily use this way `system_prompt + '\\n\\n' + apply_chat_template(conv)+'\\n'`. \r\n  ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2655800120/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2657931537",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2657931537",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2657931537,
          "node_id": "IC_kwDOCUB6oc6ebNER",
          "user": {
            "login": "hsilva664",
            "id": 9905080,
            "node_id": "MDQ6VXNlcjk5MDUwODA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9905080?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hsilva664",
            "html_url": "https://github.com/hsilva664",
            "followers_url": "https://api.github.com/users/hsilva664/followers",
            "following_url": "https://api.github.com/users/hsilva664/following{/other_user}",
            "gists_url": "https://api.github.com/users/hsilva664/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hsilva664/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hsilva664/subscriptions",
            "organizations_url": "https://api.github.com/users/hsilva664/orgs",
            "repos_url": "https://api.github.com/users/hsilva664/repos",
            "events_url": "https://api.github.com/users/hsilva664/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hsilva664/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-13T23:38:21Z",
          "updated_at": "2025-02-13T23:38:21Z",
          "author_association": "CONTRIBUTOR",
          "body": "About the random initialization of weights (e.g. `EmuVQVAE.__init_weights__` or `Emu3PreTrainedModel.__init_weights__` in [this file](https://github.com/huggingface/transformers/blob/main/src/transformers/models/emu3/modular_emu3.py)). Are these meant to be used when the user wants to train from scratch (otherwise these would just be overwritten by the pretrained weights and serve no purpose...)? If so, unless I missed something, the Janus implementation does nothing like that and just leaves the default torch initialization. Should I do the same?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2657931537/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2661566869",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2661566869",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2661566869,
          "node_id": "IC_kwDOCUB6oc6epEmV",
          "user": {
            "login": "yaswanth19",
            "id": 82788246,
            "node_id": "MDQ6VXNlcjgyNzg4MjQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/82788246?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yaswanth19",
            "html_url": "https://github.com/yaswanth19",
            "followers_url": "https://api.github.com/users/yaswanth19/followers",
            "following_url": "https://api.github.com/users/yaswanth19/following{/other_user}",
            "gists_url": "https://api.github.com/users/yaswanth19/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yaswanth19/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yaswanth19/subscriptions",
            "organizations_url": "https://api.github.com/users/yaswanth19/orgs",
            "repos_url": "https://api.github.com/users/yaswanth19/repos",
            "events_url": "https://api.github.com/users/yaswanth19/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yaswanth19/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-16T18:48:11Z",
          "updated_at": "2025-02-16T19:49:05Z",
          "author_association": "CONTRIBUTOR",
          "body": "In the original implementation for Image generation they are generating a token and then applying `Classifier Free Guidance` after which processing it through some layers. But for text generation task it's using the HF implementation of `generate` function. AFAIK it won't be possible to have a single `generate` function for both these functionalities (Image+Text -> Text and Text->Image). \r\n\r\nAlso I don't think it can perform Interleaved generation as mentioned by one of the authors [[LINK](https://huggingface.co/papers/2410.13848#67128c580f6cb5b1308e1528)]. For image generation they are explicitly adding <begin_of_image> tag to let the model know to generate image related logits. So I not sure how to add this image generation logic (In generate and prompt creation) without hampering the text generation functionality. One hack I can think of; is to use a flag where user explicitly mentions to generate image and we can process accordingly.\r\n\r\n@zucchini-nlp Would like your thoughts on this issue and attached the image generation inference file below.\r\n\r\nhttps://github.com/deepseek-ai/Janus/blob/1daa72fa409002d40931bd7b36a9280362469ead/generation_inference.py#L94",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2661566869/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2662567705",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2662567705",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2662567705,
          "node_id": "IC_kwDOCUB6oc6es48Z",
          "user": {
            "login": "zucchini-nlp",
            "id": 100715397,
            "node_id": "U_kgDOBgDLhQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/100715397?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zucchini-nlp",
            "html_url": "https://github.com/zucchini-nlp",
            "followers_url": "https://api.github.com/users/zucchini-nlp/followers",
            "following_url": "https://api.github.com/users/zucchini-nlp/following{/other_user}",
            "gists_url": "https://api.github.com/users/zucchini-nlp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zucchini-nlp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zucchini-nlp/subscriptions",
            "organizations_url": "https://api.github.com/users/zucchini-nlp/orgs",
            "repos_url": "https://api.github.com/users/zucchini-nlp/repos",
            "events_url": "https://api.github.com/users/zucchini-nlp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zucchini-nlp/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-17T09:43:15Z",
          "updated_at": "2025-02-17T09:43:30Z",
          "author_association": "MEMBER",
          "body": "@hsilva664 \r\n\r\n> Are these meant to be used when the user wants to train from scratch (otherwise these would just be overwritten by the pretrained weights and serve no purpose...)?\r\n\r\nYep, only for training from scratch and for some internal tests when a dummy model is init. If Janus uses a different initialization, you can add it in `_init_weights` \r\n\r\n\r\n@yaswanth19 really interesting point, didn't know Janus would add more layers after CFG \ud83d\ude43 We have CFG in transformers, so it won't be a big problem. For the rest of layers we can override `generate()` and smth like below, WDYT?\r\n\r\n\r\n```python\r\ndef generate(self, input_ids, **kwargs):\r\n    # if generating text, just call super() \r\n    if kwargs.get(\"generation_mode\", None) == \"text\":\r\n        return super().generate(*input_ids, *kwargs)\r\n    \r\n    # Otherwise do custom logic, and rely only on greedy/sampling methods\r\n    # Beam search, etc not supported\r\n\r\n    # So some preprocessing, same as in `generation/utils.py`. Feel free to look at how MusicGen does it\r\n    # Would have been nice to have self.prepare_for_generate(), planned and was low priority\r\n    # I think since we have Janus planned, we can raise the priority a bit\r\n    generation_config = ....\r\n\r\n    for i in range(generation_config.max_new_tokens):\r\n        next_token_outputs = super()._sample(input_ids, max_new_tokens=1 **kwargs)\r\n        input_ids = self.layers_after_CFG(next_token_outputs)\r\n    return next_token_outputs\r\n```\r\n\r\n\r\ncc @gante we're having first image generation model that doesn't work with `generate()` as is. I believe refactoring generation to tiny functions will help. We need to allow users to apply any pre/post-processing before and after the next token is sampled. So after separating out prefill and decoding, we can add an umbrella `self.get_next_token` maybe, though it will be hard to make it work with beam search and assisted decoding \ud83d\ude22 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2662567705/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2664770334",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2664770334",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2664770334,
          "node_id": "IC_kwDOCUB6oc6e1Sse",
          "user": {
            "login": "yaswanth19",
            "id": 82788246,
            "node_id": "MDQ6VXNlcjgyNzg4MjQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/82788246?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yaswanth19",
            "html_url": "https://github.com/yaswanth19",
            "followers_url": "https://api.github.com/users/yaswanth19/followers",
            "following_url": "https://api.github.com/users/yaswanth19/following{/other_user}",
            "gists_url": "https://api.github.com/users/yaswanth19/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yaswanth19/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yaswanth19/subscriptions",
            "organizations_url": "https://api.github.com/users/yaswanth19/orgs",
            "repos_url": "https://api.github.com/users/yaswanth19/repos",
            "events_url": "https://api.github.com/users/yaswanth19/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yaswanth19/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-18T06:59:51Z",
          "updated_at": "2025-02-18T06:59:51Z",
          "author_association": "CONTRIBUTOR",
          "body": "@zucchini-nlp WDYT on image quality. Just wanted to confirm as you were a bit hesitant for ANOLE Model. These images are generated using original implementation itself (in worst case we can match it). The upper row images are generated using `Janus-Pro 7B` whereas the bottom row using `1B` variant.\r\n\r\n**Prompt 1:** Generate an image of a snowman.\r\n**Prompt 2:** A close-up high-contrast photo of Sydney Opera House sitting next to Eiffel tower, under a blue night sky of roiling energy, exploding yellow stars, and radiating swirls of blue.\r\n \r\n<img width=\"762\" alt=\"image\" src=\"https://github.com/user-attachments/assets/dd2beb9a-a2c4-43ad-a39b-e64a7a2f75fc\" />\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2664770334/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2664902695",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2664902695",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2664902695,
          "node_id": "IC_kwDOCUB6oc6e1zAn",
          "user": {
            "login": "zucchini-nlp",
            "id": 100715397,
            "node_id": "U_kgDOBgDLhQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/100715397?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zucchini-nlp",
            "html_url": "https://github.com/zucchini-nlp",
            "followers_url": "https://api.github.com/users/zucchini-nlp/followers",
            "following_url": "https://api.github.com/users/zucchini-nlp/following{/other_user}",
            "gists_url": "https://api.github.com/users/zucchini-nlp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zucchini-nlp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zucchini-nlp/subscriptions",
            "organizations_url": "https://api.github.com/users/zucchini-nlp/orgs",
            "repos_url": "https://api.github.com/users/zucchini-nlp/repos",
            "events_url": "https://api.github.com/users/zucchini-nlp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zucchini-nlp/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-18T08:17:29Z",
          "updated_at": "2025-02-18T08:17:29Z",
          "author_association": "MEMBER",
          "body": "@yaswanth19 yeah, looks good to me. The problem with Anole was that it would generate black screen or just some abstraction, instead of the image you asked. So as long as the requested image content in there, I'm oke :)\r\n\r\nBtw, how long does it take to generate one image and how many tokens is that?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2664902695/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2664966714",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2664966714",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2664966714,
          "node_id": "IC_kwDOCUB6oc6e2Co6",
          "user": {
            "login": "yaswanth19",
            "id": 82788246,
            "node_id": "MDQ6VXNlcjgyNzg4MjQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/82788246?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yaswanth19",
            "html_url": "https://github.com/yaswanth19",
            "followers_url": "https://api.github.com/users/yaswanth19/followers",
            "following_url": "https://api.github.com/users/yaswanth19/following{/other_user}",
            "gists_url": "https://api.github.com/users/yaswanth19/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yaswanth19/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yaswanth19/subscriptions",
            "organizations_url": "https://api.github.com/users/yaswanth19/orgs",
            "repos_url": "https://api.github.com/users/yaswanth19/repos",
            "events_url": "https://api.github.com/users/yaswanth19/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yaswanth19/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-18T08:48:29Z",
          "updated_at": "2025-02-18T08:48:40Z",
          "author_association": "CONTRIBUTOR",
          "body": "@zucchini-nlp I was comparing the generated images to SOTA diffusion models and was afraid the quality was not good \ud83d\ude05\r\n> Btw, how long does it take to generate one image and how many tokens is that?\r\n\r\nEach image is divided into 576 tokens and 1B variant took ~2 to 4 min in full precision locally whereas 7B took ~10 to 15 min",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2664966714/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2664982782",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2664982782",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2664982782,
          "node_id": "IC_kwDOCUB6oc6e2Gj-",
          "user": {
            "login": "zucchini-nlp",
            "id": 100715397,
            "node_id": "U_kgDOBgDLhQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/100715397?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zucchini-nlp",
            "html_url": "https://github.com/zucchini-nlp",
            "followers_url": "https://api.github.com/users/zucchini-nlp/followers",
            "following_url": "https://api.github.com/users/zucchini-nlp/following{/other_user}",
            "gists_url": "https://api.github.com/users/zucchini-nlp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zucchini-nlp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zucchini-nlp/subscriptions",
            "organizations_url": "https://api.github.com/users/zucchini-nlp/orgs",
            "repos_url": "https://api.github.com/users/zucchini-nlp/repos",
            "events_url": "https://api.github.com/users/zucchini-nlp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zucchini-nlp/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-18T08:55:22Z",
          "updated_at": "2025-02-18T08:55:22Z",
          "author_association": "MEMBER",
          "body": "Hehe, nah, I don't expected autoregressive image generation to be better yet. Thanks, ~500 tokens isn't too bad. We can try to see how to get some speed ups later, 10-15 min is a lot (unless it was on CPU)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2664982782/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2672184433",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2672184433",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2672184433,
          "node_id": "IC_kwDOCUB6oc6fRkxx",
          "user": {
            "login": "yaswanth19",
            "id": 82788246,
            "node_id": "MDQ6VXNlcjgyNzg4MjQ2",
            "avatar_url": "https://avatars.githubusercontent.com/u/82788246?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yaswanth19",
            "html_url": "https://github.com/yaswanth19",
            "followers_url": "https://api.github.com/users/yaswanth19/followers",
            "following_url": "https://api.github.com/users/yaswanth19/following{/other_user}",
            "gists_url": "https://api.github.com/users/yaswanth19/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yaswanth19/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yaswanth19/subscriptions",
            "organizations_url": "https://api.github.com/users/yaswanth19/orgs",
            "repos_url": "https://api.github.com/users/yaswanth19/repos",
            "events_url": "https://api.github.com/users/yaswanth19/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yaswanth19/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-20T17:26:22Z",
          "updated_at": "2025-02-20T17:48:57Z",
          "author_association": "CONTRIBUTOR",
          "body": "@zucchini-nlp One minor hiccup is how to get the `generation_mode` in modelling file. We have to use that argument in processor as depending on text/image generation we will format the prompt and use it in modelling to generate accordingly. Letting the User pass the same argument in `processor` and `generate` is not ideal. I can think of user passing that arg in Processor and we will be setting it  in Janusconfig. Then read that argument from Janus config. WDYT of the flow?\r\n\r\nPS: For image generation we will add <begin_of_Image> tag at end letting model know to generate image tokens AFAIK.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2672184433/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2673877975",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2673877975",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2673877975,
          "node_id": "IC_kwDOCUB6oc6fYCPX",
          "user": {
            "login": "zucchini-nlp",
            "id": 100715397,
            "node_id": "U_kgDOBgDLhQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/100715397?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zucchini-nlp",
            "html_url": "https://github.com/zucchini-nlp",
            "followers_url": "https://api.github.com/users/zucchini-nlp/followers",
            "following_url": "https://api.github.com/users/zucchini-nlp/following{/other_user}",
            "gists_url": "https://api.github.com/users/zucchini-nlp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zucchini-nlp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zucchini-nlp/subscriptions",
            "organizations_url": "https://api.github.com/users/zucchini-nlp/orgs",
            "repos_url": "https://api.github.com/users/zucchini-nlp/repos",
            "events_url": "https://api.github.com/users/zucchini-nlp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zucchini-nlp/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-21T08:19:27Z",
          "updated_at": "2025-02-21T08:19:27Z",
          "author_association": "MEMBER",
          "body": "@yaswanth19 I don't think it's a good idea to magically infer which generation mode is used when calling `generate()`, nor changing the model config file with processor. If the only difference in image-gen mode if the BOI token, then let's just delegate it to generation time by `ForceBOSToken` logits processor. Otherwise, imo it's oke to ask users to explicitly set generation mode and processing mode",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2673877975/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2675238710",
          "html_url": "https://github.com/huggingface/transformers/pull/36053#issuecomment-2675238710",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36053",
          "id": 2675238710,
          "node_id": "IC_kwDOCUB6oc6fdOc2",
          "user": {
            "login": "hsilva664",
            "id": 9905080,
            "node_id": "MDQ6VXNlcjk5MDUwODA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9905080?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hsilva664",
            "html_url": "https://github.com/hsilva664",
            "followers_url": "https://api.github.com/users/hsilva664/followers",
            "following_url": "https://api.github.com/users/hsilva664/following{/other_user}",
            "gists_url": "https://api.github.com/users/hsilva664/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hsilva664/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hsilva664/subscriptions",
            "organizations_url": "https://api.github.com/users/hsilva664/orgs",
            "repos_url": "https://api.github.com/users/hsilva664/repos",
            "events_url": "https://api.github.com/users/hsilva664/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hsilva664/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-21T18:16:14Z",
          "updated_at": "2025-02-21T18:16:14Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hello @zucchini-nlp . Me and @yaswanth19  just want to confirm something about the chat template. Each of us started doing it a different way and now we want to be all on the same page to adapt the code accordingly. Both of them work and it is just a matter of preference. The way I was doing it was the following: the template is passed in the following format (I'll already put interleaved images, as this is the most general case)\r\n\r\n```\r\nmessages = [{\r\n    \"role\": \"user\",\r\n    \"content\": [\r\n        {\"type\": \"text\", \"text\": \"What\u2019s the difference between \"},\r\n        {\"type\": \"image\"},\r\n        {\"type\": \"text\", \"text\": \" and \"},\r\n        {\"type\": \"image\"},\r\n         {\"type\": \"text\", \"text\": \"?\"},\r\n    ],\r\n},\r\n{\r\n    \"role\": \"assitant\",\r\n    \"content\": [\r\n        {\"type\": \"text\", \"text\": \"XXXXXX\"}\r\n    ],\r\n},\r\n...\r\n]\r\n```\r\n\r\nWhich the user would then process as follows:\r\n\r\n```\r\ntext = processor.apply_chat_template(messages, add_generation_prompt=False)\r\n```\r\n\r\nWhich--following the format in the Janus codebase--becomes:\r\n\r\n```\r\n<|User|>: What\u2019s the difference between \r\n<image_placeholder>\r\nand \r\n<image_placeholder>\r\n\r\n<|Assistant|>: XXXXXX<\uff5cend\u2581of\u2581sentence\uff5c>...\r\n```\r\n\r\nThen, text is to be passed to the tokenizer, then model... I did it like this mostly because I was reading Llava code and thought it was similar. @yaswanth19  had a chat template expecting messages as follows:\r\n\r\n```\r\nmessages = [  \r\n{  \r\n\"role\": \"User\",  \r\n\"content\": \"What\u2019s the difference between\\n<image_placeholder>\\nand\\n<image_placeholder>\\n?\",  \r\n},  \r\n{\"role\": \"Assistant\", \"content\": \"XXXXXX\"},\r\n...\r\n]\r\n```\r\n\r\nWhat is the way we should stick to?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2675238710/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/21400",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/21400/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/21400/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/21400/events",
      "html_url": "https://github.com/huggingface/transformers/pull/21400",
      "id": 1565934288,
      "node_id": "PR_kwDOCUB6oc5I_727",
      "number": 21400,
      "title": "Add Pix2Struct",
      "user": {
        "login": "younesbelkada",
        "id": 49240599,
        "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
        "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/younesbelkada",
        "html_url": "https://github.com/younesbelkada",
        "followers_url": "https://api.github.com/users/younesbelkada/followers",
        "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
        "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
        "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
        "repos_url": "https://api.github.com/users/younesbelkada/repos",
        "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
        "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 8,
      "created_at": "2023-02-01T11:21:54Z",
      "updated_at": "2023-03-24T14:23:43Z",
      "closed_at": "2023-03-22T15:53:53Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/21400",
        "html_url": "https://github.com/huggingface/transformers/pull/21400",
        "diff_url": "https://github.com/huggingface/transformers/pull/21400.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/21400.patch",
        "merged_at": "2023-03-22T15:53:53Z"
      },
      "body": "# What does this PR do?\r\n\r\nFixes #20663\r\n\r\nPaper: https://arxiv.org/pdf/2210.03347.pdf\r\nCode: https://github.com/google-research/pix2struct\r\n\r\n`Pix2Struct` is a series of Image-text models that has been fine-tuned on various datasets and tasks.\r\n![Screenshot 2023-03-10 at 09 42 19](https://user-images.githubusercontent.com/49240599/224267136-389b8300-6497-4321-a6cc-d85b4f8e55d7.png)\r\n\r\nThis integration will offer users variety of models and potential use cases\r\n\r\n`Pix2Struct` is a model that combines vision encoder and text decoder, similar as T5. The method heavily relies on its image processing procedure. The image pre-proccessing differs from classic Vision Transformers by being able to handle images of variable resolution, thus being able to keep the aspect ratio of the original image, that seems to be essential and crucial for image understanding. \r\n\r\n![Screenshot 2023-03-10 at 09 47 12](https://user-images.githubusercontent.com/49240599/224268204-f97d76b4-54e4-470a-aa44-9b6c086c8369.png)\r\n\r\nTherefore I decided to change the current paradigm for getting `pixel_values` differently. Now the pixel values should be seen as tokens that are directly processed by the `ImageProcessor`. Hence, I decided to change `pixel_values` to `pixel_embeds` , as in fact they correspond to the image embeddings. We now obtain the patch embeddings directly from the processor, that is also responsible of also computing the pixel embeds attention mask.\r\n\r\nI will update all the weights (18 in total) after I get 1 approval\r\n\r\n### TODO\r\n\r\n- FIne-tuning notebook",
      "closed_by": {
        "login": "younesbelkada",
        "id": 49240599,
        "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
        "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/younesbelkada",
        "html_url": "https://github.com/younesbelkada",
        "followers_url": "https://api.github.com/users/younesbelkada/followers",
        "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
        "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
        "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
        "repos_url": "https://api.github.com/users/younesbelkada/repos",
        "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
        "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/21400/reactions",
        "total_count": 4,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 4,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/21400/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1412290790",
          "html_url": "https://github.com/huggingface/transformers/pull/21400#issuecomment-1412290790",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21400",
          "id": 1412290790,
          "node_id": "IC_kwDOCUB6oc5ULdjm",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-02-01T15:54:34Z",
          "updated_at": "2023-03-22T15:57:13Z",
          "author_association": "NONE",
          "body": "_The documentation is not available anymore as the PR was closed or merged._",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1412290790/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1460602239",
          "html_url": "https://github.com/huggingface/transformers/pull/21400#issuecomment-1460602239",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21400",
          "id": 1460602239,
          "node_id": "IC_kwDOCUB6oc5XDwV_",
          "user": {
            "login": "ankrgyl",
            "id": 565363,
            "node_id": "MDQ6VXNlcjU2NTM2Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/565363?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ankrgyl",
            "html_url": "https://github.com/ankrgyl",
            "followers_url": "https://api.github.com/users/ankrgyl/followers",
            "following_url": "https://api.github.com/users/ankrgyl/following{/other_user}",
            "gists_url": "https://api.github.com/users/ankrgyl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ankrgyl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ankrgyl/subscriptions",
            "organizations_url": "https://api.github.com/users/ankrgyl/orgs",
            "repos_url": "https://api.github.com/users/ankrgyl/repos",
            "events_url": "https://api.github.com/users/ankrgyl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ankrgyl/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-08T17:58:41Z",
          "updated_at": "2023-03-08T17:58:41Z",
          "author_association": "CONTRIBUTOR",
          "body": "@younesbelkada @ArthurZucker \ud83d\udc4b how is this PR going? Do you need some help to get it over the finish line? Happy to collab if helpful.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1460602239/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1462672903",
          "html_url": "https://github.com/huggingface/transformers/pull/21400#issuecomment-1462672903",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21400",
          "id": 1462672903,
          "node_id": "IC_kwDOCUB6oc5XLp4H",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-09T19:43:35Z",
          "updated_at": "2023-03-09T19:46:22Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ankrgyl \r\nThanks so much for proposing your help on this PR! \r\n\r\nI fixed now few tests related to batched generation and addressed most of @ArthurZucker 's comments. The architecture is completely ready to use if someone wants to perform conditional and unconditional image captionning!\r\nI wanted to work on a fine-tuning notebook similar as this one: https://colab.research.google.com/drive/1lbqiSiA0sDF7JDWPeS0tccrM85LloVha?usp=sharing as it boosts quite a lot the usage of the model ! \r\nIMO the things that are left are:\r\n1- Making a notebook for Pix2Struct using the base model (that is currently pushed here: https://huggingface.co/ybelkada/pix2struct-textcaps-base \r\n2- Address the last comments\r\n3- Push the correct conversion script \r\n4- Push the remaining weights (I can do that only after one approval)\r\nIf you want, you can help me on 1, if you have some doubts about your modification you can just run the integration tests: \r\n```bash\r\nRUN_SLOW=1 pytest tests/models/pix2struct/test_modeling_pix2struct.py::Pix2StructIntegrationTest\r\n```\r\nand make sure they pass!\r\n\r\nI am aiming to merge this at most by beginning of next week ! Let me know if you want to help on those, otherwise happy to continue the PR \ud83d\udcaa \r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1462672903/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1462811026",
          "html_url": "https://github.com/huggingface/transformers/pull/21400#issuecomment-1462811026",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21400",
          "id": 1462811026,
          "node_id": "IC_kwDOCUB6oc5XMLmS",
          "user": {
            "login": "ankrgyl",
            "id": 565363,
            "node_id": "MDQ6VXNlcjU2NTM2Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/565363?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ankrgyl",
            "html_url": "https://github.com/ankrgyl",
            "followers_url": "https://api.github.com/users/ankrgyl/followers",
            "following_url": "https://api.github.com/users/ankrgyl/following{/other_user}",
            "gists_url": "https://api.github.com/users/ankrgyl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ankrgyl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ankrgyl/subscriptions",
            "organizations_url": "https://api.github.com/users/ankrgyl/orgs",
            "repos_url": "https://api.github.com/users/ankrgyl/repos",
            "events_url": "https://api.github.com/users/ankrgyl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ankrgyl/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-09T20:59:36Z",
          "updated_at": "2023-03-09T20:59:36Z",
          "author_association": "CONTRIBUTOR",
          "body": "It looks like you've got it under control so I'll bow out, but happy to test!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1462811026/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1463494868",
          "html_url": "https://github.com/huggingface/transformers/pull/21400#issuecomment-1463494868",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21400",
          "id": 1463494868,
          "node_id": "IC_kwDOCUB6oc5XOyjU",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-10T09:09:30Z",
          "updated_at": "2023-03-10T09:09:30Z",
          "author_association": "CONTRIBUTOR",
          "body": "I think I have addressed most of the comments! \r\nI also updated the PR description and would love to have a round of review! \r\ncc @amyeroberts @ArthurZucker ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1463494868/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1465791256",
          "html_url": "https://github.com/huggingface/transformers/pull/21400#issuecomment-1465791256",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21400",
          "id": 1465791256,
          "node_id": "IC_kwDOCUB6oc5XXjMY",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-13T09:29:17Z",
          "updated_at": "2023-03-13T09:31:54Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks @amyeroberts for the extensive review! Should have addressed most of them and left some open questions\r\nRegarding the new naming `patches`, I am not 100% convinced about that, users needs to see these input as a new paradigm that is equivalent to text tokens (as there are also attention masks in this new input) but applied to images, and I am afraid `patches` will confuse users as the shape of this input would be hard to interpret `bs x seq_len x hidden_dim` (with `hidden_dim=num_channels x patch_width x patch_height`.)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1465791256/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1467859440",
          "html_url": "https://github.com/huggingface/transformers/pull/21400#issuecomment-1467859440",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21400",
          "id": 1467859440,
          "node_id": "IC_kwDOCUB6oc5XfcHw",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-14T10:49:33Z",
          "updated_at": "2023-03-14T10:49:33Z",
          "author_association": "CONTRIBUTOR",
          "body": "As disccused offline, let's stick for `flattened_patches` ! I should have fixed your comments by now and added support for `vqa` models in `Pix2struct` as they require a specific format / way of inferring",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1467859440/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1473925951",
          "html_url": "https://github.com/huggingface/transformers/pull/21400#issuecomment-1473925951",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21400",
          "id": 1473925951,
          "node_id": "IC_kwDOCUB6oc5X2lM_",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-17T14:26:07Z",
          "updated_at": "2023-03-17T14:26:07Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks a mile for the extensive review! \ud83d\ude80  So from what I have got from your comment: https://github.com/huggingface/transformers/pull/21400#discussion_r1137690655 I removed the `data_format` argument\r\nWould love to have a last round of review \ud83d\udcaa ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1473925951/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/25786/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/25786/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/25786/events",
      "html_url": "https://github.com/huggingface/transformers/pull/25786",
      "id": 1868615299,
      "node_id": "PR_kwDOCUB6oc5Y38Zi",
      "number": 25786,
      "title": "Implementation of SuperPoint and AutoModelForInterestPointDescription",
      "user": {
        "login": "sbucaille",
        "id": 24275548,
        "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
        "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sbucaille",
        "html_url": "https://github.com/sbucaille",
        "followers_url": "https://api.github.com/users/sbucaille/followers",
        "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
        "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
        "organizations_url": "https://api.github.com/users/sbucaille/orgs",
        "repos_url": "https://api.github.com/users/sbucaille/repos",
        "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sbucaille/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 37,
      "created_at": "2023-08-27T20:05:43Z",
      "updated_at": "2024-03-19T21:33:24Z",
      "closed_at": "2024-03-10T08:07:39Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/25786",
        "html_url": "https://github.com/huggingface/transformers/pull/25786",
        "diff_url": "https://github.com/huggingface/transformers/pull/25786.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/25786.patch",
        "merged_at": null
      },
      "body": "# What does this PR do?\r\n\r\nThis PR implements SuperPoint, one of the few models that generate keypoints and descriptors given an image, as discussed in [this previous pull request](https://github.com/huggingface/transformers/pull/25697)\r\nThe goal is to implement this model and a new type of AutoModel : `AutoModelForInterestPointDescription` (name to be discussed).\r\n\r\n\r\n## Who can review?\r\n\r\n@amyeroberts @ArthurZucker \r\n\r\n## TODO's\r\n\r\n- [x] Implement SuperPointConfig and SuperPointModel as PretrainedConfig and PretrainedModel\r\n- [x] Generate a conversion script for the original weights\r\n- [x] Implement the new `AutoModelForInterestPointDescription` mapping\r\n- [x] Test the model\r\n- [x] Write documentation\r\n\r\n",
      "closed_by": {
        "login": "github-actions[bot]",
        "id": 41898282,
        "node_id": "MDM6Qm90NDE4OTgyODI=",
        "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/github-actions%5Bbot%5D",
        "html_url": "https://github.com/apps/github-actions",
        "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
        "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
        "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
        "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
        "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
        "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
        "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
        "type": "Bot",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/25786/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/25786/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1694763939",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1694763939",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1694763939,
          "node_id": "IC_kwDOCUB6oc5lBAuj",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-08-27T21:16:21Z",
          "updated_at": "2023-08-27T21:16:21Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts I have some questions about the implementation and AutoModel classes.\r\n\r\nFirst of all, I try to follow as much as possible the patterns I see in other model implementations (resnet or convnextv2 for example), but unlike these models, SuperPoint really only have one function or \"mode\" here, just to output the keypoints, their scores and descriptors. This is why I only implemented SuperPoint as a `SuperPointModelForInterestPointDescription`, so there is no `SuperPointModel` anymore, does that seem ok ?\r\n\r\nThen I added this `SuperPointModelForInterestPointDescription` class in a new mapping dictionary in the modeling_auto file and added the appropriate AutoModel class for this. But is this kind of changes usually the output of an automated script for model registration or adding it by hand is appropriate ?\r\n\r\nFinally, \r\n\r\n> In that PR, we can also add a mapping AutoModelForInterestPointDescription, which we define as taking two images and returning interest keypoints and their descriptions.\r\n\r\nApart from adding the AutoModelForInterestPointDescription, I couldn't find how to define such inputs and outputs, is it a new pipeline I should define or something else ?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1694763939/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1714567326",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1714567326",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1714567326,
          "node_id": "IC_kwDOCUB6oc5mMjie",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-11T20:56:33Z",
          "updated_at": "2023-09-11T20:56:33Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @sbucaille, \r\n\r\nThis is a bit of a special case. For other models which only perform a single task, what we normally do is just have `XxxModel`. I'd suggest doing this. We can still add `AutoModelForInterestPointDescription` and have `SuperPointModel`  loaded by it",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1714567326/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1716111918",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1716111918",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1716111918,
          "node_id": "IC_kwDOCUB6oc5mScou",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-12T17:03:05Z",
          "updated_at": "2023-09-12T17:03:05Z",
          "author_association": "COLLABORATOR",
          "body": "@sbucaille From next week, I'll be off for a few weeks. If you have vision-specific questions, please ping @rafaelpadilla; for implementation questions @ArthurZucker. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1716111918/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1728467488",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1728467488",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1728467488,
          "node_id": "IC_kwDOCUB6oc5nBlIg",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-20T21:44:13Z",
          "updated_at": "2023-09-20T21:44:13Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker, I added the SuperPointImageProcessor as part of the code because SuperPoint requires a grayscale image as input. But when I added the tests I have the test_call_pil which fails and give me a very weird when it reaches these lines \r\n```\r\ntests/models/superpoint/test_image_processing_superpoint.py:43: in prepare_image_inputs\r\n    return prepare_image_inputs(\r\ntests/test_image_processing_common.py:64: in prepare_image_inputs\r\n    image_inputs = [Image.fromarray(np.moveaxis(image, 0, -1)) for image in image_inputs]\r\ntests/test_image_processing_common.py:64: in <listcomp>\r\n    image_inputs = [Image.fromarray(np.moveaxis(image, 0, -1)) for image in image_inputs]\r\n```\r\nwith the following error : \r\n```\r\n            except KeyError as e:\r\n                msg = \"Cannot handle this data type: %s, %s\" % typekey\r\n>               raise TypeError(msg) from e\r\nE               TypeError: Cannot handle this data type: (1, 1, 1), |u1\r\n```\r\n\r\nNot sure what causes the problem as I tried to compare with tests made with the ConvNextImageProcessor which does not raise any error.\r\n\r\nAnyway, I continue on the implementation, let me know if I'm missing anything. I'll write the documentation for all the code I've previously pushed.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1728467488/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1730176446",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1730176446",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1730176446,
          "node_id": "IC_kwDOCUB6oc5nIGW-",
          "user": {
            "login": "rafaelpadilla",
            "id": 31217453,
            "node_id": "MDQ6VXNlcjMxMjE3NDUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/31217453?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rafaelpadilla",
            "html_url": "https://github.com/rafaelpadilla",
            "followers_url": "https://api.github.com/users/rafaelpadilla/followers",
            "following_url": "https://api.github.com/users/rafaelpadilla/following{/other_user}",
            "gists_url": "https://api.github.com/users/rafaelpadilla/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rafaelpadilla/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rafaelpadilla/subscriptions",
            "organizations_url": "https://api.github.com/users/rafaelpadilla/orgs",
            "repos_url": "https://api.github.com/users/rafaelpadilla/repos",
            "events_url": "https://api.github.com/users/rafaelpadilla/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rafaelpadilla/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-21T19:31:39Z",
          "updated_at": "2023-09-21T19:31:39Z",
          "author_association": "CONTRIBUTOR",
          "body": "\r\n\r\n\r\n\r\n> Hi @ArthurZucker, I added the SuperPointImageProcessor as part of the code because SuperPoint requires a grayscale image as input. But when I added the tests I have the test_call_pil which fails and give me a very weird when it reaches these lines\r\n> \r\n> ```\r\n> tests/models/superpoint/test_image_processing_superpoint.py:43: in prepare_image_inputs\r\n>     return prepare_image_inputs(\r\n> tests/test_image_processing_common.py:64: in prepare_image_inputs\r\n>     image_inputs = [Image.fromarray(np.moveaxis(image, 0, -1)) for image in image_inputs]\r\n> tests/test_image_processing_common.py:64: in <listcomp>\r\n>     image_inputs = [Image.fromarray(np.moveaxis(image, 0, -1)) for image in image_inputs]\r\n> ```\r\n> \r\n> with the following error :\r\n> \r\n> ```\r\n>             except KeyError as e:\r\n>                 msg = \"Cannot handle this data type: %s, %s\" % typekey\r\n> >               raise TypeError(msg) from e\r\n> E               TypeError: Cannot handle this data type: (1, 1, 1), |u1\r\n> ```\r\n> \r\n> Not sure what causes the problem as I tried to compare with tests made with the ConvNextImageProcessor which does not raise any error.\r\n> \r\n> Anyway, I continue on the implementation, let me know if I'm missing anything. I'll write the documentation for all the code I've previously pushed.\r\n\r\nHi @sbucaille, \ud83d\ude42\r\n\r\nA quick help with that issue: \r\n\r\nI see that your processing converts all images to grayscale ([here](https://github.com/huggingface/transformers/blob/28e7d59ab920741ac7f52923f39d1a9680ca3911/src/transformers/models/superpoint/image_processing_superpoint.py#L209C29-L209C49)) and tests are failing [here](https://github.com/huggingface/transformers/blob/000e52aec8850d3fe2f360adc6fd256e5b47fe4c/tests/test_image_processing_common.py#L64C24-L64C94).\r\n\r\nThe root cause is that the `convert_to_grayscale` function returns a 1-channel image (luminance) as [here](https://github.com/huggingface/transformers/blob/28e7d59ab920741ac7f52923f39d1a9680ca3911/src/transformers/image_transforms.py#L787C5-L788C1). So, when it is later converted to a numpy array, it will turn to be a 1-channel image, making the test fail.\r\n\r\nThis has been discussed in PR #25767 and is not fully solved yet.\r\n\r\nA quick solution for this issue in your code may be possible. See that a 1 single channel image is definetely grayscale, but if the 3 channels in an RGB image are equal (R==G and G==B), the image is also noted as grayscale. So, if you replicate the channels of your 1-channel grayscale image [as in here](https://github.com/huggingface/transformers/blob/79f53921de5bd15ef7f4cdd83fd94d2b4cb8f63b/src/transformers/image_utils.py#L178), this issue can be solved. However, SuperPoint would need to be adapted for that -> you would only need to consider one of the RGB channels, as they are equal.\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1730176446/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1732327880",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1732327880",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1732327880,
          "node_id": "IC_kwDOCUB6oc5nQTnI",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-23T14:15:02Z",
          "updated_at": "2023-09-23T14:15:46Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @rafaelpadilla and @ArthurZucker  ,\r\nThanks @rafaelpadilla for the heads up, I adapted SuperPointModel and SuperPointImageProcessor to cover this issue. SuperPointImageProcessor now generates a 3-channel grayscaled image from a given image as input and SuperPointModel extracts one of the channels to perform the forward method. Although it may be necessary to change that in the future when 1-channel images will be supported (if it is planned to).\r\nI added docs, as well as remaining integration tests for the AutoModelForInterestPointDescription.\r\nI think the implementation is complete.\r\n\r\n@ArthurZucker, please let me know what I'm missing in the implementation ! :slightly_smiling_face: \r\nAlthough I have some questions : \r\n- What should I do with the SuperPointModel and SuperPointModelForInterestPointDescription as both are basically the same, should I only keep the latter one ?\r\n- Regarding docs, there is a mention of `expected_output` is `@add_code_sample_docstrings`. I decided not to provide such information since output is dynamic, depending on the number of keypoints found. Should I keep it like that or there is a way to provide a \"dynamic shape\" to this function ?\r\n- Regarding tests, I have the `test_model_is_small` failing, what should I do about it ? And is `test_retain_grad_hidden_states_attentions` related to models that can be trained ? If so we should probably skip it since SuperPoint can't be trained, also it does not have attentions.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1732327880/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1733497702",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1733497702",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1733497702,
          "node_id": "IC_kwDOCUB6oc5nUxNm",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-25T11:41:08Z",
          "updated_at": "2023-09-25T11:41:56Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi,\r\nWhen adding the docs to the code on this Saturday, I started thinking, maybe late, about the licence of SuperPoint and got an answer from an original contributor, Paul-Edouard Sarlin.\r\nIt turns out it can't be used for commercial use. I am not very familiar with legal stuff like these, but does it compromise this PR ? Or, from the HuggingFace perspective, adding the licence as in the original repo is sufficient ? I added it to the [model card](https://huggingface.co/stevenbucaille/superpoint/blob/main/LICENSE) anyway.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1733497702/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1733844956",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1733844956",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1733844956,
          "node_id": "IC_kwDOCUB6oc5nWF_c",
          "user": {
            "login": "rafaelpadilla",
            "id": 31217453,
            "node_id": "MDQ6VXNlcjMxMjE3NDUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/31217453?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rafaelpadilla",
            "html_url": "https://github.com/rafaelpadilla",
            "followers_url": "https://api.github.com/users/rafaelpadilla/followers",
            "following_url": "https://api.github.com/users/rafaelpadilla/following{/other_user}",
            "gists_url": "https://api.github.com/users/rafaelpadilla/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rafaelpadilla/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rafaelpadilla/subscriptions",
            "organizations_url": "https://api.github.com/users/rafaelpadilla/orgs",
            "repos_url": "https://api.github.com/users/rafaelpadilla/repos",
            "events_url": "https://api.github.com/users/rafaelpadilla/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rafaelpadilla/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-25T14:36:57Z",
          "updated_at": "2023-09-25T14:36:57Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Hi, When adding the docs to the code on this Saturday, I started thinking, maybe late, about the licence of SuperPoint and got an answer from an original contributor, Paul-Edouard Sarlin. It turns out it can't be used for commercial use. I am not very familiar with legal stuff like these, but does it compromise this PR ? Or, from the HuggingFace perspective, adding the licence as in the original repo is sufficient ? I added it to the [model card](https://huggingface.co/stevenbucaille/superpoint/blob/main/LICENSE) anyway.\r\n\r\nHi @sbucaille,\r\n\r\nIt seems that the original code is under MIT license. If it is the case, you just need to add the MIT license on the top of the files, as done in [graphormer](https://github.com/huggingface/transformers/blob/0ee45906845c8d58b9bd2df5acd90e09b00047ff/docs/source/en/model_doc/graphormer.md?plain=1#L3C1-L3C32) and [IDEFICS](https://github.com/huggingface/transformers/blob/0ee45906845c8d58b9bd2df5acd90e09b00047ff/src/transformers/models/idefics/perceiver.py#L1-L23).\r\n\r\nThe checkpoints seem to be under a non-commercial customized license. So, as you have already added the License [here](https://huggingface.co/stevenbucaille/superpoint/blob/main/LICENSE), you just need to set `inference: false` in the card as done in [owlvit-large-patch14](https://huggingface.co/google/owlvit-large-patch14/blob/main/README.md) and [musicgen-large](https://huggingface.co/facebook/musicgen-large/blob/main/README.md). ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1733844956/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1734493284",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1734493284",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1734493284,
          "node_id": "IC_kwDOCUB6oc5nYkRk",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-25T21:32:53Z",
          "updated_at": "2023-09-25T21:32:53Z",
          "author_association": "CONTRIBUTOR",
          "body": "I figured out the two remaining tests I asked were not in the scope of SuperPoint. Ready for review :hugs: ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1734493284/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1738074266",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1738074266",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1738074266,
          "node_id": "IC_kwDOCUB6oc5nmOia",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-27T21:03:09Z",
          "updated_at": "2023-09-27T21:03:09Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @rafaelpadilla @ArthurZucker,\r\nI was about to start working again on the other [pull request](https://github.com/huggingface/transformers/pull/25697) I made earlier about SuperGlue, which for reminder, uses SuperPoint as a keypoint detector, and uses these keypoints to match them. While I was trying things around I was thinking about the case where we have batched images.\r\nSuperPoint, and as a consequence SuperGlue, does not support batched images, since the output for a given image is an arbitrary number of keypoints, which are different for every image, hence the resulting keypoint tensors can't be batched back together.\r\nI added in the tests that the batch size needs to be one in order for the tests to succeed, but there is no batch verification made when multiple images are fed into `SuperPointModel`.\r\nI have two suggestions to handle this problem :\r\n- Raise an error as soon as SuperPoint detects that we fed `pixel_values` with a batch_size > 1\r\n- Support image batching by decomposing the batched `pixel_values`, detecting the keypoints from one image at a time and compose back the keypoints. Again, two possibilities :\r\n  - By changing `ImagePointDescriptionOutput` so that it returns a list of `torch.IntTensor` for `keypoints`, `scores` and `descriptors` which are individually of different shapes (which to be honest I don't really like)\r\n  - By keeping `ImagePointDescriptionOutput` identical but make `keypoints`, `scores` and `descriptors` batched together with shape looking like : \r\n    - `[batch_size, SuperPointConfig.max_keypoints, 2]`\r\n    - `[batch_size, SuperPointConfig.max_keypoints]`\r\n    - `[batch_size, 256, SuperPointConfig.max_keypoints]` \r\nOr : \r\n    - `[batch_size, maximum_found_keypoints, 2]`\r\n    - `[batch_size, maximum_found_keypoints]`\r\n    - `[batch_size, 256, maximum_found_keypoints]` \r\nin case `SuperPointConfig.max_keypoints == -1` with `maximum_found_keypoints` being the maximum number of keypoints found for an image in the given batch. In this case, we would fill values generated by the broadcast with 0's or -1's which would need to be pruned away in a later stage, for example in an ImageMatching pipeline. Alternatively, we could add a 4th tensor which would be binary and tell what values are actual keypoint information or filled values.\r\n\r\nLet me know what you think, maybe adding batching can be a future step and we can deal with single images for now by raising errors. \r\nI'm not very familiar with the existing implemented pipelines, but another suggestion may be the support of batching by adding the aforementioned suggestions in a pipeline, which would prevent us from adding this kind of behavior inside the models themselves. We could consider using the pipeline as the only way of using SuperPoint and other ModelForInterestPointDescription with multiple images batched together. Also, if we apply this behavior in the models themselves, potentially, we would need to support batching for all of them in the future, leading to repetitive code to be implemented.\r\n\r\nI hope the suggestions are clear, as at some point I wrote them down as I was thinking, let me know what you think ! :slightly_smiling_face: ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1738074266/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1739405983",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1739405983",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1739405983,
          "node_id": "IC_kwDOCUB6oc5nrTqf",
          "user": {
            "login": "rafaelpadilla",
            "id": 31217453,
            "node_id": "MDQ6VXNlcjMxMjE3NDUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/31217453?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rafaelpadilla",
            "html_url": "https://github.com/rafaelpadilla",
            "followers_url": "https://api.github.com/users/rafaelpadilla/followers",
            "following_url": "https://api.github.com/users/rafaelpadilla/following{/other_user}",
            "gists_url": "https://api.github.com/users/rafaelpadilla/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rafaelpadilla/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rafaelpadilla/subscriptions",
            "organizations_url": "https://api.github.com/users/rafaelpadilla/orgs",
            "repos_url": "https://api.github.com/users/rafaelpadilla/repos",
            "events_url": "https://api.github.com/users/rafaelpadilla/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rafaelpadilla/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-28T14:42:36Z",
          "updated_at": "2023-09-28T14:42:36Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @sbucaille ,\r\n\r\nThank you for raising this discussion. \ud83d\ude42\r\n\r\nI think supporting batch > 1 is a good idea. So, the size of the `keypoints`, `scores` and `descriptors` in all images within the batch should match. For that, I would opt for:\r\n* `keypoints` -> `[batch_size, SuperPointConfig.max_keypoints, 2]`\r\n* `scores` -> `[batch_size, SuperPointConfig.max_keypoints]` or explicitly `[batch_size, SuperPointConfig.max_keypoints, 1]`\r\n* `descriptors` -> `[batch_size, SuperPointConfig.max_keypoints, 256]`\r\n\r\nI would make the last dimension to represent the size of the data itself.\r\n\r\nDefining the shapes of these vectors with `SuperPointConfig.max_keypoints` instead of `maximum_found_keypoints` will keep consistency when other/different images are input with the same configuration.\r\n\r\nI would also use a 4th mask vector made of `bool` (`mask -> [batch_size, SuperPointConfig.max_keypoints]` to inform if the information should be used for that particular image or not.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1739405983/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1745380600",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1745380600",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1745380600,
          "node_id": "IC_kwDOCUB6oc5oCGT4",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-03T17:02:21Z",
          "updated_at": "2023-10-03T17:02:21Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @rafaelpadilla ,\r\nChanges have been made to support batching. I added the logic of batching individual inferences inside the SuperPointModel itself. In the future, for example in the implementation of a model like DISK, the same logic could be extracted into a dedicated function where, given a list of keypoints, scores and descriptors, return a batched version of it along a mask tensor.\r\nAbout the `SuperPointConfig.max_keypoints`, the batching logic do not use the config parameter since SuperPoint outputs are already \"filtered\" by this parameter in the forward method.\r\n\r\nLet me know what should be done next, but in the meantime, I think it's ready to get reviewed.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1745380600/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1748435536",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1748435536",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1748435536,
          "node_id": "IC_kwDOCUB6oc5oNwJQ",
          "user": {
            "login": "rafaelpadilla",
            "id": 31217453,
            "node_id": "MDQ6VXNlcjMxMjE3NDUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/31217453?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rafaelpadilla",
            "html_url": "https://github.com/rafaelpadilla",
            "followers_url": "https://api.github.com/users/rafaelpadilla/followers",
            "following_url": "https://api.github.com/users/rafaelpadilla/following{/other_user}",
            "gists_url": "https://api.github.com/users/rafaelpadilla/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rafaelpadilla/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rafaelpadilla/subscriptions",
            "organizations_url": "https://api.github.com/users/rafaelpadilla/orgs",
            "repos_url": "https://api.github.com/users/rafaelpadilla/repos",
            "events_url": "https://api.github.com/users/rafaelpadilla/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rafaelpadilla/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-05T09:03:30Z",
          "updated_at": "2023-10-05T09:03:30Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @sbucaille ,\r\n\r\nThank you! I will do the first review on your PR. :) ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1748435536/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1758593346",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1758593346",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1758593346,
          "node_id": "IC_kwDOCUB6oc5o0gFC",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-11T21:46:50Z",
          "updated_at": "2023-10-11T21:46:50Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @rafaelpadilla ,\r\nI resolved most of the comments you and left answers on unresolved ones. Gotta say I'm a bit ashamed of all the missing types I let through :laughing: \r\nI have a problem with the merging conflict of the index.md I had. At first I wanted to retrieve an updated index.md file so I synced my fork with the main branch. But for some reason now when I run `make repo-consistency`, I have the following error : \r\n```\r\nValueError: There was at least one problem when checking docstrings of public objects.\r\nThe following objects docstrings do not match their signature. Run `make fix-copies` to fix this.\r\n- TFRegNetForImageClassification\r\n- TFRegNetModel\r\nmake: *** [Makefile:46: repo-consistency] Error 1\r\n```\r\n\r\nwhich does not seem to be related to my code and maybe the result of my synchronization. I'll try tomorrow to \"unsync\" my fork and revert it to the previous state.\r\n\r\nAnyway, thanks for the quick review !",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1758593346/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1759583423",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1759583423",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1759583423,
          "node_id": "IC_kwDOCUB6oc5o4Ry_",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-12T13:08:45Z",
          "updated_at": "2023-10-12T13:08:45Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @rafaelpadilla , turns out I am not the only one having this error in `make repo-consistency` with the TFRegNetModel, (see #26643).\r\nI pushed a last commit that makes all the tests regarding SuperPoint passed. The other tests not passing do not seem to be because of my code, unless I'm wrong.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1759583423/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1759808563",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1759808563",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1759808563,
          "node_id": "IC_kwDOCUB6oc5o5Iwz",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-12T15:14:41Z",
          "updated_at": "2023-10-12T15:14:41Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @sbucaille Are you also using Mac? Could you run `pip freeze` and copy-paste the results?\r\n\r\nAre you able to run `pip install -U -e .[dev]` (please try this in a new fresh python env., if you want to do it).",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1759808563/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1759952759",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1759952759",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1759952759,
          "node_id": "IC_kwDOCUB6oc5o5r93",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-12T16:23:33Z",
          "updated_at": "2023-10-12T16:23:33Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Hi @sbucaille Are you also using Mac? Could you run `pip freeze` and copy-paste the results?\r\n> \r\n> Are you able to run `pip install -U -e .[dev]` (please try this in a new fresh python env., if you want to do it).\r\n\r\nHi @ydshieh ,\r\nI posted this comment right after creating a new env from this exact same command, and I'm running it in Ubuntu. I believe this is related to the main branch.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1759952759/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1760006278",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1760006278",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1760006278,
          "node_id": "IC_kwDOCUB6oc5o55CG",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-12T16:58:35Z",
          "updated_at": "2023-10-12T16:58:35Z",
          "author_association": "COLLABORATOR",
          "body": "Could you run `transformers-cli env` and copy paste the output.\r\n\r\nAlso, after the installation, run `pip freeze` and copy paste the output.\r\n\r\nThank you in advance!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1760006278/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1760110550",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1760110550",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1760110550,
          "node_id": "IC_kwDOCUB6oc5o6SfW",
          "user": {
            "login": "sbucaille",
            "id": 24275548,
            "node_id": "MDQ6VXNlcjI0Mjc1NTQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24275548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sbucaille",
            "html_url": "https://github.com/sbucaille",
            "followers_url": "https://api.github.com/users/sbucaille/followers",
            "following_url": "https://api.github.com/users/sbucaille/following{/other_user}",
            "gists_url": "https://api.github.com/users/sbucaille/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sbucaille/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sbucaille/subscriptions",
            "organizations_url": "https://api.github.com/users/sbucaille/orgs",
            "repos_url": "https://api.github.com/users/sbucaille/repos",
            "events_url": "https://api.github.com/users/sbucaille/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sbucaille/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-12T18:02:00Z",
          "updated_at": "2023-10-12T18:02:00Z",
          "author_association": "CONTRIBUTOR",
          "body": "```\r\n\u276f transformers-cli env\r\n2023-10-12 20:01:13.177759: W tensorflow/compiler/tf2tensorrt/utils/py_utils.cc:38] TF-TRT Warning: Could not find TensorRT\r\nWARNING:tensorflow:From /home/steven/PycharmProjects/transformers/src/transformers/commands/env.py:100: is_gpu_available (from tensorflow.python.framework.test_util) is deprecated and will be removed in a future version.\r\nInstructions for updating:\r\nUse `tf.config.list_physical_devices('GPU')` instead.\r\n2023-10-12 20:01:14.165161: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1960] Cannot dlopen some GPU libraries. Please make sure the missing libraries mentioned above are installed properly if you would like to use GPU. Follow the guide at https://www.tensorflow.org/install/gpu for how to download and setup the required libraries for your platform.\r\nSkipping registering GPU devices...\r\nNo GPU/TPU found, falling back to CPU. (Set TF_CPP_MIN_LOG_LEVEL=0 and rerun for more info.)\r\n\r\nCopy-and-paste the text below in your GitHub issue and FILL OUT the two last points.\r\n\r\n- `transformers` version: 4.35.0.dev0\r\n- Platform: Linux-5.19.0-46-generic-x86_64-with-glibc2.35\r\n- Python version: 3.10.12\r\n- Huggingface_hub version: 0.16.4\r\n- Safetensors version: 0.3.2\r\n- Accelerate version: 0.23.0\r\n- Accelerate config: \tnot found\r\n- PyTorch version (GPU?): 2.0.1+cu117 (True)\r\n- Tensorflow version (GPU?): 2.13.0 (False)\r\n- Flax version (CPU?/GPU?/TPU?): 0.7.0 (cpu)\r\n- Jax version: 0.4.13\r\n- JaxLib version: 0.4.13\r\n- Using GPU in script?: <fill in>\r\n- Using distributed or parallel set-up in script?: <fill in>\r\n```\r\n\r\n```\r\n\u276f pip freeze\r\nabsl-py==2.0.0\r\naccelerate==0.23.0\r\naiohttp==3.8.5\r\naiosignal==1.3.1\r\nalembic==1.12.0\r\nansi2html==1.8.0\r\nAPScheduler==3.10.4\r\narrow==1.2.3\r\nastunparse==1.6.3\r\nasync-timeout==4.0.3\r\nattrs==23.1.0\r\naudioread==3.0.0\r\nav==9.2.0\r\nBabel==2.12.1\r\nbackoff==1.11.1\r\nbeautifulsoup4==4.12.2\r\nbinaryornot==0.4.4\r\nblack==23.9.1\r\ncachetools==5.3.1\r\ncertifi==2023.7.22\r\ncffi==1.15.1\r\nchardet==5.2.0\r\ncharset-normalizer==3.2.0\r\nchex==0.1.7\r\nclick==8.1.7\r\nclldutils==3.20.0\r\ncmaes==0.10.0\r\ncmake==3.27.5\r\ncodecarbon==1.2.0\r\ncolorama==0.4.6\r\ncolorlog==6.7.0\r\ncookiecutter==1.7.3\r\ncsvw==3.1.3\r\ndash==2.13.0\r\ndash-bootstrap-components==1.5.0\r\ndash-core-components==2.0.0\r\ndash-html-components==2.0.0\r\ndash-table==5.0.0\r\ndatasets==2.14.5\r\ndecorator==5.1.1\r\ndecord==0.6.0\r\ndill==0.3.4\r\ndlinfo==1.2.1\r\ndm-tree==0.1.8\r\netils==1.5.0\r\nevaluate==0.4.0\r\nexceptiongroup==1.1.3\r\nexecnet==2.0.2\r\nfaiss-cpu==1.7.4\r\nfastjsonschema==2.18.0\r\nfilelock==3.12.2\r\nfire==0.5.0\r\nFlask==2.2.5\r\nflatbuffers==23.5.26\r\nflax==0.7.0\r\nfrozenlist==1.4.0\r\nfsspec==2023.6.0\r\nfugashi==1.3.0\r\ngast==0.4.0\r\ngitdb==4.0.10\r\nGitPython==3.1.18\r\ngoogle-auth==2.23.0\r\ngoogle-auth-oauthlib==1.0.0\r\ngoogle-pasta==0.2.0\r\ngql==3.4.1\r\ngraphql-core==3.2.3\r\ngreenlet==2.0.2\r\ngrpcio==1.58.0\r\nh5py==3.9.0\r\nhf-doc-builder==0.4.0\r\nhuggingface-hub==0.16.4\r\nhypothesis==6.87.0\r\nidna==3.4\r\nimportlib-resources==6.1.0\r\niniconfig==2.0.0\r\nipadic==1.0.0\r\nisodate==0.6.1\r\nisort==5.12.0\r\nitsdangerous==2.1.2\r\njax==0.4.13\r\njaxlib==0.4.13\r\nJinja2==3.1.2\r\njinja2-time==0.2.0\r\njoblib==1.3.2\r\njsonschema==4.19.1\r\njsonschema-specifications==2023.7.1\r\njupyter_core==5.3.1\r\nkenlm==0.2.0\r\nkeras==2.13.1\r\nkeras-core==0.1.7\r\nkeras-nlp==0.6.2\r\nlanguage-tags==1.2.0\r\nlazy_loader==0.3\r\nlibclang==16.0.6\r\nlibrosa==0.10.1\r\nlit==17.0.1\r\nllvmlite==0.41.0\r\nlxml==4.9.3\r\nMako==1.2.4\r\nMarkdown==3.4.4\r\nmarkdown-it-py==3.0.0\r\nMarkupSafe==2.1.3\r\nmdurl==0.1.2\r\nml-dtypes==0.3.1\r\nmpmath==1.3.0\r\nmsgpack==1.0.6\r\nmultidict==6.0.4\r\nmultiprocess==0.70.12.2\r\nmypy-extensions==1.0.0\r\nnamex==0.0.7\r\nnbformat==5.9.2\r\nnest-asyncio==1.5.8\r\nnetworkx==3.1\r\nnltk==3.8.1\r\nnumba==0.58.0\r\nnumpy==1.24.3\r\nnvidia-cublas-cu11==11.10.3.66\r\nnvidia-cuda-cupti-cu11==11.7.101\r\nnvidia-cuda-nvrtc-cu11==11.7.99\r\nnvidia-cuda-runtime-cu11==11.7.99\r\nnvidia-cudnn-cu11==8.5.0.96\r\nnvidia-cufft-cu11==10.9.0.58\r\nnvidia-curand-cu11==10.2.10.91\r\nnvidia-cusolver-cu11==11.4.0.1\r\nnvidia-cusparse-cu11==11.7.4.91\r\nnvidia-nccl-cu11==2.14.3\r\nnvidia-nvtx-cu11==11.7.91\r\noauthlib==3.2.2\r\nonnx==1.14.1\r\nonnxconverter-common==1.13.0\r\nopt-einsum==3.3.0\r\noptax==0.1.4\r\noptuna==3.3.0\r\norbax-checkpoint==0.4.0\r\npackaging==23.1\r\npandas==2.1.1\r\nparameterized==0.9.0\r\npathspec==0.11.2\r\nphonemizer==3.2.1\r\nPillow==9.5.0\r\nplac==1.4.0\r\nplatformdirs==3.10.0\r\nplotly==5.17.0\r\npluggy==1.3.0\r\npooch==1.7.0\r\nportalocker==2.0.0\r\npoyo==0.5.0\r\nprotobuf==3.20.3\r\npsutil==5.9.5\r\npy-cpuinfo==9.0.0\r\npyarrow==13.0.0\r\npyasn1==0.5.0\r\npyasn1-modules==0.3.0\r\npycparser==2.21\r\npyctcdecode==0.5.0\r\nPygments==2.16.1\r\npygtrie==2.5.0\r\npylatexenc==2.10\r\npynvml==11.5.0\r\npyparsing==3.1.1\r\npypng==0.20220715.0\r\npytest==7.4.2\r\npytest-timeout==2.1.0\r\npytest-xdist==3.3.1\r\npython-dateutil==2.8.2\r\npython-slugify==8.0.1\r\npytz==2023.3.post1\r\nPyYAML==6.0.1\r\nray==2.7.0\r\nrdflib==7.0.0\r\nreferencing==0.30.2\r\nregex==2023.8.8\r\nrequests==2.31.0\r\nrequests-oauthlib==1.3.1\r\nrequests-toolbelt==0.10.1\r\nresponses==0.18.0\r\nretrying==1.3.4\r\nrfc3986==1.5.0\r\nrhoknp==1.3.0\r\nrich==13.5.3\r\nrjieba==0.1.11\r\nrouge-score==0.1.2\r\nrpds-py==0.10.3\r\nrsa==4.9\r\nruff==0.0.259\r\nsacrebleu==1.5.1\r\nsacremoses==0.0.53\r\nsafetensors==0.3.2\r\nscikit-learn==1.3.1\r\nscipy==1.11.2\r\nsegments==2.2.1\r\nsentencepiece==0.1.99\r\nsigopt==8.8.2\r\nsix==1.16.0\r\nsmmap==5.0.1\r\nsortedcontainers==2.4.0\r\nsoundfile==0.12.1\r\nsoupsieve==2.5\r\nsoxr==0.3.6\r\nSQLAlchemy==2.0.21\r\nSudachiDict-core==20230711\r\nSudachiPy==0.6.7\r\nsympy==1.12\r\ntabulate==0.9.0\r\ntenacity==8.2.3\r\ntensorboard==2.13.0\r\ntensorboard-data-server==0.7.1\r\ntensorboardX==2.6.2.2\r\ntensorflow==2.13.0\r\ntensorflow-estimator==2.13.0\r\ntensorflow-hub==0.14.0\r\ntensorflow-io-gcs-filesystem==0.34.0\r\ntensorflow-text==2.13.0\r\ntensorstore==0.1.44\r\ntermcolor==2.3.0\r\ntext-unidecode==1.3\r\ntf2onnx==1.15.1\r\nthreadpoolctl==3.2.0\r\ntimeout-decorator==0.5.0\r\ntimm==0.9.7\r\ntokenizers==0.14.0\r\ntomli==2.0.1\r\ntoolz==0.12.0\r\ntorch==2.0.1\r\ntorchaudio==2.0.2\r\ntorchvision==0.15.2\r\ntqdm==4.66.1\r\ntraitlets==5.10.0\r\n-e git+https://github.com/sbucaille/transformers.git@77f920f23b29ddf922beedace8ee3cf45a6ead95#egg=transformers\r\ntriton==2.0.0\r\ntyping_extensions==4.5.0\r\ntzdata==2023.3\r\ntzlocal==5.0.1\r\nunidic==1.1.0\r\nunidic-lite==1.0.8\r\nuritemplate==4.1.1\r\nurllib3==1.26.16\r\nwasabi==0.10.1\r\nWerkzeug==2.2.3\r\nwrapt==1.15.0\r\nxxhash==3.3.0\r\nyarl==1.9.2\r\nzipp==3.17.0\r\n```\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1760110550/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1761387870",
          "html_url": "https://github.com/huggingface/transformers/pull/25786#issuecomment-1761387870",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/25786",
          "id": 1761387870,
          "node_id": "IC_kwDOCUB6oc5o_KVe",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-13T11:51:01Z",
          "updated_at": "2023-10-13T12:16:39Z",
          "author_association": "COLLABORATOR",
          "body": "Hi, with your branch or the main branch, I am not able to reproduce the issue. \r\n\r\nWhat happen if you run `python3 utils/check_docstrings.py --fix_and_overwrite` instead of `make repo-consistency`. I would guess you still get the `TFRegNet` things?\r\n\r\nIf you are using the new created python environment, make sure the bash command where you use `python` is the one pointed to the new path of the python binary.\r\n\r\nOtherwise, probably it is python version cause the difference - and I have to check it.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1761387870/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/20577",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/20577/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/20577/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/20577/events",
      "html_url": "https://github.com/huggingface/transformers/pull/20577",
      "id": 1474584853,
      "node_id": "PR_kwDOCUB6oc5EPAu_",
      "number": 20577,
      "title": "Add OneFormer Model",
      "user": {
        "login": "praeclarumjj3",
        "id": 54928629,
        "node_id": "MDQ6VXNlcjU0OTI4NjI5",
        "avatar_url": "https://avatars.githubusercontent.com/u/54928629?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/praeclarumjj3",
        "html_url": "https://github.com/praeclarumjj3",
        "followers_url": "https://api.github.com/users/praeclarumjj3/followers",
        "following_url": "https://api.github.com/users/praeclarumjj3/following{/other_user}",
        "gists_url": "https://api.github.com/users/praeclarumjj3/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/praeclarumjj3/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/praeclarumjj3/subscriptions",
        "organizations_url": "https://api.github.com/users/praeclarumjj3/orgs",
        "repos_url": "https://api.github.com/users/praeclarumjj3/repos",
        "events_url": "https://api.github.com/users/praeclarumjj3/events{/privacy}",
        "received_events_url": "https://api.github.com/users/praeclarumjj3/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 16,
      "created_at": "2022-12-04T08:09:46Z",
      "updated_at": "2023-01-20T16:17:48Z",
      "closed_at": "2023-01-19T08:31:08Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/20577",
        "html_url": "https://github.com/huggingface/transformers/pull/20577",
        "diff_url": "https://github.com/huggingface/transformers/pull/20577.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/20577.patch",
        "merged_at": "2023-01-19T08:31:08Z"
      },
      "body": "# What does this PR do?\r\n\r\n<!--\r\nCongratulations! You've made it this far! You're not quite done yet though.\r\n\r\nOnce merged, your PR is going to appear in the release notes with the title you set, so make sure it's a great title that fully reflects the extent of your awesome contribution.\r\n\r\nThen, please replace this with a description of the change and which issue is fixed (if applicable). Please also include relevant motivation and context. List any dependencies (if any) that are required for this change.\r\n\r\nOnce you're done, someone will review your PR shortly (see the section \"Who can review?\" below to tag some potential reviewers). They may suggest changes to make the code even better. If no one reviewed your PR after a week has passed, don't hesitate to post a new comment @-mentioning the same persons---sometimes notifications get lost.\r\n-->\r\n\r\n<!-- Remove if not applicable -->\r\n\r\nAdds the Code, Documentation, and Tests for OneFormer proposed in [OneFormer: One Transformer to Rule Universal Image Segmentation](https://arxiv.org/abs/2211.06220). I have also opened a [PR](https://huggingface.co/datasets/huggingface/documentation-images/discussions/11) to add the documentation images to `huggingface/documentation-images`.\r\n\r\nI have also made changes to the `ImageSegmentationPipeline` to accommodate OneFormer.\r\n\r\n## Before submitting\r\n- [ ] This PR fixes a typo or improves the docs (you can dismiss the other checks if that's the case).\r\n- [x] Did you read the [contributor guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#start-contributing-pull-requests),\r\n      Pull Request section?\r\n- [ ] Was this discussed/approved via a Github issue or the [forum](https://discuss.huggingface.co/)? Please add a link\r\n      to it if that's the case.\r\n- [x] Did you make sure to update the documentation with your changes? Here are the\r\n      [documentation guidelines](https://github.com/huggingface/transformers/tree/main/docs), and\r\n      [here are tips on formatting docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).\r\n- [x] Did you write any new necessary tests?\r\n\r\n\r\n## Who can review?\r\n\r\nAnyone in the community is free to review the PR once the tests have passed. Feel free to tag\r\nmembers/contributors who may be interested in your PR.\r\n\r\n@patrickvonplaten @NielsRogge\r\n\r\n<!-- Your PR will be replied to more quickly if you can figure out the right person to tag with @\r\n\r\n If you know how to use git blame, that is the easiest way, otherwise, here is a rough guide of **who to tag**.\r\n Please tag fewer than 3 people.\r\n\r\nModels:\r\n\r\n- albert, bert, xlm: @LysandreJik\r\n- blenderbot, bart, marian, pegasus, encoderdecoder,  t5: @patrickvonplaten, @patil-suraj\r\n- longformer, reformer, transfoxl, xlnet: @patrickvonplaten\r\n- fsmt: @stas00\r\n- funnel: @sgugger\r\n- gpt2: @patrickvonplaten, @LysandreJik\r\n- rag: @patrickvonplaten, @lhoestq\r\n- tensorflow: @LysandreJik\r\n\r\nLibrary:\r\n\r\n- benchmarks: @patrickvonplaten\r\n- deepspeed: @stas00\r\n- ray/raytune: @richardliaw, @amogkam\r\n- text generation: @patrickvonplaten\r\n- tokenizers: @n1t0, @LysandreJik\r\n- trainer: @sgugger\r\n- pipelines: @LysandreJik\r\n\r\nDocumentation: @sgugger\r\n\r\nHF projects:\r\n\r\n- datasets: [different repo](https://github.com/huggingface/datasets)\r\n- rust tokenizers: [different repo](https://github.com/huggingface/tokenizers)\r\n\r\nExamples:\r\n\r\n- maintained examples (not research project or legacy): @sgugger, @patil-suraj\r\n- research_projects/bert-loses-patience: @JetRunner\r\n- research_projects/distillation: @VictorSanh\r\n\r\n -->",
      "closed_by": {
        "login": "NielsRogge",
        "id": 48327001,
        "node_id": "MDQ6VXNlcjQ4MzI3MDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48327001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NielsRogge",
        "html_url": "https://github.com/NielsRogge",
        "followers_url": "https://api.github.com/users/NielsRogge/followers",
        "following_url": "https://api.github.com/users/NielsRogge/following{/other_user}",
        "gists_url": "https://api.github.com/users/NielsRogge/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/NielsRogge/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/NielsRogge/subscriptions",
        "organizations_url": "https://api.github.com/users/NielsRogge/orgs",
        "repos_url": "https://api.github.com/users/NielsRogge/repos",
        "events_url": "https://api.github.com/users/NielsRogge/events{/privacy}",
        "received_events_url": "https://api.github.com/users/NielsRogge/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/20577/reactions",
        "total_count": 2,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 2,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/20577/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1336519926",
          "html_url": "https://github.com/huggingface/transformers/pull/20577#issuecomment-1336519926",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20577",
          "id": 1336519926,
          "node_id": "IC_kwDOCUB6oc5Pqaz2",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-04T21:19:37Z",
          "updated_at": "2023-01-19T08:33:53Z",
          "author_association": "NONE",
          "body": "_The documentation is not available anymore as the PR was closed or merged._",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1336519926/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1336979070",
          "html_url": "https://github.com/huggingface/transformers/pull/20577#issuecomment-1336979070",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20577",
          "id": 1336979070,
          "node_id": "IC_kwDOCUB6oc5PsK5-",
          "user": {
            "login": "NielsRogge",
            "id": 48327001,
            "node_id": "MDQ6VXNlcjQ4MzI3MDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/48327001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NielsRogge",
            "html_url": "https://github.com/NielsRogge",
            "followers_url": "https://api.github.com/users/NielsRogge/followers",
            "following_url": "https://api.github.com/users/NielsRogge/following{/other_user}",
            "gists_url": "https://api.github.com/users/NielsRogge/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NielsRogge/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NielsRogge/subscriptions",
            "organizations_url": "https://api.github.com/users/NielsRogge/orgs",
            "repos_url": "https://api.github.com/users/NielsRogge/repos",
            "events_url": "https://api.github.com/users/NielsRogge/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NielsRogge/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-05T08:57:30Z",
          "updated_at": "2022-12-05T08:57:30Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @praeclarumjj3, thanks a lot for your PR. It's awesome OneFormer will be available in the library (we already have [MaskFormer](https://huggingface.co/docs/transformers/model_doc/maskformer) and plan to add Mask2Former as well).\r\n\r\nI've got 2 main points for now:\r\n\r\n## Backbones\r\n\r\nHowever, there's no need to implement backbones from scratch again, as we've just added the `AutoBackbone` class, which allows to use frameworks like DETR, Mask R-CNN, and also OneFormer with all vision backbones available in the library. The idea is to add an `xxxBackbone` class to each vision model, see for instance [here](https://github.com/huggingface/transformers/blob/699e90437f984d69ad3c9b891dd2e9d0fc2cffe4/src/transformers/models/resnet/modeling_resnet.py#L434) for ResNet. \r\n\r\nNext, the framework (like OneFormer) can use the `AutoBackbone` class as shown [here](https://github.com/huggingface/transformers/blob/699e90437f984d69ad3c9b891dd2e9d0fc2cffe4/src/transformers/models/maskformer/modeling_maskformer.py#L1385) for MaskFormer. This allows to mix-and-match backbones with a given framework.\r\n\r\nThe plan is to next add `SwinBackbone`, `ConvNextBackbone`, as well as `NatBackbone` and `DinatBackbone` => which will make sure OneFormer can use them.\r\n\r\n## Auto class\r\n\r\nI doubt there's a need for an `AutoModelForUniversalSegmentation` class, as OneFormer is probably the only class which will ever be supported by it. It'd be great to make OneFormer work with our existing image segmentation pipeline (cc @Narsil). This pipeline supports instance, semantic and panoptic segmentation, and uses the appropriate postprocess method.\r\n\r\nWill soon do a more in depth review! Thanks already for all your work.\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1336979070/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1340365844",
          "html_url": "https://github.com/huggingface/transformers/pull/20577#issuecomment-1340365844",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20577",
          "id": 1340365844,
          "node_id": "IC_kwDOCUB6oc5P5FwU",
          "user": {
            "login": "praeclarumjj3",
            "id": 54928629,
            "node_id": "MDQ6VXNlcjU0OTI4NjI5",
            "avatar_url": "https://avatars.githubusercontent.com/u/54928629?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/praeclarumjj3",
            "html_url": "https://github.com/praeclarumjj3",
            "followers_url": "https://api.github.com/users/praeclarumjj3/followers",
            "following_url": "https://api.github.com/users/praeclarumjj3/following{/other_user}",
            "gists_url": "https://api.github.com/users/praeclarumjj3/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/praeclarumjj3/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/praeclarumjj3/subscriptions",
            "organizations_url": "https://api.github.com/users/praeclarumjj3/orgs",
            "repos_url": "https://api.github.com/users/praeclarumjj3/repos",
            "events_url": "https://api.github.com/users/praeclarumjj3/events{/privacy}",
            "received_events_url": "https://api.github.com/users/praeclarumjj3/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-07T04:42:46Z",
          "updated_at": "2022-12-07T04:42:46Z",
          "author_association": "CONTRIBUTOR",
          "body": "> @praateekmahajan thank you for working on this! Seems like you already made very good progress, my main comments are:\r\n> \r\n> * As Niels suggested, you can create and/or leverage the XXXBackbone classes. The SwinBackbone PR will be merged shortly so you can just focus on the DinatBackbone class.\r\n> * The current code is CUDA dependent (correct me if I'm wrong). I took a look at the paper and the Pixel Decoder seems very similar to that of Mask2Former (also uses multi-scale deformable attention). Perhaps you could use their PyTorch implementation to get rid of the CUDA scripts, here is the [relevant Mask2Former code.](https://github.com/facebookresearch/Mask2Former/blob/main/mask2former/modeling/pixel_decoder/msdeformattn.py)\r\n> * I think having a OneFormerForUniversalSegmentation class makes sense but we can add it to auto mapping for instance segmentation instead of creating a new mapping for simplicity.\r\n> \r\n> I will do a detailed review once the custom CUDA scripts are cleaned up.\r\n> \r\n> Thanks again :)\r\n\r\nThanks for the suggestions @alaradirik! I will work on using AutoBackbone classes everywhere. About the CUDA code, sure, the PyTorch code is already [there](https://github.com/praeclarumjj3/transformers/blob/cb9cba1bf6d0249401ffacfbe9eca54ba1c384c8/src/transformers/models/oneformer/modeling_oneformer.py#L1228), we just check for the presence of GPU. I will clean the CUDA files. Also, I believe you tagged the wrong person by mistake \ud83d\ude02.\r\n\r\n> I think having a OneFormerForUniversalSegmentation class makes sense but we can add it to auto mapping for instance segmentation instead of creating a new mapping for simplicity.\r\n\r\nI still think it's better to create a different `AutoMapping` class for OneFormer as it belongs to a whole new class of architecture which uses a single model for all three tasks. Is it possible for us to keep it? Hopefully, there will be follow-up works in the same direction as OneFormer's approach of training a single model.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1340365844/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1340470712",
          "html_url": "https://github.com/huggingface/transformers/pull/20577#issuecomment-1340470712",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20577",
          "id": 1340470712,
          "node_id": "IC_kwDOCUB6oc5P5fW4",
          "user": {
            "login": "alaradirik",
            "id": 8944735,
            "node_id": "MDQ6VXNlcjg5NDQ3MzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8944735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alaradirik",
            "html_url": "https://github.com/alaradirik",
            "followers_url": "https://api.github.com/users/alaradirik/followers",
            "following_url": "https://api.github.com/users/alaradirik/following{/other_user}",
            "gists_url": "https://api.github.com/users/alaradirik/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/alaradirik/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/alaradirik/subscriptions",
            "organizations_url": "https://api.github.com/users/alaradirik/orgs",
            "repos_url": "https://api.github.com/users/alaradirik/repos",
            "events_url": "https://api.github.com/users/alaradirik/events{/privacy}",
            "received_events_url": "https://api.github.com/users/alaradirik/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-07T06:43:48Z",
          "updated_at": "2022-12-07T06:43:48Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Thanks for the suggestions @alaradirik! I will work on using AutoBackbone classes everywhere. About the CUDA code, sure, the PyTorch code is already [there](https://github.com/praeclarumjj3/transformers/blob/cb9cba1bf6d0249401ffacfbe9eca54ba1c384c8/src/transformers/models/oneformer/modeling_oneformer.py#L1228),\r\n\r\nGreat, that makes things much easier then, and sorry about tagging the wrong person :)\r\n> \r\n> I still think it's better to create a different `AutoMapping` class for OneFormer as it belongs to a whole new class of architecture which uses a single model for all three tasks. Is it possible for us to keep it? Hopefully, there will be follow-up works in the same direction as OneFormer's approach of training a single model.\r\n\r\nMaskFormer and Mask2Former (in progress in another PR) also feature universal segmentation architectures and I agree that new research will likely leverage the same paradigm. In retrospect, creating an auto mapping for universal segmentation and adding MaskFormer and Mask2Former along with OneFormer might be better. @NielsRogge what do you think about this?\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1340470712/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1341848945",
          "html_url": "https://github.com/huggingface/transformers/pull/20577#issuecomment-1341848945",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20577",
          "id": 1341848945,
          "node_id": "IC_kwDOCUB6oc5P-v1x",
          "user": {
            "login": "praeclarumjj3",
            "id": 54928629,
            "node_id": "MDQ6VXNlcjU0OTI4NjI5",
            "avatar_url": "https://avatars.githubusercontent.com/u/54928629?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/praeclarumjj3",
            "html_url": "https://github.com/praeclarumjj3",
            "followers_url": "https://api.github.com/users/praeclarumjj3/followers",
            "following_url": "https://api.github.com/users/praeclarumjj3/following{/other_user}",
            "gists_url": "https://api.github.com/users/praeclarumjj3/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/praeclarumjj3/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/praeclarumjj3/subscriptions",
            "organizations_url": "https://api.github.com/users/praeclarumjj3/orgs",
            "repos_url": "https://api.github.com/users/praeclarumjj3/repos",
            "events_url": "https://api.github.com/users/praeclarumjj3/events{/privacy}",
            "received_events_url": "https://api.github.com/users/praeclarumjj3/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-08T01:34:41Z",
          "updated_at": "2022-12-14T22:55:01Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @NielsRogge @alaradirik, I have the made all the suggested changes, please let me know if I missed anything. Only one thing remains: using Autobackbone for Dinat (will do after the PR for that is merged).\r\n\r\nAlso a reminder about merging this [PR](https://huggingface.co/datasets/huggingface/documentation-images/discussions/11) for documentation images :)\r\n\r\n## Changes after Review\r\n\r\n- [x] Replace Swin backbone file with AutoBackbone\r\n- [x] Replace Dinat backbone file with AutoBackbone\r\n- [x] Remove FeatureExtractor Class.\r\n- [x] Remove CUDA dependency code.\r\n- [x] Apply suggested changes to image segmentation `task_inputs` description.\r\n- [x] Remove dataset info files and use json files hosted on hf_hub instead.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1341848945/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1351790385",
          "html_url": "https://github.com/huggingface/transformers/pull/20577#issuecomment-1351790385",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20577",
          "id": 1351790385,
          "node_id": "IC_kwDOCUB6oc5Qkq8x",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-14T17:11:36Z",
          "updated_at": "2022-12-14T17:11:36Z",
          "author_association": "COLLABORATOR",
          "body": "@praeclarumjj3 Thanks for adding this model! \u2b50 \r\n\r\n@praeclarumjj3 @NielsRogge @sgugger Yes, I think it would be better to add a `OneFormerProcessor` that contains both the tokenizer and image processor, similar to e.g. [OwlViT](https://github.com/huggingface/transformers/blob/94f8e21c7095430caa01272e16a367a421822e1c/src/transformers/models/owlvit/processing_owlvit.py#LL63C5-L63C5). In particular because the text processing is, as far as I can tell, independent of the processing of the images and it ensures accessing, loading and saving of the processing objects (tokenizer & image processor) is consistent across models. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1351790385/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1355609228",
          "html_url": "https://github.com/huggingface/transformers/pull/20577#issuecomment-1355609228",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20577",
          "id": 1355609228,
          "node_id": "IC_kwDOCUB6oc5QzPSM",
          "user": {
            "login": "praeclarumjj3",
            "id": 54928629,
            "node_id": "MDQ6VXNlcjU0OTI4NjI5",
            "avatar_url": "https://avatars.githubusercontent.com/u/54928629?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/praeclarumjj3",
            "html_url": "https://github.com/praeclarumjj3",
            "followers_url": "https://api.github.com/users/praeclarumjj3/followers",
            "following_url": "https://api.github.com/users/praeclarumjj3/following{/other_user}",
            "gists_url": "https://api.github.com/users/praeclarumjj3/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/praeclarumjj3/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/praeclarumjj3/subscriptions",
            "organizations_url": "https://api.github.com/users/praeclarumjj3/orgs",
            "repos_url": "https://api.github.com/users/praeclarumjj3/repos",
            "events_url": "https://api.github.com/users/praeclarumjj3/events{/privacy}",
            "received_events_url": "https://api.github.com/users/praeclarumjj3/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-16T21:07:29Z",
          "updated_at": "2022-12-16T21:07:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @NielsRogge @alaradirik @amyeroberts, I have made all the requested changes and added a new `OneFormerProcessor` class.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1355609228/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1359690273",
          "html_url": "https://github.com/huggingface/transformers/pull/20577#issuecomment-1359690273",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20577",
          "id": 1359690273,
          "node_id": "IC_kwDOCUB6oc5RCzoh",
          "user": {
            "login": "Narsil",
            "id": 204321,
            "node_id": "MDQ6VXNlcjIwNDMyMQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/204321?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Narsil",
            "html_url": "https://github.com/Narsil",
            "followers_url": "https://api.github.com/users/Narsil/followers",
            "following_url": "https://api.github.com/users/Narsil/following{/other_user}",
            "gists_url": "https://api.github.com/users/Narsil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Narsil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Narsil/subscriptions",
            "organizations_url": "https://api.github.com/users/Narsil/orgs",
            "repos_url": "https://api.github.com/users/Narsil/repos",
            "events_url": "https://api.github.com/users/Narsil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Narsil/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-20T16:34:12Z",
          "updated_at": "2022-12-20T16:34:12Z",
          "author_association": "CONTRIBUTOR",
          "body": "Sorry I actually pushed on this PR, I didn't mean to:\r\n\r\nhttps://github.com/huggingface/transformers/pull/20851 (For some reason I could not create a PR on top of you PR)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1359690273/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1360940788",
          "html_url": "https://github.com/huggingface/transformers/pull/20577#issuecomment-1360940788",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20577",
          "id": 1360940788,
          "node_id": "IC_kwDOCUB6oc5RHk70",
          "user": {
            "login": "sgugger",
            "id": 35901082,
            "node_id": "MDQ6VXNlcjM1OTAxMDgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/35901082?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sgugger",
            "html_url": "https://github.com/sgugger",
            "followers_url": "https://api.github.com/users/sgugger/followers",
            "following_url": "https://api.github.com/users/sgugger/following{/other_user}",
            "gists_url": "https://api.github.com/users/sgugger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sgugger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sgugger/subscriptions",
            "organizations_url": "https://api.github.com/users/sgugger/orgs",
            "repos_url": "https://api.github.com/users/sgugger/repos",
            "events_url": "https://api.github.com/users/sgugger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sgugger/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-21T07:15:55Z",
          "updated_at": "2022-12-21T07:15:55Z",
          "author_association": "COLLABORATOR",
          "body": "This PR has become too massive to be merged safely. Could you split the model addition and the pipeline addition in two different PRs?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1360940788/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1360998101",
          "html_url": "https://github.com/huggingface/transformers/pull/20577#issuecomment-1360998101",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20577",
          "id": 1360998101,
          "node_id": "IC_kwDOCUB6oc5RHy7V",
          "user": {
            "login": "Narsil",
            "id": 204321,
            "node_id": "MDQ6VXNlcjIwNDMyMQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/204321?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Narsil",
            "html_url": "https://github.com/Narsil",
            "followers_url": "https://api.github.com/users/Narsil/followers",
            "following_url": "https://api.github.com/users/Narsil/following{/other_user}",
            "gists_url": "https://api.github.com/users/Narsil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Narsil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Narsil/subscriptions",
            "organizations_url": "https://api.github.com/users/Narsil/orgs",
            "repos_url": "https://api.github.com/users/Narsil/repos",
            "events_url": "https://api.github.com/users/Narsil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Narsil/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-21T08:24:51Z",
          "updated_at": "2022-12-21T08:24:51Z",
          "author_association": "CONTRIBUTOR",
          "body": "> This PR has become too massive to be merged safely. Could you split the model addition and the pipeline addition in two different PRs?\r\n\r\n@NielsRogge do you mind taking care of it ?\r\nLet's remove my commits from this branch and just ignore the pipeline, I will then rebase my own PR on top once this is merged.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1360998101/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1361050683",
          "html_url": "https://github.com/huggingface/transformers/pull/20577#issuecomment-1361050683",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20577",
          "id": 1361050683,
          "node_id": "IC_kwDOCUB6oc5RH_w7",
          "user": {
            "login": "NielsRogge",
            "id": 48327001,
            "node_id": "MDQ6VXNlcjQ4MzI3MDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/48327001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NielsRogge",
            "html_url": "https://github.com/NielsRogge",
            "followers_url": "https://api.github.com/users/NielsRogge/followers",
            "following_url": "https://api.github.com/users/NielsRogge/following{/other_user}",
            "gists_url": "https://api.github.com/users/NielsRogge/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NielsRogge/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NielsRogge/subscriptions",
            "organizations_url": "https://api.github.com/users/NielsRogge/orgs",
            "repos_url": "https://api.github.com/users/NielsRogge/repos",
            "events_url": "https://api.github.com/users/NielsRogge/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NielsRogge/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-21T09:15:16Z",
          "updated_at": "2022-12-21T09:15:16Z",
          "author_association": "CONTRIBUTOR",
          "body": "Sure, I think @praeclarumjj3 can revert the pipeline commits since I don't have write access and then @sgugger can have a final review.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1361050683/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1361071818",
          "html_url": "https://github.com/huggingface/transformers/pull/20577#issuecomment-1361071818",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20577",
          "id": 1361071818,
          "node_id": "IC_kwDOCUB6oc5RIE7K",
          "user": {
            "login": "LysandreJik",
            "id": 30755778,
            "node_id": "MDQ6VXNlcjMwNzU1Nzc4",
            "avatar_url": "https://avatars.githubusercontent.com/u/30755778?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/LysandreJik",
            "html_url": "https://github.com/LysandreJik",
            "followers_url": "https://api.github.com/users/LysandreJik/followers",
            "following_url": "https://api.github.com/users/LysandreJik/following{/other_user}",
            "gists_url": "https://api.github.com/users/LysandreJik/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/LysandreJik/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/LysandreJik/subscriptions",
            "organizations_url": "https://api.github.com/users/LysandreJik/orgs",
            "repos_url": "https://api.github.com/users/LysandreJik/repos",
            "events_url": "https://api.github.com/users/LysandreJik/events{/privacy}",
            "received_events_url": "https://api.github.com/users/LysandreJik/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-21T09:32:44Z",
          "updated_at": "2022-12-21T09:32:44Z",
          "author_association": "MEMBER",
          "body": "@NielsRogge, are you sure you don't have write access? If @Narsil managed to push on the branch I think we should all have write access. I think it would be nice to take care of this given that @praeclarumjj3 has already done a big amount of work on the PR :) \r\n\r\nThanks a lot!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1361071818/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1362662311",
          "html_url": "https://github.com/huggingface/transformers/pull/20577#issuecomment-1362662311",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20577",
          "id": 1362662311,
          "node_id": "IC_kwDOCUB6oc5ROJOn",
          "user": {
            "login": "NielsRogge",
            "id": 48327001,
            "node_id": "MDQ6VXNlcjQ4MzI3MDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/48327001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NielsRogge",
            "html_url": "https://github.com/NielsRogge",
            "followers_url": "https://api.github.com/users/NielsRogge/followers",
            "following_url": "https://api.github.com/users/NielsRogge/following{/other_user}",
            "gists_url": "https://api.github.com/users/NielsRogge/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NielsRogge/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NielsRogge/subscriptions",
            "organizations_url": "https://api.github.com/users/NielsRogge/orgs",
            "repos_url": "https://api.github.com/users/NielsRogge/repos",
            "events_url": "https://api.github.com/users/NielsRogge/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NielsRogge/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-22T10:21:22Z",
          "updated_at": "2022-12-22T10:21:22Z",
          "author_association": "CONTRIBUTOR",
          "body": "@praeclarumjj3 opened a PR here to revert the pipeline updates: https://github.com/praeclarumjj3/transformers/pull/1",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1362662311/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1396610089",
          "html_url": "https://github.com/huggingface/transformers/pull/20577#issuecomment-1396610089",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20577",
          "id": 1396610089,
          "node_id": "IC_kwDOCUB6oc5TPpQp",
          "user": {
            "login": "NielsRogge",
            "id": 48327001,
            "node_id": "MDQ6VXNlcjQ4MzI3MDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/48327001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NielsRogge",
            "html_url": "https://github.com/NielsRogge",
            "followers_url": "https://api.github.com/users/NielsRogge/followers",
            "following_url": "https://api.github.com/users/NielsRogge/following{/other_user}",
            "gists_url": "https://api.github.com/users/NielsRogge/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NielsRogge/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NielsRogge/subscriptions",
            "organizations_url": "https://api.github.com/users/NielsRogge/orgs",
            "repos_url": "https://api.github.com/users/NielsRogge/repos",
            "events_url": "https://api.github.com/users/NielsRogge/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NielsRogge/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-19T08:31:01Z",
          "updated_at": "2023-01-19T08:31:01Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for all your work! Merging now.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1396610089/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1398574475",
          "html_url": "https://github.com/huggingface/transformers/pull/20577#issuecomment-1398574475",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20577",
          "id": 1398574475,
          "node_id": "IC_kwDOCUB6oc5TXI2L",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-20T15:40:00Z",
          "updated_at": "2023-01-20T15:40:00Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @praeclarumjj3 Thank you for adding this model! \r\n\r\nThere are a few examples in the docstrings failing the CI. For example,  in `OneFormerForUniversalSegmentation.forward`\r\n```python\r\n        >>> # you can pass them to feature_extractor for instance postprocessing\r\n        >>> predicted_instance_map = feature_extractor.post_process_instance_segmentation(\r\n```\r\nthe `feature_extractor` is not defined.\r\n\r\nWould you like to make them fixed \ud83d\ude4f ? If so, you can run the doctest like\r\n\r\n(if you have some change in the branch, stage them first)\r\n\r\n```python\r\npython3 utils/prepare_for_doc_test.py src docs\r\n```\r\nthen\r\n```bash\r\npython3 -m pytest -v --make-reports doc_tests_gpu --doctest-modules src/transformers/models/gptj/modeling_gptj.py::transformers.models.gptj.modeling_gptj.GPTJForSequenceClassification.forward -sv --doctest-continue-on-failure --doctest-glob=\"*.mdx\"\r\n```\r\nand also\r\n```bash\r\npython3 -m pytest -v --make-reports doc_tests_gpu --doctest-modules src/transformers/models/oneformer/modeling_oneformer.py::transformers.models.oneformer.modeling_oneformer.OneFormerModel.forward -sv --doctest-continue-on-failure --doctest-glob=\"*.mdx\"\r\n```\r\nAfter running the doctests, discard the change produced by `prepare_for_doc_test.py`, and see if you need more changes in the branch.\r\n\r\nDon't hesitate if you have further question, or if you could not find time on this at this moment (our team will fix it then) \ud83d\ude4f Thank you\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1398574475/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1398618995",
          "html_url": "https://github.com/huggingface/transformers/pull/20577#issuecomment-1398618995",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20577",
          "id": 1398618995,
          "node_id": "IC_kwDOCUB6oc5TXTtz",
          "user": {
            "login": "praeclarumjj3",
            "id": 54928629,
            "node_id": "MDQ6VXNlcjU0OTI4NjI5",
            "avatar_url": "https://avatars.githubusercontent.com/u/54928629?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/praeclarumjj3",
            "html_url": "https://github.com/praeclarumjj3",
            "followers_url": "https://api.github.com/users/praeclarumjj3/followers",
            "following_url": "https://api.github.com/users/praeclarumjj3/following{/other_user}",
            "gists_url": "https://api.github.com/users/praeclarumjj3/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/praeclarumjj3/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/praeclarumjj3/subscriptions",
            "organizations_url": "https://api.github.com/users/praeclarumjj3/orgs",
            "repos_url": "https://api.github.com/users/praeclarumjj3/repos",
            "events_url": "https://api.github.com/users/praeclarumjj3/events{/privacy}",
            "received_events_url": "https://api.github.com/users/praeclarumjj3/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-20T16:17:31Z",
          "updated_at": "2023-01-20T16:17:47Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ydshieh, thanks for pointing this out to me. I apologize for not fixing the docstrings in the original PR (missed the changes after changing the code in an older commit). I have opened a new PR with the inconsistencies fixed: #21215.\r\n\r\nPlease take a look and let me know if something's still broken. And thanks for letting me know about the doctests! \u270c\ud83c\udffb ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1398618995/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/24085",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/24085/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/24085/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/24085/events",
      "html_url": "https://github.com/huggingface/transformers/pull/24085",
      "id": 1746220951,
      "node_id": "PR_kwDOCUB6oc5SblmC",
      "number": 24085,
      "title": "add VITS model",
      "user": {
        "login": "hollance",
        "id": 346853,
        "node_id": "MDQ6VXNlcjM0Njg1Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/346853?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hollance",
        "html_url": "https://github.com/hollance",
        "followers_url": "https://api.github.com/users/hollance/followers",
        "following_url": "https://api.github.com/users/hollance/following{/other_user}",
        "gists_url": "https://api.github.com/users/hollance/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hollance/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hollance/subscriptions",
        "organizations_url": "https://api.github.com/users/hollance/orgs",
        "repos_url": "https://api.github.com/users/hollance/repos",
        "events_url": "https://api.github.com/users/hollance/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hollance/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1843244711,
          "node_id": "MDU6TGFiZWwxODQzMjQ0NzEx",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/New%20model",
          "name": "New model",
          "color": "fbca04",
          "default": false,
          "description": ""
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 16,
      "created_at": "2023-06-07T15:56:06Z",
      "updated_at": "2023-09-04T09:10:11Z",
      "closed_at": "2023-09-01T09:50:07Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/24085",
        "html_url": "https://github.com/huggingface/transformers/pull/24085",
        "diff_url": "https://github.com/huggingface/transformers/pull/24085.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/24085.patch",
        "merged_at": "2023-09-01T09:50:07Z"
      },
      "body": "# What does this PR do?\r\n\r\nAdds the VITS model for text-to-speech, in particular to support the MMS-TTS checkpoints (which use the same model architecture but a different tokenizer).\r\n\r\n<!--\r\nCongratulations! You've made it this far! You're not quite done yet though.\r\n\r\nOnce merged, your PR is going to appear in the release notes with the title you set, so make sure it's a great title that fully reflects the extent of your awesome contribution.\r\n\r\nThen, please replace this with a description of the change and which issue is fixed (if applicable). Please also include relevant motivation and context. List any dependencies (if any) that are required for this change.\r\n\r\nOnce you're done, someone will review your PR shortly (see the section \"Who can review?\" below to tag some potential reviewers). They may suggest changes to make the code even better. If no one reviewed your PR after a week has passed, don't hesitate to post a new comment @-mentioning the same persons---sometimes notifications get lost.\r\n-->\r\n\r\n<!-- Remove if not applicable -->\r\n\r\nFixes # (issue)\r\n\r\n\r\n## Before submitting\r\n- [ ] This PR fixes a typo or improves the docs (you can dismiss the other checks if that's the case).\r\n- [x] Did you read the [contributor guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#start-contributing-pull-requests),\r\n      Pull Request section?\r\n- [x] Was this discussed/approved via a Github issue or the [forum](https://discuss.huggingface.co/)? Please add a link\r\n      to it if that's the case.\r\n- [x] Did you make sure to update the documentation with your changes? Here are the\r\n      [documentation guidelines](https://github.com/huggingface/transformers/tree/main/docs), and\r\n      [here are tips on formatting docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).\r\n- [x] Did you write any new necessary tests?\r\n\r\n\r\n## Who can review?\r\n\r\nAnyone in the community is free to review the PR once the tests have passed. Feel free to tag\r\nmembers/contributors who may be interested in your PR.\r\n\r\n<!-- Your PR will be replied to more quickly if you can figure out the right person to tag with @\r\n\r\n If you know how to use git blame, that is the easiest way, otherwise, here is a rough guide of **who to tag**.\r\n Please tag fewer than 3 people.\r\n\r\nModels:\r\n\r\n- text models: @ArthurZucker and @younesbelkada\r\n- vision models: @amyeroberts\r\n- speech models: @sanchit-gandhi\r\n- graph models: @clefourrier\r\n\r\nLibrary:\r\n\r\n- flax: @sanchit-gandhi\r\n- generate: @gante\r\n- pipelines: @Narsil\r\n- tensorflow: @gante and @Rocketknight1\r\n- tokenizers: @ArthurZucker\r\n- trainer: @sgugger\r\n\r\nIntegrations:\r\n\r\n- deepspeed: HF Trainer/Accelerate: @pacman100\r\n- ray/raytune: @richardliaw, @amogkam\r\n\r\nDocumentation: @sgugger, @stevhliu and @MKhalusova\r\n\r\nHF projects:\r\n\r\n- accelerate: [different repo](https://github.com/huggingface/accelerate)\r\n- datasets: [different repo](https://github.com/huggingface/datasets)\r\n- diffusers: [different repo](https://github.com/huggingface/diffusers)\r\n- rust tokenizers: [different repo](https://github.com/huggingface/tokenizers)\r\n\r\nMaintained examples (not research project or legacy):\r\n\r\n- Flax: @sanchit-gandhi\r\n- PyTorch: @sgugger\r\n- TensorFlow: @Rocketknight1\r\n\r\n -->\r\n",
      "closed_by": {
        "login": "sanchit-gandhi",
        "id": 93869735,
        "node_id": "U_kgDOBZhWpw",
        "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sanchit-gandhi",
        "html_url": "https://github.com/sanchit-gandhi",
        "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
        "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
        "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
        "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
        "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
        "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/24085/reactions",
        "total_count": 1,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 1,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/24085/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1589454942",
          "html_url": "https://github.com/huggingface/transformers/pull/24085#issuecomment-1589454942",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24085",
          "id": 1589454942,
          "node_id": "IC_kwDOCUB6oc5evShe",
          "user": {
            "login": "hollance",
            "id": 346853,
            "node_id": "MDQ6VXNlcjM0Njg1Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/346853?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hollance",
            "html_url": "https://github.com/hollance",
            "followers_url": "https://api.github.com/users/hollance/followers",
            "following_url": "https://api.github.com/users/hollance/following{/other_user}",
            "gists_url": "https://api.github.com/users/hollance/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hollance/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hollance/subscriptions",
            "organizations_url": "https://api.github.com/users/hollance/orgs",
            "repos_url": "https://api.github.com/users/hollance/repos",
            "events_url": "https://api.github.com/users/hollance/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hollance/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-13T14:43:38Z",
          "updated_at": "2023-06-13T14:43:38Z",
          "author_association": "CONTRIBUTOR",
          "body": "Notes about the tokenizer:\r\n\r\n1. This is not the VITS tokenizer but the one for MMS-TTS.\r\n2. The vocab doesn't have padding (or unknown) tokens in it, but uses token_id 0 for this. That breaks on the HF tokenizers because it will split the input text on the padding token, so if I set `pad_token_id = 0` then the letters that token_id 0 corresponds to will disappear from the text.\r\n3. To fix this issue, I'm adding `<pad>` and `<unk>` to the vocab, but then in the model we set such token_ids to 0 before feeding the input into the first layer. It's a bit hacky. Ideas for a nicer solution are appreciated.\r\n4. The tokenizer also inserts an additional token_id 0 in between every token. No idea why but that's how it works.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1589454942/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1589491470",
          "html_url": "https://github.com/huggingface/transformers/pull/24085#issuecomment-1589491470",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24085",
          "id": 1589491470,
          "node_id": "IC_kwDOCUB6oc5evbcO",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-13T15:02:36Z",
          "updated_at": "2023-06-13T15:02:36Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_24085). All of your documentation changes will be reflected on that endpoint.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1589491470/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1602796809",
          "html_url": "https://github.com/huggingface/transformers/pull/24085#issuecomment-1602796809",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24085",
          "id": 1602796809,
          "node_id": "IC_kwDOCUB6oc5fiL0J",
          "user": {
            "login": "hollance",
            "id": 346853,
            "node_id": "MDQ6VXNlcjM0Njg1Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/346853?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hollance",
            "html_url": "https://github.com/hollance",
            "followers_url": "https://api.github.com/users/hollance/followers",
            "following_url": "https://api.github.com/users/hollance/following{/other_user}",
            "gists_url": "https://api.github.com/users/hollance/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hollance/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hollance/subscriptions",
            "organizations_url": "https://api.github.com/users/hollance/orgs",
            "repos_url": "https://api.github.com/users/hollance/repos",
            "events_url": "https://api.github.com/users/hollance/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hollance/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-22T15:00:20Z",
          "updated_at": "2023-06-22T15:09:09Z",
          "author_association": "CONTRIBUTOR",
          "body": "This is ready for a first review yet.\r\n\r\nTwo checkpoints are currently available:\r\n\r\n* https://huggingface.co/Matthijs/mms-tts-eng\r\n* https://huggingface.co/Matthijs/mms-tts-nld\r\n\r\nSmall usage example:\r\n\r\n```\r\nfrom transformers import VitsMmsTokenizer, VitsModel\r\nimport torch\r\n\r\ntokenizer = VitsMmsTokenizer.from_pretrained(\"Matthijs/mms-tts-eng\")\r\nmodel = VitsModel.from_pretrained(\"Matthijs/mms-tts-eng\")\r\n    \r\ninputs = tokenizer(text=\"Hello, my dog is cute\", return_tensors=\"pt\")\r\n\r\noutputs = model(inputs[\"input_ids\"])\r\nspeech = outputs.audio\r\n```\r\n\r\nThe current model is the MMS-TTS version, not the original VITS version. The conversion scripts can handle both, but for original VITS support the tokenizer is still missing.\r\n\r\nStill needs to be done: \r\n\r\n* tests\r\n* tokenizer for actual VITS \r\n\r\n@Vaibhavs10 For this review, in particular could you verify the names of the layers in the flow layers etc make sense? Thanks!\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1602796809/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1609341614",
          "html_url": "https://github.com/huggingface/transformers/pull/24085#issuecomment-1609341614",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24085",
          "id": 1609341614,
          "node_id": "IC_kwDOCUB6oc5f7Jqu",
          "user": {
            "login": "hollance",
            "id": 346853,
            "node_id": "MDQ6VXNlcjM0Njg1Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/346853?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hollance",
            "html_url": "https://github.com/hollance",
            "followers_url": "https://api.github.com/users/hollance/followers",
            "following_url": "https://api.github.com/users/hollance/following{/other_user}",
            "gists_url": "https://api.github.com/users/hollance/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hollance/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hollance/subscriptions",
            "organizations_url": "https://api.github.com/users/hollance/orgs",
            "repos_url": "https://api.github.com/users/hollance/repos",
            "events_url": "https://api.github.com/users/hollance/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hollance/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-27T11:49:30Z",
          "updated_at": "2023-06-27T11:49:30Z",
          "author_association": "CONTRIBUTOR",
          "body": "Some of the MMS-TTS checkpoints require the use of the tool `uromanize` from https://github.com/isi-nlp/uroman to convert the input script into the Latin alphabet. Since this is a separate Perl script, it is not included in Transformers and the user will have to run `uromanize.pl` themselves before using the tokenizer.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1609341614/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1609637846",
          "html_url": "https://github.com/huggingface/transformers/pull/24085#issuecomment-1609637846",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24085",
          "id": 1609637846,
          "node_id": "IC_kwDOCUB6oc5f8R_W",
          "user": {
            "login": "hollance",
            "id": 346853,
            "node_id": "MDQ6VXNlcjM0Njg1Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/346853?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hollance",
            "html_url": "https://github.com/hollance",
            "followers_url": "https://api.github.com/users/hollance/followers",
            "following_url": "https://api.github.com/users/hollance/following{/other_user}",
            "gists_url": "https://api.github.com/users/hollance/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hollance/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hollance/subscriptions",
            "organizations_url": "https://api.github.com/users/hollance/orgs",
            "repos_url": "https://api.github.com/users/hollance/repos",
            "events_url": "https://api.github.com/users/hollance/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hollance/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-27T14:35:48Z",
          "updated_at": "2023-06-27T14:35:48Z",
          "author_association": "CONTRIBUTOR",
          "body": "> I'm not too sure why I'm asked for a review here as all comments from @sanchit-gandhi are being ignored. \r\n\r\nNo they aren't?! I've integrated most of his suggestions and replied with counterarguments otherwise.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1609637846/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1612738715",
          "html_url": "https://github.com/huggingface/transformers/pull/24085#issuecomment-1612738715",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24085",
          "id": 1612738715,
          "node_id": "IC_kwDOCUB6oc5gIHCb",
          "user": {
            "login": "hollance",
            "id": 346853,
            "node_id": "MDQ6VXNlcjM0Njg1Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/346853?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hollance",
            "html_url": "https://github.com/hollance",
            "followers_url": "https://api.github.com/users/hollance/followers",
            "following_url": "https://api.github.com/users/hollance/following{/other_user}",
            "gists_url": "https://api.github.com/users/hollance/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hollance/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hollance/subscriptions",
            "organizations_url": "https://api.github.com/users/hollance/orgs",
            "repos_url": "https://api.github.com/users/hollance/repos",
            "events_url": "https://api.github.com/users/hollance/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hollance/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-29T09:51:55Z",
          "updated_at": "2023-06-29T09:51:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "Tokenizer can now handle both the original VITS models (which require phonemization) and the MMS-TTS models.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1612738715/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1613040341",
          "html_url": "https://github.com/huggingface/transformers/pull/24085#issuecomment-1613040341",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24085",
          "id": 1613040341,
          "node_id": "IC_kwDOCUB6oc5gJQrV",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-29T12:10:08Z",
          "updated_at": "2023-07-03T10:25:28Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @sgugger / @amyeroberts  - this one is ready for a review! We've got one open discussion around variable namings: https://github.com/huggingface/transformers/pull/24085#discussion_r1243884355\r\n\r\nBut otherwise the comments have been resolved and the code cleaned-up. Please address any comments / suggestions to myself, as I'll be taking over this PR for the rest of the integration",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1613040341/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1619825261",
          "html_url": "https://github.com/huggingface/transformers/pull/24085#issuecomment-1619825261",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24085",
          "id": 1619825261,
          "node_id": "IC_kwDOCUB6oc5gjJJt",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-04T08:53:45Z",
          "updated_at": "2023-07-04T08:53:45Z",
          "author_association": "CONTRIBUTOR",
          "body": "Would be really great to get your review here @amyeroberts! We're aiming to have this model feature as part of the next Unit of the audio transformers course \ud83e\udd17 https://github.com/huggingface/audio-transformers-course/pull/61",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1619825261/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1651609977",
          "html_url": "https://github.com/huggingface/transformers/pull/24085#issuecomment-1651609977",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24085",
          "id": 1651609977,
          "node_id": "IC_kwDOCUB6oc5icZF5",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-26T11:30:32Z",
          "updated_at": "2023-07-26T11:30:32Z",
          "author_association": "CONTRIBUTOR",
          "body": "This is ready for a second look @amyeroberts",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1651609977/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1684014671",
          "html_url": "https://github.com/huggingface/transformers/pull/24085#issuecomment-1684014671",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24085",
          "id": 1684014671,
          "node_id": "IC_kwDOCUB6oc5kYAZP",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-08-18T14:36:21Z",
          "updated_at": "2023-08-18T14:36:21Z",
          "author_association": "CONTRIBUTOR",
          "body": "It would be awesome to get a second look here @amyeroberts before you go on leave!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1684014671/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1685101811",
          "html_url": "https://github.com/huggingface/transformers/pull/24085#issuecomment-1685101811",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24085",
          "id": 1685101811,
          "node_id": "IC_kwDOCUB6oc5kcJzz",
          "user": {
            "login": "osanseviero",
            "id": 7246357,
            "node_id": "MDQ6VXNlcjcyNDYzNTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7246357?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/osanseviero",
            "html_url": "https://github.com/osanseviero",
            "followers_url": "https://api.github.com/users/osanseviero/followers",
            "following_url": "https://api.github.com/users/osanseviero/following{/other_user}",
            "gists_url": "https://api.github.com/users/osanseviero/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/osanseviero/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/osanseviero/subscriptions",
            "organizations_url": "https://api.github.com/users/osanseviero/orgs",
            "repos_url": "https://api.github.com/users/osanseviero/repos",
            "events_url": "https://api.github.com/users/osanseviero/events{/privacy}",
            "received_events_url": "https://api.github.com/users/osanseviero/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-08-19T20:22:08Z",
          "updated_at": "2023-08-19T20:22:31Z",
          "author_association": "CONTRIBUTOR",
          "body": "I just installed transformers from this branch, but I'm having some issues both with the provided examples and with the course code. Here is a minimal reproduction https://colab.research.google.com/drive/1nyCvTpAhS89_LgY2JdxSeCSBCbhzMWC3?usp=sharing\r\n\r\n1. With example from https://hf.co/learn/audio-course/chapter6/pre-trained_models#massive-multilingual-speech-mms\r\n\r\n```\r\nfrom transformers import VitsModel, VitsTokenizer\r\nimport torch\r\n\r\nmodel = VitsModel.from_pretrained(\"Matthijs/mms-tts-deu\")\r\ntokenizer = VitsTokenizer.from_pretrained(\"Matthijs/mms-tts-deu\")\r\n\r\ntext_example = (\r\n    \"Ich bin Schnappi das kleine Krokodil, komm aus \u00c4gypten das liegt direkt am Nil.\"\r\n)\r\n\r\ninputs = tokenizer(text_example, return_tensors=\"pt\")\r\ninput_ids = inputs[\"input_ids\"]\r\n\r\nwith torch.no_grad():\r\n    outputs = model(input_ids)\r\n\r\nspeech = outputs.audio[0]\r\n```\r\n\r\n```py\r\nreturn torch.embedding(weight, input, padding_idx, scale_grad_by_freq, sparse)\r\n```\r\n\r\nfails with index out of range\r\n\r\n2. With example from docs\r\n\r\n```python\r\nfrom transformers import VitsTokenizer\r\n\r\ntokenizer = VitsTokenizer.from_pretrained(\"sanchit-gandhi/mms-tts-eng\")\r\ninputs = tokenizer(text=\"Hello, my dog is cute\", return_tensors=\"pt\")\r\n```\r\n\r\n```\r\nValueError: Unable to create tensor, you should probably activate truncation and/or padding with 'padding=True' 'truncation=True' to have batched tensors with the same length. Perhaps your features (`input_ids` in this case) have excessive nesting (inputs type `list` where type `int` is expected).\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1685101811/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1686723466",
          "html_url": "https://github.com/huggingface/transformers/pull/24085#issuecomment-1686723466",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24085",
          "id": 1686723466,
          "node_id": "IC_kwDOCUB6oc5kiVuK",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-08-21T17:13:34Z",
          "updated_at": "2023-08-21T17:13:34Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @osanseviero - for the example in the course, did you pip install from the specific commit ID listed in the [course instructions](https://huggingface.co/learn/audio-course/chapter6/pre-trained_models#massive-multilingual-speech-mms)? The structure of the weights have changed, so the latest code isn't compatible with the weights pushed under the repo id `\"Matthijs/mms-tts-deu\"`. So to use the latest commit, we need to use an updated version of the weights. The API is also a bit different, since it's still a WIP PR. For example, the `.audio` return field has now been replaced by `.waveform`. I think the best thing would be to wait until this PR gets its final reviews and is merged before committing to example use cases! Hopefully it's not long now!\r\n\r\nThanks for highlighting the tokenizer issue - will take a look at why that's failing! That's indeed a bug that needs to be fixed before merge (shouldn't block the next review though!)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1686723466/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1692146792",
          "html_url": "https://github.com/huggingface/transformers/pull/24085#issuecomment-1692146792",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24085",
          "id": 1692146792,
          "node_id": "IC_kwDOCUB6oc5k3Bxo",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-08-24T17:38:46Z",
          "updated_at": "2023-08-24T17:38:46Z",
          "author_association": "CONTRIBUTOR",
          "body": "All points addressed so ready for a final review @amyeroberts. Thanks for your in-depth reviews here - the PR looks in pretty good shape!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1692146792/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1701180431",
          "html_url": "https://github.com/huggingface/transformers/pull/24085#issuecomment-1701180431",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24085",
          "id": 1701180431,
          "node_id": "IC_kwDOCUB6oc5lZfQP",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-08-31T14:40:04Z",
          "updated_at": "2023-09-01T08:41:38Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @amyeroberts - to have full compatibility with the text-to-audio pipeline class, we need to indicate the `sampling_rate` of the predicted audio waveforms in the model config:\r\nhttps://github.com/huggingface/transformers/blob/2be8a9098e06262bdd5c16b5e8a70f145df88e96/src/transformers/pipelines/text_to_audio.py#L82\r\n\r\nThe `sampling_rate` corresponds to the sampling rate of the target audio that the model was trained on. It is not possible to determine in any way other than from the value in the original config of the model. MMS TTS models use a sampling rate of 16kHz, VITS TTS models use a sampling rate of 22kHz, but otherwise their configs are the same. The user needs to have an idea of the sampling rate that the model generates in order to know what rate to playback the audio, otherwise this leaves them prone to silent errors. IMO adding it as an attribute of the main model class should suffice here:\r\n\r\nhttps://github.com/huggingface/transformers/blob/ff3b08c3b2b5b33651f30356e634a5efca1c5f2a/src/transformers/models/vits/modeling_vits.py#L1374\r\n\r\nNote that we cannot just add the `sampling_rate` to the config and not the modelling file, this is not allowed by the CI: \r\nhttps://app.circleci.com/pipelines/github/huggingface/transformers/71815/workflows/c0[\u2026]cb-a064-7c1019e03630/jobs/904373/parallel-runs/0/steps/0-116\r\n\r\ncc @ylacombe ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1701180431/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1702451686",
          "html_url": "https://github.com/huggingface/transformers/pull/24085#issuecomment-1702451686",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24085",
          "id": 1702451686,
          "node_id": "IC_kwDOCUB6oc5leVnm",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-01T09:28:38Z",
          "updated_at": "2023-09-01T09:28:38Z",
          "author_association": "CONTRIBUTOR",
          "body": "As discussed offline with @amyeroberts, we'll add it as an allowed attribute in the config checker: https://github.com/huggingface/transformers/pull/24085/commits/8b01633bccd298d3f9ff8f628b75336202fc53c4",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1702451686/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1704897914",
          "html_url": "https://github.com/huggingface/transformers/pull/24085#issuecomment-1704897914",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24085",
          "id": 1704897914,
          "node_id": "IC_kwDOCUB6oc5lnq16",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-04T09:10:11Z",
          "updated_at": "2023-09-04T09:10:11Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @hollance Thank you for adding this model into `transformers` \ud83e\udd17 .\r\n\r\nThere is a test failing \r\n```python\r\npython3 -m pytest -v tests/models/vits/test_modeling_vits.py::VitsModelTest::test_initialization\r\n```\r\nI skip it on the `main` branch. Would you like to help us investigate this test if you have some bandwidth? Otherwise we can take this on our side too.\r\n\r\nIf you decide to take a look, you have to remove  the following line\r\nhttps://github.com/huggingface/transformers/blob/ab8cba824e3887d90cb9f4d5866fde9243f2c9fe/tests/models/vits/test_modeling_vits.py#L172\r\nso the test will be collected and run by `pytest`.\r\n\r\nLet me know :-) Thank you!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1704897914/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/21955/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/21955/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/21955/events",
      "html_url": "https://github.com/huggingface/transformers/pull/21955",
      "id": 1609993956,
      "node_id": "PR_kwDOCUB6oc5LS6Cq",
      "number": 21955,
      "title": "LLaMA Implementation",
      "user": {
        "login": "zphang",
        "id": 1668462,
        "node_id": "MDQ6VXNlcjE2Njg0NjI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1668462?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zphang",
        "html_url": "https://github.com/zphang",
        "followers_url": "https://api.github.com/users/zphang/followers",
        "following_url": "https://api.github.com/users/zphang/following{/other_user}",
        "gists_url": "https://api.github.com/users/zphang/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/zphang/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zphang/subscriptions",
        "organizations_url": "https://api.github.com/users/zphang/orgs",
        "repos_url": "https://api.github.com/users/zphang/repos",
        "events_url": "https://api.github.com/users/zphang/events{/privacy}",
        "received_events_url": "https://api.github.com/users/zphang/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 133,
      "created_at": "2023-03-05T00:05:39Z",
      "updated_at": "2023-08-10T14:25:13Z",
      "closed_at": "2023-03-16T13:40:53Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/21955",
        "html_url": "https://github.com/huggingface/transformers/pull/21955",
        "diff_url": "https://github.com/huggingface/transformers/pull/21955.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/21955.patch",
        "merged_at": null
      },
      "body": "# What does this PR do?\r\n\r\nImplementation of LLaMA models (https://arxiv.org/abs/2302.13971). Model weights can be requested [here](https://docs.google.com/forms/d/e/1FAIpQLSfqNECQnMkycAp2jP4Z9TFX0cGR4uf7b_fBxjY_OjhJILlKGA/viewform). Weight conversion script is included.\r\n\r\nWeights conversion can be run via:\r\n\r\n```bash\r\npython src/transformers/models/llama/convert_llama_weights_to_hf.py \\\r\n    --input_dir /path/to/downloaded/llama/weights \\\r\n    --model_size 7B \\\r\n    --output_dir /output/path\r\n```\r\n\r\nModels can then be loaded via:\r\n\r\n```python\r\ntokenizer = transformers.LLaMATokenizer.from_pretrained(\"/output/path/tokenizer/\")\r\nmodel = transformers.LLaMAForCausalLM.from_pretrained(\"/output/path/llama-7b/\")\r\n```\r\n\r\nExample:\r\n\r\n```bash\r\nbatch = tokenizer(\r\n    \"The primary use of LLaMA is research on large language models, including\",\r\n    return_tensors=\"pt\", \r\n    add_special_tokens=False\r\n)\r\nbatch = {k: v.cuda() for k, v in batch.items()}\r\ngenerated = model.generate(batch[\"input_ids\"], max_length=100)\r\nprint(tokenizer.decode(generated[0]))\r\n```\r\n\r\n<!--\r\nCongratulations! You've made it this far! You're not quite done yet though.\r\n\r\nOnce merged, your PR is going to appear in the release notes with the title you set, so make sure it's a great title that fully reflects the extent of your awesome contribution.\r\n\r\nThen, please replace this with a description of the change and which issue is fixed (if applicable). Please also include relevant motivation and context. List any dependencies (if any) that are required for this change.\r\n\r\nOnce you're done, someone will review your PR shortly (see the section \"Who can review?\" below to tag some potential reviewers). They may suggest changes to make the code even better. If no one reviewed your PR after a week has passed, don't hesitate to post a new comment @-mentioning the same persons---sometimes notifications get lost.\r\n-->\r\n\r\n<!-- Remove if not applicable -->\r\n\r\nFixes https://github.com/huggingface/transformers/issues/21796\r\n\r\n## Before submitting\r\n- [ ] This PR fixes a typo or improves the docs (you can dismiss the other checks if that's the case).\r\n- [x] Did you read the [contributor guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#start-contributing-pull-requests),\r\n      Pull Request section?\r\n- [x] Was this discussed/approved via a Github issue or the [forum](https://discuss.huggingface.co/)? Please add a link\r\n      to it if that's the case.\r\n- [x] Did you make sure to update the documentation with your changes? Here are the\r\n      [documentation guidelines](https://github.com/huggingface/transformers/tree/main/docs), and\r\n      [here are tips on formatting docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).\r\n- [x] Did you write any new necessary tests?\r\n\r\n\r\n## Who can review?\r\n\r\nAnyone in the community is free to review the PR once the tests have passed. Feel free to tag\r\nmembers/contributors who may be interested in your PR.\r\n\r\n@ArthurZucker @younesbelkada\r\n\r\n<!-- Your PR will be replied to more quickly if you can figure out the right person to tag with @\r\n\r\n If you know how to use git blame, that is the easiest way, otherwise, here is a rough guide of **who to tag**.\r\n Please tag fewer than 3 people.\r\n\r\nModels:\r\n\r\n- text models: @ArthurZucker and @younesbelkada\r\n- vision models: @amyeroberts\r\n- speech models: @sanchit-gandhi\r\n- graph models: @clefourrier\r\n\r\nLibrary:\r\n\r\n- flax: @sanchit-gandhi\r\n- generate: @gante\r\n- pipelines: @Narsil\r\n- tensorflow: @gante and @Rocketknight1\r\n- tokenizers: @ArthurZucker\r\n- trainer: @sgugger\r\n\r\nIntegrations:\r\n\r\n- deepspeed: HF Trainer: @stas00, Accelerate: @pacman100\r\n- ray/raytune: @richardliaw, @amogkam\r\n\r\nDocumentation: @sgugger, @stevhliu and @MKhalusova\r\n\r\nHF projects:\r\n\r\n- accelerate: [different repo](https://github.com/huggingface/accelerate)\r\n- datasets: [different repo](https://github.com/huggingface/datasets)\r\n- diffusers: [different repo](https://github.com/huggingface/diffusers)\r\n- rust tokenizers: [different repo](https://github.com/huggingface/tokenizers)\r\n\r\nMaintained examples (not research project or legacy):\r\n\r\n- Flax: @sanchit-gandhi\r\n- PyTorch: @sgugger\r\n- TensorFlow: @Rocketknight1\r\n\r\n -->\r\n",
      "closed_by": {
        "login": "sgugger",
        "id": 35901082,
        "node_id": "MDQ6VXNlcjM1OTAxMDgy",
        "avatar_url": "https://avatars.githubusercontent.com/u/35901082?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sgugger",
        "html_url": "https://github.com/sgugger",
        "followers_url": "https://api.github.com/users/sgugger/followers",
        "following_url": "https://api.github.com/users/sgugger/following{/other_user}",
        "gists_url": "https://api.github.com/users/sgugger/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sgugger/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sgugger/subscriptions",
        "organizations_url": "https://api.github.com/users/sgugger/orgs",
        "repos_url": "https://api.github.com/users/sgugger/repos",
        "events_url": "https://api.github.com/users/sgugger/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sgugger/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/21955/reactions",
        "total_count": 200,
        "+1": 14,
        "-1": 0,
        "laugh": 4,
        "hooray": 4,
        "confused": 0,
        "heart": 88,
        "rocket": 85,
        "eyes": 5
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/21955/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454945617",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454945617",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454945617,
          "node_id": "IC_kwDOCUB6oc5WuLVR",
          "user": {
            "login": "ewof",
            "id": 26354814,
            "node_id": "MDQ6VXNlcjI2MzU0ODE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/26354814?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ewof",
            "html_url": "https://github.com/ewof",
            "followers_url": "https://api.github.com/users/ewof/followers",
            "following_url": "https://api.github.com/users/ewof/following{/other_user}",
            "gists_url": "https://api.github.com/users/ewof/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ewof/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ewof/subscriptions",
            "organizations_url": "https://api.github.com/users/ewof/orgs",
            "repos_url": "https://api.github.com/users/ewof/repos",
            "events_url": "https://api.github.com/users/ewof/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ewof/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T01:07:26Z",
          "updated_at": "2023-03-05T01:07:26Z",
          "author_association": "NONE",
          "body": "does this work with int8?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454945617/reactions",
            "total_count": 10,
            "+1": 10,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454946224",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454946224",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454946224,
          "node_id": "IC_kwDOCUB6oc5WuLew",
          "user": {
            "login": "zphang",
            "id": 1668462,
            "node_id": "MDQ6VXNlcjE2Njg0NjI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1668462?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zphang",
            "html_url": "https://github.com/zphang",
            "followers_url": "https://api.github.com/users/zphang/followers",
            "following_url": "https://api.github.com/users/zphang/following{/other_user}",
            "gists_url": "https://api.github.com/users/zphang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zphang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zphang/subscriptions",
            "organizations_url": "https://api.github.com/users/zphang/orgs",
            "repos_url": "https://api.github.com/users/zphang/repos",
            "events_url": "https://api.github.com/users/zphang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zphang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T01:10:08Z",
          "updated_at": "2023-03-05T01:10:08Z",
          "author_association": "CONTRIBUTOR",
          "body": "> does this work with int8?\r\n\r\nNo idea! I haven't messed with int8 too much myself. It ought to be compatible with whatever is already supported in the HF models.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454946224/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454950180",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454950180",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454950180,
          "node_id": "IC_kwDOCUB6oc5WuMck",
          "user": {
            "login": "YellowRoseCx",
            "id": 80486540,
            "node_id": "MDQ6VXNlcjgwNDg2NTQw",
            "avatar_url": "https://avatars.githubusercontent.com/u/80486540?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/YellowRoseCx",
            "html_url": "https://github.com/YellowRoseCx",
            "followers_url": "https://api.github.com/users/YellowRoseCx/followers",
            "following_url": "https://api.github.com/users/YellowRoseCx/following{/other_user}",
            "gists_url": "https://api.github.com/users/YellowRoseCx/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/YellowRoseCx/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/YellowRoseCx/subscriptions",
            "organizations_url": "https://api.github.com/users/YellowRoseCx/orgs",
            "repos_url": "https://api.github.com/users/YellowRoseCx/repos",
            "events_url": "https://api.github.com/users/YellowRoseCx/events{/privacy}",
            "received_events_url": "https://api.github.com/users/YellowRoseCx/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T01:26:50Z",
          "updated_at": "2023-03-05T01:26:50Z",
          "author_association": "NONE",
          "body": "nice work! thanks for the upload and I hope it gets pulled",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454950180/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454957957",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454957957",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454957957,
          "node_id": "IC_kwDOCUB6oc5WuOWF",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T02:02:48Z",
          "updated_at": "2023-03-16T13:43:45Z",
          "author_association": "NONE",
          "body": "_The documentation is not available anymore as the PR was closed or merged._",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454957957/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454964368",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454964368",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454964368,
          "node_id": "IC_kwDOCUB6oc5WuP6Q",
          "user": {
            "login": "zphang",
            "id": 1668462,
            "node_id": "MDQ6VXNlcjE2Njg0NjI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1668462?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zphang",
            "html_url": "https://github.com/zphang",
            "followers_url": "https://api.github.com/users/zphang/followers",
            "following_url": "https://api.github.com/users/zphang/following{/other_user}",
            "gists_url": "https://api.github.com/users/zphang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zphang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zphang/subscriptions",
            "organizations_url": "https://api.github.com/users/zphang/orgs",
            "repos_url": "https://api.github.com/users/zphang/repos",
            "events_url": "https://api.github.com/users/zphang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zphang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T02:27:06Z",
          "updated_at": "2023-03-05T02:27:06Z",
          "author_association": "CONTRIBUTOR",
          "body": "It looks like the tests which are currently failing are unrelated to the LLaMA code, so this should be good to review/use.\r\n\r\nIf folks can try it out (particularly with the larger, sharded models) and see if there are any issues, that will be helpful!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454964368/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454966339",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454966339",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454966339,
          "node_id": "IC_kwDOCUB6oc5WuQZD",
          "user": {
            "login": "USBhost",
            "id": 7269941,
            "node_id": "MDQ6VXNlcjcyNjk5NDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7269941?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/USBhost",
            "html_url": "https://github.com/USBhost",
            "followers_url": "https://api.github.com/users/USBhost/followers",
            "following_url": "https://api.github.com/users/USBhost/following{/other_user}",
            "gists_url": "https://api.github.com/users/USBhost/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/USBhost/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/USBhost/subscriptions",
            "organizations_url": "https://api.github.com/users/USBhost/orgs",
            "repos_url": "https://api.github.com/users/USBhost/repos",
            "events_url": "https://api.github.com/users/USBhost/events{/privacy}",
            "received_events_url": "https://api.github.com/users/USBhost/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T02:36:12Z",
          "updated_at": "2023-03-05T02:36:12Z",
          "author_association": "NONE",
          "body": "> It looks like the tests which are currently failing are unrelated to the LLaMA code, so this should be good to review/use.\r\n> \r\n> If folks can try it out (particularly with the larger, sharded models) and see if there are any issues, that will be helpful!\r\n\r\nAt lest the convert script seems to work fine. I was able to convert 7B to 30B. I do not have enough ram to convert 65B.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454966339/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454967298",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454967298",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454967298,
          "node_id": "IC_kwDOCUB6oc5WuQoC",
          "user": {
            "login": "deepdiffuser",
            "id": 112834445,
            "node_id": "U_kgDOBrm3jQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/112834445?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/deepdiffuser",
            "html_url": "https://github.com/deepdiffuser",
            "followers_url": "https://api.github.com/users/deepdiffuser/followers",
            "following_url": "https://api.github.com/users/deepdiffuser/following{/other_user}",
            "gists_url": "https://api.github.com/users/deepdiffuser/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/deepdiffuser/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/deepdiffuser/subscriptions",
            "organizations_url": "https://api.github.com/users/deepdiffuser/orgs",
            "repos_url": "https://api.github.com/users/deepdiffuser/repos",
            "events_url": "https://api.github.com/users/deepdiffuser/events{/privacy}",
            "received_events_url": "https://api.github.com/users/deepdiffuser/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T02:40:45Z",
          "updated_at": "2023-03-05T02:40:45Z",
          "author_association": "NONE",
          "body": "Great work. thanks for putting this together",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454967298/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454968557",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454968557",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454968557,
          "node_id": "IC_kwDOCUB6oc5WuQ7t",
          "user": {
            "login": "USBhost",
            "id": 7269941,
            "node_id": "MDQ6VXNlcjcyNjk5NDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7269941?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/USBhost",
            "html_url": "https://github.com/USBhost",
            "followers_url": "https://api.github.com/users/USBhost/followers",
            "following_url": "https://api.github.com/users/USBhost/following{/other_user}",
            "gists_url": "https://api.github.com/users/USBhost/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/USBhost/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/USBhost/subscriptions",
            "organizations_url": "https://api.github.com/users/USBhost/orgs",
            "repos_url": "https://api.github.com/users/USBhost/repos",
            "events_url": "https://api.github.com/users/USBhost/events{/privacy}",
            "received_events_url": "https://api.github.com/users/USBhost/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T02:47:03Z",
          "updated_at": "2023-03-05T02:47:03Z",
          "author_association": "NONE",
          "body": "After replacing transformers from Kobold with this PR I am able to load the shards as expected. Just I cant generate anything because Kobold still needs some changes.\r\n![image](https://user-images.githubusercontent.com/7269941/222938895-2e8b9d71-6a88-417d-b7ed-14d8216d2ef4.png)\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454968557/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454968569",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454968569",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454968569,
          "node_id": "IC_kwDOCUB6oc5WuQ75",
          "user": {
            "login": "zsc",
            "id": 421605,
            "node_id": "MDQ6VXNlcjQyMTYwNQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/421605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zsc",
            "html_url": "https://github.com/zsc",
            "followers_url": "https://api.github.com/users/zsc/followers",
            "following_url": "https://api.github.com/users/zsc/following{/other_user}",
            "gists_url": "https://api.github.com/users/zsc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zsc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zsc/subscriptions",
            "organizations_url": "https://api.github.com/users/zsc/orgs",
            "repos_url": "https://api.github.com/users/zsc/repos",
            "events_url": "https://api.github.com/users/zsc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zsc/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T02:47:05Z",
          "updated_at": "2023-03-05T02:47:05Z",
          "author_association": "NONE",
          "body": "> > does this work with int8?\r\n> \r\n> No idea! I haven't messed with int8 too much myself. It ought to be compatible with whatever is already supported in the HF models.\r\n\r\nInt8 seems not working but float16 is fine, in my hasty put-together test at https://github.com/zsc/llama_infer . Please throw a comment in case you find something!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454968569/reactions",
            "total_count": 4,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454970272",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454970272",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454970272,
          "node_id": "IC_kwDOCUB6oc5WuRWg",
          "user": {
            "login": "zsc",
            "id": 421605,
            "node_id": "MDQ6VXNlcjQyMTYwNQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/421605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zsc",
            "html_url": "https://github.com/zsc",
            "followers_url": "https://api.github.com/users/zsc/followers",
            "following_url": "https://api.github.com/users/zsc/following{/other_user}",
            "gists_url": "https://api.github.com/users/zsc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zsc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zsc/subscriptions",
            "organizations_url": "https://api.github.com/users/zsc/orgs",
            "repos_url": "https://api.github.com/users/zsc/repos",
            "events_url": "https://api.github.com/users/zsc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zsc/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T02:53:10Z",
          "updated_at": "2023-03-05T02:53:10Z",
          "author_association": "NONE",
          "body": "@zphang  I'm not able to get something like  `tokenizer = AutoTokenizer.from_pretrained(\"/data/llama/hf/7b/tokenizer/\")` to work. Is this intentional or just leaving AutoTokenizer for future work?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454970272/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454970942",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454970942",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454970942,
          "node_id": "IC_kwDOCUB6oc5WuRg-",
          "user": {
            "login": "zphang",
            "id": 1668462,
            "node_id": "MDQ6VXNlcjE2Njg0NjI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1668462?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zphang",
            "html_url": "https://github.com/zphang",
            "followers_url": "https://api.github.com/users/zphang/followers",
            "following_url": "https://api.github.com/users/zphang/following{/other_user}",
            "gists_url": "https://api.github.com/users/zphang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zphang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zphang/subscriptions",
            "organizations_url": "https://api.github.com/users/zphang/orgs",
            "repos_url": "https://api.github.com/users/zphang/repos",
            "events_url": "https://api.github.com/users/zphang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zphang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T02:55:59Z",
          "updated_at": "2023-03-05T02:55:59Z",
          "author_association": "CONTRIBUTOR",
          "body": "> @zphang I'm not able to get something like `tokenizer = AutoTokenizer.from_pretrained(\"/data/llama/hf/7b/tokenizer/\")` to work. Is this intentional or just leaving AutoTokenizer for future work?\r\n\r\nWhat issue are you having / what is the error?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454970942/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454974197",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454974197",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454974197,
          "node_id": "IC_kwDOCUB6oc5WuST1",
          "user": {
            "login": "oobabooga",
            "id": 112222186,
            "node_id": "U_kgDOBrBf6g",
            "avatar_url": "https://avatars.githubusercontent.com/u/112222186?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oobabooga",
            "html_url": "https://github.com/oobabooga",
            "followers_url": "https://api.github.com/users/oobabooga/followers",
            "following_url": "https://api.github.com/users/oobabooga/following{/other_user}",
            "gists_url": "https://api.github.com/users/oobabooga/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oobabooga/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oobabooga/subscriptions",
            "organizations_url": "https://api.github.com/users/oobabooga/orgs",
            "repos_url": "https://api.github.com/users/oobabooga/repos",
            "events_url": "https://api.github.com/users/oobabooga/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oobabooga/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T03:08:42Z",
          "updated_at": "2023-03-05T03:08:42Z",
          "author_association": "CONTRIBUTOR",
          "body": "I have tested the code and these are my findings:\r\n\r\n1. The conversion script works.\r\n2. Loading the model works.\r\n3. Loading the tokenizer with `transformers.LLaMATokenizer.from_pretrained` works.\r\n4. Loading the tokenizer with `AutoTokenizer.from_pretrained` does not work and generates this error:\r\n\r\n```\r\nOSError: /tmp/converted/tokenizer/ does not appear to have a file named config.json. Checkout\r\n'https://huggingface.co//tmp/converted/tokenizer//None' for available files.\r\n\r\n```\r\n\r\n5. The generated text seems to be incoherent. If I try these default values for the generation parameters:\r\n\r\n```\r\nmodel.generate(input_ids, eos_token_id=2, do_sample=True, temperature=1, top_p=1, typical_p=1, repetition_penalty=1, top_k=50, min_length=0, no_repeat_ngram_size=0, num_beams=1, penalty_alpha=0, length_penalty=1, early_stopping=False, max_new_tokens=200).cuda()\r\n```\r\n\r\nwith this prompt:\r\n\r\n```\r\nCommon sense questions and answers\r\n\r\nQuestion: What color is the sky?\r\nFactual answer:\r\n```\r\n\r\nI get\r\n\r\n```\r\nCommon sense questions and answers\r\n\r\nQuestion: What color is the sky?\r\nFactual answer: Tags: python, django, django-models\r\n\r\nQuestion: Using Django with multiple databases\r\n\r\nI am attempting to use django with multiple databases, and I have the following code:\r\n\r\n\\begin{code}\r\nDATABASES = {\r\n    'default': {\r\n        'ENGINE': 'django.db.backends.sqlite3',\r\n        'NAME': ':memory:',\r\n    },\r\n    'db_one': {\r\n        'ENGINE': 'django.db.backends.sqlite3',\r\n        'NAME': 'db_one',\r\n    },\r\n    'db_two': {\r\n        'ENGINE': 'django.db.backends.sqlite3',\r\n        'NAME': 'db_two',\r\n    },\r\n}\r\n```\r\n\r\nIt seems to me that prompts are being completely ignored.\r\n\r\n6. Loading in 8-bit mode with `load_in_8bit=True` works.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454974197/reactions",
            "total_count": 5,
            "+1": 5,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454974507",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454974507",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454974507,
          "node_id": "IC_kwDOCUB6oc5WuSYr",
          "user": {
            "login": "zsc",
            "id": 421605,
            "node_id": "MDQ6VXNlcjQyMTYwNQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/421605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zsc",
            "html_url": "https://github.com/zsc",
            "followers_url": "https://api.github.com/users/zsc/followers",
            "following_url": "https://api.github.com/users/zsc/following{/other_user}",
            "gists_url": "https://api.github.com/users/zsc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zsc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zsc/subscriptions",
            "organizations_url": "https://api.github.com/users/zsc/orgs",
            "repos_url": "https://api.github.com/users/zsc/repos",
            "events_url": "https://api.github.com/users/zsc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zsc/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T03:10:09Z",
          "updated_at": "2023-03-05T03:10:09Z",
          "author_association": "NONE",
          "body": "This is OK: `tokenizer = transformers.LLaMATokenizer.from_pretrained(\"/data/llama/hf/7b/tokenizer/\")`\r\n\r\nIf using `tokenizer = AutoTokenizer.from_pretrained(\"/data/llama/hf/7b/tokenizer/\"` then it will complain no \"config.json\". \r\n```\r\nOSError: /data/llama/hf/7b/tokenizer/ does not appear to have a file named config.json. Checkout \r\n'https://huggingface.co//data/llama/hf/7b/tokenizer//None' for available files.\r\n```\r\n\r\nI then hacked by softlinking `/data/llama/hf/7b/tokenizer/special_tokens_map.json` to `/data/llama/hf/7b/tokenizer/config.json` and it works. So maybe just rename?\r\n\r\nAnyway, can now happily play with LLaMA in Hugging Face world and thanks for the great work!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454974507/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454976773",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454976773",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454976773,
          "node_id": "IC_kwDOCUB6oc5WuS8F",
          "user": {
            "login": "zphang",
            "id": 1668462,
            "node_id": "MDQ6VXNlcjE2Njg0NjI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1668462?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zphang",
            "html_url": "https://github.com/zphang",
            "followers_url": "https://api.github.com/users/zphang/followers",
            "following_url": "https://api.github.com/users/zphang/following{/other_user}",
            "gists_url": "https://api.github.com/users/zphang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zphang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zphang/subscriptions",
            "organizations_url": "https://api.github.com/users/zphang/orgs",
            "repos_url": "https://api.github.com/users/zphang/repos",
            "events_url": "https://api.github.com/users/zphang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zphang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T03:21:15Z",
          "updated_at": "2023-03-05T03:25:39Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for the comments. Looks like the saved tokenizer doesn't work for `AutoTokenizer` but works if you directly instantiate from `LLaMATokenizer`. Maybe one of the HF folks can chime in on the best way to address that.\r\n\r\n> The generated text seems to be incoherent. If I try these default values for the generation parameters:\r\n\r\nCan you check the input_ids you're using to generate? The tokenizer currently adds both BOS and EOS tokens by default, and an EOS might cause the model to ignore your prompt.\r\n\r\nPerhaps I can set EOS to not be added by default so it operates closer to expected behavior.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454976773/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454978125",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454978125",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454978125,
          "node_id": "IC_kwDOCUB6oc5WuTRN",
          "user": {
            "login": "oobabooga",
            "id": 112222186,
            "node_id": "U_kgDOBrBf6g",
            "avatar_url": "https://avatars.githubusercontent.com/u/112222186?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oobabooga",
            "html_url": "https://github.com/oobabooga",
            "followers_url": "https://api.github.com/users/oobabooga/followers",
            "following_url": "https://api.github.com/users/oobabooga/following{/other_user}",
            "gists_url": "https://api.github.com/users/oobabooga/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oobabooga/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oobabooga/subscriptions",
            "organizations_url": "https://api.github.com/users/oobabooga/orgs",
            "repos_url": "https://api.github.com/users/oobabooga/repos",
            "events_url": "https://api.github.com/users/oobabooga/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oobabooga/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T03:28:15Z",
          "updated_at": "2023-03-05T03:28:15Z",
          "author_association": "CONTRIBUTOR",
          "body": "For this prompt:\r\n\r\n```\r\n'Common sense questions and answers\\n\\nQuestion: What color is the sky?\\nFactual answer:'\r\n```\r\n\r\nthese are the input_ids:\r\n\r\n```\r\ntensor([[    1, 13103,  4060,  5155,   322,  6089,    13,    13, 16492, 29901,\r\n          1724,  2927,   338,   278, 14744, 29973,    13, 29943, 19304,  1234,\r\n         29901,     2]], device='cuda:0')\r\n```\r\n\r\nI do not know how to interpret these numbers, but if there is an EOS token in that tensor and that token is causing the text generation to derail, changing that default would be valuable.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454978125/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454978303",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454978303",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454978303,
          "node_id": "IC_kwDOCUB6oc5WuTT_",
          "user": {
            "login": "zphang",
            "id": 1668462,
            "node_id": "MDQ6VXNlcjE2Njg0NjI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1668462?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zphang",
            "html_url": "https://github.com/zphang",
            "followers_url": "https://api.github.com/users/zphang/followers",
            "following_url": "https://api.github.com/users/zphang/following{/other_user}",
            "gists_url": "https://api.github.com/users/zphang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zphang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zphang/subscriptions",
            "organizations_url": "https://api.github.com/users/zphang/orgs",
            "repos_url": "https://api.github.com/users/zphang/repos",
            "events_url": "https://api.github.com/users/zphang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zphang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T03:29:08Z",
          "updated_at": "2023-03-05T03:29:30Z",
          "author_association": "CONTRIBUTOR",
          "body": "1 is BOS and 2 is EOS. Can you try without the last input id?\r\n\r\nI also added an example in my PR message.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454978303/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454979110",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454979110",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454979110,
          "node_id": "IC_kwDOCUB6oc5WuTgm",
          "user": {
            "login": "oobabooga",
            "id": 112222186,
            "node_id": "U_kgDOBrBf6g",
            "avatar_url": "https://avatars.githubusercontent.com/u/112222186?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oobabooga",
            "html_url": "https://github.com/oobabooga",
            "followers_url": "https://api.github.com/users/oobabooga/followers",
            "following_url": "https://api.github.com/users/oobabooga/following{/other_user}",
            "gists_url": "https://api.github.com/users/oobabooga/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oobabooga/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oobabooga/subscriptions",
            "organizations_url": "https://api.github.com/users/oobabooga/orgs",
            "repos_url": "https://api.github.com/users/oobabooga/repos",
            "events_url": "https://api.github.com/users/oobabooga/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oobabooga/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T03:33:21Z",
          "updated_at": "2023-03-05T03:33:21Z",
          "author_association": "CONTRIBUTOR",
          "body": "I confirm that doing this \r\n```\r\n    input_ids = input_ids[:, :-1]\r\n\r\n```\r\n\r\nto remove the last input id before calling `model.generate(...)` causes the text generation to become coherent:\r\n\r\n```\r\nCommon sense questions and answers\r\n\r\nQuestion: What color is the sky?\r\nFactual answer: The sky is blue. The sky is blue, and it is a fact that it is blue. The sky is indisputably blue.\r\n\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454979110/reactions",
            "total_count": 15,
            "+1": 10,
            "-1": 0,
            "laugh": 5,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454980538",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454980538",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454980538,
          "node_id": "IC_kwDOCUB6oc5WuT26",
          "user": {
            "login": "zphang",
            "id": 1668462,
            "node_id": "MDQ6VXNlcjE2Njg0NjI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1668462?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zphang",
            "html_url": "https://github.com/zphang",
            "followers_url": "https://api.github.com/users/zphang/followers",
            "following_url": "https://api.github.com/users/zphang/following{/other_user}",
            "gists_url": "https://api.github.com/users/zphang/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zphang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zphang/subscriptions",
            "organizations_url": "https://api.github.com/users/zphang/orgs",
            "repos_url": "https://api.github.com/users/zphang/repos",
            "events_url": "https://api.github.com/users/zphang/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zphang/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T03:40:53Z",
          "updated_at": "2023-03-05T03:42:27Z",
          "author_association": "CONTRIBUTOR",
          "body": "Added a commit that should fix the tokenizer issues, and not add BOS and EOS by default.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454980538/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454981554",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454981554",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454981554,
          "node_id": "IC_kwDOCUB6oc5WuUGy",
          "user": {
            "login": "oobabooga",
            "id": 112222186,
            "node_id": "U_kgDOBrBf6g",
            "avatar_url": "https://avatars.githubusercontent.com/u/112222186?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oobabooga",
            "html_url": "https://github.com/oobabooga",
            "followers_url": "https://api.github.com/users/oobabooga/followers",
            "following_url": "https://api.github.com/users/oobabooga/following{/other_user}",
            "gists_url": "https://api.github.com/users/oobabooga/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oobabooga/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oobabooga/subscriptions",
            "organizations_url": "https://api.github.com/users/oobabooga/orgs",
            "repos_url": "https://api.github.com/users/oobabooga/repos",
            "events_url": "https://api.github.com/users/oobabooga/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oobabooga/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T03:48:29Z",
          "updated_at": "2023-03-05T03:48:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "Awesome, I confirm that the text generation is coherent by default now.\r\n\r\nI still cannot load the tokenizer with `AutoTokenizer.from_pretrained`. The error has now changed to this:\r\n\r\n```\r\n  File \"/tmp/transformers/src/transformers/models/auto/tokenization_auto.py\", line 694, in from_pretrained\r\n    tokenizer_class_py, tokenizer_class_fast = TOKENIZER_MAPPING[type(config)]\r\n  File \"/tmp/transformers/src/transformers/models/auto/auto_factory.py\", line 610, in __getitem__\r\n    raise KeyError(key)\r\nKeyError: <class 'transformers.models.llama.configuration_llama.LLaMAConfig'>\r\n\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454981554/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454983139",
          "html_url": "https://github.com/huggingface/transformers/pull/21955#issuecomment-1454983139",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21955",
          "id": 1454983139,
          "node_id": "IC_kwDOCUB6oc5WuUfj",
          "user": {
            "login": "zsc",
            "id": 421605,
            "node_id": "MDQ6VXNlcjQyMTYwNQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/421605?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zsc",
            "html_url": "https://github.com/zsc",
            "followers_url": "https://api.github.com/users/zsc/followers",
            "following_url": "https://api.github.com/users/zsc/following{/other_user}",
            "gists_url": "https://api.github.com/users/zsc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zsc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zsc/subscriptions",
            "organizations_url": "https://api.github.com/users/zsc/orgs",
            "repos_url": "https://api.github.com/users/zsc/repos",
            "events_url": "https://api.github.com/users/zsc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zsc/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-05T04:00:51Z",
          "updated_at": "2023-03-05T04:00:51Z",
          "author_association": "NONE",
          "body": "> > does this work with int8?\r\n> \r\n> No idea! I haven't messed with int8 too much myself. It ought to be compatible with whatever is already supported in the HF models.\r\n\r\nAfter the fix with EOS, int8 (bitsandbytes) looks decent. Example in https://github.com/zsc/llama_infer/blob/main/README.md",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1454983139/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/21766/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/21766/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/21766/events",
      "html_url": "https://github.com/huggingface/transformers/pull/21766",
      "id": 1597307108,
      "node_id": "PR_kwDOCUB6oc5KoVsv",
      "number": 21766,
      "title": "Add Mega: Moving Average Equipped Gated Attention",
      "user": {
        "login": "mnaylor5",
        "id": 20518095,
        "node_id": "MDQ6VXNlcjIwNTE4MDk1",
        "avatar_url": "https://avatars.githubusercontent.com/u/20518095?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mnaylor5",
        "html_url": "https://github.com/mnaylor5",
        "followers_url": "https://api.github.com/users/mnaylor5/followers",
        "following_url": "https://api.github.com/users/mnaylor5/following{/other_user}",
        "gists_url": "https://api.github.com/users/mnaylor5/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mnaylor5/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mnaylor5/subscriptions",
        "organizations_url": "https://api.github.com/users/mnaylor5/orgs",
        "repos_url": "https://api.github.com/users/mnaylor5/repos",
        "events_url": "https://api.github.com/users/mnaylor5/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mnaylor5/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": true
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 22,
      "created_at": "2023-02-23T18:04:04Z",
      "updated_at": "2023-03-27T14:55:49Z",
      "closed_at": "2023-03-24T12:17:28Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/21766",
        "html_url": "https://github.com/huggingface/transformers/pull/21766",
        "diff_url": "https://github.com/huggingface/transformers/pull/21766.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/21766.patch",
        "merged_at": "2023-03-24T12:17:28Z"
      },
      "body": "# What does this PR do?\r\n\r\n<!--\r\nCongratulations! You've made it this far! You're not quite done yet though.\r\n\r\nOnce merged, your PR is going to appear in the release notes with the title you set, so make sure it's a great title that fully reflects the extent of your awesome contribution.\r\n\r\nThen, please replace this with a description of the change and which issue is fixed (if applicable). Please also include relevant motivation and context. List any dependencies (if any) that are required for this change.\r\n\r\nOnce you're done, someone will review your PR shortly (see the section \"Who can review?\" below to tag some potential reviewers). They may suggest changes to make the code even better. If no one reviewed your PR after a week has passed, don't hesitate to post a new comment @-mentioning the same persons---sometimes notifications get lost.\r\n-->\r\n\r\n<!-- Remove if not applicable -->\r\n\r\nFixes #19982 \r\n\r\nThis pull request adds [Mega: Moving Average Equipped Gated Attention](https://arxiv.org/abs/2209.10655), which is the current leader of the [LRA benchmark](https://paperswithcode.com/sota/long-range-modeling-on-lra). Adapted from the original [fairseq-based repo](https://github.com/facebookresearch/mega) and used a MLM checkpoint I created using the original implementation on the wikitext-103 dataset. There is no proposed Mega tokenizer, so I used the RoBERTa tokenizer which I used on the wikitext checkpoint. The proposed implementation works in encoder and decoder settings, and all relevant tests are passing.\r\n\r\n## Before submitting\r\n- [ ] This PR fixes a typo or improves the docs (you can dismiss the other checks if that's the case).\r\n- [X] Did you read the [contributor guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#start-contributing-pull-requests),\r\n      Pull Request section?\r\n- [X] Was this discussed/approved via a Github issue or the [forum](https://discuss.huggingface.co/)? Please add a link\r\n      to it if that's the case.\r\n- [X] Did you make sure to update the documentation with your changes? Here are the\r\n      [documentation guidelines](https://github.com/huggingface/transformers/tree/main/docs), and\r\n      [here are tips on formatting docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).\r\n- [X] Did you write any new necessary tests?\r\n\r\n\r\n## Who can review?\r\n\r\nAnyone in the community is free to review the PR once the tests have passed. Feel free to tag\r\nmembers/contributors who may be interested in your PR.\r\n\r\n@ArthurZucker and @younesbelkada for text models; tagging @NielsRogge for visibility as he responded to the original issue.\r\n\r\n<!-- Your PR will be replied to more quickly if you can figure out the right person to tag with @\r\n\r\n If you know how to use git blame, that is the easiest way, otherwise, here is a rough guide of **who to tag**.\r\n Please tag fewer than 3 people.\r\n\r\nModels:\r\n\r\n- text models: @ArthurZucker and @younesbelkada\r\n- vision models: @amyeroberts\r\n- speech models: @sanchit-gandhi\r\n- graph models: @clefourrier\r\n\r\nLibrary:\r\n\r\n- flax: @sanchit-gandhi\r\n- generate: @gante\r\n- pipelines: @Narsil\r\n- tensorflow: @gante and @Rocketknight1\r\n- tokenizers: @ArthurZucker\r\n- trainer: @sgugger\r\n\r\nIntegrations:\r\n\r\n- deepspeed: HF Trainer: @stas00, Accelerate: @pacman100\r\n- ray/raytune: @richardliaw, @amogkam\r\n\r\nDocumentation: @sgugger, @stevhliu and @MKhalusova\r\n\r\nHF projects:\r\n\r\n- accelerate: [different repo](https://github.com/huggingface/accelerate)\r\n- datasets: [different repo](https://github.com/huggingface/datasets)\r\n- diffusers: [different repo](https://github.com/huggingface/diffusers)\r\n- rust tokenizers: [different repo](https://github.com/huggingface/tokenizers)\r\n\r\nMaintained examples (not research project or legacy):\r\n\r\n- Flax: @sanchit-gandhi\r\n- PyTorch: @sgugger\r\n- TensorFlow: @Rocketknight1\r\n\r\n -->\r\n",
      "closed_by": {
        "login": "sgugger",
        "id": 35901082,
        "node_id": "MDQ6VXNlcjM1OTAxMDgy",
        "avatar_url": "https://avatars.githubusercontent.com/u/35901082?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sgugger",
        "html_url": "https://github.com/sgugger",
        "followers_url": "https://api.github.com/users/sgugger/followers",
        "following_url": "https://api.github.com/users/sgugger/following{/other_user}",
        "gists_url": "https://api.github.com/users/sgugger/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sgugger/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sgugger/subscriptions",
        "organizations_url": "https://api.github.com/users/sgugger/orgs",
        "repos_url": "https://api.github.com/users/sgugger/repos",
        "events_url": "https://api.github.com/users/sgugger/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sgugger/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/21766/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/21766/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1442228155",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1442228155",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1442228155,
          "node_id": "IC_kwDOCUB6oc5V9qe7",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-02-23T18:19:58Z",
          "updated_at": "2023-03-24T12:21:53Z",
          "author_association": "NONE",
          "body": "_The documentation is not available anymore as the PR was closed or merged._",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1442228155/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1442421057",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1442421057",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1442421057,
          "node_id": "IC_kwDOCUB6oc5V-ZlB",
          "user": {
            "login": "mnaylor5",
            "id": 20518095,
            "node_id": "MDQ6VXNlcjIwNTE4MDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/20518095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mnaylor5",
            "html_url": "https://github.com/mnaylor5",
            "followers_url": "https://api.github.com/users/mnaylor5/followers",
            "following_url": "https://api.github.com/users/mnaylor5/following{/other_user}",
            "gists_url": "https://api.github.com/users/mnaylor5/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mnaylor5/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mnaylor5/subscriptions",
            "organizations_url": "https://api.github.com/users/mnaylor5/orgs",
            "repos_url": "https://api.github.com/users/mnaylor5/repos",
            "events_url": "https://api.github.com/users/mnaylor5/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mnaylor5/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": true
          },
          "created_at": "2023-02-23T20:57:22Z",
          "updated_at": "2023-02-23T20:57:22Z",
          "author_association": "CONTRIBUTOR",
          "body": "Sorry for the initial test failures! It should be taken care of now. Also I wanted to point out that I did not have access to a GPU while developing this, so I was not able to test on a GPU",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1442421057/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1445898436",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1445898436",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1445898436,
          "node_id": "IC_kwDOCUB6oc5WLqjE",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-02-27T08:22:48Z",
          "updated_at": "2023-02-27T08:22:48Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @mnaylor5 \r\nThanks for your great work on this! Let us know when do you think this is ready for review \ud83d\udcaa ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1445898436/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1446365439",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1446365439",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1446365439,
          "node_id": "IC_kwDOCUB6oc5WNcj_",
          "user": {
            "login": "mnaylor5",
            "id": 20518095,
            "node_id": "MDQ6VXNlcjIwNTE4MDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/20518095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mnaylor5",
            "html_url": "https://github.com/mnaylor5",
            "followers_url": "https://api.github.com/users/mnaylor5/followers",
            "following_url": "https://api.github.com/users/mnaylor5/following{/other_user}",
            "gists_url": "https://api.github.com/users/mnaylor5/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mnaylor5/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mnaylor5/subscriptions",
            "organizations_url": "https://api.github.com/users/mnaylor5/orgs",
            "repos_url": "https://api.github.com/users/mnaylor5/repos",
            "events_url": "https://api.github.com/users/mnaylor5/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mnaylor5/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": true
          },
          "created_at": "2023-02-27T13:56:35Z",
          "updated_at": "2023-02-27T13:56:35Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thank you @younesbelkada! It is ready for review now \ud83d\ude04 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1446365439/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1452431778",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1452431778",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1452431778,
          "node_id": "IC_kwDOCUB6oc5Wklmi",
          "user": {
            "login": "mnaylor5",
            "id": 20518095,
            "node_id": "MDQ6VXNlcjIwNTE4MDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/20518095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mnaylor5",
            "html_url": "https://github.com/mnaylor5",
            "followers_url": "https://api.github.com/users/mnaylor5/followers",
            "following_url": "https://api.github.com/users/mnaylor5/following{/other_user}",
            "gists_url": "https://api.github.com/users/mnaylor5/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mnaylor5/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mnaylor5/subscriptions",
            "organizations_url": "https://api.github.com/users/mnaylor5/orgs",
            "repos_url": "https://api.github.com/users/mnaylor5/repos",
            "events_url": "https://api.github.com/users/mnaylor5/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mnaylor5/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": true
          },
          "created_at": "2023-03-02T19:22:54Z",
          "updated_at": "2023-03-02T19:22:54Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @younesbelkada / @ArthurZucker - just checking in to see if there is anything you need from me before reviewing this pull request. Looking forward to being able to use Mega in `transformers`!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1452431778/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1452516167",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1452516167",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1452516167,
          "node_id": "IC_kwDOCUB6oc5Wk6NH",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-02T20:42:22Z",
          "updated_at": "2023-03-02T20:42:22Z",
          "author_association": "COLLABORATOR",
          "body": "Hey! I'll give you a review tomorrow! Sorry for the wait, had to synch with @younesbelkada on this one",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1452516167/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1452871072",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1452871072",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1452871072,
          "node_id": "IC_kwDOCUB6oc5WmQ2g",
          "user": {
            "login": "mnaylor5",
            "id": 20518095,
            "node_id": "MDQ6VXNlcjIwNTE4MDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/20518095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mnaylor5",
            "html_url": "https://github.com/mnaylor5",
            "followers_url": "https://api.github.com/users/mnaylor5/followers",
            "following_url": "https://api.github.com/users/mnaylor5/following{/other_user}",
            "gists_url": "https://api.github.com/users/mnaylor5/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mnaylor5/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mnaylor5/subscriptions",
            "organizations_url": "https://api.github.com/users/mnaylor5/orgs",
            "repos_url": "https://api.github.com/users/mnaylor5/repos",
            "events_url": "https://api.github.com/users/mnaylor5/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mnaylor5/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": true
          },
          "created_at": "2023-03-03T02:37:46Z",
          "updated_at": "2023-03-03T02:37:46Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks @ArthurZucker, and no worries! \ud83d\ude04 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1452871072/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1453671797",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1453671797",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1453671797,
          "node_id": "IC_kwDOCUB6oc5WpUV1",
          "user": {
            "login": "mnaylor5",
            "id": 20518095,
            "node_id": "MDQ6VXNlcjIwNTE4MDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/20518095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mnaylor5",
            "html_url": "https://github.com/mnaylor5",
            "followers_url": "https://api.github.com/users/mnaylor5/followers",
            "following_url": "https://api.github.com/users/mnaylor5/following{/other_user}",
            "gists_url": "https://api.github.com/users/mnaylor5/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mnaylor5/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mnaylor5/subscriptions",
            "organizations_url": "https://api.github.com/users/mnaylor5/orgs",
            "repos_url": "https://api.github.com/users/mnaylor5/repos",
            "events_url": "https://api.github.com/users/mnaylor5/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mnaylor5/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": true
          },
          "created_at": "2023-03-03T15:08:15Z",
          "updated_at": "2023-03-03T15:08:15Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for the review @ArthurZucker! I'll reply to individual comments where I can clear things up, and I'll accept your suggestions wherever I can. I'll probably be able to start on the modifications later today, and if not, then early next week.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1453671797/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1461007178",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1461007178",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1461007178,
          "node_id": "IC_kwDOCUB6oc5XFTNK",
          "user": {
            "login": "mnaylor5",
            "id": 20518095,
            "node_id": "MDQ6VXNlcjIwNTE4MDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/20518095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mnaylor5",
            "html_url": "https://github.com/mnaylor5",
            "followers_url": "https://api.github.com/users/mnaylor5/followers",
            "following_url": "https://api.github.com/users/mnaylor5/following{/other_user}",
            "gists_url": "https://api.github.com/users/mnaylor5/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mnaylor5/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mnaylor5/subscriptions",
            "organizations_url": "https://api.github.com/users/mnaylor5/orgs",
            "repos_url": "https://api.github.com/users/mnaylor5/repos",
            "events_url": "https://api.github.com/users/mnaylor5/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mnaylor5/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": true
          },
          "created_at": "2023-03-08T23:04:01Z",
          "updated_at": "2023-03-08T23:04:01Z",
          "author_association": "CONTRIBUTOR",
          "body": "Alright @ArthurZucker this should be good to review again! The biggest updates in this version are removing the `reset_parameters` methods in favor of `_init_weights`, renaming variables/comments to avoid single-letter names, docstring format updates, and renaming `Mega` to `MEGA` based on your suggestion. I have resolved the comments where I made the changes, and left the other comments in place for continued discussion.\r\n\r\nThanks again for your feedback, and I'm happy to answer any questions that arise. Looking forward to getting MEGA into the library! \ud83d\ude80 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1461007178/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1468550144",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1468550144",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1468550144,
          "node_id": "IC_kwDOCUB6oc5XiEwA",
          "user": {
            "login": "mnaylor5",
            "id": 20518095,
            "node_id": "MDQ6VXNlcjIwNTE4MDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/20518095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mnaylor5",
            "html_url": "https://github.com/mnaylor5",
            "followers_url": "https://api.github.com/users/mnaylor5/followers",
            "following_url": "https://api.github.com/users/mnaylor5/following{/other_user}",
            "gists_url": "https://api.github.com/users/mnaylor5/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mnaylor5/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mnaylor5/subscriptions",
            "organizations_url": "https://api.github.com/users/mnaylor5/orgs",
            "repos_url": "https://api.github.com/users/mnaylor5/repos",
            "events_url": "https://api.github.com/users/mnaylor5/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mnaylor5/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": true
          },
          "created_at": "2023-03-14T17:43:00Z",
          "updated_at": "2023-03-14T17:43:00Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi there @ArthurZucker - thanks again for the feedback in your previous review. Just reaching out to see if anything else is needed before reviewing and hopefully merging!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1468550144/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1468583260",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1468583260",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1468583260,
          "node_id": "IC_kwDOCUB6oc5XiM1c",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-14T18:03:43Z",
          "updated_at": "2023-03-14T18:03:43Z",
          "author_association": "COLLABORATOR",
          "body": "Hey! Sorry I must have missed your previous ping! Will review now!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1468583260/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1470707500",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1470707500",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1470707500,
          "node_id": "IC_kwDOCUB6oc5XqTcs",
          "user": {
            "login": "mnaylor5",
            "id": 20518095,
            "node_id": "MDQ6VXNlcjIwNTE4MDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/20518095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mnaylor5",
            "html_url": "https://github.com/mnaylor5",
            "followers_url": "https://api.github.com/users/mnaylor5/followers",
            "following_url": "https://api.github.com/users/mnaylor5/following{/other_user}",
            "gists_url": "https://api.github.com/users/mnaylor5/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mnaylor5/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mnaylor5/subscriptions",
            "organizations_url": "https://api.github.com/users/mnaylor5/orgs",
            "repos_url": "https://api.github.com/users/mnaylor5/repos",
            "events_url": "https://api.github.com/users/mnaylor5/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mnaylor5/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": true
          },
          "created_at": "2023-03-15T19:32:59Z",
          "updated_at": "2023-03-15T19:32:59Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks @ArthurZucker! I appreciate the quick review and the encouragement \ud83d\ude04 \r\nI added a couple of questions where things weren't totally clear to me, but I can get started on everything else now. I'm really excited about getting this model into the library, and hopefully there won't be too many more changes required!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1470707500/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1470919299",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1470919299",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1470919299,
          "node_id": "IC_kwDOCUB6oc5XrHKD",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-15T22:16:53Z",
          "updated_at": "2023-03-15T22:16:53Z",
          "author_association": "COLLABORATOR",
          "body": "Will answer to your questions tomorrow! ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1470919299/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1474413881",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1474413881",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1474413881,
          "node_id": "IC_kwDOCUB6oc5X4cU5",
          "user": {
            "login": "mnaylor5",
            "id": 20518095,
            "node_id": "MDQ6VXNlcjIwNTE4MDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/20518095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mnaylor5",
            "html_url": "https://github.com/mnaylor5",
            "followers_url": "https://api.github.com/users/mnaylor5/followers",
            "following_url": "https://api.github.com/users/mnaylor5/following{/other_user}",
            "gists_url": "https://api.github.com/users/mnaylor5/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mnaylor5/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mnaylor5/subscriptions",
            "organizations_url": "https://api.github.com/users/mnaylor5/orgs",
            "repos_url": "https://api.github.com/users/mnaylor5/repos",
            "events_url": "https://api.github.com/users/mnaylor5/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mnaylor5/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": true
          },
          "created_at": "2023-03-17T21:21:05Z",
          "updated_at": "2023-03-17T21:21:05Z",
          "author_association": "CONTRIBUTOR",
          "body": "Alright @ArthurZucker, I think that's everything except the threads with ongoing discussion. I'm super happy with how this is shaping up! In the latest batch of commits:\r\n* Renamed classes, variables, and params based on comments (mainly in EMA and MovingAverageGatedAttention class)\r\n* Rearranged positional bias, normalization functions, activation functions, dropout classes\r\n* Added the `copied from comments` where requested\r\n* Added token type ID buffer\r\n* Added tests for generation and sequence classification\r\n* Moved FFT convolution into a reusable method with additional documentation\r\n* Addressed merge conflicts from LLaMA \ud83e\udd99 \r\n\r\nThanks for the feedback and I'll wait on any more changes until you get a chance to review the updates and resolve the open discussions. Excited to get up and running with MEGA in `transformers` \ud83d\ude80 \ud83e\udd17 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1474413881/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1478588050",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1478588050",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1478588050,
          "node_id": "IC_kwDOCUB6oc5YIXaS",
          "user": {
            "login": "mnaylor5",
            "id": 20518095,
            "node_id": "MDQ6VXNlcjIwNTE4MDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/20518095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mnaylor5",
            "html_url": "https://github.com/mnaylor5",
            "followers_url": "https://api.github.com/users/mnaylor5/followers",
            "following_url": "https://api.github.com/users/mnaylor5/following{/other_user}",
            "gists_url": "https://api.github.com/users/mnaylor5/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mnaylor5/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mnaylor5/subscriptions",
            "organizations_url": "https://api.github.com/users/mnaylor5/orgs",
            "repos_url": "https://api.github.com/users/mnaylor5/repos",
            "events_url": "https://api.github.com/users/mnaylor5/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mnaylor5/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": true
          },
          "created_at": "2023-03-21T21:13:38Z",
          "updated_at": "2023-03-21T21:13:38Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ArthurZucker as an update, it looks like the fix for left-padding is going to be a more significant effort to implement -- the relative bias is applied in the attention function, and it expects all of the inputs to be left-to-right starting at position 0. We can probably refactor to accept the position IDs like they did for CodeGen, but we'll also need to change how the bias is added since it is currently using a single `(seq_len, seq_len)` tensor for the entire batch. Refactoring that might be the heavier lift, but I'm still exploring. \r\n\r\nI'll dig more into this tomorrow, but for the meantime, I've pushed updates that address the rest of your comments! If you have any other suggestions on the fix for relative positions, I'd love to hear them! \ud83d\ude04 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1478588050/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1479362199",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1479362199",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1479362199,
          "node_id": "IC_kwDOCUB6oc5YLUaX",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-22T11:06:28Z",
          "updated_at": "2023-03-22T11:06:28Z",
          "author_association": "COLLABORATOR",
          "body": "Sure! Also it's not that important to have left padding in this PR, can be added in another PR! ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1479362199/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1479951543",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1479951543",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1479951543,
          "node_id": "IC_kwDOCUB6oc5YNkS3",
          "user": {
            "login": "mnaylor5",
            "id": 20518095,
            "node_id": "MDQ6VXNlcjIwNTE4MDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/20518095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mnaylor5",
            "html_url": "https://github.com/mnaylor5",
            "followers_url": "https://api.github.com/users/mnaylor5/followers",
            "following_url": "https://api.github.com/users/mnaylor5/following{/other_user}",
            "gists_url": "https://api.github.com/users/mnaylor5/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mnaylor5/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mnaylor5/subscriptions",
            "organizations_url": "https://api.github.com/users/mnaylor5/orgs",
            "repos_url": "https://api.github.com/users/mnaylor5/repos",
            "events_url": "https://api.github.com/users/mnaylor5/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mnaylor5/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": true
          },
          "created_at": "2023-03-22T17:08:22Z",
          "updated_at": "2023-03-22T17:08:22Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks @ArthurZucker! After digging into it, I do think it will require a pretty significant refactor to support left-padding in this PR. If you're comfortable with it, I agree that it could make sense in a new PR. I just added an entry in the `MegaBlock` docstring for the new `causal_mask` coming from the pretrained model's method, and added a missing `device` for the token type IDs. \r\n\r\nAlso pulled latest changes from `main` to hopefully prevent whatever was causing the tests for exotic models to fail. I'm really happy with how this is looking, so let me know if there's anything else needed to move forward with this PR! Appreciate your comments and guidance on everything so far! :rocket:",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1479951543/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1480918167",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1480918167",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1480918167,
          "node_id": "IC_kwDOCUB6oc5YRQSX",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-23T10:09:31Z",
          "updated_at": "2023-03-23T10:09:31Z",
          "author_association": "COLLABORATOR",
          "body": "Awesome, it's alright with me to leave this to another PR. Will do my final review before pinging @sgugger for another pair of eyes! ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1480918167/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1481604527",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1481604527",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1481604527,
          "node_id": "IC_kwDOCUB6oc5YT32v",
          "user": {
            "login": "mnaylor5",
            "id": 20518095,
            "node_id": "MDQ6VXNlcjIwNTE4MDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/20518095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mnaylor5",
            "html_url": "https://github.com/mnaylor5",
            "followers_url": "https://api.github.com/users/mnaylor5/followers",
            "following_url": "https://api.github.com/users/mnaylor5/following{/other_user}",
            "gists_url": "https://api.github.com/users/mnaylor5/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mnaylor5/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mnaylor5/subscriptions",
            "organizations_url": "https://api.github.com/users/mnaylor5/orgs",
            "repos_url": "https://api.github.com/users/mnaylor5/repos",
            "events_url": "https://api.github.com/users/mnaylor5/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mnaylor5/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": true
          },
          "created_at": "2023-03-23T17:32:40Z",
          "updated_at": "2023-03-23T17:32:40Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks again @ArthurZucker and @sgugger! Appreciate the feedback, and it should all be addressed in the latest changes \ud83e\udd17 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1481604527/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 2,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1484952446",
          "html_url": "https://github.com/huggingface/transformers/pull/21766#issuecomment-1484952446",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/21766",
          "id": 1484952446,
          "node_id": "IC_kwDOCUB6oc5YgpN-",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-03-27T11:09:19Z",
          "updated_at": "2023-03-27T11:09:19Z",
          "author_association": "COLLABORATOR",
          "body": "Great working with you @mnaylor5 ! Congrats again on the merge \ud83d\udd25 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1484952446/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/36752/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/36752/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/36752/events",
      "html_url": "https://github.com/huggingface/transformers/pull/36752",
      "id": 2923075343,
      "node_id": "PR_kwDOCUB6oc6O0kaF",
      "number": 36752,
      "title": "Add Qwen2.5-Omni",
      "user": {
        "login": "BakerBunker",
        "id": 17872844,
        "node_id": "MDQ6VXNlcjE3ODcyODQ0",
        "avatar_url": "https://avatars.githubusercontent.com/u/17872844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/BakerBunker",
        "html_url": "https://github.com/BakerBunker",
        "followers_url": "https://api.github.com/users/BakerBunker/followers",
        "following_url": "https://api.github.com/users/BakerBunker/following{/other_user}",
        "gists_url": "https://api.github.com/users/BakerBunker/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/BakerBunker/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/BakerBunker/subscriptions",
        "organizations_url": "https://api.github.com/users/BakerBunker/orgs",
        "repos_url": "https://api.github.com/users/BakerBunker/repos",
        "events_url": "https://api.github.com/users/BakerBunker/events{/privacy}",
        "received_events_url": "https://api.github.com/users/BakerBunker/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1843244711,
          "node_id": "MDU6TGFiZWwxODQzMjQ0NzEx",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/New%20model",
          "name": "New model",
          "color": "fbca04",
          "default": false,
          "description": ""
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 21,
      "created_at": "2025-03-16T13:47:55Z",
      "updated_at": "2025-05-07T03:24:27Z",
      "closed_at": "2025-04-14T10:36:41Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/36752",
        "html_url": "https://github.com/huggingface/transformers/pull/36752",
        "diff_url": "https://github.com/huggingface/transformers/pull/36752.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/36752.patch",
        "merged_at": "2025-04-14T10:36:41Z"
      },
      "body": "# What does this PR do?\r\n\r\n<!--\r\nCongratulations! You've made it this far! You're not quite done yet though.\r\n\r\nOnce merged, your PR is going to appear in the release notes with the title you set, so make sure it's a great title that fully reflects the extent of your awesome contribution.\r\n\r\nThen, please replace this with a description of the change and which issue is fixed (if applicable). Please also include relevant motivation and context. List any dependencies (if any) that are required for this change.\r\n\r\nOnce you're done, someone will review your PR shortly (see the section \"Who can review?\" below to tag some potential reviewers). They may suggest changes to make the code even better. If no one reviewed your PR after a week has passed, don't hesitate to post a new comment @-mentioning the same persons---sometimes notifications get lost.\r\n-->\r\n\r\n<!-- Remove if not applicable -->\r\n\r\nAdd Qwen2.5 Omni Model\r\n\r\n\r\n## Before submitting\r\n- [x] This PR fixes a typo or improves the docs (you can dismiss the other checks if that's the case).\r\n- [x] Did you read the [contributor guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#create-a-pull-request),\r\n      Pull Request section?\r\n- [ ] Was this discussed/approved via a Github issue or the [forum](https://discuss.huggingface.co/)? Please add a link\r\n      to it if that's the case.\r\n- [x] Did you make sure to update the documentation with your changes? Here are the\r\n      [documentation guidelines](https://github.com/huggingface/transformers/tree/main/docs), and\r\n      [here are tips on formatting docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).\r\n- [x] Did you write any new necessary tests?\r\n\r\n\r\n## Who can review?\r\n\r\nAnyone in the community is free to review the PR once the tests have passed. Feel free to tag\r\nmembers/contributors who may be interested in your PR.\r\n\r\n<!-- Your PR will be replied to more quickly if you can figure out the right person to tag with @\r\n\r\n If you know how to use git blame, that is the easiest way, otherwise, here is a rough guide of **who to tag**.\r\n Please tag fewer than 3 people.\r\n\r\nModels:\r\n\r\n- text models: @ArthurZucker\r\n- vision models: @amyeroberts, @qubvel\r\n- speech models: @eustlb\r\n- graph models: @clefourrier\r\n\r\nLibrary:\r\n\r\n- flax: @gante and @Rocketknight1\r\n- generate: @zucchini-nlp (visual-language models) or @gante (all others)\r\n- pipelines: @Rocketknight1\r\n- tensorflow: @gante and @Rocketknight1\r\n- tokenizers: @ArthurZucker\r\n- trainer: @muellerzr and @SunMarc\r\n- chat templates: @Rocketknight1\r\n\r\nIntegrations:\r\n\r\n- deepspeed: HF Trainer/Accelerate: @muellerzr\r\n- ray/raytune: @richardliaw, @amogkam\r\n- Big Model Inference: @SunMarc\r\n- quantization (bitsandbytes, autogpt): @SunMarc @MekkCyber\r\n\r\nDocumentation: @stevhliu\r\n\r\nHF projects:\r\n\r\n- accelerate: [different repo](https://github.com/huggingface/accelerate)\r\n- datasets: [different repo](https://github.com/huggingface/datasets)\r\n- diffusers: [different repo](https://github.com/huggingface/diffusers)\r\n- rust tokenizers: [different repo](https://github.com/huggingface/tokenizers)\r\n\r\nMaintained examples (not research project or legacy):\r\n\r\n- Flax: @Rocketknight1\r\n- PyTorch: See Models above and tag the person corresponding to the modality of the example.\r\n- TensorFlow: @Rocketknight1\r\n\r\n -->\r\n",
      "closed_by": {
        "login": "zucchini-nlp",
        "id": 100715397,
        "node_id": "U_kgDOBgDLhQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/100715397?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zucchini-nlp",
        "html_url": "https://github.com/zucchini-nlp",
        "followers_url": "https://api.github.com/users/zucchini-nlp/followers",
        "following_url": "https://api.github.com/users/zucchini-nlp/following{/other_user}",
        "gists_url": "https://api.github.com/users/zucchini-nlp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/zucchini-nlp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zucchini-nlp/subscriptions",
        "organizations_url": "https://api.github.com/users/zucchini-nlp/orgs",
        "repos_url": "https://api.github.com/users/zucchini-nlp/repos",
        "events_url": "https://api.github.com/users/zucchini-nlp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/zucchini-nlp/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/36752/reactions",
        "total_count": 40,
        "+1": 9,
        "-1": 0,
        "laugh": 0,
        "hooray": 18,
        "confused": 0,
        "heart": 0,
        "rocket": 13,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/36752/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2727450182",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2727450182",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2727450182,
          "node_id": "IC_kwDOCUB6oc6ikZZG",
          "user": {
            "login": "github-actions[bot]",
            "id": 41898282,
            "node_id": "MDM6Qm90NDE4OTgyODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions%5Bbot%5D",
            "html_url": "https://github.com/apps/github-actions",
            "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
            "type": "Bot",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-03-16T13:48:08Z",
          "updated_at": "2025-03-16T13:48:08Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi \ud83d\udc4b, thank you for opening this pull request! The pull request is converted to draft by default. When it is ready for review, please click the `Ready for review` button (at the bottom of the PR page).",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2727450182/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": {
            "id": 15368,
            "client_id": "Iv1.05c79e9ad1f6bdfa",
            "slug": "github-actions",
            "node_id": "MDM6QXBwMTUzNjg=",
            "owner": {
              "login": "github",
              "id": 9919,
              "node_id": "MDEyOk9yZ2FuaXphdGlvbjk5MTk=",
              "avatar_url": "https://avatars.githubusercontent.com/u/9919?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/github",
              "html_url": "https://github.com/github",
              "followers_url": "https://api.github.com/users/github/followers",
              "following_url": "https://api.github.com/users/github/following{/other_user}",
              "gists_url": "https://api.github.com/users/github/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/github/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/github/subscriptions",
              "organizations_url": "https://api.github.com/users/github/orgs",
              "repos_url": "https://api.github.com/users/github/repos",
              "events_url": "https://api.github.com/users/github/events{/privacy}",
              "received_events_url": "https://api.github.com/users/github/received_events",
              "type": "Organization",
              "user_view_type": "public",
              "site_admin": false
            },
            "name": "GitHub Actions",
            "description": "Automate your workflow from idea to production",
            "external_url": "https://help.github.com/en/actions",
            "html_url": "https://github.com/apps/github-actions",
            "created_at": "2018-07-30T09:30:17Z",
            "updated_at": "2025-03-07T16:35:00Z",
            "permissions": {
              "actions": "write",
              "administration": "read",
              "attestations": "write",
              "checks": "write",
              "contents": "write",
              "deployments": "write",
              "discussions": "write",
              "issues": "write",
              "merge_queues": "write",
              "metadata": "read",
              "models": "read",
              "packages": "write",
              "pages": "write",
              "pull_requests": "write",
              "repository_hooks": "write",
              "repository_projects": "write",
              "security_events": "write",
              "statuses": "write",
              "vulnerability_alerts": "read"
            },
            "events": [
              "branch_protection_rule",
              "check_run",
              "check_suite",
              "create",
              "delete",
              "deployment",
              "deployment_status",
              "discussion",
              "discussion_comment",
              "fork",
              "gollum",
              "issues",
              "issue_comment",
              "label",
              "merge_group",
              "milestone",
              "page_build",
              "project",
              "project_card",
              "project_column",
              "public",
              "pull_request",
              "pull_request_review",
              "pull_request_review_comment",
              "push",
              "registry_package",
              "release",
              "repository",
              "repository_dispatch",
              "status",
              "watch",
              "workflow_dispatch",
              "workflow_run"
            ]
          }
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2737424493",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2737424493",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2737424493,
          "node_id": "IC_kwDOCUB6oc6jKcht",
          "user": {
            "login": "Rocketknight1",
            "id": 12866554,
            "node_id": "MDQ6VXNlcjEyODY2NTU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/12866554?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Rocketknight1",
            "html_url": "https://github.com/Rocketknight1",
            "followers_url": "https://api.github.com/users/Rocketknight1/followers",
            "following_url": "https://api.github.com/users/Rocketknight1/following{/other_user}",
            "gists_url": "https://api.github.com/users/Rocketknight1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Rocketknight1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Rocketknight1/subscriptions",
            "organizations_url": "https://api.github.com/users/Rocketknight1/orgs",
            "repos_url": "https://api.github.com/users/Rocketknight1/repos",
            "events_url": "https://api.github.com/users/Rocketknight1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Rocketknight1/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-03-19T17:06:37Z",
          "updated_at": "2025-03-19T17:06:37Z",
          "author_association": "MEMBER",
          "body": "cc @qubvel @zucchini-nlp",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2737424493/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 1
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2757038481",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2757038481",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2757038481,
          "node_id": "IC_kwDOCUB6oc6kVRGR",
          "user": {
            "login": "JJJYmmm",
            "id": 92386084,
            "node_id": "U_kgDOBYGzJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/92386084?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JJJYmmm",
            "html_url": "https://github.com/JJJYmmm",
            "followers_url": "https://api.github.com/users/JJJYmmm/followers",
            "following_url": "https://api.github.com/users/JJJYmmm/following{/other_user}",
            "gists_url": "https://api.github.com/users/JJJYmmm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/JJJYmmm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JJJYmmm/subscriptions",
            "organizations_url": "https://api.github.com/users/JJJYmmm/orgs",
            "repos_url": "https://api.github.com/users/JJJYmmm/repos",
            "events_url": "https://api.github.com/users/JJJYmmm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/JJJYmmm/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-03-27T07:47:26Z",
          "updated_at": "2025-03-27T07:47:26Z",
          "author_association": "CONTRIBUTOR",
          "body": "@BakerBunker  Hello! The caculation of `video_second_per_grid ` in omniprocessor seems incorrect which should be the inverse.\r\nhttps://github.com/huggingface/transformers/blob/3a1ead0aabed473eafe527915eea8c197d424356/src/transformers/models/qwen2_5_omni/processing_qwen2_5_omni.py#L135-L137",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2757038481/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2757958128",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2757958128",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2757958128,
          "node_id": "IC_kwDOCUB6oc6kYxnw",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-03-27T13:03:05Z",
          "updated_at": "2025-03-27T13:03:05Z",
          "author_association": "COLLABORATOR",
          "body": "Hey @BakerBunker we are super excited about the model \ud83d\udd25 do you need us to jump on the PR and help finishing it? \ud83e\udd17 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2757958128/reactions",
            "total_count": 4,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2758029046",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2758029046",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2758029046,
          "node_id": "IC_kwDOCUB6oc6kZC72",
          "user": {
            "login": "BakerBunker",
            "id": 17872844,
            "node_id": "MDQ6VXNlcjE3ODcyODQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/17872844?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/BakerBunker",
            "html_url": "https://github.com/BakerBunker",
            "followers_url": "https://api.github.com/users/BakerBunker/followers",
            "following_url": "https://api.github.com/users/BakerBunker/following{/other_user}",
            "gists_url": "https://api.github.com/users/BakerBunker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/BakerBunker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/BakerBunker/subscriptions",
            "organizations_url": "https://api.github.com/users/BakerBunker/orgs",
            "repos_url": "https://api.github.com/users/BakerBunker/repos",
            "events_url": "https://api.github.com/users/BakerBunker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/BakerBunker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-03-27T13:23:03Z",
          "updated_at": "2025-03-27T13:23:03Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ArthurZucker Yes! Our code is refactored and ready to be reviewed. Tests will update tomorrow.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2758029046/reactions",
            "total_count": 4,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2758035355",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2758035355",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2758035355,
          "node_id": "IC_kwDOCUB6oc6kZEeb",
          "user": {
            "login": "BakerBunker",
            "id": 17872844,
            "node_id": "MDQ6VXNlcjE3ODcyODQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/17872844?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/BakerBunker",
            "html_url": "https://github.com/BakerBunker",
            "followers_url": "https://api.github.com/users/BakerBunker/followers",
            "following_url": "https://api.github.com/users/BakerBunker/following{/other_user}",
            "gists_url": "https://api.github.com/users/BakerBunker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/BakerBunker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/BakerBunker/subscriptions",
            "organizations_url": "https://api.github.com/users/BakerBunker/orgs",
            "repos_url": "https://api.github.com/users/BakerBunker/repos",
            "events_url": "https://api.github.com/users/BakerBunker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/BakerBunker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-03-27T13:25:22Z",
          "updated_at": "2025-03-27T13:25:22Z",
          "author_association": "CONTRIBUTOR",
          "body": "@JJJYmmm Thank you for your correction! we have fixed it in the latest commit.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2758035355/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 1,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2763120222",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2763120222",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2763120222,
          "node_id": "IC_kwDOCUB6oc6ksd5e",
          "user": {
            "login": "spydaz",
            "id": 13054803,
            "node_id": "MDQ6VXNlcjEzMDU0ODAz",
            "avatar_url": "https://avatars.githubusercontent.com/u/13054803?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/spydaz",
            "html_url": "https://github.com/spydaz",
            "followers_url": "https://api.github.com/users/spydaz/followers",
            "following_url": "https://api.github.com/users/spydaz/following{/other_user}",
            "gists_url": "https://api.github.com/users/spydaz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/spydaz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/spydaz/subscriptions",
            "organizations_url": "https://api.github.com/users/spydaz/orgs",
            "repos_url": "https://api.github.com/users/spydaz/repos",
            "events_url": "https://api.github.com/users/spydaz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/spydaz/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-03-29T05:48:53Z",
          "updated_at": "2025-03-29T05:49:22Z",
          "author_association": "NONE",
          "body": "hey this need to be focussed on now as the model is released and people are pulling this merged fork ? this fork is way behind the current fork !\r\n\r\nPlease request that baker bunker align his pr to the current Fork ! so it is upto date !! before merging this pr\r\n\r\na lot happend in two weeks !",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2763120222/reactions",
            "total_count": 4,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2764677231",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2764677231",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2764677231,
          "node_id": "IC_kwDOCUB6oc6kyaBv",
          "user": {
            "login": "BakerBunker",
            "id": 17872844,
            "node_id": "MDQ6VXNlcjE3ODcyODQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/17872844?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/BakerBunker",
            "html_url": "https://github.com/BakerBunker",
            "followers_url": "https://api.github.com/users/BakerBunker/followers",
            "following_url": "https://api.github.com/users/BakerBunker/following{/other_user}",
            "gists_url": "https://api.github.com/users/BakerBunker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/BakerBunker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/BakerBunker/subscriptions",
            "organizations_url": "https://api.github.com/users/BakerBunker/orgs",
            "repos_url": "https://api.github.com/users/BakerBunker/repos",
            "events_url": "https://api.github.com/users/BakerBunker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/BakerBunker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-03-30T18:02:03Z",
          "updated_at": "2025-03-30T18:02:03Z",
          "author_association": "CONTRIBUTOR",
          "body": "@zucchini-nlp We have changed the code which marked as resolved above. Tests will update when the modular part is ready to merge.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2764677231/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2764686022",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2764686022",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2764686022,
          "node_id": "IC_kwDOCUB6oc6kycLG",
          "user": {
            "login": "BakerBunker",
            "id": 17872844,
            "node_id": "MDQ6VXNlcjE3ODcyODQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/17872844?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/BakerBunker",
            "html_url": "https://github.com/BakerBunker",
            "followers_url": "https://api.github.com/users/BakerBunker/followers",
            "following_url": "https://api.github.com/users/BakerBunker/following{/other_user}",
            "gists_url": "https://api.github.com/users/BakerBunker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/BakerBunker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/BakerBunker/subscriptions",
            "organizations_url": "https://api.github.com/users/BakerBunker/orgs",
            "repos_url": "https://api.github.com/users/BakerBunker/repos",
            "events_url": "https://api.github.com/users/BakerBunker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/BakerBunker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-03-30T18:23:53Z",
          "updated_at": "2025-03-30T18:23:53Z",
          "author_association": "CONTRIBUTOR",
          "body": "@spydaz We merge the changes in main branch.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2764686022/reactions",
            "total_count": 4,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2771552252",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2771552252",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2771552252,
          "node_id": "IC_kwDOCUB6oc6lMof8",
          "user": {
            "login": "hackerHiJu",
            "id": 33802673,
            "node_id": "MDQ6VXNlcjMzODAyNjcz",
            "avatar_url": "https://avatars.githubusercontent.com/u/33802673?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hackerHiJu",
            "html_url": "https://github.com/hackerHiJu",
            "followers_url": "https://api.github.com/users/hackerHiJu/followers",
            "following_url": "https://api.github.com/users/hackerHiJu/following{/other_user}",
            "gists_url": "https://api.github.com/users/hackerHiJu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hackerHiJu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hackerHiJu/subscriptions",
            "organizations_url": "https://api.github.com/users/hackerHiJu/orgs",
            "repos_url": "https://api.github.com/users/hackerHiJu/repos",
            "events_url": "https://api.github.com/users/hackerHiJu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hackerHiJu/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-04-02T07:15:57Z",
          "updated_at": "2025-04-02T07:15:57Z",
          "author_association": "NONE",
          "body": "Why do I still report the error when I start it? \r\n\r\npip install git+https://github.com/huggingface/transformers@ae155233810e241033a0b42bcf49f167ff15518c\r\n\r\n![image](https://github.com/user-attachments/assets/e5b4c089-05df-467a-ace9-d2589864e58b)\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2771552252/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2772423106",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2772423106",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2772423106,
          "node_id": "IC_kwDOCUB6oc6lP9HC",
          "user": {
            "login": "zucchini-nlp",
            "id": 100715397,
            "node_id": "U_kgDOBgDLhQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/100715397?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zucchini-nlp",
            "html_url": "https://github.com/zucchini-nlp",
            "followers_url": "https://api.github.com/users/zucchini-nlp/followers",
            "following_url": "https://api.github.com/users/zucchini-nlp/following{/other_user}",
            "gists_url": "https://api.github.com/users/zucchini-nlp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zucchini-nlp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zucchini-nlp/subscriptions",
            "organizations_url": "https://api.github.com/users/zucchini-nlp/orgs",
            "repos_url": "https://api.github.com/users/zucchini-nlp/repos",
            "events_url": "https://api.github.com/users/zucchini-nlp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zucchini-nlp/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-04-02T12:34:43Z",
          "updated_at": "2025-04-02T12:34:43Z",
          "author_association": "MEMBER",
          "body": "Btw, I will be doing some clean up since having Qwen2-5-Omni in tomorrow's release would be super nice",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2772423106/reactions",
            "total_count": 4,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 4,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2774212433",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2774212433",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2774212433,
          "node_id": "IC_kwDOCUB6oc6lWx9R",
          "user": {
            "login": "wangxiongts",
            "id": 22543219,
            "node_id": "MDQ6VXNlcjIyNTQzMjE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/22543219?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wangxiongts",
            "html_url": "https://github.com/wangxiongts",
            "followers_url": "https://api.github.com/users/wangxiongts/followers",
            "following_url": "https://api.github.com/users/wangxiongts/following{/other_user}",
            "gists_url": "https://api.github.com/users/wangxiongts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wangxiongts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wangxiongts/subscriptions",
            "organizations_url": "https://api.github.com/users/wangxiongts/orgs",
            "repos_url": "https://api.github.com/users/wangxiongts/repos",
            "events_url": "https://api.github.com/users/wangxiongts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wangxiongts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-04-03T02:29:35Z",
          "updated_at": "2025-04-03T02:29:35Z",
          "author_association": "NONE",
          "body": "@zucchini-nlp Hello, before you determine the final version which need to merge into the main branch, please notify our team that we need to conduct a verification of the correctness of the model output. Thanks!\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2774212433/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2774747863",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2774747863",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2774747863,
          "node_id": "IC_kwDOCUB6oc6lY0rX",
          "user": {
            "login": "zucchini-nlp",
            "id": 100715397,
            "node_id": "U_kgDOBgDLhQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/100715397?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zucchini-nlp",
            "html_url": "https://github.com/zucchini-nlp",
            "followers_url": "https://api.github.com/users/zucchini-nlp/followers",
            "following_url": "https://api.github.com/users/zucchini-nlp/following{/other_user}",
            "gists_url": "https://api.github.com/users/zucchini-nlp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zucchini-nlp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zucchini-nlp/subscriptions",
            "organizations_url": "https://api.github.com/users/zucchini-nlp/orgs",
            "repos_url": "https://api.github.com/users/zucchini-nlp/repos",
            "events_url": "https://api.github.com/users/zucchini-nlp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zucchini-nlp/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-04-03T07:35:41Z",
          "updated_at": "2025-04-03T07:35:41Z",
          "author_association": "MEMBER",
          "body": "@wangxiongts yes, should be ready now, so feel free to review. I tested with video-only input and ran dummy weight tests for image+audio. I didn't test the audio generation yet",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2774747863/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2776110775",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2776110775",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2776110775,
          "node_id": "IC_kwDOCUB6oc6leBa3",
          "user": {
            "login": "wangxiongts",
            "id": 22543219,
            "node_id": "MDQ6VXNlcjIyNTQzMjE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/22543219?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wangxiongts",
            "html_url": "https://github.com/wangxiongts",
            "followers_url": "https://api.github.com/users/wangxiongts/followers",
            "following_url": "https://api.github.com/users/wangxiongts/following{/other_user}",
            "gists_url": "https://api.github.com/users/wangxiongts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wangxiongts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wangxiongts/subscriptions",
            "organizations_url": "https://api.github.com/users/wangxiongts/orgs",
            "repos_url": "https://api.github.com/users/wangxiongts/repos",
            "events_url": "https://api.github.com/users/wangxiongts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wangxiongts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-04-03T15:08:31Z",
          "updated_at": "2025-04-03T15:09:26Z",
          "author_association": "NONE",
          "body": "> @wangxiongts yes, should be ready now, so feel free to review. I tested with video-only input and ran dummy weight tests for image+audio. I didn't test the audio generation yet\r\n\r\nEmmm, have you tested through real data? I used the infer sample code we show in our readme(https://github.com/QwenLM/Qwen2.5-Omni?tab=readme-ov-file#--transformers-usage). After modifying the sample code through the current model doc, such errors were found when running, so it seems that the code may need to be modified to adapt to the real data, I don't think we can merge yet.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2776110775/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2776130902",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2776130902",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2776130902,
          "node_id": "IC_kwDOCUB6oc6leGVW",
          "user": {
            "login": "wangxiongts",
            "id": 22543219,
            "node_id": "MDQ6VXNlcjIyNTQzMjE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/22543219?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wangxiongts",
            "html_url": "https://github.com/wangxiongts",
            "followers_url": "https://api.github.com/users/wangxiongts/followers",
            "following_url": "https://api.github.com/users/wangxiongts/following{/other_user}",
            "gists_url": "https://api.github.com/users/wangxiongts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wangxiongts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wangxiongts/subscriptions",
            "organizations_url": "https://api.github.com/users/wangxiongts/orgs",
            "repos_url": "https://api.github.com/users/wangxiongts/repos",
            "events_url": "https://api.github.com/users/wangxiongts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wangxiongts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-04-03T15:12:31Z",
          "updated_at": "2025-04-03T15:12:31Z",
          "author_association": "NONE",
          "body": "In addition, it is worth noting that in Qwen2.5-Omni-7B, `video_fps` should be set to 2 by default to match the training process. We should not allow users to modify this value at will, which may cause unpredictable performance decreases.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2776130902/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2776294126",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2776294126",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2776294126,
          "node_id": "IC_kwDOCUB6oc6leuLu",
          "user": {
            "login": "zucchini-nlp",
            "id": 100715397,
            "node_id": "U_kgDOBgDLhQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/100715397?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zucchini-nlp",
            "html_url": "https://github.com/zucchini-nlp",
            "followers_url": "https://api.github.com/users/zucchini-nlp/followers",
            "following_url": "https://api.github.com/users/zucchini-nlp/following{/other_user}",
            "gists_url": "https://api.github.com/users/zucchini-nlp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zucchini-nlp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zucchini-nlp/subscriptions",
            "organizations_url": "https://api.github.com/users/zucchini-nlp/orgs",
            "repos_url": "https://api.github.com/users/zucchini-nlp/repos",
            "events_url": "https://api.github.com/users/zucchini-nlp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zucchini-nlp/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-04-03T16:08:11Z",
          "updated_at": "2025-04-03T16:08:11Z",
          "author_association": "MEMBER",
          "body": "@wangxiongts yes I tested on real data for video only but didn't have time to run audio generation yesterday. Indeed a few typos have slipped when renaming one letter variables, the last commit fixes them. A few changes still are needed in the official inference example, to adapt with the last commit. This is inference script after adapting it\r\n\r\n```python\r\nimport soundfile as sf\r\n\r\nfrom transformers import Qwen2_5OmniForConditionalGeneration, Qwen2_5OmniProcessor # model name changed\r\nfrom qwen_omni_utils import process_mm_info\r\n\r\n# We recommend enabling flash_attention_2 for better acceleration and memory saving.\r\nmodel = Qwen2_5OmniForConditionalGeneration.from_pretrained(\r\n    \"Qwen/Qwen2.5-Omni-7B\",\r\n    torch_dtype=\"bfloat16\",\r\n    device_map=\"auto\",\r\n    attn_implementation=\"flash_attention_2\",\r\n)\r\n\r\nprocessor = Qwen2_5OmniProcessor.from_pretrained(\"Qwen/Qwen2.5-Omni-7B\")\r\n\r\n# each content has to be list of dicts in multimodals, some internal code is based on this assumption. I verified the template on hub correctly formats it\r\nconversation = [\r\n    {\r\n        \"role\": \"system\",\r\n        \"content\": [\r\n            {\"type\": \"text\", \"text\": \"You are Qwen, a virtual human developed by the Qwen Team, Alibaba Group, capable of perceiving auditory and visual inputs, as well as generating text and speech.\"}\r\n        ],\r\n    },\r\n    {\r\n        \"role\": \"user\",\r\n        \"content\": [\r\n            {\"type\": \"video\", \"video\": \"https://qianwen-res.oss-cn-beijing.aliyuncs.com/Qwen2.5-Omni/draw.mp4\"},\r\n        ],\r\n    },\r\n]\r\n\r\n# set use audio in video\r\nUSE_AUDIO_IN_VIDEO = True\r\n\r\n# Preparation for inference\r\ntext = processor.apply_chat_template(conversation, add_generation_prompt=True, tokenize=False)\r\naudios, images, videos = process_mm_info(conversation, use_audio_in_video=USE_AUDIO_IN_VIDEO)\r\ninputs = processor(text=text, audio=audios, images=images, videos=videos, return_tensors=\"pt\", padding=True, use_audio_in_video=USE_AUDIO_IN_VIDEO)  # keyword args is audio\r\ninputs = inputs.to(model.device).to(model.dtype)\r\n\r\n# Inference: Generation of the output text and audio\r\ntext_ids, audio = model.generate(**inputs, use_audio_in_video=USE_AUDIO_IN_VIDEO)\r\n\r\ntext = processor.batch_decode(text_ids, skip_special_tokens=True, clean_up_tokenization_spaces=False)\r\nprint(text)\r\nsf.write(\r\n    \"output.wav\",\r\n    audio.reshape(-1).detach().cpu().numpy(),\r\n    samplerate=24000,\r\n)\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2776294126/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2776490831",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2776490831",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2776490831,
          "node_id": "IC_kwDOCUB6oc6lfeNP",
          "user": {
            "login": "wangxiongts",
            "id": 22543219,
            "node_id": "MDQ6VXNlcjIyNTQzMjE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/22543219?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wangxiongts",
            "html_url": "https://github.com/wangxiongts",
            "followers_url": "https://api.github.com/users/wangxiongts/followers",
            "following_url": "https://api.github.com/users/wangxiongts/following{/other_user}",
            "gists_url": "https://api.github.com/users/wangxiongts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wangxiongts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wangxiongts/subscriptions",
            "organizations_url": "https://api.github.com/users/wangxiongts/orgs",
            "repos_url": "https://api.github.com/users/wangxiongts/repos",
            "events_url": "https://api.github.com/users/wangxiongts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wangxiongts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-04-03T17:32:55Z",
          "updated_at": "2025-04-03T17:32:55Z",
          "author_association": "NONE",
          "body": "In addition, another situation is that starting today, we will be on a national holiday in China, so can the merge operation be launched next Monday, so that we can update readme/docker/vllm/cookbooks simultaneously to prevent some users from encountering various problems that cannot run after pulling the latest transformers. Thanks :)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2776490831/reactions",
            "total_count": 3,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2776528962",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2776528962",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2776528962,
          "node_id": "IC_kwDOCUB6oc6lfnhC",
          "user": {
            "login": "zucchini-nlp",
            "id": 100715397,
            "node_id": "U_kgDOBgDLhQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/100715397?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zucchini-nlp",
            "html_url": "https://github.com/zucchini-nlp",
            "followers_url": "https://api.github.com/users/zucchini-nlp/followers",
            "following_url": "https://api.github.com/users/zucchini-nlp/following{/other_user}",
            "gists_url": "https://api.github.com/users/zucchini-nlp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zucchini-nlp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zucchini-nlp/subscriptions",
            "organizations_url": "https://api.github.com/users/zucchini-nlp/orgs",
            "repos_url": "https://api.github.com/users/zucchini-nlp/repos",
            "events_url": "https://api.github.com/users/zucchini-nlp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zucchini-nlp/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-04-03T17:51:03Z",
          "updated_at": "2025-04-03T17:51:03Z",
          "author_association": "MEMBER",
          "body": "@wietsedv sure, we will release after you are back then. Enjoy!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2776528962/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2799917945",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2799917945",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2799917945,
          "node_id": "IC_kwDOCUB6oc6m41t5",
          "user": {
            "login": "weedge",
            "id": 1203957,
            "node_id": "MDQ6VXNlcjEyMDM5NTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1203957?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/weedge",
            "html_url": "https://github.com/weedge",
            "followers_url": "https://api.github.com/users/weedge/followers",
            "following_url": "https://api.github.com/users/weedge/following{/other_user}",
            "gists_url": "https://api.github.com/users/weedge/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/weedge/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/weedge/subscriptions",
            "organizations_url": "https://api.github.com/users/weedge/orgs",
            "repos_url": "https://api.github.com/users/weedge/repos",
            "events_url": "https://api.github.com/users/weedge/events{/privacy}",
            "received_events_url": "https://api.github.com/users/weedge/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-04-13T11:40:56Z",
          "updated_at": "2025-04-22T03:56:43Z",
          "author_association": "NONE",
          "body": "hi, test thinker can stream out text, but talker how to stream out audio together: https://github.com/fyabc/vllm/blob/729feed3ec2beefe63fda30a345ef363d08062f8/vllm/engine/omni_llm_engine.py#L1965\r\n\r\n- run streaming cases\r\n```shell\r\n# run streaming cases\r\n## run thinker-only token streaming\r\ncurl -s https://raw.githubusercontent.com/ai-bot-pro/achatbot/refs/heads/feat/vision_voice/deploy/modal/src/llm/transformers/run_omni_cases.sh | bash -s -- -s run -m qwen2_5omni -c asr_stream -d L4\r\n\r\n## run thinker-only chunk streaming\r\ncurl -s https://raw.githubusercontent.com/ai-bot-pro/achatbot/refs/heads/feat/vision_voice/deploy/modal/src/llm/transformers/run_omni_cases.sh | bash -s -- -s run -m qwen2_5omni -c thinker_chunk_stream -d L4\r\n\r\n## run thinker talker-token code2wav-chunk streaming\r\ncurl -s https://raw.githubusercontent.com/ai-bot-pro/achatbot/refs/heads/feat/vision_voice/deploy/modal/src/llm/transformers/run_omni_cases.sh | bash -s -- -s run -m qwen2_5omni -c omni_chatting_stream -d L4\r\n\r\n## run text -> text+speech | thinker-chunk talker-token code2wav-chunk streaming\r\ncurl -s https://raw.githubusercontent.com/ai-bot-pro/achatbot/refs/heads/feat/vision_voice/deploy/modal/src/llm/transformers/run_omni_cases.sh | bash -s -- -s run -m qwen2_5omni -c omni_chatting_segment_stream -d L40s\r\n\r\n## run  vision (video with audio) -> text+speech | thinker-chunk talker-token code2wav-chunk streaming\r\ncurl -s https://raw.githubusercontent.com/ai-bot-pro/achatbot/refs/heads/feat/vision_voice/deploy/modal/src/llm/transformers/run_omni_cases.sh | bash -s -- -s run -m qwen2_5omni -c screen_recording_interaction_stream -d L40s\r\ncurl -s https://raw.githubusercontent.com/ai-bot-pro/achatbot/refs/heads/feat/vision_voice/deploy/modal/src/llm/transformers/run_omni_cases.sh | bash -s -- -s run -m qwen2_5omni -c screen_recording_interaction_chunk_stream -d L40s\r\ncurl -s https://raw.githubusercontent.com/ai-bot-pro/achatbot/refs/heads/feat/vision_voice/deploy/modal/src/llm/transformers/run_omni_cases.sh | bash -s -- -s run -m qwen2_5omni -c video_information_extracting_stream -d L40s\r\ncurl -s https://raw.githubusercontent.com/ai-bot-pro/achatbot/refs/heads/feat/vision_voice/deploy/modal/src/llm/transformers/run_omni_cases.sh | bash -s -- -s run -m qwen2_5omni -c video_information_extracting_chunk_stream -d L40s\r\ncurl -s https://raw.githubusercontent.com/ai-bot-pro/achatbot/refs/heads/feat/vision_voice/deploy/modal/src/llm/transformers/run_omni_cases.sh | bash -s -- -s run -m qwen2_5omni -c omni_chatting_for_math_stream -d L40s\r\ncurl -s https://raw.githubusercontent.com/ai-bot-pro/achatbot/refs/heads/feat/vision_voice/deploy/modal/src/llm/transformers/run_omni_cases.sh | bash -s -- -s run -m qwen2_5omni -c omni_chatting_for_music_stream -d L40s\r\ncurl -s https://raw.githubusercontent.com/ai-bot-pro/achatbot/refs/heads/feat/vision_voice/deploy/modal/src/llm/transformers/run_omni_cases.sh | bash -s -- -s run -m qwen2_5omni -c omni_chatting_for_math_chunk_stream -d L40s\r\ncurl -s https://raw.githubusercontent.com/ai-bot-pro/achatbot/refs/heads/feat/vision_voice/deploy/modal/src/llm/transformers/run_omni_cases.sh | bash -s -- -s run -m qwen2_5omni -c omni_chatting_for_music_chunk_stream -d L40s\r\n\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2799917945/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2801273051",
          "html_url": "https://github.com/huggingface/transformers/pull/36752#issuecomment-2801273051",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/36752",
          "id": 2801273051,
          "node_id": "IC_kwDOCUB6oc6m-Ajb",
          "user": {
            "login": "zucchini-nlp",
            "id": 100715397,
            "node_id": "U_kgDOBgDLhQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/100715397?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zucchini-nlp",
            "html_url": "https://github.com/zucchini-nlp",
            "followers_url": "https://api.github.com/users/zucchini-nlp/followers",
            "following_url": "https://api.github.com/users/zucchini-nlp/following{/other_user}",
            "gists_url": "https://api.github.com/users/zucchini-nlp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zucchini-nlp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zucchini-nlp/subscriptions",
            "organizations_url": "https://api.github.com/users/zucchini-nlp/orgs",
            "repos_url": "https://api.github.com/users/zucchini-nlp/repos",
            "events_url": "https://api.github.com/users/zucchini-nlp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zucchini-nlp/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-04-14T10:36:37Z",
          "updated_at": "2025-04-14T10:36:37Z",
          "author_association": "MEMBER",
          "body": "Merging, thanks everyone for you help \ud83d\ude80 \r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2801273051/reactions",
            "total_count": 3,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 3,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/18559/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/18559/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/18559/events",
      "html_url": "https://github.com/huggingface/transformers/pull/18559",
      "id": 1334837434,
      "node_id": "PR_kwDOCUB6oc48-BGW",
      "number": 18559,
      "title": "[WIP]Add TF BEiT Implementation",
      "user": {
        "login": "MadElf1337",
        "id": 34575523,
        "node_id": "MDQ6VXNlcjM0NTc1NTIz",
        "avatar_url": "https://avatars.githubusercontent.com/u/34575523?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MadElf1337",
        "html_url": "https://github.com/MadElf1337",
        "followers_url": "https://api.github.com/users/MadElf1337/followers",
        "following_url": "https://api.github.com/users/MadElf1337/following{/other_user}",
        "gists_url": "https://api.github.com/users/MadElf1337/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/MadElf1337/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/MadElf1337/subscriptions",
        "organizations_url": "https://api.github.com/users/MadElf1337/orgs",
        "repos_url": "https://api.github.com/users/MadElf1337/repos",
        "events_url": "https://api.github.com/users/MadElf1337/events{/privacy}",
        "received_events_url": "https://api.github.com/users/MadElf1337/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 161,
      "created_at": "2022-08-10T15:55:27Z",
      "updated_at": "2024-04-17T15:18:29Z",
      "closed_at": "2024-04-17T12:50:24Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "draft": true,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/18559",
        "html_url": "https://github.com/huggingface/transformers/pull/18559",
        "diff_url": "https://github.com/huggingface/transformers/pull/18559.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/18559.patch",
        "merged_at": null
      },
      "body": "Porting BEiT model from PyTorch to TensorFlow backend\r\n\r\n# What does this PR do?\r\n\r\n<!--\r\nCongratulations! You've made it this far! You're not quite done yet though.\r\n\r\nOnce merged, your PR is going to appear in the release notes with the title you set, so make sure it's a great title that fully reflects the extent of your awesome contribution.\r\n\r\nThen, please replace this with a description of the change and which issue is fixed (if applicable). Please also include relevant motivation and context. List any dependencies (if any) that are required for this change.\r\n\r\nOnce you're done, someone will review your PR shortly (see the section \"Who can review?\" below to tag some potential reviewers). They may suggest changes to make the code even better. If no one reviewed your PR after a week has passed, don't hesitate to post a new comment @-mentioning the same persons---sometimes notifications get lost.\r\n-->\r\n\r\n<!-- Remove if not applicable -->\r\n\r\nFixes #18085 \r\n\r\n\r\n## Before submitting\r\n- [ ] This PR fixes a typo or improves the docs (you can dismiss the other checks if that's the case).\r\n- [x] Did you read the [contributor guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#start-contributing-pull-requests),\r\n      Pull Request section?\r\n- [x] Was this discussed/approved via a Github issue or the [forum](https://discuss.huggingface.co/)? Please add a link\r\n      to it if that's the case.\r\n- [x] Did you make sure to update the documentation with your changes? Here are the\r\n      [documentation guidelines](https://github.com/huggingface/transformers/tree/main/docs), and\r\n      [here are tips on formatting docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).\r\n- [x] Did you write any new necessary tests?\r\n\r\n\r\n## Who can review?\r\n\r\nAnyone in the community is free to review the PR once the tests have passed. Feel free to tag\r\nmembers/contributors who may be interested in your PR.\r\n\r\n@amyeroberts @gante @LysandreJik @NielsRogge \r\n\r\n<!-- Your PR will be replied to more quickly if you can figure out the right person to tag with @\r\n\r\n If you know how to use git blame, that is the easiest way, otherwise, here is a rough guide of **who to tag**.\r\n Please tag fewer than 3 people.\r\n\r\nModels:\r\n\r\n- albert, bert, xlm: @LysandreJik\r\n- blenderbot, bart, marian, pegasus, encoderdecoder,  t5: @patrickvonplaten, @patil-suraj\r\n- longformer, reformer, transfoxl, xlnet: @patrickvonplaten\r\n- fsmt: @stas00\r\n- funnel: @sgugger\r\n- gpt2: @patrickvonplaten, @LysandreJik\r\n- rag: @patrickvonplaten, @lhoestq\r\n- tensorflow: @LysandreJik\r\n\r\nLibrary:\r\n\r\n- benchmarks: @patrickvonplaten\r\n- deepspeed: @stas00\r\n- ray/raytune: @richardliaw, @amogkam\r\n- text generation: @patrickvonplaten\r\n- tokenizers: @n1t0, @LysandreJik\r\n- trainer: @sgugger\r\n- pipelines: @LysandreJik\r\n\r\nDocumentation: @sgugger\r\n\r\nHF projects:\r\n\r\n- datasets: [different repo](https://github.com/huggingface/datasets)\r\n- rust tokenizers: [different repo](https://github.com/huggingface/tokenizers)\r\n\r\nExamples:\r\n\r\n- maintained examples (not research project or legacy): @sgugger, @patil-suraj\r\n- research_projects/bert-loses-patience: @JetRunner\r\n- research_projects/distillation: @VictorSanh\r\n\r\n -->\r\n",
      "closed_by": {
        "login": "amyeroberts",
        "id": 22614925,
        "node_id": "MDQ6VXNlcjIyNjE0OTI1",
        "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amyeroberts",
        "html_url": "https://github.com/amyeroberts",
        "followers_url": "https://api.github.com/users/amyeroberts/followers",
        "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
        "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
        "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
        "repos_url": "https://api.github.com/users/amyeroberts/repos",
        "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
        "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/18559/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/18559/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1210910910",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1210910910",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1210910910,
          "node_id": "IC_kwDOCUB6oc5ILQi-",
          "user": {
            "login": "MadElf1337",
            "id": 34575523,
            "node_id": "MDQ6VXNlcjM0NTc1NTIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/34575523?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MadElf1337",
            "html_url": "https://github.com/MadElf1337",
            "followers_url": "https://api.github.com/users/MadElf1337/followers",
            "following_url": "https://api.github.com/users/MadElf1337/following{/other_user}",
            "gists_url": "https://api.github.com/users/MadElf1337/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MadElf1337/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MadElf1337/subscriptions",
            "organizations_url": "https://api.github.com/users/MadElf1337/orgs",
            "repos_url": "https://api.github.com/users/MadElf1337/repos",
            "events_url": "https://api.github.com/users/MadElf1337/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MadElf1337/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-08-10T15:59:02Z",
          "updated_at": "2022-08-10T15:59:02Z",
          "author_association": "NONE",
          "body": "@gante @amyeroberts Here's the WIP draft of BEiT!\r\n\r\nPlease tell me if I have done anything wrong, I'll make the changes right away!\r\n\r\nThanks!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1210910910/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1210930322",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1210930322",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1210930322,
          "node_id": "IC_kwDOCUB6oc5ILVSS",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-08-10T16:07:58Z",
          "updated_at": "2022-08-10T16:07:58Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_18559). All of your documentation changes will be reflected on that endpoint.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1210930322/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1215017393",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1215017393",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1215017393,
          "node_id": "IC_kwDOCUB6oc5Ia7Gx",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-08-15T13:30:20Z",
          "updated_at": "2022-08-15T13:30:20Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @MadElf1337 - thanks for opening a PR and for adding this model! Outline looks good. \r\n\r\nAs a quick overview, I see two main things that you'll want to add (alongside docs and tests): \r\n* `# Copied from` in the TF data2vec model definition\r\n* `TFBeitForXxx` classes\r\n\r\nLooking forward to seeing the full PR and having this model available for our TF users :) ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1215017393/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1215223885",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1215223885",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1215223885,
          "node_id": "IC_kwDOCUB6oc5IbthN",
          "user": {
            "login": "MadElf1337",
            "id": 34575523,
            "node_id": "MDQ6VXNlcjM0NTc1NTIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/34575523?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MadElf1337",
            "html_url": "https://github.com/MadElf1337",
            "followers_url": "https://api.github.com/users/MadElf1337/followers",
            "following_url": "https://api.github.com/users/MadElf1337/following{/other_user}",
            "gists_url": "https://api.github.com/users/MadElf1337/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MadElf1337/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MadElf1337/subscriptions",
            "organizations_url": "https://api.github.com/users/MadElf1337/orgs",
            "repos_url": "https://api.github.com/users/MadElf1337/repos",
            "events_url": "https://api.github.com/users/MadElf1337/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MadElf1337/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-08-15T15:55:28Z",
          "updated_at": "2022-08-15T15:55:28Z",
          "author_association": "NONE",
          "body": "@amyeroberts Sure! I'll make the changes!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1215223885/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1236266144",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1236266144",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1236266144,
          "node_id": "IC_kwDOCUB6oc5Jr-yg",
          "user": {
            "login": "MadElf1337",
            "id": 34575523,
            "node_id": "MDQ6VXNlcjM0NTc1NTIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/34575523?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MadElf1337",
            "html_url": "https://github.com/MadElf1337",
            "followers_url": "https://api.github.com/users/MadElf1337/followers",
            "following_url": "https://api.github.com/users/MadElf1337/following{/other_user}",
            "gists_url": "https://api.github.com/users/MadElf1337/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MadElf1337/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MadElf1337/subscriptions",
            "organizations_url": "https://api.github.com/users/MadElf1337/orgs",
            "repos_url": "https://api.github.com/users/MadElf1337/repos",
            "events_url": "https://api.github.com/users/MadElf1337/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MadElf1337/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-09-04T05:59:39Z",
          "updated_at": "2022-09-04T05:59:39Z",
          "author_association": "NONE",
          "body": "@amyeroberts @gante So I think I'm done with the model, can you just look over it once while I'll finish writing the tests?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1236266144/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1236717108",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1236717108",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1236717108,
          "node_id": "IC_kwDOCUB6oc5Jts40",
          "user": {
            "login": "gante",
            "id": 12240844,
            "node_id": "MDQ6VXNlcjEyMjQwODQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/12240844?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gante",
            "html_url": "https://github.com/gante",
            "followers_url": "https://api.github.com/users/gante/followers",
            "following_url": "https://api.github.com/users/gante/following{/other_user}",
            "gists_url": "https://api.github.com/users/gante/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gante/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gante/subscriptions",
            "organizations_url": "https://api.github.com/users/gante/orgs",
            "repos_url": "https://api.github.com/users/gante/repos",
            "events_url": "https://api.github.com/users/gante/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gante/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-09-05T08:51:20Z",
          "updated_at": "2022-09-05T08:51:20Z",
          "author_association": "MEMBER",
          "body": "@MadElf1337 From a quick glance, the model code looks fine \ud83d\udc4d As always, the devil is in the details, so you likely come across issues in the tests. Lets us know if you get stuck in a particular test (tip: `breakpoint()` + comparing to PT are your friends)\r\n\r\nWill do an in-depth review when the tests are added.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1236717108/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1253620251",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1253620251",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1253620251,
          "node_id": "IC_kwDOCUB6oc5KuLob",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-09-21T12:13:22Z",
          "updated_at": "2022-09-21T12:13:22Z",
          "author_association": "COLLABORATOR",
          "body": "@MadElf1337 As discussed on the issue #18085 [here](https://github.com/huggingface/transformers/issues/18085#issuecomment-1210544100) for this model, we want to copy the relevant code in data2vec to `modeling_tf_beit.py`, then add the necessary `#Copied from` statements in `modeling_tf_data2vec.py` i.e. `modeling_tf_beit.py` and modeling_tf_data2vec.py` should have the same structure and equivalent `#Copied from` statements as in `modeling_beit.py` and `modeling_data2vec.py`. Let me know if any of this isn't clear or you need any help.  ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1253620251/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1253799973",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1253799973",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1253799973,
          "node_id": "IC_kwDOCUB6oc5Ku3gl",
          "user": {
            "login": "MadElf1337",
            "id": 34575523,
            "node_id": "MDQ6VXNlcjM0NTc1NTIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/34575523?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MadElf1337",
            "html_url": "https://github.com/MadElf1337",
            "followers_url": "https://api.github.com/users/MadElf1337/followers",
            "following_url": "https://api.github.com/users/MadElf1337/following{/other_user}",
            "gists_url": "https://api.github.com/users/MadElf1337/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MadElf1337/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MadElf1337/subscriptions",
            "organizations_url": "https://api.github.com/users/MadElf1337/orgs",
            "repos_url": "https://api.github.com/users/MadElf1337/repos",
            "events_url": "https://api.github.com/users/MadElf1337/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MadElf1337/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-09-21T14:32:54Z",
          "updated_at": "2022-09-21T14:32:54Z",
          "author_association": "NONE",
          "body": "Yeah yeah it was clear, just wanted to see if the broad architecture was written correctly or not, once I complete the tests(I\u2019m a bit stuck on the attention output test for tf), I\u2019ll do the formatting, add the comments and then ask for a complete review",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1253799973/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1262134546",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1262134546",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1262134546,
          "node_id": "IC_kwDOCUB6oc5LOqUS",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-09-29T11:17:17Z",
          "updated_at": "2022-09-29T11:17:17Z",
          "author_association": "COLLABORATOR",
          "body": "If you follow the same structure as the pytorch data2vec vision and beit, including the copied from statements, then almost all of the architecture considerations will be taken care of for you, and it will be easier for us as reviewers. \r\n\r\nIf you need any help with the tests, let us know and we can try and lend a hand. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1262134546/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1262496278",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1262496278",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1262496278,
          "node_id": "IC_kwDOCUB6oc5LQCoW",
          "user": {
            "login": "MadElf1337",
            "id": 34575523,
            "node_id": "MDQ6VXNlcjM0NTc1NTIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/34575523?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MadElf1337",
            "html_url": "https://github.com/MadElf1337",
            "followers_url": "https://api.github.com/users/MadElf1337/followers",
            "following_url": "https://api.github.com/users/MadElf1337/following{/other_user}",
            "gists_url": "https://api.github.com/users/MadElf1337/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MadElf1337/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MadElf1337/subscriptions",
            "organizations_url": "https://api.github.com/users/MadElf1337/orgs",
            "repos_url": "https://api.github.com/users/MadElf1337/repos",
            "events_url": "https://api.github.com/users/MadElf1337/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MadElf1337/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-09-29T16:07:26Z",
          "updated_at": "2022-09-29T16:07:26Z",
          "author_association": "NONE",
          "body": "Yeah so as I said, I just am stuck on the seq_len part in the attention output for TF, since that is one thing which is present in data2vec but not in BEIT, So just need to figure out that test",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1262496278/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1265514324",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1265514324",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1265514324,
          "node_id": "IC_kwDOCUB6oc5LbjdU",
          "user": {
            "login": "gante",
            "id": 12240844,
            "node_id": "MDQ6VXNlcjEyMjQwODQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/12240844?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gante",
            "html_url": "https://github.com/gante",
            "followers_url": "https://api.github.com/users/gante/followers",
            "following_url": "https://api.github.com/users/gante/following{/other_user}",
            "gists_url": "https://api.github.com/users/gante/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gante/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gante/subscriptions",
            "organizations_url": "https://api.github.com/users/gante/orgs",
            "repos_url": "https://api.github.com/users/gante/repos",
            "events_url": "https://api.github.com/users/gante/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gante/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-10-03T14:18:41Z",
          "updated_at": "2022-10-03T14:18:41Z",
          "author_association": "MEMBER",
          "body": "Hey @MadElf1337 -- we've just released a guide for TF conversions, might come handy to you :D \r\n\r\nhttps://huggingface.co/docs/transformers/main/en/add_tensorflow_model",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1265514324/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1265618391",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1265618391",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1265618391,
          "node_id": "IC_kwDOCUB6oc5Lb83X",
          "user": {
            "login": "MadElf1337",
            "id": 34575523,
            "node_id": "MDQ6VXNlcjM0NTc1NTIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/34575523?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MadElf1337",
            "html_url": "https://github.com/MadElf1337",
            "followers_url": "https://api.github.com/users/MadElf1337/followers",
            "following_url": "https://api.github.com/users/MadElf1337/following{/other_user}",
            "gists_url": "https://api.github.com/users/MadElf1337/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MadElf1337/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MadElf1337/subscriptions",
            "organizations_url": "https://api.github.com/users/MadElf1337/orgs",
            "repos_url": "https://api.github.com/users/MadElf1337/repos",
            "events_url": "https://api.github.com/users/MadElf1337/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MadElf1337/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-10-03T15:13:13Z",
          "updated_at": "2022-10-03T15:13:13Z",
          "author_association": "NONE",
          "body": "Yep thanks!\r\n\r\nMostly done with the tests as well, just a little hiccup that will be solved soon, else I\u2019ll make sure to ask for help!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1265618391/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1295119713",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1295119713",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1295119713,
          "node_id": "IC_kwDOCUB6oc5NMfVh",
          "user": {
            "login": "MadElf1337",
            "id": 34575523,
            "node_id": "MDQ6VXNlcjM0NTc1NTIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/34575523?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MadElf1337",
            "html_url": "https://github.com/MadElf1337",
            "followers_url": "https://api.github.com/users/MadElf1337/followers",
            "following_url": "https://api.github.com/users/MadElf1337/following{/other_user}",
            "gists_url": "https://api.github.com/users/MadElf1337/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MadElf1337/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MadElf1337/subscriptions",
            "organizations_url": "https://api.github.com/users/MadElf1337/orgs",
            "repos_url": "https://api.github.com/users/MadElf1337/repos",
            "events_url": "https://api.github.com/users/MadElf1337/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MadElf1337/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-10-28T15:12:35Z",
          "updated_at": "2022-10-28T15:12:35Z",
          "author_association": "NONE",
          "body": "@gante @amyeroberts Terribly sorry for the delay, had to deal with some personal stuff that could not be avoided.\r\n\r\nI think I'm done writing the tests and the model, can I get a review to see if I've missed anything/done anything wrong?\r\n\r\nThanks!\r\n\r\n(Also I'll add the comments of #Copied from TFData2vec in the final commit)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1295119713/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1311231869",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1311231869",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1311231869,
          "node_id": "IC_kwDOCUB6oc5OJ899",
          "user": {
            "login": "MadElf1337",
            "id": 34575523,
            "node_id": "MDQ6VXNlcjM0NTc1NTIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/34575523?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MadElf1337",
            "html_url": "https://github.com/MadElf1337",
            "followers_url": "https://api.github.com/users/MadElf1337/followers",
            "following_url": "https://api.github.com/users/MadElf1337/following{/other_user}",
            "gists_url": "https://api.github.com/users/MadElf1337/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MadElf1337/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MadElf1337/subscriptions",
            "organizations_url": "https://api.github.com/users/MadElf1337/orgs",
            "repos_url": "https://api.github.com/users/MadElf1337/repos",
            "events_url": "https://api.github.com/users/MadElf1337/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MadElf1337/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-11-11T04:58:54Z",
          "updated_at": "2022-11-11T04:58:54Z",
          "author_association": "NONE",
          "body": "@amyeroberts @gante \r\n\r\nCan I get a review please?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1311231869/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1312340988",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1312340988",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1312340988,
          "node_id": "IC_kwDOCUB6oc5OOLv8",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-11-12T03:19:11Z",
          "updated_at": "2022-11-12T03:19:11Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_18559). All of your documentation changes will be reflected on that endpoint.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1312340988/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1312345760",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1312345760",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1312345760,
          "node_id": "IC_kwDOCUB6oc5OOM6g",
          "user": {
            "login": "MadElf1337",
            "id": 34575523,
            "node_id": "MDQ6VXNlcjM0NTc1NTIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/34575523?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MadElf1337",
            "html_url": "https://github.com/MadElf1337",
            "followers_url": "https://api.github.com/users/MadElf1337/followers",
            "following_url": "https://api.github.com/users/MadElf1337/following{/other_user}",
            "gists_url": "https://api.github.com/users/MadElf1337/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MadElf1337/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MadElf1337/subscriptions",
            "organizations_url": "https://api.github.com/users/MadElf1337/orgs",
            "repos_url": "https://api.github.com/users/MadElf1337/repos",
            "events_url": "https://api.github.com/users/MadElf1337/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MadElf1337/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-11-12T03:35:16Z",
          "updated_at": "2022-11-12T03:35:33Z",
          "author_association": "NONE",
          "body": "@amyeroberts Thanks for the review!\r\n\r\n1) As suggested I've added the comments of #Copied from...(Sorry that you had to ask twice, I thought they were just comments and did not know that it was a part of the review process)\r\n\r\n2) I've also added the missing code and the torch references have been changed!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1312345760/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1312348513",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1312348513",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1312348513,
          "node_id": "IC_kwDOCUB6oc5OONlh",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-11-12T03:45:12Z",
          "updated_at": "2022-11-12T03:45:12Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_18559). All of your documentation changes will be reflected on that endpoint.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1312348513/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1317230364",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1317230364",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1317230364,
          "node_id": "IC_kwDOCUB6oc5Og1cc",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-11-16T15:48:08Z",
          "updated_at": "2022-11-16T15:48:08Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @MadElf1337  - thanks for the updates and iterating so quickly after review. \r\n\r\nThere's still a few files that need to be added for the model to be importable and fully integrated into the library. The guidelines in the document @gante details these. Here's a [recent model PR for reference](https://github.com/huggingface/transformers/pull/17826). As the overall architecture looks good, this is the next step for this PR. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1317230364/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1317576017",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1317576017",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1317576017,
          "node_id": "IC_kwDOCUB6oc5OiJ1R",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-11-16T19:42:52Z",
          "updated_at": "2022-11-16T19:42:52Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_18559). All of your documentation changes will be reflected on that endpoint.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1317576017/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1330083526",
          "html_url": "https://github.com/huggingface/transformers/pull/18559#issuecomment-1330083526",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/18559",
          "id": 1330083526,
          "node_id": "IC_kwDOCUB6oc5PR3bG",
          "user": {
            "login": "MadElf1337",
            "id": 34575523,
            "node_id": "MDQ6VXNlcjM0NTc1NTIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/34575523?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MadElf1337",
            "html_url": "https://github.com/MadElf1337",
            "followers_url": "https://api.github.com/users/MadElf1337/followers",
            "following_url": "https://api.github.com/users/MadElf1337/following{/other_user}",
            "gists_url": "https://api.github.com/users/MadElf1337/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MadElf1337/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MadElf1337/subscriptions",
            "organizations_url": "https://api.github.com/users/MadElf1337/orgs",
            "repos_url": "https://api.github.com/users/MadElf1337/repos",
            "events_url": "https://api.github.com/users/MadElf1337/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MadElf1337/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-11-29T05:08:15Z",
          "updated_at": "2022-11-29T05:08:15Z",
          "author_association": "NONE",
          "body": "@amyeroberts @gante So I've done everything as specified in the docs(I think), can I get a review to see if I've missed anything?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1330083526/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/30690/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/30690/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/30690/events",
      "html_url": "https://github.com/huggingface/transformers/pull/30690",
      "id": 2282756177,
      "node_id": "PR_kwDOCUB6oc5uvGrd",
      "number": 30690,
      "title": "Adding imagebind",
      "user": {
        "login": "EduardoPach",
        "id": 69953243,
        "node_id": "MDQ6VXNlcjY5OTUzMjQz",
        "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/EduardoPach",
        "html_url": "https://github.com/EduardoPach",
        "followers_url": "https://api.github.com/users/EduardoPach/followers",
        "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
        "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
        "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
        "repos_url": "https://api.github.com/users/EduardoPach/repos",
        "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
        "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1843244711,
          "node_id": "MDU6TGFiZWwxODQzMjQ0NzEx",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/New%20model",
          "name": "New model",
          "color": "fbca04",
          "default": false,
          "description": ""
        },
        {
          "id": 6726435287,
          "node_id": "LA_kwDOCUB6oc8AAAABkO1B1w",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/Multimodal",
          "name": "Multimodal",
          "color": "F3E08B",
          "default": false,
          "description": ""
        },
        {
          "id": 6886428489,
          "node_id": "LA_kwDOCUB6oc8AAAABmnaPSQ",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/run-slow",
          "name": "run-slow",
          "color": "E1D519",
          "default": false,
          "description": ""
        }
      ],
      "state": "open",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 25,
      "created_at": "2024-05-07T09:35:06Z",
      "updated_at": "2024-11-19T15:13:22Z",
      "closed_at": null,
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/30690",
        "html_url": "https://github.com/huggingface/transformers/pull/30690",
        "diff_url": "https://github.com/huggingface/transformers/pull/30690.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/30690.patch",
        "merged_at": null
      },
      "body": "# What does this PR do?\r\n\r\nThis PR fixes https://github.com/huggingface/transformers/issues/23240 by adding `ImageBind` model. \r\n\r\nThis is based on https://github.com/huggingface/transformers/pull/26310 which is currently stale and the author said it would not have time to work on it (though welcome to help @dg845 ).\r\n\r\nTaking into consideration the points raised by @dg845 here https://github.com/huggingface/transformers/pull/26310#issuecomment-1907231272 I'll focus on adding the text/image/audio portion and try to contact the authors.\r\n\r\n## Who can Review\r\n@amyeroberts (?)",
      "closed_by": null,
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/30690/reactions",
        "total_count": 4,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 3,
        "confused": 0,
        "heart": 1,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/30690/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2097874396",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2097874396",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2097874396,
          "node_id": "IC_kwDOCUB6oc59CwXc",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-07T09:36:47Z",
          "updated_at": "2024-05-07T09:36:47Z",
          "author_association": "CONTRIBUTOR",
          "body": "I'll ping possible reviewers here as soon as it is ready for review",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2097874396/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2127560052",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2127560052",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2127560052,
          "node_id": "IC_kwDOCUB6oc5-z_10",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-23T16:18:59Z",
          "updated_at": "2024-05-23T16:18:59Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts I think we're good for a first review!\r\n\r\nThere are a few points that we should have in mind:\r\n\r\n1. I have converted only text, vision, and audio modalities so far as those are the only modalities that have their preprocess steps in the original repo. There are a few issues in the original repo from people mentioning how they've managed the preprocessing of depth and thermal so if we want to we can add these as well.\r\n2. I'm not sure how we should deal with videos as they fall in the vision modality and thus should be passed as `pixel_values` as well. Preprocessing is equal to the image version + a frame selection logic. Should we have a `videos` arg in the `ImageBindImageProcessor` (currently this processor is just a copy from CLIP)\r\n3. In the case we add thermal and depth as well following the issues in the original repo should these be passed in the `ImageBindImageProcessor` as well?\r\n4. When pushing `ImageBindProcessor` to the hub I've noticed that the args for `ImageBindImageProcessor` and `ImageBindFeatureExtractor` are within the same file `preprocessor_config.json` which is not ideal ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2127560052/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2135231000",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2135231000",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2135231000,
          "node_id": "IC_kwDOCUB6oc5_RQoY",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-28T13:32:49Z",
          "updated_at": "2024-05-28T13:32:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "c.c. @amyeroberts ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2135231000/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2142433327",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2142433327",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2142433327,
          "node_id": "IC_kwDOCUB6oc5_svAv",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-31T14:49:40Z",
          "updated_at": "2024-05-31T14:49:40Z",
          "author_association": "CONTRIBUTOR",
          "body": "Maybe @NielsRogge could do a first check?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2142433327/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2160753973",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2160753973",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2160753973,
          "node_id": "IC_kwDOCUB6oc6Ayn01",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-11T13:21:45Z",
          "updated_at": "2024-06-11T13:21:45Z",
          "author_association": "CONTRIBUTOR",
          "body": "c.c. @amyeroberts ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2160753973/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2165342760",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2165342760",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2165342760,
          "node_id": "IC_kwDOCUB6oc6BEIIo",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-06-13T11:10:18Z",
          "updated_at": "2024-06-13T11:10:18Z",
          "author_association": "COLLABORATOR",
          "body": "@molbap Could you give a first review, if you have the time? ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2165342760/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2212454983",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2212454983",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2212454983,
          "node_id": "IC_kwDOCUB6oc6D32JH",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-07T13:40:53Z",
          "updated_at": "2024-07-07T13:40:53Z",
          "author_association": "CONTRIBUTOR",
          "body": "Haven't had much time lately to work on this, but I should be able to work during this week. \r\n\r\nI'm still not completely sure how to deal with the `ImageBindVideoProcessor` as there's no precedent in the library where we have the option to pass both images and videos. Could we have this class implemented in the `image_processing_imagebind.py`? (For the `ImageBindImageProcessor` we can just use `CLIPImageProcessor`.\r\n\r\nAlso, since `ImageBind` has both image and audio preprocessor and a few arguments with the same name they are not distinguished in the [preprocessor_config.json](https://huggingface.co/EduardoPacheco/imagebind-huge/blob/main/preprocessor_config.json)\r\n\r\nc.c. @amyeroberts @molbap ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2212454983/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2217161632",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2217161632",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2217161632,
          "node_id": "IC_kwDOCUB6oc6EJzOg",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-09T09:34:02Z",
          "updated_at": "2024-07-09T09:37:26Z",
          "author_association": "COLLABORATOR",
          "body": "@EduardoPach \r\n\r\nRegarding image and video imputs, there's video-llava which can accept [both images and videos](https://github.com/huggingface/transformers/blob/0abf5e8eaec361350888517f0d98501b2c5b2559/src/transformers/models/video_llava/image_processing_video_llava.py#L208).  \r\n\r\nSo in this case, we could have an ImageBindImageProcessor which takes both images and videos. \r\n\r\n> Also, since ImageBind has both image and audio preprocessor and a few arguments with the same name they are not distinguished in the [preprocessor_config.json](https://huggingface.co/EduardoPacheco/imagebind-huge/blob/main/preprocessor_config.json)\r\n\r\nJust for completeness, what arguments are overlapping? This might be the time to start splitting the preprocessor_config.json in to different configs for the different processing classes e.g. `image_processor_config.json` etc. cc @ydshieh @molbap ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2217161632/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 1
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2243490719",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2243490719",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2243490719,
          "node_id": "IC_kwDOCUB6oc6FuPOf",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-22T17:44:59Z",
          "updated_at": "2024-07-22T17:44:59Z",
          "author_association": "CONTRIBUTOR",
          "body": "Coming back this week! ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2243490719/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2244927247",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2244927247",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2244927247,
          "node_id": "IC_kwDOCUB6oc6Fzt8P",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-07-23T11:04:43Z",
          "updated_at": "2024-07-23T11:04:43Z",
          "author_association": "CONTRIBUTOR",
          "body": "> @EduardoPach\r\n> \r\n> Regarding image and video imputs, there's video-llava which can accept [both images and videos](https://github.com/huggingface/transformers/blob/0abf5e8eaec361350888517f0d98501b2c5b2559/src/transformers/models/video_llava/image_processing_video_llava.py#L208).\r\n> \r\n> So in this case, we could have an ImageBindImageProcessor which takes both images and videos.\r\n> \r\n> > Also, since ImageBind has both image and audio preprocessor and a few arguments with the same name they are not distinguished in the [preprocessor_config.json](https://huggingface.co/EduardoPacheco/imagebind-huge/blob/main/preprocessor_config.json)\r\n> \r\n> Just for completeness, what arguments are overlapping? This might be the time to start splitting the preprocessor_config.json in to different configs for the different processing classes e.g. `image_processor_config.json` etc. cc @ydshieh @molbap\r\n\r\nI think it's only the `do_normalize`",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2244927247/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2313220567",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2313220567",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2313220567,
          "node_id": "IC_kwDOCUB6oc6J4PHX",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-08-27T18:16:16Z",
          "updated_at": "2024-08-27T18:16:16Z",
          "author_association": "CONTRIBUTOR",
          "body": "Getting back at this",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2313220567/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 2,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2323476751",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2323476751",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2323476751,
          "node_id": "IC_kwDOCUB6oc6KfXEP",
          "user": {
            "login": "RUFFY-369",
            "id": 66624139,
            "node_id": "MDQ6VXNlcjY2NjI0MTM5",
            "avatar_url": "https://avatars.githubusercontent.com/u/66624139?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RUFFY-369",
            "html_url": "https://github.com/RUFFY-369",
            "followers_url": "https://api.github.com/users/RUFFY-369/followers",
            "following_url": "https://api.github.com/users/RUFFY-369/following{/other_user}",
            "gists_url": "https://api.github.com/users/RUFFY-369/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RUFFY-369/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RUFFY-369/subscriptions",
            "organizations_url": "https://api.github.com/users/RUFFY-369/orgs",
            "repos_url": "https://api.github.com/users/RUFFY-369/repos",
            "events_url": "https://api.github.com/users/RUFFY-369/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RUFFY-369/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-01T19:53:16Z",
          "updated_at": "2024-09-01T19:53:16Z",
          "author_association": "CONTRIBUTOR",
          "body": "LGTM",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2323476751/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2324009645",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2324009645",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2324009645,
          "node_id": "IC_kwDOCUB6oc6KhZKt",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-02T07:28:19Z",
          "updated_at": "2024-09-02T07:28:19Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts, could you review this PR?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2324009645/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2348482951",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2348482951",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2348482951,
          "node_id": "IC_kwDOCUB6oc6L-wGH",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-13T09:29:47Z",
          "updated_at": "2024-09-13T09:29:47Z",
          "author_association": "CONTRIBUTOR",
          "body": "\ud83d\ude2a ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2348482951/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 1
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2351533472",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2351533472",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2351533472,
          "node_id": "IC_kwDOCUB6oc6MKY2g",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-15T10:53:40Z",
          "updated_at": "2024-09-15T10:53:40Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts or @qubvel could any of you take a look on this? The failing tests are unrelated ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2351533472/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 2,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2379387823",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2379387823",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2379387823,
          "node_id": "IC_kwDOCUB6oc6N0pOv",
          "user": {
            "login": "EduardoPach",
            "id": 69953243,
            "node_id": "MDQ6VXNlcjY5OTUzMjQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/69953243?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EduardoPach",
            "html_url": "https://github.com/EduardoPach",
            "followers_url": "https://api.github.com/users/EduardoPach/followers",
            "following_url": "https://api.github.com/users/EduardoPach/following{/other_user}",
            "gists_url": "https://api.github.com/users/EduardoPach/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EduardoPach/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EduardoPach/subscriptions",
            "organizations_url": "https://api.github.com/users/EduardoPach/orgs",
            "repos_url": "https://api.github.com/users/EduardoPach/repos",
            "events_url": "https://api.github.com/users/EduardoPach/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EduardoPach/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-27T14:15:32Z",
          "updated_at": "2024-09-27T14:15:32Z",
          "author_association": "CONTRIBUTOR",
          "body": "c.c. @RUFFY-369 \r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2379387823/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2384256740",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2384256740",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2384256740,
          "node_id": "IC_kwDOCUB6oc6OHN7k",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-09-30T22:01:06Z",
          "updated_at": "2024-09-30T22:01:06Z",
          "author_association": "NONE",
          "body": "Hey! \ud83e\udd17 Thanks for your contribution to the `transformers` library!\n\nBefore merging this pull request, slow tests CI should be triggered. To enable this:\n- Add the `run-slow` label to the PR\n- When your PR is ready for merge and all reviewers' comments have been addressed, push an empty commit with the command `[run-slow]` followed by a comma separated list of all the models to be tested, i.e. `[run_slow] model_to_test_1, model_to_test_2`\n  - If the pull request affects a lot of models, put at most 10 models in the commit message\n- A `transformers` maintainer will then approve the workflow to start the tests\n\n(For maintainers) The documentation for slow tests CI on PRs is [here](https://www.notion.so/huggingface2/CI-for-pull-requests-8335bd9217d24d1e8ed1d3a016f39804).",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2384256740/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2389161080",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2389161080",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2389161080,
          "node_id": "IC_kwDOCUB6oc6OZ7R4",
          "user": {
            "login": "RUFFY-369",
            "id": 66624139,
            "node_id": "MDQ6VXNlcjY2NjI0MTM5",
            "avatar_url": "https://avatars.githubusercontent.com/u/66624139?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RUFFY-369",
            "html_url": "https://github.com/RUFFY-369",
            "followers_url": "https://api.github.com/users/RUFFY-369/followers",
            "following_url": "https://api.github.com/users/RUFFY-369/following{/other_user}",
            "gists_url": "https://api.github.com/users/RUFFY-369/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RUFFY-369/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RUFFY-369/subscriptions",
            "organizations_url": "https://api.github.com/users/RUFFY-369/orgs",
            "repos_url": "https://api.github.com/users/RUFFY-369/repos",
            "events_url": "https://api.github.com/users/RUFFY-369/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RUFFY-369/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-10-02T16:57:02Z",
          "updated_at": "2024-10-02T16:57:02Z",
          "author_association": "CONTRIBUTOR",
          "body": "@molbap I have addressed all the changes and left some questions as well\r\nThank you :smile: ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2389161080/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2395078107",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2395078107",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2395078107,
          "node_id": "IC_kwDOCUB6oc6Owf3b",
          "user": {
            "login": "RUFFY-369",
            "id": 66624139,
            "node_id": "MDQ6VXNlcjY2NjI0MTM5",
            "avatar_url": "https://avatars.githubusercontent.com/u/66624139?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/RUFFY-369",
            "html_url": "https://github.com/RUFFY-369",
            "followers_url": "https://api.github.com/users/RUFFY-369/followers",
            "following_url": "https://api.github.com/users/RUFFY-369/following{/other_user}",
            "gists_url": "https://api.github.com/users/RUFFY-369/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/RUFFY-369/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RUFFY-369/subscriptions",
            "organizations_url": "https://api.github.com/users/RUFFY-369/orgs",
            "repos_url": "https://api.github.com/users/RUFFY-369/repos",
            "events_url": "https://api.github.com/users/RUFFY-369/events{/privacy}",
            "received_events_url": "https://api.github.com/users/RUFFY-369/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-10-05T14:33:51Z",
          "updated_at": "2024-10-05T21:57:06Z",
          "author_association": "CONTRIBUTOR",
          "body": "All tests are green\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2395078107/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 2,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2395085851",
          "html_url": "https://github.com/huggingface/transformers/pull/30690#issuecomment-2395085851",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/30690",
          "id": 2395085851,
          "node_id": "IC_kwDOCUB6oc6Owhwb",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-10-05T15:03:38Z",
          "updated_at": "2024-10-05T15:03:38Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_30690). All of your documentation changes will be reflected on that endpoint. The docs are available until 30 days after the last update.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2395085851/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/24799/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/24799/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/24799/events",
      "html_url": "https://github.com/huggingface/transformers/pull/24799",
      "id": 1801987846,
      "node_id": "PR_kwDOCUB6oc5VXYll",
      "number": 24799,
      "title": "Add UnivNet Vocoder Model for Tortoise TTS Diffusers Integration",
      "user": {
        "login": "dg845",
        "id": 58458699,
        "node_id": "MDQ6VXNlcjU4NDU4Njk5",
        "avatar_url": "https://avatars.githubusercontent.com/u/58458699?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dg845",
        "html_url": "https://github.com/dg845",
        "followers_url": "https://api.github.com/users/dg845/followers",
        "following_url": "https://api.github.com/users/dg845/following{/other_user}",
        "gists_url": "https://api.github.com/users/dg845/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/dg845/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dg845/subscriptions",
        "organizations_url": "https://api.github.com/users/dg845/orgs",
        "repos_url": "https://api.github.com/users/dg845/repos",
        "events_url": "https://api.github.com/users/dg845/events{/privacy}",
        "received_events_url": "https://api.github.com/users/dg845/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 27,
      "created_at": "2023-07-13T01:30:28Z",
      "updated_at": "2023-11-22T16:21:37Z",
      "closed_at": "2023-11-22T16:21:37Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/24799",
        "html_url": "https://github.com/huggingface/transformers/pull/24799",
        "diff_url": "https://github.com/huggingface/transformers/pull/24799.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/24799.patch",
        "merged_at": "2023-11-22T16:21:37Z"
      },
      "body": "# What does this PR do?\r\n\r\nThis PR adds the UnivNet GAN vocoder model ([paper](https://arxiv.org/pdf/2106.07889.pdf), [code](https://github.com/mindslab-ai/univnet)) to `transformers`, which is the vocoder used in the Tortoise TTS text-to-speech model ([paper](https://arxiv.org/pdf/2305.07243.pdf), [code](https://github.com/neonbjb/tortoise-tts)) which is currently being integrated into `diffusers`. See [this issue](https://github.com/huggingface/diffusers/issues/3891) in `diffusers`.\r\n\r\n![univnet_model_architecture](https://github.com/huggingface/transformers/assets/58458699/8a33190a-cd52-4e81-a6ed-2fc921b9f86f)\r\n\r\n## Before submitting\r\n- [ ] This PR fixes a typo or improves the docs (you can dismiss the other checks if that's the case).\r\n- [x] Did you read the [contributor guideline](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md#start-contributing-pull-requests),\r\n      Pull Request section?\r\n- [x] Was this discussed/approved via a Github issue or the [forum](https://discuss.huggingface.co/)? Please add a link\r\n      to it if that's the case.\r\n- [x] Did you make sure to update the documentation with your changes? Here are the\r\n      [documentation guidelines](https://github.com/huggingface/transformers/tree/main/docs), and\r\n      [here are tips on formatting docstrings](https://github.com/huggingface/transformers/tree/main/docs#writing-source-documentation).\r\n- [x] Did you write any new necessary tests?\r\n\r\n\r\n## Who can review?\r\n\r\nAnyone in the community is free to review the PR once the tests have passed. Feel free to tag\r\nmembers/contributors who may be interested in your PR.\r\n\r\n@sanchit-gandhi \r\n@susnato \r\n",
      "closed_by": {
        "login": "ArthurZucker",
        "id": 48595927,
        "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ArthurZucker",
        "html_url": "https://github.com/ArthurZucker",
        "followers_url": "https://api.github.com/users/ArthurZucker/followers",
        "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
        "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
        "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
        "repos_url": "https://api.github.com/users/ArthurZucker/repos",
        "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/24799/reactions",
        "total_count": 1,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 1,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/24799/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1633512417",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1633512417",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1633512417,
          "node_id": "IC_kwDOCUB6oc5hXWvh",
          "user": {
            "login": "susnato",
            "id": 56069179,
            "node_id": "MDQ6VXNlcjU2MDY5MTc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/56069179?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/susnato",
            "html_url": "https://github.com/susnato",
            "followers_url": "https://api.github.com/users/susnato/followers",
            "following_url": "https://api.github.com/users/susnato/following{/other_user}",
            "gists_url": "https://api.github.com/users/susnato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/susnato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/susnato/subscriptions",
            "organizations_url": "https://api.github.com/users/susnato/orgs",
            "repos_url": "https://api.github.com/users/susnato/repos",
            "events_url": "https://api.github.com/users/susnato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/susnato/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-13T04:03:32Z",
          "updated_at": "2023-07-13T04:03:32Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @dg845 if you are planning to add it to the `models` folder, then I think it should have a doc file(`univnet.md`) in the docs.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1633512417/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1633537602",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1633537602",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1633537602,
          "node_id": "IC_kwDOCUB6oc5hXc5C",
          "user": {
            "login": "dg845",
            "id": 58458699,
            "node_id": "MDQ6VXNlcjU4NDU4Njk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/58458699?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dg845",
            "html_url": "https://github.com/dg845",
            "followers_url": "https://api.github.com/users/dg845/followers",
            "following_url": "https://api.github.com/users/dg845/following{/other_user}",
            "gists_url": "https://api.github.com/users/dg845/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dg845/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dg845/subscriptions",
            "organizations_url": "https://api.github.com/users/dg845/orgs",
            "repos_url": "https://api.github.com/users/dg845/repos",
            "events_url": "https://api.github.com/users/dg845/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dg845/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-13T04:45:01Z",
          "updated_at": "2023-07-13T04:45:52Z",
          "author_association": "CONTRIBUTOR",
          "body": "For now I've added the UnivNet code to the `/src/transformers/models/univnet/` directory. @sanchit-gandhi, since the UnivNet model isn't technically a transformer model (in that it doesn't use any attention mechanisms), is this the best place to put it? For example, the [`SpeechT5HifiGan`](https://huggingface.co/docs/transformers/main/model_doc/speecht5#transformers.SpeechT5HifiGan) vocoder is in `/src/transformers/models/speecht5/` along with the other SpeechT5 models, but I assume most of the other Tortoise TTS code will go into `diffusers` rather than `transformers`.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1633537602/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1634164365",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1634164365",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1634164365,
          "node_id": "IC_kwDOCUB6oc5hZ16N",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-13T12:33:34Z",
          "updated_at": "2023-07-13T12:35:09Z",
          "author_association": "CONTRIBUTOR",
          "body": "Nice start @dg845! Yep fine to have it as a standalone model - we have ResNet in transformers as well which is not strictly attention-based.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1634164365/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1636962982",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1636962982",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1636962982,
          "node_id": "IC_kwDOCUB6oc5hkhKm",
          "user": {
            "login": "dg845",
            "id": 58458699,
            "node_id": "MDQ6VXNlcjU4NDU4Njk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/58458699?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dg845",
            "html_url": "https://github.com/dg845",
            "followers_url": "https://api.github.com/users/dg845/followers",
            "following_url": "https://api.github.com/users/dg845/following{/other_user}",
            "gists_url": "https://api.github.com/users/dg845/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dg845/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dg845/subscriptions",
            "organizations_url": "https://api.github.com/users/dg845/orgs",
            "repos_url": "https://api.github.com/users/dg845/repos",
            "events_url": "https://api.github.com/users/dg845/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dg845/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-16T02:34:05Z",
          "updated_at": "2023-07-16T22:27:33Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @sanchit-gandhi, I think the PR is ready for review.\r\n\r\nThe following are the differences between the [`SpeechT5HifiGan`](https://huggingface.co/docs/transformers/main/model_doc/speecht5#transformers.SpeechT5HifiGan) and the `UnivNetGan` model:\r\n\r\n- The `SpeechT5HifiGan` outer residual blocks* (that is, [`HifiGanResidualBlock`](https://github.com/huggingface/transformers/blob/main/src/transformers/models/speecht5/modeling_speecht5.py#L3074)) upsamples the number of hidden channels between each outer residual block, but the `UnivNetGan` outer residual blocks* (`UnivNetLVCBlock`) keep the number of hidden channels constant.\r\n- Although the structures of the inner residual blocks (for UnivNet, the `UnivNetLVCResidualBlock` module) are similar: `LReLU` => dilated `Conv1d` => `LReLU` => `Conv1d` => skip connection, the UnivNet model uses a [location variable convolutional layer](https://arxiv.org/pdf/2102.10815.pdf) followed by a [gated activation unit](https://proceedings.neurips.cc/paper_files/paper/2016/file/b1301141feffabac455e1f90a7de2054-Paper.pdf) in place of the second `Conv1d` layer.\r\n- Accordingly, each outer residual block (`UnivNetLVCBlock`) in UnivNet has a kernel predictor residual network (`UnivNetKernelPredictor`) to predict the kernels and biases for the location variable convolutional layer in each inner residual block in the main resnet.\r\n- In addition to a conditioning log-mel `spectrogram`, UnivNet takes in a noise sequence as input. The `noise_waveform` is the input to the \"main\" resnet (e.g. the stack of `UnivNetLVCResidualBlock`s), while the conditioning `spectrogram` is the input to the kernel predictor in each `UnivNetLVCBlock`.\r\n\r\n(*) \"Outer residual block\" is a bit of a misnomer, since for both blocks in question (`HifiGanResidualBlock`, `UnivNetLVCBlock`) there's no skip connection between the input to the block and the main computation in the block.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1636962982/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1636963467",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1636963467",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1636963467,
          "node_id": "IC_kwDOCUB6oc5hkhSL",
          "user": {
            "login": "dg845",
            "id": 58458699,
            "node_id": "MDQ6VXNlcjU4NDU4Njk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/58458699?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dg845",
            "html_url": "https://github.com/dg845",
            "followers_url": "https://api.github.com/users/dg845/followers",
            "following_url": "https://api.github.com/users/dg845/following{/other_user}",
            "gists_url": "https://api.github.com/users/dg845/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dg845/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dg845/subscriptions",
            "organizations_url": "https://api.github.com/users/dg845/orgs",
            "repos_url": "https://api.github.com/users/dg845/repos",
            "events_url": "https://api.github.com/users/dg845/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dg845/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-16T02:37:05Z",
          "updated_at": "2023-07-16T02:37:05Z",
          "author_association": "CONTRIBUTOR",
          "body": "Also, I'm not sure why `utils/check_table.py` is failing. I ran `make fix-copies` to create a table entry for UnivNet in `docs/source/en/index.md`, and then added a checkmark for PyTorch support, but for some reason `check_table.py` doesn't seem to like that.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1636963467/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1655150488",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1655150488",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1655150488,
          "node_id": "IC_kwDOCUB6oc5ip5eY",
          "user": {
            "login": "dg845",
            "id": 58458699,
            "node_id": "MDQ6VXNlcjU4NDU4Njk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/58458699?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dg845",
            "html_url": "https://github.com/dg845",
            "followers_url": "https://api.github.com/users/dg845/followers",
            "following_url": "https://api.github.com/users/dg845/following{/other_user}",
            "gists_url": "https://api.github.com/users/dg845/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dg845/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dg845/subscriptions",
            "organizations_url": "https://api.github.com/users/dg845/orgs",
            "repos_url": "https://api.github.com/users/dg845/repos",
            "events_url": "https://api.github.com/users/dg845/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dg845/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-28T07:08:31Z",
          "updated_at": "2023-07-28T07:08:31Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Also, I'm not sure why `utils/check_table.py` is failing.\r\n\r\n`utils/check_table.py` is no longer failing after I merged `main` into the PR branch. Running `make fix-copies` adds an entry for UnivNet, but I'm not sure why it doesn't add a checkmark in the \"PyTorch support\" column, perhaps the model information is mis-configured.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1655150488/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1675160083",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1675160083",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1675160083,
          "node_id": "IC_kwDOCUB6oc5j2OoT",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-08-11T17:48:42Z",
          "updated_at": "2023-08-11T17:48:42Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_24799). All of your documentation changes will be reflected on that endpoint.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1675160083/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1694971570",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1694971570",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1694971570,
          "node_id": "IC_kwDOCUB6oc5lBzay",
          "user": {
            "login": "dg845",
            "id": 58458699,
            "node_id": "MDQ6VXNlcjU4NDU4Njk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/58458699?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dg845",
            "html_url": "https://github.com/dg845",
            "followers_url": "https://api.github.com/users/dg845/followers",
            "following_url": "https://api.github.com/users/dg845/following{/other_user}",
            "gists_url": "https://api.github.com/users/dg845/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dg845/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dg845/subscriptions",
            "organizations_url": "https://api.github.com/users/dg845/orgs",
            "repos_url": "https://api.github.com/users/dg845/repos",
            "events_url": "https://api.github.com/users/dg845/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dg845/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-08-28T04:06:12Z",
          "updated_at": "2023-08-28T04:06:12Z",
          "author_association": "CONTRIBUTOR",
          "body": "All of the current tests (including the integration tests) should be passing now. The code to calculate reference slices from the [reference implementation](https://github.com/maum-ai/univnet) is in [this repository](https://github.com/dg845/univnet/tree/inference-test).",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1694971570/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1727454112",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1727454112",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1727454112,
          "node_id": "IC_kwDOCUB6oc5m9tug",
          "user": {
            "login": "dg845",
            "id": 58458699,
            "node_id": "MDQ6VXNlcjU4NDU4Njk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/58458699?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dg845",
            "html_url": "https://github.com/dg845",
            "followers_url": "https://api.github.com/users/dg845/followers",
            "following_url": "https://api.github.com/users/dg845/following{/other_user}",
            "gists_url": "https://api.github.com/users/dg845/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dg845/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dg845/subscriptions",
            "organizations_url": "https://api.github.com/users/dg845/orgs",
            "repos_url": "https://api.github.com/users/dg845/repos",
            "events_url": "https://api.github.com/users/dg845/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dg845/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-20T10:31:31Z",
          "updated_at": "2023-09-20T10:31:31Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @ArthurZucker, thanks for reviewing! I think I have addressed all of the review comments. In particular, the model class names should be consistently in the form `UnivNetGan*` and the model implementation should be simplified using the configs (although I am currently keeping the `apply_weight_norm`/`remove_weight_norm` methods, see https://github.com/huggingface/transformers/pull/24799#discussion_r1326830801).\r\n\r\nFrom my side, I have the following questions:\r\n\r\n- https://github.com/huggingface/transformers/pull/24799#discussion_r1327008418 (regarding using `global_rng = random.Random()` with `floats_list`)\r\n- https://github.com/huggingface/transformers/pull/24799#discussion_r1327894425 (regarding isolating copied feature extractor tests)\r\n- https://github.com/huggingface/transformers/pull/24799#discussion_r1327892862 (regarding the proper org to move the checkpoints to)\r\n- https://github.com/huggingface/transformers/pull/24799#discussion_r1326841344 (regarding the usage of `_no_split_modules` for `accelerate` support)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1727454112/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1738260348",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1738260348",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1738260348,
          "node_id": "IC_kwDOCUB6oc5nm798",
          "user": {
            "login": "dg845",
            "id": 58458699,
            "node_id": "MDQ6VXNlcjU4NDU4Njk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/58458699?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dg845",
            "html_url": "https://github.com/dg845",
            "followers_url": "https://api.github.com/users/dg845/followers",
            "following_url": "https://api.github.com/users/dg845/following{/other_user}",
            "gists_url": "https://api.github.com/users/dg845/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dg845/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dg845/subscriptions",
            "organizations_url": "https://api.github.com/users/dg845/orgs",
            "repos_url": "https://api.github.com/users/dg845/repos",
            "events_url": "https://api.github.com/users/dg845/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dg845/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-28T00:03:38Z",
          "updated_at": "2023-09-28T00:03:38Z",
          "author_association": "CONTRIBUTOR",
          "body": "Gentle ping @ArthurZucker for a follow up review.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1738260348/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1738794374",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1738794374",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1738794374,
          "node_id": "IC_kwDOCUB6oc5no-WG",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-28T09:24:01Z",
          "updated_at": "2023-09-28T09:24:01Z",
          "author_association": "COLLABORATOR",
          "body": "Hey! Sorry I'll get this done by the end of the week \ud83d\ude09 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1738794374/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1749307065",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1749307065",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1749307065,
          "node_id": "IC_kwDOCUB6oc5oRE65",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-05T16:53:26Z",
          "updated_at": "2023-10-05T16:53:36Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for iterating @dg845! Requesting a final review from @ArthurZucker when he gets the chance \ud83e\udd17",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1749307065/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 2,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1749833429",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1749833429",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1749833429,
          "node_id": "IC_kwDOCUB6oc5oTFbV",
          "user": {
            "login": "dg845",
            "id": 58458699,
            "node_id": "MDQ6VXNlcjU4NDU4Njk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/58458699?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dg845",
            "html_url": "https://github.com/dg845",
            "followers_url": "https://api.github.com/users/dg845/followers",
            "following_url": "https://api.github.com/users/dg845/following{/other_user}",
            "gists_url": "https://api.github.com/users/dg845/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dg845/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dg845/subscriptions",
            "organizations_url": "https://api.github.com/users/dg845/orgs",
            "repos_url": "https://api.github.com/users/dg845/repos",
            "events_url": "https://api.github.com/users/dg845/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dg845/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-06T00:34:42Z",
          "updated_at": "2023-10-06T00:34:42Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @sanchit-gandhi, I have a question about the design of a potential `batch_decode` method for the feature extractor (as a follow up to https://github.com/huggingface/transformers/pull/24799#discussion_r1344041876). The simplest implementation of a `batch_decode` method would be something like\r\n\r\n```python\r\nclass UnivNetGanFeatureExtractor(SequenceFeatureExtractor):\r\n    ...\r\n    def batch_decode(self, audio):\r\n        return audio[..., :-(self.pad_end_length * self.hop_length)]\r\n    ...\r\n```\r\n\r\nwhich directly follows the current usage example. The downside here is that this `batch_decode` method should only be called if we padded the end of the spectrogram when calling the feature extractor, but it doesn't have a way to know whether this is the case. Having something like a `padding_mask` argument would give it the necessary information it needs, but UnivNet doesn't use any attention mechanisms so the feature extractor currently doesn't produce an attention mask and `UnivNetGan.forward` currently doesn't take a mask argument. I'm currently considering several designs and am not sure which one is best:\r\n\r\n1. The feature extractor does not output a `padding_mask` and `UnivNetGan.forward` does not take a `padding_mask` argument. `batch_decode` is implemented as above, where it only strips the end padding and should only be called if `pad_end=True` when the feature extractor was called.\r\n2. The feature extractor outputs a `padding_mask` and `UnivNetGan.forward` takes a `padding_mask` argument, but does nothing with it. The `batch_decode` method takes in both `audio` and `padding_mask` arguments and uses the mask to remove padding from the `audio` output.\r\n3. The feature extractor outputs a `padding_mask` and `UnivNetGan.forward` takes a `padding_mask` argument and uses it to remove padding from the output waveform right before returning it. There is no need for a `batch_decode` method in this case.\r\n\r\nI'm leaning toward (3) because it's the most user-friendly, since all padding is handled under the hood and there's no need to additionally call `feature_extractor.batch_decode`.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1749833429/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1755790002",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1755790002",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1755790002,
          "node_id": "IC_kwDOCUB6oc5opzqy",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-10T16:23:42Z",
          "updated_at": "2023-10-10T16:26:15Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for the comprehensive summary @dg845! In the proposed implementation for 3, would the model still return a PyTorch tensor of outputs? If we have different padding for each element in the batch, we'll need to strip each audio by different amounts, so it won't be possible to output a PyTorch tensor from the model? The sequence length dimensions will be different for each element in the batch, so we can't output a tensor with the same seq len dim across items in the batch. We try and keep a `tensor in -> tensor out` approach to the modelling code to make it easy to compile and handle putting/removing inputs/outputs from torch device respectively.\r\n\r\nSo I think we'll need to go with 2, and have the feature extractor to strip this padding a return a list of numpy arrays (i.e. a ragged list of audio arrays). WDYT? ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1755790002/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1755905748",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1755905748",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1755905748,
          "node_id": "IC_kwDOCUB6oc5oqP7U",
          "user": {
            "login": "ylacombe",
            "id": 52246514,
            "node_id": "MDQ6VXNlcjUyMjQ2NTE0",
            "avatar_url": "https://avatars.githubusercontent.com/u/52246514?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylacombe",
            "html_url": "https://github.com/ylacombe",
            "followers_url": "https://api.github.com/users/ylacombe/followers",
            "following_url": "https://api.github.com/users/ylacombe/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylacombe/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylacombe/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylacombe/subscriptions",
            "organizations_url": "https://api.github.com/users/ylacombe/orgs",
            "repos_url": "https://api.github.com/users/ylacombe/repos",
            "events_url": "https://api.github.com/users/ylacombe/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylacombe/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-10T17:19:49Z",
          "updated_at": "2023-10-10T17:19:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @dg845 and @sanchit-gandhi, IMO, we should lean towards a solution that looks like 3, but still allows to return Pytorch tensors. It would go like this:\r\n- if `return_dict=False`, it returns a tuple `(waveform, waveform_length)` (or similar naming) with `waveform` of shape `(batch_size, max_waveform_length)` and `waveform_length` of shape `(batch_size,)` which stores the waveform lengths that you would compute from the `padding_mask`\r\n- if `return_dict=True`, returns a `UnivNetOutput` which inherits from `ModelOuput`, with `waveform` and `waveform_length` as keys. It would look a bit like [VitsModelOuput](https://github.com/huggingface/transformers/blob/e8fdd7875def7be59e2c9b823705fbf003163ea0/src/transformers/models/vits/modeling_vits.py#L52) but with less keys!\r\n\r\nWDYT of going for something like that ?\r\n\r\nIn that way, it would look a lot like the regular outputs of NLP models in transformers, while keeping our requirements. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1755905748/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1757395115",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1757395115",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1757395115,
          "node_id": "IC_kwDOCUB6oc5ov7ir",
          "user": {
            "login": "dg845",
            "id": 58458699,
            "node_id": "MDQ6VXNlcjU4NDU4Njk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/58458699?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dg845",
            "html_url": "https://github.com/dg845",
            "followers_url": "https://api.github.com/users/dg845/followers",
            "following_url": "https://api.github.com/users/dg845/following{/other_user}",
            "gists_url": "https://api.github.com/users/dg845/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dg845/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dg845/subscriptions",
            "organizations_url": "https://api.github.com/users/dg845/orgs",
            "repos_url": "https://api.github.com/users/dg845/repos",
            "events_url": "https://api.github.com/users/dg845/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dg845/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-11T10:47:43Z",
          "updated_at": "2023-10-11T11:33:52Z",
          "author_association": "CONTRIBUTOR",
          "body": "@sanchit-gandhi @ylacombe thanks for the input! I have added an implementation based on https://github.com/huggingface/transformers/pull/24799#issuecomment-1755905748 with the following details:\r\n\r\n- `UnivNetFeatureExtractor.__call__` can return a `padding_mask` argument (the `attention_mask` output from `SequenceFeatureExtractor.pad`). When `pad_end = True` we will pad with audio silence instead of spectrogram silence following https://github.com/huggingface/transformers/pull/24799#discussion_r1325158242.\r\n- `UnivNetModel.forward` accepts a `padding_mask` argument and will use it to calculate the length of each original unpadded waveform and return it as `waveform_lengths`. (The audio output `waveforms` will always be a batched, padded tensor of waveforms).\r\n- `UnivNetFeatureExtractor.batch_decode` takes in the outputs of `UnivNetModel.forward` and returns a ragged list of 1D waveform arrays with padding removed if `waveform_lengths` is available.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1757395115/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1759742290",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1759742290",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1759742290,
          "node_id": "IC_kwDOCUB6oc5o44lS",
          "user": {
            "login": "sanchit-gandhi",
            "id": 93869735,
            "node_id": "U_kgDOBZhWpw",
            "avatar_url": "https://avatars.githubusercontent.com/u/93869735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sanchit-gandhi",
            "html_url": "https://github.com/sanchit-gandhi",
            "followers_url": "https://api.github.com/users/sanchit-gandhi/followers",
            "following_url": "https://api.github.com/users/sanchit-gandhi/following{/other_user}",
            "gists_url": "https://api.github.com/users/sanchit-gandhi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sanchit-gandhi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sanchit-gandhi/subscriptions",
            "organizations_url": "https://api.github.com/users/sanchit-gandhi/orgs",
            "repos_url": "https://api.github.com/users/sanchit-gandhi/repos",
            "events_url": "https://api.github.com/users/sanchit-gandhi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sanchit-gandhi/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-12T14:37:30Z",
          "updated_at": "2023-10-12T14:37:30Z",
          "author_association": "CONTRIBUTOR",
          "body": "Nice - I think this is a good design! Gently pinging @ArthurZucker for a final review here when you get the chance \ud83d\ude4c",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1759742290/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1768367410",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1768367410",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1768367410,
          "node_id": "IC_kwDOCUB6oc5pZyUy",
          "user": {
            "login": "dg845",
            "id": 58458699,
            "node_id": "MDQ6VXNlcjU4NDU4Njk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/58458699?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dg845",
            "html_url": "https://github.com/dg845",
            "followers_url": "https://api.github.com/users/dg845/followers",
            "following_url": "https://api.github.com/users/dg845/following{/other_user}",
            "gists_url": "https://api.github.com/users/dg845/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dg845/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dg845/subscriptions",
            "organizations_url": "https://api.github.com/users/dg845/orgs",
            "repos_url": "https://api.github.com/users/dg845/repos",
            "events_url": "https://api.github.com/users/dg845/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dg845/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-18T12:39:56Z",
          "updated_at": "2023-10-18T12:39:56Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ArthurZucker @sanchit-gandhi @ylacombe I think one thing left to resolve is where to put the UnivNet model checkpoint (currently at [`dg845/univnet-dev`](https://huggingface.co/dg845/univnet-dev)). I'm not sure which org to put the model checkpoint under since the [original paper](https://arxiv.org/pdf/2106.07889.pdf) is from Kakao, but the checkpoint is from an [unofficial implementation](https://github.com/maum-ai/univnet) by maum.ai (see https://github.com/huggingface/transformers/pull/24799#discussion_r1325159440, https://github.com/huggingface/transformers/pull/24799#discussion_r1327892862).",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1768367410/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1772913911",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1772913911",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1772913911,
          "node_id": "IC_kwDOCUB6oc5prIT3",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-20T15:04:31Z",
          "updated_at": "2023-10-20T15:04:31Z",
          "author_association": "COLLABORATOR",
          "body": "We could reach out to maum.ai to ask them if they can create and org (if not already) and host the weights",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1772913911/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1776280840",
          "html_url": "https://github.com/huggingface/transformers/pull/24799#issuecomment-1776280840",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/24799",
          "id": 1776280840,
          "node_id": "IC_kwDOCUB6oc5p3-UI",
          "user": {
            "login": "dg845",
            "id": 58458699,
            "node_id": "MDQ6VXNlcjU4NDU4Njk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/58458699?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dg845",
            "html_url": "https://github.com/dg845",
            "followers_url": "https://api.github.com/users/dg845/followers",
            "following_url": "https://api.github.com/users/dg845/following{/other_user}",
            "gists_url": "https://api.github.com/users/dg845/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dg845/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dg845/subscriptions",
            "organizations_url": "https://api.github.com/users/dg845/orgs",
            "repos_url": "https://api.github.com/users/dg845/repos",
            "events_url": "https://api.github.com/users/dg845/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dg845/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-24T00:48:49Z",
          "updated_at": "2023-10-24T00:48:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ArthurZucker Sounds good! I believe that they have an org at https://huggingface.co/maum-ai.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1776280840/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/35147/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/35147/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/35147/events",
      "html_url": "https://github.com/huggingface/transformers/pull/35147",
      "id": 2725066292,
      "node_id": "PR_kwDOCUB6oc6EboVL",
      "number": 35147,
      "title": "Samhq model addition ",
      "user": {
        "login": "sushmanthreddy",
        "id": 73489688,
        "node_id": "MDQ6VXNlcjczNDg5Njg4",
        "avatar_url": "https://avatars.githubusercontent.com/u/73489688?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sushmanthreddy",
        "html_url": "https://github.com/sushmanthreddy",
        "followers_url": "https://api.github.com/users/sushmanthreddy/followers",
        "following_url": "https://api.github.com/users/sushmanthreddy/following{/other_user}",
        "gists_url": "https://api.github.com/users/sushmanthreddy/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sushmanthreddy/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sushmanthreddy/subscriptions",
        "organizations_url": "https://api.github.com/users/sushmanthreddy/orgs",
        "repos_url": "https://api.github.com/users/sushmanthreddy/repos",
        "events_url": "https://api.github.com/users/sushmanthreddy/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sushmanthreddy/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1843244711,
          "node_id": "MDU6TGFiZWwxODQzMjQ0NzEx",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/New%20model",
          "name": "New model",
          "color": "fbca04",
          "default": false,
          "description": ""
        },
        {
          "id": 5769473378,
          "node_id": "LA_kwDOCUB6oc8AAAABV-MtYg",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/Vision",
          "name": "Vision",
          "color": "C079EF",
          "default": false,
          "description": ""
        },
        {
          "id": 6886428489,
          "node_id": "LA_kwDOCUB6oc8AAAABmnaPSQ",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/run-slow",
          "name": "run-slow",
          "color": "E1D519",
          "default": false,
          "description": ""
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 44,
      "created_at": "2024-12-08T09:14:24Z",
      "updated_at": "2025-06-07T21:03:11Z",
      "closed_at": "2025-04-28T17:07:09Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/35147",
        "html_url": "https://github.com/huggingface/transformers/pull/35147",
        "diff_url": "https://github.com/huggingface/transformers/pull/35147.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/35147.patch",
        "merged_at": "2025-04-28T17:07:09Z"
      },
      "body": "close #31137\r\n\r\n\r\n\r\n\r\n**Pull Request Title:** Add HQ-SAM Functionality to Transformers Library\r\n\r\n\r\n\r\n### **Model Overview**  \r\nHQ-SAM (Segment Anything in High Quality) is an enhanced version of the Segment Anything Model (SAM), addressing limitations in mask quality for intricate structures and challenging segmentation tasks. The model refines SAM\u2019s predictions using a **High-Quality Output Token** and **Global-Local Feature Fusion** while preserving SAM\u2019s efficiency and zero-shot generalization capabilities.\r\n\r\nAccording to the original implementation, HQ-SAM significantly improves mask boundaries and reduces segmentation errors by introducing minimal additional parameters (<0.5%) and computational overhead. The model is designed to maintain compatibility with SAM\u2019s existing prompt-based design and mask decoder architecture.\r\n\r\n\r\n\r\n### **Repository and Weights**  \r\nThe HQ-SAM implementation and pre-trained weights are available in the following repository:  \r\n[https://github.com/SysCV/sam-hq](https://github.com/SysCV/sam-hq)  \r\n\r\nHQ-SAM provides three pre-trained weight variants:  \r\n- `sam_hq_vit_b` \u2013 Small vision encoder.  \r\n- `sam_hq_vit_l` \u2013 Medium vision encoder.  \r\n- `sam_hq_vit_h` \u2013 Large vision encoder.  \r\n\r\nThe main difference between these variants is the size of the Vision Transformer (ViT) encoder, while the prompt encoder and mask decoder remain unchanged.\r\n\r\n\r\n\r\n### **Functionality**  \r\nFor each input (e.g., bounding boxes, 2D points, or coarse masks), HQ-SAM predicts high-quality binary masks that enhance segmentation precision. Improvements include:  \r\n- More accurate boundaries.  \r\n- Correction of coarse masks and segmentation errors.  \r\n- Enhanced detail preservation for thin structures and complex object geometries.\r\n\r\n\r\n\r\n**Reviewers:** @molbap \r\n\r\n",
      "closed_by": {
        "login": "molbap",
        "id": 39954772,
        "node_id": "MDQ6VXNlcjM5OTU0Nzcy",
        "avatar_url": "https://avatars.githubusercontent.com/u/39954772?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/molbap",
        "html_url": "https://github.com/molbap",
        "followers_url": "https://api.github.com/users/molbap/followers",
        "following_url": "https://api.github.com/users/molbap/following{/other_user}",
        "gists_url": "https://api.github.com/users/molbap/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/molbap/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/molbap/subscriptions",
        "organizations_url": "https://api.github.com/users/molbap/orgs",
        "repos_url": "https://api.github.com/users/molbap/repos",
        "events_url": "https://api.github.com/users/molbap/events{/privacy}",
        "received_events_url": "https://api.github.com/users/molbap/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/35147/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/35147/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2558393876",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2558393876",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2558393876,
          "node_id": "IC_kwDOCUB6oc6Yff4U",
          "user": {
            "login": "sushmanthreddy",
            "id": 73489688,
            "node_id": "MDQ6VXNlcjczNDg5Njg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/73489688?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sushmanthreddy",
            "html_url": "https://github.com/sushmanthreddy",
            "followers_url": "https://api.github.com/users/sushmanthreddy/followers",
            "following_url": "https://api.github.com/users/sushmanthreddy/following{/other_user}",
            "gists_url": "https://api.github.com/users/sushmanthreddy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sushmanthreddy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sushmanthreddy/subscriptions",
            "organizations_url": "https://api.github.com/users/sushmanthreddy/orgs",
            "repos_url": "https://api.github.com/users/sushmanthreddy/repos",
            "events_url": "https://api.github.com/users/sushmanthreddy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sushmanthreddy/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-12-22T09:37:30Z",
          "updated_at": "2024-12-23T21:36:27Z",
          "author_association": "CONTRIBUTOR",
          "body": "done\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2558393876/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2560324106",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2560324106",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2560324106,
          "node_id": "IC_kwDOCUB6oc6Ym3IK",
          "user": {
            "login": "sushmanthreddy",
            "id": 73489688,
            "node_id": "MDQ6VXNlcjczNDg5Njg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/73489688?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sushmanthreddy",
            "html_url": "https://github.com/sushmanthreddy",
            "followers_url": "https://api.github.com/users/sushmanthreddy/followers",
            "following_url": "https://api.github.com/users/sushmanthreddy/following{/other_user}",
            "gists_url": "https://api.github.com/users/sushmanthreddy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sushmanthreddy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sushmanthreddy/subscriptions",
            "organizations_url": "https://api.github.com/users/sushmanthreddy/orgs",
            "repos_url": "https://api.github.com/users/sushmanthreddy/repos",
            "events_url": "https://api.github.com/users/sushmanthreddy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sushmanthreddy/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-12-23T21:37:02Z",
          "updated_at": "2024-12-23T21:37:02Z",
          "author_association": "CONTRIBUTOR",
          "body": "@molbap  and @qubvel can u pls review this pull request ??work is done they are working fine now ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2560324106/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 1
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2561044837",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2561044837",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2561044837,
          "node_id": "IC_kwDOCUB6oc6YpnFl",
          "user": {
            "login": "qubvel",
            "id": 31920396,
            "node_id": "MDQ6VXNlcjMxOTIwMzk2",
            "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qubvel",
            "html_url": "https://github.com/qubvel",
            "followers_url": "https://api.github.com/users/qubvel/followers",
            "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
            "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
            "organizations_url": "https://api.github.com/users/qubvel/orgs",
            "repos_url": "https://api.github.com/users/qubvel/repos",
            "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qubvel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-12-24T11:59:34Z",
          "updated_at": "2024-12-24T11:59:34Z",
          "author_association": "MEMBER",
          "body": "Hi @sushmanthreddy! Thanks for working on the model integration to transformers \ud83e\udd17 I'm on holidays until Jan 3rd, and I'll do a review after. Ensure all related common and integration tests pass, and please apply `make modified_only_fixup` for quality and `make repo-consistency` for other checks.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2561044837/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2561729483",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2561729483",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2561729483,
          "node_id": "IC_kwDOCUB6oc6YsOPL",
          "user": {
            "login": "sushmanthreddy",
            "id": 73489688,
            "node_id": "MDQ6VXNlcjczNDg5Njg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/73489688?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sushmanthreddy",
            "html_url": "https://github.com/sushmanthreddy",
            "followers_url": "https://api.github.com/users/sushmanthreddy/followers",
            "following_url": "https://api.github.com/users/sushmanthreddy/following{/other_user}",
            "gists_url": "https://api.github.com/users/sushmanthreddy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sushmanthreddy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sushmanthreddy/subscriptions",
            "organizations_url": "https://api.github.com/users/sushmanthreddy/orgs",
            "repos_url": "https://api.github.com/users/sushmanthreddy/repos",
            "events_url": "https://api.github.com/users/sushmanthreddy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sushmanthreddy/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-12-25T08:53:13Z",
          "updated_at": "2024-12-25T08:53:13Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @qubvel ! Thanks for the update. I'll make sure all the related tests pass and run the required checks . Enjoy your holidays, and I'll be ready for your review when you're back!\r\n\r\nCheers \ud83c\udf7b",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2561729483/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2572792587",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2572792587",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2572792587,
          "node_id": "IC_kwDOCUB6oc6ZWbML",
          "user": {
            "login": "sushmanthreddy",
            "id": 73489688,
            "node_id": "MDQ6VXNlcjczNDg5Njg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/73489688?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sushmanthreddy",
            "html_url": "https://github.com/sushmanthreddy",
            "followers_url": "https://api.github.com/users/sushmanthreddy/followers",
            "following_url": "https://api.github.com/users/sushmanthreddy/following{/other_user}",
            "gists_url": "https://api.github.com/users/sushmanthreddy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sushmanthreddy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sushmanthreddy/subscriptions",
            "organizations_url": "https://api.github.com/users/sushmanthreddy/orgs",
            "repos_url": "https://api.github.com/users/sushmanthreddy/repos",
            "events_url": "https://api.github.com/users/sushmanthreddy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sushmanthreddy/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-01-06T10:13:54Z",
          "updated_at": "2025-01-06T10:14:12Z",
          "author_association": "CONTRIBUTOR",
          "body": "@molbap there is one file missing in this code actually image processor ,would like to add that also ,will let u knew once that also added, other than that anything is there pls let me knew",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2572792587/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 1
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2581007481",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2581007481",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2581007481,
          "node_id": "IC_kwDOCUB6oc6Z1wx5",
          "user": {
            "login": "sushmanthreddy",
            "id": 73489688,
            "node_id": "MDQ6VXNlcjczNDg5Njg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/73489688?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sushmanthreddy",
            "html_url": "https://github.com/sushmanthreddy",
            "followers_url": "https://api.github.com/users/sushmanthreddy/followers",
            "following_url": "https://api.github.com/users/sushmanthreddy/following{/other_user}",
            "gists_url": "https://api.github.com/users/sushmanthreddy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sushmanthreddy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sushmanthreddy/subscriptions",
            "organizations_url": "https://api.github.com/users/sushmanthreddy/orgs",
            "repos_url": "https://api.github.com/users/sushmanthreddy/repos",
            "events_url": "https://api.github.com/users/sushmanthreddy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sushmanthreddy/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-01-09T18:37:40Z",
          "updated_at": "2025-01-09T18:37:40Z",
          "author_association": "CONTRIBUTOR",
          "body": "@molbap In the SAM HQ model, `global_attn_indexes` determines which layers apply global attention, allowing the model to focus on the entire input for better context, especially in tasks like image segmentation. For example, default indexes like `[2, 5, 8, 11]` work well when there are enough layers, as global attention refines embeddings by capturing long-range relationships. However, when `num_hidden_layers=2`, only two layers (0 and 1) exist, and applying global attention at higher indexes like 2 or 5 causes errors. This results in empty intermediate embeddings because the attention mechanisms for those layers cannot execute. To fix this, `global_attn_indexes` needs to be adjusted dynamically to match the number of layers, ensuring valid attention operations and fully computed embeddings.\r\n\r\nActually, there are four tests failing because the intermediate embeddings are empty. I tried debugging this issue, and this is what I found. Please correct me if I'm wrong.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2581007481/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2610672996",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2610672996",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2610672996,
          "node_id": "IC_kwDOCUB6oc6bm7Vk",
          "user": {
            "login": "sushmanthreddy",
            "id": 73489688,
            "node_id": "MDQ6VXNlcjczNDg5Njg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/73489688?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sushmanthreddy",
            "html_url": "https://github.com/sushmanthreddy",
            "followers_url": "https://api.github.com/users/sushmanthreddy/followers",
            "following_url": "https://api.github.com/users/sushmanthreddy/following{/other_user}",
            "gists_url": "https://api.github.com/users/sushmanthreddy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sushmanthreddy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sushmanthreddy/subscriptions",
            "organizations_url": "https://api.github.com/users/sushmanthreddy/orgs",
            "repos_url": "https://api.github.com/users/sushmanthreddy/repos",
            "events_url": "https://api.github.com/users/sushmanthreddy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sushmanthreddy/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-01-23T18:39:48Z",
          "updated_at": "2025-01-23T18:39:48Z",
          "author_association": "CONTRIBUTOR",
          "body": "got busy with other work, will keep pr from tomorrow\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2610672996/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2648076653",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2648076653",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2648076653,
          "node_id": "IC_kwDOCUB6oc6d1nFt",
          "user": {
            "login": "molbap",
            "id": 39954772,
            "node_id": "MDQ6VXNlcjM5OTU0Nzcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/39954772?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/molbap",
            "html_url": "https://github.com/molbap",
            "followers_url": "https://api.github.com/users/molbap/followers",
            "following_url": "https://api.github.com/users/molbap/following{/other_user}",
            "gists_url": "https://api.github.com/users/molbap/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/molbap/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/molbap/subscriptions",
            "organizations_url": "https://api.github.com/users/molbap/orgs",
            "repos_url": "https://api.github.com/users/molbap/repos",
            "events_url": "https://api.github.com/users/molbap/events{/privacy}",
            "received_events_url": "https://api.github.com/users/molbap/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-10T14:00:18Z",
          "updated_at": "2025-02-10T14:00:18Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @sushmanthreddy ! LMK when you want me to review this PR :hugs: ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2648076653/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2648443971",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2648443971",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2648443971,
          "node_id": "IC_kwDOCUB6oc6d3AxD",
          "user": {
            "login": "sushmanthreddy",
            "id": 73489688,
            "node_id": "MDQ6VXNlcjczNDg5Njg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/73489688?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sushmanthreddy",
            "html_url": "https://github.com/sushmanthreddy",
            "followers_url": "https://api.github.com/users/sushmanthreddy/followers",
            "following_url": "https://api.github.com/users/sushmanthreddy/following{/other_user}",
            "gists_url": "https://api.github.com/users/sushmanthreddy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sushmanthreddy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sushmanthreddy/subscriptions",
            "organizations_url": "https://api.github.com/users/sushmanthreddy/orgs",
            "repos_url": "https://api.github.com/users/sushmanthreddy/repos",
            "events_url": "https://api.github.com/users/sushmanthreddy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sushmanthreddy/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-10T15:42:58Z",
          "updated_at": "2025-02-10T15:43:13Z",
          "author_association": "CONTRIBUTOR",
          "body": "@molbap sure,almost done working on some last test files,will let u knew",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2648443971/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2659495655",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2659495655",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2659495655,
          "node_id": "IC_kwDOCUB6oc6ehK7n",
          "user": {
            "login": "sushmanthreddy",
            "id": 73489688,
            "node_id": "MDQ6VXNlcjczNDg5Njg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/73489688?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sushmanthreddy",
            "html_url": "https://github.com/sushmanthreddy",
            "followers_url": "https://api.github.com/users/sushmanthreddy/followers",
            "following_url": "https://api.github.com/users/sushmanthreddy/following{/other_user}",
            "gists_url": "https://api.github.com/users/sushmanthreddy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sushmanthreddy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sushmanthreddy/subscriptions",
            "organizations_url": "https://api.github.com/users/sushmanthreddy/orgs",
            "repos_url": "https://api.github.com/users/sushmanthreddy/repos",
            "events_url": "https://api.github.com/users/sushmanthreddy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sushmanthreddy/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-14T14:35:29Z",
          "updated_at": "2025-02-17T15:54:13Z",
          "author_association": "CONTRIBUTOR",
          "body": "@Cyrilvallez @ArthurZucker @molbap I have small issue coming up and need some debugging help ,From vision encoder the intermediate embeddings are getting generated but  some tests are failing due to empty intermediate embeddings .\r\n\r\n![Screenshot 2025-02-14 at 8 02 28\u202fPM](https://github.com/user-attachments/assets/c18ee11d-e69a-48e3-b107-8922195b6bd4)\r\n\r\n\r\n\r\nI dont knew, Where am going wrong can anyone from team pls help me out with this ?\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2659495655/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 1
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2665234180",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2665234180",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2665234180,
          "node_id": "IC_kwDOCUB6oc6e3D8E",
          "user": {
            "login": "molbap",
            "id": 39954772,
            "node_id": "MDQ6VXNlcjM5OTU0Nzcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/39954772?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/molbap",
            "html_url": "https://github.com/molbap",
            "followers_url": "https://api.github.com/users/molbap/followers",
            "following_url": "https://api.github.com/users/molbap/following{/other_user}",
            "gists_url": "https://api.github.com/users/molbap/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/molbap/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/molbap/subscriptions",
            "organizations_url": "https://api.github.com/users/molbap/orgs",
            "repos_url": "https://api.github.com/users/molbap/repos",
            "events_url": "https://api.github.com/users/molbap/events{/privacy}",
            "received_events_url": "https://api.github.com/users/molbap/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-18T10:36:34Z",
          "updated_at": "2025-02-18T10:36:34Z",
          "author_association": "CONTRIBUTOR",
          "body": "@sushmanthreddy The issue is that you're passing `intermediate_embeddings[0].unsqueeze(0)` directly to the forward, but your `intermediate_embeddings` is supposed to be `Optional[None]` which is not true if you're indexing on it: if you create an intermediate variable that handles cases where no intermediate embeddings are passed, it'll work! Your `ModelTest` do not send any value there, so, indexerror. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2665234180/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2668424905",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2668424905",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2668424905,
          "node_id": "IC_kwDOCUB6oc6fDO7J",
          "user": {
            "login": "sushmanthreddy",
            "id": 73489688,
            "node_id": "MDQ6VXNlcjczNDg5Njg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/73489688?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sushmanthreddy",
            "html_url": "https://github.com/sushmanthreddy",
            "followers_url": "https://api.github.com/users/sushmanthreddy/followers",
            "following_url": "https://api.github.com/users/sushmanthreddy/following{/other_user}",
            "gists_url": "https://api.github.com/users/sushmanthreddy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sushmanthreddy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sushmanthreddy/subscriptions",
            "organizations_url": "https://api.github.com/users/sushmanthreddy/orgs",
            "repos_url": "https://api.github.com/users/sushmanthreddy/repos",
            "events_url": "https://api.github.com/users/sushmanthreddy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sushmanthreddy/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-19T11:54:50Z",
          "updated_at": "2025-02-19T12:03:57Z",
          "author_association": "CONTRIBUTOR",
          "body": "> @sushmanthreddy The issue is that you're passing `intermediate_embeddings[0].unsqueeze(0)` directly to the forward, but your `intermediate_embeddings` is supposed to be `Optional[None]` which is not true if you're indexing on it: if you create an intermediate variable that handles cases where no intermediate embeddings are passed, it'll work! Your `ModelTest` do not send any value there, so, indexerror.\r\n\r\nThanks for the help and model is working fine now ,all tests are  passing will attach notebook results to this pr and ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2668424905/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2668476678",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2668476678",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2668476678,
          "node_id": "IC_kwDOCUB6oc6fDbkG",
          "user": {
            "login": "sushmanthreddy",
            "id": 73489688,
            "node_id": "MDQ6VXNlcjczNDg5Njg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/73489688?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sushmanthreddy",
            "html_url": "https://github.com/sushmanthreddy",
            "followers_url": "https://api.github.com/users/sushmanthreddy/followers",
            "following_url": "https://api.github.com/users/sushmanthreddy/following{/other_user}",
            "gists_url": "https://api.github.com/users/sushmanthreddy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sushmanthreddy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sushmanthreddy/subscriptions",
            "organizations_url": "https://api.github.com/users/sushmanthreddy/orgs",
            "repos_url": "https://api.github.com/users/sushmanthreddy/repos",
            "events_url": "https://api.github.com/users/sushmanthreddy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sushmanthreddy/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-19T12:12:17Z",
          "updated_at": "2025-02-19T12:12:17Z",
          "author_association": "CONTRIBUTOR",
          "body": "![Screenshot 2025-02-19 at 5 35 53\u202fPM](https://github.com/user-attachments/assets/62835124-ad37-4c9b-8c19-d415d36487ef)\r\n\r\n\r\n\r\nThis is one of results of the model will share demo notebook also",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2668476678/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2668504953",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2668504953",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2668504953,
          "node_id": "IC_kwDOCUB6oc6fDid5",
          "user": {
            "login": "qubvel",
            "id": 31920396,
            "node_id": "MDQ6VXNlcjMxOTIwMzk2",
            "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qubvel",
            "html_url": "https://github.com/qubvel",
            "followers_url": "https://api.github.com/users/qubvel/followers",
            "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
            "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
            "organizations_url": "https://api.github.com/users/qubvel/orgs",
            "repos_url": "https://api.github.com/users/qubvel/repos",
            "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qubvel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-19T12:24:53Z",
          "updated_at": "2025-02-19T12:25:25Z",
          "author_association": "MEMBER",
          "body": "The image above looks super nice! Great work @sushmanthreddy. Looking forward to see the notebook and try it out!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2668504953/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2672728789",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2672728789",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2672728789,
          "node_id": "IC_kwDOCUB6oc6fTprV",
          "user": {
            "login": "sushmanthreddy",
            "id": 73489688,
            "node_id": "MDQ6VXNlcjczNDg5Njg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/73489688?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sushmanthreddy",
            "html_url": "https://github.com/sushmanthreddy",
            "followers_url": "https://api.github.com/users/sushmanthreddy/followers",
            "following_url": "https://api.github.com/users/sushmanthreddy/following{/other_user}",
            "gists_url": "https://api.github.com/users/sushmanthreddy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sushmanthreddy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sushmanthreddy/subscriptions",
            "organizations_url": "https://api.github.com/users/sushmanthreddy/orgs",
            "repos_url": "https://api.github.com/users/sushmanthreddy/repos",
            "events_url": "https://api.github.com/users/sushmanthreddy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sushmanthreddy/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-20T21:30:53Z",
          "updated_at": "2025-02-20T21:30:53Z",
          "author_association": "CONTRIBUTOR",
          "body": "@qubvel  @molbap  [SamHQ](https://colab.research.google.com/#fileId=https%3A//storage.googleapis.com/kaggle-colab-exported-notebooks/samhq-inference-38d85776-d690-4b4c-bfc0-8ad87bb7bdaa.ipynb%3FX-Goog-Algorithm%3DGOOG4-RSA-SHA256%26X-Goog-Credential%3Dgcp-kaggle-com%2540kaggle-161607.iam.gserviceaccount.com/20250220/auto/storage/goog4_request%26X-Goog-Date%3D20250220T205650Z%26X-Goog-Expires%3D259200%26X-Goog-SignedHeaders%3Dhost%26X-Goog-Signature%3D6b11acac899bc6ff0ca9155bb0061b7f3e8d64cf925d923d0fb0b387bafed40c15f2ddfbdc2dbaa30a1ad27abb8b0b446d9c04e81391aafe275e21bf8e93bba89ef184867b6ab61a115cf1d46a3c308190114f2c1509064617526b01234ec7f1a2551f2d60997e4963262c3e7866b995463e75ebf9cfc307d01c0f25a1efe03f0878956e37da4e1a1f39137daf99cf6edb678aed1ab9277cf23601dd992a8a76dbbaa55bdfe572dcda6475cc3d4d0c8f0ba242dd61d1ea91e9ecdc4a820f0af3de05604cb611781ca48b59be4275fbafafb97ed1a7fc7c4d9ea2a3210e324e48f2d3dbbd77a6889f0e3bea2a569c74dfc1b3fe9581bcc38384baa9c0f2f679cd)\r\n\r\n\r\nHere is the notebook for sam hq model inference ,its almost near to results of sam hq orginal implementation,Please let me knew ,if I have gone anywhere  wrong ??",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2672728789/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 1
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2677075574",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2677075574",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2677075574,
          "node_id": "IC_kwDOCUB6oc6fkO52",
          "user": {
            "login": "sushmanthreddy",
            "id": 73489688,
            "node_id": "MDQ6VXNlcjczNDg5Njg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/73489688?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sushmanthreddy",
            "html_url": "https://github.com/sushmanthreddy",
            "followers_url": "https://api.github.com/users/sushmanthreddy/followers",
            "following_url": "https://api.github.com/users/sushmanthreddy/following{/other_user}",
            "gists_url": "https://api.github.com/users/sushmanthreddy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sushmanthreddy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sushmanthreddy/subscriptions",
            "organizations_url": "https://api.github.com/users/sushmanthreddy/orgs",
            "repos_url": "https://api.github.com/users/sushmanthreddy/repos",
            "events_url": "https://api.github.com/users/sushmanthreddy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sushmanthreddy/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-02-23T19:33:17Z",
          "updated_at": "2025-02-23T20:11:58Z",
          "author_association": "CONTRIBUTOR",
          "body": "@qubvel @molbap This is the link for the sam hq fine-tuning notebook.\n[finetune](https://colab.research.google.com/#fileId=https%3A//storage.googleapis.com/kaggle-colab-exported-notebooks/sam-hq-finetune-1914c1fb-d228-410f-b40f-fb643205ab70.ipynb%3FX-Goog-Algorithm%3DGOOG4-RSA-SHA256%26X-Goog-Credential%3Dgcp-kaggle-com%2540kaggle-161607.iam.gserviceaccount.com/20250223/auto/storage/goog4_request%26X-Goog-Date%3D20250223T192820Z%26X-Goog-Expires%3D259200%26X-Goog-SignedHeaders%3Dhost%26X-Goog-Signature%3Db2e821885aca3ba0d14201ddf6bc975a6d962d270a0e212ab9f543bcb113ded7d90999ac004cf716df82414efc12c4715e06c7b49b8d59b6af1081760157cf06047e2bea590d28580c526132ea859b2cf00f60762714a011ef8092c01726e1dceb1ac17db609eb1886c9b0f8fa124347965c0080c9ab0ee4d3bec1c29bdf9c5789b84678ace12ea37b7eebc220d3420d75f34ffbd5beb99d2fe7855229e2f9c2d5504d8fe8ed508c02a481bb818286d95fcdbd3e200d97de8f4094bb4ba94bf7608a3172110675d1e481f1b241600bf56af5a83970684de59e23131cb51725bb74b48629f9f9f6f650a8308470071f17d1e5cc571b440b22c7065c8e584dbbb3)\r\n<img width=\"1133\" alt=\"Screenshot 2025-02-24 at 1 02 04\u202fAM\" src=\"https://github.com/user-attachments/assets/3bdfefb5-ca8c-4e5f-80e1-bc1a902c260b\" />\r\n\r\n\r\nCan u pls review the pull request ? and one thing people are interested in this model ,have uploaded safe tensors on the hub last 5 days ago there are huge amount of downloads for all three models ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2677075574/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2706672996",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2706672996",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2706672996,
          "node_id": "IC_kwDOCUB6oc6hVI1k",
          "user": {
            "login": "sushmanthreddy",
            "id": 73489688,
            "node_id": "MDQ6VXNlcjczNDg5Njg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/73489688?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sushmanthreddy",
            "html_url": "https://github.com/sushmanthreddy",
            "followers_url": "https://api.github.com/users/sushmanthreddy/followers",
            "following_url": "https://api.github.com/users/sushmanthreddy/following{/other_user}",
            "gists_url": "https://api.github.com/users/sushmanthreddy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sushmanthreddy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sushmanthreddy/subscriptions",
            "organizations_url": "https://api.github.com/users/sushmanthreddy/orgs",
            "repos_url": "https://api.github.com/users/sushmanthreddy/repos",
            "events_url": "https://api.github.com/users/sushmanthreddy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sushmanthreddy/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-03-07T15:02:20Z",
          "updated_at": "2025-03-07T15:02:20Z",
          "author_association": "CONTRIBUTOR",
          "body": "@molbap any review update on pr?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2706672996/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2736882768",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2736882768",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2736882768,
          "node_id": "IC_kwDOCUB6oc6jIYRQ",
          "user": {
            "login": "sushmanthreddy",
            "id": 73489688,
            "node_id": "MDQ6VXNlcjczNDg5Njg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/73489688?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sushmanthreddy",
            "html_url": "https://github.com/sushmanthreddy",
            "followers_url": "https://api.github.com/users/sushmanthreddy/followers",
            "following_url": "https://api.github.com/users/sushmanthreddy/following{/other_user}",
            "gists_url": "https://api.github.com/users/sushmanthreddy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sushmanthreddy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sushmanthreddy/subscriptions",
            "organizations_url": "https://api.github.com/users/sushmanthreddy/orgs",
            "repos_url": "https://api.github.com/users/sushmanthreddy/repos",
            "events_url": "https://api.github.com/users/sushmanthreddy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sushmanthreddy/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-03-19T14:37:49Z",
          "updated_at": "2025-03-19T14:37:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "@molbap The pr is done ,lets wait for @qubvel review .",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2736882768/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2754723725",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2754723725",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2754723725,
          "node_id": "IC_kwDOCUB6oc6kMb-N",
          "user": {
            "login": "sushmanthreddy",
            "id": 73489688,
            "node_id": "MDQ6VXNlcjczNDg5Njg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/73489688?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sushmanthreddy",
            "html_url": "https://github.com/sushmanthreddy",
            "followers_url": "https://api.github.com/users/sushmanthreddy/followers",
            "following_url": "https://api.github.com/users/sushmanthreddy/following{/other_user}",
            "gists_url": "https://api.github.com/users/sushmanthreddy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sushmanthreddy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sushmanthreddy/subscriptions",
            "organizations_url": "https://api.github.com/users/sushmanthreddy/orgs",
            "repos_url": "https://api.github.com/users/sushmanthreddy/repos",
            "events_url": "https://api.github.com/users/sushmanthreddy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sushmanthreddy/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-03-26T14:55:29Z",
          "updated_at": "2025-03-26T16:02:12Z",
          "author_association": "CONTRIBUTOR",
          "body": "@molbap @qubvel should we add the fast image processor for samhq also?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2754723725/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2758443451",
          "html_url": "https://github.com/huggingface/transformers/pull/35147#issuecomment-2758443451",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/35147",
          "id": 2758443451,
          "node_id": "IC_kwDOCUB6oc6kaoG7",
          "user": {
            "login": "yonigozlan",
            "id": 74535834,
            "node_id": "MDQ6VXNlcjc0NTM1ODM0",
            "avatar_url": "https://avatars.githubusercontent.com/u/74535834?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yonigozlan",
            "html_url": "https://github.com/yonigozlan",
            "followers_url": "https://api.github.com/users/yonigozlan/followers",
            "following_url": "https://api.github.com/users/yonigozlan/following{/other_user}",
            "gists_url": "https://api.github.com/users/yonigozlan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yonigozlan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yonigozlan/subscriptions",
            "organizations_url": "https://api.github.com/users/yonigozlan/orgs",
            "repos_url": "https://api.github.com/users/yonigozlan/repos",
            "events_url": "https://api.github.com/users/yonigozlan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yonigozlan/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-03-27T15:18:26Z",
          "updated_at": "2025-03-27T15:18:26Z",
          "author_association": "MEMBER",
          "body": "@sushmanthreddy You probably know this but your PR for SamImageProcessorFast should do the trick ;) ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2758443451/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/23909",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/23909/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/23909/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/23909/events",
      "html_url": "https://github.com/huggingface/transformers/pull/23909",
      "id": 1734440950,
      "node_id": "PR_kwDOCUB6oc5RzUMa",
      "number": 23909,
      "title": "\ud83d\udea8\ud83d\udea8 \ud83d\udea8\ud83d\udea8 [`Tokenizer`] attemp to fix add_token issues\ud83d\udea8\ud83d\udea8 \ud83d\udea8\ud83d\udea8 ",
      "user": {
        "login": "ArthurZucker",
        "id": 48595927,
        "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ArthurZucker",
        "html_url": "https://github.com/ArthurZucker",
        "followers_url": "https://api.github.com/users/ArthurZucker/followers",
        "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
        "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
        "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
        "repos_url": "https://api.github.com/users/ArthurZucker/repos",
        "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 15,
      "created_at": "2023-05-31T15:03:34Z",
      "updated_at": "2023-11-06T09:03:05Z",
      "closed_at": "2023-09-18T18:28:37Z",
      "author_association": "COLLABORATOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/23909",
        "html_url": "https://github.com/huggingface/transformers/pull/23909",
        "diff_url": "https://github.com/huggingface/transformers/pull/23909.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/23909.patch",
        "merged_at": "2023-09-18T18:28:37Z"
      },
      "body": "# What does this PR do?\r\nAdresses a lot of issues related to `add_tokens`, also adds more refine testing to make sure this does not happen again. \r\n\r\n- Adding a token with `add_tokens` ignores the arguments if the token is an `AddedToken`. reported in #20734 and #14770, #21120, #16334 \r\n- Adding a token does not automatically adds it to the `unique_no_split_token`. Reported in #23818 , #23851, #11531  but also #23250. Also linked to #22940 , should allow us to re-factor the way T5 tokenizes the inputs (convert_token_to_ids should not have a bunch of regex for special tokens) (also #9747)\r\n- Adding a token that is already in the vocabulary does not add it. This is debatable, but if someone explicitly adds it, it means he does not want to split it. Reported in #23459 \r\n- There is no support for `single_word` in `slow`. Reported in #14770 \r\n-  Initialising a model from a vocab file does not initialize the Trie. `from_pretrained` calls `added_tokens = tokenizer.sanitize_special_tokens()` which is when the tokens are added to no_unique_split. reported in #23930\r\n\r\nFixes #20734,  fixes #21120, fixes #16334, fixes #23818 , fixes #23851, fixes #11531 , fixes #9747,  fixes #23459 , fixes #14770 ,  fixes #22935, fixes #23930, fixes #23250, fixes #7901, fixes #19873, fixes  #25232, fixes  #22414, \r\n\r\n# Spirit of the refactoring \r\n\r\nThe main idea is that the `PreTrainedTokenizer`'s `__init__` function is responsible for adding all the `additional_special tokens`, `eos_token`, etc and creating the `token_trie` that will be used for splitting the tokens. \r\n\r\n- All tokens that are added are stored in their `AddedToken` format in the `added_tokens_decoder`  which becomes the only way to interact with them. The `added_tokens_encoder` cannot be modified, it is just a conversion of the `added_tokens_decoder`. The trie is only created based on the `added_tokens_decoder`. One possible addition is to keep `unique_no_split tokens`, but I am currently against.\r\n\r\n- All the added token information now lies in the `tokenizer_config.json`. Nuking the `special_tokens_map.json` and `added_tokens.json`.\r\n\r\n- Support for `lstrip`, `rstrip` and `single_word` is added. This is only possible because we store the `AddedTokens` and not only the strings.\r\n\r\n- Information on which tokens were added is also available for the Fast tokenizers. This is just a representation convenience but was not possible before.\r\n\r\n- add_special_tokens's `replace_additional_special_tokens` argument now works. \r\n\r\n- Remove some of the available surface functions (self.added_tokens_encoder, self.added_tokens_decoder, self.unique_no_split_tokens, etc) and more to come here especial for special tokens,\r\n\r\n# \ud83d\udea8\ud83d\udea8 Breaking changes \ud83d\udea8\ud83d\udea8:\r\n- `unique_no_split_tokens` attribute removed and not used in the internal logic\r\n- `sanitize_special_tokens()` follows a deprecation cycle and does nothing\r\n- All attributes in `SPECIAL_TOKENS_ATTRIBUTES` are stored as `AddedTokens` and no strings.\r\n- loading a slow from a fast or a fast from a slow will no longer raise and error if the tokens added don't have the correct index. This is because they will always be added following the order of the `added_tokens`  but will correct mistakes in the saved vocabulary if there are any. (And there are a lot in old format tokenizers)\r\n- the length of a tokenizer is now `max(set(self.get_vocab().keys()))` accounting for holes in the vocab. The `vocab_size` no longer takes into account the added vocab for most of the tokenizers (as it should not). **Mostly breaking for T5**\r\n- Adding a token using `tokenizer.add_tokens([AddedToken(\"hey\", rstrip=False, normalized=True)])` now takes into account `rstrip`, `lstrip`, `normalized` information. \r\n- `added_tokens_decoder` holds `AddedToken`, not `strings`. \r\n- `add_tokens()` for both fast and slow will always be updated if the token is already part of the vocab, allowing for custom stripping. \r\n- initializing a tokenizer form scratch will now add missing special tokens to the vocab. \r\n- stripping is not always done for special tokens! \ud83d\udea8 Only if the `AddedToken` has `lstrip=True` and `rstrip=True` \r\n- `fairseq_ids_to_tokens` attribute removed for `Barthez` (was not used)\r\n-  ",
      "closed_by": {
        "login": "ArthurZucker",
        "id": 48595927,
        "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ArthurZucker",
        "html_url": "https://github.com/ArthurZucker",
        "followers_url": "https://api.github.com/users/ArthurZucker/followers",
        "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
        "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
        "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
        "repos_url": "https://api.github.com/users/ArthurZucker/repos",
        "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/23909/reactions",
        "total_count": 7,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 1,
        "confused": 0,
        "heart": 5,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/23909/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1570438850",
          "html_url": "https://github.com/huggingface/transformers/pull/23909#issuecomment-1570438850",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23909",
          "id": 1570438850,
          "node_id": "IC_kwDOCUB6oc5dmv7C",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-05-31T15:20:10Z",
          "updated_at": "2023-09-18T18:29:10Z",
          "author_association": "NONE",
          "body": "_The documentation is not available anymore as the PR was closed or merged._",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1570438850/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1570559194",
          "html_url": "https://github.com/huggingface/transformers/pull/23909#issuecomment-1570559194",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23909",
          "id": 1570559194,
          "node_id": "IC_kwDOCUB6oc5dnNTa",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-05-31T16:36:34Z",
          "updated_at": "2023-06-01T16:43:04Z",
          "author_association": "COLLABORATOR",
          "body": "TODO: the test should be for all the `TokenMixin` rather than comparing slow and fast as the behaviour should work in any case.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1570559194/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1590958868",
          "html_url": "https://github.com/huggingface/transformers/pull/23909#issuecomment-1590958868",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23909",
          "id": 1590958868,
          "node_id": "IC_kwDOCUB6oc5e1BsU",
          "user": {
            "login": "stephantul",
            "id": 8882233,
            "node_id": "MDQ6VXNlcjg4ODIyMzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8882233?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stephantul",
            "html_url": "https://github.com/stephantul",
            "followers_url": "https://api.github.com/users/stephantul/followers",
            "following_url": "https://api.github.com/users/stephantul/following{/other_user}",
            "gists_url": "https://api.github.com/users/stephantul/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stephantul/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stephantul/subscriptions",
            "organizations_url": "https://api.github.com/users/stephantul/orgs",
            "repos_url": "https://api.github.com/users/stephantul/repos",
            "events_url": "https://api.github.com/users/stephantul/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stephantul/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-14T10:51:29Z",
          "updated_at": "2023-06-14T10:51:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "Is work on this still going on? I'm interested in working on tokenization.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1590958868/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1590995485",
          "html_url": "https://github.com/huggingface/transformers/pull/23909#issuecomment-1590995485",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23909",
          "id": 1590995485,
          "node_id": "IC_kwDOCUB6oc5e1Kod",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-14T11:16:35Z",
          "updated_at": "2023-06-14T11:16:35Z",
          "author_association": "COLLABORATOR",
          "body": "It is! Had to focus on a new model for a while but this is close to being over ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1590995485/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1591074717",
          "html_url": "https://github.com/huggingface/transformers/pull/23909#issuecomment-1591074717",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23909",
          "id": 1591074717,
          "node_id": "IC_kwDOCUB6oc5e1d-d",
          "user": {
            "login": "stephantul",
            "id": 8882233,
            "node_id": "MDQ6VXNlcjg4ODIyMzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8882233?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stephantul",
            "html_url": "https://github.com/stephantul",
            "followers_url": "https://api.github.com/users/stephantul/followers",
            "following_url": "https://api.github.com/users/stephantul/following{/other_user}",
            "gists_url": "https://api.github.com/users/stephantul/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stephantul/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stephantul/subscriptions",
            "organizations_url": "https://api.github.com/users/stephantul/orgs",
            "repos_url": "https://api.github.com/users/stephantul/repos",
            "events_url": "https://api.github.com/users/stephantul/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stephantul/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-14T12:12:47Z",
          "updated_at": "2023-06-14T12:12:47Z",
          "author_association": "CONTRIBUTOR",
          "body": "Cool! So, I think the best way to do this is that I fork your branch, and then do PRs there? Any changes you like would then propagate to this PR? Is that the preferred way of collaborating?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1591074717/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1591089232",
          "html_url": "https://github.com/huggingface/transformers/pull/23909#issuecomment-1591089232",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23909",
          "id": 1591089232,
          "node_id": "IC_kwDOCUB6oc5e1hhQ",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-14T12:22:48Z",
          "updated_at": "2023-06-14T12:22:48Z",
          "author_association": "COLLABORATOR",
          "body": "Haha sorry what I meant is that I\u2019ll take care of this one probably today, tomorrow so no need to dive ! \r\nOtherwise forking transformers is always the best solution IMO, then add others as remotes.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1591089232/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1591096676",
          "html_url": "https://github.com/huggingface/transformers/pull/23909#issuecomment-1591096676",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23909",
          "id": 1591096676,
          "node_id": "IC_kwDOCUB6oc5e1jVk",
          "user": {
            "login": "stephantul",
            "id": 8882233,
            "node_id": "MDQ6VXNlcjg4ODIyMzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8882233?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stephantul",
            "html_url": "https://github.com/stephantul",
            "followers_url": "https://api.github.com/users/stephantul/followers",
            "following_url": "https://api.github.com/users/stephantul/following{/other_user}",
            "gists_url": "https://api.github.com/users/stephantul/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stephantul/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stephantul/subscriptions",
            "organizations_url": "https://api.github.com/users/stephantul/orgs",
            "repos_url": "https://api.github.com/users/stephantul/repos",
            "events_url": "https://api.github.com/users/stephantul/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stephantul/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-06-14T12:28:08Z",
          "updated_at": "2023-06-14T12:28:08Z",
          "author_association": "CONTRIBUTOR",
          "body": "Ah ok, my bad! I totally misunderstood. Good luck with the PR \ud83d\ude38 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1591096676/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1645784513",
          "html_url": "https://github.com/huggingface/transformers/pull/23909#issuecomment-1645784513",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23909",
          "id": 1645784513,
          "node_id": "IC_kwDOCUB6oc5iGK3B",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-21T15:44:44Z",
          "updated_at": "2023-07-21T15:44:44Z",
          "author_association": "COLLABORATOR",
          "body": "Will come back to this starting next week \ud83d\udd25 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1645784513/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1653469220",
          "html_url": "https://github.com/huggingface/transformers/pull/23909#issuecomment-1653469220",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23909",
          "id": 1653469220,
          "node_id": "IC_kwDOCUB6oc5ijfAk",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-07-27T11:57:38Z",
          "updated_at": "2023-07-27T11:57:38Z",
          "author_association": "COLLABORATOR",
          "body": "Another TODO: if someone wants to `unset` one of the special token, it should be removed from the added_tokens_encoder and added_tokens_decoder. Some things to think about here.\r\nAlso `added_token_encoder` should just always be linked to the decoder, which will be the only one that exists",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1653469220/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1703108199",
          "html_url": "https://github.com/huggingface/transformers/pull/23909#issuecomment-1703108199",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23909",
          "id": 1703108199,
          "node_id": "IC_kwDOCUB6oc5lg15n",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-09-01T17:40:33Z",
          "updated_at": "2023-09-01T17:40:33Z",
          "author_association": "COLLABORATOR",
          "body": "Some updates to RUST need to be done to make sure this is safely merged! ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1703108199/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1753502513",
          "html_url": "https://github.com/huggingface/transformers/pull/23909#issuecomment-1753502513",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23909",
          "id": 1753502513,
          "node_id": "IC_kwDOCUB6oc5ohFMx",
          "user": {
            "login": "LoicDagnas",
            "id": 7431237,
            "node_id": "MDQ6VXNlcjc0MzEyMzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7431237?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/LoicDagnas",
            "html_url": "https://github.com/LoicDagnas",
            "followers_url": "https://api.github.com/users/LoicDagnas/followers",
            "following_url": "https://api.github.com/users/LoicDagnas/following{/other_user}",
            "gists_url": "https://api.github.com/users/LoicDagnas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/LoicDagnas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/LoicDagnas/subscriptions",
            "organizations_url": "https://api.github.com/users/LoicDagnas/orgs",
            "repos_url": "https://api.github.com/users/LoicDagnas/repos",
            "events_url": "https://api.github.com/users/LoicDagnas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/LoicDagnas/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-09T18:59:39Z",
          "updated_at": "2023-10-09T18:59:39Z",
          "author_association": "NONE",
          "body": "@ArthurZucker I am not sure to understand the whole scope of this PR, but does it means that maintainer of [such model](https://huggingface.co/iarfmoose/t5-base-question-generator) have the responsibility to update the `added_token.json` file to still have their tokenizer usable with `AutoTokenizer.from_pretrained`?\r\n\r\nIn other words, is `AutoTokenizer.from_pretrained(\"iarfmoose/t5-base-question-generator\")` supposed to fail now here \r\n\r\nhttps://github.com/huggingface/transformers/blob/e4dad4fe32525c26eccb5790c258aa271476ac33/src/transformers/models/t5/tokenization_t5.py#L171\r\n\r\n?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1753502513/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1753897602",
          "html_url": "https://github.com/huggingface/transformers/pull/23909#issuecomment-1753897602",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23909",
          "id": 1753897602,
          "node_id": "IC_kwDOCUB6oc5oilqC",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-09T21:23:05Z",
          "updated_at": "2023-10-09T21:23:05Z",
          "author_association": "COLLABORATOR",
          "body": "No it\u2019s not! It might right now but the goal is to keep forward compatibility. \r\nHowever long term wise authors should update the repo especially if they want to have the same behavior between fast and slow ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1753897602/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1785240174",
          "html_url": "https://github.com/huggingface/transformers/pull/23909#issuecomment-1785240174",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23909",
          "id": 1785240174,
          "node_id": "IC_kwDOCUB6oc5qaJpu",
          "user": {
            "login": "LoicDagnas",
            "id": 7431237,
            "node_id": "MDQ6VXNlcjc0MzEyMzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7431237?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/LoicDagnas",
            "html_url": "https://github.com/LoicDagnas",
            "followers_url": "https://api.github.com/users/LoicDagnas/followers",
            "following_url": "https://api.github.com/users/LoicDagnas/following{/other_user}",
            "gists_url": "https://api.github.com/users/LoicDagnas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/LoicDagnas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/LoicDagnas/subscriptions",
            "organizations_url": "https://api.github.com/users/LoicDagnas/orgs",
            "repos_url": "https://api.github.com/users/LoicDagnas/repos",
            "events_url": "https://api.github.com/users/LoicDagnas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/LoicDagnas/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-30T13:48:10Z",
          "updated_at": "2023-10-30T13:48:10Z",
          "author_association": "NONE",
          "body": "Hello @ArthurZucker, about [my comment](https://github.com/huggingface/transformers/pull/23909#issuecomment-1753502513) above, with the latest release `4.34.1` it doesn't fail anymore in `tokenization_t5.py`  but here https://github.com/huggingface/transformers/blob/e4dad4fe32525c26eccb5790c258aa271476ac33/src/transformers/models/t5/tokenization_t5_fast.py#L127\r\n\r\nDo you want me to open an issue?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1785240174/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1785389883",
          "html_url": "https://github.com/huggingface/transformers/pull/23909#issuecomment-1785389883",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23909",
          "id": 1785389883,
          "node_id": "IC_kwDOCUB6oc5qauM7",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-10-30T14:52:35Z",
          "updated_at": "2023-10-30T14:52:35Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @LoicDagnas, @ArthurZucker is off for this week so won't be able to address until then. Yes, please create a separate issue, linking to this one with details on what's happening and a code snippet to reproduce. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1785389883/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1794359362",
          "html_url": "https://github.com/huggingface/transformers/pull/23909#issuecomment-1794359362",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/23909",
          "id": 1794359362,
          "node_id": "IC_kwDOCUB6oc5q88BC",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-06T09:03:05Z",
          "updated_at": "2023-11-06T09:03:05Z",
          "author_association": "COLLABORATOR",
          "body": "I answered on the issue but it's fixed and part of the latest release! \ud83e\udd17 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1794359362/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/34157",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/34157/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/34157/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/34157/events",
      "html_url": "https://github.com/huggingface/transformers/pull/34157",
      "id": 2586156899,
      "node_id": "PR_kwDOCUB6oc5-jNjy",
      "number": 34157,
      "title": "Add Aria",
      "user": {
        "login": "aymeric-roucher",
        "id": 69208727,
        "node_id": "MDQ6VXNlcjY5MjA4NzI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69208727?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aymeric-roucher",
        "html_url": "https://github.com/aymeric-roucher",
        "followers_url": "https://api.github.com/users/aymeric-roucher/followers",
        "following_url": "https://api.github.com/users/aymeric-roucher/following{/other_user}",
        "gists_url": "https://api.github.com/users/aymeric-roucher/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/aymeric-roucher/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/aymeric-roucher/subscriptions",
        "organizations_url": "https://api.github.com/users/aymeric-roucher/orgs",
        "repos_url": "https://api.github.com/users/aymeric-roucher/repos",
        "events_url": "https://api.github.com/users/aymeric-roucher/events{/privacy}",
        "received_events_url": "https://api.github.com/users/aymeric-roucher/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1843244711,
          "node_id": "MDU6TGFiZWwxODQzMjQ0NzEx",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/New%20model",
          "name": "New model",
          "color": "fbca04",
          "default": false,
          "description": ""
        },
        {
          "id": 6726435287,
          "node_id": "LA_kwDOCUB6oc8AAAABkO1B1w",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/Multimodal",
          "name": "Multimodal",
          "color": "F3E08B",
          "default": false,
          "description": ""
        },
        {
          "id": 7510456769,
          "node_id": "LA_kwDOCUB6oc8AAAABv6h5wQ",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/Mixture%20of%20Experts",
          "name": "Mixture of Experts",
          "color": "DDB5D0",
          "default": false,
          "description": ""
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 14,
      "created_at": "2024-10-14T14:03:53Z",
      "updated_at": "2025-01-19T02:41:18Z",
      "closed_at": "2024-12-06T11:17:35Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/34157",
        "html_url": "https://github.com/huggingface/transformers/pull/34157",
        "diff_url": "https://github.com/huggingface/transformers/pull/34157.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/34157.patch",
        "merged_at": "2024-12-06T11:17:35Z"
      },
      "body": "# What does this PR do?\r\n\r\nAdd [rhymes-ai/Aria](https://huggingface.co/rhymes-ai/Aria) to transformers!\r\n\r\n@ArthurZucker",
      "closed_by": {
        "login": "aymeric-roucher",
        "id": 69208727,
        "node_id": "MDQ6VXNlcjY5MjA4NzI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69208727?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/aymeric-roucher",
        "html_url": "https://github.com/aymeric-roucher",
        "followers_url": "https://api.github.com/users/aymeric-roucher/followers",
        "following_url": "https://api.github.com/users/aymeric-roucher/following{/other_user}",
        "gists_url": "https://api.github.com/users/aymeric-roucher/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/aymeric-roucher/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/aymeric-roucher/subscriptions",
        "organizations_url": "https://api.github.com/users/aymeric-roucher/orgs",
        "repos_url": "https://api.github.com/users/aymeric-roucher/repos",
        "events_url": "https://api.github.com/users/aymeric-roucher/events{/privacy}",
        "received_events_url": "https://api.github.com/users/aymeric-roucher/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/34157/reactions",
        "total_count": 8,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 6,
        "confused": 0,
        "heart": 0,
        "rocket": 2,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/34157/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2411388866",
          "html_url": "https://github.com/huggingface/transformers/pull/34157#issuecomment-2411388866",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34157",
          "id": 2411388866,
          "node_id": "IC_kwDOCUB6oc6Put_C",
          "user": {
            "login": "aymeric-roucher",
            "id": 69208727,
            "node_id": "MDQ6VXNlcjY5MjA4NzI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/69208727?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/aymeric-roucher",
            "html_url": "https://github.com/aymeric-roucher",
            "followers_url": "https://api.github.com/users/aymeric-roucher/followers",
            "following_url": "https://api.github.com/users/aymeric-roucher/following{/other_user}",
            "gists_url": "https://api.github.com/users/aymeric-roucher/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/aymeric-roucher/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/aymeric-roucher/subscriptions",
            "organizations_url": "https://api.github.com/users/aymeric-roucher/orgs",
            "repos_url": "https://api.github.com/users/aymeric-roucher/repos",
            "events_url": "https://api.github.com/users/aymeric-roucher/events{/privacy}",
            "received_events_url": "https://api.github.com/users/aymeric-roucher/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-10-14T14:11:58Z",
          "updated_at": "2024-10-14T14:11:58Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ArthurZucker I have this error that we discussed in `python utils/check_modular_conversion.py`:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/transformers/utils/check_modular_conversion.py\", line 73, in <module>\r\n    non_matching_files += compare_files(modular_file_path, args.fix_and_overwrite)\r\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/home/ubuntu/transformers/utils/check_modular_conversion.py\", line 53, in compare_files\r\n    generated_modeling_content = convert_modular_file(modular_file_path)\r\n                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/home/ubuntu/transformers/utils/modular_model_converter.py\", line 1138, in convert_modular_file\r\n    wrapper.visit(cst_transformers)\r\n  File \"/home/ubuntu/venv/aria/lib/python3.12/site-packages/libcst/metadata/wrapper.py\", line 204, in visit\r\n    return self.module.visit(visitor)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/home/ubuntu/venv/aria/lib/python3.12/site-packages/libcst/_nodes/module.py\", line 89, in visit\r\n    result = super(Module, self).visit(visitor)\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/home/ubuntu/venv/aria/lib/python3.12/site-packages/libcst/_nodes/base.py\", line 236, in visit\r\n    leave_result = visitor.on_leave(self, with_updated_children)\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/home/ubuntu/venv/aria/lib/python3.12/site-packages/libcst/_visitors.py\", line 71, in on_leave\r\n    updated_node = leave_func(original_node, updated_node)\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/home/ubuntu/transformers/utils/modular_model_converter.py\", line 1111, in leave_Module\r\n    self._recursively_add_all_new_needed_functions_in_files()\r\n  File \"/home/ubuntu/transformers/utils/modular_model_converter.py\", line 1097, in _recursively_add_all_new_needed_functions_in_files\r\n    dependency, body, self.all_definitions[dependency], parent=parent\r\n                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\r\nKeyError: 'select_best_resolution'\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2411388866/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2411451287",
          "html_url": "https://github.com/huggingface/transformers/pull/34157#issuecomment-2411451287",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34157",
          "id": 2411451287,
          "node_id": "IC_kwDOCUB6oc6Pu9OX",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-10-14T14:36:00Z",
          "updated_at": "2024-10-14T14:36:00Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_34157). All of your documentation changes will be reflected on that endpoint. The docs are available until 30 days after the last update.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2411451287/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2413586335",
          "html_url": "https://github.com/huggingface/transformers/pull/34157#issuecomment-2413586335",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34157",
          "id": 2413586335,
          "node_id": "IC_kwDOCUB6oc6P3Gef",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-10-15T11:07:38Z",
          "updated_at": "2024-10-15T11:07:38Z",
          "author_association": "COLLABORATOR",
          "body": "cc @Cyrilvallez as well!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2413586335/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2463158609",
          "html_url": "https://github.com/huggingface/transformers/pull/34157#issuecomment-2463158609",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34157",
          "id": 2463158609,
          "node_id": "IC_kwDOCUB6oc6S0NFR",
          "user": {
            "login": "aymeric-roucher",
            "id": 69208727,
            "node_id": "MDQ6VXNlcjY5MjA4NzI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/69208727?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/aymeric-roucher",
            "html_url": "https://github.com/aymeric-roucher",
            "followers_url": "https://api.github.com/users/aymeric-roucher/followers",
            "following_url": "https://api.github.com/users/aymeric-roucher/following{/other_user}",
            "gists_url": "https://api.github.com/users/aymeric-roucher/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/aymeric-roucher/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/aymeric-roucher/subscriptions",
            "organizations_url": "https://api.github.com/users/aymeric-roucher/orgs",
            "repos_url": "https://api.github.com/users/aymeric-roucher/repos",
            "events_url": "https://api.github.com/users/aymeric-roucher/events{/privacy}",
            "received_events_url": "https://api.github.com/users/aymeric-roucher/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-07T20:32:42Z",
          "updated_at": "2024-11-07T20:32:42Z",
          "author_association": "CONTRIBUTOR",
          "body": "I don't get [this error](https://app.circleci.com/pipelines/github/huggingface/transformers/110262/workflows/34139b4f-b97d-470a-967c-5b40b9634b89/jobs/1466607?invite=true#step-105-2319_118) @molbap :\r\nWith `from ...image_utils import PILImageResampling`, I get an \"unprotected import\" error, even though many other models have the exact same way of importing `PILImageResampling`, cf `image_processing_idefics3.py` for instance.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2463158609/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 1
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2463204037",
          "html_url": "https://github.com/huggingface/transformers/pull/34157#issuecomment-2463204037",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34157",
          "id": 2463204037,
          "node_id": "IC_kwDOCUB6oc6S0YLF",
          "user": {
            "login": "molbap",
            "id": 39954772,
            "node_id": "MDQ6VXNlcjM5OTU0Nzcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/39954772?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/molbap",
            "html_url": "https://github.com/molbap",
            "followers_url": "https://api.github.com/users/molbap/followers",
            "following_url": "https://api.github.com/users/molbap/following{/other_user}",
            "gists_url": "https://api.github.com/users/molbap/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/molbap/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/molbap/subscriptions",
            "organizations_url": "https://api.github.com/users/molbap/orgs",
            "repos_url": "https://api.github.com/users/molbap/repos",
            "events_url": "https://api.github.com/users/molbap/events{/privacy}",
            "received_events_url": "https://api.github.com/users/molbap/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-07T20:59:53Z",
          "updated_at": "2024-11-07T20:59:53Z",
          "author_association": "CONTRIBUTOR",
          "body": "For the record: import structure should be protected in the `__init__.py` !",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2463204037/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2491547122",
          "html_url": "https://github.com/huggingface/transformers/pull/34157#issuecomment-2491547122",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34157",
          "id": 2491547122,
          "node_id": "IC_kwDOCUB6oc6Ugf3y",
          "user": {
            "login": "mobicham",
            "id": 37179323,
            "node_id": "MDQ6VXNlcjM3MTc5MzIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/37179323?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mobicham",
            "html_url": "https://github.com/mobicham",
            "followers_url": "https://api.github.com/users/mobicham/followers",
            "following_url": "https://api.github.com/users/mobicham/following{/other_user}",
            "gists_url": "https://api.github.com/users/mobicham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mobicham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mobicham/subscriptions",
            "organizations_url": "https://api.github.com/users/mobicham/orgs",
            "repos_url": "https://api.github.com/users/mobicham/repos",
            "events_url": "https://api.github.com/users/mobicham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mobicham/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-21T15:30:31Z",
          "updated_at": "2024-11-21T15:30:31Z",
          "author_association": "CONTRIBUTOR",
          "body": "Any timeline for this ? We would love to push a quantized version!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2491547122/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2498275376",
          "html_url": "https://github.com/huggingface/transformers/pull/34157#issuecomment-2498275376",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34157",
          "id": 2498275376,
          "node_id": "IC_kwDOCUB6oc6U6Kgw",
          "user": {
            "login": "aymeric-roucher",
            "id": 69208727,
            "node_id": "MDQ6VXNlcjY5MjA4NzI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/69208727?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/aymeric-roucher",
            "html_url": "https://github.com/aymeric-roucher",
            "followers_url": "https://api.github.com/users/aymeric-roucher/followers",
            "following_url": "https://api.github.com/users/aymeric-roucher/following{/other_user}",
            "gists_url": "https://api.github.com/users/aymeric-roucher/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/aymeric-roucher/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/aymeric-roucher/subscriptions",
            "organizations_url": "https://api.github.com/users/aymeric-roucher/orgs",
            "repos_url": "https://api.github.com/users/aymeric-roucher/repos",
            "events_url": "https://api.github.com/users/aymeric-roucher/events{/privacy}",
            "received_events_url": "https://api.github.com/users/aymeric-roucher/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-25T15:06:17Z",
          "updated_at": "2024-11-25T15:06:17Z",
          "author_association": "CONTRIBUTOR",
          "body": "@zucchini-nlp I still have [some errors in the modular conversion](https://app.circleci.com/pipelines/github/huggingface/transformers/111426/workflows/8ab670f8-d22a-4a06-bf07-c6a06aaea436/jobs/1483883) (which due to modular conversion not generating files correctly)\r\n\r\nI also have an [unprotected import error](https://app.circleci.com/pipelines/github/huggingface/transformers/111426/workflows/8ab670f8-d22a-4a06-bf07-c6a06aaea436/jobs/1483886) that I don't find the cause for:\r\n- I do have some unprotected `import torch` in `modeling_aria.py`, but idefics3 has the same thing.\r\n- I have no torch imports in processing or image_processing files. No image imports either except for `from ...utils import ImageInput, PILImageResampling` but idefics3 also has the same.\r\n\r\nGenerating from input embeds seems broken, I'll investigate that. Meanwhile do you have ideas on how to solve the import issue above?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2498275376/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2504022524",
          "html_url": "https://github.com/huggingface/transformers/pull/34157#issuecomment-2504022524",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34157",
          "id": 2504022524,
          "node_id": "IC_kwDOCUB6oc6VQFn8",
          "user": {
            "login": "aymeric-roucher",
            "id": 69208727,
            "node_id": "MDQ6VXNlcjY5MjA4NzI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/69208727?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/aymeric-roucher",
            "html_url": "https://github.com/aymeric-roucher",
            "followers_url": "https://api.github.com/users/aymeric-roucher/followers",
            "following_url": "https://api.github.com/users/aymeric-roucher/following{/other_user}",
            "gists_url": "https://api.github.com/users/aymeric-roucher/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/aymeric-roucher/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/aymeric-roucher/subscriptions",
            "organizations_url": "https://api.github.com/users/aymeric-roucher/orgs",
            "repos_url": "https://api.github.com/users/aymeric-roucher/repos",
            "events_url": "https://api.github.com/users/aymeric-roucher/events{/privacy}",
            "received_events_url": "https://api.github.com/users/aymeric-roucher/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-27T14:28:59Z",
          "updated_at": "2024-11-27T14:28:59Z",
          "author_association": "CONTRIBUTOR",
          "body": "@Cyrilvallez the modular does not export all files correctly, which makes [this test](https://app.circleci.com/pipelines/github/huggingface/transformers/111850/workflows/76270616-7da8-4616-94eb-47248e75a780/jobs/1490136/parallel-runs/0/steps/0-106) fail:\r\n\r\nDo you have an idea how to solve this? It's the last big issue before being able to merge.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2504022524/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2504036262",
          "html_url": "https://github.com/huggingface/transformers/pull/34157#issuecomment-2504036262",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34157",
          "id": 2504036262,
          "node_id": "IC_kwDOCUB6oc6VQI-m",
          "user": {
            "login": "zucchini-nlp",
            "id": 100715397,
            "node_id": "U_kgDOBgDLhQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/100715397?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zucchini-nlp",
            "html_url": "https://github.com/zucchini-nlp",
            "followers_url": "https://api.github.com/users/zucchini-nlp/followers",
            "following_url": "https://api.github.com/users/zucchini-nlp/following{/other_user}",
            "gists_url": "https://api.github.com/users/zucchini-nlp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zucchini-nlp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zucchini-nlp/subscriptions",
            "organizations_url": "https://api.github.com/users/zucchini-nlp/orgs",
            "repos_url": "https://api.github.com/users/zucchini-nlp/repos",
            "events_url": "https://api.github.com/users/zucchini-nlp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zucchini-nlp/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-27T14:34:56Z",
          "updated_at": "2024-11-27T14:34:56Z",
          "author_association": "MEMBER",
          "body": "@aymeric-roucher the import error is from https://github.com/huggingface/transformers/blob/add-aria/src/transformers/models/aria/__init__.py file. To get all the files correctly on init from modular, you can add a `__all__ = [\"ObjectName1\", \"ObjectName\"]` in the modular file at the end with all the objects that need high level import.\r\n\r\nAnd the `__init__.py` content should be\r\n```python\r\nfrom typing import TYPE_CHECKING\r\n\r\nfrom ...utils import _LazyModule\r\nfrom ...utils.import_utils import define_import_structure\r\n\r\n\r\nif TYPE_CHECKING:\r\n    from .configuration_aria import *\r\n    from .image_processing_aria import *\r\n    from .modeling_aria import *\r\n    from .processing_aria import *\r\nelse:\r\n    import sys\r\n\r\n    _file = globals()[\"__file__\"]\r\n    sys.modules[__name__] = _LazyModule(__name__, _file, define_import_structure(_file), module_spec=__spec__)\r\n```\r\n\r\nI think in that case everything should be done through modular, including processor and image processor",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2504036262/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2504083715",
          "html_url": "https://github.com/huggingface/transformers/pull/34157#issuecomment-2504083715",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34157",
          "id": 2504083715,
          "node_id": "IC_kwDOCUB6oc6VQUkD",
          "user": {
            "login": "aymeric-roucher",
            "id": 69208727,
            "node_id": "MDQ6VXNlcjY5MjA4NzI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/69208727?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/aymeric-roucher",
            "html_url": "https://github.com/aymeric-roucher",
            "followers_url": "https://api.github.com/users/aymeric-roucher/followers",
            "following_url": "https://api.github.com/users/aymeric-roucher/following{/other_user}",
            "gists_url": "https://api.github.com/users/aymeric-roucher/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/aymeric-roucher/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/aymeric-roucher/subscriptions",
            "organizations_url": "https://api.github.com/users/aymeric-roucher/orgs",
            "repos_url": "https://api.github.com/users/aymeric-roucher/repos",
            "events_url": "https://api.github.com/users/aymeric-roucher/events{/privacy}",
            "received_events_url": "https://api.github.com/users/aymeric-roucher/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-27T14:55:11Z",
          "updated_at": "2024-11-27T14:59:51Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ArthurZucker the tests failing are either flaky tests failing on other models, due to modular export, or an unsolved import error that we'll investigate with @zucchini-nlp : so that's ready for final review!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2504083715/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2504096846",
          "html_url": "https://github.com/huggingface/transformers/pull/34157#issuecomment-2504096846",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34157",
          "id": 2504096846,
          "node_id": "IC_kwDOCUB6oc6VQXxO",
          "user": {
            "login": "Cyrilvallez",
            "id": 71554963,
            "node_id": "MDQ6VXNlcjcxNTU0OTYz",
            "avatar_url": "https://avatars.githubusercontent.com/u/71554963?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Cyrilvallez",
            "html_url": "https://github.com/Cyrilvallez",
            "followers_url": "https://api.github.com/users/Cyrilvallez/followers",
            "following_url": "https://api.github.com/users/Cyrilvallez/following{/other_user}",
            "gists_url": "https://api.github.com/users/Cyrilvallez/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Cyrilvallez/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Cyrilvallez/subscriptions",
            "organizations_url": "https://api.github.com/users/Cyrilvallez/orgs",
            "repos_url": "https://api.github.com/users/Cyrilvallez/repos",
            "events_url": "https://api.github.com/users/Cyrilvallez/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Cyrilvallez/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-27T15:00:39Z",
          "updated_at": "2024-11-27T15:00:39Z",
          "author_association": "MEMBER",
          "body": "The battle continues \u2694\ufe0f! Looking into the modular issue ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2504096846/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 2,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2506637910",
          "html_url": "https://github.com/huggingface/transformers/pull/34157#issuecomment-2506637910",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34157",
          "id": 2506637910,
          "node_id": "IC_kwDOCUB6oc6VaEJW",
          "user": {
            "login": "Cyrilvallez",
            "id": 71554963,
            "node_id": "MDQ6VXNlcjcxNTU0OTYz",
            "avatar_url": "https://avatars.githubusercontent.com/u/71554963?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Cyrilvallez",
            "html_url": "https://github.com/Cyrilvallez",
            "followers_url": "https://api.github.com/users/Cyrilvallez/followers",
            "following_url": "https://api.github.com/users/Cyrilvallez/following{/other_user}",
            "gists_url": "https://api.github.com/users/Cyrilvallez/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Cyrilvallez/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Cyrilvallez/subscriptions",
            "organizations_url": "https://api.github.com/users/Cyrilvallez/orgs",
            "repos_url": "https://api.github.com/users/Cyrilvallez/repos",
            "events_url": "https://api.github.com/users/Cyrilvallez/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Cyrilvallez/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-11-28T18:40:13Z",
          "updated_at": "2024-11-28T18:40:13Z",
          "author_association": "MEMBER",
          "body": "@aymeric-roucher, I just pushed some modifications to the modular converter and the modular itself. I think it should now behave the way you want. I did not apply the modular_converter on the new modular so you can do it yourself and check the changes it produces more easily. Let me know if it solves everything or if you still experience some issues!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2506637910/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 2,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2600526326",
          "html_url": "https://github.com/huggingface/transformers/pull/34157#issuecomment-2600526326",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34157",
          "id": 2600526326,
          "node_id": "IC_kwDOCUB6oc6bAOH2",
          "user": {
            "login": "DarkLight1337",
            "id": 44970335,
            "node_id": "MDQ6VXNlcjQ0OTcwMzM1",
            "avatar_url": "https://avatars.githubusercontent.com/u/44970335?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/DarkLight1337",
            "html_url": "https://github.com/DarkLight1337",
            "followers_url": "https://api.github.com/users/DarkLight1337/followers",
            "following_url": "https://api.github.com/users/DarkLight1337/following{/other_user}",
            "gists_url": "https://api.github.com/users/DarkLight1337/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/DarkLight1337/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/DarkLight1337/subscriptions",
            "organizations_url": "https://api.github.com/users/DarkLight1337/orgs",
            "repos_url": "https://api.github.com/users/DarkLight1337/repos",
            "events_url": "https://api.github.com/users/DarkLight1337/events{/privacy}",
            "received_events_url": "https://api.github.com/users/DarkLight1337/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-01-19T02:35:53Z",
          "updated_at": "2025-01-19T02:36:08Z",
          "author_association": "NONE",
          "body": "I'm unable to run the processor of this model in vLLM:\r\n\r\n```\r\n  File \"/home/cyrus/miniconda3/envs/vllm/lib/python3.9/site-packages/transformers/models/aria/processing_aria.py\", line 129, in __call__\r\n    sample = sample.replace(self.tokenizer.image_token, self.tokenizer.image_token * num_crops)\r\n  File \"/home/cyrus/miniconda3/envs/vllm/lib/python3.9/site-packages/transformers/tokenization_utils_base.py\", line 1108, in __getattr__\r\n    raise AttributeError(f\"{self.__class__.__name__} has no attribute {key}\")\r\nAttributeError: CachedLlamaTokenizerFast has no attribute image_token\r\n```\r\n\r\nPerhaps we need to add the `image_token` attribute to this processor, similar to the other VLMs?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2600526326/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2600527032",
          "html_url": "https://github.com/huggingface/transformers/pull/34157#issuecomment-2600527032",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/34157",
          "id": 2600527032,
          "node_id": "IC_kwDOCUB6oc6bAOS4",
          "user": {
            "login": "DarkLight1337",
            "id": 44970335,
            "node_id": "MDQ6VXNlcjQ0OTcwMzM1",
            "avatar_url": "https://avatars.githubusercontent.com/u/44970335?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/DarkLight1337",
            "html_url": "https://github.com/DarkLight1337",
            "followers_url": "https://api.github.com/users/DarkLight1337/followers",
            "following_url": "https://api.github.com/users/DarkLight1337/following{/other_user}",
            "gists_url": "https://api.github.com/users/DarkLight1337/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/DarkLight1337/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/DarkLight1337/subscriptions",
            "organizations_url": "https://api.github.com/users/DarkLight1337/orgs",
            "repos_url": "https://api.github.com/users/DarkLight1337/repos",
            "events_url": "https://api.github.com/users/DarkLight1337/events{/privacy}",
            "received_events_url": "https://api.github.com/users/DarkLight1337/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-01-19T02:38:39Z",
          "updated_at": "2025-01-19T02:41:18Z",
          "author_association": "NONE",
          "body": "This also happens with vanilla Transformers. Let me open a new issue on this.\r\n\r\nEdit: Opened https://github.com/huggingface/transformers/issues/35768",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2600527032/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/15315",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/15315/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/15315/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/15315/events",
      "html_url": "https://github.com/huggingface/transformers/pull/15315",
      "id": 1112741386,
      "node_id": "PR_kwDOCUB6oc4xgCtK",
      "number": 15315,
      "title": "[WIP] Add Maskformer to the library",
      "user": {
        "login": "FrancescoSaverioZuppichini",
        "id": 15908060,
        "node_id": "MDQ6VXNlcjE1OTA4MDYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/15908060?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/FrancescoSaverioZuppichini",
        "html_url": "https://github.com/FrancescoSaverioZuppichini",
        "followers_url": "https://api.github.com/users/FrancescoSaverioZuppichini/followers",
        "following_url": "https://api.github.com/users/FrancescoSaverioZuppichini/following{/other_user}",
        "gists_url": "https://api.github.com/users/FrancescoSaverioZuppichini/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/FrancescoSaverioZuppichini/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/FrancescoSaverioZuppichini/subscriptions",
        "organizations_url": "https://api.github.com/users/FrancescoSaverioZuppichini/orgs",
        "repos_url": "https://api.github.com/users/FrancescoSaverioZuppichini/repos",
        "events_url": "https://api.github.com/users/FrancescoSaverioZuppichini/events{/privacy}",
        "received_events_url": "https://api.github.com/users/FrancescoSaverioZuppichini/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 1,
      "created_at": "2022-01-24T14:45:10Z",
      "updated_at": "2022-02-16T12:53:23Z",
      "closed_at": "2022-02-16T12:50:42Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/15315",
        "html_url": "https://github.com/huggingface/transformers/pull/15315",
        "diff_url": "https://github.com/huggingface/transformers/pull/15315.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/15315.patch",
        "merged_at": null
      },
      "body": "This WIP PR adds [MaskFormer](https://arxiv.org/abs/2107.06278) a new model for any segmentation task. This model ranks [on the top 10 of almost every task](https://paperswithcode.com/paper/per-pixel-classification-is-not-all-you-need)\r\n\r\n\r\nA total of 8 pre-trained checkpoints will be available, which are the checkpoints discussed in the official MaskFormer paper. They are not yet available on the hub but tested locally. The weights are all pairs of combinations between the 4 Swin Transformer variants (tiny, small, base and large) and two datasets ([ade20k-150](https://groups.csail.mit.edu/vision/datasets/ADE20K/) and [coco-panoptic](https://cocodataset.org/#home))\r\n\r\nTODOs\r\n  - [x] converting script should be self-contained\r\n    - currently, the job of downloading the weights and configuration files is outsourced to the end-user\r\n  - [x] feature extractor\r\n    - all the parameters needed are there, but the class is missing\r\n    - the resizing needed is tricky, originally [ResizeShortestEdge](https://detectron2.readthedocs.io/en/latest/modules/data_transforms.html#detectron2.data.transforms.ResizeShortestEdge) from detectron is used \r\n    - all the post processing should be inside it\r\n  - [x] backbone\r\n    - recently we added [Swin Transformer](https://github.com/huggingface/transformers/pull/15085), the backbone should depend on that implementation\r\n    - ported inside maskformer with the required changes\r\n  - [x] loss\r\n    - originally, the loss is computed by passing a list of dictionaries representing targets. However, this approach is subefficient since different targets may have different sizes making it hard to process the batch in a single go.\r\n  - [x] padding\r\n    - padding is handled in the forward pass using `NestedTensor`, this is a well know class used in a lot of implementations. This should be handled by the `FeatureExtractor` following [Niels implementation](https://github.com/huggingface/transformers/blob/c15bb3fe19b0b6c69a727812cdd3cd5597014667/src/transformers/models/detr/feature_extraction_detr.py#L633)\r\n  - [x] auxiliary loss is not yet implemented\r\n  - [x] output_hidden_states\r\n  - [x] doc\r\n  - [ ] tests:\r\n    - [x] FeatureExtractor\r\n    - [ ] MaskFormer\r\n        \r\nCurrently, the model can be used as follows\r\n\r\n```python\r\nimport torch\r\n\r\nfrom transformers import (\r\n    MaskFormerModel,\r\n    MaskFormerForInstanceSegmentation,\r\n    MaskFormerConfig,\r\n    MaskFormerFeatureExtractor,\r\n)\r\n\r\nimport numpy as np\r\n\r\nfeature_extractor = MaskFormerFeatureExtractor(do_resize=True)\r\n\r\ninputs = feature_extractor(\r\n    [np.zeros((3, 400, 1200)), np.zeros((3, 750, 384))],\r\n    return_tensors=\"pt\",\r\n    pad_and_return_pixel_mask=True,\r\n)\r\n\r\nconfig = MaskFormerConfig()\r\nmask_former = MaskFormerModel(config=config)\r\nout = mask_former(**inputs)\r\n# out contains the hidden states of each submodule\r\nmask_former = MaskFormerForInstanceSegmentation(config=config)\r\nout = mask_former(**inputs)\r\n# out contains the logits\r\nseg = feature_extractor.post_process_segmentation(out)\r\n# get the instance panoptic mask + segments\r\nseg = feature_extractor.post_process_panoptic_segmentation(out)\r\n",
      "closed_by": {
        "login": "FrancescoSaverioZuppichini",
        "id": 15908060,
        "node_id": "MDQ6VXNlcjE1OTA4MDYw",
        "avatar_url": "https://avatars.githubusercontent.com/u/15908060?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/FrancescoSaverioZuppichini",
        "html_url": "https://github.com/FrancescoSaverioZuppichini",
        "followers_url": "https://api.github.com/users/FrancescoSaverioZuppichini/followers",
        "following_url": "https://api.github.com/users/FrancescoSaverioZuppichini/following{/other_user}",
        "gists_url": "https://api.github.com/users/FrancescoSaverioZuppichini/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/FrancescoSaverioZuppichini/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/FrancescoSaverioZuppichini/subscriptions",
        "organizations_url": "https://api.github.com/users/FrancescoSaverioZuppichini/orgs",
        "repos_url": "https://api.github.com/users/FrancescoSaverioZuppichini/repos",
        "events_url": "https://api.github.com/users/FrancescoSaverioZuppichini/events{/privacy}",
        "received_events_url": "https://api.github.com/users/FrancescoSaverioZuppichini/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/15315/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/15315/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1020175042",
          "html_url": "https://github.com/huggingface/transformers/pull/15315#issuecomment-1020175042",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/15315",
          "id": 1020175042,
          "node_id": "IC_kwDOCUB6oc48zqLC",
          "user": {
            "login": "HuggingFaceDocBuilder",
            "id": 97597362,
            "node_id": "U_kgDOBdE3sg",
            "avatar_url": "https://avatars.githubusercontent.com/u/97597362?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilder",
            "html_url": "https://github.com/HuggingFaceDocBuilder",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilder/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilder/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilder/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilder/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilder/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilder/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilder/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilder/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilder/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-01-24T14:45:35Z",
          "updated_at": "2022-02-16T12:53:23Z",
          "author_association": "NONE",
          "body": "_The documentation is not available anymore as the PR was closed or merged._",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1020175042/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/37878/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/37878/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/37878/events",
      "html_url": "https://github.com/huggingface/transformers/pull/37878",
      "id": 3029747417,
      "node_id": "PR_kwDOCUB6oc6UbE1b",
      "number": 37878,
      "title": "PerceptionLM",
      "user": {
        "login": "shuminghu",
        "id": 2934295,
        "node_id": "MDQ6VXNlcjI5MzQyOTU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2934295?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/shuminghu",
        "html_url": "https://github.com/shuminghu",
        "followers_url": "https://api.github.com/users/shuminghu/followers",
        "following_url": "https://api.github.com/users/shuminghu/following{/other_user}",
        "gists_url": "https://api.github.com/users/shuminghu/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/shuminghu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/shuminghu/subscriptions",
        "organizations_url": "https://api.github.com/users/shuminghu/orgs",
        "repos_url": "https://api.github.com/users/shuminghu/repos",
        "events_url": "https://api.github.com/users/shuminghu/events{/privacy}",
        "received_events_url": "https://api.github.com/users/shuminghu/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1843244711,
          "node_id": "MDU6TGFiZWwxODQzMjQ0NzEx",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/New%20model",
          "name": "New model",
          "color": "fbca04",
          "default": false,
          "description": ""
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 21,
      "created_at": "2025-04-29T23:39:54Z",
      "updated_at": "2025-07-11T09:07:33Z",
      "closed_at": "2025-07-11T09:07:33Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/37878",
        "html_url": "https://github.com/huggingface/transformers/pull/37878",
        "diff_url": "https://github.com/huggingface/transformers/pull/37878.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/37878.patch",
        "merged_at": "2025-07-11T09:07:33Z"
      },
      "body": "This PR implements PerceptionLM released by Meta:\r\nhttps://github.com/facebookresearch/perception_models\r\n\r\n\r\n\r\n",
      "closed_by": {
        "login": "Cyrilvallez",
        "id": 71554963,
        "node_id": "MDQ6VXNlcjcxNTU0OTYz",
        "avatar_url": "https://avatars.githubusercontent.com/u/71554963?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Cyrilvallez",
        "html_url": "https://github.com/Cyrilvallez",
        "followers_url": "https://api.github.com/users/Cyrilvallez/followers",
        "following_url": "https://api.github.com/users/Cyrilvallez/following{/other_user}",
        "gists_url": "https://api.github.com/users/Cyrilvallez/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Cyrilvallez/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Cyrilvallez/subscriptions",
        "organizations_url": "https://api.github.com/users/Cyrilvallez/orgs",
        "repos_url": "https://api.github.com/users/Cyrilvallez/repos",
        "events_url": "https://api.github.com/users/Cyrilvallez/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Cyrilvallez/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/37878/reactions",
        "total_count": 5,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 3,
        "rocket": 2,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/37878/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2840466627",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-2840466627",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 2840466627,
          "node_id": "IC_kwDOCUB6oc6pThTD",
          "user": {
            "login": "github-actions[bot]",
            "id": 41898282,
            "node_id": "MDM6Qm90NDE4OTgyODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions%5Bbot%5D",
            "html_url": "https://github.com/apps/github-actions",
            "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
            "type": "Bot",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-04-29T23:40:05Z",
          "updated_at": "2025-04-29T23:40:05Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi \ud83d\udc4b, thank you for opening this pull request! The pull request is converted to draft by default. The CI will be paused while the PR is in draft mode. When it is ready for review, please click the `Ready for review` button (at the bottom of the PR page). This will assign reviewers and trigger CI.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2840466627/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": {
            "id": 15368,
            "client_id": "Iv1.05c79e9ad1f6bdfa",
            "slug": "github-actions",
            "node_id": "MDM6QXBwMTUzNjg=",
            "owner": {
              "login": "github",
              "id": 9919,
              "node_id": "MDEyOk9yZ2FuaXphdGlvbjk5MTk=",
              "avatar_url": "https://avatars.githubusercontent.com/u/9919?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/github",
              "html_url": "https://github.com/github",
              "followers_url": "https://api.github.com/users/github/followers",
              "following_url": "https://api.github.com/users/github/following{/other_user}",
              "gists_url": "https://api.github.com/users/github/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/github/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/github/subscriptions",
              "organizations_url": "https://api.github.com/users/github/orgs",
              "repos_url": "https://api.github.com/users/github/repos",
              "events_url": "https://api.github.com/users/github/events{/privacy}",
              "received_events_url": "https://api.github.com/users/github/received_events",
              "type": "Organization",
              "user_view_type": "public",
              "site_admin": false
            },
            "name": "GitHub Actions",
            "description": "Automate your workflow from idea to production",
            "external_url": "https://help.github.com/en/actions",
            "html_url": "https://github.com/apps/github-actions",
            "created_at": "2018-07-30T09:30:17Z",
            "updated_at": "2025-03-07T16:35:00Z",
            "permissions": {
              "actions": "write",
              "administration": "read",
              "attestations": "write",
              "checks": "write",
              "contents": "write",
              "deployments": "write",
              "discussions": "write",
              "issues": "write",
              "merge_queues": "write",
              "metadata": "read",
              "models": "read",
              "packages": "write",
              "pages": "write",
              "pull_requests": "write",
              "repository_hooks": "write",
              "repository_projects": "write",
              "security_events": "write",
              "statuses": "write",
              "vulnerability_alerts": "read"
            },
            "events": [
              "branch_protection_rule",
              "check_run",
              "check_suite",
              "create",
              "delete",
              "deployment",
              "deployment_status",
              "discussion",
              "discussion_comment",
              "fork",
              "gollum",
              "issues",
              "issue_comment",
              "label",
              "merge_group",
              "milestone",
              "page_build",
              "project",
              "project_card",
              "project_column",
              "public",
              "pull_request",
              "pull_request_review",
              "pull_request_review_comment",
              "push",
              "registry_package",
              "release",
              "repository",
              "repository_dispatch",
              "status",
              "watch",
              "workflow_dispatch",
              "workflow_run"
            ]
          }
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2842848495",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-2842848495",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 2842848495,
          "node_id": "IC_kwDOCUB6oc6pcmzv",
          "user": {
            "login": "shuminghu",
            "id": 2934295,
            "node_id": "MDQ6VXNlcjI5MzQyOTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2934295?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shuminghu",
            "html_url": "https://github.com/shuminghu",
            "followers_url": "https://api.github.com/users/shuminghu/followers",
            "following_url": "https://api.github.com/users/shuminghu/following{/other_user}",
            "gists_url": "https://api.github.com/users/shuminghu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shuminghu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shuminghu/subscriptions",
            "organizations_url": "https://api.github.com/users/shuminghu/orgs",
            "repos_url": "https://api.github.com/users/shuminghu/repos",
            "events_url": "https://api.github.com/users/shuminghu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shuminghu/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-04-30T17:56:46Z",
          "updated_at": "2025-04-30T17:56:46Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Yay, super excited to get the model shipped! I know it is early to review, I noticed the model doesn't have a modular file yet. I recommend to use [modular transformers](https://huggingface.co/docs/transformers/en/modular_transformers) to add the model, it will allow you to inherit from any similar model in transformers and you won't have to rewrite the whole class\r\n> \r\n> Also it makes the review process easier and faster, since we see what are the main differences between PE and other existing model \ud83d\ude09\r\n\r\nI see. Let me take a look. The classes here were added automatically (first commit: plm template) from running this command:\r\n```\r\ntransformers-cli add-new-model-like\r\nWhat is the model you would like to duplicate? Please provide the lowercase `model_type` (e.g. roberta): llava\r\nWhat is the name (with no special casing) for your new model in the paper (e.g. RoBERTa)? PerceptionLM\r\nWhat identifier would you like to use for the `model_type` of this model?  [perceptionlm] perception_lm\r\nWhat lowercase name would you like to use for the module (folder) of this model?  [perceptionlm] perception_lm\r\nWhat prefix (camel-cased) would you like to use for the model classes of this model (e.g. Roberta)?  [PerceptionLM] \r\nWhat prefix (upper-cased) would you like to use for the constants relative to this model?  [PERCEPTIONLM] PERCEPTION_LM\r\nWhat will be the name of the config class for this model?  [PerceptionLMConfig] \r\nPlease give a checkpoint identifier (on the model Hub) for this new model (e.g. facebook/FacebookAI/roberta-base): facebook/Perception-LM-1B\r\nWill your new model use the same processing class as llava (LlamaTokenizer, LlavaProcessor) (yes/no)? no\r\nWhat will be the name of the tokenizer class for this model?  [PerceptionLMTokenizer] \r\nWhat will be the name of the processor class for this model?  [PerceptionLMProcessor] \r\nShould we add # Copied from statements when creating the new modeling file (yes/no)?  [yes] \r\nShould we add a version of your new model in all the frameworks implemented by llava (['pt']) (yes/no)?  [yes] \r\nThe constants at the start of the new tokenizer file created needs to be manually fixed. If your new model has a tokenizer fast, you will also need to manually add the converter in the `SLOW_TO_FAST_CONVERTERS` constant of `convert_slow_tokenizer.py`.\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2842848495/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2844587586",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-2844587586",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 2844587586,
          "node_id": "IC_kwDOCUB6oc6pjPZC",
          "user": {
            "login": "zucchini-nlp",
            "id": 100715397,
            "node_id": "U_kgDOBgDLhQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/100715397?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zucchini-nlp",
            "html_url": "https://github.com/zucchini-nlp",
            "followers_url": "https://api.github.com/users/zucchini-nlp/followers",
            "following_url": "https://api.github.com/users/zucchini-nlp/following{/other_user}",
            "gists_url": "https://api.github.com/users/zucchini-nlp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zucchini-nlp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zucchini-nlp/subscriptions",
            "organizations_url": "https://api.github.com/users/zucchini-nlp/orgs",
            "repos_url": "https://api.github.com/users/zucchini-nlp/repos",
            "events_url": "https://api.github.com/users/zucchini-nlp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zucchini-nlp/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-05-01T10:09:58Z",
          "updated_at": "2025-05-01T10:09:58Z",
          "author_association": "MEMBER",
          "body": "Yeah, that way is correct and usually copies an existing similar model. In this case Llava was written without modular as it was almost the first VLM in transformers :)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2844587586/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2908840302",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-2908840302",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 2908840302,
          "node_id": "IC_kwDOCUB6oc6tYWFu",
          "user": {
            "login": "zucchini-nlp",
            "id": 100715397,
            "node_id": "U_kgDOBgDLhQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/100715397?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zucchini-nlp",
            "html_url": "https://github.com/zucchini-nlp",
            "followers_url": "https://api.github.com/users/zucchini-nlp/followers",
            "following_url": "https://api.github.com/users/zucchini-nlp/following{/other_user}",
            "gists_url": "https://api.github.com/users/zucchini-nlp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zucchini-nlp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zucchini-nlp/subscriptions",
            "organizations_url": "https://api.github.com/users/zucchini-nlp/orgs",
            "repos_url": "https://api.github.com/users/zucchini-nlp/repos",
            "events_url": "https://api.github.com/users/zucchini-nlp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zucchini-nlp/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-05-26T07:33:26Z",
          "updated_at": "2025-05-26T07:33:26Z",
          "author_association": "MEMBER",
          "body": "@shuminghu ping me when it is ready for review and can you mark it PR as \"ready for review' as well'",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2908840302/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2914230228",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-2914230228",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 2914230228,
          "node_id": "IC_kwDOCUB6oc6ts5_U",
          "user": {
            "login": "shuminghu",
            "id": 2934295,
            "node_id": "MDQ6VXNlcjI5MzQyOTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2934295?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shuminghu",
            "html_url": "https://github.com/shuminghu",
            "followers_url": "https://api.github.com/users/shuminghu/followers",
            "following_url": "https://api.github.com/users/shuminghu/following{/other_user}",
            "gists_url": "https://api.github.com/users/shuminghu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shuminghu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shuminghu/subscriptions",
            "organizations_url": "https://api.github.com/users/shuminghu/orgs",
            "repos_url": "https://api.github.com/users/shuminghu/repos",
            "events_url": "https://api.github.com/users/shuminghu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shuminghu/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-05-27T21:53:05Z",
          "updated_at": "2025-05-27T21:53:05Z",
          "author_association": "CONTRIBUTOR",
          "body": "Yes. Absolutely. Circling back to this now.\r\n\r\nOn Mon, May 26, 2025 at 12:33\u202fAM Raushan Turganbay ***@***.***>\r\nwrote:\r\n\r\n> *zucchini-nlp* left a comment (huggingface/transformers#37878)\r\n> <https://github.com/huggingface/transformers/pull/37878#issuecomment-2908840302>\r\n>\r\n> @shuminghu <https://github.com/shuminghu> ping me when it is ready for\r\n> review and can you mark it PR as \"ready for review' as well'\r\n>\r\n> \u2014\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/huggingface/transformers/pull/37878#issuecomment-2908840302>,\r\n> or unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/AAWMMF4SLPGNHMYQTRWYENL3AK7V3AVCNFSM6AAAAAB4EIC6R6VHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDSMBYHA2DAMZQGI>\r\n> .\r\n> You are receiving this because you were mentioned.Message ID:\r\n> ***@***.***>\r\n>\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2914230228/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2979561605",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-2979561605",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 2979561605,
          "node_id": "IC_kwDOCUB6oc6xmICF",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-06-17T09:07:29Z",
          "updated_at": "2025-06-17T09:07:29Z",
          "author_association": "COLLABORATOR",
          "body": "\r\n> For the failing integration tests that a `timm` model isn't found, cc @ydshieh . Which version on `timm` do we have in the runners and can we update it? We'll also have another big release soon based on timm as a backbone\r\n\r\nHi, it doesn't seems just integration tests but all tests, if we are talking about\r\n\r\n> RuntimeError: Unknown model (vit_pe_core_large_patch14_336)\r\n\r\nIn the runner, we have\r\n\r\n> timm==1.0.15\r\n\r\n(this info. could be find in the job step `Show installed libraries and their versions`)\r\n\r\n\r\n\r\nHowever, we can not use a model like `vit_pe_core_large_patch14_336` in non-slow tests (for circleci for example). Usually with HF models, we set a config with very small values for some attributes, and use that config to create a very tiny model on the fly.\r\n\r\nFor integration tests, we can use it.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2979561605/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2979642675",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-2979642675",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 2979642675,
          "node_id": "IC_kwDOCUB6oc6xmb0z",
          "user": {
            "login": "zucchini-nlp",
            "id": 100715397,
            "node_id": "U_kgDOBgDLhQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/100715397?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zucchini-nlp",
            "html_url": "https://github.com/zucchini-nlp",
            "followers_url": "https://api.github.com/users/zucchini-nlp/followers",
            "following_url": "https://api.github.com/users/zucchini-nlp/following{/other_user}",
            "gists_url": "https://api.github.com/users/zucchini-nlp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zucchini-nlp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zucchini-nlp/subscriptions",
            "organizations_url": "https://api.github.com/users/zucchini-nlp/orgs",
            "repos_url": "https://api.github.com/users/zucchini-nlp/repos",
            "events_url": "https://api.github.com/users/zucchini-nlp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zucchini-nlp/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-06-17T09:31:13Z",
          "updated_at": "2025-06-17T09:31:13Z",
          "author_association": "MEMBER",
          "body": "Right, we need to modify non-integration tests @shuminghu . And for the integration ones, do we need to add a decorator for timm version so it doesn't flood nightlies with failures or do we update timm in runners?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2979642675/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2980876761",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-2980876761",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 2980876761,
          "node_id": "IC_kwDOCUB6oc6xrJHZ",
          "user": {
            "login": "shuminghu",
            "id": 2934295,
            "node_id": "MDQ6VXNlcjI5MzQyOTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2934295?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shuminghu",
            "html_url": "https://github.com/shuminghu",
            "followers_url": "https://api.github.com/users/shuminghu/followers",
            "following_url": "https://api.github.com/users/shuminghu/following{/other_user}",
            "gists_url": "https://api.github.com/users/shuminghu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shuminghu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shuminghu/subscriptions",
            "organizations_url": "https://api.github.com/users/shuminghu/orgs",
            "repos_url": "https://api.github.com/users/shuminghu/repos",
            "events_url": "https://api.github.com/users/shuminghu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shuminghu/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-06-17T15:41:31Z",
          "updated_at": "2025-06-17T15:41:31Z",
          "author_association": "CONTRIBUTOR",
          "body": "vit_pe_core_large_patch14_336\r\nHere is architecture template. But actual number of layers and dims are\r\nsmall numbers not ViT-L scale in non-integration tests.\r\n\r\nOn Tue, Jun 17, 2025 at 2:31\u202fAM Raushan Turganbay ***@***.***>\r\nwrote:\r\n\r\n> *zucchini-nlp* left a comment (huggingface/transformers#37878)\r\n> <https://github.com/huggingface/transformers/pull/37878#issuecomment-2979642675>\r\n>\r\n> Right, we need to modify non-integration tests @shuminghu\r\n> <https://github.com/shuminghu> . And for the integration ones, do we need\r\n> to add a decorator for timm version so it doesn't flood nightlies with\r\n> failures or do we update timm in runners?\r\n>\r\n> \u2014\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/huggingface/transformers/pull/37878#issuecomment-2979642675>,\r\n> or unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/AAWMMF5VXCCHJGODU7YWDPL3D7N7NAVCNFSM6AAAAAB4EIC6R6VHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDSNZZGY2DENRXGU>\r\n> .\r\n> You are receiving this because you were mentioned.Message ID:\r\n> ***@***.***>\r\n>\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2980876761/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3007089582",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-3007089582",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 3007089582,
          "node_id": "IC_kwDOCUB6oc6zPIuu",
          "user": {
            "login": "shuminghu",
            "id": 2934295,
            "node_id": "MDQ6VXNlcjI5MzQyOTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2934295?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shuminghu",
            "html_url": "https://github.com/shuminghu",
            "followers_url": "https://api.github.com/users/shuminghu/followers",
            "following_url": "https://api.github.com/users/shuminghu/following{/other_user}",
            "gists_url": "https://api.github.com/users/shuminghu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shuminghu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shuminghu/subscriptions",
            "organizations_url": "https://api.github.com/users/shuminghu/orgs",
            "repos_url": "https://api.github.com/users/shuminghu/repos",
            "events_url": "https://api.github.com/users/shuminghu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shuminghu/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-06-26T05:19:19Z",
          "updated_at": "2025-06-26T05:19:19Z",
          "author_association": "CONTRIBUTOR",
          "body": "> > For the failing integration tests that a `timm` model isn't found, cc @ydshieh . Which version on `timm` do we have in the runners and can we update it? We'll also have another big release soon based on timm as a backbone\r\n> \r\n> Hi, it doesn't seems just integration tests but all tests, if we are talking about\r\n> \r\n> > RuntimeError: Unknown model (vit_pe_core_large_patch14_336)\r\n> \r\n> In the runner, we have\r\n> \r\n> > timm==1.0.15\r\n> \r\n> (this info. could be find in the job step `Show installed libraries and their versions`)\r\n> \r\n> However, we can not use a model like `vit_pe_core_large_patch14_336` in non-slow tests (for circleci for example). Usually with HF models, we set a config with very small values for some attributes, and use that config to create a very tiny model on the fly.\r\n> \r\n> For integration tests, we can use it.\r\n\r\n@ydshieh `vit_pe_core_large_patch14_336`  is actually not used in non-integration test despite the naming.\r\nWith latest `TimmWrapperConfig` support, it is specified as following in non-integration tests, where `architecture` is merely a template and model dim and depth is specified as `model_args`. But yea, all of this requires timm's source code up-to-date to a week ago.\r\n\r\n```\r\n        vision_config={\r\n            \"architecture\": \"vit_pe_core_large_patch14_336\",\r\n            \"model_args\": {\r\n                \"embed_dim\": 64,\r\n                \"img_size\": (14, 14),\r\n                \"depth\": 2,\r\n                \"global_pool\": \"\",\r\n                \"use_post_transformer_norm\": False,\r\n                \"init_values\": 0.1,\r\n                \"ref_feat_shape\": (1, 1),\r\n            },\r\n        },",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3007089582/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3013035653",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-3013035653",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 3013035653,
          "node_id": "IC_kwDOCUB6oc6zl0aF",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-06-27T13:11:12Z",
          "updated_at": "2025-06-27T13:12:21Z",
          "author_association": "COLLABORATOR",
          "body": "Happy to upgrade timm in docker if @zucchini-nlp and @qubvel confirm it is necessary.\r\n\r\nDoes this mean  we also have to pin timm version in `setup.py` so users will have the correct timm version?\r\n\r\n(And this requirement is specific to this new model or we need it anyway in general?)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3013035653/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3013146245",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-3013146245",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 3013146245,
          "node_id": "IC_kwDOCUB6oc6zmPaF",
          "user": {
            "login": "qubvel",
            "id": 31920396,
            "node_id": "MDQ6VXNlcjMxOTIwMzk2",
            "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/qubvel",
            "html_url": "https://github.com/qubvel",
            "followers_url": "https://api.github.com/users/qubvel/followers",
            "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
            "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
            "organizations_url": "https://api.github.com/users/qubvel/orgs",
            "repos_url": "https://api.github.com/users/qubvel/repos",
            "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/qubvel/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-06-27T13:46:11Z",
          "updated_at": "2025-06-27T13:46:20Z",
          "author_association": "MEMBER",
          "body": "We also need the latest timm for gemma3n, because mobilenetv5 was added just recently, but not sure if we should pin reqs strict to the latest version, maybe just add version check with correct error message",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3013146245/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3013176807",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-3013176807",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 3013176807,
          "node_id": "IC_kwDOCUB6oc6zmW3n",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-06-27T13:56:39Z",
          "updated_at": "2025-06-27T13:56:39Z",
          "author_association": "COLLABORATOR",
          "body": "we have timm==1.0.15 at this moment, and we have  v1.0.16 released 16 hours ago).\r\n\r\n@shuminghu Are the failing tests caused by the `timm==1.0.15` ...?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3013176807/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3013700699",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-3013700699",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 3013700699,
          "node_id": "IC_kwDOCUB6oc6zoWxb",
          "user": {
            "login": "shuminghu",
            "id": 2934295,
            "node_id": "MDQ6VXNlcjI5MzQyOTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2934295?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shuminghu",
            "html_url": "https://github.com/shuminghu",
            "followers_url": "https://api.github.com/users/shuminghu/followers",
            "following_url": "https://api.github.com/users/shuminghu/following{/other_user}",
            "gists_url": "https://api.github.com/users/shuminghu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shuminghu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shuminghu/subscriptions",
            "organizations_url": "https://api.github.com/users/shuminghu/orgs",
            "repos_url": "https://api.github.com/users/shuminghu/repos",
            "events_url": "https://api.github.com/users/shuminghu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shuminghu/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-06-27T16:42:45Z",
          "updated_at": "2025-06-27T22:20:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "> we have timm==1.0.15 at this moment, and we have v1.0.16 released 16 hours ago).\r\n> \r\n> @shuminghu Are the failing tests caused by the `timm==1.0.15` ...?\r\n\r\n@ydshieh  Right. v1.0.16 would be good for me for CI.\r\n\r\nFrom [Release v1.0.16 change log](https://github.com/huggingface/pytorch-image-models/releases/tag/v1.0.16):\r\n...\r\nAdd EVA ViT based PE (Perceptual Encoder) impl by @rwightman in https://github.com/huggingface/pytorch-image-models/pull/2487\r\n\r\n--- upate ----\r\nThanks @ydshieh! I just saw CI is passing. So it must have been updated.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3013700699/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3018091033",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-3018091033",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 3018091033,
          "node_id": "IC_kwDOCUB6oc6z5GoZ",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-06-30T07:27:54Z",
          "updated_at": "2025-06-30T07:27:54Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_37878). All of your documentation changes will be reflected on that endpoint. The docs are available until 30 days after the last update.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3018091033/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3019168816",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-3019168816",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 3019168816,
          "node_id": "IC_kwDOCUB6oc6z9Nww",
          "user": {
            "login": "ydshieh",
            "id": 2521628,
            "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ydshieh",
            "html_url": "https://github.com/ydshieh",
            "followers_url": "https://api.github.com/users/ydshieh/followers",
            "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
            "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
            "organizations_url": "https://api.github.com/users/ydshieh/orgs",
            "repos_url": "https://api.github.com/users/ydshieh/repos",
            "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ydshieh/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-06-30T13:29:19Z",
          "updated_at": "2025-06-30T13:29:19Z",
          "author_association": "COLLABORATOR",
          "body": "> Thanks @ydshieh! I just saw CI is passing. So it must have been updated.\r\n\r\nno, not me. We have `\"timm<=1.0.11\",` in `setup.py` but yet \r\n\r\n> RUN uv pip install --no-deps timm accelerate --extra-index-url https://download.pytorch.org/whl/cpu\r\n\r\nin docker file, and the  docker image is built in a daily basis. That is why it works now \ud83d\ude05 \r\n\r\nGlad CI is \u2705  now!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3019168816/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3028523070",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-3028523070",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 3028523070,
          "node_id": "IC_kwDOCUB6oc60g5g-",
          "user": {
            "login": "shuminghu",
            "id": 2934295,
            "node_id": "MDQ6VXNlcjI5MzQyOTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2934295?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shuminghu",
            "html_url": "https://github.com/shuminghu",
            "followers_url": "https://api.github.com/users/shuminghu/followers",
            "following_url": "https://api.github.com/users/shuminghu/following{/other_user}",
            "gists_url": "https://api.github.com/users/shuminghu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shuminghu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shuminghu/subscriptions",
            "organizations_url": "https://api.github.com/users/shuminghu/orgs",
            "repos_url": "https://api.github.com/users/shuminghu/repos",
            "events_url": "https://api.github.com/users/shuminghu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shuminghu/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-07-02T16:36:29Z",
          "updated_at": "2025-07-02T16:36:29Z",
          "author_association": "CONTRIBUTOR",
          "body": "base_model_prefix=\"model\" fixed it! :)\r\n\r\nOn Wed, Jul 2, 2025 at 9:22\u202fAM Raushan Turganbay ***@***.***>\r\nwrote:\r\n\r\n> ***@***.**** commented on this pull request.\r\n> ------------------------------\r\n>\r\n> In utils/check_repo.py\r\n> <https://github.com/huggingface/transformers/pull/37878#discussion_r2180485383>\r\n> :\r\n>\r\n> > @@ -301,6 +301,7 @@\r\n>      \"OwlViTForObjectDetection\",\r\n>      \"PatchTSMixerForPrediction\",\r\n>      \"PatchTSMixerForPretraining\",\r\n> +    \"PerceptionLMModel\",\r\n>\r\n> Weird, it should be loadable and it'll allow us native integration with\r\n> vLLM. Probably the base model prefix isn't defined, because in other VLMs\r\n> it was removed on purpose\r\n> Having a base_model_prefix=\"model\" should make ot load with both classes\r\n>\r\n> \u2014\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/huggingface/transformers/pull/37878#discussion_r2180485383>,\r\n> or unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/AAWMMF3LJRWD6O72QYZNY6L3GQBNZAVCNFSM6AAAAAB4EIC6R6VHI2DSMVQWIX3LMV43YUDVNRWFEZLROVSXG5CSMV3GSZLXHMZDSNZZHAZTMMJQGU>\r\n> .\r\n> You are receiving this because you were mentioned.Message ID:\r\n> ***@***.***>\r\n>\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3028523070/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3048983849",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-3048983849",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 3048983849,
          "node_id": "IC_kwDOCUB6oc61u80p",
          "user": {
            "login": "Cyrilvallez",
            "id": 71554963,
            "node_id": "MDQ6VXNlcjcxNTU0OTYz",
            "avatar_url": "https://avatars.githubusercontent.com/u/71554963?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Cyrilvallez",
            "html_url": "https://github.com/Cyrilvallez",
            "followers_url": "https://api.github.com/users/Cyrilvallez/followers",
            "following_url": "https://api.github.com/users/Cyrilvallez/following{/other_user}",
            "gists_url": "https://api.github.com/users/Cyrilvallez/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Cyrilvallez/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Cyrilvallez/subscriptions",
            "organizations_url": "https://api.github.com/users/Cyrilvallez/orgs",
            "repos_url": "https://api.github.com/users/Cyrilvallez/repos",
            "events_url": "https://api.github.com/users/Cyrilvallez/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Cyrilvallez/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-07-08T13:30:25Z",
          "updated_at": "2025-07-08T13:30:25Z",
          "author_association": "MEMBER",
          "body": "run-slow: perception_lm",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3048983849/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3048989009",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-3048989009",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 3048989009,
          "node_id": "IC_kwDOCUB6oc61u-FR",
          "user": {
            "login": "github-actions[bot]",
            "id": 41898282,
            "node_id": "MDM6Qm90NDE4OTgyODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions%5Bbot%5D",
            "html_url": "https://github.com/apps/github-actions",
            "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
            "type": "Bot",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-07-08T13:31:55Z",
          "updated_at": "2025-07-08T13:31:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "This comment contains run-slow, running the specified jobs: \n\nmodels: ['models/perception_lm']\nquantizations: [] ...",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3048989009/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": {
            "id": 15368,
            "client_id": "Iv1.05c79e9ad1f6bdfa",
            "slug": "github-actions",
            "node_id": "MDM6QXBwMTUzNjg=",
            "owner": {
              "login": "github",
              "id": 9919,
              "node_id": "MDEyOk9yZ2FuaXphdGlvbjk5MTk=",
              "avatar_url": "https://avatars.githubusercontent.com/u/9919?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/github",
              "html_url": "https://github.com/github",
              "followers_url": "https://api.github.com/users/github/followers",
              "following_url": "https://api.github.com/users/github/following{/other_user}",
              "gists_url": "https://api.github.com/users/github/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/github/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/github/subscriptions",
              "organizations_url": "https://api.github.com/users/github/orgs",
              "repos_url": "https://api.github.com/users/github/repos",
              "events_url": "https://api.github.com/users/github/events{/privacy}",
              "received_events_url": "https://api.github.com/users/github/received_events",
              "type": "Organization",
              "user_view_type": "public",
              "site_admin": false
            },
            "name": "GitHub Actions",
            "description": "Automate your workflow from idea to production",
            "external_url": "https://help.github.com/en/actions",
            "html_url": "https://github.com/apps/github-actions",
            "created_at": "2018-07-30T09:30:17Z",
            "updated_at": "2025-03-07T16:35:00Z",
            "permissions": {
              "actions": "write",
              "administration": "read",
              "attestations": "write",
              "checks": "write",
              "contents": "write",
              "deployments": "write",
              "discussions": "write",
              "issues": "write",
              "merge_queues": "write",
              "metadata": "read",
              "models": "read",
              "packages": "write",
              "pages": "write",
              "pull_requests": "write",
              "repository_hooks": "write",
              "repository_projects": "write",
              "security_events": "write",
              "statuses": "write",
              "vulnerability_alerts": "read"
            },
            "events": [
              "branch_protection_rule",
              "check_run",
              "check_suite",
              "create",
              "delete",
              "deployment",
              "deployment_status",
              "discussion",
              "discussion_comment",
              "fork",
              "gollum",
              "issues",
              "issue_comment",
              "label",
              "merge_group",
              "milestone",
              "page_build",
              "project",
              "project_card",
              "project_column",
              "public",
              "pull_request",
              "pull_request_review",
              "pull_request_review_comment",
              "push",
              "registry_package",
              "release",
              "repository",
              "repository_dispatch",
              "status",
              "watch",
              "workflow_dispatch",
              "workflow_run"
            ]
          }
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3061175355",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-3061175355",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 3061175355,
          "node_id": "IC_kwDOCUB6oc62ddQ7",
          "user": {
            "login": "Cyrilvallez",
            "id": 71554963,
            "node_id": "MDQ6VXNlcjcxNTU0OTYz",
            "avatar_url": "https://avatars.githubusercontent.com/u/71554963?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Cyrilvallez",
            "html_url": "https://github.com/Cyrilvallez",
            "followers_url": "https://api.github.com/users/Cyrilvallez/followers",
            "following_url": "https://api.github.com/users/Cyrilvallez/following{/other_user}",
            "gists_url": "https://api.github.com/users/Cyrilvallez/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Cyrilvallez/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Cyrilvallez/subscriptions",
            "organizations_url": "https://api.github.com/users/Cyrilvallez/orgs",
            "repos_url": "https://api.github.com/users/Cyrilvallez/repos",
            "events_url": "https://api.github.com/users/Cyrilvallez/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Cyrilvallez/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-07-11T08:15:33Z",
          "updated_at": "2025-07-11T08:15:33Z",
          "author_association": "MEMBER",
          "body": "run-slow: perception_lm",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3061175355/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3061179867",
          "html_url": "https://github.com/huggingface/transformers/pull/37878#issuecomment-3061179867",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/37878",
          "id": 3061179867,
          "node_id": "IC_kwDOCUB6oc62deXb",
          "user": {
            "login": "github-actions[bot]",
            "id": 41898282,
            "node_id": "MDM6Qm90NDE4OTgyODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions%5Bbot%5D",
            "html_url": "https://github.com/apps/github-actions",
            "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
            "type": "Bot",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2025-07-11T08:16:55Z",
          "updated_at": "2025-07-11T08:16:55Z",
          "author_association": "CONTRIBUTOR",
          "body": "This comment contains run-slow, running the specified jobs: \n\nmodels: ['models/perception_lm']\nquantizations: [] ...",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/3061179867/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": {
            "id": 15368,
            "client_id": "Iv1.05c79e9ad1f6bdfa",
            "slug": "github-actions",
            "node_id": "MDM6QXBwMTUzNjg=",
            "owner": {
              "login": "github",
              "id": 9919,
              "node_id": "MDEyOk9yZ2FuaXphdGlvbjk5MTk=",
              "avatar_url": "https://avatars.githubusercontent.com/u/9919?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/github",
              "html_url": "https://github.com/github",
              "followers_url": "https://api.github.com/users/github/followers",
              "following_url": "https://api.github.com/users/github/following{/other_user}",
              "gists_url": "https://api.github.com/users/github/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/github/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/github/subscriptions",
              "organizations_url": "https://api.github.com/users/github/orgs",
              "repos_url": "https://api.github.com/users/github/repos",
              "events_url": "https://api.github.com/users/github/events{/privacy}",
              "received_events_url": "https://api.github.com/users/github/received_events",
              "type": "Organization",
              "user_view_type": "public",
              "site_admin": false
            },
            "name": "GitHub Actions",
            "description": "Automate your workflow from idea to production",
            "external_url": "https://help.github.com/en/actions",
            "html_url": "https://github.com/apps/github-actions",
            "created_at": "2018-07-30T09:30:17Z",
            "updated_at": "2025-03-07T16:35:00Z",
            "permissions": {
              "actions": "write",
              "administration": "read",
              "attestations": "write",
              "checks": "write",
              "contents": "write",
              "deployments": "write",
              "discussions": "write",
              "issues": "write",
              "merge_queues": "write",
              "metadata": "read",
              "models": "read",
              "packages": "write",
              "pages": "write",
              "pull_requests": "write",
              "repository_hooks": "write",
              "repository_projects": "write",
              "security_events": "write",
              "statuses": "write",
              "vulnerability_alerts": "read"
            },
            "events": [
              "branch_protection_rule",
              "check_run",
              "check_suite",
              "create",
              "delete",
              "deployment",
              "deployment_status",
              "discussion",
              "discussion_comment",
              "fork",
              "gollum",
              "issues",
              "issue_comment",
              "label",
              "merge_group",
              "milestone",
              "page_build",
              "project",
              "project_card",
              "project_column",
              "public",
              "pull_request",
              "pull_request_review",
              "pull_request_review_comment",
              "push",
              "registry_package",
              "release",
              "repository",
              "repository_dispatch",
              "status",
              "watch",
              "workflow_dispatch",
              "workflow_run"
            ]
          }
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/29637/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/29637/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/29637/events",
      "html_url": "https://github.com/huggingface/transformers/pull/29637",
      "id": 2184388513,
      "node_id": "PR_kwDOCUB6oc5phtBe",
      "number": 29637,
      "title": "Add HQQ quantization support",
      "user": {
        "login": "mobicham",
        "id": 37179323,
        "node_id": "MDQ6VXNlcjM3MTc5MzIz",
        "avatar_url": "https://avatars.githubusercontent.com/u/37179323?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mobicham",
        "html_url": "https://github.com/mobicham",
        "followers_url": "https://api.github.com/users/mobicham/followers",
        "following_url": "https://api.github.com/users/mobicham/following{/other_user}",
        "gists_url": "https://api.github.com/users/mobicham/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mobicham/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mobicham/subscriptions",
        "organizations_url": "https://api.github.com/users/mobicham/orgs",
        "repos_url": "https://api.github.com/users/mobicham/repos",
        "events_url": "https://api.github.com/users/mobicham/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mobicham/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 31,
      "created_at": "2024-03-13T16:08:05Z",
      "updated_at": "2024-05-06T10:09:38Z",
      "closed_at": "2024-05-02T16:51:49Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/29637",
        "html_url": "https://github.com/huggingface/transformers/pull/29637",
        "diff_url": "https://github.com/huggingface/transformers/pull/29637.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/29637.patch",
        "merged_at": "2024-05-02T16:51:49Z"
      },
      "body": "This PR is intended to add support for Half-Quadratic Quantization (HQQ) to the transformers library as requested in https://github.com/huggingface/transformers/issues/28328 \r\n\r\nHQQ has been gaining popularity lately since it's fast to quantize and produces good quality models without using any calibration data. More details here: https://github.com/mobiusml/hqq/\r\n\r\nSince quantization requires a cuda device, the quantization step is happening in ```create_quantized_param()```. \r\n\r\nThe tricky part is the serialization: the current logic unfortunately is not compatible with ```HQQLinear```'s ```state_dict``` structure. For now, I am using the same logic from the **hqq** package, which stores ```state_dicts``` of the modules and uses ```torch.save``` for saving the weights. Until we figure out a better way of doing it, this is the best solution I found so far.\r\n\r\nI added a progress-bar (inside the model loading progress-bar :D) to keep track of the quantization step. I noticed that the quantization step is slower than doing it with the **hqq** package. \r\n\r\nI wrote some basic tests to check if the quantization is done properly on a Mistral model with different settings.\r\n\r\nFull example here: <a href=\"https://gist.github.com/mobicham/cb07c1eff443ad0918c49ab7bb03e269\">hqq_transformers_llama_example.py</a> \r\n\r\nLet me know if you have any questions or requests!\r\n\r\nThank you in advance!",
      "closed_by": {
        "login": "amyeroberts",
        "id": 22614925,
        "node_id": "MDQ6VXNlcjIyNjE0OTI1",
        "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/amyeroberts",
        "html_url": "https://github.com/amyeroberts",
        "followers_url": "https://api.github.com/users/amyeroberts/followers",
        "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
        "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
        "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
        "repos_url": "https://api.github.com/users/amyeroberts/repos",
        "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
        "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/29637/reactions",
        "total_count": 11,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 6,
        "rocket": 5,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/29637/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1995086638",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-1995086638",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 1995086638,
          "node_id": "IC_kwDOCUB6oc526psu",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-03-13T17:26:48Z",
          "updated_at": "2024-03-13T17:26:57Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @mobicham, thanks for opening this PR! \r\n\r\nIs there an associated issue/ feature request for this? Is so, could you add to the PR description? \r\n\r\ncc @younesbelkada @SunMarc ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1995086638/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2050570115",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-2050570115",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 2050570115,
          "node_id": "IC_kwDOCUB6oc56OTeD",
          "user": {
            "login": "rationalism",
            "id": 813306,
            "node_id": "MDQ6VXNlcjgxMzMwNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/813306?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rationalism",
            "html_url": "https://github.com/rationalism",
            "followers_url": "https://api.github.com/users/rationalism/followers",
            "following_url": "https://api.github.com/users/rationalism/following{/other_user}",
            "gists_url": "https://api.github.com/users/rationalism/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rationalism/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rationalism/subscriptions",
            "organizations_url": "https://api.github.com/users/rationalism/orgs",
            "repos_url": "https://api.github.com/users/rationalism/repos",
            "events_url": "https://api.github.com/users/rationalism/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rationalism/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-11T21:18:35Z",
          "updated_at": "2024-04-11T21:18:35Z",
          "author_association": "NONE",
          "body": "@mobicham Tried running this branch on my machine (merged into the 4.39.3 Transformers release branch), got this error:\r\n\r\n```\r\n(lm_fun) alyssa@alyssa-desktop:~/lm_fun/transformers$ CUDA_VISIBLE_DEVICES=0,1 python ../mixtral_quant.py \r\n  0%|                                                                                                                                                                                | 0/51 [00:00<?, ?it/s]\r\nLoading checkpoint shards:   0%|                                                                                                                                                     | 0/19 [00:00<?, ?it/s]\r\nTraceback (most recent call last):\r\n  File \"/home/alyssa/lm_fun/transformers/../mixtral_quant.py\", line 23, in <module>\r\n    model = AutoModelForCausalLM.from_pretrained(model_id, torch_dtype=torch.bfloat16, device_map=\"cuda\", quantization_config=quant_config)\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/models/auto/auto_factory.py\", line 563, in from_pretrained\r\n    return model_class.from_pretrained(\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/modeling_utils.py\", line 3619, in from_pretrained\r\n    ) = cls._load_pretrained_model(\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/modeling_utils.py\", line 4046, in _load_pretrained_model\r\n    new_error_msgs, offload_index, state_dict_index = _load_state_dict_into_meta_model(\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/modeling_utils.py\", line 814, in _load_state_dict_into_meta_model\r\n    not hf_quantizer.check_quantized_param(\r\nTypeError: HQQHfQuantizer.check_quantized_param() got an unexpected keyword argument 'param_device'\r\n```\r\n\r\nCode I was running:\r\n\r\n```\r\nfrom transformers import AutoModelForCausalLM, AutoTokenizer, HQQConfig                                                                                                                                     \r\nfrom hqq.core.quantize import *                                                                                                                                                                             \r\n                                                                                                                                                                                                            \r\n# model_id  = \"mistral-community/Mixtral-8x22B-v0.1\"                                                                                                                                                        \r\nmodel_id  = \"mistralai/Mixtral-8x7B-v0.1\"                                                                                                                                                                   \r\n                                                                                                                                                                                                            \r\nattn_params     = BaseQuantizeConfig(nbits=4, group_size=64, quant_zero=True, quant_scale=True)                                                                                                             \r\nattn_params['scale_quant_params']['group_size'] = 256                                                                                                                                                       \r\nexperts_params = BaseQuantizeConfig(nbits=2, group_size=16, quant_zero=True, quant_scale=True)                                                                                                              \r\n                                                                                                                                                                                                            \r\n#Each type of linear layer (referred to as linear tag) will use different quantization parameters                                                                                                           \r\nquant_config  = HQQConfig({                                                                                                                                                                                 \r\n  'self_attn.q_proj': attn_params,                                                                                                                                                                          \r\n  'self_attn.k_proj': attn_params,                                                                                                                                                                          \r\n  'self_attn.v_proj': attn_params,                                                                                                                                                                          \r\n  'self_attn.o_proj': attn_params,                                                                                                                                                                          \r\n                                                                                                                                                                                                            \r\n  'block_sparse_moe.experts.w1': experts_params,                                                                                                                                                            \r\n  'block_sparse_moe.experts.w2': experts_params,                                                                                                                                                            \r\n  'block_sparse_moe.experts.w3': experts_params                                                                                                                                                             \r\n})                                                                                                                                                                                                          \r\n                                                                                                                                                                                                            \r\nmodel = AutoModelForCausalLM.from_pretrained(model_id, torch_dtype=torch.bfloat16, device_map=\"cuda\", quantization_config=quant_config)  \r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2050570115/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2050848647",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-2050848647",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 2050848647,
          "node_id": "IC_kwDOCUB6oc56PXeH",
          "user": {
            "login": "rationalism",
            "id": 813306,
            "node_id": "MDQ6VXNlcjgxMzMwNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/813306?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rationalism",
            "html_url": "https://github.com/rationalism",
            "followers_url": "https://api.github.com/users/rationalism/followers",
            "following_url": "https://api.github.com/users/rationalism/following{/other_user}",
            "gists_url": "https://api.github.com/users/rationalism/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rationalism/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rationalism/subscriptions",
            "organizations_url": "https://api.github.com/users/rationalism/orgs",
            "repos_url": "https://api.github.com/users/rationalism/repos",
            "events_url": "https://api.github.com/users/rationalism/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rationalism/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-12T02:21:02Z",
          "updated_at": "2024-04-12T02:21:02Z",
          "author_association": "NONE",
          "body": "@mobicham Tried saving and loading a model on the `mobiusml:stable` branch, got this error:\r\n\r\n```\r\n>>> from transformers import AutoModelForCausalLM, AutoTokenizer\r\n>>> model = AutoModelForCausalLM.from_pretrained('/home/alyssa/lm_fun/text-generation-webui/models/mixtral-8x22B-HQQ-2bit-g8')\r\n/home/alyssa/lm_fun/text-generation-webui/models/mixtral-8x22B-HQQ-2bit-g8\r\nNone\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/models/auto/auto_factory.py\", line 563, in from_pretrained\r\n    return model_class.from_pretrained(\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/modeling_utils.py\", line 3062, in from_pretrained\r\n    save_dir = BaseHQQModel.try_snapshot_download(pretrained_model_name_or_path, cache_dir)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/hqq/models/base.py\", line 281, in try_snapshot_download\r\n    save_dir = pjoin(cache_dir, save_dir_or_hub)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/posixpath.py\", line 76, in join\r\n    a = os.fspath(a)\r\nTypeError: expected str, bytes or os.PathLike object, not NoneType\r\n```\r\n\r\nAdding a cache_dir argument to the from_pretrained() call fixed it, but ideally I think you should be able to omit that?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2050848647/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2050858902",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-2050858902",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 2050858902,
          "node_id": "IC_kwDOCUB6oc56PZ-W",
          "user": {
            "login": "rationalism",
            "id": 813306,
            "node_id": "MDQ6VXNlcjgxMzMwNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/813306?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rationalism",
            "html_url": "https://github.com/rationalism",
            "followers_url": "https://api.github.com/users/rationalism/followers",
            "following_url": "https://api.github.com/users/rationalism/following{/other_user}",
            "gists_url": "https://api.github.com/users/rationalism/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rationalism/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rationalism/subscriptions",
            "organizations_url": "https://api.github.com/users/rationalism/orgs",
            "repos_url": "https://api.github.com/users/rationalism/repos",
            "events_url": "https://api.github.com/users/rationalism/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rationalism/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-12T02:34:54Z",
          "updated_at": "2024-04-12T02:37:42Z",
          "author_association": "NONE",
          "body": "@mobicham Tried using this to do an HQQ quantization of the new Mixtral-8x22B model on my desktop. It worked!, and then the model saved to disk fine. But when I tried to reload it from disk, this part appeared to work:\r\n\r\n```\r\n# Load weights                                                                                                                                                                                  \r\ntry:                                                                                                                                                                                                            \r\n    loaded_weights = BaseHQQModel.load_weights(save_dir)                                                                                                                                                    except Exception:                                                                                                                                                                               \r\n    logger.warning(\"Failed to load the HQQ weights\")                                                                                                                                            \r\n    return                                 \r\n```\r\n\r\nwhile this part caused it to OOM (even though it had successfully loaded before):\r\n\r\n```\r\n            # load modules                                                                                                                                                                                  \r\n            for name in logging.tqdm(name_to_module.keys(), \"Loading\"):                                                                                                                                     \r\n                module = name_to_module[name]                                                                                                                                                               \r\n                parent = find_parent(model, name)                                                                                                                                                           \r\n                node = name.split(\".\")[-1]                                                                                                                                                                  \r\n                setattr(parent, node, load_hqq_module(module, loaded_weights, compute_dtype, hqq_device))  \r\n```\r\n\r\nhere's the stack trace:\r\n\r\n```\r\n>>> from transformers import AutoModelForCausalLM, AutoTokenizer\r\n>>> model = AutoModelForCausalLM.from_pretrained('/home/alyssa/lm_fun/text-generation-webui/models/mixtral-8x22B-HQQ-2bit-g8', cache_dir='/home/alyssa/.cache/huggingface')\r\nLoading:  59%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f                                                              | 1329/2243 [00:38<00:26, 34.79it/s]\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/models/auto/auto_factory.py\", line 563, in from_pretrained\r\n    return model_class.from_pretrained(\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/modeling_utils.py\", line 3099, in from_pretrained\r\n    setattr(parent, node, load_hqq_module(module, loaded_weights, compute_dtype, hqq_device))\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/utils/_contextlib.py\", line 115, in decorate_context\r\n    return func(*args, **kwargs)\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/utils/hqq_utils.py\", line 93, in load_hqq_module\r\n    module.load_state_dict(state_dict)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/hqq/core/quantize.py\", line 543, in load_state_dict\r\n    self.cuda(self.device)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/hqq/core/quantize.py\", line 419, in cuda\r\n    self.W_q.data, self.meta = Quantizer.cuda(self.W_q.data, self.meta, device)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/hqq/core/quantize.py\", line 220, in cuda\r\n    return Quantizer.to_inplace(W_q, meta, device=device)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/hqq/core/quantize.py\", line 190, in to_inplace\r\n    .to(device)\r\ntorch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 24.00 MiB. GPU 0 has a total capacity of 23.64 GiB of which 6.62 MiB is free. Including non-PyTorch memory, this process has 23.57 GiB memory in use. Of the allocated memory 23.11 GiB is allocated by PyTorch, and 69.73 MiB is reserved by PyTorch but unallocated. If reserved but unallocated memory is large try setting PYTORCH_CUDA_ALLOC_CONF=expandable_segments:True to avoid fragmentation.  See documentation for Memory Management  (https://pytorch.org/docs/stable/notes/cuda.html#environment-variables)\r\n```\r\n\r\nthe cause seems like it's likely a mismatch between the device map in the `BaseHQQModel`, and the device_map used as an argument here? Thanks a lot",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2050858902/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2050876021",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-2050876021",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 2050876021,
          "node_id": "IC_kwDOCUB6oc56PeJ1",
          "user": {
            "login": "rationalism",
            "id": 813306,
            "node_id": "MDQ6VXNlcjgxMzMwNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/813306?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rationalism",
            "html_url": "https://github.com/rationalism",
            "followers_url": "https://api.github.com/users/rationalism/followers",
            "following_url": "https://api.github.com/users/rationalism/following{/other_user}",
            "gists_url": "https://api.github.com/users/rationalism/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rationalism/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rationalism/subscriptions",
            "organizations_url": "https://api.github.com/users/rationalism/orgs",
            "repos_url": "https://api.github.com/users/rationalism/repos",
            "events_url": "https://api.github.com/users/rationalism/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rationalism/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-12T02:57:09Z",
          "updated_at": "2024-04-12T02:57:09Z",
          "author_association": "NONE",
          "body": "@mobicham Used a monkey-patch to solve the `device_map` problem. Now the model loads! (although it still uses much more VRAM and CPU RAM when you load it from a pre-quantized folder than when you quantize it from scratch, which is annoying)\r\n\r\nhowever, it now errors out when you try to do generation:\r\n\r\n```\r\n>>> text = \"Hello my name is\"\r\n>>> inputs = tokenizer(text, return_tensors=\"pt\").to(\"cuda:0\")\r\n>>> model = AutoModelForCausalLM.from_pretrained('/home/alyssa/lm_fun/text-generation-webui/models/mixtral-8x22B-HQQ-2bit-g8', cache_dir='/home/alyssa/.cache/huggingface', device_map=DEVICE_MAP_MIXTRAL)\r\nLoading: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 2243/2243 [00:49<00:00, 45.08it/s]\r\n>>> outputs = model.generate(**inputs, max_new_tokens=20)\r\nSetting `pad_token_id` to `eos_token_id`:2 for open-end generation.\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/utils/_contextlib.py\", line 115, in decorate_context\r\n    return func(*args, **kwargs)\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/generation/utils.py\", line 1522, in generate\r\n    result = self._greedy_search(\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/generation/utils.py\", line 2405, in _greedy_search\r\n    outputs = self(\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1511, in _wrapped_call_impl\r\n    return self._call_impl(*args, **kwargs)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1520, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/models/mixtral/modeling_mixtral.py\", line 1360, in forward\r\n    outputs = self.model(\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1511, in _wrapped_call_impl\r\n    return self._call_impl(*args, **kwargs)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1520, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/models/mixtral/modeling_mixtral.py\", line 1228, in forward\r\n    layer_outputs = decoder_layer(\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1511, in _wrapped_call_impl\r\n    return self._call_impl(*args, **kwargs)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1520, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/models/mixtral/modeling_mixtral.py\", line 931, in forward\r\n    hidden_states = self.input_layernorm(hidden_states)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1511, in _wrapped_call_impl\r\n    return self._call_impl(*args, **kwargs)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1520, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/models/mixtral/modeling_mixtral.py\", line 181, in forward\r\n    return self.weight * hidden_states.to(input_dtype)\r\nRuntimeError: Expected all tensors to be on the same device, but found at least two devices, cuda:1 and cuda:0!\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2050876021/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2050902626",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-2050902626",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 2050902626,
          "node_id": "IC_kwDOCUB6oc56Pkpi",
          "user": {
            "login": "rationalism",
            "id": 813306,
            "node_id": "MDQ6VXNlcjgxMzMwNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/813306?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rationalism",
            "html_url": "https://github.com/rationalism",
            "followers_url": "https://api.github.com/users/rationalism/followers",
            "following_url": "https://api.github.com/users/rationalism/following{/other_user}",
            "gists_url": "https://api.github.com/users/rationalism/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rationalism/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rationalism/subscriptions",
            "organizations_url": "https://api.github.com/users/rationalism/orgs",
            "repos_url": "https://api.github.com/users/rationalism/repos",
            "events_url": "https://api.github.com/users/rationalism/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rationalism/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-12T03:31:25Z",
          "updated_at": "2024-04-12T03:31:25Z",
          "author_association": "NONE",
          "body": "@mobicham Tried generating from a multi-device HQQ model that had been quantized live (vs. being quantized, saved and then re-loaded), got an interesting looking stack trace:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/alyssa/lm_fun/mixtral_quant.py\", line 47, in <module>\r\n    outputs = model.generate(**inputs, max_new_tokens=20)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/utils/_contextlib.py\", line 115, in decorate_context\r\n    return func(*args, **kwargs)\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/generation/utils.py\", line 1522, in generate\r\n    result = self._greedy_search(\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/generation/utils.py\", line 2405, in _greedy_search\r\n    outputs = self(\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1511, in _wrapped_call_impl\r\n    return self._call_impl(*args, **kwargs)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1520, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/accelerate/hooks.py\", line 166, in new_forward\r\n    output = module._old_forward(*args, **kwargs)\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/models/mixtral/modeling_mixtral.py\", line 1360, in forward\r\n    outputs = self.model(\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1511, in _wrapped_call_impl\r\n    return self._call_impl(*args, **kwargs)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1520, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/models/mixtral/modeling_mixtral.py\", line 1228, in forward\r\n    layer_outputs = decoder_layer(\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1511, in _wrapped_call_impl\r\n    return self._call_impl(*args, **kwargs)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1520, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/accelerate/hooks.py\", line 166, in new_forward\r\n    output = module._old_forward(*args, **kwargs)\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/models/mixtral/modeling_mixtral.py\", line 934, in forward\r\n    hidden_states, self_attn_weights, present_key_value = self.self_attn(\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1511, in _wrapped_call_impl\r\n    return self._call_impl(*args, **kwargs)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1520, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/home/alyssa/lm_fun/transformers/src/transformers/models/mixtral/modeling_mixtral.py\", line 730, in forward\r\n    query_states = self.q_proj(hidden_states)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1511, in _wrapped_call_impl\r\n    return self._call_impl(*args, **kwargs)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/nn/modules/module.py\", line 1520, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/accelerate/hooks.py\", line 166, in new_forward\r\n    output = module._old_forward(*args, **kwargs)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/hqq/core/quantize.py\", line 793, in forward_aten_backprop\r\n    return HQQMatmulNoCacheDeq.apply(x, self.dequantize_aten, self.bias)\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/torch/autograd/function.py\", line 553, in apply\r\n    return super().apply(*args, **kwargs)  # type: ignore[misc]\r\n  File \"/home/alyssa/anaconda3/envs/lm_fun/lib/python3.10/site-packages/hqq/core/quantize.py\", line 261, in forward\r\n    out = torch.matmul(x, dequantize().t())\r\nRuntimeError: CUDA error: CUBLAS_STATUS_ALLOC_FAILED when calling `cublasCreate(handle)`\r\nAborted\r\n```\r\n\r\nhere's the code I used:\r\n\r\n```\r\nimport time                                                                                                                                                                                                 \r\nfrom transformers import AutoModelForCausalLM, AutoTokenizer, HQQConfig                                                                                                                                     \r\nfrom hqq.core.quantize import *                                                                                                                                                                             \r\n                                                                                                                                                                                                            \r\nDEVICE_MAP_MIXTRAL = {'model.embed_tokens': 0, 'model.layers.0': 0, 'model.layers.1': 0, 'model.layers.2': 0, 'model.layers.3': 0, 'model.layers.4': 0, 'model.layers.5': 0,                                \r\n                      'model.layers.6': 0, 'model.layers.7': 0, 'model.layers.8': 0, 'model.layers.9': 0, 'model.layers.10': 0, 'model.layers.11': 0, 'model.layers.12': 0,                                 \r\n                      'model.layers.13': 0, 'model.layers.14': 0, 'model.layers.15': 0, 'model.layers.16': 0, 'model.layers.17': 0, 'model.layers.18': 0, 'model.layers.19': 0,                             \r\n                      'model.layers.20': 0, 'model.layers.21': 0, 'model.layers.22': 0, 'model.layers.23': 0, 'model.layers.24': 0, 'model.layers.25': 0, 'model.layers.26': 0,                             \r\n                      'model.layers.27': 0, 'model.layers.28': 1, 'model.layers.29': 1, 'model.layers.30': 1, 'model.layers.31': 1, 'model.layers.32': 1, 'model.layers.33': 1,                             \r\n                      'model.layers.34': 1, 'model.layers.35': 1, 'model.layers.36': 1, 'model.layers.37': 1, 'model.layers.38': 1, 'model.layers.39': 1, 'model.layers.40': 1,                             \r\n                      'model.layers.41': 1, 'model.layers.42': 1, 'model.layers.43': 1, 'model.layers.44': 1, 'model.layers.45': 1, 'model.layers.46': 1, 'model.layers.47': 1,                             \r\n                      'model.layers.48': 1, 'model.layers.49': 1, 'model.layers.50': 1, 'model.layers.51': 1, 'model.layers.52': 1, 'model.layers.53': 1, 'model.layers.54': 1,                             \r\n                      'model.layers.55': 1,                                                                                                                                                                 \r\n                      'model.norm': 1, 'lm_head': 1}                                                                                                                                                        \r\n                                                                                                                                                                                                            \r\nMODEL_DIR = '/home/alyssa/lm_fun/text-generation-webui/models/'                                                                                                                                             \r\nmodel_id = MODEL_DIR + 'mistral-community_Mixtral-8x22B-v0.1'                                                                                                                                               \r\n# quant_model_save = MODEL_DIR + 'mixtral-8x22B-HQQ-2bit-g8'                                                                                                                                                \r\n# model_id  = \"mistral-community/Mixtral-8x22B-v0.1\"                                                                                                                                                        \r\n# model_id  = \"mistralai/Mixtral-8x7B-v0.1\"                                                                                                                                                                 \r\n                                                                                                                                                                                                            \r\nattn_params     = BaseQuantizeConfig(nbits=4, group_size=64, quant_zero=True, quant_scale=True, offload_meta=True)                                                                                          \r\nattn_params['scale_quant_params']['group_size'] = 128                                                                                                                                                       \r\nexperts_params = BaseQuantizeConfig(nbits=2, group_size=8, quant_zero=True, quant_scale=True, offload_meta=True)                                                                                            \r\n                                                                                                                                                                                                            \r\n#Each type of linear layer (referred to as linear tag) will use different quantization parameters                                                                                                           \r\nquant_config  = HQQConfig({                                                                                                                                                                                 \r\n  'self_attn.q_proj': attn_params,                                                                                                                                                                          \r\n  'self_attn.k_proj': attn_params,                                                                                                                                                                          \r\n  'self_attn.v_proj': attn_params,                                                                                                                                                                          \r\n  'self_attn.o_proj': attn_params,                                                                                                                                                                          \r\n                                                                                                                                                                                                            \r\n  'block_sparse_moe.experts.w1': experts_params,                                                                                                                                                            \r\n  'block_sparse_moe.experts.w2': experts_params,                                                                                                                                                            \r\n  'block_sparse_moe.experts.w3': experts_params                                                                                                                                                             \r\n})                                                                                                                                                                                                          \r\n                                                                                                                                                                                                            \r\nmodel = AutoModelForCausalLM.from_pretrained(model_id, torch_dtype=torch.bfloat16, device_map=DEVICE_MAP_MIXTRAL, quantization_config=quant_config)                                                         \r\nprint(\"Model loaded successfully\")                                                                                                                                                                          \r\nprint(model.hf_device_map)                                                                                                                                                                                  \r\n                                                                                                                                                                                                            \r\ntokenizer = AutoTokenizer.from_pretrained(model_id)                                                                                                                                                         \r\ntext = \"Hello my name is\"                                                                                                                                                                                   \r\ninputs = tokenizer(text, return_tensors=\"pt\").to(\"cuda:0\")                                                                                                                                                  \r\n                                                                                                                                                                                                            \r\nprint(\"Begin text generation\")                                                                                                                                                                              \r\noutputs = model.generate(**inputs, max_new_tokens=20)                                                                                                                                                       \r\nprint(tokenizer.decode(outputs[0], skip_special_tokens=True))                                                                                                                                               \r\nprint(\"Generation successful\")       \r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2050902626/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2051262826",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-2051262826",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 2051262826,
          "node_id": "IC_kwDOCUB6oc56Q8lq",
          "user": {
            "login": "mobicham",
            "id": 37179323,
            "node_id": "MDQ6VXNlcjM3MTc5MzIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/37179323?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mobicham",
            "html_url": "https://github.com/mobicham",
            "followers_url": "https://api.github.com/users/mobicham/followers",
            "following_url": "https://api.github.com/users/mobicham/following{/other_user}",
            "gists_url": "https://api.github.com/users/mobicham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mobicham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mobicham/subscriptions",
            "organizations_url": "https://api.github.com/users/mobicham/orgs",
            "repos_url": "https://api.github.com/users/mobicham/repos",
            "events_url": "https://api.github.com/users/mobicham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mobicham/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-12T08:22:59Z",
          "updated_at": "2024-04-12T08:22:59Z",
          "author_association": "CONTRIBUTOR",
          "body": "@rationalism I haven't tested it since the pull request, things have changed since then so it is likely to break with a merge. \r\nI will take a look at all of these issues next. There has been a lot of update on the HQQ library as well.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2051262826/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2051374954",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-2051374954",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 2051374954,
          "node_id": "IC_kwDOCUB6oc56RX9q",
          "user": {
            "login": "rationalism",
            "id": 813306,
            "node_id": "MDQ6VXNlcjgxMzMwNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/813306?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rationalism",
            "html_url": "https://github.com/rationalism",
            "followers_url": "https://api.github.com/users/rationalism/followers",
            "following_url": "https://api.github.com/users/rationalism/following{/other_user}",
            "gists_url": "https://api.github.com/users/rationalism/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rationalism/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rationalism/subscriptions",
            "organizations_url": "https://api.github.com/users/rationalism/orgs",
            "repos_url": "https://api.github.com/users/rationalism/repos",
            "events_url": "https://api.github.com/users/rationalism/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rationalism/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-12T09:19:37Z",
          "updated_at": "2024-04-12T09:19:37Z",
          "author_association": "NONE",
          "body": "@mobicham Thank you very much! Very excited ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2051374954/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2074957130",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-2074957130",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 2074957130,
          "node_id": "IC_kwDOCUB6oc57rVVK",
          "user": {
            "login": "mobicham",
            "id": 37179323,
            "node_id": "MDQ6VXNlcjM3MTc5MzIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/37179323?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mobicham",
            "html_url": "https://github.com/mobicham",
            "followers_url": "https://api.github.com/users/mobicham/followers",
            "following_url": "https://api.github.com/users/mobicham/following{/other_user}",
            "gists_url": "https://api.github.com/users/mobicham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mobicham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mobicham/subscriptions",
            "organizations_url": "https://api.github.com/users/mobicham/orgs",
            "repos_url": "https://api.github.com/users/mobicham/repos",
            "events_url": "https://api.github.com/users/mobicham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mobicham/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-24T13:30:28Z",
          "updated_at": "2024-04-24T13:30:28Z",
          "author_association": "CONTRIBUTOR",
          "body": "Updated PR. You can test it with this: https://gist.github.com/mobicham/cb07c1eff443ad0918c49ab7bb03e269\r\nThere's an issue with multi-gpu that I just can't figure out why it crashes.\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2074957130/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 2,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2081770039",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-2081770039",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 2081770039,
          "node_id": "IC_kwDOCUB6oc58FUo3",
          "user": {
            "login": "mxjmtxrm",
            "id": 167944756,
            "node_id": "U_kgDOCgKiNA",
            "avatar_url": "https://avatars.githubusercontent.com/u/167944756?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mxjmtxrm",
            "html_url": "https://github.com/mxjmtxrm",
            "followers_url": "https://api.github.com/users/mxjmtxrm/followers",
            "following_url": "https://api.github.com/users/mxjmtxrm/following{/other_user}",
            "gists_url": "https://api.github.com/users/mxjmtxrm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mxjmtxrm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mxjmtxrm/subscriptions",
            "organizations_url": "https://api.github.com/users/mxjmtxrm/orgs",
            "repos_url": "https://api.github.com/users/mxjmtxrm/repos",
            "events_url": "https://api.github.com/users/mxjmtxrm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mxjmtxrm/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-29T01:51:33Z",
          "updated_at": "2024-04-29T01:51:33Z",
          "author_association": "NONE",
          "body": "Hi, looking forward to any updates. I\u2018d like to try this feature.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2081770039/reactions",
            "total_count": 3,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2082902635",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-2082902635",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 2082902635,
          "node_id": "IC_kwDOCUB6oc58JpJr",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-04-29T14:28:57Z",
          "updated_at": "2024-04-29T14:28:57Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_29637). All of your documentation changes will be reflected on that endpoint. The docs are available until 30 days after the last update.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2082902635/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2090056844",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-2090056844",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 2090056844,
          "node_id": "IC_kwDOCUB6oc58k7yM",
          "user": {
            "login": "mobicham",
            "id": 37179323,
            "node_id": "MDQ6VXNlcjM3MTc5MzIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/37179323?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mobicham",
            "html_url": "https://github.com/mobicham",
            "followers_url": "https://api.github.com/users/mobicham/followers",
            "following_url": "https://api.github.com/users/mobicham/following{/other_user}",
            "gists_url": "https://api.github.com/users/mobicham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mobicham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mobicham/subscriptions",
            "organizations_url": "https://api.github.com/users/mobicham/orgs",
            "repos_url": "https://api.github.com/users/mobicham/repos",
            "events_url": "https://api.github.com/users/mobicham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mobicham/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-02T09:52:46Z",
          "updated_at": "2024-05-02T09:52:46Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts thanks for the review, I think I resolved all the issues, let me know if there's something missing.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2090056844/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2090266002",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-2090266002",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 2090266002,
          "node_id": "IC_kwDOCUB6oc58lu2S",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-02T11:28:25Z",
          "updated_at": "2024-05-02T11:28:25Z",
          "author_association": "CONTRIBUTOR",
          "body": "cc @amyeroberts this is ready for a final review \ud83d\ude4f btw I don't know why a llama test is failing on main, seems unrelated to this PR though !",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2090266002/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2091049977",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-2091049977",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 2091049977,
          "node_id": "IC_kwDOCUB6oc58ouP5",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-02T16:51:30Z",
          "updated_at": "2024-05-02T16:51:30Z",
          "author_association": "COLLABORATOR",
          "body": "@younesbelkada Yes - llama tests are unrelated and because of an upstream commit. I think we're free to merge! ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2091049977/reactions",
            "total_count": 2,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2092535489",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-2092535489",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 2092535489,
          "node_id": "IC_kwDOCUB6oc58uY7B",
          "user": {
            "login": "danielhanchen",
            "id": 23090290,
            "node_id": "MDQ6VXNlcjIzMDkwMjkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/23090290?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/danielhanchen",
            "html_url": "https://github.com/danielhanchen",
            "followers_url": "https://api.github.com/users/danielhanchen/followers",
            "following_url": "https://api.github.com/users/danielhanchen/following{/other_user}",
            "gists_url": "https://api.github.com/users/danielhanchen/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/danielhanchen/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/danielhanchen/subscriptions",
            "organizations_url": "https://api.github.com/users/danielhanchen/orgs",
            "repos_url": "https://api.github.com/users/danielhanchen/repos",
            "events_url": "https://api.github.com/users/danielhanchen/events{/privacy}",
            "received_events_url": "https://api.github.com/users/danielhanchen/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-03T08:19:04Z",
          "updated_at": "2024-05-03T08:19:04Z",
          "author_association": "CONTRIBUTOR",
          "body": "@mobicham Fabulous work!!!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2092535489/reactions",
            "total_count": 4,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 4,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2092537175",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-2092537175",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 2092537175,
          "node_id": "IC_kwDOCUB6oc58uZVX",
          "user": {
            "login": "mobicham",
            "id": 37179323,
            "node_id": "MDQ6VXNlcjM3MTc5MzIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/37179323?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mobicham",
            "html_url": "https://github.com/mobicham",
            "followers_url": "https://api.github.com/users/mobicham/followers",
            "following_url": "https://api.github.com/users/mobicham/following{/other_user}",
            "gists_url": "https://api.github.com/users/mobicham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mobicham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mobicham/subscriptions",
            "organizations_url": "https://api.github.com/users/mobicham/orgs",
            "repos_url": "https://api.github.com/users/mobicham/repos",
            "events_url": "https://api.github.com/users/mobicham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mobicham/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-03T08:20:22Z",
          "updated_at": "2024-05-03T08:20:22Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thank you @danielhanchen !",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2092537175/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2092841767",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-2092841767",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 2092841767,
          "node_id": "IC_kwDOCUB6oc58vjsn",
          "user": {
            "login": "kadirnar",
            "id": 36204372,
            "node_id": "MDQ6VXNlcjM2MjA0Mzcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/36204372?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kadirnar",
            "html_url": "https://github.com/kadirnar",
            "followers_url": "https://api.github.com/users/kadirnar/followers",
            "following_url": "https://api.github.com/users/kadirnar/following{/other_user}",
            "gists_url": "https://api.github.com/users/kadirnar/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kadirnar/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kadirnar/subscriptions",
            "organizations_url": "https://api.github.com/users/kadirnar/orgs",
            "repos_url": "https://api.github.com/users/kadirnar/repos",
            "events_url": "https://api.github.com/users/kadirnar/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kadirnar/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-03T11:47:31Z",
          "updated_at": "2024-05-03T11:47:59Z",
          "author_association": "CONTRIBUTOR",
          "body": "@mobicham \r\nCan I use it with flash-attention?\r\n\r\nMy Code:\r\n```python\r\nimport logging\r\nfrom transformers import AutoModelForSpeechSeq2Seq, AutoProcessor, pipeline, BitsAndBytesConfig, HqqConfig\r\n\r\nhqq_config  = HqqConfig(\r\n    nbits=1, \r\n    group_size=64, \r\n    quant_zero=False, \r\n    quant_scale=False, axis=0) #axis=0 is used by default\r\n\r\n\r\nlogging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')\r\n\r\nclass SpeechToText:\r\n    \"\"\"Class for converting audio to text using a pre-trained speech recognition model.\"\"\"\r\n\r\n    def __init__(self, model_id: str = \"openai/whisper-large-v3\", quant_config=None):\r\n        self.model = None\r\n        self.device = None\r\n\r\n        if self.model is None:\r\n            self.load_model(model_id)\r\n        else:\r\n            logging.info(\"Model already loaded.\")\r\n\r\n    def load_model(self, model_id: str = \"openai/whisper-large-v3\", quant_config=None):\r\n        \"\"\"\r\n        Loads the pre-trained speech recognition model and moves it to the specified device.\r\n\r\n        Args:\r\n            model_id (str): Identifier of the pre-trained model to be loaded.\r\n        \"\"\"\r\n        logging.info(\"Loading model...\")\r\n        model = AutoModelForSpeechSeq2Seq.from_pretrained(\r\n            model_id,\r\n            quantization_config=quant_config,\r\n            low_cpu_mem_usage=True,\r\n            use_safetensors=True,\r\n            attn_implementation=\"flash_attention_2\",\r\n            device_map=\"auto\")\r\n\r\n        logging.info(\"Model loaded successfully.\")\r\n\r\n        processor = AutoProcessor.from_pretrained(model_id)\r\n\r\n        self.processor = processor\r\n        self.model = model\r\n\r\n    def __call__(\r\n            self,\r\n            chunk_length_s: int = 30,\r\n            stride_length_s: int = 5,\r\n            audio_path: str = \"test.mp3\",\r\n            max_new_tokens: int = 128,\r\n            batch_size: int = 100,\r\n            language: str = \"turkish\"):\r\n        \"\"\"\r\n        Converts audio to text using the pre-trained speech recognition model.\r\n\r\n        Args:\r\n            audio_path (str): Path to the audio file to be transcribed.\r\n\r\n        Returns:\r\n            str: Transcribed text from the audio.\r\n        \"\"\"\r\n        pipe = pipeline(\r\n            \"automatic-speech-recognition\",\r\n            model=self.model,\r\n            chunk_length_s=chunk_length_s,\r\n            stride_length_s=stride_length_s,\r\n            max_new_tokens=max_new_tokens,\r\n            batch_size=100,\r\n            device_map=\"auto\",\r\n            return_timestamps=True,\r\n            tokenizer=self.processor.tokenizer,\r\n            feature_extractor=self.processor.feature_extractor,\r\n            model_kwargs={\"use_flash_attention_2\": True},\r\n            generate_kwargs={\"language\": language},\r\n        )\r\n        logging.info(\"Transcribing audio...\")\r\n        result = pipe(audio_path)\r\n        return result\r\n\r\noutput = SpeechToText(model_id=\"distil-whisper/distil-large-v3\", quant_config=hqq_config) # or bnb_config\r\ntranscript = output(\r\n    audio_path = \"testv0.mp3\",\r\n    chunk_length_s = 30,\r\n    stride_length_s = 5,\r\n    max_new_tokens = 128,\r\n    batch_size = 100,\r\n    language = \"english\",\r\n)\r\n```\r\n\r\nError Message:\r\n```bash\r\nFile [/usr/local/lib/python3.10/dist-packages/flash_attn/flash_attn_interface.py:51](https://mu4lijajurse00-8888.proxy.runpod.net/lab/tree/workspace/usr/local/lib/python3.10/dist-packages/flash_attn/flash_attn_interface.py#line=50), in _flash_attn_forward(q, k, v, dropout_p, softmax_scale, causal, window_size, alibi_slopes, return_softmax)\r\n     49 maybe_contiguous = lambda x: x.contiguous() if x.stride(-1) != 1 else x\r\n     50 q, k, v = [maybe_contiguous(x) for x in (q, k, v)]\r\n---> 51 out, q, k, v, out_padded, softmax_lse, S_dmask, rng_state = flash_attn_cuda.fwd(\r\n     52     q,\r\n     53     k,\r\n     54     v,\r\n     55     None,\r\n     56     alibi_slopes,\r\n     57     dropout_p,\r\n     58     softmax_scale,\r\n     59     causal,\r\n     60     window_size[0],\r\n     61     window_size[1],\r\n     62     return_softmax,\r\n     63     None,\r\n     64 )\r\n     65 return out, q, k, v, out_padded, softmax_lse, S_dmask, rng_state\r\n\r\nRuntimeError: FlashAttention only support fp16 and bf16 data type\r\n```\r\n\r\nCli-env:\r\n\r\n```bash\r\n- `transformers` version: 4.41.0.dev0\r\n- Platform: Linux-6.5.0-28-generic-x86_64-with-glibc2.35\r\n- Python version: 3.10.12\r\n- Huggingface_hub version: 0.23.0\r\n- Safetensors version: 0.4.3\r\n- Accelerate version: 0.29.3\r\n- Accelerate config: \tnot found\r\n- PyTorch version (GPU?): 2.2.0+cu121 (True)\r\n- Tensorflow version (GPU?): not installed (NA)\r\n- Flax version (CPU?/GPU?/TPU?): not installed (NA)\r\n- Jax version: not installed\r\n- JaxLib version: not installed\r\n- Using GPU in script?: <fill in>\r\n- Using distributed or parallel set-up in script?: <fill in>-\r\n```\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2092841767/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2092843849",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-2092843849",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 2092843849,
          "node_id": "IC_kwDOCUB6oc58vkNJ",
          "user": {
            "login": "kadirnar",
            "id": 36204372,
            "node_id": "MDQ6VXNlcjM2MjA0Mzcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/36204372?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kadirnar",
            "html_url": "https://github.com/kadirnar",
            "followers_url": "https://api.github.com/users/kadirnar/followers",
            "following_url": "https://api.github.com/users/kadirnar/following{/other_user}",
            "gists_url": "https://api.github.com/users/kadirnar/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kadirnar/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kadirnar/subscriptions",
            "organizations_url": "https://api.github.com/users/kadirnar/orgs",
            "repos_url": "https://api.github.com/users/kadirnar/repos",
            "events_url": "https://api.github.com/users/kadirnar/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kadirnar/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-03T11:48:44Z",
          "updated_at": "2024-05-03T11:48:44Z",
          "author_association": "CONTRIBUTOR",
          "body": "It works when you set the parameter to \"sdpa\".\r\n\r\n```python\r\nattn_implementation=\"flash_attention_2\"\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2092843849/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2092905099",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-2092905099",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 2092905099,
          "node_id": "IC_kwDOCUB6oc58vzKL",
          "user": {
            "login": "mobicham",
            "id": 37179323,
            "node_id": "MDQ6VXNlcjM3MTc5MzIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/37179323?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mobicham",
            "html_url": "https://github.com/mobicham",
            "followers_url": "https://api.github.com/users/mobicham/followers",
            "following_url": "https://api.github.com/users/mobicham/following{/other_user}",
            "gists_url": "https://api.github.com/users/mobicham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mobicham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mobicham/subscriptions",
            "organizations_url": "https://api.github.com/users/mobicham/orgs",
            "repos_url": "https://api.github.com/users/mobicham/repos",
            "events_url": "https://api.github.com/users/mobicham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mobicham/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-03T12:18:52Z",
          "updated_at": "2024-05-03T12:18:52Z",
          "author_association": "CONTRIBUTOR",
          "body": "@kadirnar that's not related to hqq. Flash attention only works with fp16/bfp16 as the error says, try `torch_dtype=torch.float16` when you load your model.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2092905099/reactions",
            "total_count": 2,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2093932584",
          "html_url": "https://github.com/huggingface/transformers/pull/29637#issuecomment-2093932584",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/29637",
          "id": 2093932584,
          "node_id": "IC_kwDOCUB6oc58zuAo",
          "user": {
            "login": "kadirnar",
            "id": 36204372,
            "node_id": "MDQ6VXNlcjM2MjA0Mzcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/36204372?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kadirnar",
            "html_url": "https://github.com/kadirnar",
            "followers_url": "https://api.github.com/users/kadirnar/followers",
            "following_url": "https://api.github.com/users/kadirnar/following{/other_user}",
            "gists_url": "https://api.github.com/users/kadirnar/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kadirnar/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kadirnar/subscriptions",
            "organizations_url": "https://api.github.com/users/kadirnar/orgs",
            "repos_url": "https://api.github.com/users/kadirnar/repos",
            "events_url": "https://api.github.com/users/kadirnar/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kadirnar/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-05-04T01:01:48Z",
          "updated_at": "2024-05-04T01:01:48Z",
          "author_association": "CONTRIBUTOR",
          "body": "@mobicham \r\nThank you for your help.  I tested hqq and 4bit method separately. Just 1 second faster and the amount of vram is the same. Where am I making a mistake?\r\n\r\n```python\r\nhqq_config  = HqqConfig(\r\n    nbits=1,\r\n    group_size=64,\r\n    quant_zero=False,\r\n    quant_scale=False, axis=0) #axis=0 is used by default\r\n\r\n\r\nbnb_config = BitsAndBytesConfig(\r\n    load_in_4bit=True,\r\n    bnb_4bit_quant_type=\"nf4\",\r\n    bnb_4bit_compute_dtype=torch.bfloat16,\r\n    bnb_4bit_use_double_quant=True,\r\n)\r\n```\r\n\r\nLoad-Model:\r\n\r\n```python\r\n  def load_model(self, model_id: str = \"openai/whisper-large-v3\", quant_config=None):\r\n      model = AutoModelForSpeechSeq2Seq.from_pretrained(\r\n          model_id,\r\n          quantization_config=quant_config,\r\n          low_cpu_mem_usage=True,\r\n          use_safetensors=True,\r\n          attn_implementation=\"flash_attention_2\",\r\n          torch_dtype=torch.float16,\r\n          device_map='auto',\r\n          max_memory={0: \"24GiB\"}\r\n      )\r\n      logging.info(\"Model loaded successfully.\")\r\n\r\n      processor = AutoProcessor.from_pretrained(model_id)\r\n\r\n      self.processor = processor\r\n      self.model = model\r\n```\r\n\r\n<img width=\"783\" alt=\"image\" src=\"https://github.com/huggingface/transformers/assets/36204372/d6a81033-603e-462d-810d-6309e4c841cf\">\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/2093932584/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/17826",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/17826/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/17826/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/17826/events",
      "html_url": "https://github.com/huggingface/transformers/pull/17826",
      "id": 1280629645,
      "node_id": "PR_kwDOCUB6oc46JZa5",
      "number": 17826,
      "title": "Add Jukebox model (replaces #16875)",
      "user": {
        "login": "ArthurZucker",
        "id": 48595927,
        "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ArthurZucker",
        "html_url": "https://github.com/ArthurZucker",
        "followers_url": "https://api.github.com/users/ArthurZucker/followers",
        "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
        "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
        "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
        "repos_url": "https://api.github.com/users/ArthurZucker/repos",
        "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1843244711,
          "node_id": "MDU6TGFiZWwxODQzMjQ0NzEx",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/New%20model",
          "name": "New model",
          "color": "fbca04",
          "default": false,
          "description": ""
        },
        {
          "id": 2796628563,
          "node_id": "MDU6TGFiZWwyNzk2NjI4NTYz",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/WIP",
          "name": "WIP",
          "color": "234C99",
          "default": false,
          "description": "Label your PR/Issue with WIP for some long outstanding Issues/PRs that are work in progress"
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": {
        "login": "ArthurZucker",
        "id": 48595927,
        "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ArthurZucker",
        "html_url": "https://github.com/ArthurZucker",
        "followers_url": "https://api.github.com/users/ArthurZucker/followers",
        "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
        "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
        "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
        "repos_url": "https://api.github.com/users/ArthurZucker/repos",
        "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "assignees": [
        {
          "login": "ArthurZucker",
          "id": 48595927,
          "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
          "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ArthurZucker",
          "html_url": "https://github.com/ArthurZucker",
          "followers_url": "https://api.github.com/users/ArthurZucker/followers",
          "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
          "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
          "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
          "repos_url": "https://api.github.com/users/ArthurZucker/repos",
          "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        }
      ],
      "milestone": null,
      "comments": 11,
      "created_at": "2022-06-22T17:43:08Z",
      "updated_at": "2022-11-10T20:05:28Z",
      "closed_at": "2022-11-10T20:05:28Z",
      "author_association": "COLLABORATOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/17826",
        "html_url": "https://github.com/huggingface/transformers/pull/17826",
        "diff_url": "https://github.com/huggingface/transformers/pull/17826.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/17826.patch",
        "merged_at": "2022-11-10T20:05:28Z"
      },
      "body": "This is a draft pull request. \n\n# What does this PR do?\nThis PR will progressively add the [Jukebox](https://openai.com/blog/jukebox/) model to the hub.\nIt is linked to [#16870](https://github.com/huggingface/transformers/issues/16870). \n\n# Currently planned steps (WIP)\n\n- [x]  Create template files with `transformeres-cli add-new-model-like`\n- [x] `src/transformers/tokenization_jukebox.py`\n- [x]  `src/transformers/test_tokenization_jukebox.py`\n- [x]  `src/transformers/configuration_jukebox.py`\n- [x]  `src/transformers/modeling_jukebox.py`\n- [x]  `src/transformers/configuration_jukebox.py`\n- [x]  `docs/source/model_doc/jukebox.rst`\n- [ ] `src/transformers/tokenization_jukebox_fast.py` (will most probably use WordLevel tokenizer). Also requires to implement a converter function `class JukeboxConverter(Converter):`\n\n",
      "closed_by": {
        "login": "ArthurZucker",
        "id": 48595927,
        "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ArthurZucker",
        "html_url": "https://github.com/ArthurZucker",
        "followers_url": "https://api.github.com/users/ArthurZucker/followers",
        "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
        "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
        "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
        "repos_url": "https://api.github.com/users/ArthurZucker/repos",
        "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/17826/reactions",
        "total_count": 1,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 1
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/17826/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1163428521",
          "html_url": "https://github.com/huggingface/transformers/pull/17826#issuecomment-1163428521",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17826",
          "id": 1163428521,
          "node_id": "IC_kwDOCUB6oc5FWIKp",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-06-22T17:44:50Z",
          "updated_at": "2022-06-22T17:44:50Z",
          "author_association": "COLLABORATOR",
          "body": "Replaces (#16875) ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1163428521/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1164394579",
          "html_url": "https://github.com/huggingface/transformers/pull/17826#issuecomment-1164394579",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17826",
          "id": 1164394579,
          "node_id": "IC_kwDOCUB6oc5FZ0BT",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-06-23T13:14:46Z",
          "updated_at": "2022-06-23T13:14:46Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_17826). All of your documentation changes will be reflected on that endpoint.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1164394579/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1178660868",
          "html_url": "https://github.com/huggingface/transformers/pull/17826#issuecomment-1178660868",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17826",
          "id": 1178660868,
          "node_id": "IC_kwDOCUB6oc5GQPAE",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-07-08T07:39:07Z",
          "updated_at": "2022-07-08T07:39:07Z",
          "author_association": "COLLABORATOR",
          "body": "Okay, the `1b lyrics` and `5b lyrics` match the original code. Just need refactoring to have better variable names and wrap the sampling kwargs for easy use. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1178660868/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1232861079",
          "html_url": "https://github.com/huggingface/transformers/pull/17826#issuecomment-1232861079",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17826",
          "id": 1232861079,
          "node_id": "IC_kwDOCUB6oc5Je_eX",
          "user": {
            "login": "patrickvonplaten",
            "id": 23423619,
            "node_id": "MDQ6VXNlcjIzNDIzNjE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/23423619?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patrickvonplaten",
            "html_url": "https://github.com/patrickvonplaten",
            "followers_url": "https://api.github.com/users/patrickvonplaten/followers",
            "following_url": "https://api.github.com/users/patrickvonplaten/following{/other_user}",
            "gists_url": "https://api.github.com/users/patrickvonplaten/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patrickvonplaten/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patrickvonplaten/subscriptions",
            "organizations_url": "https://api.github.com/users/patrickvonplaten/orgs",
            "repos_url": "https://api.github.com/users/patrickvonplaten/repos",
            "events_url": "https://api.github.com/users/patrickvonplaten/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patrickvonplaten/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-08-31T12:17:52Z",
          "updated_at": "2022-08-31T12:17:52Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ArthurZucker let me know when this is ready for the final review",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1232861079/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 1
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1285846015",
          "html_url": "https://github.com/huggingface/transformers/pull/17826#issuecomment-1285846015",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17826",
          "id": 1285846015,
          "node_id": "IC_kwDOCUB6oc5MpHP_",
          "user": {
            "login": "patrickvonplaten",
            "id": 23423619,
            "node_id": "MDQ6VXNlcjIzNDIzNjE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/23423619?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patrickvonplaten",
            "html_url": "https://github.com/patrickvonplaten",
            "followers_url": "https://api.github.com/users/patrickvonplaten/followers",
            "following_url": "https://api.github.com/users/patrickvonplaten/following{/other_user}",
            "gists_url": "https://api.github.com/users/patrickvonplaten/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patrickvonplaten/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patrickvonplaten/subscriptions",
            "organizations_url": "https://api.github.com/users/patrickvonplaten/orgs",
            "repos_url": "https://api.github.com/users/patrickvonplaten/repos",
            "events_url": "https://api.github.com/users/patrickvonplaten/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patrickvonplaten/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-10-20T16:33:06Z",
          "updated_at": "2022-10-20T16:33:06Z",
          "author_association": "CONTRIBUTOR",
          "body": "@ArthurZucker do you want to let me know once you want to have a final review? Let's try to not let it hang around for too long",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1285846015/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1287237513",
          "html_url": "https://github.com/huggingface/transformers/pull/17826#issuecomment-1287237513",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17826",
          "id": 1287237513,
          "node_id": "IC_kwDOCUB6oc5Mua-J",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-10-21T17:18:26Z",
          "updated_at": "2022-10-21T17:18:26Z",
          "author_association": "COLLABORATOR",
          "body": "Apart from the `kwargs` I think it is done! @patrickvonplaten  feel free to review",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1287237513/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1301902632",
          "html_url": "https://github.com/huggingface/transformers/pull/17826#issuecomment-1301902632",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17826",
          "id": 1301902632,
          "node_id": "IC_kwDOCUB6oc5NmXUo",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-11-03T10:30:57Z",
          "updated_at": "2022-11-03T10:30:57Z",
          "author_association": "COLLABORATOR",
          "body": "Slow tests are now passing, the only issue left to attend is the memory. The slow tests need a lot of RAM, and running inference with the model should also automatically send the unused `Priors` and `VQVAE` to the `cpu`. \r\n\r\nThe documentation and models will be ready soon.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1301902632/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1308984405",
          "html_url": "https://github.com/huggingface/transformers/pull/17826#issuecomment-1308984405",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17826",
          "id": 1308984405,
          "node_id": "IC_kwDOCUB6oc5OBYRV",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-11-09T16:03:13Z",
          "updated_at": "2022-11-09T16:03:13Z",
          "author_association": "COLLABORATOR",
          "body": "As it was previously requested, you can now instantiate `JukeboxVQVAE` and `JukeboxPrior` individually. This is convenient if people only want to use the VQVAE or generate form juste the top level prior. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1308984405/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1310292680",
          "html_url": "https://github.com/huggingface/transformers/pull/17826#issuecomment-1310292680",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17826",
          "id": 1310292680,
          "node_id": "IC_kwDOCUB6oc5OGXrI",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-11-10T13:36:48Z",
          "updated_at": "2022-11-10T13:36:48Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_17826). All of your documentation changes will be reflected on that endpoint.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1310292680/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1310732889",
          "html_url": "https://github.com/huggingface/transformers/pull/17826#issuecomment-1310732889",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17826",
          "id": 1310732889,
          "node_id": "IC_kwDOCUB6oc5OIDJZ",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-11-10T18:30:14Z",
          "updated_at": "2022-11-10T18:30:14Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_17826). All of your documentation changes will be reflected on that endpoint.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1310732889/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1310797145",
          "html_url": "https://github.com/huggingface/transformers/pull/17826#issuecomment-1310797145",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/17826",
          "id": 1310797145,
          "node_id": "IC_kwDOCUB6oc5OIS1Z",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-11-10T19:30:21Z",
          "updated_at": "2022-11-10T19:30:21Z",
          "author_association": "NONE",
          "body": "The docs for this PR live [here](https://moon-ci-docs.huggingface.co/docs/transformers/pr_17826). All of your documentation changes will be reflected on that endpoint.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1310797145/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/19166",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/19166/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/19166/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/19166/events",
      "html_url": "https://github.com/huggingface/transformers/pull/19166",
      "id": 1383411739,
      "node_id": "PR_kwDOCUB6oc4_enMx",
      "number": 19166,
      "title": "Add WhisperModel to transformers",
      "user": {
        "login": "ArthurZucker",
        "id": 48595927,
        "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ArthurZucker",
        "html_url": "https://github.com/ArthurZucker",
        "followers_url": "https://api.github.com/users/ArthurZucker/followers",
        "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
        "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
        "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
        "repos_url": "https://api.github.com/users/ArthurZucker/repos",
        "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 1843244711,
          "node_id": "MDU6TGFiZWwxODQzMjQ0NzEx",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/New%20model",
          "name": "New model",
          "color": "fbca04",
          "default": false,
          "description": ""
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": {
        "login": "ArthurZucker",
        "id": 48595927,
        "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ArthurZucker",
        "html_url": "https://github.com/ArthurZucker",
        "followers_url": "https://api.github.com/users/ArthurZucker/followers",
        "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
        "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
        "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
        "repos_url": "https://api.github.com/users/ArthurZucker/repos",
        "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "assignees": [
        {
          "login": "ArthurZucker",
          "id": 48595927,
          "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
          "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/ArthurZucker",
          "html_url": "https://github.com/ArthurZucker",
          "followers_url": "https://api.github.com/users/ArthurZucker/followers",
          "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
          "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
          "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
          "repos_url": "https://api.github.com/users/ArthurZucker/repos",
          "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
          "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        }
      ],
      "milestone": null,
      "comments": 12,
      "created_at": "2022-09-23T07:38:25Z",
      "updated_at": "2022-10-05T20:47:48Z",
      "closed_at": "2022-10-05T20:28:32Z",
      "author_association": "COLLABORATOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/19166",
        "html_url": "https://github.com/huggingface/transformers/pull/19166",
        "diff_url": "https://github.com/huggingface/transformers/pull/19166.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/19166.patch",
        "merged_at": "2022-10-05T20:28:32Z"
      },
      "body": "# What does this PR do?\r\nAdds Whisper to transformers\r\n",
      "closed_by": {
        "login": "patrickvonplaten",
        "id": 23423619,
        "node_id": "MDQ6VXNlcjIzNDIzNjE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/23423619?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/patrickvonplaten",
        "html_url": "https://github.com/patrickvonplaten",
        "followers_url": "https://api.github.com/users/patrickvonplaten/followers",
        "following_url": "https://api.github.com/users/patrickvonplaten/following{/other_user}",
        "gists_url": "https://api.github.com/users/patrickvonplaten/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/patrickvonplaten/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/patrickvonplaten/subscriptions",
        "organizations_url": "https://api.github.com/users/patrickvonplaten/orgs",
        "repos_url": "https://api.github.com/users/patrickvonplaten/repos",
        "events_url": "https://api.github.com/users/patrickvonplaten/events{/privacy}",
        "received_events_url": "https://api.github.com/users/patrickvonplaten/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/19166/reactions",
        "total_count": 20,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 6,
        "confused": 0,
        "heart": 5,
        "rocket": 9,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/19166/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1257853592",
          "html_url": "https://github.com/huggingface/transformers/pull/19166#issuecomment-1257853592",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/19166",
          "id": 1257853592,
          "node_id": "IC_kwDOCUB6oc5K-VKY",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-09-26T10:56:54Z",
          "updated_at": "2022-10-05T20:30:52Z",
          "author_association": "NONE",
          "body": "_The documentation is not available anymore as the PR was closed or merged._",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1257853592/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1258717601",
          "html_url": "https://github.com/huggingface/transformers/pull/19166#issuecomment-1258717601",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/19166",
          "id": 1258717601,
          "node_id": "IC_kwDOCUB6oc5LBoGh",
          "user": {
            "login": "patrickvonplaten",
            "id": 23423619,
            "node_id": "MDQ6VXNlcjIzNDIzNjE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/23423619?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patrickvonplaten",
            "html_url": "https://github.com/patrickvonplaten",
            "followers_url": "https://api.github.com/users/patrickvonplaten/followers",
            "following_url": "https://api.github.com/users/patrickvonplaten/following{/other_user}",
            "gists_url": "https://api.github.com/users/patrickvonplaten/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patrickvonplaten/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patrickvonplaten/subscriptions",
            "organizations_url": "https://api.github.com/users/patrickvonplaten/orgs",
            "repos_url": "https://api.github.com/users/patrickvonplaten/repos",
            "events_url": "https://api.github.com/users/patrickvonplaten/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patrickvonplaten/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-09-26T22:34:18Z",
          "updated_at": "2022-09-26T22:34:18Z",
          "author_association": "CONTRIBUTOR",
          "body": "Going forward, let's check generation with:\r\n```python\r\n#!/usr/bin/env python3\r\nimport whisper\r\nimport jiwer\r\nimport numpy as np\r\nimport torch\r\nfrom datasets import load_dataset\r\nfrom transformers import WhisperForConditionalGeneration, WhisperProcessor, WhisperTokenizer\r\nfrom whisper.normalizers import EnglishTextNormalizer\r\n\r\nnormalizer = EnglishTextNormalizer()\r\n\r\n\r\nmodel = WhisperForConditionalGeneration.from_pretrained(\"openai/whisper-base.en\")\r\nprocessor = WhisperProcessor.from_pretrained(\"openai/whisper-base.en\")\r\n\r\ndevice = \"cuda\"\r\nmodel = model.to(device).eval()\r\n\r\n\r\ndef map_fn(batch):\r\n    arrays = [x[\"array\"] for x in batch[\"audio\"]]\r\n\r\n    # -> here is a bug\r\n    input_features = processor.feature_extractor(arrays, padding=\"max_length\", max_length=480_000, return_tensors=\"pt\").input_features\r\n    input_features = input_features.to(device)\r\n\r\n    model.config.use_cache = False\r\n    sequences = model.generate(input_features, max_length=224, forced_bos_token_id=50362, decoder_start_token_id=50257)\r\n    results = processor.tokenizer.batch_decode(sequences, skip_special_tokens=True)\r\n\r\n    batch[\"hypotheses\"] = [normalizer(result) for result in results]\r\n    batch[\"reference\"] = [normalizer(text) for text in batch[\"text\"]]\r\n    return batch\r\n\r\n\r\nds = load_dataset(\"hf-internal-testing/librispeech_asr_dummy\", \"clean\", split=\"validation\")\r\nds = ds.map(map_fn, batch_size=16, remove_columns=ds.column_names, batched=True)\r\n\r\nwer = jiwer.wer(list(ds[\"reference\"]), list(ds[\"hypotheses\"]))\r\nprint(\"Wer\", wer)\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1258717601/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1263358018",
          "html_url": "https://github.com/huggingface/transformers/pull/19166#issuecomment-1263358018",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/19166",
          "id": 1263358018,
          "node_id": "IC_kwDOCUB6oc5LTVBC",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-09-30T09:51:31Z",
          "updated_at": "2022-09-30T09:51:31Z",
          "author_association": "COLLABORATOR",
          "body": "Failing tests are related to the `RAG` model that re-uses the generate function.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1263358018/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1263497835",
          "html_url": "https://github.com/huggingface/transformers/pull/19166#issuecomment-1263497835",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/19166",
          "id": 1263497835,
          "node_id": "IC_kwDOCUB6oc5LT3Jr",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-09-30T12:15:56Z",
          "updated_at": "2022-09-30T12:15:56Z",
          "author_association": "COLLABORATOR",
          "body": "Ready I think @patrickvonplaten ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1263497835/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1265483606",
          "html_url": "https://github.com/huggingface/transformers/pull/19166#issuecomment-1265483606",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/19166",
          "id": 1265483606,
          "node_id": "IC_kwDOCUB6oc5Lbb9W",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-10-03T13:57:09Z",
          "updated_at": "2022-10-03T13:57:09Z",
          "author_association": "COLLABORATOR",
          "body": "Hey @patrickvonplaten and @sgugger the PR is ready for a final review! \ud83e\udd17 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1265483606/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1266023854",
          "html_url": "https://github.com/huggingface/transformers/pull/19166#issuecomment-1266023854",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/19166",
          "id": 1266023854,
          "node_id": "IC_kwDOCUB6oc5Ldf2u",
          "user": {
            "login": "patrickvonplaten",
            "id": 23423619,
            "node_id": "MDQ6VXNlcjIzNDIzNjE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/23423619?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patrickvonplaten",
            "html_url": "https://github.com/patrickvonplaten",
            "followers_url": "https://api.github.com/users/patrickvonplaten/followers",
            "following_url": "https://api.github.com/users/patrickvonplaten/following{/other_user}",
            "gists_url": "https://api.github.com/users/patrickvonplaten/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patrickvonplaten/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patrickvonplaten/subscriptions",
            "organizations_url": "https://api.github.com/users/patrickvonplaten/orgs",
            "repos_url": "https://api.github.com/users/patrickvonplaten/repos",
            "events_url": "https://api.github.com/users/patrickvonplaten/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patrickvonplaten/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-10-03T20:42:21Z",
          "updated_at": "2022-10-03T20:42:21Z",
          "author_association": "CONTRIBUTOR",
          "body": "Could we also add a script that runs each checkpoint in a 5-linear as discussed on Slack here?\r\nThese code snippets could then be added to the respective model cards",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1266023854/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1267598896",
          "html_url": "https://github.com/huggingface/transformers/pull/19166#issuecomment-1267598896",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/19166",
          "id": 1267598896,
          "node_id": "IC_kwDOCUB6oc5LjgYw",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-10-04T21:30:07Z",
          "updated_at": "2022-10-05T13:23:29Z",
          "author_association": "COLLABORATOR",
          "body": "Okay, so here is a simple example : \r\n\r\n```python\r\n>>> model = WhisperForConditionalGeneration.from_pretrained(f\"openai/whisper-large\")\r\n>>> processor = WhisperProcessor.from_pretrained(f\"openai/whisper-large\")\r\n\r\n>>> ds = load_dataset(\"common_voice\", \"ja\", split=\"test\", streaming=True)\r\n>>> ds = ds.cast_column(\"audio\", datasets.Audio(sampling_rate=16_000))\r\n>>> ds_iter = iter(ds)\r\n>>> input_speech = next(ds_iter)[\"audio\"][\"array\"]\r\n>>> inputs = processor(input_speech, return_tensors = \"pt\")\r\n\r\n>>> predicted_ids = model.generate(**inputs)\r\n>>> processor.tokenizer.batch_decode(predicted_ids, skip_special_tokens=True, normalize = True)[0]\r\n'i borrowed a phone from kimura san'\r\n\r\n>>> forced_decoder_ids = processor.get_decoder_prompt_ids(language = \"ja\", task = \"transcribe\")\r\n>>> predicted_ids = model.generate(**inputs, forced_decoder_ids=forced_decoder_ids)\r\n>>> processor.tokenizer.batch_decode(predicted_ids, skip_special_tokens=True)[0]\r\n\"\u6728\u6751\u3055\u3093\u306b\u96fb\u8a71\u3092\u8cb8\u3057\u3066\u3082\u3089\u3044\u307e\u3057\u305f\"\r\n\r\n>>> forced_decoder_ids = processor.get_decoder_prompt_ids(language = \"en\", task = \"transcribe\")\r\n>>> predicted_ids = model.generate(**inputs, forced_decoder_ids=forced_decoder_ids)\r\n>>> processor.tokenizer.batch_decode(predicted_ids, skip_special_tokens=True)[0]\r\n' Kimura san ni denwa wo kaite moraimashita'\r\n```",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1267598896/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1268595263",
          "html_url": "https://github.com/huggingface/transformers/pull/19166#issuecomment-1268595263",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/19166",
          "id": 1268595263,
          "node_id": "IC_kwDOCUB6oc5LnTo_",
          "user": {
            "login": "patrickvonplaten",
            "id": 23423619,
            "node_id": "MDQ6VXNlcjIzNDIzNjE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/23423619?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patrickvonplaten",
            "html_url": "https://github.com/patrickvonplaten",
            "followers_url": "https://api.github.com/users/patrickvonplaten/followers",
            "following_url": "https://api.github.com/users/patrickvonplaten/following{/other_user}",
            "gists_url": "https://api.github.com/users/patrickvonplaten/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patrickvonplaten/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patrickvonplaten/subscriptions",
            "organizations_url": "https://api.github.com/users/patrickvonplaten/orgs",
            "repos_url": "https://api.github.com/users/patrickvonplaten/repos",
            "events_url": "https://api.github.com/users/patrickvonplaten/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patrickvonplaten/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-10-05T15:25:59Z",
          "updated_at": "2022-10-05T15:25:59Z",
          "author_association": "CONTRIBUTOR",
          "body": "2 final things:\r\n\r\n- Add 2 tests for batched generation\r\n- Make sure the tokenizer has a pad_token_id => it should be identical to the eos_token_id since there is no official one. We don't want to trigger a warning every time we run generation in batch\r\n- Also make sure that `config.pad_token_id` is correctly set.\r\n\r\ncc @sanchit-gandhi we have to remember this when doing fine-tuning experiments! Whisper has `pad_token_id == eos_token_id` which means that during training we need to make sure in our general training scripts that we don't replace the `eos_token_id` with `-100` and thus ignore it in the loss. Instead we should only replace the \"not-first\" pad_token_id with `-100` (we have the same for GPT2 BTW) ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1268595263/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1268607625",
          "html_url": "https://github.com/huggingface/transformers/pull/19166#issuecomment-1268607625",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/19166",
          "id": 1268607625,
          "node_id": "IC_kwDOCUB6oc5LnWqJ",
          "user": {
            "login": "ArtyomZemlyak",
            "id": 42967602,
            "node_id": "MDQ6VXNlcjQyOTY3NjAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/42967602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArtyomZemlyak",
            "html_url": "https://github.com/ArtyomZemlyak",
            "followers_url": "https://api.github.com/users/ArtyomZemlyak/followers",
            "following_url": "https://api.github.com/users/ArtyomZemlyak/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArtyomZemlyak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArtyomZemlyak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArtyomZemlyak/subscriptions",
            "organizations_url": "https://api.github.com/users/ArtyomZemlyak/orgs",
            "repos_url": "https://api.github.com/users/ArtyomZemlyak/repos",
            "events_url": "https://api.github.com/users/ArtyomZemlyak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArtyomZemlyak/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-10-05T15:39:20Z",
          "updated_at": "2022-10-05T15:39:20Z",
          "author_association": "NONE",
          "body": "Hello!\r\nI apologize for interrupting the development process. But I'm following this thread, because I'm really looking forward to the Whisper at HF, and here I also see words about fine tuning. It will be very cool if you can make good fine tuning and code examples!\r\n\r\nI myself am already trying to finetune in different ways, but so far the model is only being unlearned.\r\n\r\nIn any case, thanks for your work and good luck! \u2764\ufe0f ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1268607625/reactions",
            "total_count": 5,
            "+1": 0,
            "-1": 0,
            "laugh": 1,
            "hooray": 0,
            "confused": 0,
            "heart": 4,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1268667197",
          "html_url": "https://github.com/huggingface/transformers/pull/19166#issuecomment-1268667197",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/19166",
          "id": 1268667197,
          "node_id": "IC_kwDOCUB6oc5LnlM9",
          "user": {
            "login": "patrickvonplaten",
            "id": 23423619,
            "node_id": "MDQ6VXNlcjIzNDIzNjE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/23423619?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patrickvonplaten",
            "html_url": "https://github.com/patrickvonplaten",
            "followers_url": "https://api.github.com/users/patrickvonplaten/followers",
            "following_url": "https://api.github.com/users/patrickvonplaten/following{/other_user}",
            "gists_url": "https://api.github.com/users/patrickvonplaten/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patrickvonplaten/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patrickvonplaten/subscriptions",
            "organizations_url": "https://api.github.com/users/patrickvonplaten/orgs",
            "repos_url": "https://api.github.com/users/patrickvonplaten/repos",
            "events_url": "https://api.github.com/users/patrickvonplaten/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patrickvonplaten/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-10-05T16:33:14Z",
          "updated_at": "2022-10-05T16:33:54Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Hello! I apologize for interrupting the development process. But I'm following this thread, because I'm really looking forward to the Whisper at HF, and here I also see words about fine tuning. It will be very cool if you can make good fine tuning and code examples!\r\n> \r\n> I myself am already trying to finetune in different ways, but so far the model is only being unlearned.\r\n> \r\n> In any case, thanks for your work and good luck! heart\r\n\r\nHey @ArtyomZemlyak, \r\n\r\nThis is a major focus of our right now! We've already done some experiments - you can check it here: \r\nhttps://openreview.net/forum?id=9OL2fIfDLK (we've fine-tuned whisper on a bunch of open-source datasets)\r\n\r\nWe hope to have a well-functioning fine-tuning script by early next week (we plan on doing a blog post + google colab)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1268667197/reactions",
            "total_count": 5,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 5,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1268937768",
          "html_url": "https://github.com/huggingface/transformers/pull/19166#issuecomment-1268937768",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/19166",
          "id": 1268937768,
          "node_id": "IC_kwDOCUB6oc5LonQo",
          "user": {
            "login": "patrickvonplaten",
            "id": 23423619,
            "node_id": "MDQ6VXNlcjIzNDIzNjE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/23423619?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patrickvonplaten",
            "html_url": "https://github.com/patrickvonplaten",
            "followers_url": "https://api.github.com/users/patrickvonplaten/followers",
            "following_url": "https://api.github.com/users/patrickvonplaten/following{/other_user}",
            "gists_url": "https://api.github.com/users/patrickvonplaten/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patrickvonplaten/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patrickvonplaten/subscriptions",
            "organizations_url": "https://api.github.com/users/patrickvonplaten/orgs",
            "repos_url": "https://api.github.com/users/patrickvonplaten/repos",
            "events_url": "https://api.github.com/users/patrickvonplaten/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patrickvonplaten/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-10-05T20:28:27Z",
          "updated_at": "2022-10-05T20:28:27Z",
          "author_association": "CONTRIBUTOR",
          "body": "Merging to unblock TF PR",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1268937768/reactions",
            "total_count": 3,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 2,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1268958313",
          "html_url": "https://github.com/huggingface/transformers/pull/19166#issuecomment-1268958313",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/19166",
          "id": 1268958313,
          "node_id": "IC_kwDOCUB6oc5LosRp",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-10-05T20:47:48Z",
          "updated_at": "2022-10-05T20:47:48Z",
          "author_association": "COLLABORATOR",
          "body": "Awesome, sorry for the delay! ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1268958313/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/10534/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/10534/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/10534/events",
      "html_url": "https://github.com/huggingface/transformers/pull/10534",
      "id": 822739024,
      "node_id": "MDExOlB1bGxSZXF1ZXN0NTg1MzE0MjM3",
      "number": 10534,
      "title": "VisualBERT",
      "user": {
        "login": "gchhablani",
        "id": 29076344,
        "node_id": "MDQ6VXNlcjI5MDc2MzQ0",
        "avatar_url": "https://avatars.githubusercontent.com/u/29076344?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gchhablani",
        "html_url": "https://github.com/gchhablani",
        "followers_url": "https://api.github.com/users/gchhablani/followers",
        "following_url": "https://api.github.com/users/gchhablani/following{/other_user}",
        "gists_url": "https://api.github.com/users/gchhablani/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/gchhablani/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gchhablani/subscriptions",
        "organizations_url": "https://api.github.com/users/gchhablani/orgs",
        "repos_url": "https://api.github.com/users/gchhablani/repos",
        "events_url": "https://api.github.com/users/gchhablani/events{/privacy}",
        "received_events_url": "https://api.github.com/users/gchhablani/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 2796628563,
          "node_id": "MDU6TGFiZWwyNzk2NjI4NTYz",
          "url": "https://api.github.com/repos/huggingface/transformers/labels/WIP",
          "name": "WIP",
          "color": "234C99",
          "default": false,
          "description": "Label your PR/Issue with WIP for some long outstanding Issues/PRs that are work in progress"
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 19,
      "created_at": "2021-03-05T04:42:25Z",
      "updated_at": "2021-06-02T13:12:06Z",
      "closed_at": "2021-06-02T12:43:08Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/10534",
        "html_url": "https://github.com/huggingface/transformers/pull/10534",
        "diff_url": "https://github.com/huggingface/transformers/pull/10534.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/10534.patch",
        "merged_at": "2021-06-02T12:43:08Z"
      },
      "body": "This PR adds VisualBERT (See Closed Issue #5095).",
      "closed_by": {
        "login": "patil-suraj",
        "id": 27137566,
        "node_id": "MDQ6VXNlcjI3MTM3NTY2",
        "avatar_url": "https://avatars.githubusercontent.com/u/27137566?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/patil-suraj",
        "html_url": "https://github.com/patil-suraj",
        "followers_url": "https://api.github.com/users/patil-suraj/followers",
        "following_url": "https://api.github.com/users/patil-suraj/following{/other_user}",
        "gists_url": "https://api.github.com/users/patil-suraj/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/patil-suraj/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/patil-suraj/subscriptions",
        "organizations_url": "https://api.github.com/users/patil-suraj/orgs",
        "repos_url": "https://api.github.com/users/patil-suraj/repos",
        "events_url": "https://api.github.com/users/patil-suraj/events{/privacy}",
        "received_events_url": "https://api.github.com/users/patil-suraj/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/10534/reactions",
        "total_count": 4,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 4,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/10534/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/792651344",
          "html_url": "https://github.com/huggingface/transformers/pull/10534#issuecomment-792651344",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
          "id": 792651344,
          "node_id": "MDEyOklzc3VlQ29tbWVudDc5MjY1MTM0NA==",
          "user": {
            "login": "patil-suraj",
            "id": 27137566,
            "node_id": "MDQ6VXNlcjI3MTM3NTY2",
            "avatar_url": "https://avatars.githubusercontent.com/u/27137566?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patil-suraj",
            "html_url": "https://github.com/patil-suraj",
            "followers_url": "https://api.github.com/users/patil-suraj/followers",
            "following_url": "https://api.github.com/users/patil-suraj/following{/other_user}",
            "gists_url": "https://api.github.com/users/patil-suraj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patil-suraj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patil-suraj/subscriptions",
            "organizations_url": "https://api.github.com/users/patil-suraj/orgs",
            "repos_url": "https://api.github.com/users/patil-suraj/repos",
            "events_url": "https://api.github.com/users/patil-suraj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patil-suraj/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-03-08T10:20:45Z",
          "updated_at": "2021-03-08T10:20:45Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @gchhablani \r\n\r\nThis is great! You can ping me if you need any help with this model.\r\n\r\n\r\nAlso, we have now added a step-by-step doc for how to add a model, you can find it here \r\nhttps://huggingface.co/transformers/add_new_model.html\r\n\r\nAlso have a look at the `cookiecutter` tool, which will help you generate lots of boilerplate code.\r\nhttps://github.com/huggingface/transformers/tree/master/templates/adding_a_new_model",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/792651344/reactions",
            "total_count": 2,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/792665288",
          "html_url": "https://github.com/huggingface/transformers/pull/10534#issuecomment-792665288",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
          "id": 792665288,
          "node_id": "MDEyOklzc3VlQ29tbWVudDc5MjY2NTI4OA==",
          "user": {
            "login": "gchhablani",
            "id": 29076344,
            "node_id": "MDQ6VXNlcjI5MDc2MzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/29076344?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gchhablani",
            "html_url": "https://github.com/gchhablani",
            "followers_url": "https://api.github.com/users/gchhablani/followers",
            "following_url": "https://api.github.com/users/gchhablani/following{/other_user}",
            "gists_url": "https://api.github.com/users/gchhablani/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gchhablani/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gchhablani/subscriptions",
            "organizations_url": "https://api.github.com/users/gchhablani/orgs",
            "repos_url": "https://api.github.com/users/gchhablani/repos",
            "events_url": "https://api.github.com/users/gchhablani/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gchhablani/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-03-08T10:43:48Z",
          "updated_at": "2021-03-11T21:54:26Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @patil-suraj\r\n\r\nThanks a lot.\r\n\r\nI wanted to add this model in 2020, but I faced a lot of issues and got busy with some other work. Seems like the code structure has changed quite a bit after that. I'll check the shared links and get back.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/792665288/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/797094798",
          "html_url": "https://github.com/huggingface/transformers/pull/10534#issuecomment-797094798",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
          "id": 797094798,
          "node_id": "MDEyOklzc3VlQ29tbWVudDc5NzA5NDc5OA==",
          "user": {
            "login": "gchhablani",
            "id": 29076344,
            "node_id": "MDQ6VXNlcjI5MDc2MzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/29076344?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gchhablani",
            "html_url": "https://github.com/gchhablani",
            "followers_url": "https://api.github.com/users/gchhablani/followers",
            "following_url": "https://api.github.com/users/gchhablani/following{/other_user}",
            "gists_url": "https://api.github.com/users/gchhablani/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gchhablani/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gchhablani/subscriptions",
            "organizations_url": "https://api.github.com/users/gchhablani/orgs",
            "repos_url": "https://api.github.com/users/gchhablani/repos",
            "events_url": "https://api.github.com/users/gchhablani/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gchhablani/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-03-11T22:33:51Z",
          "updated_at": "2021-03-12T05:49:34Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @patil-suraj,\r\n\r\nI have started adding some code. For comparison, you can see: https://github.com/uclanlp/visualbert/blob/master/pytorch_pretrained_bert/modeling.py.\r\n\r\nPlease look at the `VisualBertEmbeddings` and `VisualBertModel`. I have checked these using dummy tensors. I am adding/fixing other kinds of down-stream models. Please tell me if you think this is going in the right direction, and if there are any things that to need to be kept in mind.\r\n\r\nI skipped testing the original repository for now, they don't have an entry point, and require a bunch of installs for loading /handling the dataset(s) which are huge.\r\n\r\nThere are several different checkpoints, even for the pre-trained models (with different embedding dimensions, etc.). For each we'll have to make a separate checkpoint, I guess.\r\n\r\nIn addition, I was wondering if we want to provide encoder-decoder features (`cross-attention`, `past_key_value`, etc.). I don't think it has been used in the original code, but it will certainly be a nice feature to have in case we have some task in the future which involves generation of text given an image and a text (probably there is something already).\r\n\r\nThanks :)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/797094798/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/799286286",
          "html_url": "https://github.com/huggingface/transformers/pull/10534#issuecomment-799286286",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
          "id": 799286286,
          "node_id": "MDEyOklzc3VlQ29tbWVudDc5OTI4NjI4Ng==",
          "user": {
            "login": "gchhablani",
            "id": 29076344,
            "node_id": "MDQ6VXNlcjI5MDc2MzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/29076344?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gchhablani",
            "html_url": "https://github.com/gchhablani",
            "followers_url": "https://api.github.com/users/gchhablani/followers",
            "following_url": "https://api.github.com/users/gchhablani/following{/other_user}",
            "gists_url": "https://api.github.com/users/gchhablani/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gchhablani/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gchhablani/subscriptions",
            "organizations_url": "https://api.github.com/users/gchhablani/orgs",
            "repos_url": "https://api.github.com/users/gchhablani/repos",
            "events_url": "https://api.github.com/users/gchhablani/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gchhablani/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-03-15T09:59:20Z",
          "updated_at": "2021-03-15T09:59:20Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @patil-suraj\r\n\r\nI would appreciate some feedback :) It'll help me know if I am going in the right direction,\r\n\r\nThanks,\r\nGunjan",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/799286286/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/799288962",
          "html_url": "https://github.com/huggingface/transformers/pull/10534#issuecomment-799288962",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
          "id": 799288962,
          "node_id": "MDEyOklzc3VlQ29tbWVudDc5OTI4ODk2Mg==",
          "user": {
            "login": "patil-suraj",
            "id": 27137566,
            "node_id": "MDQ6VXNlcjI3MTM3NTY2",
            "avatar_url": "https://avatars.githubusercontent.com/u/27137566?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patil-suraj",
            "html_url": "https://github.com/patil-suraj",
            "followers_url": "https://api.github.com/users/patil-suraj/followers",
            "following_url": "https://api.github.com/users/patil-suraj/following{/other_user}",
            "gists_url": "https://api.github.com/users/patil-suraj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patil-suraj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patil-suraj/subscriptions",
            "organizations_url": "https://api.github.com/users/patil-suraj/orgs",
            "repos_url": "https://api.github.com/users/patil-suraj/repos",
            "events_url": "https://api.github.com/users/patil-suraj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patil-suraj/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-03-15T10:02:51Z",
          "updated_at": "2021-03-15T10:02:51Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hey @gchhablani \r\n\r\nI'm thinking about this and will get back to you tomorrow :)",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/799288962/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/819588872",
          "html_url": "https://github.com/huggingface/transformers/pull/10534#issuecomment-819588872",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
          "id": 819588872,
          "node_id": "MDEyOklzc3VlQ29tbWVudDgxOTU4ODg3Mg==",
          "user": {
            "login": "github-actions[bot]",
            "id": 41898282,
            "node_id": "MDM6Qm90NDE4OTgyODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions%5Bbot%5D",
            "html_url": "https://github.com/apps/github-actions",
            "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
            "type": "Bot",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-04-14T15:02:22Z",
          "updated_at": "2021-04-14T15:02:22Z",
          "author_association": "CONTRIBUTOR",
          "body": "This issue has been automatically marked as stale because it has not had recent activity. If you think this still needs to be addressed please comment on this thread.\n\nPlease note that issues that do not follow the [contributing guidelines](https://github.com/huggingface/transformers/blob/master/CONTRIBUTING.md) are likely to be ignored.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/819588872/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/819607078",
          "html_url": "https://github.com/huggingface/transformers/pull/10534#issuecomment-819607078",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
          "id": 819607078,
          "node_id": "MDEyOklzc3VlQ29tbWVudDgxOTYwNzA3OA==",
          "user": {
            "login": "LysandreJik",
            "id": 30755778,
            "node_id": "MDQ6VXNlcjMwNzU1Nzc4",
            "avatar_url": "https://avatars.githubusercontent.com/u/30755778?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/LysandreJik",
            "html_url": "https://github.com/LysandreJik",
            "followers_url": "https://api.github.com/users/LysandreJik/followers",
            "following_url": "https://api.github.com/users/LysandreJik/following{/other_user}",
            "gists_url": "https://api.github.com/users/LysandreJik/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/LysandreJik/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/LysandreJik/subscriptions",
            "organizations_url": "https://api.github.com/users/LysandreJik/orgs",
            "repos_url": "https://api.github.com/users/LysandreJik/repos",
            "events_url": "https://api.github.com/users/LysandreJik/events{/privacy}",
            "received_events_url": "https://api.github.com/users/LysandreJik/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-04-14T15:26:43Z",
          "updated_at": "2021-04-14T15:26:43Z",
          "author_association": "MEMBER",
          "body": "Unstale",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/819607078/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/844607136",
          "html_url": "https://github.com/huggingface/transformers/pull/10534#issuecomment-844607136",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
          "id": 844607136,
          "node_id": "MDEyOklzc3VlQ29tbWVudDg0NDYwNzEzNg==",
          "user": {
            "login": "gchhablani",
            "id": 29076344,
            "node_id": "MDQ6VXNlcjI5MDc2MzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/29076344?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gchhablani",
            "html_url": "https://github.com/gchhablani",
            "followers_url": "https://api.github.com/users/gchhablani/followers",
            "following_url": "https://api.github.com/users/gchhablani/following{/other_user}",
            "gists_url": "https://api.github.com/users/gchhablani/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gchhablani/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gchhablani/subscriptions",
            "organizations_url": "https://api.github.com/users/gchhablani/orgs",
            "repos_url": "https://api.github.com/users/gchhablani/repos",
            "events_url": "https://api.github.com/users/gchhablani/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gchhablani/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-05-20T01:15:55Z",
          "updated_at": "2021-05-20T01:16:30Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @LysandreJik \r\nThanks for reviewing.\r\n\r\nI'll make the suggested changes in a few (4-5) hours.\r\n\r\nThe `position_embeddings_type` is not exactly being used by the authors. They use absolute embeddings. They do have an `embedding_strategy_type` argument but it is unused and kept as `'plain'`.\r\n\r\nYes, almost all of it is copied from BERT. The new additions are the embeddings and the model classes.\r\n\r\nInitially, I did have plans to add actual examples and notebooks initially in the same PR :stuck_out_tongue: I guess I'll work on it now.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/844607136/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/851356295",
          "html_url": "https://github.com/huggingface/transformers/pull/10534#issuecomment-851356295",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
          "id": 851356295,
          "node_id": "MDEyOklzc3VlQ29tbWVudDg1MTM1NjI5NQ==",
          "user": {
            "login": "patil-suraj",
            "id": 27137566,
            "node_id": "MDQ6VXNlcjI3MTM3NTY2",
            "avatar_url": "https://avatars.githubusercontent.com/u/27137566?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patil-suraj",
            "html_url": "https://github.com/patil-suraj",
            "followers_url": "https://api.github.com/users/patil-suraj/followers",
            "following_url": "https://api.github.com/users/patil-suraj/following{/other_user}",
            "gists_url": "https://api.github.com/users/patil-suraj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patil-suraj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patil-suraj/subscriptions",
            "organizations_url": "https://api.github.com/users/patil-suraj/orgs",
            "repos_url": "https://api.github.com/users/patil-suraj/repos",
            "events_url": "https://api.github.com/users/patil-suraj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patil-suraj/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-05-31T09:27:53Z",
          "updated_at": "2021-05-31T09:27:53Z",
          "author_association": "CONTRIBUTOR",
          "body": "@LysandreJik  Do you wanna take a final look?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/851356295/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/852107850",
          "html_url": "https://github.com/huggingface/transformers/pull/10534#issuecomment-852107850",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
          "id": 852107850,
          "node_id": "MDEyOklzc3VlQ29tbWVudDg1MjEwNzg1MA==",
          "user": {
            "login": "gchhablani",
            "id": 29076344,
            "node_id": "MDQ6VXNlcjI5MDc2MzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/29076344?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gchhablani",
            "html_url": "https://github.com/gchhablani",
            "followers_url": "https://api.github.com/users/gchhablani/followers",
            "following_url": "https://api.github.com/users/gchhablani/following{/other_user}",
            "gists_url": "https://api.github.com/users/gchhablani/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gchhablani/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gchhablani/subscriptions",
            "organizations_url": "https://api.github.com/users/gchhablani/orgs",
            "repos_url": "https://api.github.com/users/gchhablani/repos",
            "events_url": "https://api.github.com/users/gchhablani/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gchhablani/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-06-01T13:05:04Z",
          "updated_at": "2021-06-01T14:09:04Z",
          "author_association": "CONTRIBUTOR",
          "body": ":') Thanks a lot for all your help @patil-suraj @LysandreJik @sgugger @patrickvonplaten\r\n\r\nEdit:\r\nI will be working on another PR soon to add more/better examples, and to use the `SimpleDetector` as used by the original authors. Probably will also attempt to create `TF`/`Flax` models.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/852107850/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/852847674",
          "html_url": "https://github.com/huggingface/transformers/pull/10534#issuecomment-852847674",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
          "id": 852847674,
          "node_id": "MDEyOklzc3VlQ29tbWVudDg1Mjg0NzY3NA==",
          "user": {
            "login": "patrickvonplaten",
            "id": 23423619,
            "node_id": "MDQ6VXNlcjIzNDIzNjE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/23423619?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patrickvonplaten",
            "html_url": "https://github.com/patrickvonplaten",
            "followers_url": "https://api.github.com/users/patrickvonplaten/followers",
            "following_url": "https://api.github.com/users/patrickvonplaten/following{/other_user}",
            "gists_url": "https://api.github.com/users/patrickvonplaten/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patrickvonplaten/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patrickvonplaten/subscriptions",
            "organizations_url": "https://api.github.com/users/patrickvonplaten/orgs",
            "repos_url": "https://api.github.com/users/patrickvonplaten/repos",
            "events_url": "https://api.github.com/users/patrickvonplaten/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patrickvonplaten/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-06-02T08:54:42Z",
          "updated_at": "2021-06-02T08:54:42Z",
          "author_association": "CONTRIBUTOR",
          "body": "The PR looks awesome! I still think however that we should add `get_visual_embeddings` with a Processor in this PR to have it complete. @gchhablani @patil-suraj - do you think it would be too time-consuming to add a `VisualBERTFeatureExtractor` here? Just don't really think people will be able to run an example after we merge it at the moment",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/852847674/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 1
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/852855809",
          "html_url": "https://github.com/huggingface/transformers/pull/10534#issuecomment-852855809",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
          "id": 852855809,
          "node_id": "MDEyOklzc3VlQ29tbWVudDg1Mjg1NTgwOQ==",
          "user": {
            "login": "patil-suraj",
            "id": 27137566,
            "node_id": "MDQ6VXNlcjI3MTM3NTY2",
            "avatar_url": "https://avatars.githubusercontent.com/u/27137566?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patil-suraj",
            "html_url": "https://github.com/patil-suraj",
            "followers_url": "https://api.github.com/users/patil-suraj/followers",
            "following_url": "https://api.github.com/users/patil-suraj/following{/other_user}",
            "gists_url": "https://api.github.com/users/patil-suraj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patil-suraj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patil-suraj/subscriptions",
            "organizations_url": "https://api.github.com/users/patil-suraj/orgs",
            "repos_url": "https://api.github.com/users/patil-suraj/repos",
            "events_url": "https://api.github.com/users/patil-suraj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patil-suraj/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-06-02T09:11:30Z",
          "updated_at": "2021-06-02T09:11:30Z",
          "author_association": "CONTRIBUTOR",
          "body": "@patrickvonplaten  here `visual_embeddings` comes from a cnn backbone (ResNet) or object detection model. So I don't think\r\n we can add `VisualBERTFeatureExtractor`. The plan is to add the cnn model and a demo notebook in `research_projects` dir in a follow-up a PR.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/852855809/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/852934931",
          "html_url": "https://github.com/huggingface/transformers/pull/10534#issuecomment-852934931",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
          "id": 852934931,
          "node_id": "MDEyOklzc3VlQ29tbWVudDg1MjkzNDkzMQ==",
          "user": {
            "login": "patrickvonplaten",
            "id": 23423619,
            "node_id": "MDQ6VXNlcjIzNDIzNjE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/23423619?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patrickvonplaten",
            "html_url": "https://github.com/patrickvonplaten",
            "followers_url": "https://api.github.com/users/patrickvonplaten/followers",
            "following_url": "https://api.github.com/users/patrickvonplaten/following{/other_user}",
            "gists_url": "https://api.github.com/users/patrickvonplaten/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patrickvonplaten/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patrickvonplaten/subscriptions",
            "organizations_url": "https://api.github.com/users/patrickvonplaten/orgs",
            "repos_url": "https://api.github.com/users/patrickvonplaten/repos",
            "events_url": "https://api.github.com/users/patrickvonplaten/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patrickvonplaten/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-06-02T11:06:21Z",
          "updated_at": "2021-06-02T11:06:21Z",
          "author_association": "CONTRIBUTOR",
          "body": "> @patrickvonplaten here `visual_embeddings` comes from a cnn backbone (ResNet) or object detection model. So I don't think\r\n> we can add `VisualBERTFeatureExtractor`. The plan is to add the cnn model and a demo notebook in `research_projects` dir in a follow-up a PR.\r\n\r\nOk! Do we have another model that could give us those embeddings? ViT maybe?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/852934931/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/852940482",
          "html_url": "https://github.com/huggingface/transformers/pull/10534#issuecomment-852940482",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
          "id": 852940482,
          "node_id": "MDEyOklzc3VlQ29tbWVudDg1Mjk0MDQ4Mg==",
          "user": {
            "login": "gchhablani",
            "id": 29076344,
            "node_id": "MDQ6VXNlcjI5MDc2MzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/29076344?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gchhablani",
            "html_url": "https://github.com/gchhablani",
            "followers_url": "https://api.github.com/users/gchhablani/followers",
            "following_url": "https://api.github.com/users/gchhablani/following{/other_user}",
            "gists_url": "https://api.github.com/users/gchhablani/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gchhablani/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gchhablani/subscriptions",
            "organizations_url": "https://api.github.com/users/gchhablani/orgs",
            "repos_url": "https://api.github.com/users/gchhablani/repos",
            "events_url": "https://api.github.com/users/gchhablani/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gchhablani/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-06-02T11:15:01Z",
          "updated_at": "2021-06-02T11:29:03Z",
          "author_association": "CONTRIBUTOR",
          "body": "@patrickvonplaten, I am not sure about ViT as I haven't used or read about it yet. The VisualBERT authors used Detectron-based (MaskRCNN with FPN-ResNet-101 backbone) features for 3 out of 4 tasks. Each \"token\" is actually an object detected and the token features/embeddings from the detectron classifier layer. In case of VCR task, they use a ResNet on given box coordinates. \r\n\r\nUnless ViT has/is an extractor similar to this, if we could use ViT, it'd be very different from the original and might not work with the provided pre-trained weights. :/\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/852940482/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/852948384",
          "html_url": "https://github.com/huggingface/transformers/pull/10534#issuecomment-852948384",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
          "id": 852948384,
          "node_id": "MDEyOklzc3VlQ29tbWVudDg1Mjk0ODM4NA==",
          "user": {
            "login": "gchhablani",
            "id": 29076344,
            "node_id": "MDQ6VXNlcjI5MDc2MzQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/29076344?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gchhablani",
            "html_url": "https://github.com/gchhablani",
            "followers_url": "https://api.github.com/users/gchhablani/followers",
            "following_url": "https://api.github.com/users/gchhablani/following{/other_user}",
            "gists_url": "https://api.github.com/users/gchhablani/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gchhablani/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gchhablani/subscriptions",
            "organizations_url": "https://api.github.com/users/gchhablani/orgs",
            "repos_url": "https://api.github.com/users/gchhablani/repos",
            "events_url": "https://api.github.com/users/gchhablani/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gchhablani/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-06-02T11:28:14Z",
          "updated_at": "2021-06-02T11:46:05Z",
          "author_association": "CONTRIBUTOR",
          "body": "Adding a common Fast/Faster/MaskRCNN feature extractor, however, will help with LXMERT/VisualBERT and other models I'm planning to contribute in the future - ViLBERT (#11986), VL-BERT, (and possibly MCAN). \r\n\r\n**Edit**: There's already an example for LXMERT: https://github.com/huggingface/transformers/blob/master/examples/research_projects/lxmert/modeling_frcnn.py which I'll build upon.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/852948384/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/852982437",
          "html_url": "https://github.com/huggingface/transformers/pull/10534#issuecomment-852982437",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
          "id": 852982437,
          "node_id": "MDEyOklzc3VlQ29tbWVudDg1Mjk4MjQzNw==",
          "user": {
            "login": "patrickvonplaten",
            "id": 23423619,
            "node_id": "MDQ6VXNlcjIzNDIzNjE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/23423619?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patrickvonplaten",
            "html_url": "https://github.com/patrickvonplaten",
            "followers_url": "https://api.github.com/users/patrickvonplaten/followers",
            "following_url": "https://api.github.com/users/patrickvonplaten/following{/other_user}",
            "gists_url": "https://api.github.com/users/patrickvonplaten/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patrickvonplaten/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patrickvonplaten/subscriptions",
            "organizations_url": "https://api.github.com/users/patrickvonplaten/orgs",
            "repos_url": "https://api.github.com/users/patrickvonplaten/repos",
            "events_url": "https://api.github.com/users/patrickvonplaten/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patrickvonplaten/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-06-02T12:24:19Z",
          "updated_at": "2021-06-02T12:24:19Z",
          "author_association": "CONTRIBUTOR",
          "body": "Ok! Good to merge for me then",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/852982437/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/852982529",
          "html_url": "https://github.com/huggingface/transformers/pull/10534#issuecomment-852982529",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
          "id": 852982529,
          "node_id": "MDEyOklzc3VlQ29tbWVudDg1Mjk4MjUyOQ==",
          "user": {
            "login": "patrickvonplaten",
            "id": 23423619,
            "node_id": "MDQ6VXNlcjIzNDIzNjE5",
            "avatar_url": "https://avatars.githubusercontent.com/u/23423619?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patrickvonplaten",
            "html_url": "https://github.com/patrickvonplaten",
            "followers_url": "https://api.github.com/users/patrickvonplaten/followers",
            "following_url": "https://api.github.com/users/patrickvonplaten/following{/other_user}",
            "gists_url": "https://api.github.com/users/patrickvonplaten/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patrickvonplaten/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patrickvonplaten/subscriptions",
            "organizations_url": "https://api.github.com/users/patrickvonplaten/orgs",
            "repos_url": "https://api.github.com/users/patrickvonplaten/repos",
            "events_url": "https://api.github.com/users/patrickvonplaten/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patrickvonplaten/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-06-02T12:24:28Z",
          "updated_at": "2021-06-02T12:24:28Z",
          "author_association": "CONTRIBUTOR",
          "body": "maybe not promote it yet",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/852982529/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/852994555",
          "html_url": "https://github.com/huggingface/transformers/pull/10534#issuecomment-852994555",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
          "id": 852994555,
          "node_id": "MDEyOklzc3VlQ29tbWVudDg1Mjk5NDU1NQ==",
          "user": {
            "login": "patil-suraj",
            "id": 27137566,
            "node_id": "MDQ6VXNlcjI3MTM3NTY2",
            "avatar_url": "https://avatars.githubusercontent.com/u/27137566?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patil-suraj",
            "html_url": "https://github.com/patil-suraj",
            "followers_url": "https://api.github.com/users/patil-suraj/followers",
            "following_url": "https://api.github.com/users/patil-suraj/following{/other_user}",
            "gists_url": "https://api.github.com/users/patil-suraj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patil-suraj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patil-suraj/subscriptions",
            "organizations_url": "https://api.github.com/users/patil-suraj/orgs",
            "repos_url": "https://api.github.com/users/patil-suraj/repos",
            "events_url": "https://api.github.com/users/patil-suraj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patil-suraj/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-06-02T12:42:39Z",
          "updated_at": "2021-06-02T12:44:45Z",
          "author_association": "CONTRIBUTOR",
          "body": "@patrickvonplaten Yes, won't be promoted before adding an example.\r\n\r\nThe plan forward is to add a detector and example notebook in  `research_projects` dir in a follow-up PR.\r\n\r\nVerified that all slow tests are passing :)\r\n\r\nMerging!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/852994555/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/853015418",
          "html_url": "https://github.com/huggingface/transformers/pull/10534#issuecomment-853015418",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/10534",
          "id": 853015418,
          "node_id": "MDEyOklzc3VlQ29tbWVudDg1MzAxNTQxOA==",
          "user": {
            "login": "NielsRogge",
            "id": 48327001,
            "node_id": "MDQ6VXNlcjQ4MzI3MDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/48327001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NielsRogge",
            "html_url": "https://github.com/NielsRogge",
            "followers_url": "https://api.github.com/users/NielsRogge/followers",
            "following_url": "https://api.github.com/users/NielsRogge/following{/other_user}",
            "gists_url": "https://api.github.com/users/NielsRogge/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NielsRogge/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NielsRogge/subscriptions",
            "organizations_url": "https://api.github.com/users/NielsRogge/orgs",
            "repos_url": "https://api.github.com/users/NielsRogge/repos",
            "events_url": "https://api.github.com/users/NielsRogge/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NielsRogge/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-06-02T13:12:06Z",
          "updated_at": "2021-06-02T13:12:06Z",
          "author_association": "CONTRIBUTOR",
          "body": "Great model addition @gchhablani. Small note: can you fix the code examples of the HTML page?\r\n\r\nCurrently they look like this:\r\n\r\n![image](https://user-images.githubusercontent.com/48327001/120484408-548cad80-c3b3-11eb-9238-4cb53126cc2f.png)\r\n\r\nThe Returns: statement should be below the Example: statement in `modeling_visual_bert.py`. Sorry for nitpicking ;) ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/853015418/reactions",
            "total_count": 3,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/27425",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/27425/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/27425/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/27425/events",
      "html_url": "https://github.com/huggingface/transformers/pull/27425",
      "id": 1987167758,
      "node_id": "PR_kwDOCUB6oc5fHd1f",
      "number": 27425,
      "title": "Introduce Textnet backbone (needed for Fast model)",
      "user": {
        "login": "raghavanone",
        "id": 115454562,
        "node_id": "U_kgDOBuGyYg",
        "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/raghavanone",
        "html_url": "https://github.com/raghavanone",
        "followers_url": "https://api.github.com/users/raghavanone/followers",
        "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
        "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
        "organizations_url": "https://api.github.com/users/raghavanone/orgs",
        "repos_url": "https://api.github.com/users/raghavanone/repos",
        "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
        "received_events_url": "https://api.github.com/users/raghavanone/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 16,
      "created_at": "2023-11-10T08:37:29Z",
      "updated_at": "2024-03-13T08:05:48Z",
      "closed_at": "2024-03-13T08:05:48Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/27425",
        "html_url": "https://github.com/huggingface/transformers/pull/27425",
        "diff_url": "https://github.com/huggingface/transformers/pull/27425.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/27425.patch",
        "merged_at": null
      },
      "body": "This is needed for merging fast model #26501",
      "closed_by": {
        "login": "github-actions[bot]",
        "id": 41898282,
        "node_id": "MDM6Qm90NDE4OTgyODI=",
        "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/github-actions%5Bbot%5D",
        "html_url": "https://github.com/apps/github-actions",
        "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
        "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
        "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
        "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
        "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
        "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
        "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
        "type": "Bot",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/27425/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/27425/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1805423627",
          "html_url": "https://github.com/huggingface/transformers/pull/27425#issuecomment-1805423627",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27425",
          "id": 1805423627,
          "node_id": "IC_kwDOCUB6oc5rnJQL",
          "user": {
            "login": "raghavanone",
            "id": 115454562,
            "node_id": "U_kgDOBuGyYg",
            "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavanone",
            "html_url": "https://github.com/raghavanone",
            "followers_url": "https://api.github.com/users/raghavanone/followers",
            "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavanone/orgs",
            "repos_url": "https://api.github.com/users/raghavanone/repos",
            "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavanone/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-10T09:54:57Z",
          "updated_at": "2023-11-10T09:54:57Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts  I have pulled out all the changes for textnet backbone needed for fast model (https://github.com/huggingface/transformers/pull/26657) into separate PR. Requesting for a first round of review.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1805423627/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1810295092",
          "html_url": "https://github.com/huggingface/transformers/pull/27425#issuecomment-1810295092",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27425",
          "id": 1810295092,
          "node_id": "IC_kwDOCUB6oc5r5uk0",
          "user": {
            "login": "raghavanone",
            "id": 115454562,
            "node_id": "U_kgDOBuGyYg",
            "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavanone",
            "html_url": "https://github.com/raghavanone",
            "followers_url": "https://api.github.com/users/raghavanone/followers",
            "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavanone/orgs",
            "repos_url": "https://api.github.com/users/raghavanone/repos",
            "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavanone/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-14T14:14:30Z",
          "updated_at": "2023-11-14T14:14:30Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Thanks for adding!\r\n> \r\n> I've done an initial pass - it'll likely be at least one more review round before ready for approval. Main comment is about the deletion and addition of model parameters. The priority when adding models to transformers is to make sure that they're easy to read and understand - the current fused kernel logic should be simplified or completely removed. Have you run tests to see compare running times with and without the fused kernels?\r\n\r\nFair point, I just ran the tests. The fused kernel just saves some 5 % time during eval. I am going to remove the complex logic.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1810295092/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1810326406",
          "html_url": "https://github.com/huggingface/transformers/pull/27425#issuecomment-1810326406",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27425",
          "id": 1810326406,
          "node_id": "IC_kwDOCUB6oc5r52OG",
          "user": {
            "login": "raghavanone",
            "id": 115454562,
            "node_id": "U_kgDOBuGyYg",
            "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavanone",
            "html_url": "https://github.com/raghavanone",
            "followers_url": "https://api.github.com/users/raghavanone/followers",
            "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavanone/orgs",
            "repos_url": "https://api.github.com/users/raghavanone/repos",
            "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavanone/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-14T14:27:25Z",
          "updated_at": "2023-11-14T14:27:25Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts  I have addressed almost all of the feedbacks, I have some questions of few of them. Help me with some more details for them.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1810326406/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1815673278",
          "html_url": "https://github.com/huggingface/transformers/pull/27425#issuecomment-1815673278",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27425",
          "id": 1815673278,
          "node_id": "IC_kwDOCUB6oc5sOPm-",
          "user": {
            "login": "raghavanone",
            "id": 115454562,
            "node_id": "U_kgDOBuGyYg",
            "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavanone",
            "html_url": "https://github.com/raghavanone",
            "followers_url": "https://api.github.com/users/raghavanone/followers",
            "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavanone/orgs",
            "repos_url": "https://api.github.com/users/raghavanone/repos",
            "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavanone/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-17T02:59:49Z",
          "updated_at": "2023-11-17T02:59:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts The feedbacks on configuration refactoring has been addressed.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1815673278/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1826252773",
          "html_url": "https://github.com/huggingface/transformers/pull/27425#issuecomment-1826252773",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27425",
          "id": 1826252773,
          "node_id": "IC_kwDOCUB6oc5s2mfl",
          "user": {
            "login": "raghavanone",
            "id": 115454562,
            "node_id": "U_kgDOBuGyYg",
            "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavanone",
            "html_url": "https://github.com/raghavanone",
            "followers_url": "https://api.github.com/users/raghavanone/followers",
            "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavanone/orgs",
            "repos_url": "https://api.github.com/users/raghavanone/repos",
            "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavanone/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-25T08:24:34Z",
          "updated_at": "2023-11-25T08:24:34Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts  With respect to textnet's image processor being present, I had removed it in favour of clip image processor, But then later realised that in the original preprocessing code, they do take the shortest_side as parameter, scale the short the side by that factor , then scale the long side by same factor. (like being in done our image processors). But in addition to this, they also align both the width and height of the final image to closest factor of 32.  ([Ref](https://github.com/czczup/FAST/blob/7ab105474ab226ab74a346b0648d2e2baab67d79/dataset/utils.py#L205)) . Hence I had to introduce image_processing_textnet. Let me know if I am missing something else.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1826252773/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1831361728",
          "html_url": "https://github.com/huggingface/transformers/pull/27425#issuecomment-1831361728",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27425",
          "id": 1831361728,
          "node_id": "IC_kwDOCUB6oc5tKFzA",
          "user": {
            "login": "raghavanone",
            "id": 115454562,
            "node_id": "U_kgDOBuGyYg",
            "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavanone",
            "html_url": "https://github.com/raghavanone",
            "followers_url": "https://api.github.com/users/raghavanone/followers",
            "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavanone/orgs",
            "repos_url": "https://api.github.com/users/raghavanone/repos",
            "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavanone/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-29T07:34:24Z",
          "updated_at": "2023-11-29T07:34:24Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts  Gentle reminder.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1831361728/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1832239632",
          "html_url": "https://github.com/huggingface/transformers/pull/27425#issuecomment-1832239632",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27425",
          "id": 1832239632,
          "node_id": "IC_kwDOCUB6oc5tNcIQ",
          "user": {
            "login": "ArthurZucker",
            "id": 48595927,
            "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ArthurZucker",
            "html_url": "https://github.com/ArthurZucker",
            "followers_url": "https://api.github.com/users/ArthurZucker/followers",
            "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
            "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
            "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
            "repos_url": "https://api.github.com/users/ArthurZucker/repos",
            "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-11-29T16:20:38Z",
          "updated_at": "2023-11-29T16:20:38Z",
          "author_association": "COLLABORATOR",
          "body": "Hey, @amyeroberts is off, if this is urgent ping me or let' s wait until next week! ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1832239632/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1837372167",
          "html_url": "https://github.com/huggingface/transformers/pull/27425#issuecomment-1837372167",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27425",
          "id": 1837372167,
          "node_id": "IC_kwDOCUB6oc5thBMH",
          "user": {
            "login": "raghavanone",
            "id": 115454562,
            "node_id": "U_kgDOBuGyYg",
            "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavanone",
            "html_url": "https://github.com/raghavanone",
            "followers_url": "https://api.github.com/users/raghavanone/followers",
            "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavanone/orgs",
            "repos_url": "https://api.github.com/users/raghavanone/repos",
            "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavanone/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-12-03T05:14:56Z",
          "updated_at": "2023-12-03T05:14:56Z",
          "author_association": "CONTRIBUTOR",
          "body": "I think this can wait .",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1837372167/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1882578648",
          "html_url": "https://github.com/huggingface/transformers/pull/27425#issuecomment-1882578648",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27425",
          "id": 1882578648,
          "node_id": "IC_kwDOCUB6oc5wNd7Y",
          "user": {
            "login": "github-actions[bot]",
            "id": 41898282,
            "node_id": "MDM6Qm90NDE4OTgyODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions%5Bbot%5D",
            "html_url": "https://github.com/apps/github-actions",
            "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
            "type": "Bot",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-01-09T08:05:08Z",
          "updated_at": "2024-01-09T08:05:08Z",
          "author_association": "CONTRIBUTOR",
          "body": "This issue has been automatically marked as stale because it has not had recent activity. If you think this still needs to be addressed please comment on this thread.\n\nPlease note that issues that do not follow the [contributing guidelines](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md) are likely to be ignored.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1882578648/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": {
            "id": 15368,
            "client_id": "Iv1.05c79e9ad1f6bdfa",
            "slug": "github-actions",
            "node_id": "MDM6QXBwMTUzNjg=",
            "owner": {
              "login": "github",
              "id": 9919,
              "node_id": "MDEyOk9yZ2FuaXphdGlvbjk5MTk=",
              "avatar_url": "https://avatars.githubusercontent.com/u/9919?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/github",
              "html_url": "https://github.com/github",
              "followers_url": "https://api.github.com/users/github/followers",
              "following_url": "https://api.github.com/users/github/following{/other_user}",
              "gists_url": "https://api.github.com/users/github/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/github/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/github/subscriptions",
              "organizations_url": "https://api.github.com/users/github/orgs",
              "repos_url": "https://api.github.com/users/github/repos",
              "events_url": "https://api.github.com/users/github/events{/privacy}",
              "received_events_url": "https://api.github.com/users/github/received_events",
              "type": "Organization",
              "user_view_type": "public",
              "site_admin": false
            },
            "name": "GitHub Actions",
            "description": "Automate your workflow from idea to production",
            "external_url": "https://help.github.com/en/actions",
            "html_url": "https://github.com/apps/github-actions",
            "created_at": "2018-07-30T09:30:17Z",
            "updated_at": "2025-03-07T16:35:00Z",
            "permissions": {
              "actions": "write",
              "administration": "read",
              "attestations": "write",
              "checks": "write",
              "contents": "write",
              "deployments": "write",
              "discussions": "write",
              "issues": "write",
              "merge_queues": "write",
              "metadata": "read",
              "models": "read",
              "packages": "write",
              "pages": "write",
              "pull_requests": "write",
              "repository_hooks": "write",
              "repository_projects": "write",
              "security_events": "write",
              "statuses": "write",
              "vulnerability_alerts": "read"
            },
            "events": [
              "branch_protection_rule",
              "check_run",
              "check_suite",
              "create",
              "delete",
              "deployment",
              "deployment_status",
              "discussion",
              "discussion_comment",
              "fork",
              "gollum",
              "issues",
              "issue_comment",
              "label",
              "merge_group",
              "milestone",
              "page_build",
              "project",
              "project_card",
              "project_column",
              "public",
              "pull_request",
              "pull_request_review",
              "pull_request_review_comment",
              "push",
              "registry_package",
              "release",
              "repository",
              "repository_dispatch",
              "status",
              "watch",
              "workflow_dispatch",
              "workflow_run"
            ]
          }
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1914579914",
          "html_url": "https://github.com/huggingface/transformers/pull/27425#issuecomment-1914579914",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27425",
          "id": 1914579914,
          "node_id": "IC_kwDOCUB6oc5yHivK",
          "user": {
            "login": "oneraghavan",
            "id": 3041890,
            "node_id": "MDQ6VXNlcjMwNDE4OTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3041890?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oneraghavan",
            "html_url": "https://github.com/oneraghavan",
            "followers_url": "https://api.github.com/users/oneraghavan/followers",
            "following_url": "https://api.github.com/users/oneraghavan/following{/other_user}",
            "gists_url": "https://api.github.com/users/oneraghavan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oneraghavan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oneraghavan/subscriptions",
            "organizations_url": "https://api.github.com/users/oneraghavan/orgs",
            "repos_url": "https://api.github.com/users/oneraghavan/repos",
            "events_url": "https://api.github.com/users/oneraghavan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oneraghavan/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-01-29T12:19:08Z",
          "updated_at": "2024-01-29T12:19:08Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts  All Feedbacks has been incorporated. Please have a look",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1914579914/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1915000983",
          "html_url": "https://github.com/huggingface/transformers/pull/27425#issuecomment-1915000983",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27425",
          "id": 1915000983,
          "node_id": "IC_kwDOCUB6oc5yJJiX",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-01-29T15:55:10Z",
          "updated_at": "2024-01-29T15:55:10Z",
          "author_association": "COLLABORATOR",
          "body": "@raghavanone Please make sure to look at the diff before asking for review, to catch any obvious things that should be updated. Opening the files tab, the first thing one sees are README's that need to be filled in. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1915000983/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1915019854",
          "html_url": "https://github.com/huggingface/transformers/pull/27425#issuecomment-1915019854",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27425",
          "id": 1915019854,
          "node_id": "IC_kwDOCUB6oc5yJOJO",
          "user": {
            "login": "raghavanone",
            "id": 115454562,
            "node_id": "U_kgDOBuGyYg",
            "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavanone",
            "html_url": "https://github.com/raghavanone",
            "followers_url": "https://api.github.com/users/raghavanone/followers",
            "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavanone/orgs",
            "repos_url": "https://api.github.com/users/raghavanone/repos",
            "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavanone/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-01-29T16:03:40Z",
          "updated_at": "2024-01-29T16:03:40Z",
          "author_association": "CONTRIBUTOR",
          "body": "> @raghavanone Please make sure to look at the diff before asking for review, to catch any obvious things that should be updated. Opening the files tab, the first thing one sees are README's that need to be filled in. \n\nOh , the rebase to main should have undone some of these changes . Let me fix and review them again .",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1915019854/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1916571226",
          "html_url": "https://github.com/huggingface/transformers/pull/27425#issuecomment-1916571226",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27425",
          "id": 1916571226,
          "node_id": "IC_kwDOCUB6oc5yPI5a",
          "user": {
            "login": "raghavanone",
            "id": 115454562,
            "node_id": "U_kgDOBuGyYg",
            "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavanone",
            "html_url": "https://github.com/raghavanone",
            "followers_url": "https://api.github.com/users/raghavanone/followers",
            "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavanone/orgs",
            "repos_url": "https://api.github.com/users/raghavanone/repos",
            "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavanone/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-01-30T10:47:37Z",
          "updated_at": "2024-01-30T10:47:37Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts  I have fixed the issues coming from rebase to main and also validated that all the feedbacks are incorporated. Please have a look .",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1916571226/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1929921366",
          "html_url": "https://github.com/huggingface/transformers/pull/27425#issuecomment-1929921366",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27425",
          "id": 1929921366,
          "node_id": "IC_kwDOCUB6oc5zCENW",
          "user": {
            "login": "raghavanone",
            "id": 115454562,
            "node_id": "U_kgDOBuGyYg",
            "avatar_url": "https://avatars.githubusercontent.com/u/115454562?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raghavanone",
            "html_url": "https://github.com/raghavanone",
            "followers_url": "https://api.github.com/users/raghavanone/followers",
            "following_url": "https://api.github.com/users/raghavanone/following{/other_user}",
            "gists_url": "https://api.github.com/users/raghavanone/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raghavanone/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raghavanone/subscriptions",
            "organizations_url": "https://api.github.com/users/raghavanone/orgs",
            "repos_url": "https://api.github.com/users/raghavanone/repos",
            "events_url": "https://api.github.com/users/raghavanone/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raghavanone/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-02-06T14:47:06Z",
          "updated_at": "2024-02-06T14:47:06Z",
          "author_association": "CONTRIBUTOR",
          "body": "@amyeroberts  Let me know how to update the checkpoint to organisation  . ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1929921366/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1936238406",
          "html_url": "https://github.com/huggingface/transformers/pull/27425#issuecomment-1936238406",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27425",
          "id": 1936238406,
          "node_id": "IC_kwDOCUB6oc5zaKdG",
          "user": {
            "login": "amyeroberts",
            "id": 22614925,
            "node_id": "MDQ6VXNlcjIyNjE0OTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22614925?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amyeroberts",
            "html_url": "https://github.com/amyeroberts",
            "followers_url": "https://api.github.com/users/amyeroberts/followers",
            "following_url": "https://api.github.com/users/amyeroberts/following{/other_user}",
            "gists_url": "https://api.github.com/users/amyeroberts/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amyeroberts/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amyeroberts/subscriptions",
            "organizations_url": "https://api.github.com/users/amyeroberts/orgs",
            "repos_url": "https://api.github.com/users/amyeroberts/repos",
            "events_url": "https://api.github.com/users/amyeroberts/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amyeroberts/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-02-09T16:35:27Z",
          "updated_at": "2024-02-09T16:35:27Z",
          "author_association": "COLLABORATOR",
          "body": "Hi @Raghavan, nice work on getting TextNet across the line! \r\n\r\nFor adding the checkpoints to the hub, I\u2019d suggest reaching out to the lead paper author and asking them if they would be happy to host the model weights on the hub under their profile. As the model appears to have been a collab between universities, there isn\u2019t an obvious org for it to go under. \r\n\r\n@NielsRogge has more experience here, so will have recommendations for everything that needs to be done. ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1936238406/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1978171174",
          "html_url": "https://github.com/huggingface/transformers/pull/27425#issuecomment-1978171174",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/27425",
          "id": 1978171174,
          "node_id": "IC_kwDOCUB6oc516H8m",
          "user": {
            "login": "github-actions[bot]",
            "id": 41898282,
            "node_id": "MDM6Qm90NDE4OTgyODI=",
            "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/github-actions%5Bbot%5D",
            "html_url": "https://github.com/apps/github-actions",
            "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
            "type": "Bot",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2024-03-05T08:05:45Z",
          "updated_at": "2024-03-05T08:05:45Z",
          "author_association": "CONTRIBUTOR",
          "body": "This issue has been automatically marked as stale because it has not had recent activity. If you think this still needs to be addressed please comment on this thread.\n\nPlease note that issues that do not follow the [contributing guidelines](https://github.com/huggingface/transformers/blob/main/CONTRIBUTING.md) are likely to be ignored.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1978171174/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": {
            "id": 15368,
            "client_id": "Iv1.05c79e9ad1f6bdfa",
            "slug": "github-actions",
            "node_id": "MDM6QXBwMTUzNjg=",
            "owner": {
              "login": "github",
              "id": 9919,
              "node_id": "MDEyOk9yZ2FuaXphdGlvbjk5MTk=",
              "avatar_url": "https://avatars.githubusercontent.com/u/9919?v=4",
              "gravatar_id": "",
              "url": "https://api.github.com/users/github",
              "html_url": "https://github.com/github",
              "followers_url": "https://api.github.com/users/github/followers",
              "following_url": "https://api.github.com/users/github/following{/other_user}",
              "gists_url": "https://api.github.com/users/github/gists{/gist_id}",
              "starred_url": "https://api.github.com/users/github/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/github/subscriptions",
              "organizations_url": "https://api.github.com/users/github/orgs",
              "repos_url": "https://api.github.com/users/github/repos",
              "events_url": "https://api.github.com/users/github/events{/privacy}",
              "received_events_url": "https://api.github.com/users/github/received_events",
              "type": "Organization",
              "user_view_type": "public",
              "site_admin": false
            },
            "name": "GitHub Actions",
            "description": "Automate your workflow from idea to production",
            "external_url": "https://help.github.com/en/actions",
            "html_url": "https://github.com/apps/github-actions",
            "created_at": "2018-07-30T09:30:17Z",
            "updated_at": "2025-03-07T16:35:00Z",
            "permissions": {
              "actions": "write",
              "administration": "read",
              "attestations": "write",
              "checks": "write",
              "contents": "write",
              "deployments": "write",
              "discussions": "write",
              "issues": "write",
              "merge_queues": "write",
              "metadata": "read",
              "models": "read",
              "packages": "write",
              "pages": "write",
              "pull_requests": "write",
              "repository_hooks": "write",
              "repository_projects": "write",
              "security_events": "write",
              "statuses": "write",
              "vulnerability_alerts": "read"
            },
            "events": [
              "branch_protection_rule",
              "check_run",
              "check_suite",
              "create",
              "delete",
              "deployment",
              "deployment_status",
              "discussion",
              "discussion_comment",
              "fork",
              "gollum",
              "issues",
              "issue_comment",
              "label",
              "merge_group",
              "milestone",
              "page_build",
              "project",
              "project_card",
              "project_column",
              "public",
              "pull_request",
              "pull_request_review",
              "pull_request_review_comment",
              "push",
              "registry_package",
              "release",
              "repository",
              "repository_dispatch",
              "status",
              "watch",
              "workflow_dispatch",
              "workflow_run"
            ]
          }
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/13022/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/13022/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/13022/events",
      "html_url": "https://github.com/huggingface/transformers/pull/13022",
      "id": 962406472,
      "node_id": "MDExOlB1bGxSZXF1ZXN0NzA1MjAwMzE3",
      "number": 13022,
      "title": "GPT-J-6B",
      "user": {
        "login": "StellaAthena",
        "id": 15899312,
        "node_id": "MDQ6VXNlcjE1ODk5MzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/15899312?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/StellaAthena",
        "html_url": "https://github.com/StellaAthena",
        "followers_url": "https://api.github.com/users/StellaAthena/followers",
        "following_url": "https://api.github.com/users/StellaAthena/following{/other_user}",
        "gists_url": "https://api.github.com/users/StellaAthena/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/StellaAthena/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/StellaAthena/subscriptions",
        "organizations_url": "https://api.github.com/users/StellaAthena/orgs",
        "repos_url": "https://api.github.com/users/StellaAthena/repos",
        "events_url": "https://api.github.com/users/StellaAthena/events{/privacy}",
        "received_events_url": "https://api.github.com/users/StellaAthena/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 75,
      "created_at": "2021-08-06T05:18:32Z",
      "updated_at": "2021-08-31T17:41:12Z",
      "closed_at": "2021-08-31T15:53:02Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/13022",
        "html_url": "https://github.com/huggingface/transformers/pull/13022",
        "diff_url": "https://github.com/huggingface/transformers/pull/13022.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/13022.patch",
        "merged_at": "2021-08-31T15:53:02Z"
      },
      "body": "# What does this PR do?\r\n\r\nIntroduces the long awaited `GPT J` model class to HuggingFace! Concurrently with this PR being merged I will make a GPT J 6B checkpoint public on the EleutherAI HF page for people to use. The model has been evaluated as being within error tolerances of the GPT J 6B model we released in Jax two months ago.\r\n\r\n@patil-suraj was very helpful in assisting me to understand HF philosophy and how to make this PR most in line with the rest of the codebase. Other than that, the major design consideration was to make the configs compatible with GPT-2 rather than GPT-Neo. GPT-Neo has some usability limitations due to its configs having names unrelated to GPT-2\u2019s (see #12183 for details). Given those problems and my hope that GPT-Neo will have it\u2019s configs updated in the future, it seemed like a clear choice to align GPT J with GPT-2.\r\n\r\nShout outs to @finetuneanon whose implementation this one is based off of, as well as @kumuruz for assistence optimizing and debugging.\r\n\r\nSupersedes #12243 #13010 #13022 \r\n\r\nCloses #12098\r\n\r\n## Before submitting\r\n- [ ] This PR fixes a typo or improves the docs (you can dismiss the other checks if that's the case).\r\n- [X] Did you read the [contributor guideline](https://github.com/huggingface/transformers/blob/master/CONTRIBUTING.md#start-contributing-pull-requests),\r\n      Pull Request section?\r\n- [X] Was this discussed/approved via a Github issue or the [forum](https://discuss.huggingface.co/)? Please add a link\r\n      to it if that's the case.\r\nIt was discussed in Slack with @patil-suraj \r\n- [X] Did you make sure to update the documentation with your changes? Here are the\r\n      [documentation guidelines](https://github.com/huggingface/transformers/tree/master/docs), and\r\n      [here are tips on formatting docstrings](https://github.com/huggingface/transformers/tree/master/docs#writing-source-documentation).\r\n- [X] Did you write any new necessary tests?\r\n\r\n\r\n## Who can review?\r\n\r\n- gpt2: @patrickvonplaten, @LysandreJik, @patil-suraj ",
      "closed_by": {
        "login": "patrickvonplaten",
        "id": 23423619,
        "node_id": "MDQ6VXNlcjIzNDIzNjE5",
        "avatar_url": "https://avatars.githubusercontent.com/u/23423619?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/patrickvonplaten",
        "html_url": "https://github.com/patrickvonplaten",
        "followers_url": "https://api.github.com/users/patrickvonplaten/followers",
        "following_url": "https://api.github.com/users/patrickvonplaten/following{/other_user}",
        "gists_url": "https://api.github.com/users/patrickvonplaten/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/patrickvonplaten/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/patrickvonplaten/subscriptions",
        "organizations_url": "https://api.github.com/users/patrickvonplaten/orgs",
        "repos_url": "https://api.github.com/users/patrickvonplaten/repos",
        "events_url": "https://api.github.com/users/patrickvonplaten/events{/privacy}",
        "received_events_url": "https://api.github.com/users/patrickvonplaten/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/13022/reactions",
        "total_count": 33,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 26,
        "rocket": 7,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/13022/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/894014378",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-894014378",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 894014378,
          "node_id": "IC_kwDOCUB6oc41SZOq",
          "user": {
            "login": "StellaAthena",
            "id": 15899312,
            "node_id": "MDQ6VXNlcjE1ODk5MzEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/15899312?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/StellaAthena",
            "html_url": "https://github.com/StellaAthena",
            "followers_url": "https://api.github.com/users/StellaAthena/followers",
            "following_url": "https://api.github.com/users/StellaAthena/following{/other_user}",
            "gists_url": "https://api.github.com/users/StellaAthena/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/StellaAthena/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/StellaAthena/subscriptions",
            "organizations_url": "https://api.github.com/users/StellaAthena/orgs",
            "repos_url": "https://api.github.com/users/StellaAthena/repos",
            "events_url": "https://api.github.com/users/StellaAthena/events{/privacy}",
            "received_events_url": "https://api.github.com/users/StellaAthena/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-06T05:37:58Z",
          "updated_at": "2021-08-06T05:40:11Z",
          "author_association": "CONTRIBUTOR",
          "body": "There are six failed tests.\r\n\r\nFour of them relate to Flax and TF models which I did not add. I may have left some boilerplate code indicating the existence of such models by accident.\r\n\r\nOne of them relates to docstring issues. I\u2019ll double check the docstrings, but these issues have no impact on the functionality of the model.\r\n\r\nOne of them appears to be a basic quality assurance check. The code says\r\n```\r\nassert 2 == 3\r\ndef test_answer():\r\n>       assert 1 + 1 == 3\r\nE       assert 2 == 3\r\n\r\ntest_sample.py:2: AssertionError\r\n```\r\nbut I have no idea what this means. Assistence it advice would be appreciated.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/894014378/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/894033077",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-894033077",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 894033077,
          "node_id": "IC_kwDOCUB6oc41Sdy1",
          "user": {
            "login": "leogao2",
            "id": 54557097,
            "node_id": "MDQ6VXNlcjU0NTU3MDk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/54557097?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/leogao2",
            "html_url": "https://github.com/leogao2",
            "followers_url": "https://api.github.com/users/leogao2/followers",
            "following_url": "https://api.github.com/users/leogao2/following{/other_user}",
            "gists_url": "https://api.github.com/users/leogao2/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/leogao2/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/leogao2/subscriptions",
            "organizations_url": "https://api.github.com/users/leogao2/orgs",
            "repos_url": "https://api.github.com/users/leogao2/repos",
            "events_url": "https://api.github.com/users/leogao2/events{/privacy}",
            "received_events_url": "https://api.github.com/users/leogao2/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-06T06:24:23Z",
          "updated_at": "2021-08-06T06:24:47Z",
          "author_association": "CONTRIBUTOR",
          "body": "Looks like a boilerplate test that never got filled out/removed",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/894033077/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/894035247",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-894035247",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 894035247,
          "node_id": "IC_kwDOCUB6oc41SeUv",
          "user": {
            "login": "leogao2",
            "id": 54557097,
            "node_id": "MDQ6VXNlcjU0NTU3MDk3",
            "avatar_url": "https://avatars.githubusercontent.com/u/54557097?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/leogao2",
            "html_url": "https://github.com/leogao2",
            "followers_url": "https://api.github.com/users/leogao2/followers",
            "following_url": "https://api.github.com/users/leogao2/following{/other_user}",
            "gists_url": "https://api.github.com/users/leogao2/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/leogao2/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/leogao2/subscriptions",
            "organizations_url": "https://api.github.com/users/leogao2/orgs",
            "repos_url": "https://api.github.com/users/leogao2/repos",
            "events_url": "https://api.github.com/users/leogao2/events{/privacy}",
            "received_events_url": "https://api.github.com/users/leogao2/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-06T06:29:52Z",
          "updated_at": "2021-08-06T06:29:52Z",
          "author_association": "CONTRIBUTOR",
          "body": "I don't see any test_sample.py in your branch. I think this file is not committed and probably some example test that somehow ended up in your local copy?",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/894035247/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/894190252",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-894190252",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 894190252,
          "node_id": "IC_kwDOCUB6oc41TEKs",
          "user": {
            "login": "sgugger",
            "id": 35901082,
            "node_id": "MDQ6VXNlcjM1OTAxMDgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/35901082?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sgugger",
            "html_url": "https://github.com/sgugger",
            "followers_url": "https://api.github.com/users/sgugger/followers",
            "following_url": "https://api.github.com/users/sgugger/following{/other_user}",
            "gists_url": "https://api.github.com/users/sgugger/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sgugger/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sgugger/subscriptions",
            "organizations_url": "https://api.github.com/users/sgugger/orgs",
            "repos_url": "https://api.github.com/users/sgugger/repos",
            "events_url": "https://api.github.com/users/sgugger/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sgugger/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-06T11:16:21Z",
          "updated_at": "2021-08-06T11:16:21Z",
          "author_association": "COLLABORATOR",
          "body": "There will also be a tricky merge with the result of #13023, let us know if you need any help with that.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/894190252/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/894464623",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-894464623",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 894464623,
          "node_id": "IC_kwDOCUB6oc41UHJv",
          "user": {
            "login": "StellaAthena",
            "id": 15899312,
            "node_id": "MDQ6VXNlcjE1ODk5MzEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/15899312?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/StellaAthena",
            "html_url": "https://github.com/StellaAthena",
            "followers_url": "https://api.github.com/users/StellaAthena/followers",
            "following_url": "https://api.github.com/users/StellaAthena/following{/other_user}",
            "gists_url": "https://api.github.com/users/StellaAthena/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/StellaAthena/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/StellaAthena/subscriptions",
            "organizations_url": "https://api.github.com/users/StellaAthena/orgs",
            "repos_url": "https://api.github.com/users/StellaAthena/repos",
            "events_url": "https://api.github.com/users/StellaAthena/events{/privacy}",
            "received_events_url": "https://api.github.com/users/StellaAthena/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-06T19:11:23Z",
          "updated_at": "2021-08-06T19:11:23Z",
          "author_association": "CONTRIBUTOR",
          "body": "I'm glad y'all approve :)\r\n\r\nI made many of the recommended changes, but have some stuff to take care of today. I'll work on addressing them all and tag you guys when it's ready for re-review.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/894464623/reactions",
            "total_count": 3,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 2,
            "rocket": 1,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/898698771",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-898698771",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 898698771,
          "node_id": "IC_kwDOCUB6oc41kQ4T",
          "user": {
            "login": "EricHallahan",
            "id": 16454294,
            "node_id": "MDQ6VXNlcjE2NDU0Mjk0",
            "avatar_url": "https://avatars.githubusercontent.com/u/16454294?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EricHallahan",
            "html_url": "https://github.com/EricHallahan",
            "followers_url": "https://api.github.com/users/EricHallahan/followers",
            "following_url": "https://api.github.com/users/EricHallahan/following{/other_user}",
            "gists_url": "https://api.github.com/users/EricHallahan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EricHallahan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EricHallahan/subscriptions",
            "organizations_url": "https://api.github.com/users/EricHallahan/orgs",
            "repos_url": "https://api.github.com/users/EricHallahan/repos",
            "events_url": "https://api.github.com/users/EricHallahan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EricHallahan/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-13T20:16:35Z",
          "updated_at": "2021-08-13T20:16:35Z",
          "author_association": "CONTRIBUTOR",
          "body": "I have been trying to work on this, but I have [a few](https://xkcd.com/1070/) lingering questions that have been slowing my  progress.\r\n1. Is there a certain motivation for [`Attention`](https://github.com/huggingface/transformers/blob/24ac25a07ba80b9b7b6e396887305437478398ff/src/transformers/models/openai/modeling_openai.py#L156-L157), [`GPT2Attention`](https://github.com/huggingface/transformers/blob/24ac25a07ba80b9b7b6e396887305437478398ff/src/transformers/models/gpt2/modeling_gpt2.py#L150-L155), [`MLP`](https://github.com/huggingface/transformers/blob/24ac25a07ba80b9b7b6e396887305437478398ff/src/transformers/models/openai/modeling_openai.py#L237-L238), and [`GPT2MLP`](https://github.com/huggingface/transformers/blob/24ac25a07ba80b9b7b6e396887305437478398ff/src/transformers/models/gpt2/modeling_gpt2.py#L275-L276) to use [`torch.nn.Conv1D`](https://pytorch.org/docs/1.9.0/generated/torch.nn.Conv1d.html)? [`GPTNeoSelfAttention`](https://github.com/huggingface/transformers/blob/24ac25a07ba80b9b7b6e396887305437478398ff/src/transformers/models/gpt_neo/modeling_gpt_neo.py#L321-L324), [`GPTNeoLocalSelfAttention`](https://github.com/huggingface/transformers/blob/24ac25a07ba80b9b7b6e396887305437478398ff/src/transformers/models/gpt_neo/modeling_gpt_neo.py#L390-L393) and [`GPTNeoMLP`](https://github.com/huggingface/transformers/blob/24ac25a07ba80b9b7b6e396887305437478398ff/src/transformers/models/gpt_neo/modeling_gpt_neo.py#L521-L522) buck the trend by using [`torch.nn.Linear`](https://pytorch.org/docs/1.9.0/generated/torch.nn.Linear.html) instead. The last instance also maintains the inappropriate prefix of `c_` in the layer name (which I presume is to indicate that it is a convolutional layer).\r\n2. [`GPT2Config`](https://github.com/huggingface/transformers/blob/24ac25a07ba80b9b7b6e396887305437478398ff/src/transformers/models/gpt2/configuration_gpt2.py#L188-L202) and [`OpenAIGPTConfig`](https://github.com/huggingface/transformers/blob/24ac25a07ba80b9b7b6e396887305437478398ff/src/transformers/models/openai/configuration_openai.py#L162-L176) both alias four arguments of the constructor by defining four new properties. [`GPTNeoConfig`](https://github.com/huggingface/transformers/blob/24ac25a07ba80b9b7b6e396887305437478398ff/src/transformers/models/gpt_neo/configuration_gpt_neo.py#L174-L180) (in its perpetual inconsistency) only maintains two of them while using names that are also not consistent with `OpenAIGPTConfig` and `GPT2Config`. Why maintain these redundant properties? If the intention is to use them to rename constructor arguments rather than to provide dual access, they could be simply renamed in the initial block of the constructor. Even worse, many values that are initialized from the config do not maintain continuality in their naming, a problem that spans all four models discussed here. (To demonstrate, trace how [`GPT2Config.n_embd` is aliased to `GPT2Config.hidden_size`](https://github.com/huggingface/transformers/blob/24ac25a07ba80b9b7b6e396887305437478398ff/src/transformers/models/gpt2/configuration_gpt2.py#L192-L194) so that it can be [later accessed via `GPT2Config.hidden_size` and assigned to `GPT2Attention.embed_dim`](https://github.com/huggingface/transformers/blob/24ac25a07ba80b9b7b6e396887305437478398ff/src/transformers/models/gpt2/modeling_gpt2.py#L138))\r\n3. Are we maintaining [`GPTJForSequenceClassification`](https://github.com/huggingface/transformers/blob/24ac25a07ba80b9b7b6e396887305437478398ff/src/transformers/models/gptj/modeling_gptj.py#L781-L892) or not? @StellaAthena [removed the reference to it](https://github.com/huggingface/transformers/pull/13022/commits/4efbbeca8fe4674abf42d253b6dcdd70077cdebf) but @patil-suraj [restored that reference](https://github.com/huggingface/transformers/pull/13022/commits/24ac25a07ba80b9b7b6e396887305437478398ff). Defining the scope of this PR is likely a good idea to prevent counterproductive work.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/898698771/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/898820034",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-898820034",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 898820034,
          "node_id": "IC_kwDOCUB6oc41kufC",
          "user": {
            "login": "patil-suraj",
            "id": 27137566,
            "node_id": "MDQ6VXNlcjI3MTM3NTY2",
            "avatar_url": "https://avatars.githubusercontent.com/u/27137566?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patil-suraj",
            "html_url": "https://github.com/patil-suraj",
            "followers_url": "https://api.github.com/users/patil-suraj/followers",
            "following_url": "https://api.github.com/users/patil-suraj/following{/other_user}",
            "gists_url": "https://api.github.com/users/patil-suraj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patil-suraj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patil-suraj/subscriptions",
            "organizations_url": "https://api.github.com/users/patil-suraj/orgs",
            "repos_url": "https://api.github.com/users/patil-suraj/repos",
            "events_url": "https://api.github.com/users/patil-suraj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patil-suraj/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-14T04:57:59Z",
          "updated_at": "2021-08-14T05:05:17Z",
          "author_association": "CONTRIBUTOR",
          "body": "Hi @EricHallahan \r\n\r\n1. The original GPT2 used the conv1d layer instead of the `linear` (it's essentially linear but just keeps weights transposed). It's rather confusing why they chose that name, so we try not to use it anymore. The names are there just for historical reasons :D, Linear is well known and easy to understand and no transpose is needed when doing the computation.\r\n\r\n2. The `hidden_size`, `max_position_embeddings`, `num_hidden_layers`, `num_attention_heads` are common attribute across all configs. They help enable some common tests for configs and models. Note that GPT2 and GPT were added before introducing these attributes so now they are aliased. Simply renaming the constructor argument is not an option since it'll break backward compatibility.  If constructor arguments are renamed thousands of GPT2 models on the hub will fail to load since their config is already defined. As much as we would like to do that, it's not an option.\r\n       Also, note that when GPT2 was added `transformers` was a bit new and has evolved a lot since then so things and guidelines have changed a bit. In general, we try to use these new names whenever possible, but for this model, I think it's fine to use the `n_layer`, `n_head` etc for consistency with the GPT2 config since Leo at some point had mentioned that it's useful to have those to be able to swap models easily. \r\n     But so far there were no issues from the community about these names, so I fail to see what's the big problem here.\r\n\r\n3. ` GPTJForSequenceClassification` was type hinted in the main init, if a model class is used somewhere in main init then the quality tests requires that such class should be tested, added to the auto model, and documented. So the tests were failing, so I decided to add it back since the class was already defined. But no strong opinion about it, feel free to completely remove it.\r\n\r\nHope this answers your question :) ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/898820034/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 1,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/898822471",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-898822471",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 898822471,
          "node_id": "IC_kwDOCUB6oc41kvFH",
          "user": {
            "login": "EricHallahan",
            "id": 16454294,
            "node_id": "MDQ6VXNlcjE2NDU0Mjk0",
            "avatar_url": "https://avatars.githubusercontent.com/u/16454294?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/EricHallahan",
            "html_url": "https://github.com/EricHallahan",
            "followers_url": "https://api.github.com/users/EricHallahan/followers",
            "following_url": "https://api.github.com/users/EricHallahan/following{/other_user}",
            "gists_url": "https://api.github.com/users/EricHallahan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/EricHallahan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/EricHallahan/subscriptions",
            "organizations_url": "https://api.github.com/users/EricHallahan/orgs",
            "repos_url": "https://api.github.com/users/EricHallahan/repos",
            "events_url": "https://api.github.com/users/EricHallahan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/EricHallahan/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-14T05:05:32Z",
          "updated_at": "2021-08-14T05:05:48Z",
          "author_association": "CONTRIBUTOR",
          "body": "@patil-suraj That perfectly answers my questions. I had been making the assumption that GPT-2 was the benchmark for how the model should be structured, but relaxing that assumption resolves that conflict.\nI've been working up cleaning up the mess left from the Attention mixin and consolidating those classes to the unified `GPTJAttention`. I should get some sleep, but hopefully I'll get that pushed sometime tomorrow.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/898822471/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/898826573",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-898826573",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 898826573,
          "node_id": "IC_kwDOCUB6oc41kwFN",
          "user": {
            "login": "patil-suraj",
            "id": 27137566,
            "node_id": "MDQ6VXNlcjI3MTM3NTY2",
            "avatar_url": "https://avatars.githubusercontent.com/u/27137566?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/patil-suraj",
            "html_url": "https://github.com/patil-suraj",
            "followers_url": "https://api.github.com/users/patil-suraj/followers",
            "following_url": "https://api.github.com/users/patil-suraj/following{/other_user}",
            "gists_url": "https://api.github.com/users/patil-suraj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/patil-suraj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/patil-suraj/subscriptions",
            "organizations_url": "https://api.github.com/users/patil-suraj/orgs",
            "repos_url": "https://api.github.com/users/patil-suraj/repos",
            "events_url": "https://api.github.com/users/patil-suraj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/patil-suraj/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-14T05:22:31Z",
          "updated_at": "2021-08-14T05:22:31Z",
          "author_association": "CONTRIBUTOR",
          "body": "Glad to know! I agree that the AttentionMixin is rather confusing. Thanks for working on it. Apart from few comments above the PR is already in very good shape! ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/898826573/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/898903946",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-898903946",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 898903946,
          "node_id": "IC_kwDOCUB6oc41lC-K",
          "user": {
            "login": "StellaAthena",
            "id": 15899312,
            "node_id": "MDQ6VXNlcjE1ODk5MzEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/15899312?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/StellaAthena",
            "html_url": "https://github.com/StellaAthena",
            "followers_url": "https://api.github.com/users/StellaAthena/followers",
            "following_url": "https://api.github.com/users/StellaAthena/following{/other_user}",
            "gists_url": "https://api.github.com/users/StellaAthena/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/StellaAthena/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/StellaAthena/subscriptions",
            "organizations_url": "https://api.github.com/users/StellaAthena/orgs",
            "repos_url": "https://api.github.com/users/StellaAthena/repos",
            "events_url": "https://api.github.com/users/StellaAthena/events{/privacy}",
            "received_events_url": "https://api.github.com/users/StellaAthena/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-14T14:51:46Z",
          "updated_at": "2021-08-14T14:51:46Z",
          "author_association": "CONTRIBUTOR",
          "body": "I have committed the suggested changes by @sgugger, or at least as many as I could before my phone interface started acting weird. I\u2019m coming back from vacation tomorrow and can go over the PR for real when I get back.\r\n\r\n@patil-suraj thanks for the info! This is quite helpful. I have no problem supporting sequence classification if the code supports it. I had removed it because I didn\u2019t think we could support it without writing a bunch more code.\r\n\r\nIt looks like we are quite close to getting this merged! Thanks for all the help @EricHallahan @kurumuz ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/898903946/reactions",
            "total_count": 6,
            "+1": 6,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/899914396",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-899914396",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 899914396,
          "node_id": "IC_kwDOCUB6oc41o5qc",
          "user": {
            "login": "g-karthik",
            "id": 3851993,
            "node_id": "MDQ6VXNlcjM4NTE5OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3851993?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/g-karthik",
            "html_url": "https://github.com/g-karthik",
            "followers_url": "https://api.github.com/users/g-karthik/followers",
            "following_url": "https://api.github.com/users/g-karthik/following{/other_user}",
            "gists_url": "https://api.github.com/users/g-karthik/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/g-karthik/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/g-karthik/subscriptions",
            "organizations_url": "https://api.github.com/users/g-karthik/orgs",
            "repos_url": "https://api.github.com/users/g-karthik/repos",
            "events_url": "https://api.github.com/users/g-karthik/events{/privacy}",
            "received_events_url": "https://api.github.com/users/g-karthik/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-17T00:58:21Z",
          "updated_at": "2021-08-17T00:58:21Z",
          "author_association": "NONE",
          "body": "@StellaAthena thanks for your work on this PR! Can you share details on the GPU (or AWS instance type) you used for testing your code? I plan to run some benchmarking with this model after this PR is merged (hopefully soon!).",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/899914396/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/899954779",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-899954779",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 899954779,
          "node_id": "IC_kwDOCUB6oc41pDhb",
          "user": {
            "login": "StellaAthena",
            "id": 15899312,
            "node_id": "MDQ6VXNlcjE1ODk5MzEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/15899312?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/StellaAthena",
            "html_url": "https://github.com/StellaAthena",
            "followers_url": "https://api.github.com/users/StellaAthena/followers",
            "following_url": "https://api.github.com/users/StellaAthena/following{/other_user}",
            "gists_url": "https://api.github.com/users/StellaAthena/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/StellaAthena/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/StellaAthena/subscriptions",
            "organizations_url": "https://api.github.com/users/StellaAthena/orgs",
            "repos_url": "https://api.github.com/users/StellaAthena/repos",
            "events_url": "https://api.github.com/users/StellaAthena/events{/privacy}",
            "received_events_url": "https://api.github.com/users/StellaAthena/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-17T02:58:00Z",
          "updated_at": "2021-08-17T02:58:00Z",
          "author_association": "CONTRIBUTOR",
          "body": "> @StellaAthena thanks for your work on this PR! Can you share details on the GPU (or AWS instance type) you used for testing your code? I plan to run some benchmarking with this model after this PR is merged (hopefully soon!).\r\n\r\nThe original model was trained on TPUs, and my testing of this PyTorch port has been on 8x A100 clusters",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/899954779/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/899995022",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-899995022",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 899995022,
          "node_id": "IC_kwDOCUB6oc41pNWO",
          "user": {
            "login": "g-karthik",
            "id": 3851993,
            "node_id": "MDQ6VXNlcjM4NTE5OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3851993?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/g-karthik",
            "html_url": "https://github.com/g-karthik",
            "followers_url": "https://api.github.com/users/g-karthik/followers",
            "following_url": "https://api.github.com/users/g-karthik/following{/other_user}",
            "gists_url": "https://api.github.com/users/g-karthik/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/g-karthik/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/g-karthik/subscriptions",
            "organizations_url": "https://api.github.com/users/g-karthik/orgs",
            "repos_url": "https://api.github.com/users/g-karthik/repos",
            "events_url": "https://api.github.com/users/g-karthik/events{/privacy}",
            "received_events_url": "https://api.github.com/users/g-karthik/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-17T05:02:40Z",
          "updated_at": "2021-08-17T05:02:40Z",
          "author_association": "NONE",
          "body": "Okay, well if that's the case, I'd love to see stats backing the claim that\nI misunderstand.\n\nLast I checked, fp32 weights for a 2.7B model itself is ~10 GB of disk\nspace. So this 6B model you are creating a PR for will likely take more\nthan 16 GB of disk space. So I do not see how you \"absolutely can perform\ninference on a 16 GB V100 GPU\" with this GPT-J 6B model. Please\nadvise/correct my understanding since I'm still very much a newbie. Thanks!\n\n\nOn Mon, Aug 16, 2021, 9:38 PM Stella Biderman ***@***.***>\nwrote:\n\n> ***@***.**** commented on this pull request.\n> ------------------------------\n>\n> In src/transformers/models/gptj/modeling_gptj.py\n> <https://github.com/huggingface/transformers/pull/13022#discussion_r690027756>\n> :\n>\n> > +        output_attentions (:obj:`bool`, `optional`):\n> +            Whether or not to return the attentions tensors of all attention layers. See ``attentions`` under returned\n> +            tensors for more detail.\n> +        output_hidden_states (:obj:`bool`, `optional`):\n> +            Whether or not to return the hidden states of all layers. See ``hidden_states`` under returned tensors for\n> +            more detail.\n> +        return_dict (:obj:`bool`, `optional`):\n> +            Whether or not to return a :class:`~transformers.file_utils.ModelOutput` instead of a plain tuple.\n> +\"\"\"\n> +\n> +\n> ***@***.***_start_docstrings(\n> +    \"The bare gptj Model transformer outputting raw hidden-states without any specific head on top.\",\n> +    GPTJ_START_DOCSTRING,\n> +)\n> +class GPTJModel(GPTJPreTrainedModel):\n>\n> Again, I fear you misunderstand. You absolutely can perform inference on a\n> 16 GB V100 GPU. At no point did I say that you needed 32 GB of memory to\n> use this model.\n>\n> \u2014\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/huggingface/transformers/pull/13022#discussion_r690027756>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AA5MNWJ4WGL4LCRW3LVF7XTT5HRVPANCNFSM5BVGELLA>\n> .\n> Triage notifications on the go with GitHub Mobile for iOS\n> <https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&mt=8&pt=524675>\n> or Android\n> <https://play.google.com/store/apps/details?id=com.github.android&utm_campaign=notification-email>\n> .\n>\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/899995022/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/900005434",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-900005434",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 900005434,
          "node_id": "IC_kwDOCUB6oc41pP46",
          "user": {
            "login": "StellaAthena",
            "id": 15899312,
            "node_id": "MDQ6VXNlcjE1ODk5MzEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/15899312?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/StellaAthena",
            "html_url": "https://github.com/StellaAthena",
            "followers_url": "https://api.github.com/users/StellaAthena/followers",
            "following_url": "https://api.github.com/users/StellaAthena/following{/other_user}",
            "gists_url": "https://api.github.com/users/StellaAthena/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/StellaAthena/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/StellaAthena/subscriptions",
            "organizations_url": "https://api.github.com/users/StellaAthena/orgs",
            "repos_url": "https://api.github.com/users/StellaAthena/repos",
            "events_url": "https://api.github.com/users/StellaAthena/events{/privacy}",
            "received_events_url": "https://api.github.com/users/StellaAthena/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-17T05:31:16Z",
          "updated_at": "2021-08-17T05:32:35Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Ultimately it's up to you - if it turns out that someone intending to utilize your PR is budget-constrained, they'll just be forced to end up making those changes locally by copy-pasting stuff from modeling_gpt2.py.\r\n\r\n> Okay, well if that's the case, I'd love to see stats backing the claim that I misunderstand. Last I checked, fp32 weights for a 2.7B model itself is ~10 GB of disk space. So this 6B model you are creating a PR for will likely take more than 16 GB of disk space. So I do not see how you \"absolutely can perform inference on a 16 GB V100 GPU\" with this GPT-J 6B model. Please advise/correct my understanding since I'm still very much a newbie. Thanks!\r\n\r\nYou don't use fp32 weights for inference, you use BF16 weights without optimizer states for inference. BF16 weights without optimizer states for this model come out to 9GB. If you check out [the source repo](https://github.com/kingoflolz/mesh-transformer-jax), you can find a link to download them. As I've already said, you can find better optimized code at that repo, and if you're on a budget constraint you should not be using the `transformers` library.\r\n\r\nAs @EricHallahan says, the reality of large models is that you need large compute to run them. There is a fundamental limit to what you can do with a model that's too big to fit in your GPU, and that limit is best surpassed by buying a better GPU. We are well aware that this limits the accessibility of these models, but that's how to the world works. You can find other, smaller models that we have released [on our HF page](https://huggingface.co/EleutherAI) if our 6B model is outside your budgetary resources. This codebase also does not require that you use 6B parameters. You are welcome to use it to train a smaller model as well.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/900005434/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/900012316",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-900012316",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 900012316,
          "node_id": "IC_kwDOCUB6oc41pRkc",
          "user": {
            "login": "g-karthik",
            "id": 3851993,
            "node_id": "MDQ6VXNlcjM4NTE5OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3851993?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/g-karthik",
            "html_url": "https://github.com/g-karthik",
            "followers_url": "https://api.github.com/users/g-karthik/followers",
            "following_url": "https://api.github.com/users/g-karthik/following{/other_user}",
            "gists_url": "https://api.github.com/users/g-karthik/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/g-karthik/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/g-karthik/subscriptions",
            "organizations_url": "https://api.github.com/users/g-karthik/orgs",
            "repos_url": "https://api.github.com/users/g-karthik/repos",
            "events_url": "https://api.github.com/users/g-karthik/events{/privacy}",
            "received_events_url": "https://api.github.com/users/g-karthik/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-17T05:51:28Z",
          "updated_at": "2021-08-17T05:56:29Z",
          "author_association": "NONE",
          "body": "Hi @sgugger and @patil-suraj,\r\n\r\nThis PR's description says:\r\n\r\n> the major design consideration was to make the configs compatible with GPT-2\r\n\r\nI do not see the model classes being compatible though. For instance, `GPT2Model` supports `parallelize` (a very straightforward feature), `GPTJModel` does not at the moment. Authors of this PR don't seem keen on supporting this feature as you can see from the previous comments (including their edit history), but this is not their library, this is a community library. And usability by the community that makes this library famous and successful should indeed trump efficiency.\r\n\r\nSo should there be an addition of `parallelize` to this PR? What are your thoughts on this topic?\r\n\r\nThanks!\r\n\r\nEDIT: I am fully aware I can fine-tune this model with standard gradient partitioning (ZeRO Stage 2) and at reasonably high TFLOPs/GPU with the usual old tricks, which I am not asking about. IMO the `parallelize` feature is immensely useful for already-trained models at deployment-time since it sets up a simple pipeline (unlike a formal `PipelineModule` sub-class expected for pipeline-parallel training) at inference-time for most consumers of this library, who may not be very technically savvy.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/900012316/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/900017659",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-900017659",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 900017659,
          "node_id": "IC_kwDOCUB6oc41pS37",
          "user": {
            "login": "oborchers",
            "id": 26734737,
            "node_id": "MDQ6VXNlcjI2NzM0NzM3",
            "avatar_url": "https://avatars.githubusercontent.com/u/26734737?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/oborchers",
            "html_url": "https://github.com/oborchers",
            "followers_url": "https://api.github.com/users/oborchers/followers",
            "following_url": "https://api.github.com/users/oborchers/following{/other_user}",
            "gists_url": "https://api.github.com/users/oborchers/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/oborchers/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/oborchers/subscriptions",
            "organizations_url": "https://api.github.com/users/oborchers/orgs",
            "repos_url": "https://api.github.com/users/oborchers/repos",
            "events_url": "https://api.github.com/users/oborchers/events{/privacy}",
            "received_events_url": "https://api.github.com/users/oborchers/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-17T06:04:54Z",
          "updated_at": "2021-08-17T06:04:54Z",
          "author_association": "NONE",
          "body": "@g-karthik: I can back up the claims that it can be run in fp16 mode on any GPU with 16G of VRAM, but don't expect any large batching capabilities.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/900017659/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/900020210",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-900020210",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 900020210,
          "node_id": "IC_kwDOCUB6oc41pTfy",
          "user": {
            "login": "StellaAthena",
            "id": 15899312,
            "node_id": "MDQ6VXNlcjE1ODk5MzEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/15899312?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/StellaAthena",
            "html_url": "https://github.com/StellaAthena",
            "followers_url": "https://api.github.com/users/StellaAthena/followers",
            "following_url": "https://api.github.com/users/StellaAthena/following{/other_user}",
            "gists_url": "https://api.github.com/users/StellaAthena/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/StellaAthena/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/StellaAthena/subscriptions",
            "organizations_url": "https://api.github.com/users/StellaAthena/orgs",
            "repos_url": "https://api.github.com/users/StellaAthena/repos",
            "events_url": "https://api.github.com/users/StellaAthena/events{/privacy}",
            "received_events_url": "https://api.github.com/users/StellaAthena/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-17T06:09:44Z",
          "updated_at": "2021-08-17T06:09:44Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Hi @sgugger and @patil-suraj,\r\n> \r\n> This PR's description says:\r\n> \r\n> > the major design consideration was to make the configs compatible with GPT-2\r\n> \r\n> I do not see the model classes being compatible though. For instance, `GPT2Model` supports `parallelize` (a very straightforward feature), `GPTJModel` does not at the moment. Authors of this PR don't seem keen on supporting this feature as you can see from the previous comments (including their edit history), but this is not their library, this is a community library. And usability by the community that makes this library famous and successful should indeed trump efficiency.\r\n> \r\n> So should there be an addition of `parallelize` to this PR? What are your thoughts on this topic?\r\n> \r\n> Thanks!\r\n> \r\n> EDIT: I am fully aware I can fine-tune this model with standard gradient partitioning (ZeRO Stage 2) and at reasonably high TFLOPs/GPU with the usual old tricks, which I am not asking about. IMO the `parallelize` feature is immensely useful for already-trained models at deployment-time since it sets up a simple pipeline (unlike a formal `PipelineModule` sub-class expected for pipeline-parallel training) at inference-time for most consumers of this library, who may not be very technically savvy.\r\n\r\nThis is a very uncharitable way to represent my assertion that I do not feel comfortable implementing a highly experimental feature that I didn't even know existed until you brought it up. I have no objection to it being implemented, and even explicitly invited you to do so.\r\n\r\nIf the HF team is interested in integrating this functionality across all of the `transformer` classes I have no objection to that whatsoever. However currently it has been implemented for 2 of the 66 (counting GPT-J) model classes.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/900020210/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/900035680",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-900035680",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 900035680,
          "node_id": "IC_kwDOCUB6oc41pXRg",
          "user": {
            "login": "g-karthik",
            "id": 3851993,
            "node_id": "MDQ6VXNlcjM4NTE5OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3851993?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/g-karthik",
            "html_url": "https://github.com/g-karthik",
            "followers_url": "https://api.github.com/users/g-karthik/followers",
            "following_url": "https://api.github.com/users/g-karthik/following{/other_user}",
            "gists_url": "https://api.github.com/users/g-karthik/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/g-karthik/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/g-karthik/subscriptions",
            "organizations_url": "https://api.github.com/users/g-karthik/orgs",
            "repos_url": "https://api.github.com/users/g-karthik/repos",
            "events_url": "https://api.github.com/users/g-karthik/events{/privacy}",
            "received_events_url": "https://api.github.com/users/g-karthik/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-17T06:40:27Z",
          "updated_at": "2021-08-17T06:40:27Z",
          "author_association": "NONE",
          "body": "@StellaAthena\r\n\r\nMy message says \"Authors of this PR don't seem keen on supporting this feature as you can see from the previous comments (including their edit history)\", where authors is **plural**. Eric is a co-author on this PR since I can see he has commits on this PR. I presume he is part of Eleuther-AI, since he was a co-author + you chose to apologize on his behalf and **then** invited me to push commits to your fork to add support for `parallelize`.\r\n\r\nYour assertion was that you were not comfortable supporting `parallelize`, and your co-author Eric jumped the gun without bothering to look at the specific `parallelize` feature I referenced and made a broad assertion that parallelization \"will not be considered\" (which he later edited out after I responded, but I paste verbatim the original comment):\r\n\r\n> GPT-J 6B easily fits in a 16 GB GPU for inference or 32 GB GPU for tuning (at FP16). CPU inference, while slow, absolutely remains an option and it isn't hard to get a server with 32 GB of memory. And besides, just because GPT-J 6B is the only model that exists today doesn't mean that other models cannot be created in the future at different scales. This is generic model class PR, not a GPT-J 6B PR.\r\nLook, we understand that you are concerned with accessibility of large models. EleutherAI expects that those looking to use our large language models will need to find beefy hardware to run them. It is an unfortunate result of scaling, but it is something we cannot help with. You can try to do fancy optimizations and swapping weights in and out of memory but that is incompatible with the transformers design philosophy and out of scope for this PR.\r\nIf you want parallelization today, use Mesh Transformer JAX. Parallelization is out of scope for this PR, and will not be considered.\r\n\r\nGiven he was a co-author of your PR and the above observations, I think saying the \"authors don't seem keen on supporting this feature\" was actually most charitable. But to avoid clubbing you with your co-author, I shall rephrase to: \"one author wasn't comfortable supporting this feature, and another author was just plain rude w.r.t this feature and gave out a flat no\".\r\n\r\nAnyway, I think I'm done w.r.t. this line of discussion, and shall wait until I hear from someone at Hugging Face (@sgugger or @patil-suraj) since I respect their design choices greatly and want to know their opinions on `parallelize` in GPT-J akin to GPT-2.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/900035680/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/900048630",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-900048630",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 900048630,
          "node_id": "IC_kwDOCUB6oc41pab2",
          "user": {
            "login": "g-karthik",
            "id": 3851993,
            "node_id": "MDQ6VXNlcjM4NTE5OTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3851993?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/g-karthik",
            "html_url": "https://github.com/g-karthik",
            "followers_url": "https://api.github.com/users/g-karthik/followers",
            "following_url": "https://api.github.com/users/g-karthik/following{/other_user}",
            "gists_url": "https://api.github.com/users/g-karthik/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/g-karthik/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/g-karthik/subscriptions",
            "organizations_url": "https://api.github.com/users/g-karthik/orgs",
            "repos_url": "https://api.github.com/users/g-karthik/repos",
            "events_url": "https://api.github.com/users/g-karthik/events{/privacy}",
            "received_events_url": "https://api.github.com/users/g-karthik/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-17T07:06:11Z",
          "updated_at": "2021-08-17T07:19:11Z",
          "author_association": "NONE",
          "body": "> @g-karthik: I can back up the claims that it can be run in fp16 mode on any GPU with 16G of VRAM, but don't expect any large batching capabilities.\r\n\r\n@oborchers thanks for backing up their updated claim! The original (deleted, but reproduced by me since it's on email) claim was:\r\n\r\n> Again, I fear you misunderstand. You absolutely can perform inference on a 16 GB V100 GPU. At no point did I say that you needed 32 GB of memory to use this model.\r\n\r\nThis does not state FP16 or BF16, which is why I presume the claim was quickly deleted.\r\n\r\nOne clearly cannot fit this GPT-J 6B model in a 16 GB GPU unless they use FP16 or BF16.\r\n\r\nBUT, any consumer of a library as huge as Hugging Face transformers would prefer having the choice of whether they can/want to use FP32 or not. With the `parallelize()` and `deparallelize()` methods (supported in GPT-2), it would be possible for consumers to directly use FP32 weights on a 16 GB GPU because the model is split into pipeline stages for inference.\r\n\r\nSo, the argument here is simple. You have `modeling_gpt2.py` that `modeling_gptj.py` is supposedly meant to be riffing off of design-wise. The latter, however, currently does not support `parallelize()` and `deparallelize()`. If such support were added, power would lie in the hands of the consumer on whether or not to use FP32/FP16/BF16 for the use-case of their choice.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/900048630/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/900383052",
          "html_url": "https://github.com/huggingface/transformers/pull/13022#issuecomment-900383052",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/13022",
          "id": 900383052,
          "node_id": "IC_kwDOCUB6oc41qsFM",
          "user": {
            "login": "StellaAthena",
            "id": 15899312,
            "node_id": "MDQ6VXNlcjE1ODk5MzEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/15899312?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/StellaAthena",
            "html_url": "https://github.com/StellaAthena",
            "followers_url": "https://api.github.com/users/StellaAthena/followers",
            "following_url": "https://api.github.com/users/StellaAthena/following{/other_user}",
            "gists_url": "https://api.github.com/users/StellaAthena/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/StellaAthena/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/StellaAthena/subscriptions",
            "organizations_url": "https://api.github.com/users/StellaAthena/orgs",
            "repos_url": "https://api.github.com/users/StellaAthena/repos",
            "events_url": "https://api.github.com/users/StellaAthena/events{/privacy}",
            "received_events_url": "https://api.github.com/users/StellaAthena/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2021-08-17T15:09:36Z",
          "updated_at": "2021-08-17T15:09:49Z",
          "author_association": "CONTRIBUTOR",
          "body": "> Think the PR can be merged very soon :-)\r\n> \r\n> We should probably try to focus on making the tests pass and then the only things that would be great to slightly adapt are:\r\n> \r\n> * Remove the GPTJAttentionMixin and GPTJAttention class\r\n> * Force the generation logits to be in fp32 so that the model can give good results in fp16 :-)\r\n> \r\n> Thanks a lot for all the work on this already!\r\n\r\n@EricHallahan is hoping to push the first change either today or tomorrow. Once he has, I'm expecting it'll be a couple minutes of work to fix the failing tests and ensure fp32 generation.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/900383052/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 1,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/15991",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/15991/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/15991/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/15991/events",
      "html_url": "https://github.com/huggingface/transformers/pull/15991",
      "id": 1162756915,
      "node_id": "PR_kwDOCUB6oc40HGMy",
      "number": 15991,
      "title": "Add DPT",
      "user": {
        "login": "NielsRogge",
        "id": 48327001,
        "node_id": "MDQ6VXNlcjQ4MzI3MDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48327001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NielsRogge",
        "html_url": "https://github.com/NielsRogge",
        "followers_url": "https://api.github.com/users/NielsRogge/followers",
        "following_url": "https://api.github.com/users/NielsRogge/following{/other_user}",
        "gists_url": "https://api.github.com/users/NielsRogge/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/NielsRogge/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/NielsRogge/subscriptions",
        "organizations_url": "https://api.github.com/users/NielsRogge/orgs",
        "repos_url": "https://api.github.com/users/NielsRogge/repos",
        "events_url": "https://api.github.com/users/NielsRogge/events{/privacy}",
        "received_events_url": "https://api.github.com/users/NielsRogge/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 3,
      "created_at": "2022-03-08T14:56:41Z",
      "updated_at": "2022-10-11T09:24:10Z",
      "closed_at": "2022-03-28T14:28:10Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/15991",
        "html_url": "https://github.com/huggingface/transformers/pull/15991",
        "diff_url": "https://github.com/huggingface/transformers/pull/15991.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/15991.patch",
        "merged_at": "2022-03-28T14:28:10Z"
      },
      "body": "# What does this PR do?\r\n\r\nThis PR adds [DPT](https://arxiv.org/abs/2103.13413), Dense Prediction Transformers, to the library. It's some very nice work from Intel Labs that applies Transformers for dense prediction tasks such as semantic segmentation and depth estimation.\r\n\r\nFeel free to play around with the notebook [here](https://colab.research.google.com/drive/177o79Qm8qsjGDQk5TDSS4tawcFNSZsy8?usp=sharing). \r\n\r\nI've defined 3 models:\r\n\r\n* `DPTModel`\r\n* `DPTForDepthEstimation`\r\n* `DPTForSemanticSegmentation`.\r\n\r\nDPTModel is the backbone only (ViT in this case). The head models use a neck (DPTNeck) combined with a task-specific head (either `DPTDepthEstimationHead` or `DPTSemanticSegmentationHead`).\r\n\r\nImportant here:\r\n* a neck is an nn.Module that takes a list of tensors and produces another list of tensors.\r\n* a head takes a list of tensors and return `logits`.\r\n\r\nTo do:\r\n\r\n- [x] make sure heads take a list of tensors as input\r\n- [x] add tests for `DPTFeatureExtractor`\r\n- [x] discuss `out_indices` and `in_index` names\r\n- [x] transfer weights to `Intel` organization",
      "closed_by": {
        "login": "NielsRogge",
        "id": 48327001,
        "node_id": "MDQ6VXNlcjQ4MzI3MDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/48327001?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/NielsRogge",
        "html_url": "https://github.com/NielsRogge",
        "followers_url": "https://api.github.com/users/NielsRogge/followers",
        "following_url": "https://api.github.com/users/NielsRogge/following{/other_user}",
        "gists_url": "https://api.github.com/users/NielsRogge/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/NielsRogge/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/NielsRogge/subscriptions",
        "organizations_url": "https://api.github.com/users/NielsRogge/orgs",
        "repos_url": "https://api.github.com/users/NielsRogge/repos",
        "events_url": "https://api.github.com/users/NielsRogge/events{/privacy}",
        "received_events_url": "https://api.github.com/users/NielsRogge/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/15991/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/15991/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1061870587",
          "html_url": "https://github.com/huggingface/transformers/pull/15991#issuecomment-1061870587",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/15991",
          "id": 1061870587,
          "node_id": "IC_kwDOCUB6oc4_Stv7",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-03-08T15:01:02Z",
          "updated_at": "2022-03-28T14:33:27Z",
          "author_association": "NONE",
          "body": "_The documentation is not available anymore as the PR was closed or merged._",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1061870587/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1067823713",
          "html_url": "https://github.com/huggingface/transformers/pull/15991#issuecomment-1067823713",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/15991",
          "id": 1067823713,
          "node_id": "IC_kwDOCUB6oc4_pbJh",
          "user": {
            "login": "NielsRogge",
            "id": 48327001,
            "node_id": "MDQ6VXNlcjQ4MzI3MDAx",
            "avatar_url": "https://avatars.githubusercontent.com/u/48327001?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/NielsRogge",
            "html_url": "https://github.com/NielsRogge",
            "followers_url": "https://api.github.com/users/NielsRogge/followers",
            "following_url": "https://api.github.com/users/NielsRogge/following{/other_user}",
            "gists_url": "https://api.github.com/users/NielsRogge/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/NielsRogge/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NielsRogge/subscriptions",
            "organizations_url": "https://api.github.com/users/NielsRogge/orgs",
            "repos_url": "https://api.github.com/users/NielsRogge/repos",
            "events_url": "https://api.github.com/users/NielsRogge/events{/privacy}",
            "received_events_url": "https://api.github.com/users/NielsRogge/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-03-15T10:37:35Z",
          "updated_at": "2022-03-15T10:38:11Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks for your reviews, addressed most comments. Main thing to update is:\r\n* rename `out_indices` (which features to use from the backbone)\r\n* rename `in_index` (which features to use in the head)\r\n\r\nIdeally we have names that are going to be used by all vision models.",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1067823713/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1274392231",
          "html_url": "https://github.com/huggingface/transformers/pull/15991#issuecomment-1274392231",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/15991",
          "id": 1274392231,
          "node_id": "IC_kwDOCUB6oc5L9a6n",
          "user": {
            "login": "debtriche",
            "id": 101355742,
            "node_id": "U_kgDOBgqQ3g",
            "avatar_url": "https://avatars.githubusercontent.com/u/101355742?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/debtriche",
            "html_url": "https://github.com/debtriche",
            "followers_url": "https://api.github.com/users/debtriche/followers",
            "following_url": "https://api.github.com/users/debtriche/following{/other_user}",
            "gists_url": "https://api.github.com/users/debtriche/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/debtriche/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/debtriche/subscriptions",
            "organizations_url": "https://api.github.com/users/debtriche/orgs",
            "repos_url": "https://api.github.com/users/debtriche/repos",
            "events_url": "https://api.github.com/users/debtriche/events{/privacy}",
            "received_events_url": "https://api.github.com/users/debtriche/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-10-11T09:24:10Z",
          "updated_at": "2022-10-11T09:24:10Z",
          "author_association": "NONE",
          "body": "stop with all the emails I\u2019m getting mad\n\n\n\nSent from my iPhone\n\n> On Mar 11, 2022, at 8:37 AM, NielsRogge ***@***.***> wrote:\n> \n> \ufeff\n> @NielsRogge commented on this pull request.\n> \n> In src/transformers/models/dpt/modeling_dpt.py:\n> \n> > +            if output_attentions:\n> +                all_self_attentions = all_self_attentions + (layer_outputs[1],)\n> +\n> +        if output_hidden_states:\n> +            all_hidden_states = all_hidden_states + (hidden_states,)\n> +\n> +        if not return_dict:\n> +            return tuple(v for v in [hidden_states, all_hidden_states, all_self_attentions] if v is not None)\n> +        return BaseModelOutput(\n> +            last_hidden_state=hidden_states,\n> +            hidden_states=all_hidden_states,\n> +            attentions=all_self_attentions,\n> +        )\n> +\n> +\n> +class DPTReassembleBlocks(nn.Module):\n> Renamed to DPTReassembleStage\n> \n> \u2014\n> Reply to this email directly, view it on GitHub, or unsubscribe.\n> Triage notifications on the go with GitHub Mobile for iOS or Android. \n> You are receiving this because you are subscribed to this thread.\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1274392231/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    },
    {
      "url": "https://api.github.com/repos/huggingface/transformers/issues/20716",
      "repository_url": "https://api.github.com/repos/huggingface/transformers",
      "labels_url": "https://api.github.com/repos/huggingface/transformers/issues/20716/labels{/name}",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/issues/20716/comments",
      "events_url": "https://api.github.com/repos/huggingface/transformers/issues/20716/events",
      "html_url": "https://github.com/huggingface/transformers/pull/20716",
      "id": 1487607767,
      "node_id": "PR_kwDOCUB6oc5E89t-",
      "number": 20716,
      "title": "Add BLIP",
      "user": {
        "login": "younesbelkada",
        "id": 49240599,
        "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
        "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/younesbelkada",
        "html_url": "https://github.com/younesbelkada",
        "followers_url": "https://api.github.com/users/younesbelkada/followers",
        "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
        "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
        "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
        "repos_url": "https://api.github.com/users/younesbelkada/repos",
        "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
        "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 6,
      "created_at": "2022-12-09T23:16:24Z",
      "updated_at": "2023-03-23T12:30:22Z",
      "closed_at": "2022-12-21T08:39:10Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/huggingface/transformers/pulls/20716",
        "html_url": "https://github.com/huggingface/transformers/pull/20716",
        "diff_url": "https://github.com/huggingface/transformers/pull/20716.diff",
        "patch_url": "https://github.com/huggingface/transformers/pull/20716.patch",
        "merged_at": "2022-12-21T08:39:10Z"
      },
      "body": "# What does this PR do?\r\n\r\nBLIP is a model from salesforce, capable of performing Visual question answering, image captioning and image-text retrieval. This model has been also used in several Stable-diffusion finetuned variants, such as Pokemon stable diffusion or Naruto Stable diffusion to generate text descriptions from images in order to create text-image paired dataset.\r\n\r\nOriginal repo: https://github.com/salesforce/BLIP \r\n\r\n- [x] \u00a0add integration tests\r\n- [x] Push weights\r\n- [x] document everything\r\n\r\nUsers would be able to use Blip for three main usecases:\r\n\r\n1- Conditional Generation (Image captioning):\r\n```\r\nfrom PIL import Image\r\nimport requests\r\nfrom transformers import BlipForConditionalGeneration, BlipProcessor\r\n\r\nimg_url = 'https://storage.googleapis.com/sfr-vision-language-research/BLIP/demo.jpg' \r\nimage = Image.open(requests.get(img_url, stream=True).raw).convert('RGB')   \r\n\r\nmodel = BlipForConditionalGeneration.from_pretrained(\"Salesfoce/blip-image-captioning-base\")\r\nprocessor = BlipProcessor.from_pretrained(\"Salesforce/blip-image-captioning-base\")\r\ntext = \"a picture of\" # the prefix is optional\r\n\r\ninputs = processor(image, text, return_tensors=\"pt\")\r\noutput = model.generate(**inputs)\r\n\r\nprint(processor.decode(output[0], skip_special_tokens=True))\r\n>>> a picture of a woman and a dog sitting in a beach\r\n```\r\n1- bis  Conditional Generation (Image captioning with no prefix!):\r\n```\r\nfrom PIL import Image\r\nimport requests\r\nfrom transformers import BlipForConditionalGeneration, BlipProcessor\r\n\r\nimg_url = 'https://storage.googleapis.com/sfr-vision-language-research/BLIP/demo.jpg' \r\nimage = Image.open(requests.get(img_url, stream=True).raw).convert('RGB')   \r\n\r\nmodel = BlipForConditionalGeneration.from_pretrained(\"Salesfoce/blip-image-captioning-base\")\r\nprocessor = BlipProcessor.from_pretrained(\"Salesforce/blip-image-captioning-base\")\r\n\r\ninputs = processor(image, return_tensors=\"pt\")\r\noutput = model.generate(**inputs)\r\n\r\nprint(processor.decode(output[0], skip_special_tokens=True))\r\n>>> an image of a woman and a dog sitting in a beach\r\n```\r\n\r\n2- Visual question answering\r\n```\r\nfrom PIL import Image\r\nimport requests\r\nfrom transformers import BlipForQuestionAnswering, BlipProcessor\r\n\r\nimg_url = 'https://storage.googleapis.com/sfr-vision-language-research/BLIP/demo.jpg' \r\nimage = Image.open(requests.get(img_url, stream=True).raw).convert('RGB')   \r\n\r\nmodel = BlipForVisualQuestionAnswering.from_pretrained(\"Salesforce/blip-vqa-base\")\r\nprocessor = BlipProcessor.from_pretrained(\"Salesforce/blip-vqa-base\")\r\n\r\nquestion = [\"How many dogs are in this image?\"]\r\ninputs = processor(image, text, return_tensors=\"pt\")\r\n\r\noutput = model.generate(**inputs)\r\nprint(processor.decode(output[0], skip_special_tokens=True))\r\n>>> 1 \r\n```\r\n\r\n3- Image text retrieval (score matching)\r\n```\r\nimport torch\r\nfrom PIL import Image\r\nimport requests\r\nfrom transformers import BlipForQuestionAnswering, BlipProcessor\r\n\r\nimg_url = 'https://storage.googleapis.com/sfr-vision-language-research/BLIP/demo.jpg' \r\nimage = Image.open(requests.get(img_url, stream=True).raw).convert('RGB')   \r\n\r\nmodel = BlipForImageTextRetrieval.from_pretrained(\"Salesforce/blip-vqa-base\")\r\nprocessor = BlipProcessor.from_pretrained(\"Salesforce/blip-vqa-base\")\r\n\r\nquestion = [\"A picture of a woman with a dog sitting in a beach\"]\r\ninputs = processor(image, question, return_tensors=\"pt\")\r\n\r\nout_itm = model(**inputs, use_itm_head=True)\r\nout = model(**inputs, use_itm_head=False)\r\n\r\nprint(out) # cosine similarity score\r\n>>> 0.21\r\nprint(torch.nn.functional.softmax(out_itm[0], dim=1)[:, 1])\r\n>>> 0.46\r\n```\r\n\r\ncc @NielsRogge \r\n\r\nFixes https://github.com/salesforce/LAVIS/issues/64",
      "closed_by": {
        "login": "younesbelkada",
        "id": 49240599,
        "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
        "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/younesbelkada",
        "html_url": "https://github.com/younesbelkada",
        "followers_url": "https://api.github.com/users/younesbelkada/followers",
        "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
        "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
        "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
        "repos_url": "https://api.github.com/users/younesbelkada/repos",
        "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
        "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/huggingface/transformers/issues/20716/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/huggingface/transformers/issues/20716/timeline",
      "performed_via_github_app": null,
      "state_reason": null,
      "comments_data": [
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1345545631",
          "html_url": "https://github.com/huggingface/transformers/pull/20716#issuecomment-1345545631",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20716",
          "id": 1345545631,
          "node_id": "IC_kwDOCUB6oc5QM2Wf",
          "user": {
            "login": "HuggingFaceDocBuilderDev",
            "id": 99929124,
            "node_id": "U_kgDOBfTMJA",
            "avatar_url": "https://avatars.githubusercontent.com/u/99929124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HuggingFaceDocBuilderDev",
            "html_url": "https://github.com/HuggingFaceDocBuilderDev",
            "followers_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/followers",
            "following_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/subscriptions",
            "organizations_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/orgs",
            "repos_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/repos",
            "events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HuggingFaceDocBuilderDev/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-11T12:46:49Z",
          "updated_at": "2022-12-21T08:41:38Z",
          "author_association": "NONE",
          "body": "_The documentation is not available anymore as the PR was closed or merged._",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1345545631/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1347024796",
          "html_url": "https://github.com/huggingface/transformers/pull/20716#issuecomment-1347024796",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20716",
          "id": 1347024796,
          "node_id": "IC_kwDOCUB6oc5QSfec",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-12T18:28:53Z",
          "updated_at": "2022-12-12T18:28:53Z",
          "author_association": "CONTRIBUTOR",
          "body": "The PR is in a good shape! Would love to have a first round of review! \ud83d\udcaa ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1347024796/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1348401103",
          "html_url": "https://github.com/huggingface/transformers/pull/20716#issuecomment-1348401103",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20716",
          "id": 1348401103,
          "node_id": "IC_kwDOCUB6oc5QXvfP",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-13T12:11:14Z",
          "updated_at": "2022-12-13T12:11:14Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks so much @sgugger @NielsRogge for your review, I can confirm the model weights and model cards are all up!",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1348401103/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1353178851",
          "html_url": "https://github.com/huggingface/transformers/pull/20716#issuecomment-1353178851",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20716",
          "id": 1353178851,
          "node_id": "IC_kwDOCUB6oc5Qp97j",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-15T14:27:09Z",
          "updated_at": "2022-12-15T14:27:09Z",
          "author_association": "CONTRIBUTOR",
          "body": "Thanks very much for the review @NielsRogge !! ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1353178851/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1353781768",
          "html_url": "https://github.com/huggingface/transformers/pull/20716#issuecomment-1353781768",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20716",
          "id": 1353781768,
          "node_id": "IC_kwDOCUB6oc5QsRII",
          "user": {
            "login": "younesbelkada",
            "id": 49240599,
            "node_id": "MDQ6VXNlcjQ5MjQwNTk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/49240599?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/younesbelkada",
            "html_url": "https://github.com/younesbelkada",
            "followers_url": "https://api.github.com/users/younesbelkada/followers",
            "following_url": "https://api.github.com/users/younesbelkada/following{/other_user}",
            "gists_url": "https://api.github.com/users/younesbelkada/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/younesbelkada/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/younesbelkada/subscriptions",
            "organizations_url": "https://api.github.com/users/younesbelkada/orgs",
            "repos_url": "https://api.github.com/users/younesbelkada/repos",
            "events_url": "https://api.github.com/users/younesbelkada/events{/privacy}",
            "received_events_url": "https://api.github.com/users/younesbelkada/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2022-12-15T22:13:53Z",
          "updated_at": "2022-12-15T22:13:53Z",
          "author_association": "CONTRIBUTOR",
          "body": "The failing CI test seems to be related to https://github.com/huggingface/transformers/pull/20790 ",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1353781768/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        },
        {
          "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1411074228",
          "html_url": "https://github.com/huggingface/transformers/pull/20716#issuecomment-1411074228",
          "issue_url": "https://api.github.com/repos/huggingface/transformers/issues/20716",
          "id": 1411074228,
          "node_id": "IC_kwDOCUB6oc5UG0i0",
          "user": {
            "login": "ivelin",
            "id": 2234901,
            "node_id": "MDQ6VXNlcjIyMzQ5MDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2234901?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ivelin",
            "html_url": "https://github.com/ivelin",
            "followers_url": "https://api.github.com/users/ivelin/followers",
            "following_url": "https://api.github.com/users/ivelin/following{/other_user}",
            "gists_url": "https://api.github.com/users/ivelin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ivelin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ivelin/subscriptions",
            "organizations_url": "https://api.github.com/users/ivelin/orgs",
            "repos_url": "https://api.github.com/users/ivelin/repos",
            "events_url": "https://api.github.com/users/ivelin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ivelin/received_events",
            "type": "User",
            "user_view_type": "public",
            "site_admin": false
          },
          "created_at": "2023-01-31T21:09:42Z",
          "updated_at": "2023-01-31T21:09:42Z",
          "author_association": "NONE",
          "body": "Awesome contribution! Thank you @younesbelkada.\r\n\r\nJust noticed Salesforce released BLIP2. Not sure how much work it would be to port to huggingface.\r\nhttps://github.com/salesforce/LAVIS/tree/main/projects/blip2\r\n\r\n",
          "reactions": {
            "url": "https://api.github.com/repos/huggingface/transformers/issues/comments/1411074228/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 2,
            "rocket": 0,
            "eyes": 0
          },
          "performed_via_github_app": null
        }
      ]
    }
  ],
  "recent_commits": [
    {
      "sha": "34133d0a790787739bfc9a42603985de3728ede4",
      "node_id": "C_kwDOCUB6odoAKDM0MTMzZDBhNzkwNzg3NzM5YmZjOWE0MjYwMzk4NWRlMzcyOGVkZTQ",
      "commit": {
        "author": {
          "name": "Yoni Gozlan",
          "email": "74535834+yonigozlan@users.noreply.github.com",
          "date": "2025-07-18T22:56:23Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-18T22:56:23Z"
        },
        "message": "Fix placeholders replacement logic in auto_docstring (#39433)\n\nFix and simplify placeholders replacement logic",
        "tree": {
          "sha": "01613c50f7c5d8a4653184e177d010b68c61a3a8",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/01613c50f7c5d8a4653184e177d010b68c61a3a8"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/34133d0a790787739bfc9a42603985de3728ede4",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoetEXCRC1aQ7uu5UhlAAAXN4QACES2JD2yuCAtF+S3Xw+IV4I\nTuUFZx97M3D4bEp4ko9xIiFkvnhTAAp9596viT1gxzAUkc9+Iqz8ggNldzqJRcIf\nhrS0OzD41qafQaaebI8LLZ/XHic3YhwqMTM4hSDMzaK+GJQU0Zt7S8pNQErRKUAq\n6gB2+l7MXL4mnmaTsuXzncClM9nGLwtsMIOCSvWdwQMIzdRjIMlzxckLDk9qF8jm\n5/dHg9MD0Sh88wbbtJY7q0TGYpuVmVFJgiCwt4DeQvfR9HQTu9xjtwGdmdGKM9ZM\n3VKCu896qW4mGfdBStDWoAcTr7huQeBbbXmqDW86jj0oIePGmKQQIKm4iecAeTDO\niWPAj4LnpZOB4GoqgLt96y33VL3YeVLy/GUistT1pJglVmReXcZ8Vg7kXK3+2htd\nAx1GaFDa9ykQ1QOr7/JboNXJv/hGo1+NpeC5UhxT4ku7+KvxYAnBOaiZ6ESlux4f\nbs5T/LAqM5Cf1371YfuccW7sJTzf/KqJ3ll6BRh9s8vonGW47YtHjA2c7JoJ/yYC\nd1RQe4090sZyt3nO2KM/xfAk6mVCNEsfiAKWN4wQZc/nrx0XE+emhHC/9+sfB6C8\nL3HY+G/QZPQg7NzinCw8zEBDkoOxCQhuaVZsyI8Z1wPC31pboHTqK6kW1fzSBWGB\ndaZgyXsKYfUaGIGPLHtU\n=cLVq\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 01613c50f7c5d8a4653184e177d010b68c61a3a8\nparent 433d2a23d734914e0a9903c6b7039d28daa6cbc1\nauthor Yoni Gozlan <74535834+yonigozlan@users.noreply.github.com> 1752879383 -0400\ncommitter GitHub <noreply@github.com> 1752879383 +0000\n\nFix placeholders replacement logic in auto_docstring (#39433)\n\nFix and simplify placeholders replacement logic",
          "verified_at": "2025-07-18T22:56:24Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/34133d0a790787739bfc9a42603985de3728ede4",
      "html_url": "https://github.com/huggingface/transformers/commit/34133d0a790787739bfc9a42603985de3728ede4",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/34133d0a790787739bfc9a42603985de3728ede4/comments",
      "author": {
        "login": "yonigozlan",
        "id": 74535834,
        "node_id": "MDQ6VXNlcjc0NTM1ODM0",
        "avatar_url": "https://avatars.githubusercontent.com/u/74535834?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yonigozlan",
        "html_url": "https://github.com/yonigozlan",
        "followers_url": "https://api.github.com/users/yonigozlan/followers",
        "following_url": "https://api.github.com/users/yonigozlan/following{/other_user}",
        "gists_url": "https://api.github.com/users/yonigozlan/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/yonigozlan/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yonigozlan/subscriptions",
        "organizations_url": "https://api.github.com/users/yonigozlan/orgs",
        "repos_url": "https://api.github.com/users/yonigozlan/repos",
        "events_url": "https://api.github.com/users/yonigozlan/events{/privacy}",
        "received_events_url": "https://api.github.com/users/yonigozlan/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "433d2a23d734914e0a9903c6b7039d28daa6cbc1",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/433d2a23d734914e0a9903c6b7039d28daa6cbc1",
          "html_url": "https://github.com/huggingface/transformers/commit/433d2a23d734914e0a9903c6b7039d28daa6cbc1"
        }
      ]
    },
    {
      "sha": "433d2a23d734914e0a9903c6b7039d28daa6cbc1",
      "node_id": "C_kwDOCUB6odoAKDQzM2QyYTIzZDczNDkxNGUwYTk5MDNjNmI3MDM5ZDI4ZGFhNmNiYzE",
      "commit": {
        "author": {
          "name": "Yoni Gozlan",
          "email": "74535834+yonigozlan@users.noreply.github.com",
          "date": "2025-07-18T22:46:27Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-18T22:46:27Z"
        },
        "message": "Update SAM/SAM HQ attention implementation + fix Cuda sync issues (#39386)\n\n* update attention implementation and improve inference speed\n\n* modular sam_hq + fix integration tests on A10\n\n* fixup\n\n* fix after review\n\n* softmax in correct place\n\n* return attn_weights in sam/sam_hq",
        "tree": {
          "sha": "96c86e137560ee216fdc92d11b17f886590b3e8e",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/96c86e137560ee216fdc92d11b17f886590b3e8e"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/433d2a23d734914e0a9903c6b7039d28daa6cbc1",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoes7DCRC1aQ7uu5UhlAAA3GsQAJ62JOJcJx8fDoX0B1ytDuIm\nwwuQKNmrX4rACjYZoCvqUVFkDoiU6X3xxUT1yNqgUGDFkK1UcZZDZniksrTdPpYl\nsXxFCzuKf1AI6Cylc5r2YU0Ys8CpaJE4N89Mfeqj/YXqd6JrLEOYcAyNXl4H85tt\nPeKRwRxOtjwKMuDno/0t6tH2TXdLuWMCXVTup0QwjkcyHVoJGzT2P4SqndsPRdcB\nDZR5yjLXILVMinsB2Rg+g/qp/bZYrQPwPMn8hUX3grLXA7DUks+sWdTNE+olhOhK\nfCwDAKCik0XmEANAFcdf6+FTLZjwL/TxV9DJdBrbAm48XSgCV7PG1CGUJuKcOmfM\npsSF9lrAFk1bMy5bvqv2MoGmBu7CIQGWhEaKgQZAwsBXToGVJn1pmjTgILfEke2R\nP/1xTSMynQf245fy7Bdsm8BYx80TS3HSffaoQGyLZ3lvxSHheXjYrl98QSwZNh5A\nIqoV/MA9MRcnrLd8/cw5queCidhDrvJtldryljxMf4FYMI/HShJP4T2G6ffdpEBz\nQVJRNVI8z62io5AJL2JGV4j63uCzl26b/vWn/TKyzgnTJgoD/MZx/Luzz/94BCj2\nwwWAkhkWrQvRnd6xAClWN3o/6M6QKOJ9UWaDh7JSonHnA3VtCulBVNBapzbaF1oo\nFjSrSAZiKn8+xU8Gxu2r\n=A9yL\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 96c86e137560ee216fdc92d11b17f886590b3e8e\nparent 541bed22d6e4f97946a3a7d74f7e1a353e58643b\nauthor Yoni Gozlan <74535834+yonigozlan@users.noreply.github.com> 1752878787 -0400\ncommitter GitHub <noreply@github.com> 1752878787 -0400\n\nUpdate SAM/SAM HQ attention implementation + fix Cuda sync issues (#39386)\n\n* update attention implementation and improve inference speed\n\n* modular sam_hq + fix integration tests on A10\n\n* fixup\n\n* fix after review\n\n* softmax in correct place\n\n* return attn_weights in sam/sam_hq",
          "verified_at": "2025-07-18T22:46:28Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/433d2a23d734914e0a9903c6b7039d28daa6cbc1",
      "html_url": "https://github.com/huggingface/transformers/commit/433d2a23d734914e0a9903c6b7039d28daa6cbc1",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/433d2a23d734914e0a9903c6b7039d28daa6cbc1/comments",
      "author": {
        "login": "yonigozlan",
        "id": 74535834,
        "node_id": "MDQ6VXNlcjc0NTM1ODM0",
        "avatar_url": "https://avatars.githubusercontent.com/u/74535834?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yonigozlan",
        "html_url": "https://github.com/yonigozlan",
        "followers_url": "https://api.github.com/users/yonigozlan/followers",
        "following_url": "https://api.github.com/users/yonigozlan/following{/other_user}",
        "gists_url": "https://api.github.com/users/yonigozlan/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/yonigozlan/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yonigozlan/subscriptions",
        "organizations_url": "https://api.github.com/users/yonigozlan/orgs",
        "repos_url": "https://api.github.com/users/yonigozlan/repos",
        "events_url": "https://api.github.com/users/yonigozlan/events{/privacy}",
        "received_events_url": "https://api.github.com/users/yonigozlan/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "541bed22d6e4f97946a3a7d74f7e1a353e58643b",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/541bed22d6e4f97946a3a7d74f7e1a353e58643b",
          "html_url": "https://github.com/huggingface/transformers/commit/541bed22d6e4f97946a3a7d74f7e1a353e58643b"
        }
      ]
    },
    {
      "sha": "541bed22d6e4f97946a3a7d74f7e1a353e58643b",
      "node_id": "C_kwDOCUB6odoAKDU0MWJlZDIyZDZlNGY5Nzk0NmEzYTdkNzRmN2UxYTM1M2U1ODY0M2I",
      "commit": {
        "author": {
          "name": "Yoni Gozlan",
          "email": "74535834+yonigozlan@users.noreply.github.com",
          "date": "2025-07-18T18:00:34Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-18T18:00:34Z"
        },
        "message": "Improve @auto_docstring doc and rename `args_doc.py` to `auto_docstring.py` (#39439)\n\n* rename `args_doc.py` to `auto_docstring.py` and improve doc\n\n* modifs after review",
        "tree": {
          "sha": "0933c7f355a894929af86cc8fa680c144d9cbc53",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/0933c7f355a894929af86cc8fa680c144d9cbc53"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/541bed22d6e4f97946a3a7d74f7e1a353e58643b",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoeovDCRC1aQ7uu5UhlAAAnpwQAE0i0ldb6qGBhSbamTXR6I9n\n2k1Pl3czfbKc3wQo3r9KILYf+oKBhlhjk2jeGDbPGa807O4U/DzzngYtOp+AH0m/\nNTZNiMemeOntQrNs8cInmp8UIbWnN360VKcf2iH0Kh3SbvWnchjMIh/Od1nPPId7\n6INuAU8nBz49yl5jWkQ52aHVZBbprdFG5NCpLbEtdzoo8i0FEqyeG3Bd9HZnN0Ac\nlkw4xZ2nPglGRs8CJZIvWbtPHWCnuTCqpvDG7zAROTlLBa2haThKBjRC5B2cD0Kw\nXUhtKbNc7Prvafp2efrLDZuZzV8tyfc67SmB1v4JKuk9liJHY8m5uHyyGd51JQn7\nuI1i1RinGv0ntV5rqwTakbV6wA8vcrMbofMoNOWjBwlHS0wcMHmdXuM4p2ky2Eqo\nEUeRtLXo81ZAMdwX0GDCTVPsghrMCu+0yhE7+nNig1RHt5nFbi9XonjfrBEdqSPT\nXZiCoRPiPvytgPAcnuZpCR9n15xBLj7uvUNChIxM1U9NZQnbEwo7JE/knR7R0bNL\n7LFHYUJNy/LeGxZXnBaInQEABQON+YBXPqq4SyUhUklh9lg6mBkJ7DqPnk2VmI9p\nwHbvHKLghQkTkt9Rbr6moHuQZrGJ0HUVYoFMn4n3dNIxbXr83d/aljiuttvsWNSW\nwGHGOBRFquTreeJwe4oM\n=tsZc\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 0933c7f355a894929af86cc8fa680c144d9cbc53\nparent de0dd3139df7fe6f521b54958829a59f89acb2c8\nauthor Yoni Gozlan <74535834+yonigozlan@users.noreply.github.com> 1752861634 -0400\ncommitter GitHub <noreply@github.com> 1752861634 +0000\n\nImprove @auto_docstring doc and rename `args_doc.py` to `auto_docstring.py` (#39439)\n\n* rename `args_doc.py` to `auto_docstring.py` and improve doc\n\n* modifs after review",
          "verified_at": "2025-07-18T18:00:35Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/541bed22d6e4f97946a3a7d74f7e1a353e58643b",
      "html_url": "https://github.com/huggingface/transformers/commit/541bed22d6e4f97946a3a7d74f7e1a353e58643b",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/541bed22d6e4f97946a3a7d74f7e1a353e58643b/comments",
      "author": {
        "login": "yonigozlan",
        "id": 74535834,
        "node_id": "MDQ6VXNlcjc0NTM1ODM0",
        "avatar_url": "https://avatars.githubusercontent.com/u/74535834?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yonigozlan",
        "html_url": "https://github.com/yonigozlan",
        "followers_url": "https://api.github.com/users/yonigozlan/followers",
        "following_url": "https://api.github.com/users/yonigozlan/following{/other_user}",
        "gists_url": "https://api.github.com/users/yonigozlan/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/yonigozlan/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yonigozlan/subscriptions",
        "organizations_url": "https://api.github.com/users/yonigozlan/orgs",
        "repos_url": "https://api.github.com/users/yonigozlan/repos",
        "events_url": "https://api.github.com/users/yonigozlan/events{/privacy}",
        "received_events_url": "https://api.github.com/users/yonigozlan/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "de0dd3139df7fe6f521b54958829a59f89acb2c8",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/de0dd3139df7fe6f521b54958829a59f89acb2c8",
          "html_url": "https://github.com/huggingface/transformers/commit/de0dd3139df7fe6f521b54958829a59f89acb2c8"
        }
      ]
    },
    {
      "sha": "de0dd3139df7fe6f521b54958829a59f89acb2c8",
      "node_id": "C_kwDOCUB6odoAKGRlMGRkMzEzOWRmN2ZlNmY1MjFiNTQ5NTg4MjlhNTlmODlhY2IyYzg",
      "commit": {
        "author": {
          "name": "Yoni Gozlan",
          "email": "74535834+yonigozlan@users.noreply.github.com",
          "date": "2025-07-18T17:27:16Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-18T17:27:16Z"
        },
        "message": "Add fast image processor SAM (#39385)\n\n* add fast image processor sam\n\n* nits",
        "tree": {
          "sha": "00e7cee51bd6d87bf123fa318bec4c076741ace8",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/00e7cee51bd6d87bf123fa318bec4c076741ace8"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/de0dd3139df7fe6f521b54958829a59f89acb2c8",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoeoP0CRC1aQ7uu5UhlAAALMIQACl14yDSQPrRrzJyhqP57l9l\ncu7V32YQKTfu4heVPLKKrQmmS1arEF7ucy5RV+f+Z7qY39jU+Ztj0SR2KfHyS/k2\nEjjSz/O2aN3spnMmEFT9OQOEDSWa0y9j/6CZ+JHf6pHeTh6JNIm+1/uYlFF8Cwiy\nFWdqYSG9AHIK0ikKv1NDQysab5VAB6roUeH1RHzxsu6vG6jPCEk8vkQSD8/J6mU7\nMo5xmMieVKrataUew1pSMuoxaKh+5Kc7cEcFCFxUE5AJYUSZnQR05EFemWzJ7Rt1\nH+Q5uwgxICMS6G+Qr9ljXVHtQRf/PF3+G2wsR6yZIynQYCQ8Mxz352fjgaPiW9hf\njXM4I9eidVCBERl596/XxBrI08QZxH9yefDxCtnWCTS33u98GYByNlFPSBjrT0vW\n9aFB9x1JDkgxu1z00sI5ab2uq4pRksso/6y30UODuVQwjch+OhQa5XLGUG4MEPUG\nk0qbw6v5MzklifLAIWp/qyMR8DXKs0owD88LleKjIf/sAZeuAviexiiqula6t79v\nJ+a8gP0yWfvLh2ZqyPQMuj56/asYU37Mh6Azl84WIrhcWWVKHmZPFxZDj6ZsoZUj\nozQL8oQS08Z98BomuOnA1PShGtqokNpUKxA/PMbJjAXVdC+oazSfHlc2nnT11zQ6\nNJ3EdFWFb8CTx6UJtJ3n\n=+NUM\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 00e7cee51bd6d87bf123fa318bec4c076741ace8\nparent 561a79a2f4b5929f71266fb0ec1e2493c419d808\nauthor Yoni Gozlan <74535834+yonigozlan@users.noreply.github.com> 1752859636 -0400\ncommitter GitHub <noreply@github.com> 1752859636 +0000\n\nAdd fast image processor SAM (#39385)\n\n* add fast image processor sam\n\n* nits",
          "verified_at": "2025-07-18T17:27:16Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/de0dd3139df7fe6f521b54958829a59f89acb2c8",
      "html_url": "https://github.com/huggingface/transformers/commit/de0dd3139df7fe6f521b54958829a59f89acb2c8",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/de0dd3139df7fe6f521b54958829a59f89acb2c8/comments",
      "author": {
        "login": "yonigozlan",
        "id": 74535834,
        "node_id": "MDQ6VXNlcjc0NTM1ODM0",
        "avatar_url": "https://avatars.githubusercontent.com/u/74535834?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yonigozlan",
        "html_url": "https://github.com/yonigozlan",
        "followers_url": "https://api.github.com/users/yonigozlan/followers",
        "following_url": "https://api.github.com/users/yonigozlan/following{/other_user}",
        "gists_url": "https://api.github.com/users/yonigozlan/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/yonigozlan/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yonigozlan/subscriptions",
        "organizations_url": "https://api.github.com/users/yonigozlan/orgs",
        "repos_url": "https://api.github.com/users/yonigozlan/repos",
        "events_url": "https://api.github.com/users/yonigozlan/events{/privacy}",
        "received_events_url": "https://api.github.com/users/yonigozlan/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "561a79a2f4b5929f71266fb0ec1e2493c419d808",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/561a79a2f4b5929f71266fb0ec1e2493c419d808",
          "html_url": "https://github.com/huggingface/transformers/commit/561a79a2f4b5929f71266fb0ec1e2493c419d808"
        }
      ]
    },
    {
      "sha": "561a79a2f4b5929f71266fb0ec1e2493c419d808",
      "node_id": "C_kwDOCUB6odoAKDU2MWE3OWEyZjRiNTkyOWY3MTI2NmZiMGVjMWUyNDkzYzQxOWQ4MDg",
      "commit": {
        "author": {
          "name": "Enno Hermann",
          "email": "Eginhard@users.noreply.github.com",
          "date": "2025-07-18T13:14:45Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-18T13:14:45Z"
        },
        "message": "Fix BatchEncoding.to() for nested elements (#38985)",
        "tree": {
          "sha": "ddfee6b4d954395a06e5ca7ed3a267f70eaabe2b",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/ddfee6b4d954395a06e5ca7ed3a267f70eaabe2b"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/561a79a2f4b5929f71266fb0ec1e2493c419d808",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoekjFCRC1aQ7uu5UhlAAAr24QAE0Y+XhVBETu7D4sJ58jRkUY\n4j0BmXmVj96u3RtnoIYetfiQAUh5gPWZDKK8ebWZqPSFVaF/WKGtkUS/KxQjv0uP\nd+Lud6wQjCJ2noO2TBuW+j8SbqDJGNc/aL17gQDkaiQBdByjMLWE3E1klMKkBf3T\nSqlIUZdPxGncIKU7l1HRNa67OlSsxRSrV4/0MbHQND638FFepwvcdrRTlQB0tQof\ntjzZSf1hYfjRMBUFp0xyW3+R7yyyWY1+qH1BPzKrRZZIMtNsJTDUU6rz3RyPbwV5\nklq/TSfQ5tYzd6vP2PyJCtgpH4LlqgWr963CBTpzqRXGG9wIOnUBbc7gGErOY3Sy\n8EcYT1LziJtaVo+L72BcUZZkPJ7xeEgvJ2dvYCv+bfuGnJXmmbcE2JqXSBejvhTJ\n576IH/tuoxJFLU73f8MFzkhHYObiOE31eaU5w6LwQBtIl/fi4x+188IfmTJHotz0\nKKDIzH82U9PeAoxhrDmUinqjHmwW7MuOnSnT/QCH1ofp0gOWu8b4YmHZqM46myJs\nBUaPFGs4LzJYrsw8Wek8wqMa4CZF7aGbf1rl39UhzVoON0RY9iGpdYC3L8PUKIkp\nR53VjEJihE74tKeBXJ4q+YSqoCkdmwrG341vIYmuuPHw1ooom6/PuNTpWrOo0CWm\nhu4U0D6kfTV4bySiAs9+\n=AfX8\n-----END PGP SIGNATURE-----\n",
          "payload": "tree ddfee6b4d954395a06e5ca7ed3a267f70eaabe2b\nparent f4d076561f21a166e836126d6b5c061b9235df89\nauthor Enno Hermann <Eginhard@users.noreply.github.com> 1752844485 +0200\ncommitter GitHub <noreply@github.com> 1752844485 +0100\n\nFix BatchEncoding.to() for nested elements (#38985)\n\n",
          "verified_at": "2025-07-18T13:14:46Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/561a79a2f4b5929f71266fb0ec1e2493c419d808",
      "html_url": "https://github.com/huggingface/transformers/commit/561a79a2f4b5929f71266fb0ec1e2493c419d808",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/561a79a2f4b5929f71266fb0ec1e2493c419d808/comments",
      "author": {
        "login": "eginhard",
        "id": 5216613,
        "node_id": "MDQ6VXNlcjUyMTY2MTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/5216613?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eginhard",
        "html_url": "https://github.com/eginhard",
        "followers_url": "https://api.github.com/users/eginhard/followers",
        "following_url": "https://api.github.com/users/eginhard/following{/other_user}",
        "gists_url": "https://api.github.com/users/eginhard/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/eginhard/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/eginhard/subscriptions",
        "organizations_url": "https://api.github.com/users/eginhard/orgs",
        "repos_url": "https://api.github.com/users/eginhard/repos",
        "events_url": "https://api.github.com/users/eginhard/events{/privacy}",
        "received_events_url": "https://api.github.com/users/eginhard/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "f4d076561f21a166e836126d6b5c061b9235df89",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/f4d076561f21a166e836126d6b5c061b9235df89",
          "html_url": "https://github.com/huggingface/transformers/commit/f4d076561f21a166e836126d6b5c061b9235df89"
        }
      ]
    },
    {
      "sha": "f4d076561f21a166e836126d6b5c061b9235df89",
      "node_id": "C_kwDOCUB6odoAKGY0ZDA3NjU2MWYyMWExNjZlODM2MTI2ZDZiNWMwNjFiOTIzNWRmODk",
      "commit": {
        "author": {
          "name": "Mohit Deopujari",
          "email": "mdeopujari@habana.ai",
          "date": "2025-07-18T12:33:00Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-18T12:33:00Z"
        },
        "message": "[gemma3] Fix do_convert_rgb in image processors. (#39438)\n\n* [gemma3] Fix do_convert_rgb in image processors.\n\n* [gemma3] Fix do_convert_rgb in image processors.",
        "tree": {
          "sha": "075b910d0c1556bd98beb4e17d8e338bad05ea6b",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/075b910d0c1556bd98beb4e17d8e338bad05ea6b"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/f4d076561f21a166e836126d6b5c061b9235df89",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoej78CRC1aQ7uu5UhlAAAiHgQAJNJlkXZldwU0WzBIgQiSMSq\nniLdZRzMnLkvt4Q5Ldi5N2iskdmicujiO6BjemzcO9RxeaCE3K0NieUC5upPCsOc\nOG8DVsNxt8PGJxxVopHxgdNcE8uWfYsWH7gAkOs9lB00U3lsXyvzAVX/yqTDgDlQ\n7cJ5l8uT1HaXO57ow/s5adkrbCFYKlPNW9tgT0v0UIW/Kh1pS4NuG9N8cKrIg1+c\nMhC1MekS2g62TPSzrxBQJuBSF+3rgJ4PVznkSd58FfqADTWcWRLHQirRsAQZcuFe\nQ2eeKyxkiJdXzKO8gLt1J/DRQPQL1/bV2JF2hbkJ4uewb1ObfxypQj6eZ/DMOi2Z\ne0PgpsIa9FrC97hFnEa6296cvRkjdXR+5x0ivKGR0OE3ztGYN5Fq5fdRv1UHTPZP\nAZkeb3o0TaZD2VSFhTGnkRSvIiylGiVN/R5K0uXL6t+tjOtxvB8uQ/CyWS58rfN5\nqIpj5NcQckN/330dEZFhVrelPhu87SiBOlP/wQqs4L4LBFe55lS6jNsqjaU+m5Z4\n5t8N6WXGPA6NBRI2XIVGMWK+u4KOT/EgkCu6QyZhG+wQBabnEc/Je1Elm1A+7LMA\n6Z41Ic8IJIwoZ2IuZ0pYG251OMZ26MZpD2YOv/KVAlFdwDEV/UXIiG0yRtWAARlk\nPeKDjWUljeO2eX/YiKFZ\n=hteq\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 075b910d0c1556bd98beb4e17d8e338bad05ea6b\nparent bcc009193761356784218dac587f5f191e05eb2c\nauthor Mohit Deopujari <mdeopujari@habana.ai> 1752841980 -0700\ncommitter GitHub <noreply@github.com> 1752841980 +0000\n\n[gemma3] Fix do_convert_rgb in image processors. (#39438)\n\n* [gemma3] Fix do_convert_rgb in image processors.\n\n* [gemma3] Fix do_convert_rgb in image processors.",
          "verified_at": "2025-07-18T12:33:01Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/f4d076561f21a166e836126d6b5c061b9235df89",
      "html_url": "https://github.com/huggingface/transformers/commit/f4d076561f21a166e836126d6b5c061b9235df89",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/f4d076561f21a166e836126d6b5c061b9235df89/comments",
      "author": {
        "login": "MohitIntel",
        "id": 49886570,
        "node_id": "MDQ6VXNlcjQ5ODg2NTcw",
        "avatar_url": "https://avatars.githubusercontent.com/u/49886570?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MohitIntel",
        "html_url": "https://github.com/MohitIntel",
        "followers_url": "https://api.github.com/users/MohitIntel/followers",
        "following_url": "https://api.github.com/users/MohitIntel/following{/other_user}",
        "gists_url": "https://api.github.com/users/MohitIntel/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/MohitIntel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/MohitIntel/subscriptions",
        "organizations_url": "https://api.github.com/users/MohitIntel/orgs",
        "repos_url": "https://api.github.com/users/MohitIntel/repos",
        "events_url": "https://api.github.com/users/MohitIntel/events{/privacy}",
        "received_events_url": "https://api.github.com/users/MohitIntel/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "bcc009193761356784218dac587f5f191e05eb2c",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/bcc009193761356784218dac587f5f191e05eb2c",
          "html_url": "https://github.com/huggingface/transformers/commit/bcc009193761356784218dac587f5f191e05eb2c"
        }
      ]
    },
    {
      "sha": "bcc009193761356784218dac587f5f191e05eb2c",
      "node_id": "C_kwDOCUB6odoAKGJjYzAwOTE5Mzc2MTM1Njc4NDIxOGRhYzU4N2Y1ZjE5MWUwNWViMmM",
      "commit": {
        "author": {
          "name": "Raushan Turganbay",
          "email": "raushan@huggingface.co",
          "date": "2025-07-18T12:23:20Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-18T12:23:20Z"
        },
        "message": "[chat template] return assistant mask in processors (#38545)\n\n* messed up the git history, squash commits\n\n* raise error if slow and refine tests\n\n* index was off by one\n\n* fix the test",
        "tree": {
          "sha": "381235855d01d002fb5d11f460a6673b9acef770",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/381235855d01d002fb5d11f460a6673b9acef770"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/bcc009193761356784218dac587f5f191e05eb2c",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoejy4CRC1aQ7uu5UhlAAAjOwQAHO76pE9+h5wzVcQ6MHKguzI\niqJuGseahvStqQbXJj8vYeRkTBcDzQ96ej0PLzDKFV6h4MS8HBKkJRpeNb9abGNM\nMXXzdRV2yCFzYIhMs4GbVcOdpCMlwq/S7gPAYp7/JMgOnI3mpbC/fqnsmgU2c1H7\nCqscgbiq+aSacWl2lAFP624/O8zg3R7enyBs9BQEtfu+tGOXg18RCEYbWOhHdZbc\nC2fb8wvY6G3JLV/23Qz0gNR1Gb3QYjqe55NLrTkupy9ASsLfN3EWi9Lbfo+KFe4J\nvyemMvxfRA5X+wR8VBGmY0Gl8BTUBI43XR/l+7RobLB+HcnY32FSJt5ZBhRVuFwz\n+j0Qns0Hfba/LaSWyunwoFNa4gjT9mt0GJ/jcGPSC57NA3D3zk8+5M38EDrFNpiV\nkLPopHIGDZpCwyBC10/Zs1dCIh0XlKqR9qVzs9hXlzwe8F0osYxnjtfEmXCBPLo8\n1KIN+D+YP9F3rFKESr9wGQ5wukbsN4Um59659+BjOTaejh/+PvRjG9NGFOljmMEn\niQ0eZIFaIHaaKJnRCCluAoxqhMonFwrgWN7mdo9yQR9DuwSk4w6jA+oh3s0eNjup\nVRGQlAEo4X3ud41P0uf3N6fkh+Fgm8iz8PRucDB6Q/l6fX64TqM7CfAvz5+H5OYM\nqPT8uGkuKu4+CJOysPjL\n=aUdI\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 381235855d01d002fb5d11f460a6673b9acef770\nparent 328ca9cf1d15c0737f31c718071802584186aae8\nauthor Raushan Turganbay <raushan@huggingface.co> 1752841400 +0200\ncommitter GitHub <noreply@github.com> 1752841400 +0000\n\n[chat template] return assistant mask in processors (#38545)\n\n* messed up the git history, squash commits\n\n* raise error if slow and refine tests\n\n* index was off by one\n\n* fix the test",
          "verified_at": "2025-07-18T12:23:21Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/bcc009193761356784218dac587f5f191e05eb2c",
      "html_url": "https://github.com/huggingface/transformers/commit/bcc009193761356784218dac587f5f191e05eb2c",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/bcc009193761356784218dac587f5f191e05eb2c/comments",
      "author": {
        "login": "zucchini-nlp",
        "id": 100715397,
        "node_id": "U_kgDOBgDLhQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/100715397?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zucchini-nlp",
        "html_url": "https://github.com/zucchini-nlp",
        "followers_url": "https://api.github.com/users/zucchini-nlp/followers",
        "following_url": "https://api.github.com/users/zucchini-nlp/following{/other_user}",
        "gists_url": "https://api.github.com/users/zucchini-nlp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/zucchini-nlp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zucchini-nlp/subscriptions",
        "organizations_url": "https://api.github.com/users/zucchini-nlp/orgs",
        "repos_url": "https://api.github.com/users/zucchini-nlp/repos",
        "events_url": "https://api.github.com/users/zucchini-nlp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/zucchini-nlp/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "328ca9cf1d15c0737f31c718071802584186aae8",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/328ca9cf1d15c0737f31c718071802584186aae8",
          "html_url": "https://github.com/huggingface/transformers/commit/328ca9cf1d15c0737f31c718071802584186aae8"
        }
      ]
    },
    {
      "sha": "328ca9cf1d15c0737f31c718071802584186aae8",
      "node_id": "C_kwDOCUB6odoAKDMyOGNhOWNmMWQxNWMwNzM3ZjMxYzcxODA3MTgwMjU4NDE4NmFhZTg",
      "commit": {
        "author": {
          "name": "Joao Gante",
          "email": "joaofranciscocardosogante@gmail.com",
          "date": "2025-07-18T12:05:28Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-18T12:05:28Z"
        },
        "message": "[dependencies] Update `datasets` pin (#39500)\n\n* pyarrow pin\n\n* make fixup\n\n* test?\n\n* like this?\n\n* like this?\n\n* like this?\n\n* datasets pin\n\n* comment",
        "tree": {
          "sha": "151c1ddb6769fe0636347ce26f1e705d8c18bb7f",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/151c1ddb6769fe0636347ce26f1e705d8c18bb7f"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/328ca9cf1d15c0737f31c718071802584186aae8",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoejiJCRC1aQ7uu5UhlAAAcIsQAK+GP04Myee2wXqFUsdh1p+A\nWIeXi0nriKR1Pw8A6HjXcp/rMU6A7X+IqYfbRnOoIS/7W+T9vPtBOuSkc89CVmRH\nX1tkiJm5DlklYXQQtubwSgeGXeszaFd4c9VaxGcaMrO43r+mF8+WKxv4gpuYJYQp\nD4A5w0j3hHSHlMMuD5le0GMTz0DqGKhtUSL+op9GhJ+dwpb76VUbkaRiicAM1sYh\nQMVomO5pi6fiDAtzzEHGcCqU6/4js7fN4hGUNHjK2Hy/lt556nJ86RjjRz8TEhUw\nG2qzzjNZvrXtNl6LjHCyewISFs2bJnUm9pWDUYa5JRZ5DFvzt8/QRmJRt4jYfkCs\nbzyGrUV/Ng1EaBn/4KZ92OVvHW8HbGeTdbz83AqLCKghwknObgAfqeVc1T3TruAi\nte4/3QacZvecfURIHnHpfay6dE2yb8A8nwrrC4OlrBkgrN+nJ/aPpGW8qUP561lm\nF5m+LOstpwssceilOpH7f5YB3AWzCIfqxqKIJy1FvDUUIAUTuuJFhpQx3dlTBuaS\ni9gQUBsO9XecQhO9aj184LImvKsTeOpWKWDgwRvZIiIFBdg0hoV7g1DKvZglq9V3\n6n7s8F7iQnWK3aQcgFEWNbOc86EeBcV729CDRfHedxpNei9Gl0YMNC3ssC/sdblT\nycC4cB/h4ol5lPo2L2JL\n=aMv4\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 151c1ddb6769fe0636347ce26f1e705d8c18bb7f\nparent fb58377700da8ab8c580d906e8e7b19f720a5a40\nauthor Joao Gante <joaofranciscocardosogante@gmail.com> 1752840328 +0100\ncommitter GitHub <noreply@github.com> 1752840328 +0000\n\n[dependencies] Update `datasets` pin (#39500)\n\n* pyarrow pin\n\n* make fixup\n\n* test?\n\n* like this?\n\n* like this?\n\n* like this?\n\n* datasets pin\n\n* comment",
          "verified_at": "2025-07-18T12:05:29Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/328ca9cf1d15c0737f31c718071802584186aae8",
      "html_url": "https://github.com/huggingface/transformers/commit/328ca9cf1d15c0737f31c718071802584186aae8",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/328ca9cf1d15c0737f31c718071802584186aae8/comments",
      "author": {
        "login": "gante",
        "id": 12240844,
        "node_id": "MDQ6VXNlcjEyMjQwODQ0",
        "avatar_url": "https://avatars.githubusercontent.com/u/12240844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gante",
        "html_url": "https://github.com/gante",
        "followers_url": "https://api.github.com/users/gante/followers",
        "following_url": "https://api.github.com/users/gante/following{/other_user}",
        "gists_url": "https://api.github.com/users/gante/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/gante/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gante/subscriptions",
        "organizations_url": "https://api.github.com/users/gante/orgs",
        "repos_url": "https://api.github.com/users/gante/repos",
        "events_url": "https://api.github.com/users/gante/events{/privacy}",
        "received_events_url": "https://api.github.com/users/gante/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "fb58377700da8ab8c580d906e8e7b19f720a5a40",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/fb58377700da8ab8c580d906e8e7b19f720a5a40",
          "html_url": "https://github.com/huggingface/transformers/commit/fb58377700da8ab8c580d906e8e7b19f720a5a40"
        }
      ]
    },
    {
      "sha": "fb58377700da8ab8c580d906e8e7b19f720a5a40",
      "node_id": "C_kwDOCUB6odoAKGZiNTgzNzc3MDBkYThhYjhjNTgwZDkwNmU4ZTdiMTlmNzIwYTVhNDA",
      "commit": {
        "author": {
          "name": "\u00c1kos Hadnagy",
          "email": "akos@ahadnagy.com",
          "date": "2025-07-18T11:45:47Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-18T11:45:47Z"
        },
        "message": "Slack CI bot: set default result for non-existing artifacts (#39499)\n\n* Set default result for non-existing artifacts\n\n* FMT\n\n* Address review comments",
        "tree": {
          "sha": "858fa7ccac796ba41ad0b3caacd32b9a8ba92b32",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/858fa7ccac796ba41ad0b3caacd32b9a8ba92b32"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/fb58377700da8ab8c580d906e8e7b19f720a5a40",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoejPrCRC1aQ7uu5UhlAAAy84QAHKnT0HnvkNZVus3uUOGlgcv\n4hIzr4mNXII7cUexUQR7uehbe2Emn/8py76i7HVfs4HPUCjwGDtZL3sAdRaXIfYg\nTk3SFTRZkpFfuKXq4QJgZl8XlNgK3IFcJP++Si6R/Qsu/n61ceiYE3UNUT/wYP12\nJzhaTa4FLi1pNfCUqxnQoxg4cbqJaHwKocRYyrpDJoYklPHy4csAxaHNx1gKTJVw\nQgjv4P3+BYmz1vuNNIWn2Ry9CCav/RXWXep57Ct3FY/X7UVRySwsSUHYSj+oyXnk\nUeeco5oF7c4uAgyA9TmL6Z275TMs54Fwyu1lpWWuBbyNvjwzg0EVVCeBTmhOL9Aa\noFregmKrXd7g7Gl2bHHY368T6j3KM5qkw8wM4oaJXo5JNLE8h3o+R5ZAoqS+6I/t\nEyHlSPOWnErAgV3mPdGi0TMHV6lfaGKaWVbPcbS+lCIqt/pSDdCR7+qLJfw1U261\nNEdzuFPIz6+kfCO0DUDDsLTt5Ujs81GSHtAW5vTk9KO+ttS6KYJv1c+XUfqrFfQU\n6/xS/NrVXJ1NsCw+Fe/EH7vBWmWDy1/T3aMn6B5OV55pvVcAzsxSidiPqxNCjBaj\ni3zY/9WGzzqr+Ll2Kj0/RNOEQ4tIYFTca+VjnoFjLiI3ZldWdBilES94Nus6c8Gv\nB1Rrcu0ibL7yOtCq5HRL\n=Ggkg\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 858fa7ccac796ba41ad0b3caacd32b9a8ba92b32\nparent 4ded9a41138773af49c70eac3fca7ad6ba9ede03\nauthor \u00c1kos Hadnagy <akos@ahadnagy.com> 1752839147 +0200\ncommitter GitHub <noreply@github.com> 1752839147 +0000\n\nSlack CI bot: set default result for non-existing artifacts (#39499)\n\n* Set default result for non-existing artifacts\n\n* FMT\n\n* Address review comments",
          "verified_at": "2025-07-18T11:45:48Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/fb58377700da8ab8c580d906e8e7b19f720a5a40",
      "html_url": "https://github.com/huggingface/transformers/commit/fb58377700da8ab8c580d906e8e7b19f720a5a40",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/fb58377700da8ab8c580d906e8e7b19f720a5a40/comments",
      "author": {
        "login": "ahadnagy",
        "id": 21314428,
        "node_id": "MDQ6VXNlcjIxMzE0NDI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/21314428?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ahadnagy",
        "html_url": "https://github.com/ahadnagy",
        "followers_url": "https://api.github.com/users/ahadnagy/followers",
        "following_url": "https://api.github.com/users/ahadnagy/following{/other_user}",
        "gists_url": "https://api.github.com/users/ahadnagy/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ahadnagy/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ahadnagy/subscriptions",
        "organizations_url": "https://api.github.com/users/ahadnagy/orgs",
        "repos_url": "https://api.github.com/users/ahadnagy/repos",
        "events_url": "https://api.github.com/users/ahadnagy/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ahadnagy/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "4ded9a41138773af49c70eac3fca7ad6ba9ede03",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/4ded9a41138773af49c70eac3fca7ad6ba9ede03",
          "html_url": "https://github.com/huggingface/transformers/commit/4ded9a41138773af49c70eac3fca7ad6ba9ede03"
        }
      ]
    },
    {
      "sha": "4ded9a41138773af49c70eac3fca7ad6ba9ede03",
      "node_id": "C_kwDOCUB6odoAKDRkZWQ5YTQxMTM4NzczYWY0OWM3MGVhYzNmY2E3YWQ2YmE5ZWRlMDM",
      "commit": {
        "author": {
          "name": "Cyril Vallez",
          "email": "cyril.vallez@huggingface.co",
          "date": "2025-07-18T11:41:54Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-18T11:41:54Z"
        },
        "message": "\ud83d\udea8\ud83d\udea8 Fix and simplify attention implementation dispatch and subconfigs handling (#39423)\n\n* first try\n\n* Update modeling_utils.py\n\n* Update modeling_utils.py\n\n* big refactor\n\n* Update modeling_utils.py\n\n* style\n\n* docstrings and simplify inner workings of configs\n\n* remove all trace of _internal\n\n* Update modeling_utils.py\n\n* fix logic error\n\n* Update modeling_utils.py\n\n* recursive on config\n\n* Update configuration_utils.py\n\n* fix\n\n* Update configuration_dpt.py\n\n* Update configuration_utils.py\n\n* Update configuration_utils.py\n\n* Update modeling_idefics.py\n\n* Update modeling_utils.py\n\n* fix for old models\n\n* more old models fixup\n\n* Update modeling_utils.py\n\n* Update configuration_utils.py\n\n* Remove outdated test\n\n* remove the deepcopy!! \ud83e\udd75\ud83e\udd75\n\n* Update test_modeling_gpt_bigcode.py\n\n* fix qwen dispatch\n\n* restrict to only models supporting it\n\n* style\n\n* switch name\n\n* Update modeling_utils.py\n\n* Update modeling_utils.py\n\n* add tests!\n\n* fix\n\n* rypo\n\n* remove bad copies\n\n* fix\n\n* Update modeling_utils.py\n\n* additional check\n\n* Update modeling_utils.py\n\n* Update modeling_utils.py\n\n* Update modeling_utils.py\n\n* Update modeling_utils.py\n\n* Update modeling_utils.py\n\n* fix\n\n* skip",
        "tree": {
          "sha": "292b91b2cad69f33cad377868fc7131022f2e43f",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/292b91b2cad69f33cad377868fc7131022f2e43f"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/4ded9a41138773af49c70eac3fca7ad6ba9ede03",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoejMCCRC1aQ7uu5UhlAAAmu4QAIJ2X3MVGGOeY4AnPkW/JJGT\n6XCxI+sze7PTCBnLeLXlrYN5BJ3QPnoxadEubYWGCloKcPzv1oVZFQWwwvDCY+dM\n0tHgpSzp6LkI/LDWXK2tSRAaUHpMFm2Bkt2GTWbB/yY5Rzi5LwDuk62mkfSC1EiT\n3eC4/r82Eo+rwyZb++OBj0umkrzLKCPLTjx7+g8LlPD6mo3NkdhLG3obPMRKiHzo\nUY6p+KjEpn9e/1HmH/TXNGXr+1y5Q+a0Jv4+K06MHhp8tzoim91hmWBDtZ9NAym5\nOCcDjLB9tGkmT05iHa4Go7jxqFGelh473FvhYdvJ95rg4akWe/5JvDdaG6KOprvD\ncx399MGYCKTdUutZN40xiGGK2QKlRB+LsB0/mLIxOuU4clvqOjqE8CK5zvM4RXYA\nnm+wCQhoR9u6bFrw8A7YtX124HnqN/XxdXVMBlElpdTfB4cgNbJrsKLBa3U64eWz\nGZgC4MeXh8PlNDi6ltcmO6qBiosDg7iD6pXG0wAG4+4NJPGEQ65YtbyXmTxPdRfB\noG+tdL9hZ+x+SWQ+6JlZvwzaKNW2JlZsJszLY9iwbPW7fDTCq7fvLLsPJK2Q1gSd\nOUjRGP6Im6LewkGtsh55T0T2NsO73U3jVP19rS9hRvg1p55QbR0LoQak+hXCLHdF\n4LymDgA87aLjsaOwHs+/\n=Zm+S\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 292b91b2cad69f33cad377868fc7131022f2e43f\nparent 2b819ba4e383dd5b82d6d251039e30c3e94761b1\nauthor Cyril Vallez <cyril.vallez@huggingface.co> 1752838914 +0200\ncommitter GitHub <noreply@github.com> 1752838914 +0200\n\n\ud83d\udea8\ud83d\udea8 Fix and simplify attention implementation dispatch and subconfigs handling (#39423)\n\n* first try\n\n* Update modeling_utils.py\n\n* Update modeling_utils.py\n\n* big refactor\n\n* Update modeling_utils.py\n\n* style\n\n* docstrings and simplify inner workings of configs\n\n* remove all trace of _internal\n\n* Update modeling_utils.py\n\n* fix logic error\n\n* Update modeling_utils.py\n\n* recursive on config\n\n* Update configuration_utils.py\n\n* fix\n\n* Update configuration_dpt.py\n\n* Update configuration_utils.py\n\n* Update configuration_utils.py\n\n* Update modeling_idefics.py\n\n* Update modeling_utils.py\n\n* fix for old models\n\n* more old models fixup\n\n* Update modeling_utils.py\n\n* Update configuration_utils.py\n\n* Remove outdated test\n\n* remove the deepcopy!! \ud83e\udd75\ud83e\udd75\n\n* Update test_modeling_gpt_bigcode.py\n\n* fix qwen dispatch\n\n* restrict to only models supporting it\n\n* style\n\n* switch name\n\n* Update modeling_utils.py\n\n* Update modeling_utils.py\n\n* add tests!\n\n* fix\n\n* rypo\n\n* remove bad copies\n\n* fix\n\n* Update modeling_utils.py\n\n* additional check\n\n* Update modeling_utils.py\n\n* Update modeling_utils.py\n\n* Update modeling_utils.py\n\n* Update modeling_utils.py\n\n* Update modeling_utils.py\n\n* fix\n\n* skip",
          "verified_at": "2025-07-18T11:41:55Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/4ded9a41138773af49c70eac3fca7ad6ba9ede03",
      "html_url": "https://github.com/huggingface/transformers/commit/4ded9a41138773af49c70eac3fca7ad6ba9ede03",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/4ded9a41138773af49c70eac3fca7ad6ba9ede03/comments",
      "author": {
        "login": "Cyrilvallez",
        "id": 71554963,
        "node_id": "MDQ6VXNlcjcxNTU0OTYz",
        "avatar_url": "https://avatars.githubusercontent.com/u/71554963?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Cyrilvallez",
        "html_url": "https://github.com/Cyrilvallez",
        "followers_url": "https://api.github.com/users/Cyrilvallez/followers",
        "following_url": "https://api.github.com/users/Cyrilvallez/following{/other_user}",
        "gists_url": "https://api.github.com/users/Cyrilvallez/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Cyrilvallez/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Cyrilvallez/subscriptions",
        "organizations_url": "https://api.github.com/users/Cyrilvallez/orgs",
        "repos_url": "https://api.github.com/users/Cyrilvallez/repos",
        "events_url": "https://api.github.com/users/Cyrilvallez/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Cyrilvallez/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "2b819ba4e383dd5b82d6d251039e30c3e94761b1",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/2b819ba4e383dd5b82d6d251039e30c3e94761b1",
          "html_url": "https://github.com/huggingface/transformers/commit/2b819ba4e383dd5b82d6d251039e30c3e94761b1"
        }
      ]
    },
    {
      "sha": "2b819ba4e383dd5b82d6d251039e30c3e94761b1",
      "node_id": "C_kwDOCUB6odoAKDJiODE5YmE0ZTM4M2RkNWI4MmQ2ZDI1MTAzOWUzMGMzZTk0NzYxYjE",
      "commit": {
        "author": {
          "name": "Joao Gante",
          "email": "joaofranciscocardosogante@gmail.com",
          "date": "2025-07-18T10:05:40Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-18T10:05:40Z"
        },
        "message": "[dependencies] temporary pyarrow pin (#39496)\n\n* pyarrow pin\n\n* make fixup\n\n* test?\n\n* like this?\n\n* like this?\n\n* like this?",
        "tree": {
          "sha": "a815234debc59a2d726996acf10757f36fb3de15",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/a815234debc59a2d726996acf10757f36fb3de15"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/2b819ba4e383dd5b82d6d251039e30c3e94761b1",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoehx0CRC1aQ7uu5UhlAAAoBkQAGu78Xn3K/mrrDOARNLskQIT\n5YmQXibIYxMt2fCDi6Ab4slyg2TB/FK/893h9lsYNo4HbPrqEB92+OpBvhX01O5A\ntw5PH0xw988nqxf2poTYI63ZDO8e9S608h5nLjIgGGF1BFdvd+lY41GChxkw8eqr\npHOD1sgbuoeznZnwZoNt4G5jN+lfVB5c4Jzc7oYRBk8/Iy7XaJpBcoOGa+7aYKLj\nEtrCObA2/SO9nMTi/+CKqDkEWNOMfTSWqWe0M/7IU4KYNgpLEuffP4BwMX8WrXQe\n/WkOIKQnsOwqHllLPTu5nPhbzbg5MyUIKhgrk7k/RIVyT1G77Ke4XIwzsPXuY/fF\n3o2NlhAZwAlNRCs1R7qTVY1AAsNWUIuoawkhXSYvwygwBmGmhIEuSdgScOu9DN15\nyp4OCmrOvBgZbhrXLNd0ACH7SGoHxxIvmxoqN6J3YljxDkl0bq6zavB6vtku/c59\na7ciVnuZU5TEgW1myZyUQuVRevk5StFjinJx+wUJBk2PG4HeA8RwdfQqYFPuhE2X\nNz5utDMQ5V95MzRsDEU3GIke+6GQigrpmePk7FcHEmJ8mABxZRbnNt0HJRaMhmEM\nGvzCvP+hBjQ08Tb2sZk1t7SpE9WOqC4IoXcLccnrTWfp/UqY20phu2lNsUFgLwHq\n29bW8bzZs32uxeDaNTL7\n=PVal\n-----END PGP SIGNATURE-----\n",
          "payload": "tree a815234debc59a2d726996acf10757f36fb3de15\nparent 967045082faaaaf3d653bfe665080fd746b2bb60\nauthor Joao Gante <joaofranciscocardosogante@gmail.com> 1752833140 +0100\ncommitter GitHub <noreply@github.com> 1752833140 +0000\n\n[dependencies] temporary pyarrow pin (#39496)\n\n* pyarrow pin\n\n* make fixup\n\n* test?\n\n* like this?\n\n* like this?\n\n* like this?",
          "verified_at": "2025-07-18T10:05:41Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/2b819ba4e383dd5b82d6d251039e30c3e94761b1",
      "html_url": "https://github.com/huggingface/transformers/commit/2b819ba4e383dd5b82d6d251039e30c3e94761b1",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/2b819ba4e383dd5b82d6d251039e30c3e94761b1/comments",
      "author": {
        "login": "gante",
        "id": 12240844,
        "node_id": "MDQ6VXNlcjEyMjQwODQ0",
        "avatar_url": "https://avatars.githubusercontent.com/u/12240844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gante",
        "html_url": "https://github.com/gante",
        "followers_url": "https://api.github.com/users/gante/followers",
        "following_url": "https://api.github.com/users/gante/following{/other_user}",
        "gists_url": "https://api.github.com/users/gante/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/gante/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gante/subscriptions",
        "organizations_url": "https://api.github.com/users/gante/orgs",
        "repos_url": "https://api.github.com/users/gante/repos",
        "events_url": "https://api.github.com/users/gante/events{/privacy}",
        "received_events_url": "https://api.github.com/users/gante/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "967045082faaaaf3d653bfe665080fd746b2bb60",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/967045082faaaaf3d653bfe665080fd746b2bb60",
          "html_url": "https://github.com/huggingface/transformers/commit/967045082faaaaf3d653bfe665080fd746b2bb60"
        }
      ]
    },
    {
      "sha": "967045082faaaaf3d653bfe665080fd746b2bb60",
      "node_id": "C_kwDOCUB6odoAKDk2NzA0NTA4MmZhYWFhZjNkNjUzYmZlNjY1MDgwZmQ3NDZiMmJiNjA",
      "commit": {
        "author": {
          "name": "eustlb",
          "email": "94853470+eustlb@users.noreply.github.com",
          "date": "2025-07-18T00:02:04Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-18T00:02:04Z"
        },
        "message": "Add voxtral (#39429)\n\n* draft\n\n* draft update (conversion working)\n\n* mend\n\n* draft update\n\n* draft update: working generate\n\n* refactor\n\n* VoxtralProcessor draft\n\n* processor update\n\n* update convert_tekken_tokenizer\n\n* refactor processor\n\n* update convert\n\n* make style\n\n* better handle prefil\n\n* make style\n\n* add tests\n\n* add mistral_common audio loading\n\n* processor update\n\n* revert changes\n\n* audio utils update\n\n* add audio to apply chat template mistral update\n\n* voxtral processor update\n\n* fix\n\n* udpate converstion script\n\n* make mistral tokenier from pretrain work from local dir\n\n* fix udpates\n\n* add integration tests\n\n* add batched version\n\n* processor docstring\n\n* make style\n\n* revert convert_tekken_tokenizer changes\n\n* revert processing_qwen2.5 changes\n\n* add multi-turn test\n\n* processor improvements\n\n* address review changes\n\n* Update src/transformers/tokenization_mistral_common.py\n\nCo-authored-by: Julien Denize <40604584+juliendenize@users.noreply.github.com>\n\n* update audio utils\n\n* nits\n\n* integration test update\n\n* correct _support\n\n* update tests\n\n* test update\n\n* update integration tests\n\n* fix\n\n* fix\n\n* fix\n\n* add test_apply_chat_template_with_audio\n\n* add model doc\n\n* model doc\n\n* nit\n\n* doc uptade\n\n* nit\n\n* processor improvement\n\n* ensure default is 3B\n\n* nits\n\n* make\n\n* make\n\n* convert modular\n\n* update checkpoint\n\n* fix test\n\n* make\n\n* make\n\n* autos\n\n* make\n\n* make\n\n* nit\n\n* nit\n\n* nit\n\n---------\n\nCo-authored-by: Julien Denize <40604584+juliendenize@users.noreply.github.com>\nCo-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>",
        "tree": {
          "sha": "ff23ae273ee6c4cca0a08bdd03dd09315d21588b",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/ff23ae273ee6c4cca0a08bdd03dd09315d21588b"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/967045082faaaaf3d653bfe665080fd746b2bb60",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoeY78CRC1aQ7uu5UhlAAALJQQAAu8ADOd8K8784uJKuB+vF99\nMXIXqZiR26L1wGpm0SHuSHlfIMiEgedl6EprvEMzNfO4nI903In1yDUVnRp5/5DM\nsVPG2S7Dc+gXeBNukx15nlJIC1z9vqoekFnYhyvhBRN9Ri3c29XrhxaSbPbN3sO+\n3pdJjxHuIOyNg2BzTYSAUsR3tE4+yC2UiUeHpSsX9lOHoiVqANjyukE3e9cAVddg\nO5MiadouI2diVzbLpUkY9YI1l6PHJy0ms6GyXDN4tLe3DfkxnzUTBoVCSzmgQslZ\n0xq4kSQhLotT0x203R9slIkS/KENCqwRV/tVt5zfw9bMjT03qVCdFdjRJ2Ncjvd2\ncD0wAbxumOGT1Fa3jyhUHLNarTNY111dwb2xBRmW6099HWfyyTIiTLS/htLFEpCa\nbdVp6Fgk76yt0UyohLhontx319+HDQ2j8uskrQPw1iEynq21OBxJBTqKUmG/S3+l\nucVWnkWYycbLPhvLdAdLQlr8+czjKcqrdVQSlr0p1c6dRvyOgkIawX3a1nxjgGJw\nIR9f6vS34kLN3CHlGQxkelqRhIeqKIGilUfoDhZbzIfWz9Zt0EcTZkrxQKsykCan\nCUtSTgn2XNVW2OAurArRbrgj6btNZqix9EYuLxkN4ZOyTb4avjd9jU4ZLvrL4W0Y\nX8XDexyDybUVLkpB00u4\n=oB3b\n-----END PGP SIGNATURE-----\n",
          "payload": "tree ff23ae273ee6c4cca0a08bdd03dd09315d21588b\nparent 73869f2e81467db8422cbb4831cce9a7bdc85c4b\nauthor eustlb <94853470+eustlb@users.noreply.github.com> 1752796924 +0200\ncommitter GitHub <noreply@github.com> 1752796924 +0000\n\nAdd voxtral (#39429)\n\n* draft\n\n* draft update (conversion working)\n\n* mend\n\n* draft update\n\n* draft update: working generate\n\n* refactor\n\n* VoxtralProcessor draft\n\n* processor update\n\n* update convert_tekken_tokenizer\n\n* refactor processor\n\n* update convert\n\n* make style\n\n* better handle prefil\n\n* make style\n\n* add tests\n\n* add mistral_common audio loading\n\n* processor update\n\n* revert changes\n\n* audio utils update\n\n* add audio to apply chat template mistral update\n\n* voxtral processor update\n\n* fix\n\n* udpate converstion script\n\n* make mistral tokenier from pretrain work from local dir\n\n* fix udpates\n\n* add integration tests\n\n* add batched version\n\n* processor docstring\n\n* make style\n\n* revert convert_tekken_tokenizer changes\n\n* revert processing_qwen2.5 changes\n\n* add multi-turn test\n\n* processor improvements\n\n* address review changes\n\n* Update src/transformers/tokenization_mistral_common.py\n\nCo-authored-by: Julien Denize <40604584+juliendenize@users.noreply.github.com>\n\n* update audio utils\n\n* nits\n\n* integration test update\n\n* correct _support\n\n* update tests\n\n* test update\n\n* update integration tests\n\n* fix\n\n* fix\n\n* fix\n\n* add test_apply_chat_template_with_audio\n\n* add model doc\n\n* model doc\n\n* nit\n\n* doc uptade\n\n* nit\n\n* processor improvement\n\n* ensure default is 3B\n\n* nits\n\n* make\n\n* make\n\n* convert modular\n\n* update checkpoint\n\n* fix test\n\n* make\n\n* make\n\n* autos\n\n* make\n\n* make\n\n* nit\n\n* nit\n\n* nit\n\n---------\n\nCo-authored-by: Julien Denize <40604584+juliendenize@users.noreply.github.com>\nCo-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>",
          "verified_at": "2025-07-18T00:02:05Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/967045082faaaaf3d653bfe665080fd746b2bb60",
      "html_url": "https://github.com/huggingface/transformers/commit/967045082faaaaf3d653bfe665080fd746b2bb60",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/967045082faaaaf3d653bfe665080fd746b2bb60/comments",
      "author": {
        "login": "eustlb",
        "id": 94853470,
        "node_id": "U_kgDOBadZXg",
        "avatar_url": "https://avatars.githubusercontent.com/u/94853470?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/eustlb",
        "html_url": "https://github.com/eustlb",
        "followers_url": "https://api.github.com/users/eustlb/followers",
        "following_url": "https://api.github.com/users/eustlb/following{/other_user}",
        "gists_url": "https://api.github.com/users/eustlb/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/eustlb/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/eustlb/subscriptions",
        "organizations_url": "https://api.github.com/users/eustlb/orgs",
        "repos_url": "https://api.github.com/users/eustlb/repos",
        "events_url": "https://api.github.com/users/eustlb/events{/privacy}",
        "received_events_url": "https://api.github.com/users/eustlb/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "73869f2e81467db8422cbb4831cce9a7bdc85c4b",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/73869f2e81467db8422cbb4831cce9a7bdc85c4b",
          "html_url": "https://github.com/huggingface/transformers/commit/73869f2e81467db8422cbb4831cce9a7bdc85c4b"
        }
      ]
    },
    {
      "sha": "73869f2e81467db8422cbb4831cce9a7bdc85c4b",
      "node_id": "C_kwDOCUB6odoAKDczODY5ZjJlODE0NjdkYjg0MjJjYmI0ODMxY2NlOWE3YmRjODVjNGI",
      "commit": {
        "author": {
          "name": "Qizhi Chen",
          "email": "tavish9.chen@gmail.com",
          "date": "2025-07-17T15:47:31Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-17T15:47:31Z"
        },
        "message": "Fix typing order (#39467)\n\n* fix type order\n\n* change all Union[str, dict] to Union[dict, str]\n\n* add hf_parser test && fix test order\n\n* add deepspeed dependency\n\n* replace deepspeed with accelerator",
        "tree": {
          "sha": "6773502a8834b53de9dad7243f73fd6c56473694",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/6773502a8834b53de9dad7243f73fd6c56473694"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/73869f2e81467db8422cbb4831cce9a7bdc85c4b",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoeRsTCRC1aQ7uu5UhlAAACvkQAKCCB9CfjibhhVemWQTZlUrx\nKKFXyE/n2wTX4O+MrKjYqC3D6bPROoeatey1v1nYucuAIvkaPK+YlHvML9ESxdYf\nnWzeF3TtZvndO5QRCyNY6cmsVj24ZaTGzRzjbNz62RYmoPJOEdg2wD7Uvfsb91vi\n9ZajykymIg+f6wDGhxkNEr2kZB43gZ6XMkpbMVEkj5V4xvMm03e/ZHRzI6CEK4xv\n8U8JEd7RsgflGoyPrXnyGHrkF5+4hmC/C8KEF3kzTD8DwwNb3UaMWGLb/vtaMgYd\nNN9YsdQeeKEzpj5LD3J2dKiK+Nu0NrWp0bwwm0Fcn2mapj/pObDsubbjrEIccn+v\ncH92KIbydiG18yPVtuYKOocvROr9tVex4NyMThfz3MLrRD8rnM1lPYSsV8iGm9Iz\n/K1g32gDDVCvb7u2/1J/Cyusu6yOi43uyY/aAfN9kYQ5XbgC0yWzvjH4T8mkMS70\nGEP6hDtigbiIOM27hueyONjuuaOyTXP98CZTZuqZkOrznE+IIRbl5SAgelqYhT71\nhAs2fBgvJiREKo0i9W0v64jzxKEm/LORwkyOjxzI15kOL8NPqtlZPpm/vKo7w+kO\nMR8zfR+jBI9jiPbO0EU1R3oSseWPBeDHMXIR4pYn1G2MvFNtCjP7/KCfATCr8d10\nktQJ0tpjS6mnPHuvg16r\n=1k6r\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 6773502a8834b53de9dad7243f73fd6c56473694\nparent bda75b4011239d065de84aa3e744b67ebfa7b245\nauthor Qizhi Chen <tavish9.chen@gmail.com> 1752767251 +0800\ncommitter GitHub <noreply@github.com> 1752767251 +0000\n\nFix typing order (#39467)\n\n* fix type order\n\n* change all Union[str, dict] to Union[dict, str]\n\n* add hf_parser test && fix test order\n\n* add deepspeed dependency\n\n* replace deepspeed with accelerator",
          "verified_at": "2025-07-17T15:47:31Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/73869f2e81467db8422cbb4831cce9a7bdc85c4b",
      "html_url": "https://github.com/huggingface/transformers/commit/73869f2e81467db8422cbb4831cce9a7bdc85c4b",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/73869f2e81467db8422cbb4831cce9a7bdc85c4b/comments",
      "author": {
        "login": "Tavish9",
        "id": 73541181,
        "node_id": "MDQ6VXNlcjczNTQxMTgx",
        "avatar_url": "https://avatars.githubusercontent.com/u/73541181?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Tavish9",
        "html_url": "https://github.com/Tavish9",
        "followers_url": "https://api.github.com/users/Tavish9/followers",
        "following_url": "https://api.github.com/users/Tavish9/following{/other_user}",
        "gists_url": "https://api.github.com/users/Tavish9/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Tavish9/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Tavish9/subscriptions",
        "organizations_url": "https://api.github.com/users/Tavish9/orgs",
        "repos_url": "https://api.github.com/users/Tavish9/repos",
        "events_url": "https://api.github.com/users/Tavish9/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Tavish9/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "bda75b4011239d065de84aa3e744b67ebfa7b245",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/bda75b4011239d065de84aa3e744b67ebfa7b245",
          "html_url": "https://github.com/huggingface/transformers/commit/bda75b4011239d065de84aa3e744b67ebfa7b245"
        }
      ]
    },
    {
      "sha": "bda75b4011239d065de84aa3e744b67ebfa7b245",
      "node_id": "C_kwDOCUB6odoAKGJkYTc1YjQwMTEyMzlkMDY1ZGU4NGFhM2U3NDRiNjdlYmZhN2IyNDU",
      "commit": {
        "author": {
          "name": "he pang",
          "email": "34388421+hellopahe@users.noreply.github.com",
          "date": "2025-07-17T15:07:12Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-17T15:07:12Z"
        },
        "message": "Add unified logits_to_keep support to LLMClass (#39472)\n\n* add supports for logits_to_keep for qwen25vl and glm4v\n\n* Update relevant modular files",
        "tree": {
          "sha": "c825fdd9eb6d8e1d73e0e6b73befb172020a20c4",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/c825fdd9eb6d8e1d73e0e6b73befb172020a20c4"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/bda75b4011239d065de84aa3e744b67ebfa7b245",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoeRGgCRC1aQ7uu5UhlAAA3eoQAFMcwLksu5z8q3V/mldfr4oz\nybgY5cf1R+SE3s7KNSQKFArvsyom49aufF11L7SmDfAOK3wsoCchQSp2S7bIapa3\nzoSCgWSV3FdUZqc47wev+Sc8udoKbD5vz+LIl4Rkna2aMt7pjqxJ8KdojCYErs9f\nC41Wo5X+2IogghvmJm88tdQLzMFwmf5upx1uun/9RC7weStljtMfpiLfqz0u/me7\nIOVkFEggaJgfusxjgdQpEaWQLLcDWBPtW7QisCQ9BkGZsPa9m8HvpvxhWGEwQ5a6\nXC8MlH5Xn1/hmB1Uh8DuZGRGyb6E5BzMhbjOudInbwmCrz5JcJhDga1bvlDN+K1t\n4+FL5hWorcuWJyXlVnnn+KCUQRVeMCuQtFuryXyWtkVWCXpwRtvsi8fErbLQoYsk\nkYwRYMPVB4QtHk2x5aAiR/Sg0dMEwsIj55vAGcrqqQKRSF78sfGr0MVtgy/UTcv/\nzO8St0dmnmkoF+uvzjub/6eXeyBa0O+STlhbhx8gEPyJz6XVvPBTNspk9yHxxxl+\nzqqsU+7RBYBGladZz4hstBfMn79PYYBMPGb7AYnGEZwqrlFoZAhhwbZiYk120hB1\naiZj7DFZEAiW1Q/QufnIcTGvTJLgzMsc730uAGk6j5MtMpQGvVa/ETc0jSDFHrN2\nu2Z7yqki7p4/ASiYbTAo\n=thGj\n-----END PGP SIGNATURE-----\n",
          "payload": "tree c825fdd9eb6d8e1d73e0e6b73befb172020a20c4\nparent bf6c9976851627b545f071d4861c54cda7fdfe6b\nauthor he pang <34388421+hellopahe@users.noreply.github.com> 1752764832 +0800\ncommitter GitHub <noreply@github.com> 1752764832 +0200\n\nAdd unified logits_to_keep support to LLMClass (#39472)\n\n* add supports for logits_to_keep for qwen25vl and glm4v\n\n* Update relevant modular files",
          "verified_at": "2025-07-17T15:07:12Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/bda75b4011239d065de84aa3e744b67ebfa7b245",
      "html_url": "https://github.com/huggingface/transformers/commit/bda75b4011239d065de84aa3e744b67ebfa7b245",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/bda75b4011239d065de84aa3e744b67ebfa7b245/comments",
      "author": {
        "login": "hellopahe",
        "id": 34388421,
        "node_id": "MDQ6VXNlcjM0Mzg4NDIx",
        "avatar_url": "https://avatars.githubusercontent.com/u/34388421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hellopahe",
        "html_url": "https://github.com/hellopahe",
        "followers_url": "https://api.github.com/users/hellopahe/followers",
        "following_url": "https://api.github.com/users/hellopahe/following{/other_user}",
        "gists_url": "https://api.github.com/users/hellopahe/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hellopahe/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hellopahe/subscriptions",
        "organizations_url": "https://api.github.com/users/hellopahe/orgs",
        "repos_url": "https://api.github.com/users/hellopahe/repos",
        "events_url": "https://api.github.com/users/hellopahe/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hellopahe/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "bf6c9976851627b545f071d4861c54cda7fdfe6b",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/bf6c9976851627b545f071d4861c54cda7fdfe6b",
          "html_url": "https://github.com/huggingface/transformers/commit/bf6c9976851627b545f071d4861c54cda7fdfe6b"
        }
      ]
    },
    {
      "sha": "bf6c9976851627b545f071d4861c54cda7fdfe6b",
      "node_id": "C_kwDOCUB6odoAKGJmNmM5OTc2ODUxNjI3YjU0NWYwNzFkNDg2MWM1NGNkYTdmZGZlNmI",
      "commit": {
        "author": {
          "name": "Joao Gante",
          "email": "joaofranciscocardosogante@gmail.com",
          "date": "2025-07-17T14:29:57Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-17T14:29:57Z"
        },
        "message": "[serve] Add speech to text (`/v1/audio/transcriptions`) (#39434)\n\n* Scaffolding\n\n* Explicit content\n\n* Na\u00efve Responses API streaming implementation\n\n* Cleanup\n\n* Scaffolding\n\n* Explicit content\n\n* Na\u00efve Responses API streaming implementation\n\n* Cleanup\n\n* use openai\n\n* validate request, including detecting unused fields\n\n* dict indexing\n\n* dict var access\n\n* tmp commit (tests failing)\n\n* add slow\n\n* use oai output type in completions\n\n* (little rebase errors)\n\n* working spec?\n\n* guard type hint\n\n* type hints. fix state (CB can now load different models)\n\n* type hints; fn names; error type\n\n* add docstrings\n\n* responses + kv cache\n\n* metadata support; fix kv cache; error event\n\n* add output_index and content_index\n\n* docstrings\n\n* add test_build_response_event\n\n* docs/comments\n\n* gate test requirements; terminate cb manager on model switch\n\n* nasty type hints\n\n* more type hints\n\n* disable validation by default; enable force models\n\n* todo\n\n* experiment: base model from typed dict\n\n* audio working\n\n* fix bad rebase\n\n* load audio with librosa\n\n* implement timed models\n\n* almost working\n\n* make fixup\n\n* fix tests\n\n* transcription request type\n\n* tokenizer -> processor\n\n* add example in docs\n\n---------\n\nCo-authored-by: Lysandre <hi@lysand.re>",
        "tree": {
          "sha": "521d1ed44b1477636149291a748511a90854ce97",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/521d1ed44b1477636149291a748511a90854ce97"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/bf6c9976851627b545f071d4861c54cda7fdfe6b",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoeQjlCRC1aQ7uu5UhlAAAKGYQAILRKYoAnH+gf4SA2BU/phkV\nFFDC4r1kWtStM2nj/1rnQtiDitUlcPx0NWa3wYO1sM3LGFWfSR3DxFgjLzcAO36F\nL98jNUNjt+5nVtzm8iJznZ8WK9wVns1CjH5sQ7AL1pDjwDJcHGH/k2NIvLMXMk2z\nRbR9lstJiglFMGXIw6AH5WiEiuq6C2SLOvoJWw1YYK647zX9JgLgC1dgKGAVGRY7\n5hkKfpk6cXGZ5lkE7WEF2vyT9xbnt+YUm21TSkmlg/eXE8pmjFbWbZJ2rvAIqsqN\nIgAvofZjvplWgK4nOFvuB1Gv1SywLwDcx4eNzcr9hIlSm9hMaW17OTKdtLgekslW\nYBiaFbfL5g35Z3NEKfovRfr+VpDr1i0d5azQucOPEvnVkIpzH9pdJpy5rHvMh7Ls\nIrFPX4y6gZBhgAZRgMZfa4P66ytpl6hcBgm0BxkiovgzT8oZ29v0xeL9XOXL/QHg\n45y4AqDFbIB54s3VDkvV8FoREVMK0v37Jt9CtFlfhi4jLVf7vSAh0jhwFsgfz3+f\n1f75iiFRKIjMeLe0BHjzYiW+Rjr0lSwNTjA6elDVzaYgBPOoUNxjBaezO4I0K4gC\nNp+AoWiBmIOHCeqmiGg8dLlF6mc0F4PkldQg5knbw3XbVDP4nYrvF8muNYHiiyXc\nW43fqhRsLGUuHjMTR/Fq\n=6sWX\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 521d1ed44b1477636149291a748511a90854ce97\nparent 8b3de61a65241d3c81902bc47902dc4a6033da94\nauthor Joao Gante <joaofranciscocardosogante@gmail.com> 1752762597 +0100\ncommitter GitHub <noreply@github.com> 1752762597 +0000\n\n[serve] Add speech to text (`/v1/audio/transcriptions`) (#39434)\n\n* Scaffolding\n\n* Explicit content\n\n* Na\u00efve Responses API streaming implementation\n\n* Cleanup\n\n* Scaffolding\n\n* Explicit content\n\n* Na\u00efve Responses API streaming implementation\n\n* Cleanup\n\n* use openai\n\n* validate request, including detecting unused fields\n\n* dict indexing\n\n* dict var access\n\n* tmp commit (tests failing)\n\n* add slow\n\n* use oai output type in completions\n\n* (little rebase errors)\n\n* working spec?\n\n* guard type hint\n\n* type hints. fix state (CB can now load different models)\n\n* type hints; fn names; error type\n\n* add docstrings\n\n* responses + kv cache\n\n* metadata support; fix kv cache; error event\n\n* add output_index and content_index\n\n* docstrings\n\n* add test_build_response_event\n\n* docs/comments\n\n* gate test requirements; terminate cb manager on model switch\n\n* nasty type hints\n\n* more type hints\n\n* disable validation by default; enable force models\n\n* todo\n\n* experiment: base model from typed dict\n\n* audio working\n\n* fix bad rebase\n\n* load audio with librosa\n\n* implement timed models\n\n* almost working\n\n* make fixup\n\n* fix tests\n\n* transcription request type\n\n* tokenizer -> processor\n\n* add example in docs\n\n---------\n\nCo-authored-by: Lysandre <hi@lysand.re>",
          "verified_at": "2025-07-17T14:29:58Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/bf6c9976851627b545f071d4861c54cda7fdfe6b",
      "html_url": "https://github.com/huggingface/transformers/commit/bf6c9976851627b545f071d4861c54cda7fdfe6b",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/bf6c9976851627b545f071d4861c54cda7fdfe6b/comments",
      "author": {
        "login": "gante",
        "id": 12240844,
        "node_id": "MDQ6VXNlcjEyMjQwODQ0",
        "avatar_url": "https://avatars.githubusercontent.com/u/12240844?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gante",
        "html_url": "https://github.com/gante",
        "followers_url": "https://api.github.com/users/gante/followers",
        "following_url": "https://api.github.com/users/gante/following{/other_user}",
        "gists_url": "https://api.github.com/users/gante/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/gante/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gante/subscriptions",
        "organizations_url": "https://api.github.com/users/gante/orgs",
        "repos_url": "https://api.github.com/users/gante/repos",
        "events_url": "https://api.github.com/users/gante/events{/privacy}",
        "received_events_url": "https://api.github.com/users/gante/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "8b3de61a65241d3c81902bc47902dc4a6033da94",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/8b3de61a65241d3c81902bc47902dc4a6033da94",
          "html_url": "https://github.com/huggingface/transformers/commit/8b3de61a65241d3c81902bc47902dc4a6033da94"
        }
      ]
    },
    {
      "sha": "8b3de61a65241d3c81902bc47902dc4a6033da94",
      "node_id": "C_kwDOCUB6odoAKDhiM2RlNjFhNjUyNDFkM2M4MTkwMmJjNDc5MDJkYzRhNjAzM2RhOTQ",
      "commit": {
        "author": {
          "name": "zhaiji0727",
          "email": "74641156+zhaiji0727@users.noreply.github.com",
          "date": "2025-07-17T13:57:49Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-17T13:57:49Z"
        },
        "message": "Update integration_utils.py (#39469)\n\n* Update integration_utils.py\n\nsanitize mlflow upload metric\n\n* Update integration_utils.py\n\nchange import order to pass CI\n\n* Update integration_utils.py\n\nadd comments\n\n* Update integration_utils.py\n\nRemove whitespace from blank line",
        "tree": {
          "sha": "b1c44781710645ddd9859c424f84a4cd1b4c4efa",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/b1c44781710645ddd9859c424f84a4cd1b4c4efa"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/8b3de61a65241d3c81902bc47902dc4a6033da94",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoeQFdCRC1aQ7uu5UhlAAALH0QADDKF3yi1sz1wg0tgu1SOGRL\n9xWOzzL/xwzSGXUNmy/RnTLq5DLmHa1JDstXOaVDH6i1DpzZuMNh/HjF/OnSEu97\nWYJF3bhWaLHKAfjxKt+Fv1IcihoiYSz5Rl1QqF/1nVAA5GIt1Rcdgs7RxWEtiTv5\ncM4jzqIWYZGO3RUUo0e9g4G6TeZgdZNbcel9aDFpNr4dtZlpcF4n93XrgsU+y9KX\n23x2DuuE6lxHQQ/gScT9AaAcKMYuXsD12a7It407psaxFRvNRxRSM1LZGa7PjHlG\ntwxAns5fcr/vdiOnpkZs2BR2y+eM/Vl78ivw8KY0lQ49hKsNGTm0zissGAZB2UM9\neJnoW3r9G15U/80oncrszfc4Kcu9552Ncyo75pX2Hzcj7Sg5AaFOFEAR56N3HCh+\nyko0BhoBqbVRVTGKhseWNLj1p4JEEmIFjmHsyO9gtKX9Mhj280LYCFK/BCjxqVi0\n94lktdhd8DQQHgN5Muq2Lj9kAirf/X94BJ+Po4Euo+vEmJtmFJhE/AhHhORdAgsT\nY3bnjJ50ZQWBnBteHmo6DJS1f15xWNj9BWvbmo9ZYhEaujH2bgQcIobuAqIwssaR\ngm/aLuJ+BiXo9lfl1npxnd3j5ekaG4DtC71a1zrSZkyiPCXZ1h91cwOFYQqw8OGA\na+7q9D9ny9po5HG5Q4T1\n=9kQM\n-----END PGP SIGNATURE-----\n",
          "payload": "tree b1c44781710645ddd9859c424f84a4cd1b4c4efa\nparent 7fd60047c8fac34d15cfd9044737dce536afe576\nauthor zhaiji0727 <74641156+zhaiji0727@users.noreply.github.com> 1752760669 +0800\ncommitter GitHub <noreply@github.com> 1752760669 +0000\n\nUpdate integration_utils.py (#39469)\n\n* Update integration_utils.py\n\nsanitize mlflow upload metric\n\n* Update integration_utils.py\n\nchange import order to pass CI\n\n* Update integration_utils.py\n\nadd comments\n\n* Update integration_utils.py\n\nRemove whitespace from blank line",
          "verified_at": "2025-07-17T13:57:50Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/8b3de61a65241d3c81902bc47902dc4a6033da94",
      "html_url": "https://github.com/huggingface/transformers/commit/8b3de61a65241d3c81902bc47902dc4a6033da94",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/8b3de61a65241d3c81902bc47902dc4a6033da94/comments",
      "author": {
        "login": "zhaiji0727",
        "id": 74641156,
        "node_id": "MDQ6VXNlcjc0NjQxMTU2",
        "avatar_url": "https://avatars.githubusercontent.com/u/74641156?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zhaiji0727",
        "html_url": "https://github.com/zhaiji0727",
        "followers_url": "https://api.github.com/users/zhaiji0727/followers",
        "following_url": "https://api.github.com/users/zhaiji0727/following{/other_user}",
        "gists_url": "https://api.github.com/users/zhaiji0727/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/zhaiji0727/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zhaiji0727/subscriptions",
        "organizations_url": "https://api.github.com/users/zhaiji0727/orgs",
        "repos_url": "https://api.github.com/users/zhaiji0727/repos",
        "events_url": "https://api.github.com/users/zhaiji0727/events{/privacy}",
        "received_events_url": "https://api.github.com/users/zhaiji0727/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "7fd60047c8fac34d15cfd9044737dce536afe576",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/7fd60047c8fac34d15cfd9044737dce536afe576",
          "html_url": "https://github.com/huggingface/transformers/commit/7fd60047c8fac34d15cfd9044737dce536afe576"
        }
      ]
    },
    {
      "sha": "7fd60047c8fac34d15cfd9044737dce536afe576",
      "node_id": "C_kwDOCUB6odoAKDdmZDYwMDQ3YzhmYWMzNGQxNWNmZDkwNDQ3MzdkY2U1MzZhZmU1NzY",
      "commit": {
        "author": {
          "name": "Peter Schneider",
          "email": "peteryschneider@gmail.com",
          "date": "2025-07-17T13:23:29Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-17T13:23:29Z"
        },
        "message": "fix: ImageTextToTextPipeline handles user-defined generation_config (#39374)\n\nfix: ImageTextToTextPipeline handles user-defined generation_config passed to the pipeline\n\nCo-authored-by: Raushan Turganbay <raushan@huggingface.co>",
        "tree": {
          "sha": "7018b2e84aeac51ada2e7e5e039e090b23588984",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/7018b2e84aeac51ada2e7e5e039e090b23588984"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/7fd60047c8fac34d15cfd9044737dce536afe576",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoePlRCRC1aQ7uu5UhlAAAk5QQAEO4cNtKZmbwIelfx2T1Sn0n\nLIe0NuLXbHKHuAnmZ5gXt2AGcTx+SLyFbPzP/bNhMhapRUfzk7jFJDKCfAaqEaPA\nRtSFjZ+AzMxrXDo4k74t1XOj+dnIgyW2kkr5PIQl0qzswI9C1oklHm7+KTXG0ocC\nqohtzxgeIPp9WDY03CHZkxgYQGPCvxGm9h3fGxV+9cUXl84Dvr8wOF3XPQGCEeiz\nKUm6ldIdfvkpaNpex8t4kB6BM5s+kCuLweNsz6BzQbeoaec8HpAZoDi3r9uePx96\nJ0GtsVgNUhetu5dy4mSkN2NTCpqRq0Kng7yoYr4h5VV2OklahV0QVF6uVMF/zoEw\nI9QHI7KznDxrrpZcRpWY1D9io1jDz5TqixKpABg4werlUXnUWZV02hIEoj9W1JTd\nhOOoEg8xt0UgmD4ndQtfySxxbSgiG1gaKi3bcnLB7Gi0lOgaKG5YHB4r3kIudYd+\nfdXieCmtlKeuV1auK7czrlZAhs0jKUnFgBDJshZEWqGDT0JhojQefI7YZPKJsx+P\nNj7g7j4FdAEUgJKUlA1D9Sljl1W3TM8CO6Qx6bohgekwWZfOl6xOpaRrGT+UPGZT\nPvhfzy4+hQY18ZG4QD8//GCA5T7CXu5tSc3TquzaM0XwaKl3XkqUn/B8LZl0B6jb\npUm63NTqLQW5m9yhSiFM\n=zVh2\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 7018b2e84aeac51ada2e7e5e039e090b23588984\nparent 60b5471da3c3d59b8695b9969817267179120add\nauthor Peter Schneider <peteryschneider@gmail.com> 1752758609 -0700\ncommitter GitHub <noreply@github.com> 1752758609 +0000\n\nfix: ImageTextToTextPipeline handles user-defined generation_config (#39374)\n\nfix: ImageTextToTextPipeline handles user-defined generation_config passed to the pipeline\n\nCo-authored-by: Raushan Turganbay <raushan@huggingface.co>",
          "verified_at": "2025-07-17T13:23:30Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/7fd60047c8fac34d15cfd9044737dce536afe576",
      "html_url": "https://github.com/huggingface/transformers/commit/7fd60047c8fac34d15cfd9044737dce536afe576",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/7fd60047c8fac34d15cfd9044737dce536afe576/comments",
      "author": {
        "login": "peteryschneider",
        "id": 4386038,
        "node_id": "MDQ6VXNlcjQzODYwMzg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4386038?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peteryschneider",
        "html_url": "https://github.com/peteryschneider",
        "followers_url": "https://api.github.com/users/peteryschneider/followers",
        "following_url": "https://api.github.com/users/peteryschneider/following{/other_user}",
        "gists_url": "https://api.github.com/users/peteryschneider/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/peteryschneider/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/peteryschneider/subscriptions",
        "organizations_url": "https://api.github.com/users/peteryschneider/orgs",
        "repos_url": "https://api.github.com/users/peteryschneider/repos",
        "events_url": "https://api.github.com/users/peteryschneider/events{/privacy}",
        "received_events_url": "https://api.github.com/users/peteryschneider/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "60b5471da3c3d59b8695b9969817267179120add",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/60b5471da3c3d59b8695b9969817267179120add",
          "html_url": "https://github.com/huggingface/transformers/commit/60b5471da3c3d59b8695b9969817267179120add"
        }
      ]
    },
    {
      "sha": "60b5471da3c3d59b8695b9969817267179120add",
      "node_id": "C_kwDOCUB6odoAKDYwYjU0NzFkYTNjM2Q1OWI4Njk1Yjk5Njk4MTcyNjcxNzkxMjBhZGQ",
      "commit": {
        "author": {
          "name": "Yuanyuan Chen",
          "email": "cyyever@outlook.com",
          "date": "2025-07-17T13:21:59Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-17T13:21:59Z"
        },
        "message": "Enable some ruff checks for performance and readability (#39383)\n\n* Fix inefficient sequence tests\n\nSigned-off-by: cyy <cyyever@outlook.com>\n\n* Enable PERF102\n\nSigned-off-by: cyy <cyyever@outlook.com>\n\n* Enable PLC1802\n\nSigned-off-by: cyy <cyyever@outlook.com>\n\n* Enable PLC0208\n\nSigned-off-by: cyy <cyyever@outlook.com>\n\n---------\n\nSigned-off-by: cyy <cyyever@outlook.com>",
        "tree": {
          "sha": "db628b04edd75de3749fd524383a5a7899376686",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/db628b04edd75de3749fd524383a5a7899376686"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/60b5471da3c3d59b8695b9969817267179120add",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoePj3CRC1aQ7uu5UhlAAApDQQAChGIk8nAti4kSqYmfqdWwPv\nUTaiyuVEtP4CDyx6KVgeWDlKfYGd2+Dd/GuNUU1OrlXZV+FV6RxYtxXX0g3HdH7Q\nvvpvi5ahtW2acXszAH23sQgl7kKKKabbnAnpao5oq+wxLTg7GKSGWSm6gwvsjpjh\n2G/Vz3OIea5VSPvhCHq67Nq0xwKW5IWITG0IZ0kYzoB2hzQbuplEVpwyre5krUVU\nAOXDbCbBDZ744nGT+eph6OnaWvBC/n5eStSWQv/bz8V/tdQcTHAKseSuqGXO83km\nGFrav5G1MEhu08ktCDtMpNblLmSdpb/ynhUaY4QS0VM0WhAqdVo7L33K3p+AF0UG\neqXyoY4OzyeF+tbGP/0UwNjtmUsHX7H1pUxi8NZQLY3/1TXIIHyY8fLJC2kLrd4t\nZOx0UgJ2VdV88DWnxkJM8mFG22OVgdysyd3vTDHX6+bko9RjMEDunt4syke3ijLd\nMvaJl9PCXlhKcIFbDY4laKPU2uJxJtYsqhuToRbi9MM1jJe14f93PRzjbF1F1p2R\nm2b9sm7K5H1efPXVK+lKEeDFKQCqkbGR85kW4dWCDHx+0s8e28XkWV/4DdjVPiCY\nyrfihHMY5JCqNvDO8KkBUOJbzGlZ7cMrCxBvgw2cm+ZqJNfLPLXUMDbdhNpDhgnP\nWHUeljYCFLYmVzEN6Bjc\n=wwQ5\n-----END PGP SIGNATURE-----\n",
          "payload": "tree db628b04edd75de3749fd524383a5a7899376686\nparent fc700c2a26af9e1b27162d408e8edfa2903c715f\nauthor Yuanyuan Chen <cyyever@outlook.com> 1752758519 +0800\ncommitter GitHub <noreply@github.com> 1752758519 +0000\n\nEnable some ruff checks for performance and readability (#39383)\n\n* Fix inefficient sequence tests\n\nSigned-off-by: cyy <cyyever@outlook.com>\n\n* Enable PERF102\n\nSigned-off-by: cyy <cyyever@outlook.com>\n\n* Enable PLC1802\n\nSigned-off-by: cyy <cyyever@outlook.com>\n\n* Enable PLC0208\n\nSigned-off-by: cyy <cyyever@outlook.com>\n\n---------\n\nSigned-off-by: cyy <cyyever@outlook.com>",
          "verified_at": "2025-07-17T13:21:59Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/60b5471da3c3d59b8695b9969817267179120add",
      "html_url": "https://github.com/huggingface/transformers/commit/60b5471da3c3d59b8695b9969817267179120add",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/60b5471da3c3d59b8695b9969817267179120add/comments",
      "author": {
        "login": "cyyever",
        "id": 17618148,
        "node_id": "MDQ6VXNlcjE3NjE4MTQ4",
        "avatar_url": "https://avatars.githubusercontent.com/u/17618148?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cyyever",
        "html_url": "https://github.com/cyyever",
        "followers_url": "https://api.github.com/users/cyyever/followers",
        "following_url": "https://api.github.com/users/cyyever/following{/other_user}",
        "gists_url": "https://api.github.com/users/cyyever/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cyyever/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cyyever/subscriptions",
        "organizations_url": "https://api.github.com/users/cyyever/orgs",
        "repos_url": "https://api.github.com/users/cyyever/repos",
        "events_url": "https://api.github.com/users/cyyever/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cyyever/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "fc700c2a26af9e1b27162d408e8edfa2903c715f",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/fc700c2a26af9e1b27162d408e8edfa2903c715f",
          "html_url": "https://github.com/huggingface/transformers/commit/fc700c2a26af9e1b27162d408e8edfa2903c715f"
        }
      ]
    },
    {
      "sha": "fc700c2a26af9e1b27162d408e8edfa2903c715f",
      "node_id": "C_kwDOCUB6odoAKGZjNzAwYzJhMjZhZjllMWIyNzE2MmQ0MDhlOGVkZmEyOTAzYzcxNWY",
      "commit": {
        "author": {
          "name": "Stonepia",
          "email": "tong.su@intel.com",
          "date": "2025-07-17T13:12:32Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-17T13:12:32Z"
        },
        "message": "Fix convert_and_export_with_cache failures for GPU models (#38976)\n\n* Add the `device` option for `generate()`\n\n* Add device for default tensors to avoid tensor mismatch\n\n* [test] Enable test_static_cache_exportability for torch_device\n\n* infer device from the prompt_token_ids\n\n* Add device for generated tensor\n\n* [Test] Make `test_export_static_cache` tests to run on devices rather than only CPU\n\n* fix format\n\n* infer device from the model",
        "tree": {
          "sha": "c6a55af23e5991845726a8d69e429915f088e63e",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/c6a55af23e5991845726a8d69e429915f088e63e"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/fc700c2a26af9e1b27162d408e8edfa2903c715f",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoePbACRC1aQ7uu5UhlAAAEwQQAA/nRTf5+NKQ+kEyo1K+dzcn\nz8ViKKJmTf1M+PurY1oxD6D/Q5lO1yPpUgyNyGk/WKVasKJQRyWdfXzcuvsQitHg\n6DvVzeLWW3gCw5kpKXcsSJfrBczxG6dJeWmpMs0CcRNHJJ2eF+J+B/rxWtNzmPec\nkeNqnJ8g4qf3KL5NGKl8d82yX0HS6aSyCVbZoyox+ZH7VJhVcZRSE3Xd70i4hPu/\nMg99I4uU+KYv8+GZYOGYHVgvNEg1i43/TIc8VIOu32GEFILhk80ygvqyIX2+dx1q\nqlAy3m6/bhMyky9bcGYAMboSnmEe10gD3nAZPmvJ65PBrUYvXoIMM0WnKJ6FEoxk\nM+nDp2qdB6caHf13qnYxEBDoH5kpQsYKV99ydMAhk5biBxiaN0S6+/3cGP4K7fMo\nn4e8PnOSk8lflME8wnqhjGRMBUgtoLnbrGwZrOXqPhFBlUyv1iRees8R21nI25L2\nzL/XpckMWNkdXgfWgNkOcKy6ux4Qggv/MV7PfN1YOQeD51sSZ2N8qzPsMrYZ2BFu\nJEpDdp2EkOlKiHk9aqmr9XUw6kSQb3oDT7R7RVWoJCJ191LUVUFSu+5vX58KD/YO\nmCfHFNRZEtmYEW/u+JnxSb3VqnK8gAGfcstCT+O4xf7G6QHje0/MTGI+DXdhVUJ3\nld+aSbemGO/Bjxyv6c8i\n=Lmu/\n-----END PGP SIGNATURE-----\n",
          "payload": "tree c6a55af23e5991845726a8d69e429915f088e63e\nparent 54680d75c9ed32ca7d7b0266d0563dcdd6fd40e3\nauthor Stonepia <tong.su@intel.com> 1752757952 +0800\ncommitter GitHub <noreply@github.com> 1752757952 +0000\n\nFix convert_and_export_with_cache failures for GPU models (#38976)\n\n* Add the `device` option for `generate()`\n\n* Add device for default tensors to avoid tensor mismatch\n\n* [test] Enable test_static_cache_exportability for torch_device\n\n* infer device from the prompt_token_ids\n\n* Add device for generated tensor\n\n* [Test] Make `test_export_static_cache` tests to run on devices rather than only CPU\n\n* fix format\n\n* infer device from the model",
          "verified_at": "2025-07-17T13:12:33Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/fc700c2a26af9e1b27162d408e8edfa2903c715f",
      "html_url": "https://github.com/huggingface/transformers/commit/fc700c2a26af9e1b27162d408e8edfa2903c715f",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/fc700c2a26af9e1b27162d408e8edfa2903c715f/comments",
      "author": {
        "login": "Stonepia",
        "id": 12094956,
        "node_id": "MDQ6VXNlcjEyMDk0OTU2",
        "avatar_url": "https://avatars.githubusercontent.com/u/12094956?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Stonepia",
        "html_url": "https://github.com/Stonepia",
        "followers_url": "https://api.github.com/users/Stonepia/followers",
        "following_url": "https://api.github.com/users/Stonepia/following{/other_user}",
        "gists_url": "https://api.github.com/users/Stonepia/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Stonepia/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Stonepia/subscriptions",
        "organizations_url": "https://api.github.com/users/Stonepia/orgs",
        "repos_url": "https://api.github.com/users/Stonepia/repos",
        "events_url": "https://api.github.com/users/Stonepia/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Stonepia/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "54680d75c9ed32ca7d7b0266d0563dcdd6fd40e3",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/54680d75c9ed32ca7d7b0266d0563dcdd6fd40e3",
          "html_url": "https://github.com/huggingface/transformers/commit/54680d75c9ed32ca7d7b0266d0563dcdd6fd40e3"
        }
      ]
    },
    {
      "sha": "54680d75c9ed32ca7d7b0266d0563dcdd6fd40e3",
      "node_id": "C_kwDOCUB6odoAKDU0NjgwZDc1YzllZDMyY2E3ZDdiMDI2NmQwNTYzZGNkZDZmZDQwZTM",
      "commit": {
        "author": {
          "name": "Yih-Dar",
          "email": "2521628+ydshieh@users.noreply.github.com",
          "date": "2025-07-17T13:06:23Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-17T13:06:23Z"
        },
        "message": "Update `GemmaIntegrationTest::test_model_2b_bf16_dola` (#39362)\n\nfix\n\nCo-authored-by: ydshieh <ydshieh@users.noreply.github.com>",
        "tree": {
          "sha": "c62ce28d499d9283a35e6ddf6875e8bc1bbe8c24",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/c62ce28d499d9283a35e6ddf6875e8bc1bbe8c24"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/54680d75c9ed32ca7d7b0266d0563dcdd6fd40e3",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoePVPCRC1aQ7uu5UhlAAAfe8QAK/4EEnvPPChDOTzAzSDRqGU\n9FiLTLWt1a2bvOwzir54maku3mkuUK1/SHY4TkG9FysvHrWTbUec3GycFKRBwAZd\nviV4+GsboCe+H1Zu0mjhwQEwutqJMxpz0n6ilPgrx9to6KXvYh2eXm7JIWhYBzrg\nF1IuGtXoh2N90wFngrf4ibkaCWcgTk6dR2y5jDR4Ov4E6/twceImbuX2bltEqFK/\nRxy2hF3ieVFtCMNkH6ZCcwH+uwzfccFEPT0mCHgkVP4YtufK8q3ZvLfNv/Y5mNGO\nB8jmA+q15MGQW/wdf71XP28W5Ud2MOpFd88ARXD0JKElEqoUU+ao1jUoJhCowh1v\n6pulMOCWBEhvfUbHcDvZwOQfqE6Qk8ug8n3oK0v4E/Xi7Y2+ZOiBd1s3s6ICl9Sc\ng8opb8c2UTHDD/5HJ8bqQQ+buQCJukQJO4K9AC8dIJ/NnOkJw/9sMsTOlf3JdmFu\nerwcxXraRhc7A/dEZ+P5FktBzDHHK0EL35lbTpQf3fZaUwXUcpl2iDfwdQRzXTds\nRErrQCz37a/70QXi3clDPc1kAxNNOOkuHnJtgQsuw27mXBebkBmphObD7D2L7zDn\nKng3gF7Gao+/WmJg261jBCvOr91LHeRkN4b+JIIFfVLWACNrdErWlpqq9KTxnx8/\ncWoYK8z23HkRTkmfNdU8\n=KzLM\n-----END PGP SIGNATURE-----\n",
          "payload": "tree c62ce28d499d9283a35e6ddf6875e8bc1bbe8c24\nparent 322400af58794ace3b3f97ecf927570b8c464bfc\nauthor Yih-Dar <2521628+ydshieh@users.noreply.github.com> 1752757583 +0200\ncommitter GitHub <noreply@github.com> 1752757583 +0100\n\nUpdate `GemmaIntegrationTest::test_model_2b_bf16_dola` (#39362)\n\nfix\n\nCo-authored-by: ydshieh <ydshieh@users.noreply.github.com>",
          "verified_at": "2025-07-17T13:06:24Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/54680d75c9ed32ca7d7b0266d0563dcdd6fd40e3",
      "html_url": "https://github.com/huggingface/transformers/commit/54680d75c9ed32ca7d7b0266d0563dcdd6fd40e3",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/54680d75c9ed32ca7d7b0266d0563dcdd6fd40e3/comments",
      "author": {
        "login": "ydshieh",
        "id": 2521628,
        "node_id": "MDQ6VXNlcjI1MjE2Mjg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2521628?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ydshieh",
        "html_url": "https://github.com/ydshieh",
        "followers_url": "https://api.github.com/users/ydshieh/followers",
        "following_url": "https://api.github.com/users/ydshieh/following{/other_user}",
        "gists_url": "https://api.github.com/users/ydshieh/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ydshieh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ydshieh/subscriptions",
        "organizations_url": "https://api.github.com/users/ydshieh/orgs",
        "repos_url": "https://api.github.com/users/ydshieh/repos",
        "events_url": "https://api.github.com/users/ydshieh/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ydshieh/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "322400af58794ace3b3f97ecf927570b8c464bfc",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/322400af58794ace3b3f97ecf927570b8c464bfc",
          "html_url": "https://github.com/huggingface/transformers/commit/322400af58794ace3b3f97ecf927570b8c464bfc"
        }
      ]
    },
    {
      "sha": "322400af58794ace3b3f97ecf927570b8c464bfc",
      "node_id": "C_kwDOCUB6odoAKDMyMjQwMGFmNTg3OTRhY2UzYjNmOTdlY2Y5Mjc1NzBiOGM0NjRiZmM",
      "commit": {
        "author": {
          "name": "klimarissa17",
          "email": "37802545+klimarissa17@users.noreply.github.com",
          "date": "2025-07-17T13:06:04Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-17T13:06:04Z"
        },
        "message": "fix a comment typo in utils.py (#39459)",
        "tree": {
          "sha": "29fc054f5284d89aef447787d3cc4b8aa73052db",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/29fc054f5284d89aef447787d3cc4b8aa73052db"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/322400af58794ace3b3f97ecf927570b8c464bfc",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoePU8CRC1aQ7uu5UhlAAAfw0QAIpdvXEmbv7cKouUjvoWtdG0\nuipEkIDgP6AjAl10UjI+WRDRNB5vNrXdvQBF+hSCmTU4u3Ay8vpuELOG1bpBYWJp\nWHeSCQtmzTpr4nN+ogjXmTNc/4K2AfoMbg0+oyKpZLXUSNzlGjgoMdoO6bQbuu1+\nhfP0OKZbNMfY/v87NfjqkJI30iOtvlxGR1YqitWgvMAQ5A8yCQNGOjipTLbtQCVs\nFA+PHyLDHoh7nT6LQZeSiPpbMbpp9S0N552TmXDZpJmmrzOlXbi++b7GS0pjzteh\nmNlxWXajIfkVyyer6Zn+atOsdO0HXGo+nZCgCINTJFvH36j7T8KxdMxPvyRAGu0r\n3qTBpIkx7SrdRlnCC7XDQUkVRbj1oD22eKpxN/HEEvsKc3bo3+lrdQlrl2pnrwZy\nsaHynimr4+RX4CxwQ5Gtwx8jYt4DdLig925uYjHYnL5khmkMfT/9YRnaEJWA/QdH\ng9DG/alHudKrRVQI3Lx/ti2xjZvIYD3JXt7mn2pv8ncPKoUyknTMUTzCP8KrV4lG\nMfWhmBJrVKYFd9g1BKYPI8HlHEGaS21kfLdw+Lh63CwGKGrJ2iYOezZr8e9fRVON\nEcZiEnCFZFba/ErxZSStJ92HHdt1yTQIeo4x+xP4IBF3R6T+9SFtREVI7HpagxvI\nMI+Ok22lwDyvd2o4cIri\n=ESYN\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 29fc054f5284d89aef447787d3cc4b8aa73052db\nparent 43f07018cff3c305e9d3a3782e3a95100800be4c\nauthor klimarissa17 <37802545+klimarissa17@users.noreply.github.com> 1752757564 +0200\ncommitter GitHub <noreply@github.com> 1752757564 +0000\n\nfix a comment typo in utils.py (#39459)\n\n",
          "verified_at": "2025-07-17T13:06:05Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/322400af58794ace3b3f97ecf927570b8c464bfc",
      "html_url": "https://github.com/huggingface/transformers/commit/322400af58794ace3b3f97ecf927570b8c464bfc",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/322400af58794ace3b3f97ecf927570b8c464bfc/comments",
      "author": {
        "login": "klimarissa17",
        "id": 37802545,
        "node_id": "MDQ6VXNlcjM3ODAyNTQ1",
        "avatar_url": "https://avatars.githubusercontent.com/u/37802545?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/klimarissa17",
        "html_url": "https://github.com/klimarissa17",
        "followers_url": "https://api.github.com/users/klimarissa17/followers",
        "following_url": "https://api.github.com/users/klimarissa17/following{/other_user}",
        "gists_url": "https://api.github.com/users/klimarissa17/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/klimarissa17/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/klimarissa17/subscriptions",
        "organizations_url": "https://api.github.com/users/klimarissa17/orgs",
        "repos_url": "https://api.github.com/users/klimarissa17/repos",
        "events_url": "https://api.github.com/users/klimarissa17/events{/privacy}",
        "received_events_url": "https://api.github.com/users/klimarissa17/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "43f07018cff3c305e9d3a3782e3a95100800be4c",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/43f07018cff3c305e9d3a3782e3a95100800be4c",
          "html_url": "https://github.com/huggingface/transformers/commit/43f07018cff3c305e9d3a3782e3a95100800be4c"
        }
      ]
    },
    {
      "sha": "43f07018cff3c305e9d3a3782e3a95100800be4c",
      "node_id": "C_kwDOCUB6odoAKDQzZjA3MDE4Y2ZmM2MzMDVlOWQzYTM3ODJlM2E5NTEwMDgwMGJlNGM",
      "commit": {
        "author": {
          "name": "Yuanyuan Chen",
          "email": "cyyever@outlook.com",
          "date": "2025-07-17T13:05:21Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-17T13:05:21Z"
        },
        "message": "Use newer typing notation (#38934)\n\nSigned-off-by: cyy <cyyever@outlook.com>",
        "tree": {
          "sha": "fea33775d8277ba3667637803136c6cd5218cba3",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/fea33775d8277ba3667637803136c6cd5218cba3"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/43f07018cff3c305e9d3a3782e3a95100800be4c",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoePURCRC1aQ7uu5UhlAAAtssQADZqp2ln2q2lIIpN9zYMeDYD\nkXQhhpdjE5YJBtdaIYdI7ejsYBEq8fO2V5Yq8Ks7CdJwfHJZ1wtjGatItlIsyU7T\nzyZw7U7CJpxCnm3DFEtKtaoEqYcaGuDANNaKA2u4r/DODiln6m3clPcGp9XFc1+5\ndh7749ekCOU9UrrEkmlJTk/6zgzBliTM1FODYIVer6yXzzCl/ET8RIHSPyRMerm3\n01lUEldle4PVI8EDcj0uO2Z03/75fNWmhsChW3wRL6oNkhz+HkwpfG0pQHSw0+ZB\nNSnuNd6oL6ZXWOJc3AgUeuSh0fsGO5UoH2WL2w+neQbyWbeEevoLDj9N9SW2kZ/S\nMbklAzk2i5eNSSA1AT6I37FJqwLV+tQ6vziiRCT+xa8WYSSzVPli0RxvbGaN/xhF\nJ6BhAho+MhN5yVqexepdvy/g1N0DVibPYIKQGu2tSV5bMlahQ82tQGrRHVPAmbOo\nr1RbXuj4QIPEKI20Q8NwDcMDGOj/MD5yYXfqBIy2Jupe3m6qKVr7vfVIH+kiiokm\nMwbi1iQf081LPTh7HoYRWA/eKHX6zg9IxxoK/v78Tzs53gTco9rd/p+GCQ0fd/f7\nx5j1yY2p4sR8W6kZ886+4YSLJ+MpZlQmkaLyw9+cGAA95/ymWkIT//dvkrm3F5w6\nCWc6AYanplnyUAQWNDeh\n=qqAl\n-----END PGP SIGNATURE-----\n",
          "payload": "tree fea33775d8277ba3667637803136c6cd5218cba3\nparent 565dd0bad74a46d85c41e2d870f803d9e7a1a94e\nauthor Yuanyuan Chen <cyyever@outlook.com> 1752757521 +0800\ncommitter GitHub <noreply@github.com> 1752757521 +0000\n\nUse newer typing notation (#38934)\n\nSigned-off-by: cyy <cyyever@outlook.com>",
          "verified_at": "2025-07-17T13:05:21Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/43f07018cff3c305e9d3a3782e3a95100800be4c",
      "html_url": "https://github.com/huggingface/transformers/commit/43f07018cff3c305e9d3a3782e3a95100800be4c",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/43f07018cff3c305e9d3a3782e3a95100800be4c/comments",
      "author": {
        "login": "cyyever",
        "id": 17618148,
        "node_id": "MDQ6VXNlcjE3NjE4MTQ4",
        "avatar_url": "https://avatars.githubusercontent.com/u/17618148?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cyyever",
        "html_url": "https://github.com/cyyever",
        "followers_url": "https://api.github.com/users/cyyever/followers",
        "following_url": "https://api.github.com/users/cyyever/following{/other_user}",
        "gists_url": "https://api.github.com/users/cyyever/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cyyever/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cyyever/subscriptions",
        "organizations_url": "https://api.github.com/users/cyyever/orgs",
        "repos_url": "https://api.github.com/users/cyyever/repos",
        "events_url": "https://api.github.com/users/cyyever/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cyyever/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "565dd0bad74a46d85c41e2d870f803d9e7a1a94e",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/565dd0bad74a46d85c41e2d870f803d9e7a1a94e",
          "html_url": "https://github.com/huggingface/transformers/commit/565dd0bad74a46d85c41e2d870f803d9e7a1a94e"
        }
      ]
    },
    {
      "sha": "565dd0bad74a46d85c41e2d870f803d9e7a1a94e",
      "node_id": "C_kwDOCUB6odoAKDU2NWRkMGJhZDc0YTQ2ZDg1YzQxZTJkODcwZjgwM2Q5ZTdhMWE5NGU",
      "commit": {
        "author": {
          "name": "Marc Sun",
          "email": "57196510+SunMarc@users.noreply.github.com",
          "date": "2025-07-17T12:51:50Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-17T12:51:50Z"
        },
        "message": "Fix tests due to breaking change in accelerate (#39451)\n\n* update values\n\n* fix",
        "tree": {
          "sha": "82f408f7d54e685c76cf04c28d60dcd28dcaf41d",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/82f408f7d54e685c76cf04c28d60dcd28dcaf41d"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/565dd0bad74a46d85c41e2d870f803d9e7a1a94e",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoePHmCRC1aQ7uu5UhlAAAmugQABjI67TDjWMFXayRkheMDU2+\nIj/U7HpDptcfe97rh58SzYGeibT1/VWgrbCGGAgFdBwt+xQeuZJl72pr6bQnBIUJ\nNk0fSqxlVOiaTqtAXiURin3loApiX7uVIlazKQJlLHK+5mv9oHRPU0uI7NqJ9OWu\nYBgiHOtYAYnCo8GLufIr/9alA+2vlsHwfhVviwpWuS1KUYvWIBDjakOAQ6wsKlV1\nbu/wCK9NcOehDniYMK/NRA+muEvSb9ElV/5Q0/Kd1LolZHxgMJMILfUD5MCVQNTt\nGxrvh5VKUAPlXhj3wACgDKgJ40N/MHguqYsu+SsGAqGHNRKia5auLeWEEvT+FRJP\nFwkwjT1T/amjX1eZh3ik+w/7JMiwSkZthlRqD4YY3FwdLhshRs3qJT72LZn9kQmu\nPCutrxZDzLHcnHaecAfIfW1HFLKV8i9++aPgN71gz9D+asnOpwhRlLqv//sCXB5W\nvO0wWzjgi8Byu6+YQ9T9WEovEjxH4bJcomAJ9wlPxBoeKeXaUowai/ZndkDnR6I7\nF/V5/CKAcs0V/OYoLndR415KlDPh3UuSgM01Zy+sNwAr7pn9ewg7CemsXxfre6Pu\nvlI+jSeH3XbEyRdH+rW/vQgLeJRoP8DTlhkjNh72imtnsG0cU9uEKMeJLTkw8g4o\nIvnvj1DsPlLaY1Macor4\n=sBxJ\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 82f408f7d54e685c76cf04c28d60dcd28dcaf41d\nparent 26fed50460a8843399b58a23143a9e3f8a6f5aca\nauthor Marc Sun <57196510+SunMarc@users.noreply.github.com> 1752756710 +0200\ncommitter GitHub <noreply@github.com> 1752756710 +0100\n\nFix tests due to breaking change in accelerate (#39451)\n\n* update values\n\n* fix",
          "verified_at": "2025-07-17T12:51:50Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/565dd0bad74a46d85c41e2d870f803d9e7a1a94e",
      "html_url": "https://github.com/huggingface/transformers/commit/565dd0bad74a46d85c41e2d870f803d9e7a1a94e",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/565dd0bad74a46d85c41e2d870f803d9e7a1a94e/comments",
      "author": {
        "login": "SunMarc",
        "id": 57196510,
        "node_id": "MDQ6VXNlcjU3MTk2NTEw",
        "avatar_url": "https://avatars.githubusercontent.com/u/57196510?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SunMarc",
        "html_url": "https://github.com/SunMarc",
        "followers_url": "https://api.github.com/users/SunMarc/followers",
        "following_url": "https://api.github.com/users/SunMarc/following{/other_user}",
        "gists_url": "https://api.github.com/users/SunMarc/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/SunMarc/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/SunMarc/subscriptions",
        "organizations_url": "https://api.github.com/users/SunMarc/orgs",
        "repos_url": "https://api.github.com/users/SunMarc/repos",
        "events_url": "https://api.github.com/users/SunMarc/events{/privacy}",
        "received_events_url": "https://api.github.com/users/SunMarc/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "26fed50460a8843399b58a23143a9e3f8a6f5aca",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/26fed50460a8843399b58a23143a9e3f8a6f5aca",
          "html_url": "https://github.com/huggingface/transformers/commit/26fed50460a8843399b58a23143a9e3f8a6f5aca"
        }
      ]
    },
    {
      "sha": "26fed50460a8843399b58a23143a9e3f8a6f5aca",
      "node_id": "C_kwDOCUB6odoAKDI2ZmVkNTA0NjBhODg0MzM5OWI1OGEyMzE0M2E5ZTNmOGE2ZjVhY2E",
      "commit": {
        "author": {
          "name": "Zhongkai Zhao",
          "email": "kanezz620@gmail.com",
          "date": "2025-07-17T08:54:23Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-17T08:54:23Z"
        },
        "message": "fix max_length calculating using cu_seq_lens (#39341)",
        "tree": {
          "sha": "ba70a66b98e7c7332b1c3392dfb6785a74cbf333",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/ba70a66b98e7c7332b1c3392dfb6785a74cbf333"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/26fed50460a8843399b58a23143a9e3f8a6f5aca",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoeLo/CRC1aQ7uu5UhlAAACccQAKtkzJ5iShwmFIMHSLwyqYUm\nKWlT4BgI3JwW/jT9R5oeFg5BMLxueQ7dBVTReDy60l6CK271lVa+pMngLJy/+ztC\n+4kVHNP1bxDvRKV83Ux1WJrNCezL5hBZeo7lfTBHiWq5iI78D/qHygKMBsoxNYGO\nmGerkhUbU7JZ0/SFuiRi8/HLe5pZyITa36caxcWBzYHPn4/7UqHs1JcfFqn5PL/K\nDW24ZUay1kJXdD1lHVzO+wVu+E9DgNQyfwVc7MseXlkVyxyp5lfnc5i0cy+PJBM1\nRg++2Set7CZimPUIdtgOTZXGqybWv7dMbxL5BEzsgZdKMWKeexSTHTtK6dGKPHQy\ns9+1CfG+ZZQXjROUlrwoBFlsGsdeHPxyEfWeGq5H/loTyrK6GKTO/eUnAoRNzAOw\nEulgoMSFZVC/R9b2vUzNkF0blnof4d3YJ7V62g9IuJ7MMKovS2kt8LW4790ySKYM\nQRvSZfw8bY9WtHzFDZZtAw0ie1lxkfmrUQ1BoD0y9tUwrNjpx0gEcJqDmCntA8Mv\nmUbpZ2pudFTOrKw1ha5B37IFneT6WUK6S7WeC9aMWrlU9F2Hx52Ub/k1VKBt3702\n3e0a+rldNb6O/8ulmJoyOyhPCgv03D0kKBx34559iDR+Lxe2oqjIOFFFULHC7Dop\nDJcZoRHJMnFV5OzOwwkb\n=1nmB\n-----END PGP SIGNATURE-----\n",
          "payload": "tree ba70a66b98e7c7332b1c3392dfb6785a74cbf333\nparent cdfe6164b32d52f5d2125a29f0762e18ec5ac708\nauthor Zhongkai Zhao <kanezz620@gmail.com> 1752742463 +0800\ncommitter GitHub <noreply@github.com> 1752742463 +0200\n\nfix max_length calculating using cu_seq_lens (#39341)\n\n",
          "verified_at": "2025-07-17T08:54:24Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/26fed50460a8843399b58a23143a9e3f8a6f5aca",
      "html_url": "https://github.com/huggingface/transformers/commit/26fed50460a8843399b58a23143a9e3f8a6f5aca",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/26fed50460a8843399b58a23143a9e3f8a6f5aca/comments",
      "author": {
        "login": "KKZ20",
        "id": 46569774,
        "node_id": "MDQ6VXNlcjQ2NTY5Nzc0",
        "avatar_url": "https://avatars.githubusercontent.com/u/46569774?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/KKZ20",
        "html_url": "https://github.com/KKZ20",
        "followers_url": "https://api.github.com/users/KKZ20/followers",
        "following_url": "https://api.github.com/users/KKZ20/following{/other_user}",
        "gists_url": "https://api.github.com/users/KKZ20/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/KKZ20/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/KKZ20/subscriptions",
        "organizations_url": "https://api.github.com/users/KKZ20/orgs",
        "repos_url": "https://api.github.com/users/KKZ20/repos",
        "events_url": "https://api.github.com/users/KKZ20/events{/privacy}",
        "received_events_url": "https://api.github.com/users/KKZ20/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "cdfe6164b32d52f5d2125a29f0762e18ec5ac708",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/cdfe6164b32d52f5d2125a29f0762e18ec5ac708",
          "html_url": "https://github.com/huggingface/transformers/commit/cdfe6164b32d52f5d2125a29f0762e18ec5ac708"
        }
      ]
    },
    {
      "sha": "cdfe6164b32d52f5d2125a29f0762e18ec5ac708",
      "node_id": "C_kwDOCUB6odoAKGNkZmU2MTY0YjMyZDUyZjVkMjEyNWEyOWYwNzYyZTE4ZWM1YWM3MDg",
      "commit": {
        "author": {
          "name": "Yusuf Shihata",
          "email": "166058059+yushi2006@users.noreply.github.com",
          "date": "2025-07-17T08:24:30Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-17T08:24:30Z"
        },
        "message": "fix(pipelines): QA pipeline returns fewer than top_k results in batch mode (#39193)\n\n* fixing the bug\n\n* Try a simpler approach\n\n* make fixup\n\n---------\n\nCo-authored-by: Matt <rocketknight1@gmail.com>",
        "tree": {
          "sha": "8c84a9609099f5a8fda0c449b089b1efd835662c",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/8c84a9609099f5a8fda0c449b089b1efd835662c"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/cdfe6164b32d52f5d2125a29f0762e18ec5ac708",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoeLM+CRC1aQ7uu5UhlAAAVqEQAEXnizKp87WgrCZ+GqaQOTNB\nND5TqOoF0ilbE6LQVevnZpwBuRoZicXL0E3fipsvx+zLucr5s2bJa2i49LYSxuUO\nXf2GRAnZ4p3H6K4+5KNXeOs1hjkvfwjX76jPoAP0b9KPgVU7Q9HFadwIu/ixlBtG\n8S/tsEl6OZUUesIx9eKrod5yTjB33VZfE9SBmqSEicXPQPUHSUA8XA5JvsOMu711\nQX9o1cadG5/rP0cunZiMwHf69R9c6fFoihBfQGg+esJ7pB1iW3mG6VC0W05jecls\nk2GefZ8YQAhh8RidHG0s9+xuoiubkOJtNJvGtUFVYcSRj80IMJA4IZaT7ObhY2Sz\n6MWeuJhXSYVfZ/S9QnD/VqdIFBOzbk/ovN8LslE0uP2VL1ZGiMtGjsCWZ48n/94X\nfpSeEJkFxDICtSdLNmR8OUY/GT1WD9Oyk3NlARRDQhiVeRAGnao6ZGI8EnrYFQZb\nd2ufJaqsTzc9E0H2UhcODAR1hC5vt0yHCo6ApOVrAPHk6tQuGrlskE/gKWh386GM\nQ/02XfqD/QkVux84qE5cgPinQ3xhSx+c96PTEk9Dd/0K6EdxHvk4B9C4VLG82dLh\nNSJSitz+Xa1+OM1mfngzfK7WSjSg3rVcSXSrePFenQr7n+gtm9PSB6RBafigBT7Q\ndVOHbJ5t9OGS93pb+p6E\n=K50W\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 8c84a9609099f5a8fda0c449b089b1efd835662c\nparent b85ed49e0a5f1bd9fd887f497d055b22b9319a12\nauthor Yusuf Shihata <166058059+yushi2006@users.noreply.github.com> 1752740670 +0300\ncommitter GitHub <noreply@github.com> 1752740670 +0200\n\nfix(pipelines): QA pipeline returns fewer than top_k results in batch mode (#39193)\n\n* fixing the bug\n\n* Try a simpler approach\n\n* make fixup\n\n---------\n\nCo-authored-by: Matt <rocketknight1@gmail.com>",
          "verified_at": "2025-07-17T08:24:31Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/cdfe6164b32d52f5d2125a29f0762e18ec5ac708",
      "html_url": "https://github.com/huggingface/transformers/commit/cdfe6164b32d52f5d2125a29f0762e18ec5ac708",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/cdfe6164b32d52f5d2125a29f0762e18ec5ac708/comments",
      "author": {
        "login": "yushi2006",
        "id": 166058059,
        "node_id": "U_kgDOCeXYSw",
        "avatar_url": "https://avatars.githubusercontent.com/u/166058059?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/yushi2006",
        "html_url": "https://github.com/yushi2006",
        "followers_url": "https://api.github.com/users/yushi2006/followers",
        "following_url": "https://api.github.com/users/yushi2006/following{/other_user}",
        "gists_url": "https://api.github.com/users/yushi2006/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/yushi2006/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/yushi2006/subscriptions",
        "organizations_url": "https://api.github.com/users/yushi2006/orgs",
        "repos_url": "https://api.github.com/users/yushi2006/repos",
        "events_url": "https://api.github.com/users/yushi2006/events{/privacy}",
        "received_events_url": "https://api.github.com/users/yushi2006/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "b85ed49e0a5f1bd9fd887f497d055b22b9319a12",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/b85ed49e0a5f1bd9fd887f497d055b22b9319a12",
          "html_url": "https://github.com/huggingface/transformers/commit/b85ed49e0a5f1bd9fd887f497d055b22b9319a12"
        }
      ]
    },
    {
      "sha": "b85ed49e0a5f1bd9fd887f497d055b22b9319a12",
      "node_id": "C_kwDOCUB6odoAKGI4NWVkNDllMGE1ZjFiZDlmZDg4N2Y0OTdkMDU1YjIyYjkzMTlhMTI",
      "commit": {
        "author": {
          "name": "renet10",
          "email": "renet10@outlook.com",
          "date": "2025-07-16T21:13:07Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T21:13:07Z"
        },
        "message": "Corrections to PR #38642 and enhancements to Wav2Vec2Processor __call__ and pad docstrings (#38822)\n\n* Correcting PR #38642.  The PR removed references to the deprecated method \"as_target_processor()\" in the\n__call__ and pad method docstrings, which is correct, but also removed all references to PreTrainedTokenizer,\nwhich is incorrect.  This commit adds back the reference to PreTrainedTokenizer and also takes the\nopportunity to enhance the docstrings with the invocation procedure post removal of \"as_target_processor()\"\nand adds information on return values.\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n---------\n\nCo-authored-by: Ren\u00e9 Tio <tor@Jammer.local>\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>",
        "tree": {
          "sha": "3734b602acbd869d32a3f2bee191df8e5cbbdae0",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/3734b602acbd869d32a3f2bee191df8e5cbbdae0"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/b85ed49e0a5f1bd9fd887f497d055b22b9319a12",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoeBXjCRC1aQ7uu5UhlAAAZYYQACJwMV3HLsDoHYV/k1VlUtkQ\nPCKHFkg7C+AlbKdpkFb+ZeKmDZSQk8PiaKZgW/7Gsfq27sGNoVGUy2WrHDE7bDA9\nyNmId9Zs5QVrXjxd60mGGvWm1ixbZVw/O5BqBipUUlDXsUp7w1G/T1GzLWUEeDP2\n53yn3XHs0JDm96JI0McxT7sDmrBiFCqT2o5mSjlKXYo0zjqjFbO47b5IoiidUxP2\nRoExz2ajKAoCqz/MRjWXANf7R9FI+gi29D9RCDPyc0rInqAGKBUMoLMfKmlREM8X\noLemyElFf9l1mleZpypnWCkM8kNEt4toVIB/yjTFfIpI8qJoDghGnYO6NHIdxwNI\nnsSbKA56YEZI6M6jpssAE5t2VGmI4aMNneEzJbL6z+YNhineD5e0Y/i7X6E82+v/\nfehY2IvaiQvBVizY0D/HHVJ/emQu/AtGtCAR9Y11l91UMTTfT8H9pOI8kpEN15v9\nicQRp1lK0vn6LOUpvYr3IT4UXpO1yYXi2iy/c6wW7ZV8tyl3yeuITD9Sh2lvbGBY\nTq7pJRoTcVoWXN8AvONl9aOUFAifL8fTUSjxloW8/bPETwn/0EHG/fl31nGkoRbQ\n+HBgD0kqn7Uqt82wHT32E1Wb4n02s4KXSizqRZoT6toBBMR5IkJRtYBaZOs1sGpI\nZVTJlsGFxnwQCEkQnNMq\n=r5uo\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 3734b602acbd869d32a3f2bee191df8e5cbbdae0\nparent 787a0128a92926c615b29abfa8dec40087c1d875\nauthor renet10 <renet10@outlook.com> 1752700387 -0400\ncommitter GitHub <noreply@github.com> 1752700387 -0700\n\nCorrections to PR #38642 and enhancements to Wav2Vec2Processor __call__ and pad docstrings (#38822)\n\n* Correcting PR #38642.  The PR removed references to the deprecated method \"as_target_processor()\" in the\n__call__ and pad method docstrings, which is correct, but also removed all references to PreTrainedTokenizer,\nwhich is incorrect.  This commit adds back the reference to PreTrainedTokenizer and also takes the\nopportunity to enhance the docstrings with the invocation procedure post removal of \"as_target_processor()\"\nand adds information on return values.\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n* Update src/transformers/models/wav2vec2/processing_wav2vec2.py\n\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>\n\n---------\n\nCo-authored-by: Ren\u00e9 Tio <tor@Jammer.local>\nCo-authored-by: Steven Liu <59462357+stevhliu@users.noreply.github.com>",
          "verified_at": "2025-07-16T21:13:08Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/b85ed49e0a5f1bd9fd887f497d055b22b9319a12",
      "html_url": "https://github.com/huggingface/transformers/commit/b85ed49e0a5f1bd9fd887f497d055b22b9319a12",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/b85ed49e0a5f1bd9fd887f497d055b22b9319a12/comments",
      "author": {
        "login": "renet10",
        "id": 12860891,
        "node_id": "MDQ6VXNlcjEyODYwODkx",
        "avatar_url": "https://avatars.githubusercontent.com/u/12860891?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/renet10",
        "html_url": "https://github.com/renet10",
        "followers_url": "https://api.github.com/users/renet10/followers",
        "following_url": "https://api.github.com/users/renet10/following{/other_user}",
        "gists_url": "https://api.github.com/users/renet10/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/renet10/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/renet10/subscriptions",
        "organizations_url": "https://api.github.com/users/renet10/orgs",
        "repos_url": "https://api.github.com/users/renet10/repos",
        "events_url": "https://api.github.com/users/renet10/events{/privacy}",
        "received_events_url": "https://api.github.com/users/renet10/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "787a0128a92926c615b29abfa8dec40087c1d875",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/787a0128a92926c615b29abfa8dec40087c1d875",
          "html_url": "https://github.com/huggingface/transformers/commit/787a0128a92926c615b29abfa8dec40087c1d875"
        }
      ]
    },
    {
      "sha": "787a0128a92926c615b29abfa8dec40087c1d875",
      "node_id": "C_kwDOCUB6odoAKDc4N2EwMTI4YTkyOTI2YzYxNWIyOWFiZmE4ZGVjNDAwODdjMWQ4NzU",
      "commit": {
        "author": {
          "name": "Dhruv Malik",
          "email": "malikdhruv1994@gmail.com",
          "date": "2025-07-16T19:40:22Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T19:40:22Z"
        },
        "message": "create ijepa modelcard (ref : PR  #36979 ). (#39354)\n\n* wip: adding first version of the IJEPA model card.\n\n* refactor based on the @stevhliu feedbacks\n\n* refactor:\n- revert the accidental removal of the autodoc api description and the image reerece architecture\n\n- general context updation.\n\n* - changes of model for example quantization.\n- merging the  quantization content.",
        "tree": {
          "sha": "f3334f549956f3256d1a2ff3128a3a915a106784",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/f3334f549956f3256d1a2ff3128a3a915a106784"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/787a0128a92926c615b29abfa8dec40087c1d875",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJoeAAmCRC1aQ7uu5UhlAAAjuoQADgrtt0OjSYIKJuvZ/TY6x8L\nqiGwABD+75w1/0EjjyBfhS6zpJan0uElIV681h7+oqLpa7UfhsHmtKKe28k7wtun\nC7s9LqBkltP8A+xkzIygZYnePmP+McvOIIsfo2p2INdTu+3dyyPd1nEQ2Np48Eu+\nmStJKqZMJHP5q/O3RvXtSkk4zN04JZJCudCHQtO/GB/GZBJIhJOO9IISEv7ACiE6\nAKYRTw54syF93U+OiGpmcUmZnTWloWFYD7Xnv4I+YEjV8LHJ/0ZhxWDWs3cUaRjn\nJesLY/SOJFz0/ZVs5NdngHtRtGX6fu6QoD/Ji8qJ85PThhVbhgdM6uxnPBoGFmoj\nT8pm9p3fReZB48iR4/Xe0sALC2frrwNGDbn5B+3vkFbAORR4d4k6+fQKk7+9dPaA\nPWaezeHWiFZb4yACeBmfqPmBHvBYTV4SwslrdXlYaCeIdqlhZkJstlHVAyrFYrsc\nFDSwC7VFsBAXwmZz//8iKGMsHgAsP0txqYwhkzJvq6jX77m7ZGsyL4/IH6XQxelj\nf/YwMFClxqrE6WZoxdXWfAxTdtoLcn7Z4mnahSSefQZB5kFBGNRw7ZnmB3Qd9gPg\npKZ+dSMCd2M+Ed7aswX9WKDI8xhkbCdXl3WWA/ctj9+kp+oE8uxi6XBiJJap0R9z\ng2HHPM6+aNFQUJ1pqIns\n=Ml+P\n-----END PGP SIGNATURE-----\n",
          "payload": "tree f3334f549956f3256d1a2ff3128a3a915a106784\nparent 48f2233cdfdf49551f689268ad82a9eba7d9345b\nauthor Dhruv Malik <malikdhruv1994@gmail.com> 1752694822 +0200\ncommitter GitHub <noreply@github.com> 1752694822 -0700\n\ncreate ijepa modelcard (ref : PR  #36979 ). (#39354)\n\n* wip: adding first version of the IJEPA model card.\n\n* refactor based on the @stevhliu feedbacks\n\n* refactor:\n- revert the accidental removal of the autodoc api description and the image reerece architecture\n\n- general context updation.\n\n* - changes of model for example quantization.\n- merging the  quantization content.",
          "verified_at": "2025-07-16T19:40:23Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/787a0128a92926c615b29abfa8dec40087c1d875",
      "html_url": "https://github.com/huggingface/transformers/commit/787a0128a92926c615b29abfa8dec40087c1d875",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/787a0128a92926c615b29abfa8dec40087c1d875/comments",
      "author": {
        "login": "dhruvmalik007",
        "id": 29146213,
        "node_id": "MDQ6VXNlcjI5MTQ2MjEz",
        "avatar_url": "https://avatars.githubusercontent.com/u/29146213?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dhruvmalik007",
        "html_url": "https://github.com/dhruvmalik007",
        "followers_url": "https://api.github.com/users/dhruvmalik007/followers",
        "following_url": "https://api.github.com/users/dhruvmalik007/following{/other_user}",
        "gists_url": "https://api.github.com/users/dhruvmalik007/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/dhruvmalik007/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dhruvmalik007/subscriptions",
        "organizations_url": "https://api.github.com/users/dhruvmalik007/orgs",
        "repos_url": "https://api.github.com/users/dhruvmalik007/repos",
        "events_url": "https://api.github.com/users/dhruvmalik007/events{/privacy}",
        "received_events_url": "https://api.github.com/users/dhruvmalik007/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "48f2233cdfdf49551f689268ad82a9eba7d9345b",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/48f2233cdfdf49551f689268ad82a9eba7d9345b",
          "html_url": "https://github.com/huggingface/transformers/commit/48f2233cdfdf49551f689268ad82a9eba7d9345b"
        }
      ]
    },
    {
      "sha": "48f2233cdfdf49551f689268ad82a9eba7d9345b",
      "node_id": "C_kwDOCUB6odoAKDQ4ZjIyMzNjZGZkZjQ5NTUxZjY4OTI2OGFkODJhOWViYTdkOTM0NWI",
      "commit": {
        "author": {
          "name": "ridima11",
          "email": "153719980+ridima11@users.noreply.github.com",
          "date": "2025-07-16T19:15:15Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T19:15:15Z"
        },
        "message": "Improve grammar and clarity in perf_hardware.md (#39428)",
        "tree": {
          "sha": "a65119bf75191ea02d5959ec7a639be17eadafdb",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/a65119bf75191ea02d5959ec7a639be17eadafdb"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/48f2233cdfdf49551f689268ad82a9eba7d9345b",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod/pDCRC1aQ7uu5UhlAAAe8sQAJlxaYH4gA87Jljx6jMM6Bd7\nE4WEtpd3VyGm71XZWGaibyWujT5WGI/jIB16QsQ1emStWbd4hhdAG5af6tnUFeR0\noGDdkWQkvj0t+UtFto6UnMWZrbauI/KjFm2Uc2yDxXW57xLjuzsE6cjBeqG95tCH\nLblSGGM2K6fXLa6nUHr5MfnI2yTTqqoaP7V+AnGeCIQlxep0K6N6HkJcrC60DdsY\nnP10/Fj18LpIy6ds+02TDLPCVob/hvuV0KURrojqQ2kpvZX7zus4ct/Kj15H56Hg\nKyvKBgyez0f0Zq0JePAYMDWSaMz4cU2qy5IOMkQ6lWrGQmc/sosQ1fsZSk1T+ncQ\ng/pvJd3EnO65cYaz83zOveRFrxP/s0gRD4z9fdG8eavWB0bPZ0+LRNPfXocvd73n\n/UYQMSLJTLGgytO6dniv7JWboAXnahyuhW4KeLI4KdC9yLZnh6LFmFyv3YUtkeka\nu794Nk/huh+Ukhn3fwe0iBGdwCehmo6DEtj4sYKRpkwQQjbO8C9SIZKPXUBi+TKF\niMPHhOlGPOsiaL+jCo5ArkF3PbuPjT9ZLCncl9j5Yb0GyxOnD2q4QUolEMN0VFz6\nOGpjPWZA0RmKt9e0Iya1tRDeG3rdZSRWFgUoyGS2y9ZijM9x5aKd+zcKd7O1V7Ro\nF5PKJ/7SGSR2dphdtMUa\n=mY3N\n-----END PGP SIGNATURE-----\n",
          "payload": "tree a65119bf75191ea02d5959ec7a639be17eadafdb\nparent e68ebb695f9d1d990462397e284e79d8729aafea\nauthor ridima11 <153719980+ridima11@users.noreply.github.com> 1752693315 +0530\ncommitter GitHub <noreply@github.com> 1752693315 -0700\n\nImprove grammar and clarity in perf_hardware.md (#39428)\n\n",
          "verified_at": "2025-07-16T19:15:16Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/48f2233cdfdf49551f689268ad82a9eba7d9345b",
      "html_url": "https://github.com/huggingface/transformers/commit/48f2233cdfdf49551f689268ad82a9eba7d9345b",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/48f2233cdfdf49551f689268ad82a9eba7d9345b/comments",
      "author": {
        "login": "ridima11",
        "id": 153719980,
        "node_id": "U_kgDOCSmUrA",
        "avatar_url": "https://avatars.githubusercontent.com/u/153719980?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ridima11",
        "html_url": "https://github.com/ridima11",
        "followers_url": "https://api.github.com/users/ridima11/followers",
        "following_url": "https://api.github.com/users/ridima11/following{/other_user}",
        "gists_url": "https://api.github.com/users/ridima11/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ridima11/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ridima11/subscriptions",
        "organizations_url": "https://api.github.com/users/ridima11/orgs",
        "repos_url": "https://api.github.com/users/ridima11/repos",
        "events_url": "https://api.github.com/users/ridima11/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ridima11/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "e68ebb695f9d1d990462397e284e79d8729aafea",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/e68ebb695f9d1d990462397e284e79d8729aafea",
          "html_url": "https://github.com/huggingface/transformers/commit/e68ebb695f9d1d990462397e284e79d8729aafea"
        }
      ]
    },
    {
      "sha": "e68ebb695f9d1d990462397e284e79d8729aafea",
      "node_id": "C_kwDOCUB6odoAKGU2OGViYjY5NWY5ZDFkOTkwNDYyMzk3ZTI4NGU3OWQ4NzI5YWFmZWE",
      "commit": {
        "author": {
          "name": "Yaowei Zheng",
          "email": "hiyouga@buaa.edu.cn",
          "date": "2025-07-16T16:02:26Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T16:02:26Z"
        },
        "message": "fix cached file error when repo type is dataset (#36909)\n\n* fix cached file\n\n* Update hub.py",
        "tree": {
          "sha": "3912b17f562a5797ad17b42ef18f4faba1d713af",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/3912b17f562a5797ad17b42ef18f4faba1d713af"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/e68ebb695f9d1d990462397e284e79d8729aafea",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod80SCRC1aQ7uu5UhlAAAAQUQAG0pCj3WRp4fFlUDN3v5KIu7\nJ1h5C07scLAXtZOqdZIuviNvMfqC1/ybTRW+WBvYsvOgQp/Gt5SmTXa9NOMb5Dfm\neEIsypyJ+umXHqPMAq02efUOzbtr76vyd7QP0bGU5E43AeMlN/dNJH9+q9AgPwYl\n1xU6EjzhLRKOeZf3rl/2POGtIny2N0ZPEPZrPxwSLrF6BzXg6cRqkUpiMx8RW+jb\ntdMTCRXcqXrk/99MaxIM2vqfS7CSsS0gQU5UT0WWdPftcmQsPoGzHTUS0SNLiJId\n7EMy3VyZ/EiDaw1buHBuX6B6nSk7MB1z1yVEm9v7QwMY9B+VV4qKk5zeTdh0uwsh\nc8/SvT/wTP52DLM1I2XuxejGiwCvBR/C4hU7RocPf/0DN8Y75VXWxMjGOXyP7c2O\nr9BpWsL2RRHeyCRNng8zakAK+PRZbBqVL5ZuTjEyRnRH/PN11eDUchyTT05OQ6Vn\nUOq0dBgWfQpa4ZUYM1yyN6Qlv2/STVVAuLODHl3PtiEUYO2nu6EQGGBBqowaBudS\nHZ/UfpaqeGO8YGTm0sp9c37b7F8W1Ta5UZpXVwxoeJOxkpsCQWHpa3rUKdlJsdco\nJbNH6yhyeBbOUT7Q9/4dscongkKKqMNv662Pjr8CAGciXRmTjYm9PjUrOMtTkSYE\n0ZgepFouFHXRjc+cJ9DX\n=M0gC\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 3912b17f562a5797ad17b42ef18f4faba1d713af\nparent 35a416c4005ec65c73291d87bc478adedf70e251\nauthor Yaowei Zheng <hiyouga@buaa.edu.cn> 1752681746 +0800\ncommitter GitHub <noreply@github.com> 1752681746 +0200\n\nfix cached file error when repo type is dataset (#36909)\n\n* fix cached file\n\n* Update hub.py",
          "verified_at": "2025-07-16T16:02:27Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/e68ebb695f9d1d990462397e284e79d8729aafea",
      "html_url": "https://github.com/huggingface/transformers/commit/e68ebb695f9d1d990462397e284e79d8729aafea",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/e68ebb695f9d1d990462397e284e79d8729aafea/comments",
      "author": {
        "login": "hiyouga",
        "id": 16256802,
        "node_id": "MDQ6VXNlcjE2MjU2ODAy",
        "avatar_url": "https://avatars.githubusercontent.com/u/16256802?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hiyouga",
        "html_url": "https://github.com/hiyouga",
        "followers_url": "https://api.github.com/users/hiyouga/followers",
        "following_url": "https://api.github.com/users/hiyouga/following{/other_user}",
        "gists_url": "https://api.github.com/users/hiyouga/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/hiyouga/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hiyouga/subscriptions",
        "organizations_url": "https://api.github.com/users/hiyouga/orgs",
        "repos_url": "https://api.github.com/users/hiyouga/repos",
        "events_url": "https://api.github.com/users/hiyouga/events{/privacy}",
        "received_events_url": "https://api.github.com/users/hiyouga/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "35a416c4005ec65c73291d87bc478adedf70e251",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/35a416c4005ec65c73291d87bc478adedf70e251",
          "html_url": "https://github.com/huggingface/transformers/commit/35a416c4005ec65c73291d87bc478adedf70e251"
        }
      ]
    },
    {
      "sha": "35a416c4005ec65c73291d87bc478adedf70e251",
      "node_id": "C_kwDOCUB6odoAKDM1YTQxNmM0MDA1ZWM2NWM3MzI5MWQ4N2JjNDc4YWRlZGY3MGUyNTE",
      "commit": {
        "author": {
          "name": "Krishnan Vignesh",
          "email": "134591243+Krish0909@users.noreply.github.com",
          "date": "2025-07-16T15:59:28Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T15:59:28Z"
        },
        "message": "Fix indentation bug in SmolVLM image processor causing KeyError (#39452)\n\nFix indentation bug in Idefics3 image processor\n\n- Fix KeyError when do_image_splitting=False\n- Move split_images_grouped assignment inside loop\n- Ensures all image shapes are stored, not just the last one\n- This fixes the bug in both Idefics3 and generated SmolVLM processors\n\ncc @yonigozlan\n\nCo-authored-by: Krishnan Vignesh <krishnanvignesh@Krishnans-MacBook-Air.local>",
        "tree": {
          "sha": "1da1d976e9ffc357bec82a3b1cd138bbe9c233f1",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/1da1d976e9ffc357bec82a3b1cd138bbe9c233f1"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/35a416c4005ec65c73291d87bc478adedf70e251",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod8xgCRC1aQ7uu5UhlAAAY+YQACiJi7jM3hC0UrIHy7CW8bo1\nlTOTkPpMl38itPiua67e2pq90qfTfOvf42VMXVnVc7nkhWB9tQsvPoNKdGyne8SN\nbcT4UGf5TWwWsjW3rrgvtrgEfyo7pARYpzlCxZh09SjLI4BFHUHOYdOXqG9lpevG\nQSk6zZG7Hd7FaECn6Dqb0BQsUF0jmotqoGltEfwd+czC182ldIXhysAmG74L10X6\nd9ryHqz+TFeBRG7hLOr3EfDN9BwYudVmuRNkEaIhvEjjdP4Tbz6OQXrVvgz7TBBn\nidWTobbbGuw/B2SV11lrzwwUGDJQZ7i2Skkjf9rGf0qST2ZUfwPtbSHAPDE/xJpN\nAhDMTO01LVUiHTqwjXsqEq7r6ZZT+nckyINfcCc1wihUYf/9DqReNZLhuggxX3CM\nyOee47N6HJf1DKOqpfmJ1imEBEqh24A/y39hfcZPJFxQB1enB92dCf5gDhWPQVnR\ntYzN56EDzZLJfk7jnCZpAMOwE53tvFsi441YGuebAoyj9Sk2ac1qQKTglH5+RpQC\n+Rr/EBoC0Q4SXlwi1wx7x2bn1JBYSnoXwFa1Hqn+CndsE0pEadgIlunvhbyA5tvA\n6zHzvOYa12O2LCG8Y3i3EhMLyT5OvhxzMJ+vX+uVQuxfF1bfp9XOF1dv+U/L5W1c\nrkHLaVuctkE9w1eYxJgh\n=cjdd\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 1da1d976e9ffc357bec82a3b1cd138bbe9c233f1\nparent 2c58705dc23ce869e82b1a6ca225ad718916e8d5\nauthor Krishnan Vignesh <134591243+Krish0909@users.noreply.github.com> 1752681568 +0530\ncommitter GitHub <noreply@github.com> 1752681568 -0400\n\nFix indentation bug in SmolVLM image processor causing KeyError (#39452)\n\nFix indentation bug in Idefics3 image processor\n\n- Fix KeyError when do_image_splitting=False\n- Move split_images_grouped assignment inside loop\n- Ensures all image shapes are stored, not just the last one\n- This fixes the bug in both Idefics3 and generated SmolVLM processors\n\ncc @yonigozlan\n\nCo-authored-by: Krishnan Vignesh <krishnanvignesh@Krishnans-MacBook-Air.local>",
          "verified_at": "2025-07-16T15:59:29Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/35a416c4005ec65c73291d87bc478adedf70e251",
      "html_url": "https://github.com/huggingface/transformers/commit/35a416c4005ec65c73291d87bc478adedf70e251",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/35a416c4005ec65c73291d87bc478adedf70e251/comments",
      "author": {
        "login": "Krish0909",
        "id": 134591243,
        "node_id": "U_kgDOCAWzCw",
        "avatar_url": "https://avatars.githubusercontent.com/u/134591243?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Krish0909",
        "html_url": "https://github.com/Krish0909",
        "followers_url": "https://api.github.com/users/Krish0909/followers",
        "following_url": "https://api.github.com/users/Krish0909/following{/other_user}",
        "gists_url": "https://api.github.com/users/Krish0909/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Krish0909/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Krish0909/subscriptions",
        "organizations_url": "https://api.github.com/users/Krish0909/orgs",
        "repos_url": "https://api.github.com/users/Krish0909/repos",
        "events_url": "https://api.github.com/users/Krish0909/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Krish0909/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "2c58705dc23ce869e82b1a6ca225ad718916e8d5",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/2c58705dc23ce869e82b1a6ca225ad718916e8d5",
          "html_url": "https://github.com/huggingface/transformers/commit/2c58705dc23ce869e82b1a6ca225ad718916e8d5"
        }
      ]
    },
    {
      "sha": "2c58705dc23ce869e82b1a6ca225ad718916e8d5",
      "node_id": "C_kwDOCUB6odoAKDJjNTg3MDVkYzIzY2U4NjllODJiMWE2Y2EyMjVhZDcxODkxNmU4ZDU",
      "commit": {
        "author": {
          "name": "Luke Friedrichs",
          "email": "61435401+LckyLke@users.noreply.github.com",
          "date": "2025-07-16T15:54:29Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T15:54:29Z"
        },
        "message": "Updated Megatron conversion script for gpt2 checkpoints  (#38969)\n\n* update script to support new megatron gpt format\n\n* fixed quality failures\n\n---------\n\nCo-authored-by: Luke Friedrichs <LckyLke>",
        "tree": {
          "sha": "4133781ed93a17ab1061895149c0e64e3cba0450",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/4133781ed93a17ab1061895149c0e64e3cba0450"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/2c58705dc23ce869e82b1a6ca225ad718916e8d5",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod8s1CRC1aQ7uu5UhlAAABPEQAJ0PiPFu1qr0bcE4XQ4ZUZRa\nlz2gNvuZBu2YwUAm/HgLDya7cactWm8xilIOx7GueyeYkEx7bxm2bV91AZoD+JXk\ng437tifK8HNt6oYyC2pnn229Rly35bQxqahzk4X3n/ZrKiHrpLj6F3FeB5y2MhPt\nGZZBaUjY+pODiewNeTAkkY6gvQqoGT7Dbv93sHSAN6GU0RrX3xCbbTvLERLRB92k\nPshmkndYFbJzeksiJ+jrEuMoOXMaudH5oaapiEgrMOoYB2L/SrQVu3L8TjRwtaRM\nPlyPYMUgAkfULWf3Wm79mkl7fPmDXa9z24CsBEMr//h2/r5xc3XVf+jvY0cFdKDK\nwIWn3ljDFeDkISPBCCUSgAq4i64epP/+nwBqUoKlHQmWeFl+LUlrB34PNT/71fKN\nEZmPJtHXDcaJUjDPJ6p72dtxjvYxeGvi0ZzAaNcaX33U6f4FMolyDbdM22ZVsEZU\nPgpsWGRfl8T9xLbOu5+0QWXSzMbXY8Bo/PIgfdzerxEd/2oosPJZldusCdvq/RIg\nyPWVehrPtFXLBfEGgaotYXsoGFUv4LtOT/uqwTbHrPws/V4Qo8ighnrs7Tbz8oZ5\nlvLHOx3DQsih0x8m2xMXEw1vhlKTOxyergvRJJfZfNLI/lg/45AAyyiqxJKqXM0m\nCfLNtMKGuUAH8ygVkVMx\n=ZGEF\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 4133781ed93a17ab1061895149c0e64e3cba0450\nparent 26be7f717e12241df3d575d825bfa51026da9be8\nauthor Luke Friedrichs <61435401+LckyLke@users.noreply.github.com> 1752681269 +0200\ncommitter GitHub <noreply@github.com> 1752681269 +0000\n\nUpdated Megatron conversion script for gpt2 checkpoints  (#38969)\n\n* update script to support new megatron gpt format\n\n* fixed quality failures\n\n---------\n\nCo-authored-by: Luke Friedrichs <LckyLke>",
          "verified_at": "2025-07-16T15:54:29Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/2c58705dc23ce869e82b1a6ca225ad718916e8d5",
      "html_url": "https://github.com/huggingface/transformers/commit/2c58705dc23ce869e82b1a6ca225ad718916e8d5",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/2c58705dc23ce869e82b1a6ca225ad718916e8d5/comments",
      "author": {
        "login": "LckyLke",
        "id": 61435401,
        "node_id": "MDQ6VXNlcjYxNDM1NDAx",
        "avatar_url": "https://avatars.githubusercontent.com/u/61435401?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LckyLke",
        "html_url": "https://github.com/LckyLke",
        "followers_url": "https://api.github.com/users/LckyLke/followers",
        "following_url": "https://api.github.com/users/LckyLke/following{/other_user}",
        "gists_url": "https://api.github.com/users/LckyLke/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/LckyLke/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/LckyLke/subscriptions",
        "organizations_url": "https://api.github.com/users/LckyLke/orgs",
        "repos_url": "https://api.github.com/users/LckyLke/repos",
        "events_url": "https://api.github.com/users/LckyLke/events{/privacy}",
        "received_events_url": "https://api.github.com/users/LckyLke/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "26be7f717e12241df3d575d825bfa51026da9be8",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/26be7f717e12241df3d575d825bfa51026da9be8",
          "html_url": "https://github.com/huggingface/transformers/commit/26be7f717e12241df3d575d825bfa51026da9be8"
        }
      ]
    },
    {
      "sha": "26be7f717e12241df3d575d825bfa51026da9be8",
      "node_id": "C_kwDOCUB6odoAKDI2YmU3ZjcxN2UxMjI0MWRmM2Q1NzVkODI1YmZhNTEwMjZkYTliZTg",
      "commit": {
        "author": {
          "name": "Anton Vlasjuk",
          "email": "73884904+vasqu@users.noreply.github.com",
          "date": "2025-07-16T13:53:43Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T13:53:43Z"
        },
        "message": "[`CI`] Fix partially red CI (#39448)\n\nfix",
        "tree": {
          "sha": "689fa8b9eb8a3694cc54d88060698f07f813118f",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/689fa8b9eb8a3694cc54d88060698f07f813118f"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/26be7f717e12241df3d575d825bfa51026da9be8",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod67nCRC1aQ7uu5UhlAAA+gwQAHK8kBVVxpT0lgE3IAE/dpS2\nmjVV1KMkXYbdoSh4TmubtLK65Jgs2vup6wSRsh0748bQMNPsCKGGPQ1E0jcudFCT\n3Mo7g64T2Fv1CMMRRzTIKVJ2x3Byd6fbyMFsDd2M0mwZLQwZ1oT0sULGFs2E3p9u\nlwddxANWzgCgewfoXjK2+CPgE8BpR1HO9TEI1Pf267HNqRhOz2p/LKgOQE0F6anJ\nUIP53kYsqoBrgxnjT85+GT7bVG2EbULgqQQAI0eXKOHKO1fnPig8fKbrGcA1Jp7a\nOBUg3dWdO9rg7BnBkFG5pZMUvd1na+4zG5qw1Zvicnbb665wEeoxOZ0ehq1BZSZr\nWgsY5O8wp4aOwD+3Ds8Uxvi7hrP03sGsC1sXW/ZMGtf+F2L+jt7WElGQnc8solli\nKq62qPSCnZgFsW3LsJZkJkIb7l9bo1Ff+0b9nZdpN6rB9EICHNE3555y4TudsZlA\nTbmbVUTPxmx25ek4rKx2xHmNjkwqtkqvMZhcU9rTweaJv7Pnm0gW1us6h8k5paXq\n/HNQc6LjVdpOXDARo9od/hLD0F+K3RUUu0V0cylml/M8HVCSof0Vhu1/pfhylj+0\n7K2KXi7bLt2TZ79thoEEsAm9bVV0LXWAwcP4cXlhWTgtrAb2e4Wc10u+SYtfis5f\n0H/Ty2Nkobq4w1ha6Pew\n=XXMk\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 689fa8b9eb8a3694cc54d88060698f07f813118f\nparent 0a88751940a3c2c61ddd8e1dcca21fe9b3106f00\nauthor Anton Vlasjuk <73884904+vasqu@users.noreply.github.com> 1752674023 +0200\ncommitter GitHub <noreply@github.com> 1752674023 +0200\n\n[`CI`] Fix partially red CI (#39448)\n\nfix",
          "verified_at": "2025-07-16T13:53:43Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/26be7f717e12241df3d575d825bfa51026da9be8",
      "html_url": "https://github.com/huggingface/transformers/commit/26be7f717e12241df3d575d825bfa51026da9be8",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/26be7f717e12241df3d575d825bfa51026da9be8/comments",
      "author": {
        "login": "vasqu",
        "id": 73884904,
        "node_id": "MDQ6VXNlcjczODg0OTA0",
        "avatar_url": "https://avatars.githubusercontent.com/u/73884904?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vasqu",
        "html_url": "https://github.com/vasqu",
        "followers_url": "https://api.github.com/users/vasqu/followers",
        "following_url": "https://api.github.com/users/vasqu/following{/other_user}",
        "gists_url": "https://api.github.com/users/vasqu/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/vasqu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/vasqu/subscriptions",
        "organizations_url": "https://api.github.com/users/vasqu/orgs",
        "repos_url": "https://api.github.com/users/vasqu/repos",
        "events_url": "https://api.github.com/users/vasqu/events{/privacy}",
        "received_events_url": "https://api.github.com/users/vasqu/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "0a88751940a3c2c61ddd8e1dcca21fe9b3106f00",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/0a88751940a3c2c61ddd8e1dcca21fe9b3106f00",
          "html_url": "https://github.com/huggingface/transformers/commit/0a88751940a3c2c61ddd8e1dcca21fe9b3106f00"
        }
      ]
    },
    {
      "sha": "0a88751940a3c2c61ddd8e1dcca21fe9b3106f00",
      "node_id": "C_kwDOCUB6odoAKDBhODg3NTE5NDBhM2MyYzYxZGRkOGUxZGNjYTIxZmU5YjMxMDZmMDA",
      "commit": {
        "author": {
          "name": "sebastianvlad1",
          "email": "30313538+sebastianvlad1@users.noreply.github.com",
          "date": "2025-07-16T13:51:30Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T13:51:30Z"
        },
        "message": "Fixes #39204: add fallback if get_base_model missing (#39226)\n\n* Fixes #39204: add fallback if get_base_model missing\n\n* Inline try_get_base_model logic as suggested in PR review\n\n* Apply style fixes\n\n---------\n\nCo-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",
        "tree": {
          "sha": "7401bc6d23cd13e58f30be00ab052c6f2ad06b02",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/7401bc6d23cd13e58f30be00ab052c6f2ad06b02"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/0a88751940a3c2c61ddd8e1dcca21fe9b3106f00",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod65iCRC1aQ7uu5UhlAAAlxAQAEKPxFdYP8R2wVyO821pfWDE\nrXtCZNotbMGr/Mq1lkulSzzhMlTEnq5tRx83SiuoynhU7RW3Sn4A0pCDwm86A2SK\nFpPcILfKzD12Iq4tYVO7pcEkdlBqbFd0ge/ynFUH4QsU8ZhQ05UXoWsOBzH+xWeX\nSgGZHkNWN+LR/ik0FUrWR4PUhDpPxKfIe3lEaqRQJTwgvEfMxKloXoZ0oJ69hbrR\nSIq5iOFCXvDxhuERjOhS7n0935nf1+8QZJPlXvkaRxgjpVv97Z+xYHbEa7MrVBBM\nROENZavdAGLIxopHmv6MV12HKOka3bNGk7tKH4EEpmlfool5YHA3IeK83JCGzi0a\nFM4BrkZX0P48vGsCjJIIAdwZs2+LHp/2AqVHNY2E/r+hXbVsU3LE+6IA3XTDy2Pc\nlH9fwleSbZyfBXt+jXaPDv5svZuaqYaVc8JW7O3wRCDmOHvzlMsaVJpoGyeJbe2e\nTXQtzpCzl5ZgrjMdRp6/rQljgqNMs3LVOkLPxefUWakLH313PIJzmCN6EYR0DSkF\nuIMLs6oNkE1VyjYJUgZXkSNJzYNYUrK6SH4wT4iVjsnN9i82tS+gQX/5NcqFNyZX\na3H1mMh8DdiUXoS0x/BTo1fz6LVPTsX5iUXAtGl2cH4aw8l+kHLeVOmP5l/jZrFn\nyLcms2d4Z8o9BvFpJ1fn\n=s1PN\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 7401bc6d23cd13e58f30be00ab052c6f2ad06b02\nparent ba506f87db36ce916c59ace15cb77d9cdd662c53\nauthor sebastianvlad1 <30313538+sebastianvlad1@users.noreply.github.com> 1752673890 +0300\ncommitter GitHub <noreply@github.com> 1752673890 +0200\n\nFixes #39204: add fallback if get_base_model missing (#39226)\n\n* Fixes #39204: add fallback if get_base_model missing\n\n* Inline try_get_base_model logic as suggested in PR review\n\n* Apply style fixes\n\n---------\n\nCo-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>",
          "verified_at": "2025-07-16T13:51:31Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/0a88751940a3c2c61ddd8e1dcca21fe9b3106f00",
      "html_url": "https://github.com/huggingface/transformers/commit/0a88751940a3c2c61ddd8e1dcca21fe9b3106f00",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/0a88751940a3c2c61ddd8e1dcca21fe9b3106f00/comments",
      "author": {
        "login": "sebastianvlad1",
        "id": 30313538,
        "node_id": "MDQ6VXNlcjMwMzEzNTM4",
        "avatar_url": "https://avatars.githubusercontent.com/u/30313538?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sebastianvlad1",
        "html_url": "https://github.com/sebastianvlad1",
        "followers_url": "https://api.github.com/users/sebastianvlad1/followers",
        "following_url": "https://api.github.com/users/sebastianvlad1/following{/other_user}",
        "gists_url": "https://api.github.com/users/sebastianvlad1/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sebastianvlad1/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sebastianvlad1/subscriptions",
        "organizations_url": "https://api.github.com/users/sebastianvlad1/orgs",
        "repos_url": "https://api.github.com/users/sebastianvlad1/repos",
        "events_url": "https://api.github.com/users/sebastianvlad1/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sebastianvlad1/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "ba506f87db36ce916c59ace15cb77d9cdd662c53",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/ba506f87db36ce916c59ace15cb77d9cdd662c53",
          "html_url": "https://github.com/huggingface/transformers/commit/ba506f87db36ce916c59ace15cb77d9cdd662c53"
        }
      ]
    },
    {
      "sha": "ba506f87db36ce916c59ace15cb77d9cdd662c53",
      "node_id": "C_kwDOCUB6odoAKGJhNTA2Zjg3ZGIzNmNlOTE2YzU5YWNlMTVjYjc3ZDljZGQ2NjJjNTM",
      "commit": {
        "author": {
          "name": "Wing Lian",
          "email": "wing@axolotl.ai",
          "date": "2025-07-16T13:47:24Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T13:47:24Z"
        },
        "message": "make the loss context manager easier to extend (#39321)",
        "tree": {
          "sha": "1b9ea7459f79b3cfd597a87098b5d98fcd8ff7a9",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/1b9ea7459f79b3cfd597a87098b5d98fcd8ff7a9"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/ba506f87db36ce916c59ace15cb77d9cdd662c53",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod61sCRC1aQ7uu5UhlAAA/nEQAJqulmDEE90LlJgC3ve6pgbK\nfAIMUQaia4a/TJfjj+o6bJ7QpKqCjNPpgeUfwM7FjP9I2ndPqylftFffUvEP0lXb\ns0Bg4XI8uDKaJWXZ1n0CtxlbnINn7pXkeLRAEvgU9xflS9MGtgwKcIJWJYoRPBrs\ncAzb28DtUZXzupg7TnFPP6+cdj9b3X8wi+HtNMbMcj/X/HSIK515N19VFLBUyEeZ\nWHXNf8Abr/xAFwlPJUcbzEeE1SGs2NoPkmGh2V47vDZTr43h0Hup4CEuEWSI/Zf7\nUp5gd9shrSGd0Ewc9rMLkoy9aGVNKmqmUTz9NpbBWtOwXhrm2o3I/gGx7XGejluy\nmqwBmI5tzv9x/lfNavcJdHyaI9jVgYI9rtw18VLX8dM5FavO7LRw5LFJiLxOHkQH\nNuYu5xof6OeobmNqboKkzKAKnPdC1DvXbCj9IRDwsKpM7q3DPtd0/SZciQuE9sZi\nI0jsNcp+e+una2dFHYtndqantc14ejOs1GT4ljCTLwzxTz+2M5fyQGJdu0b0J+qu\nMn2M63Vsta5sN0OPX7N9VZQuXXhH3vxYIJDcvkWJNv8XzyHUo7ddoPE7HyxUYwsO\n8MQ8jxjwQUd6HSXpwjlwD2a6d9RbPCYMyPMu30jpF/rV7qqjOMVcZQwEYK01TBh4\nUMXLfo4bAYiq8wkD/ldH\n=tq9D\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 1b9ea7459f79b3cfd597a87098b5d98fcd8ff7a9\nparent 9f1ac6f1859a650f8491af864d36f88107279bdf\nauthor Wing Lian <wing@axolotl.ai> 1752673644 -0400\ncommitter GitHub <noreply@github.com> 1752673644 +0200\n\nmake the loss context manager easier to extend (#39321)\n\n",
          "verified_at": "2025-07-16T13:47:25Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/ba506f87db36ce916c59ace15cb77d9cdd662c53",
      "html_url": "https://github.com/huggingface/transformers/commit/ba506f87db36ce916c59ace15cb77d9cdd662c53",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/ba506f87db36ce916c59ace15cb77d9cdd662c53/comments",
      "author": {
        "login": "winglian",
        "id": 381258,
        "node_id": "MDQ6VXNlcjM4MTI1OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/381258?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/winglian",
        "html_url": "https://github.com/winglian",
        "followers_url": "https://api.github.com/users/winglian/followers",
        "following_url": "https://api.github.com/users/winglian/following{/other_user}",
        "gists_url": "https://api.github.com/users/winglian/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/winglian/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/winglian/subscriptions",
        "organizations_url": "https://api.github.com/users/winglian/orgs",
        "repos_url": "https://api.github.com/users/winglian/repos",
        "events_url": "https://api.github.com/users/winglian/events{/privacy}",
        "received_events_url": "https://api.github.com/users/winglian/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "9f1ac6f1859a650f8491af864d36f88107279bdf",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/9f1ac6f1859a650f8491af864d36f88107279bdf",
          "html_url": "https://github.com/huggingface/transformers/commit/9f1ac6f1859a650f8491af864d36f88107279bdf"
        }
      ]
    },
    {
      "sha": "9f1ac6f1859a650f8491af864d36f88107279bdf",
      "node_id": "C_kwDOCUB6odoAKDlmMWFjNmYxODU5YTY1MGY4NDkxYWY4NjRkMzZmODgxMDcyNzliZGY",
      "commit": {
        "author": {
          "name": "Arthur",
          "email": "48595927+ArthurZucker@users.noreply.github.com",
          "date": "2025-07-16T13:22:44Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T13:22:44Z"
        },
        "message": "Remove something that should have never been there (#38254)\n\n* what the hell\n\n* update\n\n* style\n\n* style\n\n* typing\n\n* fix init issue\n\n* fix granite moe hybrid as well",
        "tree": {
          "sha": "bc08a63d26fcb44f53bce927a052c08b77fa480f",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/bc08a63d26fcb44f53bce927a052c08b77fa480f"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/9f1ac6f1859a650f8491af864d36f88107279bdf",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod6ekCRC1aQ7uu5UhlAAA+jQQABYLKSjgngkk3YyhtKtYIcT0\nh0e+6okSRT8o8y8M+tKsfHnGlHFRlnTqDZPZhiLTVfvFZZchwKI5GUxwiv48b1ma\nUziSUZAd3AbMVrYEoFtxZ1bOTigoihfl3RKhwfldOzYqsyBw1KtdoIZZPeZfaPH6\nUURy4tjXb9e7B0aD0zyJVVj8S5Of2Zfmsb6iENdllXGYSeagNzr5r7zyHFV3DmNq\nMP9aXXTNUtwnGvQ+0Oj9AsTCfz4YPQztBdyhiuONc3WFmKdAIzqVaX7h9tMC0abV\nABo2WFhM7NYu7co9xugrM8jrz6XiRN04reib/jkg+OU8wTDzpB88s1UerU2phcIl\n1KSnkqnGnJyd+fWbE9EFN+rk8s15Lhxsn4vxw/atI6sd/1jKp5ocGH8SvKpxAJ/D\nTh4a7OzJsnGt26fEAGMiy57L/SjSFuHI7eUGnod2UMyA9C2wHeA3gUdSD14p5wj3\n0dYwTzzh38Lyrfamcyixwt0azPDq1q7KietbqQo5PpR8ggWzsR2Y4o5UDRHLJhJ+\nW4y1+/QhHMdM2ggvHZhZkMT+zIido0q+uFz+bzJbTQo8IuFGBvAKcowoCJzD/PWl\nnALJqBrz4dVozU2jcEq6HlgU3r9Px+6sQup7tGOHaaskyOVYkNrrQ9zXeOk+DqWf\nueh4ecvzLhDZyIUoFQHq\n=IwGX\n-----END PGP SIGNATURE-----\n",
          "payload": "tree bc08a63d26fcb44f53bce927a052c08b77fa480f\nparent a7ca5b5d67d8627ab40d57874889715fc083d844\nauthor Arthur <48595927+ArthurZucker@users.noreply.github.com> 1752672164 +0200\ncommitter GitHub <noreply@github.com> 1752672164 +0200\n\nRemove something that should have never been there (#38254)\n\n* what the hell\n\n* update\n\n* style\n\n* style\n\n* typing\n\n* fix init issue\n\n* fix granite moe hybrid as well",
          "verified_at": "2025-07-16T13:22:44Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/9f1ac6f1859a650f8491af864d36f88107279bdf",
      "html_url": "https://github.com/huggingface/transformers/commit/9f1ac6f1859a650f8491af864d36f88107279bdf",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/9f1ac6f1859a650f8491af864d36f88107279bdf/comments",
      "author": {
        "login": "ArthurZucker",
        "id": 48595927,
        "node_id": "MDQ6VXNlcjQ4NTk1OTI3",
        "avatar_url": "https://avatars.githubusercontent.com/u/48595927?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ArthurZucker",
        "html_url": "https://github.com/ArthurZucker",
        "followers_url": "https://api.github.com/users/ArthurZucker/followers",
        "following_url": "https://api.github.com/users/ArthurZucker/following{/other_user}",
        "gists_url": "https://api.github.com/users/ArthurZucker/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ArthurZucker/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ArthurZucker/subscriptions",
        "organizations_url": "https://api.github.com/users/ArthurZucker/orgs",
        "repos_url": "https://api.github.com/users/ArthurZucker/repos",
        "events_url": "https://api.github.com/users/ArthurZucker/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ArthurZucker/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "a7ca5b5d67d8627ab40d57874889715fc083d844",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/a7ca5b5d67d8627ab40d57874889715fc083d844",
          "html_url": "https://github.com/huggingface/transformers/commit/a7ca5b5d67d8627ab40d57874889715fc083d844"
        }
      ]
    },
    {
      "sha": "a7ca5b5d67d8627ab40d57874889715fc083d844",
      "node_id": "C_kwDOCUB6odoAKGE3Y2E1YjVkNjdkODYyN2FiNDBkNTc4NzQ4ODk3MTVmYzA4M2Q4NDQ",
      "commit": {
        "author": {
          "name": "Raushan Turganbay",
          "email": "raushan@huggingface.co",
          "date": "2025-07-16T13:01:35Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T13:01:35Z"
        },
        "message": "Fix processor tests (#39450)\n\nfix",
        "tree": {
          "sha": "3ee660439c0169dd29f7d475891f38e2b83fb570",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/3ee660439c0169dd29f7d475891f38e2b83fb570"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/a7ca5b5d67d8627ab40d57874889715fc083d844",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod6KvCRC1aQ7uu5UhlAAAxuEQAGnnWcumSTSGHn7BNwGkuaNM\n8tJ2Eno8jDYtXB/0WOEaygcZB+11mOp045YORuVYE51sZPMpeB/fTA/xStjbkktK\nzrGr2bQZ+7I4euSnvUO3boW94+NXEd9M+DpKRSoYstzVYsYrSPazOsISeO7UbCyF\nVF69PBngTM/3FVD6MAz0rLdwHicKsauUaoc22vCCMJx/BsGO0atuo4AtJRIg/pn7\nYh8HL4oGEhQ/JFlsPkVhiP/7pWevh752JeOdeeti4KYLIX/RMDG9YHImvhezbZ1B\n4ro+3+FGdscSLxuieMZ+FSnG/Nfsry18aykTzeocGe6TyV3C1vKksg5UvQq+J3Gw\ng9a6hdQfhAjOPVznQejVDwtxpepbbaCK4grcap4dtQOVDn5YZ/131glQjBr8753V\nPyVV3GqJcKXcoBcgUw2CzfFcq1cC67qu9tBHnFtOwybbK6H1dQmRrkfBEOkpaYnY\noMITWEixoOOt+WQnfj5Ogk1a/2VJsgQGF/9v2uY/l75MxnuIGxmZx07GNZQSoN4C\nG5yBGq2eOol07ShzCb1SjCZXEhZZ7aO+bRahWph3IuMNmRpATrINE+kr5ZE2KfvM\niVNNednWjuHSCcXUjytURGB9f7j+8ooycI4n+1vFtISmaTUoH8dFdzq3egfvgMBt\nDRz636OM7lIIkePofYmZ\n=uAkV\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 3ee660439c0169dd29f7d475891f38e2b83fb570\nparent 71818f570bb5346b2431ea9fae580ca3ee359390\nauthor Raushan Turganbay <raushan@huggingface.co> 1752670895 +0500\ncommitter GitHub <noreply@github.com> 1752670895 +0200\n\nFix processor tests (#39450)\n\nfix",
          "verified_at": "2025-07-16T13:01:36Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/a7ca5b5d67d8627ab40d57874889715fc083d844",
      "html_url": "https://github.com/huggingface/transformers/commit/a7ca5b5d67d8627ab40d57874889715fc083d844",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/a7ca5b5d67d8627ab40d57874889715fc083d844/comments",
      "author": {
        "login": "zucchini-nlp",
        "id": 100715397,
        "node_id": "U_kgDOBgDLhQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/100715397?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zucchini-nlp",
        "html_url": "https://github.com/zucchini-nlp",
        "followers_url": "https://api.github.com/users/zucchini-nlp/followers",
        "following_url": "https://api.github.com/users/zucchini-nlp/following{/other_user}",
        "gists_url": "https://api.github.com/users/zucchini-nlp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/zucchini-nlp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zucchini-nlp/subscriptions",
        "organizations_url": "https://api.github.com/users/zucchini-nlp/orgs",
        "repos_url": "https://api.github.com/users/zucchini-nlp/repos",
        "events_url": "https://api.github.com/users/zucchini-nlp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/zucchini-nlp/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "71818f570bb5346b2431ea9fae580ca3ee359390",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/71818f570bb5346b2431ea9fae580ca3ee359390",
          "html_url": "https://github.com/huggingface/transformers/commit/71818f570bb5346b2431ea9fae580ca3ee359390"
        }
      ]
    },
    {
      "sha": "71818f570bb5346b2431ea9fae580ca3ee359390",
      "node_id": "C_kwDOCUB6odoAKDcxODE4ZjU3MGJiNTM0NmIyNDMxZWE5ZmFlNTgwY2EzZWUzNTkzOTA",
      "commit": {
        "author": {
          "name": "Kyle Sayers",
          "email": "kylesayrs@gmail.com",
          "date": "2025-07-16T12:57:42Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T12:57:42Z"
        },
        "message": "[Bugfix] [Quantization] Remove unused init arg (#39324)\n\nremove unused arg from ct config init\n\nSigned-off-by: Kyle Sayers <kylesayrs@gmail.com>",
        "tree": {
          "sha": "5829d9ef0ffe0b57ec2e0d5a8f60d34d0c8b28ef",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/5829d9ef0ffe0b57ec2e0d5a8f60d34d0c8b28ef"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/71818f570bb5346b2431ea9fae580ca3ee359390",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod6HGCRC1aQ7uu5UhlAAAvUMQAGUXYp/1lMo/l4zSgjOFBd47\nummuXSqBWu6p3Kl183LZwSdFiCTF3dqwGNrjxeZhI/h7oLNoJhB32INipXC2wrpL\nD7WgXLeETv44dZjDpn7kaJc+wKiB7bf96By6XLbwbbRn3FfvPMvYRukxqR70IQbd\nM7KddBsLAUz/vQ0umUXSvVYHfgpeUX8irwynWLkeaa92ZVcJTFDHdSPtzxtJ/CZt\nTVbfBBlMDySxaIXMdIQPhvY3xSDXRs5x5/IUGbtrXLTUmeHq000J/ICrwAS62T5n\nKtCp4hYTSX75TWsVTb+qtF8c/QXImG3K9PkrZ0sXT0NCKT9JPvYhx/l6GY4lIMzu\nJ0g2pjF0qRWQJi/Ke/kdk12gAm9pzeHPgDvB32RYr644Ispvfz1L+OlqtFNiTeFw\n3F2D5O52DL+VYKcf0/sXkqLlpY1mxY3mFtQzXelhPTPYjnZf/XZPJ1YLlhykiU4j\nA2ZCjvV3xFeN7v7vd29rv+hH6l3r6s6/3u4qw1sOwTEwLWs8MR0CgMeGrs0vyXAF\nF7VJSqe83iKzfdzguDd1ovU5CWaBZwV+a/vhTGXz5p9ILF6BaByFIxM1Jk10oH8J\ngXqrroZFhJqVtZn5CASv5u2gqbdQAgjHXRInh/7qvVvSOJf4imW7RHL3+DowR7Gm\nJwI/W1x0Bq+XNOzvVauP\n=SL7Y\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 5829d9ef0ffe0b57ec2e0d5a8f60d34d0c8b28ef\nparent cc24b0378e6062895a03a077860be28d290c1d07\nauthor Kyle Sayers <kylesayrs@gmail.com> 1752670662 -0400\ncommitter GitHub <noreply@github.com> 1752670662 +0200\n\n[Bugfix] [Quantization] Remove unused init arg (#39324)\n\nremove unused arg from ct config init\n\nSigned-off-by: Kyle Sayers <kylesayrs@gmail.com>",
          "verified_at": "2025-07-16T12:57:42Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/71818f570bb5346b2431ea9fae580ca3ee359390",
      "html_url": "https://github.com/huggingface/transformers/commit/71818f570bb5346b2431ea9fae580ca3ee359390",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/71818f570bb5346b2431ea9fae580ca3ee359390/comments",
      "author": {
        "login": "kylesayrs",
        "id": 17103692,
        "node_id": "MDQ6VXNlcjE3MTAzNjky",
        "avatar_url": "https://avatars.githubusercontent.com/u/17103692?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kylesayrs",
        "html_url": "https://github.com/kylesayrs",
        "followers_url": "https://api.github.com/users/kylesayrs/followers",
        "following_url": "https://api.github.com/users/kylesayrs/following{/other_user}",
        "gists_url": "https://api.github.com/users/kylesayrs/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/kylesayrs/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/kylesayrs/subscriptions",
        "organizations_url": "https://api.github.com/users/kylesayrs/orgs",
        "repos_url": "https://api.github.com/users/kylesayrs/repos",
        "events_url": "https://api.github.com/users/kylesayrs/events{/privacy}",
        "received_events_url": "https://api.github.com/users/kylesayrs/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "cc24b0378e6062895a03a077860be28d290c1d07",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/cc24b0378e6062895a03a077860be28d290c1d07",
          "html_url": "https://github.com/huggingface/transformers/commit/cc24b0378e6062895a03a077860be28d290c1d07"
        }
      ]
    },
    {
      "sha": "cc24b0378e6062895a03a077860be28d290c1d07",
      "node_id": "C_kwDOCUB6odoAKGNjMjRiMDM3OGU2MDYyODk1YTAzYTA3Nzg2MGJlMjhkMjkwYzFkMDc",
      "commit": {
        "author": {
          "name": "Pavel Iakubovskii",
          "email": "qubvel@gmail.com",
          "date": "2025-07-16T12:50:35Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T12:50:35Z"
        },
        "message": "Better typing for model.config (#39132)\n\n* Apply to all models config annotation\n\n* Update modular to preserve order\n\n* Apply modular\n\n* fix define docstring\n\n* fix dinov2 consistency (docs<->modular)\n\n* fix InstructBlipVideoForConditionalGeneration docs<->modular consistency\n\n* fixup\n\n* remove duplicate code\n\n* Delete config_class attribute from the modeling code\n\n* Add config_class attribute in base model\n\n* Update init sub class\n\n* Deprecated models update\n\n* Update new models\n\n* Fix remote code BC issue\n\n* fixup\n\n* fixing more corner cases\n\n* fix new models\n\n* add test\n\n* modular docs update\n\n* fix comment a bit\n\n* fix for py3.9",
        "tree": {
          "sha": "f84f1bcfb8a98447c32a9fd4dc0bf6b5d36aa9ac",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/f84f1bcfb8a98447c32a9fd4dc0bf6b5d36aa9ac"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/cc24b0378e6062895a03a077860be28d290c1d07",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod6AbCRC1aQ7uu5UhlAAAWEMQAAckg61/rUcy5+Sdti0PWBem\nR2JiMBB72+zbwtP9xBV8nViMweArm2prsECzM40HTxj3FhSRlqDLb8tb7WijGmUH\n4sADyHxgD+lYzFfe/y6KsgdAy86QGeWK2Negl/Bhu3pGwe79cjUCd6H9go6NcuV2\nc8ROIYU3nqDtLa9OkZa4drQYeta0zkT0Yp03uYxig15Vb1kwNuh7qO9CTcuNtK25\nm5AbHfE3CUMc/NriByEoVIaSJrWlbWD6sqvuzddzLneu/X7oOACvq7J+axBjlfqs\nQdgOBy2VjsYeSOZN6nUn2cY1QhshGp5xJaUaJRrnZHRoFJW+tHGC0xKGpLM9o92U\noZp13ZIqI7BLGlkrcr5LwJwR7sh5oaHMfwplTLkqfYatQLfGgI+KcSTddzLzmCZd\nf/m87G8ifzMqs4mQeO4k2z0pRb7wy5qSQLOPj3Vo+BGqZ2zbPu4xFxT+6wKUOZCg\n8Buz9Cug1g6Ys+dgih64HoZzL5LEB78zAR+qxTBF/VvppL+FwEBXO95lgVdBI9ZA\n2w5Ylx/YjhKDfi+DPhc/4t6/crWmVVpkvqQMsWWmzInRmqrj2bDt2EIYOdlGarGi\nTjx/ilSaQ4Z3AtqZgxQyneFVSzICWxXosoHwPuDzGAbk4otDhBfyGssQsZCPbFD/\nvZpSxvWGWCMfGM18enwa\n=zUvp\n-----END PGP SIGNATURE-----\n",
          "payload": "tree f84f1bcfb8a98447c32a9fd4dc0bf6b5d36aa9ac\nparent 4b258454a7f2fd446b95f51bea7bf303d8313cd1\nauthor Pavel Iakubovskii <qubvel@gmail.com> 1752670235 +0100\ncommitter GitHub <noreply@github.com> 1752670235 +0200\n\nBetter typing for model.config (#39132)\n\n* Apply to all models config annotation\n\n* Update modular to preserve order\n\n* Apply modular\n\n* fix define docstring\n\n* fix dinov2 consistency (docs<->modular)\n\n* fix InstructBlipVideoForConditionalGeneration docs<->modular consistency\n\n* fixup\n\n* remove duplicate code\n\n* Delete config_class attribute from the modeling code\n\n* Add config_class attribute in base model\n\n* Update init sub class\n\n* Deprecated models update\n\n* Update new models\n\n* Fix remote code BC issue\n\n* fixup\n\n* fixing more corner cases\n\n* fix new models\n\n* add test\n\n* modular docs update\n\n* fix comment a bit\n\n* fix for py3.9",
          "verified_at": "2025-07-16T12:50:36Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/cc24b0378e6062895a03a077860be28d290c1d07",
      "html_url": "https://github.com/huggingface/transformers/commit/cc24b0378e6062895a03a077860be28d290c1d07",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/cc24b0378e6062895a03a077860be28d290c1d07/comments",
      "author": {
        "login": "qubvel",
        "id": 31920396,
        "node_id": "MDQ6VXNlcjMxOTIwMzk2",
        "avatar_url": "https://avatars.githubusercontent.com/u/31920396?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/qubvel",
        "html_url": "https://github.com/qubvel",
        "followers_url": "https://api.github.com/users/qubvel/followers",
        "following_url": "https://api.github.com/users/qubvel/following{/other_user}",
        "gists_url": "https://api.github.com/users/qubvel/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/qubvel/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/qubvel/subscriptions",
        "organizations_url": "https://api.github.com/users/qubvel/orgs",
        "repos_url": "https://api.github.com/users/qubvel/repos",
        "events_url": "https://api.github.com/users/qubvel/events{/privacy}",
        "received_events_url": "https://api.github.com/users/qubvel/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "4b258454a7f2fd446b95f51bea7bf303d8313cd1",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/4b258454a7f2fd446b95f51bea7bf303d8313cd1",
          "html_url": "https://github.com/huggingface/transformers/commit/4b258454a7f2fd446b95f51bea7bf303d8313cd1"
        }
      ]
    },
    {
      "sha": "4b258454a7f2fd446b95f51bea7bf303d8313cd1",
      "node_id": "C_kwDOCUB6odoAKDRiMjU4NDU0YTdmMmZkNDQ2Yjk1ZjUxYmVhN2JmMzAzZDgzMTNjZDE",
      "commit": {
        "author": {
          "name": "Eon Kim",
          "email": "kimiron518@gmail.com",
          "date": "2025-07-16T12:28:02Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T12:28:02Z"
        },
        "message": "Fix typo in generation configuration for Janus model weight conversion (#39432)\n\n* Fix typo in generation configuration for Janus model weight conversion\n\n* Fix typo\n\n* Update Janus model generation configuration\n\n* Update Janus model to use generation_kwargs",
        "tree": {
          "sha": "8e53d3b82d29f43076c6f6286176023b1e903d7c",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/8e53d3b82d29f43076c6f6286176023b1e903d7c"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/4b258454a7f2fd446b95f51bea7bf303d8313cd1",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod5rSCRC1aQ7uu5UhlAAAI+EQADsMeJhnte82KYFJnInTpTmw\nl8040+g+6OMMx99AsVx+NxRJbAEaq/1O8rvt7rdzAza2xpBWDsPunO6wTwPEvGCe\nyITpY+OCqcnUEvSZVYTJJGwgRpeY4dP2g+OqUM9tUMK8VUuRgtvnD6nzKteqCw3J\n+/f8V6ty+mBtEMYMxjmgAUiyBnDE3tpVI4abfKaIhtmPGFl4RK3dpLjauzTk0zl8\n5dtaszs41OBOrxXYmfnhs2mcXnz6Y275ZjA9sJVcmjkX/Y19H7zL8uWnqnf1zNoq\nUTQCH+wLK+SM0x2M9n9MFHA9gzBm22c13CGhfkayIko90jJ9Sr8nHCbh57Xcgk1Z\nZea9P1NdoCvtWqZtDHvYz/B2VHyrqY2jU9X1ESVEydnxnuGlAHD6iyGvoMagRpQD\nRsW7vXJsbI7upOm0d570PP4C9Lfbnr++Vt13wgErxqz7Qr3aQeT4rF0K8UC3PvhO\nqMlxwp+PC6mLccLaqH7jFJdmQxhJ62B4eFij+duQvNJVj9z09YwIDkJpg+HOzvh5\nzqjiqvXIM2JhULiQi93m8JTNbG2qW6DFdR/SLUOowoHRZxa5qF5DjzLj1cY7mKbt\nJyg9yR+o6tYaTz/6RVM0v1xPy/FaEn6T8sfsTzQ3XEiZWdSyea2lnC2Sb6/KBGIF\nQ1wA8jdbqnJCutgfXYCO\n=fRHI\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 8e53d3b82d29f43076c6f6286176023b1e903d7c\nparent de5ca373acefc3c5cfc99aa697e7a073f7a2de23\nauthor Eon Kim <kimiron518@gmail.com> 1752668882 +0900\ncommitter GitHub <noreply@github.com> 1752668882 +0200\n\nFix typo in generation configuration for Janus model weight conversion (#39432)\n\n* Fix typo in generation configuration for Janus model weight conversion\n\n* Fix typo\n\n* Update Janus model generation configuration\n\n* Update Janus model to use generation_kwargs",
          "verified_at": "2025-07-16T12:28:03Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/4b258454a7f2fd446b95f51bea7bf303d8313cd1",
      "html_url": "https://github.com/huggingface/transformers/commit/4b258454a7f2fd446b95f51bea7bf303d8313cd1",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/4b258454a7f2fd446b95f51bea7bf303d8313cd1/comments",
      "author": {
        "login": "thisisiron",
        "id": 23303033,
        "node_id": "MDQ6VXNlcjIzMzAzMDMz",
        "avatar_url": "https://avatars.githubusercontent.com/u/23303033?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/thisisiron",
        "html_url": "https://github.com/thisisiron",
        "followers_url": "https://api.github.com/users/thisisiron/followers",
        "following_url": "https://api.github.com/users/thisisiron/following{/other_user}",
        "gists_url": "https://api.github.com/users/thisisiron/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/thisisiron/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/thisisiron/subscriptions",
        "organizations_url": "https://api.github.com/users/thisisiron/orgs",
        "repos_url": "https://api.github.com/users/thisisiron/repos",
        "events_url": "https://api.github.com/users/thisisiron/events{/privacy}",
        "received_events_url": "https://api.github.com/users/thisisiron/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "de5ca373acefc3c5cfc99aa697e7a073f7a2de23",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/de5ca373acefc3c5cfc99aa697e7a073f7a2de23",
          "html_url": "https://github.com/huggingface/transformers/commit/de5ca373acefc3c5cfc99aa697e7a073f7a2de23"
        }
      ]
    },
    {
      "sha": "de5ca373acefc3c5cfc99aa697e7a073f7a2de23",
      "node_id": "C_kwDOCUB6odoAKGRlNWNhMzczYWNlZmMzYzVjZmM5OWFhNjk3ZTdhMDczZjdhMmRlMjM",
      "commit": {
        "author": {
          "name": "Lysandre Debut",
          "email": "hi@lysand.re",
          "date": "2025-07-16T12:16:16Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T12:16:16Z"
        },
        "message": "Responses API in `transformers serve` (#39155)\n\n* Scaffolding\n\n* Explicit content\n\n* Na\u00efve Responses API streaming implementation\n\n* Cleanup\n\n* Responses API (to be merged into #39155) (#39338)\n\n* Scaffolding\n\n* Explicit content\n\n* Na\u00efve Responses API streaming implementation\n\n* Cleanup\n\n* use openai\n\n* validate request, including detecting unused fields\n\n* dict indexing\n\n* dict var access\n\n* tmp commit (tests failing)\n\n* add slow\n\n* use oai output type in completions\n\n* (little rebase errors)\n\n* working spec?\n\n* guard type hint\n\n* type hints. fix state (CB can now load different models)\n\n* type hints; fn names; error type\n\n* add docstrings\n\n* responses + kv cache\n\n* metadata support; fix kv cache; error event\n\n* add output_index and content_index\n\n* docstrings\n\n* add test_build_response_event\n\n* docs/comments\n\n* gate test requirements; terminate cb manager on model switch\n\n* nasty type hints\n\n* more type hints\n\n* disable validation by default; enable force models\n\n* todo\n\n---------\n\nCo-authored-by: Lysandre <hi@lysand.re>\n\n* Slight bugfixes\n\n* PR comments from #39338\n\n* make fixup\n\n---------\n\nCo-authored-by: Joao Gante <joaofranciscocardosogante@gmail.com>\nCo-authored-by: Joao Gante <joao@huggingface.co>",
        "tree": {
          "sha": "a38ac315814d9f8420f9ebd1531980c406f05605",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/a38ac315814d9f8420f9ebd1531980c406f05605"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/de5ca373acefc3c5cfc99aa697e7a073f7a2de23",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod5gQCRC1aQ7uu5UhlAAACA4QAJ4g2RHlGkykZN0MjUBB2BkZ\nSlpgRHzHpTbMmODGZJRd68DNeAfpnhzQtKKSBV1903s8x/86L5nmv160onxwED3F\neGkKQ+tQTUxSQ84J0CQy8Ejpi9f/3FxMeRRZKS4/FcqqLWxr12r9J1mPFaTvXKp5\nKAtbYAyOuBwTAa+TDZ+yzGDc3AlgSe5zFD/LXIJFC8uIwXP9+mbjT7MfE1Qn4PaS\n0R/oCiRt2mwdyKqETaSxYLg17SApL/YFZOhaES7ywCa+DXUSrk3ugGEzSAiCwrRl\nn1vYNK8THrfhbMEQ+ouqfs9H8hwX4FKQXjt76FLHfj7DtIE+o4IqvSKyk2xb25JC\nffiJ8cT0sX/lZu1dfeFQjVnh/OUq1na7aEHaDvtJqogsPWEKcu2tYNyn5Zj1IAkx\nI7c/qPIzjD0nEyjG/RhqBVM7HSDXnm7Q+fSrixCbOjixixTGYhzm2nYOltW6lQXt\nlvJmCel2MwlzVCrovQvsQ1q86fKq31UIfUf6wHtq37+r54CQSJL2f2/B2DkHL6+4\nJTYS7Rri+qn+mKNNedNgOVvME6tmGRZkDVfot/cYwlqt/FNJngcAY9f//xY/zta8\njHHUOulCBdQnR+5qgT8hnEGABNsVk1XX2Vzknz8sl3+utY/XUKH54eLvB17K7Oxg\n01H2n5sJJWL9WCBGIZeL\n=3sxL\n-----END PGP SIGNATURE-----\n",
          "payload": "tree a38ac315814d9f8420f9ebd1531980c406f05605\nparent c8524aeb07f370195733f610760236d22e88cb61\nauthor Lysandre Debut <hi@lysand.re> 1752668176 +0200\ncommitter GitHub <noreply@github.com> 1752668176 +0200\n\nResponses API in `transformers serve` (#39155)\n\n* Scaffolding\n\n* Explicit content\n\n* Na\u00efve Responses API streaming implementation\n\n* Cleanup\n\n* Responses API (to be merged into #39155) (#39338)\n\n* Scaffolding\n\n* Explicit content\n\n* Na\u00efve Responses API streaming implementation\n\n* Cleanup\n\n* use openai\n\n* validate request, including detecting unused fields\n\n* dict indexing\n\n* dict var access\n\n* tmp commit (tests failing)\n\n* add slow\n\n* use oai output type in completions\n\n* (little rebase errors)\n\n* working spec?\n\n* guard type hint\n\n* type hints. fix state (CB can now load different models)\n\n* type hints; fn names; error type\n\n* add docstrings\n\n* responses + kv cache\n\n* metadata support; fix kv cache; error event\n\n* add output_index and content_index\n\n* docstrings\n\n* add test_build_response_event\n\n* docs/comments\n\n* gate test requirements; terminate cb manager on model switch\n\n* nasty type hints\n\n* more type hints\n\n* disable validation by default; enable force models\n\n* todo\n\n---------\n\nCo-authored-by: Lysandre <hi@lysand.re>\n\n* Slight bugfixes\n\n* PR comments from #39338\n\n* make fixup\n\n---------\n\nCo-authored-by: Joao Gante <joaofranciscocardosogante@gmail.com>\nCo-authored-by: Joao Gante <joao@huggingface.co>",
          "verified_at": "2025-07-16T12:16:17Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/de5ca373acefc3c5cfc99aa697e7a073f7a2de23",
      "html_url": "https://github.com/huggingface/transformers/commit/de5ca373acefc3c5cfc99aa697e7a073f7a2de23",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/de5ca373acefc3c5cfc99aa697e7a073f7a2de23/comments",
      "author": {
        "login": "LysandreJik",
        "id": 30755778,
        "node_id": "MDQ6VXNlcjMwNzU1Nzc4",
        "avatar_url": "https://avatars.githubusercontent.com/u/30755778?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/LysandreJik",
        "html_url": "https://github.com/LysandreJik",
        "followers_url": "https://api.github.com/users/LysandreJik/followers",
        "following_url": "https://api.github.com/users/LysandreJik/following{/other_user}",
        "gists_url": "https://api.github.com/users/LysandreJik/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/LysandreJik/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/LysandreJik/subscriptions",
        "organizations_url": "https://api.github.com/users/LysandreJik/orgs",
        "repos_url": "https://api.github.com/users/LysandreJik/repos",
        "events_url": "https://api.github.com/users/LysandreJik/events{/privacy}",
        "received_events_url": "https://api.github.com/users/LysandreJik/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "c8524aeb07f370195733f610760236d22e88cb61",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/c8524aeb07f370195733f610760236d22e88cb61",
          "html_url": "https://github.com/huggingface/transformers/commit/c8524aeb07f370195733f610760236d22e88cb61"
        }
      ]
    },
    {
      "sha": "c8524aeb07f370195733f610760236d22e88cb61",
      "node_id": "C_kwDOCUB6odoAKGM4NTI0YWViMDdmMzcwMTk1NzMzZjYxMDc2MDIzNmQyMmU4OGNiNjE",
      "commit": {
        "author": {
          "name": "Raushan Turganbay",
          "email": "raushan@huggingface.co",
          "date": "2025-07-16T12:00:17Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T12:00:17Z"
        },
        "message": "[cache] make all classes cache compatible finally (#38635)\n\n* dump\n\n* push other models\n\n* fix simple greedy generation\n\n* xmod\n\n* add fmst and clean up some mentions of old cache format\n\n* gpt-bigcode now follows standards\n\n* delete tuple cache reference in generation\n\n* fix some models\n\n* fix some models\n\n* fix mambas and support cache in tapas\n\n* fix some more tests\n\n* fix copies\n\n* delete `_reorder_cache`\n\n* another fix copies\n\n* fix typos and delete unnecessary test\n\n* fix rag generate, needs special cache reordering\n\n* fix tapas and superglue\n\n* reformer create special cache\n\n* recurrent gemma `reorder_cache` was a no-op, delete\n\n* fix-copies\n\n* fix blio and musicgen pipeline tests\n\n* fix reformer\n\n* fix reformer, again...\n\n* delete `_supports_cache_class`\n\n* delete `supports_quantized_cache`\n\n* fix failing tests\n\n* fix copies\n\n* some minor clean up\n\n* style\n\n* style\n\n* fix copies\n\n* fix tests\n\n* fix copies\n\n* create causal mask now needs positions?\n\n* fixc copies\n\n* style\n\n* Update tests/test_modeling_common.py\n\nCo-authored-by: Joao Gante <joaofranciscocardosogante@gmail.com>\n\n* clean-up of non-generative model after merging main\n\n* check `is_decoder` for cache\n\n* delete transpose for scores\n\n* remove tuple cache from docs everywhere\n\n* fix tests\n\n* fix copies\n\n* fix copies once more\n\n* properly deprecate `encoder_attention_mask` in Bert-like models\n\n* import `deprecate_kwarg` where needed\n\n* fix copies again\n\n* fix copies\n\n* delete `nex_decoder_cache`\n\n* fix copies asks to update for PLM\n\n* fix copies\n\n* rebasing had a few new models, fix them and merge asap!\n\n* fix copies once more\n\n* fix slow tests\n\n* fix tests and updare PLM checkpoint\n\n* add read token and revert accidentally removed line\n\n* oh com -on, style\n\n* just skip it, read token has no access to PLM yet\n\n---------\n\nCo-authored-by: Joao Gante <joaofranciscocardosogante@gmail.com>",
        "tree": {
          "sha": "bc277179ee5b2f3090d469f4bc5b1cff3c900c7a",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/bc277179ee5b2f3090d469f4bc5b1cff3c900c7a"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/c8524aeb07f370195733f610760236d22e88cb61",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod5RRCRC1aQ7uu5UhlAAA09MQAJtuY0WcVPlPzW1Kqgmy0nu5\nQwahrKJzrFVlzfUy/GO4fD3DlqzKYyQO9QX9iLelHoA24WOONB4IOBKIoGqgEM9e\nQAi2QbV5ZZCZmXkPiERqQi3fDinoPGMir7tBOdlIwmnCvd3Y9my5tWwscY0Bz10f\nQLkOfeJqaU49lZl8RUmx6UxUMkYQ5aqaRJcZN5jJgkfEAntCYdE9peJ/+8uAeaHV\na2lU277OSkL+36FQGh8w/DNqbMlTlbvdVbL2FWC4p2ouXbqGQQLk7NQ2Pz7vOyQO\nYiiXrmV98fpbufLOjr8/YAr6N6hxDCDTnUJ8EcpdelnhFOS9uUa1t/wl5zX9Sc0P\nPMhe5CllqZTNsq4zrIYrODw+qMvRO5rmNgIlXP9EQ+PR7dvqUHr3rLbl8fD1jTV3\nNCciBY+36ZAB06gImD2Y5x1K/pGKxo7m1UQeS9Dr5E22KePYx8CrwzyJfPeEEVss\nMwFmC2gy2oRwseVslHFhj87kl33HfADXVBUq1K4casWl+vZqbThEMZ5WJ0Iqa6pM\nGznb/M9+PK69ZZZx3AYpchPTSzN9107EO8jWXxlFfBFWo1Mpz43IWZwZophSV36F\nN8K9Z2nYWG7ZAfDqIa9maWeiaMjg/tawUnDhYHXLMfUUiJbVbdnBwGo7l6AF9i2k\n/zpt8i2F6Iq9SjJ2sj7b\n=mbbi\n-----END PGP SIGNATURE-----\n",
          "payload": "tree bc277179ee5b2f3090d469f4bc5b1cff3c900c7a\nparent 6cb43defd084586df707fb85f6ab72bc800212ad\nauthor Raushan Turganbay <raushan@huggingface.co> 1752667217 +0500\ncommitter GitHub <noreply@github.com> 1752667217 +0200\n\n[cache] make all classes cache compatible finally (#38635)\n\n* dump\n\n* push other models\n\n* fix simple greedy generation\n\n* xmod\n\n* add fmst and clean up some mentions of old cache format\n\n* gpt-bigcode now follows standards\n\n* delete tuple cache reference in generation\n\n* fix some models\n\n* fix some models\n\n* fix mambas and support cache in tapas\n\n* fix some more tests\n\n* fix copies\n\n* delete `_reorder_cache`\n\n* another fix copies\n\n* fix typos and delete unnecessary test\n\n* fix rag generate, needs special cache reordering\n\n* fix tapas and superglue\n\n* reformer create special cache\n\n* recurrent gemma `reorder_cache` was a no-op, delete\n\n* fix-copies\n\n* fix blio and musicgen pipeline tests\n\n* fix reformer\n\n* fix reformer, again...\n\n* delete `_supports_cache_class`\n\n* delete `supports_quantized_cache`\n\n* fix failing tests\n\n* fix copies\n\n* some minor clean up\n\n* style\n\n* style\n\n* fix copies\n\n* fix tests\n\n* fix copies\n\n* create causal mask now needs positions?\n\n* fixc copies\n\n* style\n\n* Update tests/test_modeling_common.py\n\nCo-authored-by: Joao Gante <joaofranciscocardosogante@gmail.com>\n\n* clean-up of non-generative model after merging main\n\n* check `is_decoder` for cache\n\n* delete transpose for scores\n\n* remove tuple cache from docs everywhere\n\n* fix tests\n\n* fix copies\n\n* fix copies once more\n\n* properly deprecate `encoder_attention_mask` in Bert-like models\n\n* import `deprecate_kwarg` where needed\n\n* fix copies again\n\n* fix copies\n\n* delete `nex_decoder_cache`\n\n* fix copies asks to update for PLM\n\n* fix copies\n\n* rebasing had a few new models, fix them and merge asap!\n\n* fix copies once more\n\n* fix slow tests\n\n* fix tests and updare PLM checkpoint\n\n* add read token and revert accidentally removed line\n\n* oh com -on, style\n\n* just skip it, read token has no access to PLM yet\n\n---------\n\nCo-authored-by: Joao Gante <joaofranciscocardosogante@gmail.com>",
          "verified_at": "2025-07-16T12:00:18Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/c8524aeb07f370195733f610760236d22e88cb61",
      "html_url": "https://github.com/huggingface/transformers/commit/c8524aeb07f370195733f610760236d22e88cb61",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/c8524aeb07f370195733f610760236d22e88cb61/comments",
      "author": {
        "login": "zucchini-nlp",
        "id": 100715397,
        "node_id": "U_kgDOBgDLhQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/100715397?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/zucchini-nlp",
        "html_url": "https://github.com/zucchini-nlp",
        "followers_url": "https://api.github.com/users/zucchini-nlp/followers",
        "following_url": "https://api.github.com/users/zucchini-nlp/following{/other_user}",
        "gists_url": "https://api.github.com/users/zucchini-nlp/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/zucchini-nlp/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zucchini-nlp/subscriptions",
        "organizations_url": "https://api.github.com/users/zucchini-nlp/orgs",
        "repos_url": "https://api.github.com/users/zucchini-nlp/repos",
        "events_url": "https://api.github.com/users/zucchini-nlp/events{/privacy}",
        "received_events_url": "https://api.github.com/users/zucchini-nlp/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "6cb43defd084586df707fb85f6ab72bc800212ad",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/6cb43defd084586df707fb85f6ab72bc800212ad",
          "html_url": "https://github.com/huggingface/transformers/commit/6cb43defd084586df707fb85f6ab72bc800212ad"
        }
      ]
    },
    {
      "sha": "6cb43defd084586df707fb85f6ab72bc800212ad",
      "node_id": "C_kwDOCUB6odoAKDZjYjQzZGVmZDA4NDU4NmRmNzA3ZmI4NWY2YWI3MmJjODAwMjEyYWQ",
      "commit": {
        "author": {
          "name": "Ilias Aarab",
          "email": "69244507+IliasAarab@users.noreply.github.com",
          "date": "2025-07-16T11:57:13Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T11:57:13Z"
        },
        "message": "docs: add missing numpy import to minimal example (#39444)\n\ndocs: add numpy import to minimal example",
        "tree": {
          "sha": "d6f2408414b1aab25f0648c887b8c1941033fac4",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/d6f2408414b1aab25f0648c887b8c1941033fac4"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/6cb43defd084586df707fb85f6ab72bc800212ad",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod5OZCRC1aQ7uu5UhlAAA4UIQADBtbOgcuRjXQjmTa0/riYd3\nXKBXpqZ+4oss6QsEA5p8Ur6Xr2FiIx78qrXVzE8zrXrlDpCk0XeVwg/D39h/uNA4\nUv5J0dXAXJHsOZ8kETA/7HmxX+4wBbY/KorKqQ3XQaA8E+8VoncLULrCnnSUTFPT\nlrXAp+zyZHTEFe/CsdfhSWle8OGQDrZ7jk+uX0rdB4XjGqHUvs6sYJCWao3lnr19\n7SQElbtj2NW5RX2kGWkIdgO3EKFy0GPI4Qm7UDUEjjZMCHEJJOaMvxw340mnszCO\nSSg99ET/rGWe25sgeHXmuuianp1QoE+z4vJQfzsNsvTprwNpwt/D+1U1ZiNcqTrA\nxQeJXngWelQWt+hxt/6ZPj2aQ4P7vyUzOkxLGdjXAVmllrPKHnDFFw8FBNFi5qer\nXZQeuoeGc9C5eKCfT+dlupSxETehz1WNrcH0PTecbe7sHaqqYPmhlOfdbF1lKf+Z\nY40hWQ5/EXnvKtlvlKm9Veqbfo/oFMsLgzsWaFH2C3T78Wy82LK5KZefUzrvj8gf\nNlW9qyi2trV3KWFZjOUb28XGA0bIrBsXzl39GSSyJlH6RtXag73ojI19o+63w23z\nuFx60nroHvv0vwcvLTWET/CJL8/0eVTjuYPZV5kGKqxpSm0eIyUvapCLzeNwifIp\nCbDTIrRdxw1HOO3kDmfA\n=5l8G\n-----END PGP SIGNATURE-----\n",
          "payload": "tree d6f2408414b1aab25f0648c887b8c1941033fac4\nparent 61163099f1b95e9f8960f6382bff4aa31db52fc9\nauthor Ilias Aarab <69244507+IliasAarab@users.noreply.github.com> 1752667033 +0200\ncommitter GitHub <noreply@github.com> 1752667033 +0000\n\ndocs: add missing numpy import to minimal example (#39444)\n\ndocs: add numpy import to minimal example",
          "verified_at": "2025-07-16T11:57:14Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/6cb43defd084586df707fb85f6ab72bc800212ad",
      "html_url": "https://github.com/huggingface/transformers/commit/6cb43defd084586df707fb85f6ab72bc800212ad",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/6cb43defd084586df707fb85f6ab72bc800212ad/comments",
      "author": {
        "login": "IliasAarab",
        "id": 69244507,
        "node_id": "MDQ6VXNlcjY5MjQ0NTA3",
        "avatar_url": "https://avatars.githubusercontent.com/u/69244507?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/IliasAarab",
        "html_url": "https://github.com/IliasAarab",
        "followers_url": "https://api.github.com/users/IliasAarab/followers",
        "following_url": "https://api.github.com/users/IliasAarab/following{/other_user}",
        "gists_url": "https://api.github.com/users/IliasAarab/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/IliasAarab/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/IliasAarab/subscriptions",
        "organizations_url": "https://api.github.com/users/IliasAarab/orgs",
        "repos_url": "https://api.github.com/users/IliasAarab/repos",
        "events_url": "https://api.github.com/users/IliasAarab/events{/privacy}",
        "received_events_url": "https://api.github.com/users/IliasAarab/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "61163099f1b95e9f8960f6382bff4aa31db52fc9",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/61163099f1b95e9f8960f6382bff4aa31db52fc9",
          "html_url": "https://github.com/huggingface/transformers/commit/61163099f1b95e9f8960f6382bff4aa31db52fc9"
        }
      ]
    },
    {
      "sha": "61163099f1b95e9f8960f6382bff4aa31db52fc9",
      "node_id": "C_kwDOCUB6odoAKDYxMTYzMDk5ZjFiOTVlOWY4OTYwZjYzODJiZmY0YWEzMWRiNTJmYzk",
      "commit": {
        "author": {
          "name": "Yuanyuan Chen",
          "email": "cyyever@outlook.com",
          "date": "2025-07-16T11:36:48Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T11:36:48Z"
        },
        "message": "Remove runtime conditions for type checking (#37340)\n\nRemove dynamic conditions for type checking\n\nSigned-off-by: cyy <cyyever@outlook.com>\nCo-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>",
        "tree": {
          "sha": "ef86ff14d9db3bc346b892cfb6de17e8b89930ae",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/ef86ff14d9db3bc346b892cfb6de17e8b89930ae"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/61163099f1b95e9f8960f6382bff4aa31db52fc9",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod47QCRC1aQ7uu5UhlAAAjrQQAG9gvv+zxMf2akAiQloVpLtL\nGcZX+uXtHCkSpbmWwiqPPqDB0ByPF7RR9EQ+wb30ENwJ88GblmCx37KDHCPh1YAZ\nhT1q+Pc8Y99uXpPoQD4d3lH16yyr/aXTASDQ3Y6XdPtxmjsggDPQ9OxoQwd79ue+\njE+1AKCOhhVKEvn4Ceyd6Ee1r2ctRrwCbaqoXdslOGWn1vIdYq1/kJvj0+CuX5dp\n7UdnLZOY0X3n5ZvBjJN0DzZeHsU5i/ihSv/Rpj71fZRbOeSQYlPE8MN1cBlKvukx\nNgM6nUmkCthgQyrxC2OMTLspzh/RO1nUiK0AUQxoFAhHaWb3DvDPAUMoORYV92sY\nBxXENesbh6Spn2iEn29H/rIxPJSIiRyE7eB0omUU9IfiDAup5c6oyZJonKUGBvxb\nHJPzcMfeg+/NC4fiTaunHzQwxVML3OEzrVCZmQAOYNxBWlS5qr9+McpInGtPkHuY\nxKFaWANiYtEzuK6Q4mN4zGe9cWgNmo9Bs0Y1G4yGaPNFs/dmGpr5Qa21tWOu+i4H\nArAvf6nxOZHRZbuMqhJJwK2oQ/9pF3w3bb2I7dlj/b4U7eihiAssYBB3J/u6G0R8\nKYcNJOMbqclpd1nr9kpm9XKAtsX9KpuFvkAn3F5LbGWeInbGcqPwbXrFJX3M8vnl\n9xQKOvV1Ej028vEHAfVl\n=1vNY\n-----END PGP SIGNATURE-----\n",
          "payload": "tree ef86ff14d9db3bc346b892cfb6de17e8b89930ae\nparent bfc9ddf5c6243c8f8a9615051436a70078f73943\nauthor Yuanyuan Chen <cyyever@outlook.com> 1752665808 +0800\ncommitter GitHub <noreply@github.com> 1752665808 +0200\n\nRemove runtime conditions for type checking (#37340)\n\nRemove dynamic conditions for type checking\n\nSigned-off-by: cyy <cyyever@outlook.com>\nCo-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>",
          "verified_at": "2025-07-16T11:36:48Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/61163099f1b95e9f8960f6382bff4aa31db52fc9",
      "html_url": "https://github.com/huggingface/transformers/commit/61163099f1b95e9f8960f6382bff4aa31db52fc9",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/61163099f1b95e9f8960f6382bff4aa31db52fc9/comments",
      "author": {
        "login": "cyyever",
        "id": 17618148,
        "node_id": "MDQ6VXNlcjE3NjE4MTQ4",
        "avatar_url": "https://avatars.githubusercontent.com/u/17618148?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cyyever",
        "html_url": "https://github.com/cyyever",
        "followers_url": "https://api.github.com/users/cyyever/followers",
        "following_url": "https://api.github.com/users/cyyever/following{/other_user}",
        "gists_url": "https://api.github.com/users/cyyever/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cyyever/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cyyever/subscriptions",
        "organizations_url": "https://api.github.com/users/cyyever/orgs",
        "repos_url": "https://api.github.com/users/cyyever/repos",
        "events_url": "https://api.github.com/users/cyyever/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cyyever/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "bfc9ddf5c6243c8f8a9615051436a70078f73943",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/bfc9ddf5c6243c8f8a9615051436a70078f73943",
          "html_url": "https://github.com/huggingface/transformers/commit/bfc9ddf5c6243c8f8a9615051436a70078f73943"
        }
      ]
    },
    {
      "sha": "bfc9ddf5c6243c8f8a9615051436a70078f73943",
      "node_id": "C_kwDOCUB6odoAKGJmYzlkZGY1YzYyNDNjOGY4YTk2MTUwNTE0MzZhNzAwNzhmNzM5NDM",
      "commit": {
        "author": {
          "name": "Marc Sun",
          "email": "57196510+SunMarc@users.noreply.github.com",
          "date": "2025-07-16T11:35:53Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T11:35:53Z"
        },
        "message": "Add StableAdamW Optimizer  (#39446)\n\n* Added StableAdamW as an optimizer option for Trainer. Also wrote tests to verify its behaviour.\n\n* Fixed issue with\n\n* Added docs for StableAdamW. Also fixed a typo in schedule free optimizers\n\n---------\n\nCo-authored-by: Gautham Krithiwas <gauthamkrithiwas2003@gmail.com>",
        "tree": {
          "sha": "407a093db3bb2deb02f41bb716ac5a16d1da54bb",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/407a093db3bb2deb02f41bb716ac5a16d1da54bb"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/bfc9ddf5c6243c8f8a9615051436a70078f73943",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod46ZCRC1aQ7uu5UhlAAAhmAQAE3Y5rK5ag0WQ8p5FkiblpAJ\nhIBnAIHpaSt8BD46cJHTwpUa+Gbb738Bzaaei7t+kw9MR8XnP+b8istjhccuBQF5\nf4r/rRsCg9hdWwiNEwb9WLtBeedU1wnv9ooF1htUwn/s7uPl52oJtGyVlcGvMqab\n8jBud3euiuHfowU5ZKRHSe1mVq/Hvz+4P7Z7VfBxH0RUzWstoibk/J86GXyhoIsn\nXuM8bl78x/Eh2xRVLg771UN+BnKEVwcmSl0mrSE+R5TpcQQP1lAH0jt4ax1dHbgi\nyf8A3QhamVmqIeMaiQvhoWD57eQ9rU0yLbdrE1g1HHeC8e5kWiJvZVgiDwwjSVhY\nwRWh3os6nKQRJ8xmCmjh3AloXrBSZTvIiP0hSv67p/ygiON5x3cBEGyiakDwRnyP\nns01ZwUEcwZ27M1U7l/qnl+BLM7UXbtA2NkdwqmBc4Q5U3hEDtoTMYqCXVqivVpN\n5mELSSUzBHr3twiGYkyF1CMevjpseLJ3itTepQ5oKbDud2jB0sJLOEZxmHVstMRg\nvBkwtJclYzvPdsf+K8qka2hujLGQW1kLF2vSqm0etLmxqM7cyP9sBU9TU9zMlSbU\np580HDPkQrPGqwNTxBT8CGS3c3kHrgiPkUvTq61nY0PqkSQIOVGCHzK5C4Dt9eMR\n/S66AbW4rLnBqX+toE44\n=Cd3i\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 407a093db3bb2deb02f41bb716ac5a16d1da54bb\nparent b9ee5282464acdef0cb275bd05456af8dcfa8a62\nauthor Marc Sun <57196510+SunMarc@users.noreply.github.com> 1752665753 +0200\ncommitter GitHub <noreply@github.com> 1752665753 +0200\n\nAdd StableAdamW Optimizer  (#39446)\n\n* Added StableAdamW as an optimizer option for Trainer. Also wrote tests to verify its behaviour.\n\n* Fixed issue with\n\n* Added docs for StableAdamW. Also fixed a typo in schedule free optimizers\n\n---------\n\nCo-authored-by: Gautham Krithiwas <gauthamkrithiwas2003@gmail.com>",
          "verified_at": "2025-07-16T11:35:53Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/bfc9ddf5c6243c8f8a9615051436a70078f73943",
      "html_url": "https://github.com/huggingface/transformers/commit/bfc9ddf5c6243c8f8a9615051436a70078f73943",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/bfc9ddf5c6243c8f8a9615051436a70078f73943/comments",
      "author": {
        "login": "SunMarc",
        "id": 57196510,
        "node_id": "MDQ6VXNlcjU3MTk2NTEw",
        "avatar_url": "https://avatars.githubusercontent.com/u/57196510?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/SunMarc",
        "html_url": "https://github.com/SunMarc",
        "followers_url": "https://api.github.com/users/SunMarc/followers",
        "following_url": "https://api.github.com/users/SunMarc/following{/other_user}",
        "gists_url": "https://api.github.com/users/SunMarc/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/SunMarc/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/SunMarc/subscriptions",
        "organizations_url": "https://api.github.com/users/SunMarc/orgs",
        "repos_url": "https://api.github.com/users/SunMarc/repos",
        "events_url": "https://api.github.com/users/SunMarc/events{/privacy}",
        "received_events_url": "https://api.github.com/users/SunMarc/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "b9ee5282464acdef0cb275bd05456af8dcfa8a62",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/b9ee5282464acdef0cb275bd05456af8dcfa8a62",
          "html_url": "https://github.com/huggingface/transformers/commit/b9ee5282464acdef0cb275bd05456af8dcfa8a62"
        }
      ]
    },
    {
      "sha": "b9ee5282464acdef0cb275bd05456af8dcfa8a62",
      "node_id": "C_kwDOCUB6odoAKGI5ZWU1MjgyNDY0YWNkZWYwY2IyNzViZDA1NDU2YWY4ZGNmYThhNjI",
      "commit": {
        "author": {
          "name": "Pablo Montalvo",
          "email": "39954772+molbap@users.noreply.github.com",
          "date": "2025-07-16T10:45:46Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T10:45:46Z"
        },
        "message": "add test scanner (#39419)\n\n* add test scanner\n\n* add doc + license\n\n* refactor for only 1 tree traversal\n\n* add back test of only one method\n\n* document single method scan\n\n* format\n\n* fixup generate tests\n\n* minor fix\n\n* fixup\n\n* fixup doc",
        "tree": {
          "sha": "5c637d7aa2b595cdc6ef3011b6d3c54328dc4471",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/5c637d7aa2b595cdc6ef3011b6d3c54328dc4471"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/b9ee5282464acdef0cb275bd05456af8dcfa8a62",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod4LaCRC1aQ7uu5UhlAAABQ0QACt0B+seBk8dhatM4gQpOjtu\nOMEc4rbAluvh297u00ph+98Tf0vxMVqG+G8ujM1DzFsDPEH4U4qUyHAssrTDs68j\nY+W+D8ABJybKbgq7j8aGeX46FOFi4ey1SMD6mWZPuf1kSmBiswMjuEbrwBI/bGDy\nnk0daaKHK2MTaxUPKsO76q2IB0+x0TKKMRR/ErZ37ZSkak6L0WkuE7Ta342B/4wE\nlUTCUrDp8V4WeioTxApjwDxRd6zsW9A+/33rylCa/0nHvta3guLY9EBH6bhqRQwi\nKJrSK8GLN68Os8jYc5YC0v2eXxLCc/JyhfBzWvsXrHzPcbCE42DUHcH0O+mbTt/P\nQ1V7UFAvi3qQRX7clUYaoxUtrmyaFXlDgHeim4W+/1STnRJs9KMIbDikcnZMRj5A\nVmo76b6GYTGSO4OJcPQHt4R8U+z9f7a/7NEEr+3Fd5cqS0WiNXMOsNYqgWNN0nn6\npQNLmsPHjVL57yr5vY2kNhddZCPybYBlQ3yMErTZmDB95Q0Jb7fFbDe/hIK5Tb0X\n0rYQSIMmYQRZMvBp+WqxoknhGIw7pAQXLkmrk4E+LQ0OPZ407zNy3TjoyCQ+x2r9\nzqO5Q2SZZBcvDdL0542tXsXSfdMwa2085IGJ+QGZh3g29sA9CyE9NUN7VcH/fdll\n/D5ejaX7WHhfIG64GiGJ\n=o8CH\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 5c637d7aa2b595cdc6ef3011b6d3c54328dc4471\nparent 79941c61ce754ac2b0e5c74f25c08af4afaef6ed\nauthor Pablo Montalvo <39954772+molbap@users.noreply.github.com> 1752662746 +0200\ncommitter GitHub <noreply@github.com> 1752662746 +0200\n\nadd test scanner (#39419)\n\n* add test scanner\n\n* add doc + license\n\n* refactor for only 1 tree traversal\n\n* add back test of only one method\n\n* document single method scan\n\n* format\n\n* fixup generate tests\n\n* minor fix\n\n* fixup\n\n* fixup doc",
          "verified_at": "2025-07-16T10:45:47Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/b9ee5282464acdef0cb275bd05456af8dcfa8a62",
      "html_url": "https://github.com/huggingface/transformers/commit/b9ee5282464acdef0cb275bd05456af8dcfa8a62",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/b9ee5282464acdef0cb275bd05456af8dcfa8a62/comments",
      "author": {
        "login": "molbap",
        "id": 39954772,
        "node_id": "MDQ6VXNlcjM5OTU0Nzcy",
        "avatar_url": "https://avatars.githubusercontent.com/u/39954772?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/molbap",
        "html_url": "https://github.com/molbap",
        "followers_url": "https://api.github.com/users/molbap/followers",
        "following_url": "https://api.github.com/users/molbap/following{/other_user}",
        "gists_url": "https://api.github.com/users/molbap/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/molbap/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/molbap/subscriptions",
        "organizations_url": "https://api.github.com/users/molbap/orgs",
        "repos_url": "https://api.github.com/users/molbap/repos",
        "events_url": "https://api.github.com/users/molbap/events{/privacy}",
        "received_events_url": "https://api.github.com/users/molbap/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "79941c61ce754ac2b0e5c74f25c08af4afaef6ed",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/79941c61ce754ac2b0e5c74f25c08af4afaef6ed",
          "html_url": "https://github.com/huggingface/transformers/commit/79941c61ce754ac2b0e5c74f25c08af4afaef6ed"
        }
      ]
    },
    {
      "sha": "79941c61ce754ac2b0e5c74f25c08af4afaef6ed",
      "node_id": "C_kwDOCUB6odoAKDc5OTQxYzYxY2U3NTRhYzJiMGU1Yzc0ZjI1YzA4YWY0YWZhZWY2ZWQ",
      "commit": {
        "author": {
          "name": "\u00c1kos Hadnagy",
          "email": "akos@ahadnagy.com",
          "date": "2025-07-16T10:09:18Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T10:09:18Z"
        },
        "message": "Fix missing definition of diff_file_url in notification service (#39445)\n\nFix missing definition of diff_file_url",
        "tree": {
          "sha": "0c90f164687f8490462252cc64c75b3f727bb46f",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/0c90f164687f8490462252cc64c75b3f727bb46f"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/79941c61ce754ac2b0e5c74f25c08af4afaef6ed",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod3pOCRC1aQ7uu5UhlAAA3FIQAJHg44nxVHhMtVRwhkvddaI6\nUflUYj59dYva2RkUaR/3vHTqRQ4NOIRIFlaaPvr+q/mNTgGipnUR6tjENPM/vu8P\nQtbSO01g4avpMJn+cjgJal7strn+vEG20P3sA1vFE0M18kZxuwT5ssOFacgFTkYE\nGlOfcJJj83zuZQOHvuPBXfJ75dnNzXz0XgxkF4XXkqIdW9rYR0Iblxw7BgMDXmok\nMyL+nX83DZy9q8QStqIEJzJr9LWgL70O3G/cIGkR187WVL2lQKf0onPoO7EEvf/7\nSOgC2I6qeo+BNPDQ/tBCIh4DktoBF5KWdLPgFpRHJk8uvOzcUYY9lHONG1p7oa9Y\nxQthXSufw/5AlIJcqi9i/0Gb0WM0lL2uESnutDIjfnyQ/b/NLLqLxhsiFat25D5r\nPUD4OnbErUo3h0s/0Kvemugxfu0/2vexjgjisw98P1L1MxNXTpoRnRN2yqw29ge6\nzVAhCFyJ24uQVm/Ca8DwYZqSWrxUXwlvJVe9+HxjcNqs8b5YuSDzR19nk2bzmvty\nG/s8rZw7obChmhcCMliBJxiwT0XxWlnPJO4oiVRpg9WqQpYQwSAoP9lwFVWcw1A2\n43D29a1uBbNTn9ltvkF5qkom+O8BP2qoCz4YC4QRZULHHy8Floam4LJ6xsDb3xl5\nQQ6Z27suLfyxN4otr6qd\n=krys\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 0c90f164687f8490462252cc64c75b3f727bb46f\nparent e048d48bd0f87a0331020f55966e715faf0671d4\nauthor \u00c1kos Hadnagy <akos@ahadnagy.com> 1752660558 +0200\ncommitter GitHub <noreply@github.com> 1752660558 +0200\n\nFix missing definition of diff_file_url in notification service (#39445)\n\nFix missing definition of diff_file_url",
          "verified_at": "2025-07-16T10:09:19Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/79941c61ce754ac2b0e5c74f25c08af4afaef6ed",
      "html_url": "https://github.com/huggingface/transformers/commit/79941c61ce754ac2b0e5c74f25c08af4afaef6ed",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/79941c61ce754ac2b0e5c74f25c08af4afaef6ed/comments",
      "author": {
        "login": "ahadnagy",
        "id": 21314428,
        "node_id": "MDQ6VXNlcjIxMzE0NDI4",
        "avatar_url": "https://avatars.githubusercontent.com/u/21314428?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/ahadnagy",
        "html_url": "https://github.com/ahadnagy",
        "followers_url": "https://api.github.com/users/ahadnagy/followers",
        "following_url": "https://api.github.com/users/ahadnagy/following{/other_user}",
        "gists_url": "https://api.github.com/users/ahadnagy/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/ahadnagy/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ahadnagy/subscriptions",
        "organizations_url": "https://api.github.com/users/ahadnagy/orgs",
        "repos_url": "https://api.github.com/users/ahadnagy/repos",
        "events_url": "https://api.github.com/users/ahadnagy/events{/privacy}",
        "received_events_url": "https://api.github.com/users/ahadnagy/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "e048d48bd0f87a0331020f55966e715faf0671d4",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/e048d48bd0f87a0331020f55966e715faf0671d4",
          "html_url": "https://github.com/huggingface/transformers/commit/e048d48bd0f87a0331020f55966e715faf0671d4"
        }
      ]
    },
    {
      "sha": "e048d48bd0f87a0331020f55966e715faf0671d4",
      "node_id": "C_kwDOCUB6odoAKGUwNDhkNDhiZDBmODdhMDMzMTAyMGY1NTk2NmU3MTVmYWYwNjcxZDQ",
      "commit": {
        "author": {
          "name": "richardodliu",
          "email": "richardodliu@gmail.com",
          "date": "2025-07-16T10:01:08Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T10:01:08Z"
        },
        "message": "Add\u00a0cosine_with_min_lr_schedule_with_warmup_lr_rate\u00a0scheduler in Trainer (#31870)\n\n* add\u00a0cosine_with_min_lr_schedule_with_warmup_lr_rate\u00a0scheduler in trainer\n\n* Update src/transformers/optimization.py\n\nCo-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>\n\n* Update optimization.py\n\nfix the error of the unclosed \"(\"\n\n* Update optimization.py\n\nremove whitespace in line 402 in order to pass the quality test\n\n* Update src/transformers/optimization.py\n\n* Update src/transformers/optimization.py\n\n* Apply style fixes\n\n---------\n\nCo-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>\nCo-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>\nCo-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>\nCo-authored-by: Marc Sun <57196510+SunMarc@users.noreply.github.com>",
        "tree": {
          "sha": "cee5d866371017e02192062b9199a383f89bc4bf",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/cee5d866371017e02192062b9199a383f89bc4bf"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/e048d48bd0f87a0331020f55966e715faf0671d4",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod3hkCRC1aQ7uu5UhlAAA8uIQAHiphBh7FNUIsldu6ruL9p2C\nJ0Q3QTtIKVA/whwn0ob4tM2YLkOZ6b6Acr4kQV61jhqcY9ib8Uol12G0sE+ckiTZ\nBZEyaLHNU7NzFR54xvLM3V5sUFK4UG4t7hXB+eLgHh4UVrg3xKiAlcUdCwBz5eYd\n9YCffvdP8I5Ot1oWI+O8mRxzpZpKFW7wHxjNWyEQKSwvJ32+0JD4b4RL3bEbyyqm\nY1JCju9R2yLhK3D58vHu056Vh5n/1qmu3mZyphyCvRaLuTwbgtjcgI5xLScXShoM\nZdmCq9jxpR5oeGi67hqLWHxovkU1TRVdNY3rydiptT2RUJBf+WZhEx2BGGckZeIJ\nKrL5H42bXwCFdBqu8OT5OJYYns3tWFZ1pdyDVhfRAJ/lu1cLTKWevWnQ9rIm/m9m\nyrh6GlHf9cKX4sBLouBgCI4a5ODnk3+oXtXkDC+g8cZ1vO7h1K983oJvFZBtrm5l\nbOYpGQ9SCQtmrxgDVmH4YqC+T+CHStoOYWxjTeaJ4YrBOCNStjgAgqpBm4+LM+Zq\ncUHuwVy9Iy/EA/PujtoEVpaE9BPJMAOXjZokDSEN5MCr2voPwlo0pc1c/rXcng+0\nLkfjlK4S44QWf0cr3pQ0V4OJvTHAhYuotK0A/xKq0AU6SbxtPczs1IHfBF0rBXdT\njXXJy8kkoNXlQF+nLSuf\n=rTei\n-----END PGP SIGNATURE-----\n",
          "payload": "tree cee5d866371017e02192062b9199a383f89bc4bf\nparent 0cf08e90ddf4433a2f7d29053628a61607c2dc01\nauthor richardodliu <richardodliu@gmail.com> 1752660068 +0800\ncommitter GitHub <noreply@github.com> 1752660068 +0200\n\nAdd\u00a0cosine_with_min_lr_schedule_with_warmup_lr_rate\u00a0scheduler in Trainer (#31870)\n\n* add\u00a0cosine_with_min_lr_schedule_with_warmup_lr_rate\u00a0scheduler in trainer\n\n* Update src/transformers/optimization.py\n\nCo-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>\n\n* Update optimization.py\n\nfix the error of the unclosed \"(\"\n\n* Update optimization.py\n\nremove whitespace in line 402 in order to pass the quality test\n\n* Update src/transformers/optimization.py\n\n* Update src/transformers/optimization.py\n\n* Apply style fixes\n\n---------\n\nCo-authored-by: amyeroberts <22614925+amyeroberts@users.noreply.github.com>\nCo-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>\nCo-authored-by: github-actions[bot] <github-actions[bot]@users.noreply.github.com>\nCo-authored-by: Marc Sun <57196510+SunMarc@users.noreply.github.com>",
          "verified_at": "2025-07-16T10:01:09Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/e048d48bd0f87a0331020f55966e715faf0671d4",
      "html_url": "https://github.com/huggingface/transformers/commit/e048d48bd0f87a0331020f55966e715faf0671d4",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/e048d48bd0f87a0331020f55966e715faf0671d4/comments",
      "author": {
        "login": "richardodliu",
        "id": 39219513,
        "node_id": "MDQ6VXNlcjM5MjE5NTEz",
        "avatar_url": "https://avatars.githubusercontent.com/u/39219513?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/richardodliu",
        "html_url": "https://github.com/richardodliu",
        "followers_url": "https://api.github.com/users/richardodliu/followers",
        "following_url": "https://api.github.com/users/richardodliu/following{/other_user}",
        "gists_url": "https://api.github.com/users/richardodliu/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/richardodliu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/richardodliu/subscriptions",
        "organizations_url": "https://api.github.com/users/richardodliu/orgs",
        "repos_url": "https://api.github.com/users/richardodliu/repos",
        "events_url": "https://api.github.com/users/richardodliu/events{/privacy}",
        "received_events_url": "https://api.github.com/users/richardodliu/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "0cf08e90ddf4433a2f7d29053628a61607c2dc01",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/0cf08e90ddf4433a2f7d29053628a61607c2dc01",
          "html_url": "https://github.com/huggingface/transformers/commit/0cf08e90ddf4433a2f7d29053628a61607c2dc01"
        }
      ]
    },
    {
      "sha": "0cf08e90ddf4433a2f7d29053628a61607c2dc01",
      "node_id": "C_kwDOCUB6odoAKDBjZjA4ZTkwZGRmNDQzM2EyZjdkMjkwNTM2MjhhNjE2MDdjMmRjMDE",
      "commit": {
        "author": {
          "name": "Quentin Gallou\u00e9dec",
          "email": "45557362+qgallouedec@users.noreply.github.com",
          "date": "2025-07-16T09:54:20Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T09:54:20Z"
        },
        "message": "Change log level from warning to info for scheduled request logging in `ContinuousBatchProcessor` (#39372)\n\nChange log level from warning to info for scheduled request logging in ContinuousBatchProcessor",
        "tree": {
          "sha": "304bc63b695ed204b469ee4e51e69c66dee68ffb",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/304bc63b695ed204b469ee4e51e69c66dee68ffb"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/0cf08e90ddf4433a2f7d29053628a61607c2dc01",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod3bMCRC1aQ7uu5UhlAAAeRcQAJUjGv++3uvVLFMK/KYWnPR1\notuCyDivPK2XulwLYffZFU6VunJGVT8XLTorjOp/3tdupkkSK2TwITyIZxqiP2J9\nEc2EApSV7arkrn18F9hqS4AJJXVDBZGmbhwLQt5YnOD0sO9ldCFoMEK/R9fTOLj7\nTJAHdfn3LE7uDGcrpCB1M4IGt4yPKtXYO+77nDN0EtJQsOej5jP9QP75XOm6rRrM\nO3C6GvKzcBjmqORCqTxlPhcp3HyX9c1pjoEEnv2CNf3jMCo9AcXgHLHEjmFTIDje\nC4EQ3HgeCCwqMleezoX54Km1RY6YnE1cAJrsW7VVKlPrMq2UMEp2cEPjehRGykaP\n9/aMa3+QbEtNZhZjDjysm2PJWWstNleyYGWvwK7t/7cPGx/927d7GQiOP1iNOra7\ncfz2OvEHo5uz/MdGvjByqEcll8P7jBK9APKFW3O/l/KBB0qNtlvutjVGY0Upu0KA\niwNkU1SlXv8kYpjIwZSfTaVDvxtVmEpK8KA6pHZ6kyj5FTF/tvFgY2oDvEGhpG37\naXIcW/ExlfZzn1Vqkx6XFTmGFip4iYEYAPOb93PLfMxrf5OSh8Jt+Al3qBEkvJiN\nqlHtE6ZSP3u74MM3A4KdMjcABgV+qUizCLuTf5wRjR8qHW3tkmdS3N3Y42gFdERn\n2o3Jb9YD4qTfo6RKcGgv\n=gbdL\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 304bc63b695ed204b469ee4e51e69c66dee68ffb\nparent ae4e306a4073f72f4ad0c44aaa4c273006ef5ebe\nauthor Quentin Gallou\u00e9dec <45557362+qgallouedec@users.noreply.github.com> 1752659660 -0700\ncommitter GitHub <noreply@github.com> 1752659660 +0200\n\nChange log level from warning to info for scheduled request logging in `ContinuousBatchProcessor` (#39372)\n\nChange log level from warning to info for scheduled request logging in ContinuousBatchProcessor",
          "verified_at": "2025-07-16T09:54:21Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/0cf08e90ddf4433a2f7d29053628a61607c2dc01",
      "html_url": "https://github.com/huggingface/transformers/commit/0cf08e90ddf4433a2f7d29053628a61607c2dc01",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/0cf08e90ddf4433a2f7d29053628a61607c2dc01/comments",
      "author": {
        "login": "qgallouedec",
        "id": 45557362,
        "node_id": "MDQ6VXNlcjQ1NTU3MzYy",
        "avatar_url": "https://avatars.githubusercontent.com/u/45557362?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/qgallouedec",
        "html_url": "https://github.com/qgallouedec",
        "followers_url": "https://api.github.com/users/qgallouedec/followers",
        "following_url": "https://api.github.com/users/qgallouedec/following{/other_user}",
        "gists_url": "https://api.github.com/users/qgallouedec/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/qgallouedec/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/qgallouedec/subscriptions",
        "organizations_url": "https://api.github.com/users/qgallouedec/orgs",
        "repos_url": "https://api.github.com/users/qgallouedec/repos",
        "events_url": "https://api.github.com/users/qgallouedec/events{/privacy}",
        "received_events_url": "https://api.github.com/users/qgallouedec/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "ae4e306a4073f72f4ad0c44aaa4c273006ef5ebe",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/ae4e306a4073f72f4ad0c44aaa4c273006ef5ebe",
          "html_url": "https://github.com/huggingface/transformers/commit/ae4e306a4073f72f4ad0c44aaa4c273006ef5ebe"
        }
      ]
    },
    {
      "sha": "ae4e306a4073f72f4ad0c44aaa4c273006ef5ebe",
      "node_id": "C_kwDOCUB6odoAKGFlNGUzMDZhNDA3M2Y3MmY0YWQwYzQ0YWFhNGMyNzMwMDZlZjVlYmU",
      "commit": {
        "author": {
          "name": "Yuanyuan Chen",
          "email": "cyyever@outlook.com",
          "date": "2025-07-16T09:52:33Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T09:52:33Z"
        },
        "message": "Defaults to adamw_torch_fused for  Pytorch>=2.8 (#37358)\n\n* Defaults to adamw_torch_fused for latest Pytorch\n\nSigned-off-by: cyy <cyyever@outlook.com>\n\n* Fix test\n\nSigned-off-by: cyy <cyyever@outlook.com>\n\n---------\n\nSigned-off-by: cyy <cyyever@outlook.com>",
        "tree": {
          "sha": "8313d1a9075482740d1a53d467ce2743c5f9f65a",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/8313d1a9075482740d1a53d467ce2743c5f9f65a"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/ae4e306a4073f72f4ad0c44aaa4c273006ef5ebe",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod3ZhCRC1aQ7uu5UhlAAA8L0QAJXaIJ80m6v4f9aWx07O6Qe3\n+eSUgZVaWFwB3nVt4je2JV75osqYceGiU2qbvT81xCc1VjRvpM9se6us/sYE5iBX\nmtbLd8ShvE/yLHmXdkNNob0Rgq9AIDWe3YdDaQLS0T3ZGJcH360TVD/ERvq7AncI\nTiJxHAems4nsbDimehucVhbZdOk72ZTe3ve8G7n9KCzv6z7zr8/cvbpCRqbtMpyO\nmdm+RnqlFc6t3HVd6sjsa25lUgJxOXaD1Ic5p770JO/REYwCIFCtiFqUouKpEzov\n8RdfNxpCEcfzq4gCMBJqmotqtxtszyvu2AI04EyFSSm3GmWnJc9JTuoVz/hGjCXS\nW4oPtjDVFQREoNBI37m8mD8TKeJFcWg+ptuB/ZAbXS5C4FMOcge+BQymz2hRr3HB\nwVPlykQhPkudthtZnEWERBVOgR7BTuogdxZTD+Ox6IO3p64T57xz4oEBX29FKQ15\nHClngbKM9U+CtKu6eL8tDqSmBXmoVvRMVG72N/cDLYpjGLhPEyR1d8/VuM6wy8o4\nV27jimDdIEgnKLMqrPnGSgPS2hkMCrlHevUhG1ZNtrS+G7xVIT+KhA1vtIv7EeUH\ndXYBx1wj8pu72F5mQLltG+X77SnGXxPcuKVq9v/JYxF3c50GEfyKvwA0d0H/1N1u\nIj6WI+b8i+7bgGtltheb\n=9YTT\n-----END PGP SIGNATURE-----\n",
          "payload": "tree 8313d1a9075482740d1a53d467ce2743c5f9f65a\nparent 4524a68c66db404e9dd999931eb687903f63a66d\nauthor Yuanyuan Chen <cyyever@outlook.com> 1752659553 +0800\ncommitter GitHub <noreply@github.com> 1752659553 +0000\n\nDefaults to adamw_torch_fused for  Pytorch>=2.8 (#37358)\n\n* Defaults to adamw_torch_fused for latest Pytorch\n\nSigned-off-by: cyy <cyyever@outlook.com>\n\n* Fix test\n\nSigned-off-by: cyy <cyyever@outlook.com>\n\n---------\n\nSigned-off-by: cyy <cyyever@outlook.com>",
          "verified_at": "2025-07-16T09:52:34Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/ae4e306a4073f72f4ad0c44aaa4c273006ef5ebe",
      "html_url": "https://github.com/huggingface/transformers/commit/ae4e306a4073f72f4ad0c44aaa4c273006ef5ebe",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/ae4e306a4073f72f4ad0c44aaa4c273006ef5ebe/comments",
      "author": {
        "login": "cyyever",
        "id": 17618148,
        "node_id": "MDQ6VXNlcjE3NjE4MTQ4",
        "avatar_url": "https://avatars.githubusercontent.com/u/17618148?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/cyyever",
        "html_url": "https://github.com/cyyever",
        "followers_url": "https://api.github.com/users/cyyever/followers",
        "following_url": "https://api.github.com/users/cyyever/following{/other_user}",
        "gists_url": "https://api.github.com/users/cyyever/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/cyyever/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/cyyever/subscriptions",
        "organizations_url": "https://api.github.com/users/cyyever/orgs",
        "repos_url": "https://api.github.com/users/cyyever/repos",
        "events_url": "https://api.github.com/users/cyyever/events{/privacy}",
        "received_events_url": "https://api.github.com/users/cyyever/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "4524a68c66db404e9dd999931eb687903f63a66d",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/4524a68c66db404e9dd999931eb687903f63a66d",
          "html_url": "https://github.com/huggingface/transformers/commit/4524a68c66db404e9dd999931eb687903f63a66d"
        }
      ]
    },
    {
      "sha": "4524a68c66db404e9dd999931eb687903f63a66d",
      "node_id": "C_kwDOCUB6odoAKDQ1MjRhNjhjNjZkYjQwNGU5ZGQ5OTk5MzFlYjY4NzkwM2Y2M2E2NmQ",
      "commit": {
        "author": {
          "name": "Jeonghwan Kim",
          "email": "jeonghwankim123@gmail.com",
          "date": "2025-07-16T09:45:58Z"
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "date": "2025-07-16T09:45:58Z"
        },
        "message": "Fix L270 - hasattr(\"moe_args\") returning False error (#38715)\n\n* Fix L270 - hasattr(\"moe_args\") returning False error\n\n* Update src/transformers/models/llama4/convert_llama4_weights_to_hf.py\n\n---------\n\nCo-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>",
        "tree": {
          "sha": "f230c891920b04b01a87806efdd4591c9ac47279",
          "url": "https://api.github.com/repos/huggingface/transformers/git/trees/f230c891920b04b01a87806efdd4591c9ac47279"
        },
        "url": "https://api.github.com/repos/huggingface/transformers/git/commits/4524a68c66db404e9dd999931eb687903f63a66d",
        "comment_count": 0,
        "verification": {
          "verified": true,
          "reason": "valid",
          "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJod3TWCRC1aQ7uu5UhlAAAMB0QACVx2b/4lUBPUwJTuUmajtOT\nZf2dJTWfZHeQ0eKAaHhYinQGX+/2zs3oJsfDlUb43YEU7MnOdmCz/ue4p+Uu3GE5\n3V74vAq6pkARm//FW24+zRKTLNa/5n32sJ6cEZLdf1W6QfmR3uFTazY/O4lFPs0e\nX6sVGu2oR4b4390OE+76qzOGDUHpO+tCBwiFz9InC9un2erDr+HZsGxibzt/D4Zz\n1Ba9/kLaWQV2Bf2xJrbua6w9l1P/O83hDaLp67G9redu+JVbUXVjhPkM2yA4Q9oJ\nUQupao27ISySfeZwEJmOJi0SwVjGdsSr5rE5Ht6JZo1hKR+w45LC+XM349m4Sguy\nY1Ej+gGY/0CtFQgw2vOHHqbtXPgVv3PAoaMRr78R2Qz/nAtr1nAjtN1G9OTX4lhX\nZerpSH9fwbm27q39ugTUR2voGorYAbCCMu6fUCr400dbmtXiKdexT6K5oQyby76q\nLRTZuMoXUQJlVHmYQgviOfNq32eV8w6EgYcePans9wVwsa4RUBWR7tRjraNgWchM\nR8ch6lJIPtrZASMOwBB0yb9KBOzp+Bm5HVcsSQo7vBLSqDyVlM96jPo1RoGn3s9m\nzKJgOdL2Bz49PS4XwTQWX9+D4dLTzpdfHnE9c4dIuK7hOgyYDJdcxSghlTRPz+7W\nQJ8VRF1zuR/41HO5bfGk\n=qiJa\n-----END PGP SIGNATURE-----\n",
          "payload": "tree f230c891920b04b01a87806efdd4591c9ac47279\nparent d33a1c389f737a87471c64138be30bf5c59b5e8a\nauthor Jeonghwan Kim <jeonghwankim123@gmail.com> 1752659158 -0700\ncommitter GitHub <noreply@github.com> 1752659158 +0000\n\nFix L270 - hasattr(\"moe_args\") returning False error (#38715)\n\n* Fix L270 - hasattr(\"moe_args\") returning False error\n\n* Update src/transformers/models/llama4/convert_llama4_weights_to_hf.py\n\n---------\n\nCo-authored-by: Arthur <48595927+ArthurZucker@users.noreply.github.com>",
          "verified_at": "2025-07-16T09:45:59Z"
        }
      },
      "url": "https://api.github.com/repos/huggingface/transformers/commits/4524a68c66db404e9dd999931eb687903f63a66d",
      "html_url": "https://github.com/huggingface/transformers/commit/4524a68c66db404e9dd999931eb687903f63a66d",
      "comments_url": "https://api.github.com/repos/huggingface/transformers/commits/4524a68c66db404e9dd999931eb687903f63a66d/comments",
      "author": {
        "login": "wjdghks950",
        "id": 28642466,
        "node_id": "MDQ6VXNlcjI4NjQyNDY2",
        "avatar_url": "https://avatars.githubusercontent.com/u/28642466?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/wjdghks950",
        "html_url": "https://github.com/wjdghks950",
        "followers_url": "https://api.github.com/users/wjdghks950/followers",
        "following_url": "https://api.github.com/users/wjdghks950/following{/other_user}",
        "gists_url": "https://api.github.com/users/wjdghks950/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/wjdghks950/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/wjdghks950/subscriptions",
        "organizations_url": "https://api.github.com/users/wjdghks950/orgs",
        "repos_url": "https://api.github.com/users/wjdghks950/repos",
        "events_url": "https://api.github.com/users/wjdghks950/events{/privacy}",
        "received_events_url": "https://api.github.com/users/wjdghks950/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "committer": {
        "login": "web-flow",
        "id": 19864447,
        "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
        "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/web-flow",
        "html_url": "https://github.com/web-flow",
        "followers_url": "https://api.github.com/users/web-flow/followers",
        "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
        "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
        "organizations_url": "https://api.github.com/users/web-flow/orgs",
        "repos_url": "https://api.github.com/users/web-flow/repos",
        "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
        "received_events_url": "https://api.github.com/users/web-flow/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "parents": [
        {
          "sha": "d33a1c389f737a87471c64138be30bf5c59b5e8a",
          "url": "https://api.github.com/repos/huggingface/transformers/commits/d33a1c389f737a87471c64138be30bf5c59b5e8a",
          "html_url": "https://github.com/huggingface/transformers/commit/d33a1c389f737a87471c64138be30bf5c59b5e8a"
        }
      ]
    }
  ]
}